.container {
    /* Variables used in choice.module.css and choice-indicator.module.css.
       Placed here for convenience so that we don't have to maintain common values in multiple places.
    */
    --perseus-multiple-choice-spacing: var(--wb-sizing-size_160);
    --perseus-multiple-choice-indicator-font-size: var(
        --wb-font-heading-size-small
    );
    --perseus-multiple-choice-indicator-size: 3.2rem;
    /* 1.5 accounts for size of checkmark icon and its margin */
    --perseus-multiple-choice-indicator-correct-size: calc(
        calc(var(--perseus-multiple-choice-indicator-font-size) * 1.5) +
            var(--perseus-multiple-choice-indicator-size)
    );
    --perseus-multiple-choice-content-margin: calc(
        var(--perseus-multiple-choice-spacing) +
            var(--perseus-multiple-choice-indicator-size)
    );
    --perseus-multiple-choice-fade-direction: 90deg; /* Default is left to right */

    min-width: auto; /* Needed for scrollable view to work */
    padding-inline-end: var(--perseus-multiple-choice-spacing);
    /* The following transform will cause a new reference layer for its descendants,
           which we use to position the indicator and the scroll fade in a fixed place while scrolling.
     */
    transform: translateZ(0);
}

.choice-list {
    padding: 0 !important;
    list-style: none !important;
    min-width: fit-content;
    width: 100%;
    scrollbar-width: thin;
}

.choice-list:dir(rtl) {
    --perseus-multiple-choice-fade-direction: 270deg; /* Flip to right to left when in RTL mode */
}

/* FADE BARS FOR SCROLLING
   A white bar starts on the left side and stays solid until a small amount (spacing / 2) past the indicator (content margin).
   It then fades to transparent over that same small amount.
   It stays transparent until the opposite side of the container,
        where it fades back to white in the reverse order as just described.
   In review mode, the left side starts fading to transparent at a further distance to account for the checkmark icon.
   This is why --perseus-multiple-choice-content-margin is used on the left side,
        but the right side uses --perseus-multiple-choice-spacing.
   Also, in order to account for text direction, the direction is flipped when in RTL mode.
*/
.choice-list:before {
    background: linear-gradient(
        /* 90deg or 270deg */ var(--perseus-multiple-choice-fade-direction),
        /* Accounts for theme color */ var(--wb-semanticColor-surface-primary)
            calc(
                var(--perseus-multiple-choice-content-margin) +
                    (var(--perseus-multiple-choice-spacing) / 2)
            ),
        transparent
            calc(
                var(--perseus-multiple-choice-content-margin) +
                    var(--perseus-multiple-choice-spacing)
            )
            calc(100% - (var(--perseus-multiple-choice-spacing) * 1.5)),
        var(--wb-semanticColor-surface-primary)
            calc(100% - var(--perseus-multiple-choice-spacing))
    );
    content: "";
    display: block;
    height: 100%;
    position: fixed;
    width: 100%;
}

/* Mobile and tablet responsive adjustments for fade effect
   Using 768px to match the framework-perseus.perseus-mobile styling in styles.css
*/
@media (max-width: 768px) {
    .choice-list:before {
        /* Use absolute positioning on smaller screens to ensure proper containment within the scrollable container */
        position: absolute;
        /* Ensure the fade covers the full width of the container */
        left: 0;
        right: 0;
        width: auto;
        /* Adjust z-index to ensure proper layering on mobile - lower than indicator but higher than content */
        z-index: 1;
    }

    .content {
        /* Ensure content stays below the fade on mobile */
        z-index: 0;
    }
}

.content {
    display: flex;
    flex-direction: column;
    gap: calc(var(--perseus-multiple-choice-indicator-font-size) / 4);
    margin-inline-start: var(--perseus-multiple-choice-content-margin);
    position: relative; /* Needed to enable the z-index to work */
    z-index: -1; /* Ensures that the content is below the indicator and scroll fade */
}

.instructions {
    display: block;
    color: var(--wb-semanticColor-core-foreground-instructive-strong);
    font-size: 1.8rem;
    line-height: 1.25;
    font-family: inherit;
    font-style: normal;
    font-weight: bold;
    margin-block-end: var(--wb-sizing-size_160);
}

.rationale {
    display: block !important; /* Override the overly broad rule in radio.css causing all <div> and <p> tags to be inline. */
    font-size: var(--wb-font-size-medium);
    line-height: var(--wb-font-lineHeight-medium);
}

.rationale.is-correct {
    color: var(--wb-semanticColor-core-foreground-neutral-default);
}

.review-answers {
    --perseus-multiple-choice-content-margin: calc(
        var(--perseus-multiple-choice-spacing) +
            var(--perseus-multiple-choice-indicator-correct-size)
    );
}
