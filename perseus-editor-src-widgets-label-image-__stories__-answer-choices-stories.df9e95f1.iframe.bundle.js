"use strict";(self.webpackChunkperseus=self.webpackChunkperseus||[]).push([[1578],{"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{aD:()=>chunk_AY7I2SME.aD});var chunk_AY7I2SME=__webpack_require__("./node_modules/@storybook/addon-actions/dist/chunk-AY7I2SME.mjs")},"./packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EmptyNonInteractive:()=>EmptyNonInteractive,FilledNonInteractive:()=>FilledNonInteractive,Interactive:()=>Interactive,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),aphrodite__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_answer_choices__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus-editor/src/widgets/label-image/answer-choices.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__={title:"Perseus/Editor/Widgets/Label Image/Answer Choices"},styles=aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({wrapper:{width:338}}),Wrapper=props=>react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_1__.css)(styles.wrapper)},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_answer_choices__WEBPACK_IMPORTED_MODULE_3__.Z,_extends({},props,{onChange:function(){(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__.aD)("onChange")(...arguments),props.onChange(...arguments)}})));class WithState extends react__WEBPACK_IMPORTED_MODULE_2__.Component{state={choices:[]};render(){const{choices}=this.state;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(Wrapper,{choices,onChange:choices=>this.setState({choices})})}}const EmptyNonInteractive=args=>{const props={choices:[],onChange:function(){}};return react__WEBPACK_IMPORTED_MODULE_2__.createElement(Wrapper,props)},FilledNonInteractive=args=>{const props={choices:["Lamborghini","BMW","Volkswagen","Fiat","Porsche","Ferrari"],onChange:function(){}};return react__WEBPACK_IMPORTED_MODULE_2__.createElement(Wrapper,props)},Interactive=args=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(WithState,null);EmptyNonInteractive.parameters={...EmptyNonInteractive.parameters,docs:{...EmptyNonInteractive.parameters?.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => {\n  const props = ({\n    choices: [],\n    onChange: (...args) => {}\n  } as const);\n  return <Wrapper {...props} />;\n}",...EmptyNonInteractive.parameters?.docs?.source}}},FilledNonInteractive.parameters={...FilledNonInteractive.parameters,docs:{...FilledNonInteractive.parameters?.docs,source:{originalSource:'(args: StoryArgs): React.ReactElement => {\n  const props = ({\n    choices: ["Lamborghini", "BMW", "Volkswagen", "Fiat", "Porsche", "Ferrari"],\n    onChange: (...args) => {}\n  } as const);\n  return <Wrapper {...props} />;\n}',...FilledNonInteractive.parameters?.docs?.source}}},Interactive.parameters={...Interactive.parameters,docs:{...Interactive.parameters?.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => {\n  return <WithState />;\n}",...Interactive.parameters?.docs?.source}}};try{EmptyNonInteractive.displayName="EmptyNonInteractive",EmptyNonInteractive.__docgenInfo={description:"",displayName:"EmptyNonInteractive",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx#EmptyNonInteractive"]={docgenInfo:EmptyNonInteractive.__docgenInfo,name:"EmptyNonInteractive",path:"packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx#EmptyNonInteractive"})}catch(__react_docgen_typescript_loader_error){}try{FilledNonInteractive.displayName="FilledNonInteractive",FilledNonInteractive.__docgenInfo={description:"",displayName:"FilledNonInteractive",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx#FilledNonInteractive"]={docgenInfo:FilledNonInteractive.__docgenInfo,name:"FilledNonInteractive",path:"packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx#FilledNonInteractive"})}catch(__react_docgen_typescript_loader_error){}try{Interactive.displayName="Interactive",Interactive.__docgenInfo={description:"",displayName:"Interactive",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx#Interactive"]={docgenInfo:Interactive.__docgenInfo,name:"Interactive",path:"packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx#Interactive"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus-editor/src/components/form-wrapped-text-field.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus/src/index.ts"),_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}class FormWrappedTextField extends react__WEBPACK_IMPORTED_MODULE_3__.Component{state={focused:!1};handleBlur=e=>{const{onBlur}=this.props;onBlur&&onBlur(e),this.setState({focused:!1})};handleFocus=e=>{const{onFocus}=this.props;onFocus&&onFocus(e),this.setState({focused:!0})};disableDefault=e=>{e.preventDefault()};render(){const{forwardedRef,width,grow,shrink,icon,backgroundColor,focusBorderColor,borderColor,color,onSubmit,leftSideIcon,id,testId,type,labelMediumInputText,...allProps}=this.props,{focused}=this.state,extraStyles={},spanStyle=[styles.input,styles.container];width&&(extraStyles.width=width),grow&&(extraStyles.flexGrow=!0===grow?1:grow),(shrink||0===shrink)&&(extraStyles.flexShrink=!0===shrink?0:shrink),backgroundColor?extraStyles.backgroundColor=backgroundColor:spanStyle.push(styles.defaultBackground),color&&(extraStyles.color=color);const borderColorStyle=focused?focusBorderColor||_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__.default.blue:borderColor||_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__.default.offBlack16;extraStyles.border=`1px solid ${borderColorStyle}`;const wrappedIcon=icon&&react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.icon)},icon),inputBase=labelMediumInputText?styles.labelMediumInputBase:styles.inputBase;return react__WEBPACK_IMPORTED_MODULE_3__.createElement("form",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(...spanStyle),style:extraStyles,onSubmit:onSubmit||this.disableDefault},leftSideIcon&&wrappedIcon,react__WEBPACK_IMPORTED_MODULE_3__.createElement("input",_extends({},allProps,{onFocus:this.handleFocus,onBlur:this.handleBlur,type,className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(inputBase),ref:forwardedRef,id,"data-test-id":testId})),!leftSideIcon&&wrappedIcon)}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({inputBase:{background:"inherit",border:"none",..._khanacademy_perseus__WEBPACK_IMPORTED_MODULE_0__.globalStyles.typography.bodyXsmall,outline:"none","::placeholder":{color:_khanacademy_perseus__WEBPACK_IMPORTED_MODULE_0__.globalStyles.colors.gray41},width:"100%",color:"inherit",marginBottom:0,paddingLeft:0,boxShadow:"none",padding:0,margin:0},labelMediumInputBase:{background:"inherit",border:"none",outline:"none","::placeholder":{color:_khanacademy_perseus__WEBPACK_IMPORTED_MODULE_0__.globalStyles.colors.gray41},width:"100%",fontWeight:"normal",fontFamily:"Lato, san-serif",fontSize:"16px",lineHeight:"20px"},input:{height:40,borderRadius:_khanacademy_perseus__WEBPACK_IMPORTED_MODULE_0__.globalStyles.borderRadius,boxSizing:"border-box",padding:"8px 10px"},container:{display:"inline-flex",alignItems:"center",marginBottom:0},defaultBackground:{backgroundColor:_khanacademy_perseus__WEBPACK_IMPORTED_MODULE_0__.globalStyles.colors.white},icon:{display:"flex",alignItems:"center",justifyContent:"center"}}),__WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_3__.forwardRef(((props,ref)=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(FormWrappedTextField,_extends({},props,{forwardedRef:ref}))));try{formwrappedtextfield.displayName="formwrappedtextfield",formwrappedtextfield.__docgenInfo={description:"",displayName:"formwrappedtextfield",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},testId:{defaultValue:null,description:"",name:"testId",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | readonly string[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | number | readonly string[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},invalid:{defaultValue:null,description:"",name:"invalid",required:!1,type:{name:"enum",value:[{value:'"true"'},{value:'"false"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string | number"}},grow:{defaultValue:null,description:"",name:"grow",required:!1,type:{name:"number | boolean"}},shrink:{defaultValue:null,description:"",name:"shrink",required:!1,type:{name:"number | boolean"}},labelMediumInputText:{defaultValue:null,description:"",name:"labelMediumInputText",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactElement<Props, string | JSXElementConstructor<any>>"}},leftSideIcon:{defaultValue:null,description:"",name:"leftSideIcon",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},focusBorderColor:{defaultValue:null,description:"",name:"focusBorderColor",required:!1,type:{name:"string"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"((arg1: ChangeEvent<HTMLInputElement>) => unknown)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((arg1: ChangeEvent<HTMLInputElement>) => unknown)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((arg1: ChangeEvent<HTMLInputElement>) => unknown)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((arg1: ChangeEvent<HTMLInputElement>) => unknown)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((arg1: MouseEvent<HTMLInputElement, MouseEvent>) => unknown)"}},onKeyPress:{defaultValue:null,description:"",name:"onKeyPress",required:!1,type:{name:"((arg1: KeyboardEvent<HTMLInputElement>) => unknown)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((arg1: KeyboardEvent<HTMLInputElement>) => unknown)"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"",name:"aria-describedby",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus-editor/src/components/form-wrapped-text-field.tsx#formwrappedtextfield"]={docgenInfo:formwrappedtextfield.__docgenInfo,name:"formwrappedtextfield",path:"packages/perseus-editor/src/components/form-wrapped-text-field.tsx#formwrappedtextfield"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus-editor/src/widgets/label-image/answer-choices.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>answer_choices});var src=__webpack_require__("./packages/perseus/src/index.ts"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js"),form_wrapped_text_field=__webpack_require__("./packages/perseus-editor/src/components/form-wrapped-text-field.tsx");class Link extends react.Component{static defaultProps={highlighted:!1,href:"javascript:void(0)",style:[],element:"a"};render(){const{children,className,highlighted,href,inlineStyles,referrer,style,target,testId,element,...otherProps}=this.props,[hrefWithoutHash,hash]=href?href.split("#"):["javascript:void(0)"];let url=hrefWithoutHash;referrer&&(url.indexOf("?")>-1?url+="&ref="+referrer:url+="?ref="+referrer),hash&&(url+="#"+hash);const delegatedStyles=[styles.link,highlighted&&styles.highlighted];Array.isArray(style)?delegatedStyles.push(...style):delegatedStyles.push(style);const delegatedClassName=className?" "+className:"",urlProp="a"===element?{href:url}:{to:url};let rel=otherProps.rel;return"_blank"!==target||rel||(rel="noopener noreferrer"),react.createElement(element,{"data-test-id":testId,...otherProps,...urlProp,className:(0,lib.css)(...delegatedStyles)+delegatedClassName,style:inlineStyles,target,rel},children)}}const styles=lib.StyleSheet.create({link:{backgroundColor:"transparent",color:"inherit",textDecoration:"none",":hover":{textDecoration:"underline"}},highlighted:{textDecoration:"underline"}}),components_link=Link,{colors,typography}=src.globalStyles,{Icon}=src.components,addIcon={path:"M11 11V7a1 1 0 0 1 2 0v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H7a1 1 0 0 1 0-2h4zm1 13C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",width:24,height:24},removeIcon={path:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm-5-9a1 1 0 0 1 0-2h10a1 1 0 0 1 0 2H7z",width:24,height:24},DraggableGripIcon=()=>react.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16"},react.createElement("filter",{id:"draggable-grip-shadow",width:"112.5%",height:"116.7%",x:"-6.2%",y:"-8.3%",filterUnits:"objectBoundingBox"},react.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:".5",result:"shadowBlurInner"}),react.createElement("feOffset",{in:"shadowBlurInner",dy:"1",result:"shadowOffsetInner"}),react.createElement("feComposite",{in:"shadowOffsetInner",in2:"SourceAlpha",k2:"-1",k3:"1",operator:"arithmetic",result:"shadowInnerInner"}),react.createElement("feColorMatrix",{in:"shadowInnerInner",values:"0 0 0 0 0.129411765 0 0 0 0 0.141176471 0 0 0 0 0.17254902 0 0 0 0.2 0"})),react.createElement("path",{d:"M1 4a1 1 0 1 1 0-2h14a1 1 0 0 1 0 2H1zm0 10a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2H1zm0-5a1 1 0 1 1 0-2h14a1 1 0 0 1 0 2H1z",fill:colors.gray17,filter:"url(#draggable-grip-shadow)"})),AddAnswer=_ref=>{let{onClick}=_ref;return react.createElement(components_link,{className:(0,lib.css)(answer_choices_styles.addAnswer,editorStyles.addAnswer),onClick},react.createElement(Icon,{icon:addIcon,size:24}),react.createElement("div",{className:(0,lib.css)(answer_choices_styles.spacer)}),"Add an answer choice")},Answer=_ref2=>{let{answer,onChange,onRemove}=_ref2;return react.createElement("li",{className:(0,lib.css)(answer_choices_styles.answer)},react.createElement(components_link,{onClick:onRemove},react.createElement(Icon,{icon:removeIcon,size:24,color:"#D92916"})),react.createElement("div",{className:(0,lib.css)(answer_choices_styles.spacer)}),react.createElement(form_wrapped_text_field.Z,{grow:1,onChange:e=>onChange(e.target.value),value:answer}),react.createElement("div",{className:(0,lib.css)(answer_choices_styles.spacer)}),react.createElement(components_link,{style:[answer_choices_styles.disabled],title:"Answer reordering is not implemented."},react.createElement(DraggableGripIcon,null)))},answer_choices_styles=lib.StyleSheet.create({title:{...typography.bodyXsmallBold,marginBottom:6,color:colors.gray17},answers:{marginTop:12,marginBottom:12},answer:{display:"flex",flexDirection:"row",alignItems:"center",":not(:first-child)":{marginTop:12}},addAnswer:{...typography.bodyXsmallBold,display:"flex",flexDirection:"row",alignItems:"center",color:"#1865f2"},spacer:{width:16},disabled:{cursor:"not-allowed"}}),editorStyles=lib.StyleSheet.create({addAnswer:{":link":{color:"#1865f2"}}}),answer_choices=_ref3=>{let{choices,onChange}=_ref3;return react.createElement("div",null,react.createElement("div",{className:(0,lib.css)(answer_choices_styles.title)},"Answer Choices"),react.createElement("ul",{className:(0,lib.css)(answer_choices_styles.answers)},choices.map(((answer,index)=>react.createElement(Answer,{answer,key:index,onChange:answer=>onChange([...choices.slice(0,index),answer,...choices.slice(index+1)]),onRemove:()=>onChange([...choices.slice(0,index),...choices.slice(index+1)])})))),react.createElement(AddAnswer,{onClick:()=>onChange([...choices,""])}))};try{answerchoices.displayName="answerchoices",answerchoices.__docgenInfo={description:"The list of choices, handles adding, removing and reording of answers.",displayName:"answerchoices",props:{choices:{defaultValue:null,description:"",name:"choices",required:!0,type:{name:"readonly string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(choices: readonly string[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus-editor/src/widgets/label-image/answer-choices.tsx#answerchoices"]={docgenInfo:answerchoices.__docgenInfo,name:"answerchoices",path:"packages/perseus-editor/src/widgets/label-image/answer-choices.tsx#answerchoices"})}catch(__react_docgen_typescript_loader_error){}}}]);