import{j as e}from"./jsx-runtime-63Ea5SlK.js";import"./article-renderer-znkpT2H4.js";import"./phet-simulation-FB_1B1eX.js";import{_ as i}from"./index-default-4_ZsnO94.js";import{a as m}from"./core-widget-registry-uiKfW1Am.js";import"./dependencies-CP7Uh8Kq.js";import"./perseus-api-DO0X8arb.js";import"./server-item-renderer-L74IIqPk.js";import"./hints-renderer-Vv8gS6N4.js";import"./renderer-_GA2c-kZ.js";import"./base-radio-JOHQf55K.js";import{c as u}from"./components-7TuWaVNb.js";import{i as f}from"./icon-paths-5JCXzGsq.js";import"./i18n-context-dE2bX2K_.js";import"./util-CFc6mjZH.js";import"./svg-image-ZSuPTax3.js";import"./jquery-5v7aFUvu.js";import"./index-smZ6iCr_.js";import{E as b}from"./editor-jsonify-1joltEe1.js";import{T as h}from"./index-UQ8A7rVv.js";import{L as g,a as t}from"./index-cEypnc5R.js";import{P as r}from"./index-IiwcBdIZ.js";import{r as x}from"./index-6oxdNXpR.js";import{F as C}from"./index-9gkyvru-.js";import{i as j}from"./icon-paths-naSxOxXw.js";const{InfoTip:c,InlineIcon:d}=u,l=class l extends x.Component{constructor(){super(...arguments),this.onVisibleLabelChange=s=>{this.props.onChange({visibleLabel:s})},this.onAriaLabelChange=s=>{this.props.onChange({ariaLabel:s})},this.onPlaceholderChange=s=>{this.props.onChange({placeholder:s})},this.onCorrectChange=s=>{const n=i.map(this.props.choices,function(o,a){return i.extend({},o,{correct:a===s})});this.props.onChange({choices:n})},this.onContentChange=(s,n)=>{const o=this.props.choices.slice(),a=i.clone(o[s]);a.content=n.target.value,o[s]=a,this.props.onChange({choices:o})},this.addChoice=s=>{s.preventDefault();const n=this.props.choices,o={content:"",correct:!1};this.props.onChange({choices:n.concat([o])},this.focus.bind(this,n.length))},this.removeChoice=(s,n)=>{n.preventDefault();const o=i(this.props.choices).clone();o.splice(s,1),this.props.onChange({choices:o})},this.focus=s=>(C.findDOMNode(this.refs["editor"+s]).focus(),!0),this.serialize=()=>b.serialize.call(this)}render(){const s=i.uniqueId("perseus_dropdown_");return e.jsxs("div",{className:"perseus-widget-dropdown",children:[e.jsxs("div",{className:"dropdown-info",children:[e.jsx(g,{children:"Dropdown"}),e.jsx(c,{children:e.jsxs("p",{children:["The drop down is useful for making inequalities in a custom format. We normally use the symbols ","<",","," ",">",', ≤, ≥ (in that order) which you can copy into the choices. When possible, use the "multiple choice" answer type instead.']})})]}),e.jsxs("div",{className:"dropdown-field",children:[e.jsxs(t,{children:["Visible label",e.jsx(h,{value:this.props.visibleLabel,onChange:this.onVisibleLabelChange})]}),e.jsx(c,{children:e.jsx("p",{children:"Optional visible label"})})]}),e.jsxs("div",{className:"dropdown-field",children:[e.jsxs(t,{children:["Aria label",e.jsx(h,{value:this.props.ariaLabel,onChange:this.onAriaLabelChange,type:"text"})]}),e.jsx(c,{children:e.jsxs("p",{children:["Label text that's read by screen readers. Highly recommend adding a label here to ensure your exercise is accessible. For more information on writing accessible labels, please see"," ",e.jsx("a",{href:"https://www.w3.org/WAI/tips/designing/#ensure-that-form-elements-include-clearly-associated-labels",target:"_blank",rel:"noreferrer",children:"this article."})," ",'If left blank, the value will default to "Select an answer".']})})]}),e.jsxs("div",{className:"dropdown-field",children:[e.jsxs(t,{children:["Placeholder",e.jsx(h,{value:this.props.placeholder,onChange:this.onPlaceholderChange,placeholder:"Placeholder value"})]}),e.jsx(c,{children:e.jsx("p",{children:"This value will appear as the drop down default. It should give the user some indication of the values available in the drop down itself, e.g., Yes/No/Maybe."})})]}),e.jsx("div",{className:"clearfix"}),e.jsx(t,{children:"Choices"}),e.jsx("ul",{className:"dropdown-choices",children:this.props.choices.map(function(n,o){const a=n.correct?"correct":"incorrect";return e.jsx("li",{children:e.jsxs("div",{children:[e.jsx("input",{ref:"radio"+o,type:"radio",name:s,checked:n.correct?"checked":"",onChange:this.onCorrectChange.bind(this,o),value:o}),e.jsx("input",{type:"text",ref:"editor"+o,onChange:this.onContentChange.bind(this,o),className:a,value:n.content}),e.jsx("a",{href:"#",className:"simple-button orange","aria-label":"Delete choice",onClick:this.removeChoice.bind(this,o),children:e.jsx("span",{className:"remove-choice",children:e.jsx(d,{...f})})})]})},""+o)},this)}),e.jsx("div",{className:"add-choice-container",children:e.jsxs("a",{href:"#",className:"simple-button orange",onClick:this.addChoice,children:[e.jsx(d,{...j})," Add a choice"," "]})})]})}};l.propTypes={choices:r.arrayOf(r.shape({content:r.string,correct:r.bool})),placeholder:r.string},l.widgetName="dropdown",l.defaultProps=m.defaultWidgetOptions;let p=l;p.__docgenInfo={description:"",methods:[{name:"onVisibleLabelChange",docblock:null,modifiers:[],params:[{name:"visibleLabel",optional:!1,type:null}],returns:null},{name:"onAriaLabelChange",docblock:null,modifiers:[],params:[{name:"ariaLabel",optional:!1,type:null}],returns:null},{name:"onPlaceholderChange",docblock:null,modifiers:[],params:[{name:"placeholder",optional:!1,type:null}],returns:null},{name:"onCorrectChange",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null}],returns:null},{name:"onContentChange",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null},{name:"e",optional:!1,type:null}],returns:null},{name:"addChoice",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"removeChoice",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null},{name:"e",optional:!1,type:null}],returns:null},{name:"focus",docblock:null,modifiers:[],params:[{name:"i",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropdownEditor",props:{placeholder:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},choices:{defaultValue:{value:`[
    {
        content: "",
        correct: false,
    },
]`,computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{content:{name:"string",required:!1},correct:{name:"bool",required:!1}}}},required:!1}}};export{p as D};
