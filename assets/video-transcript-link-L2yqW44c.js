import{j as M}from"./jsx-runtime-63Ea5SlK.js";import{V as W,T as ye}from"./index-rdglk-I4.js";import{S as me}from"./index-9DZEhZp8.js";import{e as be,_ as ne}from"./arrow-square-out-bold-090vdhrx.js";import{_ as T,a as u}from"./extends-wRoo2ExD.js";import{r as c}from"./index-6oxdNXpR.js";import{w as ke,c as J,L as de}from"./react-router-dom-ycXmd4R1.js";import{l as v}from"./index-awljIyHI.js";import{u as ve}from"./i18n-context-l0HwsY2X.js";import{u as Se}from"./dependencies-CP7Uh8Kq.js";function fe(n){const t=[];if(n)if(Array.isArray(n))for(const e of n)t.push(...fe(e));else t.push(n);else return t;return t}function ue(n){const t=[],e=[];if(!n)return{style:{},className:""};const r=typeof global<"u"&&global.SNAPSHOT_INLINE_APHRODITE;fe(n).forEach(s=>{const o=s._definition;if(o!=null)if(r){const l={};for(const[d,f]of Object.entries(o))l[d.replace(/-[a-z]/g,p=>p[1].toUpperCase())]=f;e.push(l)}else t.push(s);else e.push(s)});const a=Object.assign({},...e);if(e.length>0&&!r){const s=v.StyleSheet.create({inlineStyles:a});t.push(s.inlineStyles)}return{style:r?a:{},className:v.css(...t)}}const we=["children","style","tag","testId"],xe=/^h[1-6]$/,re=v.StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}});c.forwardRef(function(t,e){let{children:r,style:a,tag:s="span",testId:o}=t,l=T(t,we);const d=xe.test(s),f=ue([re.text,d&&re.header,a]),p=l.className?[l.className,f.className].join(" "):f.className;return c.createElement(s,u({},l,{style:f.style,className:p,"data-testid":o,ref:e}),r)});const Ce=["className","style"];function N(n,t){return c.forwardRef((e,r)=>{const a=e,{className:s,style:o}=a,l=T(a,Ce),d=typeof n=="string"?Ie[n]:null,{className:f,style:p}=ue([d,t,o]);return c.createElement(n,u({},l,{ref:r,className:[f,s].filter(Boolean).join(" "),style:p}))})}const Ie=v.StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),Ee=["testId","tag"],A=v.StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),Ne=N("div",A.default),Be=N("article",A.default),$e=N("aside",A.default),De=N("nav",A.default),Oe=N("section",A.default);c.forwardRef(function(t,e){const{testId:r,tag:a="div"}=t,s=T(t,Ee),o=u({},s,{"data-testid":r});switch(a){case"article":return c.createElement(Be,u({},o,{ref:e}));case"aside":return c.createElement($e,u({},o,{ref:e}));case"nav":return c.createElement(De,u({},o,{ref:e}));case"section":return c.createElement(Oe,u({},o,{ref:e}));case"div":return c.createElement(Ne,u({},o,{ref:e}));default:throw Error(`${a} is not an allowed value for the 'tag' prop`)}});(function(n){return n.Initial="initial",n.Standard="standard",n})({});let _e=function(n){return n.Root="root",n.Initial="initial",n.Standard="standard",n}({});const Me=c.createContext(_e.Root);Me.displayName="RenderStateContext";function G(){return G=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},G.apply(this,arguments)}const Fe=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,Re=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,Te=/^rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)$/i,Y=n=>{if(typeof n!="string")throw new Error(`Failed to parse color: ${n}`);const t=n.match(Re);if(t)return{r:parseInt(`${t[1]}${t[1]}`,16),g:parseInt(`${t[2]}${t[2]}`,16),b:parseInt(`${t[3]}${t[3]}`,16),a:1};const e=n.match(Fe);if(e)return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1};const r=n.match(Te);if(r)return{r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3]),a:r[4]?parseFloat(r[4]):1};throw new Error(`Failed to parse color: ${n}`)},he=n=>{const t=Math.round(n.r),e=Math.round(n.g),r=Math.round(n.b);if(n.a===1){const a=s=>{const o=s.toString(16);return o.length===1?`0${o}`:o};return`#${a(t)}${a(e)}${a(r)}`}else return`rgba(${t},${e},${r},${n.a.toFixed(2)})`},I=(n,t)=>{if(t<0||t>1)throw new Error("Percentage must be between 0 and 1");const e=Y(n);return he(G({},e,{a:e.a*t}))},P=(n,t)=>{const e=Y(n),r=Y(t);return he({r:e.r*e.a+r.r*(1-e.a),g:e.g*e.a+r.g*(1-e.a),b:e.b*e.a+r.b*(1-e.a),a:r.a})},E="#21242c",z="#ffffff",se="#5f1e5c",g={blue:"#1865f2",purple:"#9059ff",green:"#00a60e",gold:"#ffb100",red:"#d92916",offBlack:E,offBlack64:I(E,.64),offBlack50:I(E,.5),offBlack32:I(E,.32),offBlack16:I(E,.16),offBlack8:I(E,.08),offWhite:"#f7f8fa",white:z,white64:I(z,.64),white50:I(z,.5),white32:I(z,.32),darkBlue:"#0b2149",teal:"#14bf96"},h=(n,t)=>P(I(n,t),g.white),i=G({},g,{activeBlue:P(g.offBlack32,g.blue),fadedBlue:h(g.blue,.32),fadedBlue24:h(g.blue,.24),fadedBlue16:h(g.blue,.16),fadedBlue8:h(g.blue,.08),activeRed:P(g.offBlack32,g.red),fadedRed:h(g.red,.32),fadedRed24:h(g.red,.24),fadedRed16:h(g.red,.16),fadedRed8:h(g.red,.08),fadedGreen24:h(g.green,.24),fadedGreen16:h(g.green,.16),fadedGreen8:h(g.green,.08),fadedGold24:h(g.gold,.24),fadedGold16:h(g.gold,.16),fadedGold8:h(g.gold,.08),fadedPurple24:h(g.purple,.24),fadedPurple16:h(g.purple,.16),fadedPurple8:h(g.purple,.08),eggplant:se,fadedEggplant8:h(se,.08),fadedOffBlack64:h(E,.64),fadedOffBlack50:h(E,.5),fadedOffBlack32:h(E,.32),fadedOffBlack16:h(E,.16),fadedOffBlack8:h(E,.08)}),oe={xxxxSmall_2:2,xxxSmall_4:4,xxSmall_6:6,xSmall_8:8,small_12:12,medium_16:16,large_24:24,xLarge_32:32,xxLarge_48:48,xxxLarge_64:64};i.blue,i.activeBlue,i.red,i.activeRed,i.fadedOffBlack32,i.offWhite,i.fadedRed8,i.red,i.fadedGold8,i.gold,i.fadedGreen8,i.green,i.fadedBlue8,i.blue,i.fadedOffBlack8,i.offBlack,i.white,i.offWhite,i.blue,i.darkBlue,i.offBlack64,i.offBlack,i.fadedOffBlack64,i.fadedOffBlack32,i.white,i.fadedOffBlack16,i.fadedOffBlack8,i.fadedOffBlack50,i.white,i.fadedOffBlack64,i.offBlack,i.white,i.blue,i.red,i.eggplant,i.fadedEggplant8,i.purple;const ae=n=>{switch(n){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},Le={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},L={enter:13,space:32},ie={hovered:!1,focused:!1,pressed:!1,waiting:!1};class Q extends c.Component{static getDerivedStateFromProps(t,e){return t.disabled?u({},ie,{focused:e.focused}):null}constructor(t){super(t),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=e=>{const{onClick:r=void 0,beforeNav:a=void 0,safeWithNav:s=void 0}=this.props;this.enterClick||((r||a||s)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({pressed:!0})},this.handleMouseUp=e=>{this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown:r,role:a}=this.props;r&&r(e);const s=e.which||e.keyCode,{triggerOnEnter:o,triggerOnSpace:l}=ae(a);o&&s===L.enter||l&&s===L.space?(e.preventDefault(),this.setState({pressed:!0})):!o&&s===L.enter&&(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp:r,role:a}=this.props;r&&r(e);const s=e.which||e.keyCode,{triggerOnEnter:o,triggerOnSpace:l}=ae(a);o&&s===L.enter||l&&s===L.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):!o&&s===L.enter&&(this.enterClick=!1)},this.handleFocus=e=>{const{onFocus:r}=this.props;this.setState({focused:!0},()=>{r&&r(e)})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=ie,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(t){if(t){const{history:e,href:r,skipClientNav:a,target:s=void 0}=this.props;r&&(s==="_blank"?(window.open(r,"_blank"),this.setState({waiting:!1})):e&&!a?(e.push(r),this.setState({waiting:!1})):window.location.assign(r))}else this.setState({waiting:!1})}handleSafeWithNav(t,e){const{skipClientNav:r,history:a}=this.props;return a&&!r||this.props.target==="_blank"?(t(),this.navigateOrReset(e),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),t().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(s=>{}).finally(()=>{this.navigateOrReset(e)}))}runCallbackAndMaybeNavigate(t){const{onClick:e=void 0,beforeNav:r=void 0,safeWithNav:a=void 0,href:s,type:o}=this.props;let l=!0,d=!0;if(e&&e(t),t.defaultPrevented&&(l=!1,d=!1),t.preventDefault(),!s&&o==="submit"&&d){let f=t.currentTarget;for(;f;){if(f instanceof window.HTMLFormElement){const p=new window.Event("submit",{bubbles:!0,cancelable:!0});f.dispatchEvent(p);break}f=f.parentElement}}if(r)this.setState({waiting:!0}),r().then(()=>a?this.handleSafeWithNav(a,l):this.navigateOrReset(l)).catch(()=>{});else{if(a)return this.handleSafeWithNav(a,l);this.navigateOrReset(l)}}render(){const t=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),e=this.props.disabled?u({},Le,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t},{children:r}=this.props;return r&&r(this.state,e)}}Q.defaultProps={disabled:!1};const X=n=>typeof n!="string"?!1:!/^(https?:)?\/\//i.test(n)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(n),Ue=ke(Q);function ge(n,t,e){return e&&t!==!0&&n&&X(n)?Ue:Q}const Pe=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],Ke=N("a"),We=N("button"),je=N(de),Ae=c.forwardRef(function(t,e){const r=(s,o,l)=>{const d=t.href&&!t.disabled,f=o&&!t.skipClientNav&&X(t.href||"");return d&&f&&t.href?c.createElement(je,u({},l,{to:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(s)):d&&!f?c.createElement(Ke,u({},l,{href:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(s)):c.createElement(We,u({},l,{type:"button","aria-disabled":t.disabled,ref:e}),t.children(s))},a=s=>{const{href:o,onClick:l,skipClientNav:d,beforeNav:f=void 0,safeWithNav:p=void 0,style:S,target:k=void 0,testId:w,onFocus:x,onKeyDown:B,onKeyUp:_,onMouseDown:D,onMouseUp:b,hideDefaultFocusRing:C,light:F,disabled:y,tabIndex:m}=t,$=T(t,Pe),R=ge(o,d,s),H=O=>[j.reset,j.link,!C&&O.focused&&(F?j.focusedLight:j.focused),y&&j.disabled,S];return f?c.createElement(R,{href:o,onClick:l,beforeNav:f,safeWithNav:p,onFocus:x,onKeyDown:B,onKeyUp:_,onMouseDown:D,onMouseUp:b,disabled:y,tabIndex:m},(O,K)=>r(O,s,u({},$,{"data-testid":w,style:H(O)},K))):c.createElement(R,{href:o,onClick:l,safeWithNav:p,onFocus:x,onKeyDown:B,onKeyUp:_,onMouseDown:D,onMouseUp:b,target:k,disabled:y,tabIndex:m},(O,K)=>r(O,s,u({},$,{"data-testid":w,style:H(O)},K)))};return c.createElement(J.Consumer,null,s=>a(s))});Ae.defaultProps={light:!1,disabled:!1};const j=v.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${i.blue}`}},focusedLight:{outline:`solid 2px ${i.white}`},disabled:{color:i.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${i.blue}`}}}),ze=n=>({small:16,medium:24,large:48,xlarge:96})[n],Ve=["color","icon","size","style","testId","className","role"],Ge=N("span"),pe=c.forwardRef(function(t,e){const{color:r="currentColor",icon:a,size:s="small",style:o,testId:l,className:d,role:f}=t,p=T(t,Ve),S=ze(s),k=`${d??""}`,w=He(r,S);return c.createElement(Ge,u({},p,{className:k,style:[q.svg,w.icon,{maskImage:`url(${a})`},o],"data-testid":l,ref:e,role:f??p["aria-label"]?"img":void 0}))}),le={},He=(n,t)=>{const e=`${n}-${t}`;if(q[e])return q[e];const r={icon:{backgroundColor:n,width:t,height:t}};return le[e]=v.StyleSheet.create(r),le[e]},q=v.StyleSheet.create({svg:{display:"inline-block",verticalAlign:"text-bottom",flexShrink:0,flexGrow:0,maskSize:"100%",maskRepeat:"no-repeat",maskPosition:"center"}});pe.displayName="PhosphorIcon";const Ye=["children","skipClientNav","focused","hovered","href","inline","kind","light","visitable","pressed","style","testId","waiting","target","startIcon","endIcon"],qe=N("a"),Je=N(de),ce=c.forwardRef(function(t,e){const r=a=>{const{children:s,skipClientNav:o,focused:l,hovered:d,href:f,inline:p=!1,kind:S="primary",light:k=!1,visitable:w=!1,pressed:x,style:B,testId:_,target:D,startIcon:b,endIcon:C}=t,F=T(t,Ye),y=Xe(p,S,k,w),m=p?y.restingInline:y.resting,$=[Qe.shared,m,x&&y.active,!x&&d&&y.hover,!x&&l&&y.focus],R=u({"data-testid":_,style:[$,B],target:D},F),O=new URL(f,window.location.origin).origin!==window.location.origin,K=c.createElement(pe,{icon:be,size:"small",style:[U.endIcon,U.centered],testId:"external-icon"});let Z,ee;b&&(Z=c.cloneElement(b,u({style:[U.startIcon,U.centered],testId:"start-icon","aria-hidden":"true"},b.props))),C&&(ee=c.cloneElement(C,u({style:[U.endIcon,U.centered],testId:"end-icon","aria-hidden":"true"},C.props)));const te=c.createElement(c.Fragment,null,b&&Z,s,C?ee:O&&D==="_blank"&&K);return a&&!o&&X(f)?c.createElement(Je,u({},R,{to:f,ref:e}),te):c.createElement(qe,u({},R,{href:f,ref:e}),te)};return c.createElement(J.Consumer,null,a=>r(a))}),V={},U=v.StyleSheet.create({startIcon:{marginInlineEnd:oe.xxxSmall_4},endIcon:{marginInlineStart:oe.xxxSmall_4},centered:{verticalAlign:"-10%"}}),Qe=v.StyleSheet.create({shared:{cursor:"pointer",textDecoration:"none",outline:"none",alignItems:"center"}}),Xe=(n,t,e,r)=>{const a=`${t}-${n.toString()}-${e.toString()}-${r.toString()}`;if(V[a])return V[a];if(t==="secondary"&&e)throw new Error("Secondary Light links are not supported");if(r&&t!=="primary")throw new Error("Only primary link is visitable");const{blue:s,purple:o,white:l,offBlack:d,offBlack32:f,offBlack64:p}=i,S="#fa50ae",k=P(I(d,.08),o),w=i.fadedBlue,x=P(I(l,.32),S),B=i.activeBlue,b=t==="primary"?e?l:s:n?d:p,y=t==="primary"?e?w:B:n?B:d,m=r?{":visited":{color:e?S:k}}:Object.freeze({}),$=r?{":visited":{color:e?x:P(f,k)}}:Object.freeze({}),R={resting:u({color:b},m),restingInline:u({color:b,textDecoration:"underline currentcolor solid",textUnderlineOffset:2},m),hover:u({textDecoration:"underline currentcolor solid",color:b},m),focus:{":focus-visible":u({color:b,outline:`1px solid ${e?l:s}`,borderRadius:3},m)},active:u({color:y,textDecoration:"underline currentcolor solid"},$)};return V[a]=v.StyleSheet.create(R),V[a]},Ze=["onClick","beforeNav","safeWithNav","href","skipClientNav","children","tabIndex","onKeyDown","onKeyUp","target","inline","kind","light","visitable"],et=c.forwardRef(function(t,e){const{onClick:r,beforeNav:a=void 0,safeWithNav:s,href:o,skipClientNav:l,children:d,tabIndex:f,onKeyDown:p,onKeyUp:S,target:k=void 0,inline:w=!1,kind:x="primary",light:B=!1,visitable:_=!1}=t,D=T(t,Ze),b=C=>{const F=ge(o,l,C);return a?c.createElement(F,{disabled:!1,href:o,role:"link",onClick:r,beforeNav:a,safeWithNav:s,onKeyDown:p,onKeyUp:S},(y,m)=>{let $=u({},(ne(m),m));return c.createElement(ce,u({},D,y,$,{skipClientNav:l,href:o,target:k,tabIndex:f,inline:w,kind:x,light:B,visitable:_,ref:e}),d)}):c.createElement(F,{disabled:!1,href:o,role:"link",onClick:r,safeWithNav:s,target:k,onKeyDown:p,onKeyUp:S},(y,m)=>{let $=u({},(ne(m),m));return c.createElement(ce,u({},D,y,$,{skipClientNav:l,href:o,target:k,tabIndex:f,inline:w,kind:x,light:B,visitable:_,ref:e}),d)})};return c.createElement(J.Consumer,null,C=>b(C))}),tt=/^https?:\/\//,nt=n=>{const t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,e=n.match(t);return e&&e[7].length===11?e[7]:"videoNotFound"},rt=n=>{var l;const{location:t}=n,{useVideo:e}=Se(),[r,a]=tt.test(t)?[nt(t),"YOUTUBE_ID"]:[t,"READABLE_ID"],s=e(r,a),{strings:o}=ve();switch(s.status){case"loading":return M.jsx(W,{children:o.loading});case"success":{const d=(l=s.data)==null?void 0:l.video;return M.jsxs(W,{style:st.transcriptLink,children:[M.jsx(ye,{children:d==null?void 0:d.title}),M.jsx(me,{size:10}),M.jsx(et,{href:"/transcript/"+((d==null?void 0:d.contentId)||"videoNotFound"),target:"_blank",className:"visited-no-recolor",children:o.videoTranscript})]})}case"error":return M.jsx(W,{children:o.somethingWrong});case"aborted":return M.jsx(W,{children:o.somethingWrong});default:return M.jsx(W,{children:o.somethingWrong})}},st=v.StyleSheet.create({transcriptLink:{flexDirection:"row",width:"100%",justifyContent:"center"}});rt.__docgenInfo={description:"Video Transcript Link Component.",methods:[],displayName:"VideoTranscriptLink",props:{location:{required:!0,tsType:{name:"string"},description:""}}};export{rt as V};
