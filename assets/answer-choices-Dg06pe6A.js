import{j as je}from"./jsx-runtime-BT65X5dW.js";import{a as se,_ as R,V,I as be,b as et,u as Yt,k as X}from"./index-CskvhqFA.js";import{r as i}from"./index-C6mWTJJr.js";import{n as A}from"./no-important-DlFk8a1I.js";import{a as Me,b as gt,s as Zt,L as Jt}from"./index-CbNKSLRm.js";import{C as Qt,_ as er,a as tr}from"./index-KFdEgasi.js";import{S as Fe}from"./index-CbIoTxL4.js";import{s as h,a as u,c as me,b as W,d as rr,f as or}from"./index-CjnMbH_2.js";import{P as Le}from"./index-CIHqsnLr.js";import{T as nr,c as Dt}from"./index-BePo9uoZ.js";import{r as xe}from"./index-B1Gws05u.js";import{I as sr,x as Pt}from"./index-C1fpYtXO.js";import{w as $t}from"./index-3H81sEQ1.js";import{_ as St}from"./assertThisInitialized-B9jnkVVz.js";import{P as ir,d as ar}from"./Popper-Bj3TCzZA.js";import{m as lr}from"./index-Dr3BtBNU.js";import{P as dr}from"./index-GAWk9lgC.js";import{u as cr}from"./i18n-context-3AkWzTTj.js";import{R as ur}from"./renderer-C_wlR0qd.js";const Y={cellMinHeight:h.xxLarge_48,cellPadding:{paddingVertical:h.small_12,paddingHorizontal:h.medium_16},detailCellPadding:{paddingVertical:h.medium_16,paddingHorizontal:h.medium_16},accessoryHorizontalSpacing:h.medium_16},hr=n=>{switch(n){case"inset":return[dt.horizontalRule,dt.horizontalRuleInset];case"full-width":return dt.horizontalRule;case"none":return{}}},dt=A.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:h.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${me.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${Y.cellPadding.paddingHorizontal}px)`}}}),pr=({leftAccessory:n,leftAccessoryStyle:e,disabled:t})=>n?i.createElement(i.Fragment,null,i.createElement(V,{style:[P.accessory,t&&P.accessoryDisabled,R({},e)]},n),i.createElement(Fe,{size:Y.accessoryHorizontalSpacing})):null,fr=({rightAccessory:n,rightAccessoryStyle:e,active:t,disabled:r})=>n?i.createElement(i.Fragment,null,i.createElement(Fe,{size:Y.accessoryHorizontalSpacing}),i.createElement(V,{style:[P.accessory,P.accessoryRight,r&&P.accessoryDisabled,R({},e),t&&P.accessoryActive]},n)):null;function vt(n){const{active:e,children:t,disabled:r,horizontalRule:o="inset",contentStyle:s=void 0,leftAccessory:a=void 0,leftAccessoryStyle:d=void 0,rightAccessory:c=void 0,rightAccessoryStyle:p=void 0,style:m,testId:x,innerStyle:g}=n,y=hr(o);return i.createElement(V,{style:[P.innerWrapper,g,m,y,e&&P.activeInnerWrapper],className:"inner-wrapper"},i.createElement(pr,{leftAccessory:a,leftAccessoryStyle:d,disabled:r}),i.createElement(V,{style:[P.content,s],testId:x},t),i.createElement(fr,{rightAccessory:c,rightAccessoryStyle:p,active:e,disabled:r}))}const Nt=n=>{const{active:e,disabled:t,href:r,onClick:o,"aria-label":s,"aria-selected":a,"aria-checked":d,target:c,role:p,rootStyle:m}=n;return o||r?i.createElement(Qt,{disabled:t,onClick:o,href:r,hideDefaultFocusRing:!0,"aria-label":s||void 0,"aria-selected":a||void 0,"aria-checked":d,role:p,target:c,style:[P.wrapper,P.clickable,m,e&&P.active,t&&P.disabled],"aria-current":e?"true":void 0},()=>i.createElement(vt,n)):i.createElement(V,{style:[P.wrapper,m,e&&P.active],"aria-current":e?"true":void 0,role:p},i.createElement(vt,n))},q={root:{default:{background:u.surface.primary,foreground:u.text.primary},hover:{background:me.fadedBlue8},press:{background:me.fadedBlue8,border:u.surface.emphasis},selected:{background:me.fadedBlue8,foreground:me.activeBlue,border:u.surface.emphasis},focus:{border:u.focus.outer},disabled:{foreground:u.text.disabled,border:u.focus.outer}},accessory:{default:{foreground:u.icon.primary},selected:{foreground:u.icon.action},disabled:{foreground:u.icon.secondary}}},P=A.StyleSheet.create({wrapper:{background:q.root.default.background,color:q.root.default.foreground,display:"flex",minHeight:Y.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:Y.cellMinHeight,padding:`${Y.cellPadding.paddingVertical}px ${Y.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,borderRadius:"inherit",overflow:"hidden",height:"100%",":focus-visible":{padding:`${Y.cellPadding.paddingVertical-2}px ${Y.cellPadding.paddingHorizontal-2}px`}},activeInnerWrapper:{position:"relative",":before":{content:"''",position:"absolute",top:0,left:0,bottom:0,width:W.width.thick,backgroundColor:q.root.selected.border}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:q.accessory.default.foreground},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:h.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${h.xxxSmall_4}px)`,height:`calc(100% - ${h.xxxSmall_4}px)`,border:`${h.xxxxSmall_2}px solid ${q.root.focus.border}`,borderRadius:h.xxxSmall_4},":focus-visible[aria-disabled=true]:after":{borderColor:q.root.disabled.border},":hover[aria-disabled=false]":{background:q.root.hover.background},":active[aria-disabled=false]":{background:q.root.press.background},":active[aria-disabled=false]:not([aria-current=true]) .inner-wrapper":{position:"relative",":before":{content:"''",position:"absolute",top:0,left:0,bottom:0,width:W.width.thin,backgroundColor:u.surface.emphasis}}},active:{background:q.root.selected.background,color:q.root.selected.foreground,cursor:"default"},disabled:{color:q.root.disabled.foreground,":focus-visible":{outline:"none"}},accessoryActive:{color:q.accessory.selected.foreground},accessoryDisabled:{color:q.accessory.disabled.foreground,opacity:.32}}),mr=["title"],gr=function(e){const{title:t}=e,r=se(e,mr);return i.createElement(Nt,r,typeof t=="string"?i.createElement(Me,null,t):t)},br=["title","subtitle1","subtitle2"],It=({subtitle:n,disabled:e})=>n?typeof n=="string"?i.createElement(gt,{style:!e&&Wt.subtitle},n):n:null,xr=function(e){const{title:t,subtitle1:r,subtitle2:o}=e,s=se(e,br);return i.createElement(Nt,R({},s,{innerStyle:Wt.innerWrapper}),i.createElement(It,{subtitle:r,disabled:s.disabled}),r&&i.createElement(Fe,{size:h.xxxxSmall_2}),typeof t=="string"?i.createElement(Me,null,t):t,o&&i.createElement(Fe,{size:h.xxxxSmall_2}),i.createElement(It,{subtitle:o,disabled:s.disabled}))},Wt=A.StyleSheet.create({subtitle:{color:u.text.secondary},innerWrapper:{padding:`${Y.detailCellPadding.paddingVertical}px ${Y.detailCellPadding.paddingHorizontal}px`}}),yr=""+new URL("magnifying-glass-bold-C6GMJ9Hr.svg",import.meta.url).href,Sr={clearSearch:"Clear search"},vr=["clearAriaLabel","autoFocus","disabled","id","value","placeholder","style","testId","error","instantValidation","validate","onValidate","onClick","onChange","onFocus","onBlur"],Ir=i.forwardRef(function(e,t){const{clearAriaLabel:r=Sr.clearSearch,autoFocus:o,disabled:s=!1,id:a,value:d,placeholder:c,style:p,testId:m,error:x,instantValidation:g=!0,validate:y,onValidate:S,onClick:l,onChange:f,onFocus:b,onBlur:C}=e,w=se(e,vr),T=i.useRef(null),v=()=>{var E;f(""),T==null||(E=T.current)==null||E.focus()},_=()=>!d.length||s?null:i.createElement(sr,{icon:Pt,size:"small",kind:"tertiary",actionType:"neutral",onClick:v,style:Ge.dismissIcon,"aria-label":r});return i.createElement(be,{id:a},E=>i.createElement(V,{onClick:l,style:[Ge.inputContainer,p]},i.createElement(Le,{icon:yr,size:"small",color:s?u.icon.disabled:u.icon.primary,style:Ge.searchIcon,"aria-hidden":"true"}),i.createElement(nr,R({id:E,type:"text",autoFocus:o,disabled:s,instantValidation:g,validate:y,onValidate:S,onChange:f,onFocus:b,onBlur:C,placeholder:c,error:x,ref:z=>{t&&(t.current=z),T.current=z},value:d,style:[Ge.inputStyleReset,Zt.LabelMedium],testId:m},w)),_()))}),Ge=A.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:h.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:h.xSmall_8,marginRight:h.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:h.xxxSmall_4},inputStyleReset:{display:"flex",flex:1,width:"100%",paddingLeft:h.xLarge_32,paddingRight:h.large_24+h.medium_16}});var Ct=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Cr(n,e){return!!(n===e||Ct(n)&&Ct(e))}function wr(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Cr(n[t],e[t]))return!1;return!0}function ct(n,e){e===void 0&&(e=wr);var t,r=[],o,s=!1;function a(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return s&&t===this&&e(d,r)||(o=n.apply(this,d),s=!0,t=this,r=d),o}return a}var kr=typeof performance=="object"&&typeof performance.now=="function",wt=kr?function(){return performance.now()}:function(){return Date.now()};function kt(n){cancelAnimationFrame(n.id)}function Er(n,e){var t=wt();function r(){wt()-t>=e?n.call(null):o.id=requestAnimationFrame(r)}var o={id:requestAnimationFrame(r)};return o}var ut=-1;function Et(n){if(n===void 0&&(n=!1),ut===-1||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),ut=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ut}var Ee=null;function _t(n){if(n===void 0&&(n=!1),Ee===null||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Ee="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Ee="negative":Ee="positive-ascending"),document.body.removeChild(e),Ee}return Ee}var _r=150,Tr=function(e,t){return e};function Rr(n){var e,t=n.getItemOffset,r=n.getEstimatedTotalSize,o=n.getItemSize,s=n.getOffsetForIndexAndAlignment,a=n.getStartIndexForOffset,d=n.getStopIndexForStartIndex,c=n.initInstanceProps,p=n.shouldResetStyleCacheOnItemSizeChange,m=n.validateProps;return e=function(x){er(g,x);function g(S){var l;return l=x.call(this,S)||this,l._instanceProps=c(l.props,St(l)),l._outerRef=void 0,l._resetIsScrollingTimeoutId=null,l.state={instance:St(l),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof l.props.initialScrollOffset=="number"?l.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},l._callOnItemsRendered=void 0,l._callOnItemsRendered=ct(function(f,b,C,w){return l.props.onItemsRendered({overscanStartIndex:f,overscanStopIndex:b,visibleStartIndex:C,visibleStopIndex:w})}),l._callOnScroll=void 0,l._callOnScroll=ct(function(f,b,C){return l.props.onScroll({scrollDirection:f,scrollOffset:b,scrollUpdateWasRequested:C})}),l._getItemStyle=void 0,l._getItemStyle=function(f){var b=l.props,C=b.direction,w=b.itemSize,T=b.layout,v=l._getItemStyleCache(p&&w,p&&T,p&&C),_;if(v.hasOwnProperty(f))_=v[f];else{var E=t(l.props,f,l._instanceProps),z=o(l.props,f,l._instanceProps),H=C==="horizontal"||T==="horizontal",ie=C==="rtl",ae=H?E:0;v[f]=_={position:"absolute",left:ie?void 0:ae,right:ie?ae:void 0,top:H?0:E,height:H?"100%":z,width:H?z:"100%"}}return _},l._getItemStyleCache=void 0,l._getItemStyleCache=ct(function(f,b,C){return{}}),l._onScrollHorizontal=function(f){var b=f.currentTarget,C=b.clientWidth,w=b.scrollLeft,T=b.scrollWidth;l.setState(function(v){if(v.scrollOffset===w)return null;var _=l.props.direction,E=w;if(_==="rtl")switch(_t()){case"negative":E=-w;break;case"positive-descending":E=T-C-w;break}return E=Math.max(0,Math.min(E,T-C)),{isScrolling:!0,scrollDirection:v.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._onScrollVertical=function(f){var b=f.currentTarget,C=b.clientHeight,w=b.scrollHeight,T=b.scrollTop;l.setState(function(v){if(v.scrollOffset===T)return null;var _=Math.max(0,Math.min(T,w-C));return{isScrolling:!0,scrollDirection:v.scrollOffset<_?"forward":"backward",scrollOffset:_,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._outerRefSetter=function(f){var b=l.props.outerRef;l._outerRef=f,typeof b=="function"?b(f):b!=null&&typeof b=="object"&&b.hasOwnProperty("current")&&(b.current=f)},l._resetIsScrollingDebounced=function(){l._resetIsScrollingTimeoutId!==null&&kt(l._resetIsScrollingTimeoutId),l._resetIsScrollingTimeoutId=Er(l._resetIsScrolling,_r)},l._resetIsScrolling=function(){l._resetIsScrollingTimeoutId=null,l.setState({isScrolling:!1},function(){l._getItemStyleCache(-1,null)})},l}g.getDerivedStateFromProps=function(l,f){return Or(l,f),m(l),null};var y=g.prototype;return y.scrollTo=function(l){l=Math.max(0,l),this.setState(function(f){return f.scrollOffset===l?null:{scrollDirection:f.scrollOffset<l?"forward":"backward",scrollOffset:l,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(l,f){f===void 0&&(f="auto");var b=this.props,C=b.itemCount,w=b.layout,T=this.state.scrollOffset;l=Math.max(0,Math.min(l,C-1));var v=0;if(this._outerRef){var _=this._outerRef;w==="vertical"?v=_.scrollWidth>_.clientWidth?Et():0:v=_.scrollHeight>_.clientHeight?Et():0}this.scrollTo(s(this.props,l,f,T,this._instanceProps,v))},y.componentDidMount=function(){var l=this.props,f=l.direction,b=l.initialScrollOffset,C=l.layout;if(typeof b=="number"&&this._outerRef!=null){var w=this._outerRef;f==="horizontal"||C==="horizontal"?w.scrollLeft=b:w.scrollTop=b}this._callPropsCallbacks()},y.componentDidUpdate=function(){var l=this.props,f=l.direction,b=l.layout,C=this.state,w=C.scrollOffset,T=C.scrollUpdateWasRequested;if(T&&this._outerRef!=null){var v=this._outerRef;if(f==="horizontal"||b==="horizontal")if(f==="rtl")switch(_t()){case"negative":v.scrollLeft=-w;break;case"positive-ascending":v.scrollLeft=w;break;default:var _=v.clientWidth,E=v.scrollWidth;v.scrollLeft=E-_-w;break}else v.scrollLeft=w;else v.scrollTop=w}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&kt(this._resetIsScrollingTimeoutId)},y.render=function(){var l=this.props,f=l.children,b=l.className,C=l.direction,w=l.height,T=l.innerRef,v=l.innerElementType,_=l.innerTagName,E=l.itemCount,z=l.itemData,H=l.itemKey,ie=H===void 0?Tr:H,ae=l.layout,te=l.outerElementType,j=l.outerTagName,$=l.style,G=l.useIsScrolling,le=l.width,de=this.state.isScrolling,re=C==="horizontal"||ae==="horizontal",De=re?this._onScrollHorizontal:this._onScrollVertical,Se=this._getRangeToRender(),ve=Se[0],Ie=Se[1],Ce=[];if(E>0)for(var J=ve;J<=Ie;J++)Ce.push(i.createElement(f,{data:z,key:ie(J,z),index:J,isScrolling:G?de:void 0,style:this._getItemStyle(J)}));var Q=r(this.props,this._instanceProps);return i.createElement(te||j||"div",{className:b,onScroll:De,ref:this._outerRefSetter,style:R({position:"relative",height:w,width:le,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:C},$)},i.createElement(v||_||"div",{children:Ce,ref:T,style:{height:re?"100%":Q,pointerEvents:de?"none":void 0,width:re?Q:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var l=this.props.itemCount;if(l>0){var f=this._getRangeToRender(),b=f[0],C=f[1],w=f[2],T=f[3];this._callOnItemsRendered(b,C,w,T)}}if(typeof this.props.onScroll=="function"){var v=this.state,_=v.scrollDirection,E=v.scrollOffset,z=v.scrollUpdateWasRequested;this._callOnScroll(_,E,z)}},y._getRangeToRender=function(){var l=this.props,f=l.itemCount,b=l.overscanCount,C=this.state,w=C.isScrolling,T=C.scrollDirection,v=C.scrollOffset;if(f===0)return[0,0,0,0];var _=a(this.props,v,this._instanceProps),E=d(this.props,_,v,this._instanceProps),z=!w||T==="backward"?Math.max(1,b):1,H=!w||T==="forward"?Math.max(1,b):1;return[Math.max(0,_-z),Math.max(0,Math.min(f-1,E+H)),_,E]},g}(i.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Or=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Fr=50,Oe=function(e,t,r){var o=e,s=o.itemSize,a=r.itemMetadataMap,d=r.lastMeasuredIndex;if(t>d){var c=0;if(d>=0){var p=a[d];c=p.offset+p.size}for(var m=d+1;m<=t;m++){var x=s(m);a[m]={offset:c,size:x},c+=x}r.lastMeasuredIndex=t}return a[t]},Ar=function(e,t,r){var o=t.itemMetadataMap,s=t.lastMeasuredIndex,a=s>0?o[s].offset:0;return a>=r?Vt(e,t,s,0,r):zr(e,t,Math.max(0,s),r)},Vt=function(e,t,r,o,s){for(;o<=r;){var a=o+Math.floor((r-o)/2),d=Oe(e,a,t).offset;if(d===s)return a;d<s?o=a+1:d>s&&(r=a-1)}return o>0?o-1:0},zr=function(e,t,r,o){for(var s=e.itemCount,a=1;r<s&&Oe(e,r,t).offset<o;)r+=a,a*=2;return Vt(e,t,Math.min(r,s-1),Math.floor(r/2),o)},Tt=function(e,t){var r=e.itemCount,o=t.itemMetadataMap,s=t.estimatedItemSize,a=t.lastMeasuredIndex,d=0;if(a>=r&&(a=r-1),a>=0){var c=o[a];d=c.offset+c.size}var p=r-a-1,m=p*s;return d+m},Mr=Rr({getItemOffset:function(e,t,r){return Oe(e,t,r).offset},getItemSize:function(e,t,r){return r.itemMetadataMap[t].size},getEstimatedTotalSize:Tt,getOffsetForIndexAndAlignment:function(e,t,r,o,s,a){var d=e.direction,c=e.height,p=e.layout,m=e.width,x=d==="horizontal"||p==="horizontal",g=x?m:c,y=Oe(e,t,s),S=Tt(e,s),l=Math.max(0,Math.min(S-g,y.offset)),f=Math.max(0,y.offset-g+y.size+a);switch(r==="smart"&&(o>=f-g&&o<=l+g?r="auto":r="center"),r){case"start":return l;case"end":return f;case"center":return Math.round(f+(l-f)/2);case"auto":default:return o>=f&&o<=l?o:o<f?f:l}},getStartIndexForOffset:function(e,t,r){return Ar(e,r,t)},getStopIndexForStartIndex:function(e,t,r,o){for(var s=e.direction,a=e.height,d=e.itemCount,c=e.layout,p=e.width,m=s==="horizontal"||c==="horizontal",x=m?p:a,g=Oe(e,t,o),y=r+x,S=g.offset+g.size,l=t;l<d-1&&S<y;)l++,S+=Oe(e,l,o).size;return l},initInstanceProps:function(e,t){var r=e,o=r.estimatedItemSize,s={itemMetadataMap:{},estimatedItemSize:o||Fr,lastMeasuredIndex:-1};return t.resetAfterIndex=function(a,d){d===void 0&&(d=!0),s.lastMeasuredIndex=Math.min(s.lastMeasuredIndex,a-1),t._getItemStyleCache(-1),d&&t.forceUpdate()},s},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const Ht=""+new URL("caret-down-bold-1AqrKb55.svg",import.meta.url).href;function Rt(n){const e=document.createElement("div");return e.id=`wbAWrap-${n}`,e}function Ot(n,e,t,r){return new Array(t).fill(0).map((s,a)=>{const d=Lr(e,a,r);return n.appendChild(d),d})}function Lr(n,e,t,r="log"){const o=document.createElement("div");o.setAttribute("role",r),o.setAttribute("aria-live",n),o.classList.add("wbARegion");const s=`wbARegion-${n}${e}`;return o.id=s,o.setAttribute("data-testid",s),t.set(s,{id:s,levelIndex:e,level:n,element:o}),o}function Dr(n,e){setTimeout(()=>{n.remove()},e)}function Pr(n,e){return n+=1,n=n%e,n}function $r(n,e,t){let r=null;const o=(...s)=>new Promise(a=>{const d=()=>{const c=e.apply(n,s);return r&&clearTimeout(r),a(c)};r!==null&&clearTimeout(r),r=setTimeout(()=>{d()},t)});return o.updateWaitTime=s=>{t=s},o}const Nr=5e3,Ft=250;class he{constructor(e=document.body){this.targetElement=void 0,this.topLevelId="wbAnnounce",this.node=null,this.regionFactory={count:2,aIndex:0,pIndex:0},this.dictionary=new Map,this.waitThreshold=Ft,this.lastExecutionTime=0,this.debounced=void 0,this.targetElement=e,typeof document<"u"&&(document.getElementById(this.topLevelId)===null?this.init(this.topLevelId):this.reattachNodes(),this.debounced=$r(this,this.processAnnouncement,this.waitThreshold))}static getInstance(e){return he._instance||(he._instance=new he(e)),he._instance}init(e){var t;this.node=document.createElement("div"),this.node.id=e,this.node.setAttribute("data-testid",e),Object.assign(this.node.style,Wr);const r=Rt("assertive");Ot(r,"assertive",this.regionFactory.count,this.dictionary),(t=this.node)==null||t.appendChild(r);const o=Rt("polite");Ot(o,"polite",this.regionFactory.count,this.dictionary),this.node.appendChild(o),this.targetElement.append(this.node)}reattachNodes(){const e=document.getElementById(this.topLevelId);e!==null&&(this.node=e,Array.from(e.querySelectorAll("[id^='wbARegion']")).forEach(r=>{this.dictionary.set(r.id,{id:r.id,levelIndex:parseInt(r.id.charAt(r.id.length-1)),level:r.getAttribute("aria-live"),element:r})}))}announce(e,t,r){return r!==void 0&&this.updateWaitThreshold(r),this.debounced(this,e,t)}updateWaitThreshold(e){this.waitThreshold=e,this.debounced&&this.debounced.updateWaitTime(e)}processAnnouncement(e,t,r){e.node||e.reattachNodes();const o=[...e.dictionary.values()].filter(a=>a.level===r),s=e.appendMessage(t,r,o);return r==="assertive"?e.regionFactory.aIndex=s:e.regionFactory.pIndex=s,o[s].id||""}clear(e){if(this.node)if(e){var t;(t=this.dictionary.get(e))==null||t.element.replaceChildren()}else this.dictionary.forEach(r=>{r.element.replaceChildren()})}appendMessage(e,t,r,o=Ft){let s=t==="assertive"?this.regionFactory.aIndex:this.regionFactory.pIndex;r[s].element.replaceChildren(),s=Pr(s,this.regionFactory.count);const a=document.createElement("p");return a.textContent=e,r[s].element.appendChild(a),Dr(a,o+Nr),s}reset(){this.regionFactory.aIndex=0,this.regionFactory.pIndex=0,this.clear()}destroy(){if(this.node){var e;(e=this.node.parentElement)==null||e.removeChild(this.node)}he._instance=null}}he._instance=void 0;const Wr={border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1};function Bt({message:n,level:e="polite",debounceThreshold:t,initialTimeout:r=150}){const o=he.getInstance();return r>0?new Promise(s=>setTimeout(async()=>{const a=o.announce(n,e,t);s(a)},r)):o.announce(n,e,t)}const qt={marginTop:h.xSmall_8,marginBottom:h.xSmall_8},Ut={minHeight:100},ye=40,Kt=9,jt=9,Z={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:n=>`Select all (${n})`,noneSelected:"0 items",someSelected:n=>n===1?"1 item":`${n} items`,allSelected:"All items"};class Ae extends i.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_ACTION_ITEM__}render(){const{disabled:e,horizontalRule:t,href:r,target:o,indent:s,label:a,lang:d,leftAccessory:c,rightAccessory:p,onClick:m,role:x,style:g,testId:y}=this.props,S=[Be.wrapper,g],l=typeof a=="string"?i.createElement(Me,{lang:d,style:Be.label},a):i.cloneElement(a,R({lang:d,style:Be.label},a.props));return i.createElement(gr,{disabled:e,horizontalRule:t,rootStyle:S,leftAccessory:c,rightAccessory:p,style:[Be.shared,s&&Be.indent],role:x,testId:y,title:l,href:r,target:o,onClick:m})}}Ae.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};Ae.__IS_ACTION_ITEM__=!0;const Xe=u.action.primary.progressive,Ye={actionItem:{color:{hover:{background:Xe.hover.background,foreground:Xe.hover.foreground},press:{background:Xe.press.background,foreground:Xe.press.foreground}}}},Be=A.StyleSheet.create({wrapper:{minHeight:ye,touchAction:"manipulation",":focus":{borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${u.focus.outer}`,outlineOffset:-h.xxxxSmall_2},":hover[aria-disabled=false]":{color:Ye.actionItem.color.hover.foreground,background:Ye.actionItem.color.hover.background},":active[aria-disabled=false]":{color:Ye.actionItem.color.press.foreground,background:Ye.actionItem.color.press.background}},shared:{minHeight:ye,paddingBlock:rr.size_125},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:h.medium_16*2}}),Vr=function(e){const{selected:t}=e;return i.createElement(Le,{icon:Dt,size:"small",style:[At.bounds,!t&&At.hide]})},At=A.StyleSheet.create({bounds:{alignSelf:"center",height:h.medium_16,minHeight:h.medium_16,minWidth:h.medium_16},hide:{visibility:"hidden"}}),Hr=function(e){const{disabled:t,selected:r}=e;return i.createElement(V,{className:"checkbox",style:[Ze.checkbox,r&&!t&&Ze.noBorder,t&&Ze.disabledCheckbox]},r&&i.createElement(Le,{icon:Dt,size:"small",className:"check",style:[{width:h.small_12,height:h.small_12,margin:h.xxxxSmall_2},t&&r&&Ze.disabledCheckFormatting]}))},ht={checkbox:{color:{default:{border:u.border.strong},disabled:{border:u.action.secondary.disabled.border,background:u.action.secondary.disabled.background}}}},Ze=A.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:h.medium_16,minWidth:h.medium_16,height:h.medium_16,borderRadius:W.radius.small_3,borderWidth:W.width.hairline,borderStyle:"solid",borderColor:ht.checkbox.color.default.border},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:ht.checkbox.color.disabled.border,backgroundColor:ht.checkbox.color.disabled.background},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),Br=["disabled","label","selected","testId","leftAccessory","horizontalRule","parentComponent","rightAccessory","style","subtitle1","subtitle2","value","onClick","onToggle","variant","role"],qr=et("li");class ge extends i.Component{constructor(...e){super(...e),this.handleClick=()=>{const{onClick:t,onToggle:r,value:o}=this.props;r(o),t&&t()}}static isClassOf(e){return e&&e.type&&e.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?Vr:Hr}renderCell(){const e=this.props,{disabled:t,label:r,selected:o,testId:s,leftAccessory:a,horizontalRule:d,parentComponent:c,rightAccessory:p,style:m,subtitle1:x,subtitle2:g,role:y}=e,S=se(e,Br),l=this.getCheckComponent(),f=[ue.item,m];return i.createElement(xr,R({disabled:t,horizontalRule:d,rootStyle:c==="listbox"?ue.listboxItem:f,style:ue.itemContainer,"aria-selected":c!=="listbox"&&o?"true":"false",role:c!=="listbox"?y:void 0,testId:s,leftAccessory:i.createElement(i.Fragment,null,a?i.createElement(V,{style:{flexDirection:"row"}},i.createElement(l,{disabled:t,selected:o}),i.createElement(Fe,{size:h.xSmall_8}),a):i.createElement(l,{disabled:t,selected:o})),rightAccessory:p,subtitle1:x?i.createElement(gt,{className:"subtitle"},x):void 0,title:i.createElement(Me,{style:ue.label},r),subtitle2:g?i.createElement(gt,{className:"subtitle"},g):void 0,onClick:c!=="listbox"?this.handleClick:void 0},S))}render(){const{disabled:e,focused:t,parentComponent:r,role:o,selected:s}=this.props;return r==="listbox"?i.createElement(qr,{onMouseDown:a=>{a.preventDefault()},onClick:this.handleClick,style:[ue.reset,ue.item,t&&ue.itemFocused,e&&ue.itemDisabled],role:o,"aria-selected":s?"true":"false","aria-disabled":e?"true":"false",id:this.props.id,tabIndex:-1},this.renderCell()):this.renderCell()}}ge.defaultProps={disabled:!1,focused:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};ge.__IS_OPTION_ITEM__=!0;const zt={borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${u.focus.outer}`,outlineOffset:-h.xxxxSmall_2},_e=u.action.primary.progressive,L={optionItem:{color:{default:{background:u.surface.primary,foreground:u.text.primary},hover:{background:_e.hover.background,foreground:_e.hover.foreground},press:{background:_e.press.background,foreground:_e.press.foreground},disabled:{foreground:u.action.secondary.disabled.foreground}}},checkbox:{color:{hover:{background:u.surface.primary,foreground:u.action.secondary.progressive.hover.foreground},press:{background:u.surface.primary,foreground:u.action.secondary.progressive.press.foreground},selected:{background:_e.default.background,foreground:_e.default.foreground}}},subtitle:{color:{default:{foreground:u.text.secondary},hover:{foreground:u.text.inverse},press:{foreground:u.text.inverse}}}},ue=A.StyleSheet.create({reset:{margin:0,padding:0,border:0,background:"none",outline:"none",fontSize:"100%",verticalAlign:"baseline",textAlign:"left",textDecoration:"none",listStyle:"none",cursor:"pointer"},listboxItem:{backgroundColor:"transparent",color:"inherit"},item:{background:L.optionItem.color.default.background,color:L.optionItem.color.default.foreground,minHeight:"unset",":focus":zt,":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:L.optionItem.color.hover.foreground,background:L.optionItem.color.hover.background},":active[aria-selected=false]":{},":hover[aria-disabled=true]":{cursor:"not-allowed"},":is([aria-disabled=true])":{color:L.optionItem.color.disabled.foreground,":focus-visible":{outline:"none"}},":active[aria-disabled=false]":{color:L.optionItem.color.press.foreground,background:L.optionItem.color.press.background},":hover[aria-disabled=false] .checkbox":{background:L.checkbox.color.hover.background},":active[aria-disabled=false] .checkbox":{background:L.checkbox.color.press.background},":hover[aria-disabled=false] .check":{color:L.checkbox.color.hover.foreground},":active[aria-disabled=false] .check":{color:L.checkbox.color.press.foreground},":is([aria-selected=true]) .checkbox":{background:L.checkbox.color.selected.background},":is([aria-selected=true]) .check":{color:L.checkbox.color.selected.foreground},":is([aria-disabled=false]) .subtitle":{color:L.subtitle.color.default.foreground},":hover[aria-disabled=false] .subtitle":{color:L.subtitle.color.hover.foreground},":active[aria-disabled=false] .subtitle":{color:L.subtitle.color.press.foreground}},itemFocused:zt,itemDisabled:{outlineColor:u.focus.outer},itemContainer:{minHeight:"unset",paddingBlock:h.xSmall_8+h.xxxxSmall_2,paddingInlineStart:h.xSmall_8,paddingInlineEnd:h.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class ne extends i.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_SEPARATOR_ITEM__}render(){return i.createElement(V,{style:[Kr.separator,this.props.style],"aria-hidden":"true"})}}ne.__IS_SEPARATOR_ITEM__=!0;const Ur={separator:{color:{border:u.border.primary}}},Kr=A.StyleSheet.create({separator:{borderTop:`1px solid ${Ur.separator.color.border}`,height:1,minHeight:1,marginTop:h.xxxSmall_4,marginBottom:h.xxxSmall_4}});class tt extends i.Component{constructor(...e){super(...e),this.getTestIdFromProps=t=>t.testId||t["data-testid"]}renderAnchorChildren(e,t){var r;const{disabled:o,testId:s,text:a,opened:d,"aria-controls":c,"aria-haspopup":p,"aria-required":m,id:x,role:g,onBlur:y}=this.props,S=this.props.children(R({},e,{text:a,opened:d})),l=S.props,f=this.getTestIdFromProps(l),b=(r=l["aria-label"])!=null?r:this.props["aria-label"];return i.cloneElement(S,R({},t,{"aria-label":b??void 0,"aria-invalid":this.props.error,disabled:o,"aria-controls":c,role:g,id:x,"aria-expanded":d?"true":"false","aria-haspopup":p,"aria-required":m,onClick:l.onClick?C=>{l.onClick(C),t.onClick(C)}:t.onClick,"data-testid":f||s,onBlur:y}))}render(){return i.createElement(tr,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(e,t)=>this.renderAnchorChildren(e,t))}}tt.defaultProps={disabled:!1};class jr extends i.Component{render(){const{data:e,index:t,style:r}=this.props,o=e[t];if(ne.isClassOf(o.component))return i.cloneElement(o.component,{style:r});{const{component:s,populatedProps:a,onClick:d,role:c,ref:p}=o;return i.cloneElement(s,R({style:r},a,{key:t,onClick:d,ref:o.focusable&&p,role:c}))}}}function Mt(n,e=0){return n.slice(0,Kt).reduce((t,r)=>ne.isClassOf(r.component)?t+jt:t+ye,e)}class Gr extends i.Component{constructor(e){super(e),this.getItemSize=t=>{const r=this.props.data[t];return ne.isClassOf(r.component)?jt:ye},this.state={height:Mt(e.data),width:e.width}}componentDidMount(){const{schedule:e}=this.props;e.animationFrame(()=>{this.setWidth()})}componentDidUpdate(e){const{data:t,listRef:r}=this.props;e.data.length!==t.length&&(this.setHeight(),r&&r.current&&r.current.resetAfterIndex(1))}setWidth(){const e=xe.findDOMNode(this),t=e==null?void 0:e.parentElement;if(t){const r=t.getBoundingClientRect().width;this.setState({width:r})}}setHeight(){const e=Mt(this.props.data);this.setState({height:e})}renderInitialItems(){const{data:e}=this.props,t=e.map(o=>o.component);return i.Children.toArray(t).filter(Boolean).sort((o,s)=>s.props.label&&o.props.label?s.props.label.length-o.props.label.length:-1).slice(0,Kt).map(o=>i.cloneElement(o,{style:{visibility:"hidden"}}))}renderVirtualizedList(e,t){const{data:r,listRef:o}=this.props;return i.createElement(Mr,{height:t,itemCount:r.length,itemSize:this.getItemSize,itemData:r,style:{overflowX:"hidden"},width:e,overscanCount:5,ref:o},jr)}render(){const{width:e,height:t}=this.state;return e==null?this.renderInitialItems():this.renderVirtualizedList(e,t)}}var Xr=$t(Gr);function Yr({state:n,options:e}){const t=ar(n,e),{y:r}=n.modifiersData.preventOverflow||{y:0},{height:o}=n.rects.popper,[s]=n.placement.split("-"),d=o-t[s==="top"?"top":"bottom"]-r;n.styles.popper=R({},n.styles.popper,{maxHeight:`${d}px`,"--popper-max-height":`${d}px`})}const Zr={name:"maxHeight",enabled:!0,phase:"main",options:{padding:ye},requiresIfExists:["offset","preventOverflow","flip"],fn:Yr},Jr=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},Zr],Qr=function({children:e,alignment:t="left",onPopperElement:r,referenceElement:o}){const s=lr(o)||document.querySelector("body");return s?xe.createPortal(i.createElement(ir,{innerRef:a=>{a&&r&&r(a)},referenceElement:o,strategy:"fixed",placement:t==="left"?"bottom-start":"bottom-end",modifiers:Jr},({placement:a,ref:d,style:c,hasPopperEscaped:p,isReferenceHidden:m})=>{const x=!!(p||m);return i.createElement("div",{ref:d,style:c,"data-testid":"dropdown-popper","data-placement":a},e(x))}),s):null};function eo(n){return n.length===1||!/^[A-Z]/i.test(n)?n:""}function to(n,e){let t;return function(...o){const s=()=>{clearTimeout(t),n(...o)};clearTimeout(t),t=setTimeout(s,e)}}function Lt(n){return typeof n=="string"}function ze(n){return Lt(n.label)?n.label:Lt(n.labelAsText)?n.labelAsText:""}function Gt(n,e){return n?ze(e):e.label}const ro=125;class rt extends i.Component{static sameItemsFocusable(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r].focusable!==t[r].focusable)return!1;return!0}static getDerivedStateFromProps(e,t){if(t.itemRefs.length===0&&e.open||!rt.sameItemsFocusable(t.prevItems,e.items)){const r=[];for(let o=0;o<e.items.length;o++)if(e.items[o].focusable){const s=i.createRef();r.push({ref:s,originalIndex:o})}return{itemRefs:r,prevItems:e.items,sameItemsFocusable:!1}}else return{prevItems:e.items,sameItemsFocusable:!0}}constructor(e){super(e),this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.focusedIndex=-1,this.focusedOriginalIndex=-1,this.itemsClicked=!1,this.searchFieldRef=i.createRef(),this.handleInteract=t=>{const{open:r,onOpenChanged:o}=this.props,s=t.target,a=xe.findDOMNode(this);r&&a&&!a.contains(s)&&this.popperElement&&!this.popperElement.contains(s)&&o(!1)},this.handleKeyDown=t=>{const{enableTypeAhead:r,onOpenChanged:o,open:s,searchText:a}=this.props,d=t.key;if(r&&eo(d)&&(t.stopPropagation(),this.textSuggestion+=d,this.handleKeyDownDebounced(this.textSuggestion)),!s){if(d===X.down){t.preventDefault(),o(!0);return}return}switch(d){case X.tab:if(this.isSearchFieldFocused()&&a)return;this.restoreTabOrder(),o(!1);return;case X.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case X.up:t.preventDefault(),this.focusPreviousItem();return;case X.down:t.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=t=>{const{onOpenChanged:r,open:o}=this.props;switch(t.key){case X.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case X.escape:o&&(t.stopPropagation(),this.restoreTabOrder(),r(!1));return}},this.handleKeyDownDebounceResult=t=>{const r=this.props.items.filter(o=>o.focusable).findIndex(({component:o})=>{if(ne.isClassOf(o))return!1;if(ge.isClassOf(o)){const s=o.props;return ze(s).toLowerCase().startsWith(t.toLowerCase())}return!1});if(r>=0){const o=!this.props.open;o&&this.props.onOpenChanged(!0),this.focusedIndex=r,this.scheduleToFocusCurrentItem(s=>{this.props.selectionType==="single"&&o&&s&&(s.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=t=>{this.itemsClicked=!0,this.focusedIndex=t,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=t=>{t.nativeEvent.stopImmediatePropagation?t.nativeEvent.stopImmediatePropagation():t.stopPropagation()},this.handleItemClick=(t,r)=>{this.handleClickFocus(t),r.component.props.onClick&&r.component.props.onClick(),r.populatedProps.onClick&&r.populatedProps.onClick()},this.handleSearchTextChanged=t=>{const{onSearchTextChanged:r}=this.props;r&&r(t)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:R({noResults:Z.noResults,someResults:Z.someSelected},e.labels)},this.virtualizedListRef=i.createRef(),this.handleKeyDownDebounced=to(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(e){const{open:t,searchText:r}=this.props;if(e.open!==t)this.updateEventListeners(),this.maybeFocusInitialItem();else if(t){const{itemRefs:o,sameItemsFocusable:s}=this.state;if(s||e.searchText!==r)return;{const a=o.findIndex(d=>d.originalIndex===this.focusedOriginalIndex);a===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=a}this.props.labels!==e.labels&&this.setState({labels:R({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:e}=this.props;if(typeof e<"u")this.focusedIndex=e;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:e,open:t}=this.props;e&&(t?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):t||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(e){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(e)}):this.focusCurrentItem(e)}focusCurrentItem(e){const t=this.state.itemRefs[this.focusedIndex];if(!t)return;const{current:r}=this.virtualizedListRef;r&&r.scrollToItem(t.originalIndex);const o=()=>{if(!this.props.open)return;const s=this.state.itemRefs[this.focusedIndex],a=xe.findDOMNode(s.ref.current);if(!a&&this.shouldVirtualizeList()){this.props.schedule.animationFrame(o);return}a&&(a.focus(),this.focusedOriginalIndex=s.originalIndex,e&&e(a))};this.shouldVirtualizeList()?this.props.schedule.animationFrame(o):o()}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.isSearchFieldFocused()||(this.focusedIndex-=1);this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.isSearchFieldFocused()||(this.focusedIndex+=1);this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:e}=this.props;switch(e){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${e}" instead.`)}}maybeRenderNoResults(){const{items:e,labels:{noResults:t}}=this.props;return e.length===0?i.createElement(Me,{style:Te.noResult,testId:"dropdown-core-no-results"},t):null}shouldVirtualizeList(){return this.props.items.length>ro}renderList(){let e=0;const t=this.getItemRole();return this.props.items.map((r,o)=>{if(ne.isClassOf(r.component))return r.component;const{component:s,focusable:a,populatedProps:d}=r;a&&(e+=1);const c=e-1,p=this.state.itemRefs[c]?this.state.itemRefs[c].ref:null;return i.cloneElement(s,R({},d,{key:o,onClick:()=>{this.handleItemClick(c,r)},ref:a?p:null,role:d.role||t}))})}parseVirtualizedItems(){let e=0;const t=this.getItemRole();return this.props.items.map((r,o)=>{const{populatedProps:s}=r;!ne.isClassOf(r.component)&&r.focusable&&(e+=1);const a=e-1;return R({},r,{role:s.role||t,ref:r.focusable&&this.state.itemRefs[a]?this.state.itemRefs[a].ref:null,onClick:()=>{this.handleItemClick(a,r)}})})}renderVirtualizedList(){const e=this.parseVirtualizedItems();return i.createElement(Xr,{data:e,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:e}=this.props,{labels:t}=this.state;return i.createElement(Ir,{clearAriaLabel:t.clearSearch,onChange:this.handleSearchTextChanged,placeholder:t.filter,ref:this.searchFieldRef,style:Te.searchInputStyle,value:e||""})}renderDropdownMenu(e,t){const{"aria-invalid":r,"aria-required":o,dropdownStyle:s,isFilterable:a,openerElement:d,role:c,id:p}=this.props,m=d&&window.getComputedStyle(d),x=m?m.getPropertyValue("width"):0;return i.createElement(V,{onMouseUp:this.handleDropdownMouseUp,style:[Te.dropdown,t&&Te.hidden,s],testId:"dropdown-core-container"},a&&this.renderSearchField(),i.createElement(V,{id:p,role:c,style:[Te.listboxOrMenu,{minWidth:x}],"aria-invalid":c==="listbox"?r:void 0,"aria-required":c==="listbox"?o:void 0},e),this.maybeRenderNoResults())}renderDropdown(){const{alignment:e,openerElement:t}=this.props,r=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return i.createElement(Qr,{alignment:e,onPopperElement:o=>{this.popperElement=o},referenceElement:t},o=>this.renderDropdownMenu(r,o))}render(){const{open:e,opener:t,style:r,className:o,disabled:s}=this.props;return i.createElement(V,{onKeyDown:s?void 0:this.handleKeyDown,onKeyUp:s?void 0:this.handleKeyUp,style:[Te.menuWrapper,r],className:o},t,e&&this.renderDropdown())}}rt.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:Z.clearSearch,filter:Z.filter,noResults:Z.noResults,someResults:Z.someSelected},selectionType:"single"};const pt={dropdown:{color:{default:{background:u.surface.primary,border:u.border.primary}}},noResults:{color:{foreground:u.text.secondary}}},Te=A.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:pt.dropdown.color.default.background,borderRadius:W.radius.medium_4,paddingTop:h.xxxSmall_4,paddingBottom:h.xxxSmall_4,border:`solid 1px ${pt.dropdown.color.default.border}`,boxShadow:`0px 8px 8px 0px ${me.offBlack8}`,maxHeight:"var(--popper-max-height)"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:pt.noResults.color.foreground,alignSelf:"center",marginTop:h.xxSmall_6},searchInputStyle:{margin:h.xSmall_8,marginTop:h.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var bt=$t(rt);const oo=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],no=et("button");class so extends i.Component{render(){const e=this.props,{children:t,disabled:r,focused:o,hovered:s,pressed:a,testId:d,opened:c,"aria-label":p}=e,m=se(e,oo),x=r,g=[Re.shared,Re.default,x&&Re.disabled,!x&&a&&Re.press],y=i.createElement(Jt,{style:Re.text},t);return i.createElement(no,R({"aria-expanded":c?"true":"false","aria-haspopup":"menu","aria-label":p,disabled:x,style:g,type:"button"},m,{"data-testid":d}),i.createElement(V,{style:!x&&(s||o)&&Re.focus},y),i.createElement(Fe,{size:h.xxxSmall_4}),i.createElement(Le,{size:"small",color:"currentColor",icon:Ht,"aria-hidden":"true"}))}}const Je={actionMenuOpener:{color:{default:{background:"none",foreground:u.action.secondary.progressive.default.foreground},disabled:{foreground:u.action.secondary.disabled.foreground},press:{foreground:u.action.secondary.progressive.press.foreground}}}},Re=A.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:ye,border:"none",borderRadius:h.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},default:{background:Je.actionMenuOpener.color.default.background,color:Je.actionMenuOpener.color.default.foreground},disabled:{color:Je.actionMenuOpener.color.disabled.foreground,cursor:"not-allowed"},small:{height:h.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:W.radius.xSmall_2}},press:{color:Je.actionMenuOpener.color.press.foreground}}),io=["text","opened"];class ao extends i.Component{constructor(...e){super(...e),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=t=>{this.setState({opened:t}),this.props.onToggle&&this.props.onToggle(t)},this.handleOptionSelected=t=>{const{onChange:r,selectedValues:o}=this.props;if(!(!r||!o)){if(o.includes(t)){const s=o.indexOf(t),a=[...o.slice(0,s),...o.slice(s+1)];r(a)}else r([...o,t]);this.handleItemSelected()}},this.handleOpenerRef=t=>{this.openerElement=xe.findDOMNode(t)},this.handleClick=t=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(e,t){return{opened:typeof e.opened=="boolean"?e.opened:t.opened}}getMenuItems(){const{children:e,selectedValues:t}=this.props,r=i.Children.toArray(e).filter(Boolean),o=r.some(s=>ge.isClassOf(s));return r.map(s=>{const{value:a,disabled:d}=s.props,c={component:s,focusable:Ae.isClassOf(s)||ge.isClassOf(s)?!d:!1,populatedProps:{}};if(Ae.isClassOf(s))return R({},c,{populatedProps:{indent:o,onClick:this.handleItemSelected}});if(ge.isClassOf(s)){const p=t?t.includes(a):!1;return R({},c,{populatedProps:{onToggle:this.handleOptionSelected,selected:p,variant:"check",role:"menuitemcheckbox","aria-checked":p,"aria-selected":void 0}})}else return c})}renderOpener(e,t){const{disabled:r,menuText:o,opener:s,testId:a,id:d}=this.props;return i.createElement(be,{id:d},c=>i.createElement(tt,{id:c,"aria-controls":t,"aria-haspopup":"menu",onClick:this.handleClick,disabled:e===0||r,text:o,ref:this.handleOpenerRef,testId:s?void 0:a,opened:this.state.opened,role:"button"},s||(p=>{const{opened:m}=p,x=se(p,io);return i.createElement(so,R({},x,{disabled:r,opened:!!m,testId:a}),o)})))}render(){const{alignment:e,dropdownStyle:t,style:r,className:o,dropdownId:s}=this.props,a=this.getMenuItems();return i.createElement(be,{id:s},d=>i.createElement(bt,{id:d,role:"menu",style:r,className:o,opener:this.renderOpener(a.length,d),alignment:e,open:this.state.opened,items:a,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[lo.menuTopSpace,t]}))}}ao.defaultProps={alignment:"left",disabled:!1};const lo=A.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),co=["children","disabled","error","id","isPlaceholder","open","testId","aria-label","aria-required","aria-controls","onBlur","onOpenChanged"],uo=et("button");class xt extends i.Component{constructor(e){super(e),this.handleClick=t=>{const{open:r}=this.props;this.props.onOpenChanged(!r)},this.handleKeyDown=t=>{const r=t.key;(r===X.enter||r===X.space)&&(this.setState({pressed:!0}),t.preventDefault())},this.handleKeyUp=t=>{const r=t.key;(r===X.enter||r===X.space)&&(this.setState({pressed:!1}),this.handleClick(t))},this.state={pressed:!1}}render(){const e=this.props,{children:t,disabled:r,error:o,id:s,isPlaceholder:a,open:d,testId:c,"aria-label":p,"aria-required":m,"aria-controls":x,onBlur:g}=e,y=se(e,co),S=ho(a,o),l=r?u.icon.disabled:u.icon.primary,f=[ft.shared,S.default,r&&S.disabled,!r&&this.state.pressed&&S.press];return i.createElement(uo,R({},y,{"aria-disabled":r,"aria-expanded":d?"true":"false","aria-invalid":o,"aria-label":p??void 0,"aria-required":m,"aria-haspopup":"listbox","aria-controls":x,"data-testid":c,id:s,role:"combobox",type:"button",style:f,onClick:r?void 0:this.handleClick,onKeyDown:r?void 0:this.handleKeyDown,onKeyUp:r?void 0:this.handleKeyUp,onBlur:g}),i.createElement(Me,{style:ft.text},t||i.createElement("span",{"aria-hidden":"true"},"Â ")),i.createElement(Le,{icon:Ht,color:l,size:"small",style:ft.caret,"aria-hidden":"true"}))}}xt.defaultProps={disabled:!1,error:!1,isPlaceholder:!1};const ft=A.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:u.text.primary,height:ye,paddingLeft:h.medium_16,paddingRight:h.small_12,borderWidth:0,borderRadius:W.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:h.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),Qe={},ho=(n,e)=>{const t=`${n}-${e}`;if(Qe[t])return Qe[t];const r={default:{border:u.border.strong,background:u.surface.primary,foreground:u.text.primary},disabled:{border:u.action.secondary.disabled.border,background:u.action.secondary.disabled.background,foreground:u.text.secondary},error:{border:u.status.critical.foreground,background:u.status.critical.background,foreground:u.text.primary}},o=e?"destructive":"progressive",s=u.action.secondary[o],a={outlineOffset:-W.width.thin,outlineStyle:"solid",outlineWidth:W.width.thin},d=R({},a,{outlineColor:u.focus.outer}),c=R({},a,{outlineColor:s.hover.border}),p=R({background:s.press.background,color:n?e?u.text.secondary:u.action.secondary.progressive.press.foreground:u.text.primary,outlineColor:s.press.border},a),m=e?r.error:r.default,x={default:{background:m.background,borderColor:m.border,borderWidth:W.width.hairline,color:n?u.text.secondary:m.foreground,":hover:not([aria-disabled=true])":c,"@media not (hover: hover)":{":hover:not([aria-disabled=true])":{borderColor:m.border,borderWidth:W.width.hairline,paddingLeft:h.medium_16,paddingRight:h.small_12}},":focus-visible:not([aria-disabled=true])":d,":active:not([aria-disabled=true])":p},disabled:{background:r.disabled.background,borderColor:r.disabled.border,color:r.disabled.foreground,cursor:"not-allowed",":focus-visible":R({outlineColor:u.focus.outer},a)},press:p};return Qe[t]=A.StyleSheet.create(x),Qe[t]},po="This field is required.";function qe(n){return n?n.length>0:!1}function Xt({value:n,disabled:e=!1,validate:t,onValidate:r,required:o,open:s}){const[a,d]=i.useState(()=>t&&qe(n)&&!e&&t(n)||null),c=i.useCallback(y=>{if(!e){if(t){const S=y!==void 0&&t(y)||null;if(d(S),r&&r(S),S)return}if(o){const S=typeof o=="string"?o:po,l=qe(y)?null:S;d(l),r&&r(l)}}},[e,t,d,r,o]);Yt(()=>{qe(n)&&c(n)});function p(){!s&&o&&!qe(n)&&c(n)}return{errorMessage:a,onOpenerBlurValidation:p,onDropdownClosedValidation:()=>{o&&!qe(n)&&c(n)},onSelectionValidation:y=>{c(y)},onSelectedValuesChangeValidation:()=>{d(null),r&&r(null)}}}const fo=["children","error","id","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-label","aria-invalid","aria-required","disabled","dropdownId","validate","onValidate","required","showOpenerLabelAsText"],mo=n=>{const e=i.useRef(0),{children:t,error:r=!1,id:o,opener:s,placeholder:a,selectedValue:d,testId:c,alignment:p="left",autoFocus:m=!0,dropdownStyle:x,enableTypeAhead:g=!0,isFilterable:y,labels:S={clearSearch:Z.clearSearch,filter:Z.filter,noResults:Z.noResults,someResults:Z.someSelected},onChange:l,onToggle:f,opened:b,style:C,className:w,"aria-label":T,"aria-invalid":v,"aria-required":_,disabled:E=!1,dropdownId:z,validate:H,onValidate:ie,required:ae,showOpenerLabelAsText:te=!0}=n,j=se(n,fo),[$,G]=i.useState(!1),[le,de]=i.useState(""),[re,De]=i.useState(),{errorMessage:Se,onOpenerBlurValidation:ve,onDropdownClosedValidation:Ie,onSelectionValidation:Ce}=Xt({value:d,disabled:E,validate:H,onValidate:ie,required:ae,open:$}),J=r||!!Se;i.useEffect(()=>{E?G(!1):typeof b=="boolean"&&G(b)},[E,b]);const Q=k=>{G(k),de(""),f&&f(k),k||Ie()},Ue=k=>{k!==d&&l(k),$&&re&&re.focus(),G(!1),f&&f(!1),Ce(k)},Pe=k=>{let N=0;return e.current=0,k.map(U=>{const{disabled:ce,value:ee}=U.props,pe=d===ee;return pe&&(e.current=N),ce||(N+=1),{component:U,focusable:!ce,populatedProps:{onToggle:Ue,selected:pe,variant:"check"}}})},ot=k=>{const N=le.toLowerCase();return k.filter(({props:U})=>!le||ze(U).toLowerCase().indexOf(N)>-1)},nt=k=>Pe(y?ot(k):k),st=k=>{de(k)},we=k=>{const N=xe.findDOMNode(k);De(N)},it=k=>{Q(!$)},Ke=k=>{Bt({message:k})};i.useEffect(()=>{const N=i.Children.toArray(t).find(U=>U.props.value===d);if(N){const U=ze(N.props);U&&Ke(U)}},[d,t]);const $e=(k,N)=>{const ce=i.Children.toArray(t).find(fe=>fe.props.value===d);let ee;return ce?ee=Gt(te,ce.props):ee=a,i.createElement(be,{id:o},fe=>s?i.createElement(tt,{id:fe,"aria-label":T,"aria-controls":N,"aria-haspopup":"listbox",onClick:it,disabled:k,ref:we,role:"combobox",text:ee,opened:$,error:J,onBlur:ve},s):i.createElement(xt,R({},j,{"aria-label":T,"aria-controls":N,disabled:k,id:fe,error:J,isPlaceholder:!ce,onOpenChanged:Q,open:$,ref:we,testId:c,onBlur:ve}),ee))},Ne=i.Children.toArray(t).filter(Boolean),at=Ne.filter(k=>!k.props.disabled).length,We=nt(Ne),Ve=at===0||E,{someResults:He}=S;return i.useEffect(()=>{$&&Ke(He(We.length))},[We.length,He,$]),i.createElement(be,{id:z},k=>i.createElement(bt,{id:k,role:"listbox",selectionType:"single",alignment:p,autoFocus:m,enableTypeAhead:g,dropdownStyle:[y&&Ut,qt,x],initialFocusedIndex:e.current,items:We,onOpenChanged:Q,open:$,opener:$e(Ve,k),openerElement:re,style:C,className:w,isFilterable:y,onSearchTextChanged:y?st:void 0,searchText:y?le:"",labels:S,"aria-invalid":v,"aria-required":_,disabled:Ve}))},go=["id","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-label","aria-invalid","aria-required","disabled","error","children","dropdownId","showOpenerLabelAsText","validate","onValidate","required"],bo=n=>{const{id:e,opener:t,testId:r,alignment:o="left",dropdownStyle:s,implicitAllEnabled:a,isFilterable:d,labels:c,onChange:p,onToggle:m,opened:x,selectedValues:g=[],shortcuts:y=!1,style:S,className:l,"aria-label":f,"aria-invalid":b,"aria-required":C,disabled:w=!1,error:T=!1,children:v,dropdownId:_,showOpenerLabelAsText:E=!0,validate:z,onValidate:H,required:ie}=n,ae=se(n,go),te=i.useMemo(()=>R({},Z,c),[c]),[j,$]=i.useState(!1),[G,le]=i.useState(""),[de,re]=i.useState([]),[De,Se]=i.useState(),{errorMessage:ve,onOpenerBlurValidation:Ie,onDropdownClosedValidation:Ce,onSelectionValidation:J,onSelectedValuesChangeValidation:Q}=Xt({value:g,disabled:w,validate:z,onValidate:H,required:ie,open:j}),Ue=T||!!ve;i.useEffect(()=>{w?$(!1):typeof x=="boolean"&&$(x)},[w,x]);const Pe=I=>{$(I),le(""),re(g),m&&m(I),I||(de!==g?J(g):Ce())},ot=I=>{if(g.includes(I)){const F=g.indexOf(I),O=[...g.slice(0,F),...g.slice(F+1)];p(O)}else p([...g,I]);Q()},nt=()=>{const F=i.Children.toArray(v).filter(O=>!!O&&!O.props.disabled).map(O=>O.props.value);p(F),Q()},st=()=>{p([]),Q()},we=i.useCallback(I=>{const{noneSelected:F,someSelected:O,allSelected:D}=te,B=I.filter(M=>!M.props.disabled).length,oe=a?D:F;switch(g.length){case 0:return oe;case 1:const M=I.find(ke=>ke.props.value===g[0]);if(M){const ke=Gt(E,M==null?void 0:M.props);return ke||O(1)}return oe;case B:return D;default:return O(g.length)}},[a,te,g,E]),it=I=>{const{selectAllLabel:F,selectNoneLabel:O}=te;if(y&&!G){const D=I===g.length,B={component:i.createElement(Ae,{disabled:D,label:F(I),indent:!0,onClick:nt}),focusable:!D,populatedProps:{}},oe=g.length===0,M={component:i.createElement(Ae,{disabled:oe,label:O,indent:!0,onClick:st}),focusable:!oe,populatedProps:{}},ke={component:i.createElement(ne,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[B,M,ke]}else return[]},Ke=I=>{if(!d)return I.map($e);const F=G.toLowerCase(),O=I.filter(({props:M})=>!G||ze(M).toLowerCase().indexOf(F)>-1),D=[],B=[];for(const M of O)de.includes(M.props.value)?D.push(M):B.push(M);const oe=D.map($e);return D.length&&B.length&&oe.push({component:i.createElement(ne,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...oe,...B.map($e)]},$e=I=>{const{disabled:F,value:O}=I.props;return{component:I,focusable:!F,populatedProps:{onToggle:ot,selected:g.includes(O),variant:"checkbox"}}},Ne=I=>{const F=xe.findDOMNode(I);Se(F)},at=I=>{le(I)},We=I=>{Pe(!j)},Ve=I=>{Bt({message:I})},He=i.useCallback((I,F)=>{let O;if(g.length===1){const D=I.find(B=>B.props.value===g[0]);O=D?ze(D==null?void 0:D.props):void 0}else typeof F=="string"&&(O=F);return O},[g]);i.useEffect(()=>{const I=i.Children.toArray(v),F=we(I),O=He(I,F);O&&Ve(O)},[v,we,He]);const k=(I,F,O)=>{const{noneSelected:D}=te,B=we(I);return i.createElement(be,{id:e},M=>t?i.createElement(tt,{id:M,error:Ue,"aria-label":f,"aria-controls":O,"aria-haspopup":"listbox",onClick:We,onBlur:Ie,disabled:F,ref:Ne,role:"combobox",text:B,opened:j},t):i.createElement(xt,R({},ae,{error:Ue,disabled:F,id:M,"aria-label":f,"aria-controls":O,isPlaceholder:B===D,onOpenChanged:Pe,onBlur:Ie,open:j,ref:Ne,testId:r}),B))},{clearSearch:N,filter:U,noResults:ce,someSelected:ee}=te,pe=i.Children.toArray(v).filter(Boolean),fe=pe.filter(I=>!I.props.disabled).length,lt=Ke(pe),yt=fe===0||w;return i.useEffect(()=>{j&&Ve(ee(lt.length))},[lt.length,ee,j]),i.createElement(be,{id:_},I=>i.createElement(bt,{id:I,role:"listbox",alignment:o,dropdownStyle:[d&&Ut,qt,s],isFilterable:d,items:[...it(fe),...lt],onOpenChanged:Pe,open:j,opener:k(pe,yt,I),openerElement:De,selectionType:"multi",style:S,className:l,onSearchTextChanged:d?at:void 0,searchText:d?G:"",labels:{clearSearch:N,filter:U,noResults:ce,someResults:ee},"aria-invalid":b,"aria-required":C,disabled:yt}))};et("span");A.StyleSheet.create({srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});i.memo(function({disabled:e,focusedMultiSelectIndex:t,id:r,labels:o,onRemove:s,removeSelectedLabel:a,selected:d,testId:c}){return i.createElement(V,{role:"group",style:mt.pillsWrapper,id:r},d.map((p,m)=>{const x=o[m],g=m===t,y=r+m;return i.createElement(dr,{id:y,key:y,testId:c?`${c}-pill-${m}`:void 0,size:"small",style:[mt.pill,g&&mt.pillFocused],kind:g?"info":"neutral","aria-label":a(x),tabIndex:-1,onClick:()=>s(p)},i.createElement(i.Fragment,null,x,!e&&i.createElement(Le,{icon:Pt,size:"small"})))}))});const mt=A.StyleSheet.create({pillsWrapper:{flexDirection:"row",flexWrap:"wrap"},pill:{fontSize:or.size.small,justifyContent:"space-between",alignItems:"center",marginBlockStart:h.xxxSmall_4,marginInlineEnd:h.xxxSmall_4,paddingInlineEnd:h.xxxSmall_4},pillFocused:{outline:`1px solid ${u.focus.outer}`}}),xo={listbox:{color:{disabled:{foreground:u.action.secondary.disabled.foreground}}}};A.StyleSheet.create({listbox:{outline:"none"},disabled:{color:xo.listbox.color.disabled.foreground}});const K={combobox:{color:{default:{border:u.border.strong,background:u.surface.primary},focus:{border:u.focus.outer,background:u.surface.primary},disabled:{border:u.action.secondary.disabled.border,background:u.action.secondary.disabled.background,foreground:u.action.secondary.disabled.foreground},error:{border:u.status.critical.foreground,background:u.status.critical.background,foreground:u.text.primary}}},listbox:{color:{default:{background:u.surface.primary,border:u.border.primary}}}};A.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"center",width:"100%",maxWidth:"100%",flexWrap:"wrap",background:K.combobox.color.default.background,borderRadius:W.radius.medium_4,border:`solid 1px ${K.combobox.color.default.border}`,paddingInline:h.xSmall_8},focused:{background:K.combobox.color.focus.background,border:`1px solid ${K.combobox.color.focus.border}`},disabled:{background:K.combobox.color.disabled.background,border:`1px solid ${K.combobox.color.disabled.border}`,color:K.combobox.color.disabled.foreground},error:{background:K.combobox.color.error.background,border:`1px solid ${K.combobox.color.error.border}`,color:K.combobox.color.error.foreground},combobox:{appearance:"none",background:"none",border:"none",outline:"none",padding:0,minWidth:h.xxxSmall_4,width:"auto",display:"inline-grid",gridArea:"1 / 2",":focus-visible":{outline:"none",border:"none"}},listbox:{backgroundColor:K.listbox.color.default.background,borderRadius:W.radius.medium_4,border:`solid ${W.width.hairline}px ${K.listbox.color.default.border}`,boxShadow:`0px ${h.xSmall_8}px ${h.xSmall_8}px 0px ${me.offBlack8}`,maxHeight:"var(--popper-max-height)",overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},button:{position:"absolute",right:h.xxxSmall_4,top:h.xxxSmall_4,margin:0},buttonOpen:{transform:"rotate(180deg)"},clearButton:{right:h.xLarge_32+h.xSmall_8},iconWrapper:{padding:h.xxxSmall_4,minWidth:"auto"}});const yo=n=>{const{strings:e}=cr(),t=p=>{const{choices:m,onChange:x}=n;x(m.map(g=>p.includes(g.content)))},r=p=>p.map(({content:m})=>je.jsx(ge,{value:m,label:je.jsx(ur,{content:m,strings:e,inline:!0})},m)),o=n.choices.filter(p=>p.checked).map(p=>p.content),{opener:s,onToggle:a,disabled:d}=n,c={style:{zIndex:"unset"},children:r(n.choices),opener:s,onToggle:a,disabled:d};return n.multipleSelect?je.jsx(bo,{...c,selectedValues:o,onChange:p=>t(p)}):je.jsx(mo,{...c,selectedValue:o[0],onChange:p=>t([p]),placeholder:n.choices[0].content})};yo.__docgenInfo={description:"",methods:[],displayName:"AnswerChoices",props:{choices:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"signature",type:"object",raw:`{
    // The answer string, can be plain text or a TeX expression.
    content: string;
    // Whether the answer is selected.
    checked: boolean;
}`,signature:{properties:[{key:"content",value:{name:"string",required:!0}},{key:"checked",value:{name:"boolean",required:!0}}]}}],raw:"ReadonlyArray<AnswerType>"},description:""},multipleSelect:{required:!0,tsType:{name:"boolean"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selection: ReadonlyArray<boolean>) => void",signature:{arguments:[{type:{name:"ReadonlyArray",elements:[{name:"boolean"}],raw:"ReadonlyArray<boolean>"},name:"selection"}],return:{name:"void"}}},description:""},opener:{required:!0,tsType:{name:'PropsFor["opener"]',raw:'PropsFor<typeof SingleSelect>["opener"]'},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(opened: boolean) => unknown",signature:{arguments:[{type:{name:"boolean"},name:"opened"}],return:{name:"unknown"}}},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""}}};export{yo as A,ge as O,mo as S,ao as a,Ae as b,Ht as c};
