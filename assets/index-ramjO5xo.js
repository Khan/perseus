import{j as s,F as k,a as N}from"./jsx-runtime-BGVbfQ2Z.js";import{V as T}from"./index-eZ2N530f.js";import{c as K}from"./index-Hz0Gzck5.js";import{l as h}from"./index-awljIyHI.js";import{r as p,a as E}from"./index-qhcEwEpg.js";import{T as ae}from"./tabbar-KlCELibv.js";import{K as d,c as ie}from"./button-assets-yiNx9gpN.js";import{K as c}from"./keypad-button-NViRCRGh.js";import{N as re,O as se,G as oe}from"./operators-page-HqDWvnan.js";import{N as le}from"./navigation-pad-1KfAxqQs.js";import{R as A}from"./index-E09jvG0x.js";import{w as de}from"./index-uu39Elyn.js";import{e as ue}from"./index-J2t_5nK1.js";var f=(t=>(t.NONE="NONE",t.IN_PARENS="IN_PARENS",t.IN_SUPER_SCRIPT="IN_SUPER_SCRIPT",t.IN_SUB_SCRIPT="IN_SUB_SCRIPT",t.IN_NUMERATOR="IN_NUMERATOR",t.IN_DENOMINATOR="IN_DENOMINATOR",t.BEFORE_FRACTION="BEFORE_FRACTION",t))(f||{});const q=3;function ce(t){const{extraKeys:e,onClickKey:n}=t;return s(k,{children:e.map((i,a)=>{const r=a%q,o=a/q;return s(c,{keyConfig:d[i],onClickKey:n,coord:[r,o]},i)})})}try{extraspage.displayName="extraspage",extraspage.__docgenInfo={description:"",displayName:"extraspage",props:{extraKeys:{defaultValue:null,description:"",name:"extraKeys",required:!0,type:{name:'readonly ("x" | "y" | "a" | "b" | "i" | "p" | "q" | "s" | "u" | "g" | "PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | ... 90 more ... | "LOG_B")[]'}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}}}}}catch{}const z=500;function B(t){if(!t)return null;switch(t){case f.NONE:return null;case f.IN_PARENS:return d.JUMP_OUT_PARENTHESES;case f.IN_SUPER_SCRIPT:return d.JUMP_OUT_EXPONENT;case f.IN_SUB_SCRIPT:return d.JUMP_OUT_BASE;case f.IN_NUMERATOR:return d.JUMP_OUT_NUMERATOR;case f.IN_DENOMINATOR:return d.JUMP_OUT_DENOMINATOR;case f.BEFORE_FRACTION:return d.JUMP_INTO_NUMERATOR}}function pe(t){const{onClickKey:e,cursorContext:n}=t,i=B(n);return N(k,{children:[s(c,{keyConfig:d.NUM_1,onClickKey:e,coord:[0,2]}),s(c,{keyConfig:d.NUM_2,onClickKey:e,coord:[1,2]}),s(c,{keyConfig:d.NUM_3,onClickKey:e,coord:[2,2]}),s(c,{keyConfig:d.NUM_4,onClickKey:e,coord:[0,1]}),s(c,{keyConfig:d.NUM_5,onClickKey:e,coord:[1,1]}),s(c,{keyConfig:d.NUM_6,onClickKey:e,coord:[2,1]}),s(c,{keyConfig:d.NUM_7,onClickKey:e,coord:[0,0]}),s(c,{keyConfig:d.NUM_8,onClickKey:e,coord:[1,0]}),s(c,{keyConfig:d.NUM_9,onClickKey:e,coord:[2,0]}),s(c,{keyConfig:d.NUM_0,onClickKey:e,coord:[0,3]}),s(c,{keyConfig:d.DECIMAL,onClickKey:e,coord:[1,3]}),s(c,{keyConfig:d.NEGATIVE,onClickKey:e,coord:[2,3]}),s(c,{keyConfig:d.PERCENT,onClickKey:e,coord:[3,0],secondary:!0}),s(c,{keyConfig:d.PI,onClickKey:e,coord:[3,1],secondary:!0}),s(c,{keyConfig:d.FRAC,onClickKey:e,coord:[3,2],secondary:!0}),i&&s(c,{keyConfig:i,onClickKey:e,coord:[3,3],secondary:!0}),s(c,{keyConfig:d.BACKSPACE,onClickKey:e,coord:[4,3],action:!0})]})}try{fractionspage.displayName="fractionspage",fractionspage.__docgenInfo={description:"",displayName:"fractionspage",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}}}}}catch{}function me(t){const{onClickKey:e,cursorContext:n,divisionKey:i,convertDotToTimes:a,selectedPage:r}=t,o=B(n),l=r==="Numbers"||r==="Operators"?[3,1]:[3,0];return N(k,{children:[s(c,{keyConfig:d.FRAC,onClickKey:e,coord:l,secondary:!0}),s(c,{keyConfig:d.PLUS,onClickKey:e,coord:[4,0],secondary:!0}),s(c,{keyConfig:d.MINUS,onClickKey:e,coord:[5,0],secondary:!0}),s(c,{keyConfig:ie(!!a)?d.TIMES:d.CDOT,onClickKey:e,coord:[4,1],secondary:!0}),i&&s(c,{keyConfig:d.DIVIDE,onClickKey:e,coord:[5,1],secondary:!0}),s(c,{keyConfig:d.LEFT_PAREN,onClickKey:e,coord:[4,2],secondary:!0}),s(c,{keyConfig:d.RIGHT_PAREN,onClickKey:e,coord:[5,2],secondary:!0}),o&&s(c,{keyConfig:o,onClickKey:e,coord:[4,3],secondary:!0}),s(c,{keyConfig:d.BACKSPACE,onClickKey:e,coord:[5,3],action:!0})]})}try{sharedkeys.displayName="sharedkeys",sharedkeys.__docgenInfo={description:"",displayName:"sharedkeys",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},selectedPage:{defaultValue:null,description:"",name:"selectedPage",required:!0,type:{name:"enum",value:[{value:'"Geometry"'},{value:'"Operators"'},{value:'"Numbers"'},{value:'"Fractions"'},{value:'"Extras"'},{value:'"Dismiss"'}]}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}}}}}catch{}const ye={extraKeys:[]};function fe(t){var n;if(t.fractionsOnly)return[];const e=["Numbers"];return(t.preAlgebra||t.logarithms||t.basicRelations||t.advancedRelations)&&e.push("Operators"),t.trigonometry&&e.push("Geometry"),(n=t.extraKeys)!=null&&n.length&&e.push("Extras"),e}function W(t){const e=t.fractionsOnly?"Fractions":"Numbers",[n,i]=p.useState(e),[a,r]=p.useState(!1),o=fe(t),{onClickKey:l,cursorContext:u,extraKeys:m,convertDotToTimes:y,divisionKey:$,preAlgebra:J,logarithms:X,basicRelations:Y,advancedRelations:Z,showDismiss:ee,onAnalyticsEvent:b,fractionsOnly:R,expandedView:I}=t,te=R?_.fractionsGrid:_.expressionGrid;return p.useEffect(()=>{i(e)},[R,e]),p.useEffect(()=>(a||(b({type:"math-input:keypad-opened",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),r(!0)),()=>{a&&(b({type:"math-input:keypad-closed",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),r(!1))}),[b,a]),s(T,{style:I?_.keypadOuterContainer:null,children:N(T,{style:[_.wrapper,I?_.expandedWrapper:null],children:[s(ae,{items:o,selectedItem:n,onSelectItem:ne=>{i(ne)},onClickClose:ee?()=>l("DISMISS"):void 0}),N(T,{style:_.keypadInnerContainer,children:[N(T,{style:[_.keypadGrid,te],tabIndex:0,"aria-label":"Keypad",children:[n==="Fractions"&&s(pe,{onClickKey:l,cursorContext:u}),n==="Numbers"&&s(re,{onClickKey:l}),n==="Extras"&&s(ce,{onClickKey:l,extraKeys:m}),n==="Operators"&&s(se,{onClickKey:l,preAlgebra:J,logarithms:X,basicRelations:Y,advancedRelations:Z}),n==="Geometry"&&s(oe,{onClickKey:l}),!R&&s(me,{onClickKey:l,cursorContext:u,convertDotToTimes:y,divisionKey:$,selectedPage:n})]}),I&&s(le,{onClickKey:l})]})]})})}W.defaultProps=ye;const _=h.StyleSheet.create({keypadOuterContainer:{display:"flex",alignItems:"center"},wrapper:{background:K.white},expandedWrapper:{borderWidth:"1px 1px 0 1px",borderColor:K.offBlack32,maxWidth:z,borderRadius:"3px 3px 0 0"},keypadInnerContainer:{display:"flex",flexDirection:"row",backgroundColor:"#DBDCDD"},keypadGrid:{display:"grid",gridTemplateRows:"repeat(4, 1fr)",flex:1},expressionGrid:{gridTemplateColumns:"repeat(6, 1fr)"},fractionsGrid:{gridTemplateColumns:"repeat(5, 1fr)"}});try{keypad.displayName="keypad",keypad.__docgenInfo={description:"",displayName:"keypad",props:{extraKeys:{defaultValue:{value:"[]"},description:"",name:"extraKeys",required:!1,type:{name:'readonly ("x" | "y" | "a" | "b" | "i" | "p" | "q" | "s" | "u" | "g" | "PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | ... 90 more ... | "LOG_B")[]'}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},showDismiss:{defaultValue:null,description:"",name:"showDismiss",required:!1,type:{name:"boolean"}},expandedView:{defaultValue:null,description:"",name:"expandedView",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}},trigonometry:{defaultValue:null,description:"",name:"trigonometry",required:!1,type:{name:"boolean"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}},fractionsOnly:{defaultValue:null,description:"",name:"fractionsOnly",required:!1,type:{name:"boolean"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}const j=p.createContext({setKeypadActive:t=>{},keypadActive:!1,setKeypadElement:t=>{},keypadElement:null,setRenderer:t=>{},renderer:null,setScrollableElement:t=>{},scrollableElement:null});function U(t){const[e,n]=p.useState(!1),[i,a]=p.useState(),[r,o]=p.useState(),[l,u]=p.useState(),m=p.useMemo(()=>({keypadActive:e,setKeypadActive:n,keypadElement:i,setKeypadElement:a,renderer:r,setRenderer:o,scrollableElement:l,setScrollableElement:u}),[e,n,i,a,r,o,l,u]);return s(j.Provider,{value:m,children:t.children})}try{U.displayName="StatefulKeypadContextProvider",U.__docgenInfo={description:"",displayName:"StatefulKeypadContextProvider",props:{}}}catch{}class w extends p.Component{render(){const{numberOfLines:e,style:n}=this.props,i=h.css(L.initial,...Array.isArray(n)?n:[n],e===1&&L.singleLineStyle);return s("span",{className:i,style:this.props.dynamicStyle,children:this.props.children})}}const L=h.StyleSheet.create({initial:{color:"inherit",display:"inline",font:"inherit",margin:0,padding:0,textDecorationLine:"none",wordWrap:"break-word"},singleLineStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});try{w.displayName="Text",w.__docgenInfo={description:"",displayName:"Text",props:{dynamicStyle:{defaultValue:null,description:"",name:"dynamicStyle",required:!1,type:{name:"any"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}}}catch{}const S=class S extends p.Component{render(){const e=h.css(S.styles.initial,...Array.isArray(this.props.style)?this.props.style:[this.props.style])+(this.props.extraClassName?` ${this.props.extraClassName}`:"");return s("div",{className:e,style:this.props.dynamicStyle,onClick:this.props.onClick,onTouchCancel:this.props.onTouchCancel,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,"aria-label":this.props.ariaLabel,role:this.props.role,ref:this.props.forwardRef,children:this.props.children})}};S.styles=h.StyleSheet.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",margin:0,padding:0,position:"relative",backgroundColor:"transparent",color:"inherit",font:"inherit",textAlign:"inherit",textDecorationLine:"none",listStyle:"none",maxWidth:"100%",minHeight:0,minWidth:0}});let g=S;try{g.displayName="View",g.__docgenInfo={description:"",displayName:"View",props:{ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},dynamicStyle:{defaultValue:null,description:"",name:"dynamicStyle",required:!1,type:{name:"any"}},extraClassName:{defaultValue:null,description:"",name:"extraClassName",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((arg1: SyntheticEvent<HTMLDivElement, Event>) => void)"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}}}}}catch{}function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},O.apply(this,arguments)}function he(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,r;for(r=0;r<i.length;r++)a=i[r],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function M(t,e){return M=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},M(t,e)}function _e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,M(t,e)}const F=E.createContext(null);function ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t,e){var n=function(r){return e&&p.isValidElement(r)?e(r):r},i=Object.create(null);return t&&p.Children.map(t,function(a){return a}).forEach(function(a){i[a.key]=n(a)}),i}function Ee(t,e){t=t||{},e=e||{};function n(y){return y in e?e[y]:t[y]}var i=Object.create(null),a=[];for(var r in t)r in e?a.length&&(i[r]=a,a=[]):a.push(r);var o,l={};for(var u in e){if(i[u])for(o=0;o<i[u].length;o++){var m=i[u][o];l[i[u][o]]=n(m)}l[u]=n(u)}for(o=0;o<a.length;o++)l[a[o]]=n(a[o]);return l}function v(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Ne(t,e){return P(t.children,function(n){return p.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:v(n,"appear",t),enter:v(n,"enter",t),exit:v(n,"exit",t)})})}function ge(t,e,n){var i=P(t.children),a=Ee(e,i);return Object.keys(a).forEach(function(r){var o=a[r];if(p.isValidElement(o)){var l=r in e,u=r in i,m=e[r],y=p.isValidElement(m)&&!m.props.in;u&&(!l||y)?a[r]=p.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:v(o,"exit",t),enter:v(o,"enter",t)}):!u&&l&&!y?a[r]=p.cloneElement(o,{in:!1}):u&&l&&p.isValidElement(m)&&(a[r]=p.cloneElement(o,{onExited:n.bind(null,o),in:m.props.in,exit:v(o,"exit",t),enter:v(o,"enter",t)}))}}),a}var Te=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Ce={component:"div",childFactory:function(e){return e}},D=function(t){_e(e,t);function e(i,a){var r;r=t.call(this,i,a)||this;var o=r.handleExited.bind(ve(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,r){var o=r.children,l=r.handleExited,u=r.firstRender;return{children:u?Ne(a,l):ge(a,o,l),firstRender:!1}},n.handleExited=function(a,r){var o=P(this.props.children);a.key in o||(a.props.onExited&&a.props.onExited(r),this.mounted&&this.setState(function(l){var u=O({},l.children);return delete u[a.key],{children:u}}))},n.render=function(){var a=this.props,r=a.component,o=a.childFactory,l=he(a,["component","childFactory"]),u=this.state.contextValue,m=Te(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,r===null?E.createElement(F.Provider,{value:u},m):E.createElement(F.Provider,{value:u},E.createElement(r,l,m))},e}(E.Component);D.propTypes={};D.defaultProps=Ce;function Q(t){const e=[];if(!t)return e;if(Array.isArray(t))for(const n of t)e.push(...Q(n));else e.push(t);return e}function G(t){const e=[],n=[];if(!t)return{style:{},className:""};const i=typeof globalThis<"u"&&globalThis.SNAPSHOT_INLINE_APHRODITE;Q(t).forEach(r=>{const o=r._definition;if(o!=null)if(i){const l={};for(const[u,m]of ue(o))l[u.replace(/-[a-z]/g,y=>y[1].toUpperCase())]=m;n.push(l)}else e.push(r);else n.push(r)});const a=Object.assign({},...n);if(n.length>0&&!i){const r=h.StyleSheet.create({inlineStyles:a});e.push(r.inlineStyles)}return{style:i?a:{},className:h.css(...e)}}class Se extends p.Component{constructor(e){super(e),this._isMounted=!1,this.addClass=(n,i)=>{i&&(n.classList.add(i),this.appliedClassNames.add(i))},this.removeClass=(n,i)=>{i&&(n.classList.remove(i),this.appliedClassNames.delete(i))},this.flushClassNameQueue=()=>{if(this._isMounted){const n=A.findDOMNode(this);n instanceof Element&&this.classNameQueue.forEach(([i,a])=>{this.removeClass(n,i),this.addClass(n,a)})}this.classNameQueue.length=0},this._isMounted=!1,this.classNameQueue=[],this.appliedClassNames=new Set,this.state={status:"mounted"}}static getDerivedStateFromProps({in:e},n){return e&&n.status==="unmounted"?{status:"mounted"}:null}componentDidMount(){this._isMounted=!0,typeof this.props.appearTimeout=="number"?this.transition("appear",this.props.appearTimeout):this.transition("enter",this.props.enterTimeout)}componentDidUpdate(e,n){e.in&&!this.props.in?this.transition("leave",this.props.leaveTimeout):!e.in&&this.props.in&&this.transition("enter",this.props.enterTimeout),n.status!=="mounted"&&this.state.status==="mounted"&&this.setState({status:"unmounted"})}componentWillUnmount(){this._isMounted=!1,this.props.schedule.clearAll()}removeAllClasses(e){for(const n of this.appliedClassNames)this.removeClass(e,n)}transition(e,n){const i=A.findDOMNode(this);if(!(i instanceof Element))return;this.removeAllClasses(i),this.props.schedule.clearAll();const a=typeof this.props.transitionStyles=="function"?this.props.transitionStyles():this.props.transitionStyles,{className:r}=G(a[e]),{className:o}=G([a[e],a[e+"Active"]]);this.addClass(i,r),this.queueClass(r,o),e==="leave"&&this.props.schedule.timeout(()=>{this._isMounted&&this.setState({status:"unmounted"})},n||0)}queueClass(e,n){this.classNameQueue.push([e,n]),this.props.schedule.timeout(this.flushClassNameQueue,0)}render(){const{status:e}=this.state;return e==="unmounted"?null:this.props.children}}const be=de(Se);try{transitionchild.displayName="transitionchild",transitionchild.__docgenInfo={description:"",displayName:"transitionchild",props:{transitionStyles:{defaultValue:null,description:"",name:"transitionStyles",required:!0,type:{name:"AnimationStyles | (() => AnimationStyles)"}},appearTimeout:{defaultValue:null,description:"",name:"appearTimeout",required:!1,type:{name:"number"}},enterTimeout:{defaultValue:null,description:"",name:"enterTimeout",required:!1,type:{name:"number"}},leaveTimeout:{defaultValue:null,description:"",name:"leaveTimeout",required:!1,type:{name:"number"}},in:{defaultValue:null,description:"",name:"in",required:!1,type:{name:"boolean"}}}}}catch{}class V extends p.Component{render(){const{children:e}=this.props;return s(D,{component:null,children:p.Children.map(e,n=>s(be,{transitionStyles:this.props.transitionStyle,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout,children:n}))})}}try{V.displayName="AphroditeCSSTransitionGroup",V.__docgenInfo={description:"",displayName:"AphroditeCSSTransitionGroup",props:{transitionStyle:{defaultValue:null,description:"",name:"transitionStyle",required:!0,type:{name:"AnimationStyles | (() => AnimationStyles)"}},transitionAppearTimeout:{defaultValue:null,description:"",name:"transitionAppearTimeout",required:!1,type:{name:"number"}},transitionEnterTimeout:{defaultValue:null,description:"",name:"transitionEnterTimeout",required:!1,type:{name:"number"}},transitionLeaveTimeout:{defaultValue:null,description:"",name:"transitionLeaveTimeout",required:!1,type:{name:"number"}}}}}catch{}const C=200;class x extends p.Component{constructor(){super(...arguments),this._containerRef=p.createRef(),this._containerResizeObserver=null,this._throttleResize=!1,this.state={containerWidth:0},this._resize=()=>{var n;const e=((n=this._containerRef.current)==null?void 0:n.clientWidth)||0;this.setState({containerWidth:e})},this._throttleResizeHandler=()=>{this._throttleResize||(this._throttleResize=!0,setTimeout(()=>{this._resize(),this._throttleResize=!1},100))},this.activate=()=>{this.props.setKeypadActive(!0)},this.dismiss=()=>{var e,n;this.props.setKeypadActive(!1),(n=(e=this.props).onDismiss)==null||n.call(e)},this.configure=(e,n)=>{this.setState({keypadConfig:e}),setTimeout(()=>n&&n())},this.setCursor=e=>{this.setState({cursor:e})},this.setKeyHandler=e=>{this.setState({keyHandler:e})},this.getDOMNode=()=>A.findDOMNode(this)}componentDidMount(){var e,n;this._resize(),window.addEventListener("resize",this._throttleResizeHandler),window.addEventListener("orientationchange",this._throttleResizeHandler),"ResizeObserver"in window&&(this._containerResizeObserver=new window.ResizeObserver(this._throttleResizeHandler),this._containerRef.current&&this._containerResizeObserver.observe(this._containerRef.current)),(n=(e=this.props).onElementMounted)==null||n.call(e,{activate:this.activate,dismiss:this.dismiss,configure:this.configure,setCursor:this.setCursor,setKeyHandler:this.setKeyHandler,getDOMNode:this.getDOMNode})}componentWillUnmount(){var e;window.removeEventListener("resize",this._throttleResizeHandler),window.removeEventListener("orientationchange",this._throttleResizeHandler),(e=this._containerResizeObserver)==null||e.disconnect()}_handleClickKey(e){var i,a;if(e==="DISMISS"){this.dismiss();return}const n=(a=(i=this.state).keyHandler)==null?void 0:a.call(i,e);this.setState({cursor:n})}render(){const{keypadActive:e,style:n}=this.props,{containerWidth:i,cursor:a,keypadConfig:r}=this.state,o=[Re.keypadContainer,...Array.isArray(n)?n:[n]],l=(r==null?void 0:r.keypadType)==="EXPRESSION",u=r==null?void 0:r.times;return s(g,{style:o,forwardRef:this._containerRef,children:s(V,{transitionEnterTimeout:C,transitionLeaveTimeout:C,transitionStyle:{enter:{transform:"translate3d(0, 100%, 0)",transition:`${C}ms ease-out`},enterActive:{transform:"translate3d(0, 0, 0)"},leave:{transform:"translate3d(0, 0, 0)",transition:`${C}ms ease-out`},leaveActive:{transform:"translate3d(0, 100%, 0)"}},children:e?s(W,{onAnalyticsEvent:this.props.onAnalyticsEvent,extraKeys:r==null?void 0:r.extraKeys,onClickKey:m=>this._handleClickKey(m),cursorContext:a==null?void 0:a.context,fractionsOnly:!l,convertDotToTimes:u,divisionKey:l,trigonometry:l,preAlgebra:l,logarithms:l,basicRelations:l,advancedRelations:l,expandedView:i>z,showDismiss:!0}):null})})}}const Re=h.StyleSheet.create({keypadContainer:{bottom:0,left:0,right:0,position:"fixed"}});try{x.displayName="MobileKeypadInternals",x.__docgenInfo={description:`This is the v2 equivalent of v1's ProvidedKeypad. It follows the same
external API so that it can be hot-swapped with the v1 keypad and
is responsible for connecting the keypad with MathInput and the Renderer.

Ideally this strategy of attaching methods on the class component for
other components to call will be replaced props/callbacks since React
doesn't support this type of code anymore (functional components
can't have methods attached to them).`,displayName:"MobileKeypadInternals",props:{onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}},setKeypadActive:{defaultValue:null,description:"",name:"setKeypadActive",required:!0,type:{name:"(keypadActive: boolean) => void"}},keypadActive:{defaultValue:null,description:"",name:"keypadActive",required:!0,type:{name:"boolean"}}}}}catch{}function H(t){return s(j.Consumer,{children:({keypadActive:e,setKeypadActive:n})=>s(x,{...t,keypadActive:e,setKeypadActive:n})})}try{H.displayName="MobileKeypad",H.__docgenInfo={description:"",displayName:"MobileKeypad",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}try{keypad.displayName="keypad",keypad.__docgenInfo={description:"",displayName:"keypad",props:{extraKeys:{defaultValue:{value:"[]"},description:"",name:"extraKeys",required:!1,type:{name:'readonly ("x" | "y" | "a" | "b" | "i" | "p" | "q" | "s" | "u" | "g" | "PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | ... 90 more ... | "LOG_B")[]'}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},showDismiss:{defaultValue:null,description:"",name:"showDismiss",required:!1,type:{name:"boolean"}},expandedView:{defaultValue:null,description:"",name:"expandedView",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}},trigonometry:{defaultValue:null,description:"",name:"trigonometry",required:!1,type:{name:"boolean"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}},fractionsOnly:{defaultValue:null,description:"",name:"fractionsOnly",required:!1,type:{name:"boolean"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}try{MobileKeypad.displayName="MobileKeypad",MobileKeypad.__docgenInfo={description:"",displayName:"MobileKeypad",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}export{f as C,W as K,H as M,U as S,g as V,j as a};
