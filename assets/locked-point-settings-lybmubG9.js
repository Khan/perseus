import{a as p,j as o,F as b}from"./jsx-runtime-FVsy8kgq.js";import{B as M}from"./choice-XJA1Q6b6.js";import{V as w}from"./index-6h5t6F0w.js";import{S as g}from"./index-qUyqkRvh.js";import{s,c as P}from"./index-deFLJwr4.js";import{L as V,a as I}from"./index-h_CiYGGb.js";import{L as U,p as E}from"./locked-figure-aria-xjlm-osP.js";import{l as W}from"./index-awljIyHI.js";import{P as N,C as G,L as H,a as J}from"./locked-label-settings-3c3yU9f0.js";import{C as K}from"./color-select-Z0WPv9vg.js";import{C as Q,g as X,j as Y,a as Z}from"./util-86BkeTb1.js";import{L as _}from"./labeled-switch-thA9Wbuw.js";const q=L=>{var x,S,T;const{flags:i,headerLabel:A,coord:l,color:m,filled:C=!0,labels:n,ariaLabel:B,onChangeProps:d,onMove:v,onRemove:h,showPoint:f,expanded:F,onTogglePoint:k,onToggle:R}=L,c=!v&&!h;async function z(){let a=`Point${await Y(n)} at (${l[0]}, ${l[1]})`;const t=Z(m);return a+=t,a}function O(e){const a={color:e};n&&(a.labels=n.map(t=>({...t,color:e}))),d(a)}function $(e){const a=e[0]-l[0],t=e[1]-l[1],u={coord:e};n&&(u.labels=n.map(y=>({...y,coord:[y.coord[0]+a,y.coord[1]+t]}))),d(u)}function j(e,a){if(!n)return;const t=[...n];t[a]={...n[a],...e},d({labels:t})}function D(e){if(!n)return;const a=n.filter((t,u)=>u!==e);d({labels:a})}return p(N,{expanded:F,onToggle:R,containerStyle:c?r.definingContainer:void 0,panelStyle:c?r.definingPanel:void 0,header:p(w,{style:r.row,children:[o(V,{children:`${A||"Point"} (${l[0]}, ${l[1]})`}),o(g,{size:s.xSmall_8}),o(Q,{color:m,filled:C})]}),children:[o(G,{coord:l,style:r.spaceUnder,onChange:$}),k&&o(_,{label:"show point on graph",checked:!!f,style:f&&r.spaceUnder,onChange:k}),(!c||f)&&p(b,{children:[o(K,{selectedValue:m,onChange:O,style:r.spaceUnder}),o(_,{label:"open point",checked:!C,onChange:e=>{d({filled:!e})}})]}),!c&&((x=i==null?void 0:i.mafs)==null?void 0:x["locked-figures-aria"])&&p(b,{children:[o(g,{size:s.small_12}),o(w,{style:r.horizontalRule}),o(U,{ariaLabel:B,getPrepopulatedAriaLabel:z,onChangeProps:e=>{d(e)}})]}),(!c&&((S=i==null?void 0:i.mafs)==null?void 0:S["locked-point-labels"])||c&&((T=i==null?void 0:i.mafs)==null?void 0:T["locked-line-labels"]))&&p(b,{children:[o(g,{size:s.xxxSmall_4}),o(w,{style:r.horizontalRule}),o(g,{size:s.small_12}),o(I,{children:"Visible labels"}),n==null?void 0:n.map((e,a)=>o(H,{...e,containerStyle:!c&&r.lockedPointLabelContainer,expanded:!0,onChangeProps:t=>{j(t,a)},onRemove:()=>{D(a)}})),o(M,{kind:"tertiary",startIcon:E,onClick:()=>{const e={...X("label"),coord:[l[0]+.5,l[1]-1*((n==null?void 0:n.length)??0)],color:m};d({labels:[...n??[],e]})},style:r.addButton,children:"Add visible label"})]}),h&&o(J,{figureType:L.type,onMove:v,onRemove:h})]})},r=W.StyleSheet.create({definingContainer:{marginTop:s.xSmall_8,marginBottom:0,marginLeft:-s.xxxSmall_4,marginRight:-s.xxxSmall_4,backgroundColor:P.white},definingPanel:{paddingBottom:s.xxSmall_6},lockedPointLabelContainer:{backgroundColor:P.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:s.xSmall_8},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:P.offBlack16}}),me=q;q.__docgenInfo={description:"",methods:[],displayName:"LockedPointSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:"Optional flags to determine which features are enabled."},headerLabel:{required:!1,tsType:{name:"string"},description:`Optional label for the point to display in the header summary.
Defaults to "Point".`},showPoint:{required:!1,tsType:{name:"boolean"},description:"Whether the extra point settings are toggled open."},error:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Optional error message to display."},onTogglePoint:{required:!1,tsType:{name:"signature",type:"function",raw:"(newValue) => void",signature:{arguments:[{name:"newValue"}],return:{name:"void"}}},description:"Called when the extra settings toggle switch is changed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedPointType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedPointType"}],raw:"Partial<LockedPointType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when the point is moved."},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the point is removed."}}};export{me as L};
