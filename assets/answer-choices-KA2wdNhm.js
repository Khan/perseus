import{j as Be}from"./jsx-runtime-63Ea5SlK.js";import{a as J,_ as T,V as P,I as fe,b as Me,k as q,u as $t}from"./index-_3CKOwHy.js";import{r as s}from"./index-6oxdNXpR.js";import{n as F}from"./no-important-xCWWYXQR.js";import{a as _e,b as it,s as Bt,L as Nt}from"./index-4dAUYsag.js";import{C as Wt,_ as Ht,a as Vt}from"./index-0pCajwWr.js";import{S as Ee}from"./index-o999uk82.js";import{s as h,c as g,a as O,m as qt,d as Ut,b as he,f as Kt}from"./index-QHkT31Yt.js";import{P as Re}from"./index-7Z-R4z4z.js";import{T as jt,c as wt}from"./index-DQJhbslN.js";import{r as me}from"./index-9gkyvru-.js";import{I as Gt,x as Et}from"./index-ZdJtI3z8.js";import{w as kt}from"./index-OQMtW1Q1.js";import{_ as ct}from"./assertThisInitialized-4q6YPdh3.js";import{P as Xt,d as Zt}from"./Popper-Y5KDXl-P.js";import{m as Yt}from"./index-wvJr82a4.js";import{P as Qt}from"./index-MBMqDkZ-.js";import{u as Jt}from"./i18n-context-4c65FWra.js";import{R as en}from"./renderer-hOwF9UTk.js";const U={cellMinHeight:h.xxLarge_48,cellPadding:{paddingVertical:h.small_12,paddingHorizontal:h.medium_16},detailCellPadding:{paddingVertical:h.medium_16,paddingHorizontal:h.medium_16},accessoryHorizontalSpacing:h.medium_16},tn=o=>{switch(o){case"inset":return[Je.horizontalRule,Je.horizontalRuleInset];case"full-width":return Je.horizontalRule;case"none":return{}}},Je=F.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:h.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${g.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${U.cellPadding.paddingHorizontal}px)`}}}),nn=({leftAccessory:o,leftAccessoryStyle:e,disabled:t})=>o?s.createElement(s.Fragment,null,s.createElement(P,{style:[D.accessory,t&&D.accessoryDisabled,T({},e)]},o),s.createElement(Ee,{size:U.accessoryHorizontalSpacing})):null,rn=({rightAccessory:o,rightAccessoryStyle:e,active:t,disabled:n})=>o?s.createElement(s.Fragment,null,s.createElement(Ee,{size:U.accessoryHorizontalSpacing}),s.createElement(P,{style:[D.accessory,D.accessoryRight,n&&D.accessoryDisabled,T({},e),t&&D.accessoryActive]},o)):null;function ut(o){const{active:e,children:t,disabled:n,horizontalRule:r="inset",contentStyle:i=void 0,leftAccessory:a=void 0,leftAccessoryStyle:d=void 0,rightAccessory:c=void 0,rightAccessoryStyle:u=void 0,style:f,testId:S,innerStyle:m}=o,b=tn(r);return s.createElement(P,{style:[D.innerWrapper,m,f,b]},s.createElement(nn,{leftAccessory:a,leftAccessoryStyle:d,disabled:n}),s.createElement(P,{style:[D.content,i],testId:S},t),s.createElement(rn,{rightAccessory:c,rightAccessoryStyle:u,active:e,disabled:n}))}const _t=o=>{const{active:e,disabled:t,href:n,onClick:r,"aria-label":i,"aria-selected":a,"aria-checked":d,target:c,role:u,rootStyle:f}=o;return r||n?s.createElement(Wt,{disabled:t,onClick:r,href:n,hideDefaultFocusRing:!0,"aria-label":i||void 0,"aria-selected":a||void 0,"aria-checked":d,role:u,target:c,style:[D.wrapper,D.clickable,f,e&&D.active,t&&D.disabled],"aria-current":e?"true":void 0},()=>s.createElement(ut,o)):s.createElement(P,{style:[D.wrapper,f,e&&D.active],"aria-current":e?"true":void 0,role:u},s.createElement(ut,o))},D=F.StyleSheet.create({wrapper:{background:g.white,color:g.offBlack,display:"flex",minHeight:U.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:U.cellMinHeight,padding:`${U.cellPadding.paddingVertical}px ${U.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${U.cellPadding.paddingVertical-2}px ${U.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:g.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:h.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${h.xxxSmall_4}px)`,height:`calc(100% - ${h.xxxSmall_4}px)`,border:`${h.xxxxSmall_2}px solid ${g.blue}`,borderRadius:h.xxxSmall_4},":hover[aria-disabled=false]":{background:g.offBlack8},":active[aria-disabled=false]":{background:g.offBlack16}},active:{background:g.fadedBlue8,color:g.blue,":hover[aria-disabled=false]":{background:g.fadedBlue16},":active[aria-disabled=false]":{background:g.fadedBlue24}},disabled:{color:g.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:g.blue},accessoryDisabled:{color:g.offBlack,opacity:.32}}),on=["title"],sn=function(e){const{title:t}=e,n=J(e,on);return s.createElement(_t,n,typeof t=="string"?s.createElement(_e,null,t):t)},ln=["title","subtitle1","subtitle2"],ht=({subtitle:o,disabled:e})=>o?typeof o=="string"?s.createElement(it,{style:!e&&Rt.subtitle},o):o:null,an=function(e){const{title:t,subtitle1:n,subtitle2:r}=e,i=J(e,ln);return s.createElement(_t,T({},i,{innerStyle:Rt.innerWrapper}),s.createElement(ht,{subtitle:n,disabled:i.disabled}),n&&s.createElement(Ee,{size:h.xxxxSmall_2}),typeof t=="string"?s.createElement(_e,null,t):t,r&&s.createElement(Ee,{size:h.xxxxSmall_2}),s.createElement(ht,{subtitle:r,disabled:i.disabled}))},Rt=F.StyleSheet.create({subtitle:{color:g.offBlack64},innerWrapper:{padding:`${U.detailCellPadding.paddingVertical}px ${U.detailCellPadding.paddingHorizontal}px`}}),dn=""+new URL("magnifying-glass-bold-uhjCfR64.svg",import.meta.url).href,cn={clearSearch:"Clear search"},un=["clearAriaLabel","autoFocus","disabled","id","value","placeholder","style","testId","error","instantValidation","validate","onValidate","onClick","onChange","onFocus","onBlur"],hn=s.forwardRef(function(e,t){const{clearAriaLabel:n=cn.clearSearch,autoFocus:r,disabled:i=!1,id:a,value:d,placeholder:c,style:u,testId:f,error:S,instantValidation:m=!0,validate:b,onValidate:y,onClick:l,onChange:p,onFocus:x,onBlur:v}=e,I=J(e,un),R=s.useRef(null),C=()=>{var E;p(""),R==null||(E=R.current)==null||E.focus()},k=()=>!d.length||i?null:s.createElement(Gt,{icon:Et,size:"small",kind:"tertiary",onClick:C,style:Ne.dismissIcon,"aria-label":n});return s.createElement(fe,{id:a},E=>s.createElement(P,{onClick:l,style:[Ne.inputContainer,u]},s.createElement(Re,{icon:dn,size:"small",color:i?O.action.disabled.default:O.icon.primary,style:Ne.searchIcon,"aria-hidden":"true"}),s.createElement(jt,T({id:E,type:"text",autoFocus:r,disabled:i,instantValidation:m,validate:b,onValidate:y,onChange:p,onFocus:x,onBlur:v,placeholder:c,error:S,ref:M=>{t&&(t.current=M),R.current=M},value:d,style:[Ne.inputStyleReset,Bt.LabelMedium],testId:f},I)),k()))}),Ne=F.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:h.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:h.xSmall_8,marginRight:h.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:h.xxxSmall_4},inputStyleReset:{display:"flex",flex:1,width:"100%",paddingLeft:h.xLarge_32,paddingRight:h.large_24+h.medium_16}});var pt=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function pn(o,e){return!!(o===e||pt(o)&&pt(e))}function fn(o,e){if(o.length!==e.length)return!1;for(var t=0;t<o.length;t++)if(!pn(o[t],e[t]))return!1;return!0}function et(o,e){e===void 0&&(e=fn);var t,n=[],r,i=!1;function a(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return i&&t===this&&e(d,n)||(r=o.apply(this,d),i=!0,t=this,n=d),r}return a}var mn=typeof performance=="object"&&typeof performance.now=="function",ft=mn?function(){return performance.now()}:function(){return Date.now()};function mt(o){cancelAnimationFrame(o.id)}function gn(o,e){var t=ft();function n(){ft()-t>=e?o.call(null):r.id=requestAnimationFrame(n)}var r={id:requestAnimationFrame(n)};return r}var tt=-1;function gt(o){if(o===void 0&&(o=!1),tt===-1||o){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),tt=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return tt}var Ce=null;function bt(o){if(o===void 0&&(o=!1),Ce===null||o){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?Ce="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Ce="negative":Ce="positive-ascending"),document.body.removeChild(e),Ce}return Ce}var bn=150,xn=function(e,t){return e};function Sn(o){var e,t=o.getItemOffset,n=o.getEstimatedTotalSize,r=o.getItemSize,i=o.getOffsetForIndexAndAlignment,a=o.getStartIndexForOffset,d=o.getStopIndexForStartIndex,c=o.initInstanceProps,u=o.shouldResetStyleCacheOnItemSizeChange,f=o.validateProps;return e=function(S){Ht(m,S);function m(y){var l;return l=S.call(this,y)||this,l._instanceProps=c(l.props,ct(l)),l._outerRef=void 0,l._resetIsScrollingTimeoutId=null,l.state={instance:ct(l),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof l.props.initialScrollOffset=="number"?l.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},l._callOnItemsRendered=void 0,l._callOnItemsRendered=et(function(p,x,v,I){return l.props.onItemsRendered({overscanStartIndex:p,overscanStopIndex:x,visibleStartIndex:v,visibleStopIndex:I})}),l._callOnScroll=void 0,l._callOnScroll=et(function(p,x,v){return l.props.onScroll({scrollDirection:p,scrollOffset:x,scrollUpdateWasRequested:v})}),l._getItemStyle=void 0,l._getItemStyle=function(p){var x=l.props,v=x.direction,I=x.itemSize,R=x.layout,C=l._getItemStyleCache(u&&I,u&&R,u&&v),k;if(C.hasOwnProperty(p))k=C[p];else{var E=t(l.props,p,l._instanceProps),M=r(l.props,p,l._instanceProps),$=v==="horizontal"||R==="horizontal",ee=v==="rtl",te=$?E:0;C[p]=k={position:"absolute",left:ee?void 0:te,right:ee?te:void 0,top:$?0:E,height:$?"100%":M,width:$?M:"100%"}}return k},l._getItemStyleCache=void 0,l._getItemStyleCache=et(function(p,x,v){return{}}),l._onScrollHorizontal=function(p){var x=p.currentTarget,v=x.clientWidth,I=x.scrollLeft,R=x.scrollWidth;l.setState(function(C){if(C.scrollOffset===I)return null;var k=l.props.direction,E=I;if(k==="rtl")switch(bt()){case"negative":E=-I;break;case"positive-descending":E=R-v-I;break}return E=Math.max(0,Math.min(E,R-v)),{isScrolling:!0,scrollDirection:C.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._onScrollVertical=function(p){var x=p.currentTarget,v=x.clientHeight,I=x.scrollHeight,R=x.scrollTop;l.setState(function(C){if(C.scrollOffset===R)return null;var k=Math.max(0,Math.min(R,I-v));return{isScrolling:!0,scrollDirection:C.scrollOffset<k?"forward":"backward",scrollOffset:k,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._outerRefSetter=function(p){var x=l.props.outerRef;l._outerRef=p,typeof x=="function"?x(p):x!=null&&typeof x=="object"&&x.hasOwnProperty("current")&&(x.current=p)},l._resetIsScrollingDebounced=function(){l._resetIsScrollingTimeoutId!==null&&mt(l._resetIsScrollingTimeoutId),l._resetIsScrollingTimeoutId=gn(l._resetIsScrolling,bn)},l._resetIsScrolling=function(){l._resetIsScrollingTimeoutId=null,l.setState({isScrolling:!1},function(){l._getItemStyleCache(-1,null)})},l}m.getDerivedStateFromProps=function(l,p){return yn(l,p),f(l),null};var b=m.prototype;return b.scrollTo=function(l){l=Math.max(0,l),this.setState(function(p){return p.scrollOffset===l?null:{scrollDirection:p.scrollOffset<l?"forward":"backward",scrollOffset:l,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},b.scrollToItem=function(l,p){p===void 0&&(p="auto");var x=this.props,v=x.itemCount,I=x.layout,R=this.state.scrollOffset;l=Math.max(0,Math.min(l,v-1));var C=0;if(this._outerRef){var k=this._outerRef;I==="vertical"?C=k.scrollWidth>k.clientWidth?gt():0:C=k.scrollHeight>k.clientHeight?gt():0}this.scrollTo(i(this.props,l,p,R,this._instanceProps,C))},b.componentDidMount=function(){var l=this.props,p=l.direction,x=l.initialScrollOffset,v=l.layout;if(typeof x=="number"&&this._outerRef!=null){var I=this._outerRef;p==="horizontal"||v==="horizontal"?I.scrollLeft=x:I.scrollTop=x}this._callPropsCallbacks()},b.componentDidUpdate=function(){var l=this.props,p=l.direction,x=l.layout,v=this.state,I=v.scrollOffset,R=v.scrollUpdateWasRequested;if(R&&this._outerRef!=null){var C=this._outerRef;if(p==="horizontal"||x==="horizontal")if(p==="rtl")switch(bt()){case"negative":C.scrollLeft=-I;break;case"positive-ascending":C.scrollLeft=I;break;default:var k=C.clientWidth,E=C.scrollWidth;C.scrollLeft=E-k-I;break}else C.scrollLeft=I;else C.scrollTop=I}this._callPropsCallbacks()},b.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&mt(this._resetIsScrollingTimeoutId)},b.render=function(){var l=this.props,p=l.children,x=l.className,v=l.direction,I=l.height,R=l.innerRef,C=l.innerElementType,k=l.innerTagName,E=l.itemCount,M=l.itemData,$=l.itemKey,ee=$===void 0?xn:$,te=l.layout,ne=l.outerElementType,X=l.outerTagName,B=l.style,N=l.useIsScrolling,re=l.width,oe=this.state.isScrolling,Z=v==="horizontal"||te==="horizontal",Te=Z?this._onScrollHorizontal:this._onScrollVertical,ge=this._getRangeToRender(),be=ge[0],xe=ge[1],Se=[];if(E>0)for(var j=be;j<=xe;j++)Se.push(s.createElement(p,{data:M,key:ee(j,M),index:j,isScrolling:N?oe:void 0,style:this._getItemStyle(j)}));var G=n(this.props,this._instanceProps);return s.createElement(ne||X||"div",{className:x,onScroll:Te,ref:this._outerRefSetter,style:T({position:"relative",height:I,width:re,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},B)},s.createElement(C||k||"div",{children:Se,ref:R,style:{height:Z?"100%":G,pointerEvents:oe?"none":void 0,width:Z?G:"100%"}}))},b._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var l=this.props.itemCount;if(l>0){var p=this._getRangeToRender(),x=p[0],v=p[1],I=p[2],R=p[3];this._callOnItemsRendered(x,v,I,R)}}if(typeof this.props.onScroll=="function"){var C=this.state,k=C.scrollDirection,E=C.scrollOffset,M=C.scrollUpdateWasRequested;this._callOnScroll(k,E,M)}},b._getRangeToRender=function(){var l=this.props,p=l.itemCount,x=l.overscanCount,v=this.state,I=v.isScrolling,R=v.scrollDirection,C=v.scrollOffset;if(p===0)return[0,0,0,0];var k=a(this.props,C,this._instanceProps),E=d(this.props,k,C,this._instanceProps),M=!I||R==="backward"?Math.max(1,x):1,$=!I||R==="forward"?Math.max(1,x):1;return[Math.max(0,k-M),Math.max(0,Math.min(p-1,E+$)),k,E]},m}(s.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var yn=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},vn=50,we=function(e,t,n){var r=e,i=r.itemSize,a=n.itemMetadataMap,d=n.lastMeasuredIndex;if(t>d){var c=0;if(d>=0){var u=a[d];c=u.offset+u.size}for(var f=d+1;f<=t;f++){var S=i(f);a[f]={offset:c,size:S},c+=S}n.lastMeasuredIndex=t}return a[t]},In=function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex,a=i>0?r[i].offset:0;return a>=n?Tt(e,t,i,0,n):Cn(e,t,Math.max(0,i),n)},Tt=function(e,t,n,r,i){for(;r<=n;){var a=r+Math.floor((n-r)/2),d=we(e,a,t).offset;if(d===i)return a;d<i?r=a+1:d>i&&(n=a-1)}return r>0?r-1:0},Cn=function(e,t,n,r){for(var i=e.itemCount,a=1;n<i&&we(e,n,t).offset<r;)n+=a,a*=2;return Tt(e,t,Math.min(n,i-1),Math.floor(n/2),r)},xt=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,a=t.lastMeasuredIndex,d=0;if(a>=n&&(a=n-1),a>=0){var c=r[a];d=c.offset+c.size}var u=n-a-1,f=u*i;return d+f},wn=Sn({getItemOffset:function(e,t,n){return we(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:xt,getOffsetForIndexAndAlignment:function(e,t,n,r,i,a){var d=e.direction,c=e.height,u=e.layout,f=e.width,S=d==="horizontal"||u==="horizontal",m=S?f:c,b=we(e,t,i),y=xt(e,i),l=Math.max(0,Math.min(y-m,b.offset)),p=Math.max(0,b.offset-m+b.size+a);switch(n==="smart"&&(r>=p-m&&r<=l+m?n="auto":n="center"),n){case"start":return l;case"end":return p;case"center":return Math.round(p+(l-p)/2);case"auto":default:return r>=p&&r<=l?r:r<p?p:l}},getStartIndexForOffset:function(e,t,n){return In(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,a=e.height,d=e.itemCount,c=e.layout,u=e.width,f=i==="horizontal"||c==="horizontal",S=f?u:a,m=we(e,t,r),b=n+S,y=m.offset+m.size,l=t;l<d-1&&y<b;)l++,y+=we(e,l,r).size;return l},initInstanceProps:function(e,t){var n=e,r=n.estimatedItemSize,i={itemMetadataMap:{},estimatedItemSize:r||vn,lastMeasuredIndex:-1};return t.resetAfterIndex=function(a,d){d===void 0&&(d=!0),i.lastMeasuredIndex=Math.min(i.lastMeasuredIndex,a-1),t._getItemStyleCache(-1),d&&t.forceUpdate()},i},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const Ot=""+new URL("caret-down-bold-NQKqym-e.svg",import.meta.url).href,Ft={marginTop:h.xSmall_8,marginBottom:h.xSmall_8},zt={minHeight:100},le=40,At=9,Mt=9,K={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:o=>`Select all (${o})`,noneSelected:"0 items",someSelected:o=>o===1?"1 item":`${o} items`,allSelected:"All items"},{blue:En,white:St,offBlack:kn}=g;class ke extends s.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_ACTION_ITEM__}render(){const{disabled:e,horizontalRule:t,href:n,target:r,indent:i,label:a,lang:d,leftAccessory:c,rightAccessory:u,onClick:f,role:S,style:m,testId:b}=this.props,y=[Fe.wrapper,m],l=typeof a=="string"?s.createElement(_e,{lang:d,style:Fe.label},a):s.cloneElement(a,T({lang:d,style:Fe.label},a.props));return s.createElement(sn,{disabled:e,horizontalRule:t,rootStyle:y,leftAccessory:c,rightAccessory:u,style:[Fe.shared,i&&Fe.indent],role:S,testId:b,title:l,href:n,target:r,onClick:f})}}ke.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};ke.__IS_ACTION_ITEM__=!0;const Fe=F.StyleSheet.create({wrapper:{minHeight:le,touchAction:"manipulation",":focus":{borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${g.blue}`,outlineOffset:-h.xxxxSmall_2},":hover[aria-disabled=false]":{color:St,background:En},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:St,background:kn}},":active[aria-disabled=false]":{color:g.fadedBlue,background:g.activeBlue}},shared:{minHeight:le,height:le},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:h.medium_16*2}}),_n=function(e){const{selected:t}=e;return s.createElement(Re,{icon:wt,size:"small",style:[yt.bounds,!t&&yt.hide]})},yt=F.StyleSheet.create({bounds:{alignSelf:"center",height:h.medium_16,minHeight:h.medium_16,minWidth:h.medium_16},hide:{visibility:"hidden"}}),{offBlack16:Rn,offBlack50:Tn,offWhite:On}=g,Fn=function(e){const{disabled:t,selected:n}=e;return s.createElement(P,{className:"checkbox",style:[We.checkbox,n&&!t&&We.noBorder,t&&We.disabledCheckbox]},n&&s.createElement(Re,{icon:wt,size:"small",className:"check",style:[{width:h.small_12,height:h.small_12,margin:h.xxxxSmall_2},t&&n&&We.disabledCheckFormatting]}))},We=F.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:h.medium_16,minWidth:h.medium_16,height:h.medium_16,borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:Tn},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:Rn,backgroundColor:On},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),zn=["disabled","label","selected","testId","leftAccessory","horizontalRule","parentComponent","rightAccessory","style","subtitle1","subtitle2","value","onClick","onToggle","variant","role"],An=Me("li");class pe extends s.Component{constructor(...e){super(...e),this.handleClick=()=>{const{onClick:t,onToggle:n,value:r}=this.props;n(r),t&&t()}}static isClassOf(e){return e&&e.type&&e.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?_n:Fn}renderCell(){const e=this.props,{disabled:t,label:n,selected:r,testId:i,leftAccessory:a,horizontalRule:d,parentComponent:c,rightAccessory:u,style:f,subtitle1:S,subtitle2:m,role:b}=e,y=J(e,zn),l=this.getCheckComponent(),p=[ie.item,f];return s.createElement(an,T({disabled:t,horizontalRule:d,rootStyle:c==="listbox"?ie.listboxItem:p,style:ie.itemContainer,"aria-selected":c!=="listbox"&&r?"true":"false",role:c!=="listbox"?b:void 0,testId:i,leftAccessory:s.createElement(s.Fragment,null,a?s.createElement(P,{style:{flexDirection:"row"}},s.createElement(l,{disabled:t,selected:r}),s.createElement(Ee,{size:h.xSmall_8}),a):s.createElement(l,{disabled:t,selected:r})),rightAccessory:u,subtitle1:S?s.createElement(it,{className:"subtitle"},S):void 0,title:s.createElement(_e,{style:ie.label},n),subtitle2:m?s.createElement(it,{className:"subtitle"},m):void 0,onClick:c!=="listbox"?this.handleClick:void 0},y))}render(){const{disabled:e,focused:t,parentComponent:n,role:r,selected:i}=this.props;return n==="listbox"?s.createElement(An,{onMouseDown:a=>{a.preventDefault()},onClick:this.handleClick,style:[ie.reset,ie.item,t&&ie.itemFocused,e&&ie.itemDisabled],role:r,"aria-selected":i?"true":"false","aria-disabled":e?"true":"false",id:this.props.id,tabIndex:-1},this.renderCell()):this.renderCell()}}pe.defaultProps={disabled:!1,focused:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};pe.__IS_OPTION_ITEM__=!0;const{blue:nt,white:ze,offBlack:Mn}=g,vt={borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${g.blue}`,outlineOffset:-h.xxxxSmall_2},ie=F.StyleSheet.create({reset:{margin:0,padding:0,border:0,background:"none",outline:"none",fontSize:"100%",verticalAlign:"baseline",textAlign:"left",textDecoration:"none",listStyle:"none",cursor:"pointer"},listboxItem:{backgroundColor:"transparent",color:"inherit"},item:{backgroundColor:g.white,minHeight:"unset",":focus":vt,":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:ze,background:nt},":active[aria-selected=false]":{},":hover[aria-disabled=true]":{cursor:"not-allowed"},":is([aria-disabled=true])":{color:g.offBlack32,":focus-visible":{outline:"none"}},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:ze,background:Mn}},":active[aria-disabled=false]":{color:g.fadedBlue,background:g.activeBlue},":hover[aria-disabled=false] .checkbox":{background:ze},":hover[aria-disabled=false] .check":{color:nt},":active[aria-disabled=false] .check":{color:g.activeBlue},":is([aria-selected=true]) .checkbox":{background:nt},":is([aria-selected=true]) .check":{color:ze},":is([aria-disabled=false]) .subtitle":{color:g.offBlack64},":hover[aria-disabled=false] .subtitle":{color:g.offWhite},":active[aria-disabled=false] .subtitle":{color:qt(g.fadedBlue16,ze)}},itemFocused:vt,itemDisabled:{outlineColor:g.offBlack32},itemContainer:{minHeight:"unset",padding:`${h.xSmall_8+h.xxxxSmall_2}px ${h.xSmall_8}px`,paddingRight:h.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class Q extends s.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_SEPARATOR_ITEM__}render(){return s.createElement(P,{style:[Ln.separator,this.props.style],"aria-hidden":"true"})}}Q.__IS_SEPARATOR_ITEM__=!0;const Ln=F.StyleSheet.create({separator:{boxShadow:`0 -1px ${g.offBlack16}`,height:1,minHeight:1,marginTop:h.xxxSmall_4,marginBottom:h.xxxSmall_4}});class qe extends s.Component{constructor(...e){super(...e),this.getTestIdFromProps=t=>t.testId||t["data-testid"]}renderAnchorChildren(e,t){var n;const{disabled:r,testId:i,text:a,opened:d,"aria-controls":c,"aria-haspopup":u,"aria-required":f,id:S,role:m,onBlur:b}=this.props,y=this.props.children(T({},e,{text:a,opened:d})),l=y.props,p=this.getTestIdFromProps(l),x=(n=l["aria-label"])!=null?n:this.props["aria-label"];return s.cloneElement(y,T({},t,{"aria-label":x??void 0,"aria-invalid":this.props.error,disabled:r,"aria-controls":c,role:m,id:S,"aria-expanded":d?"true":"false","aria-haspopup":u,"aria-required":f,onClick:l.onClick?v=>{l.onClick(v),t.onClick(v)}:t.onClick,"data-testid":p||i,onBlur:b}))}render(){return s.createElement(Vt,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(e,t)=>this.renderAnchorChildren(e,t))}}qe.defaultProps={disabled:!1};class Dn extends s.Component{render(){const{data:e,index:t,style:n}=this.props,r=e[t];if(Q.isClassOf(r.component))return s.cloneElement(r.component,{style:n});{const{component:i,populatedProps:a,onClick:d,role:c,ref:u}=r;return s.cloneElement(i,T({style:n},a,{key:t,onClick:d,ref:r.focusable&&u,role:c}))}}}function It(o,e=0){return o.slice(0,At).reduce((t,n)=>Q.isClassOf(n.component)?t+Mt:t+le,e)}class Pn extends s.Component{constructor(e){super(e),this.getItemSize=t=>{const n=this.props.data[t];return Q.isClassOf(n.component)?Mt:le},this.state={height:It(e.data),width:e.width}}componentDidMount(){const{schedule:e}=this.props;e.animationFrame(()=>{this.setWidth()})}componentDidUpdate(e){const{data:t,listRef:n}=this.props;e.data.length!==t.length&&(this.setHeight(),n&&n.current&&n.current.resetAfterIndex(1))}setWidth(){const e=me.findDOMNode(this),t=e==null?void 0:e.parentElement;if(t){const n=t.getBoundingClientRect().width;this.setState({width:n})}}setHeight(){const e=It(this.props.data);this.setState({height:e})}renderInitialItems(){const{data:e}=this.props,t=e.map(r=>r.component);return s.Children.toArray(t).filter(Boolean).sort((r,i)=>i.props.label&&r.props.label?i.props.label.length-r.props.label.length:-1).slice(0,At).map(r=>s.cloneElement(r,{style:{visibility:"hidden"}}))}renderVirtualizedList(e,t){const{data:n,listRef:r}=this.props;return s.createElement(wn,{height:t,itemCount:n.length,itemSize:this.getItemSize,itemData:n,style:{overflowX:"hidden"},width:e,overscanCount:5,ref:r},Dn)}render(){const{width:e,height:t}=this.state;return e==null?this.renderInitialItems():this.renderVirtualizedList(e,t)}}var $n=kt(Pn);function Bn({state:o,options:e}){const t=Zt(o,e),{y:n}=o.modifiersData.preventOverflow||{x:0,y:0},{height:r}=o.rects.popper,[i]=o.placement.split("-"),d=r-t[i==="top"?"top":"bottom"]-n;o.styles.popper=T({},o.styles.popper,{maxHeight:`${d}px`,"--popper-max-height":`${d}px`})}const Nn={name:"maxHeight",enabled:!0,phase:"main",options:{padding:le},requiresIfExists:["offset","preventOverflow","flip"],fn:Bn},Wn=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},Nn],Hn=function({children:e,alignment:t="left",onPopperElement:n,referenceElement:r}){const i=Yt(r)||document.querySelector("body");return i?me.createPortal(s.createElement(Xt,{innerRef:a=>{a&&n&&n(a)},referenceElement:r,strategy:"fixed",placement:t==="left"?"bottom-start":"bottom-end",modifiers:Wn},({placement:a,ref:d,style:c,hasPopperEscaped:u,isReferenceHidden:f})=>{const S=!!(u||f);return s.createElement("div",{ref:d,style:c,"data-testid":"dropdown-popper","data-placement":a},e(S))}),i):null};function Vn(o){return o.length===1||!/^[A-Z]/i.test(o)?o:""}function qn(o,e){let t;return function(...r){const i=()=>{clearTimeout(t),o(...r)};clearTimeout(t),t=setTimeout(i,e)}}function Ct(o){return typeof o=="string"}function Ue(o){return Ct(o.label)?o.label:Ct(o.labelAsText)?o.labelAsText:""}function Lt(o,e){return o?Ue(e):e.label}const Un=125,Kn=Me("span");class Ke extends s.Component{static sameItemsFocusable(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n].focusable!==t[n].focusable)return!1;return!0}static getDerivedStateFromProps(e,t){if(t.itemRefs.length===0&&e.open||!Ke.sameItemsFocusable(t.prevItems,e.items)){const n=[];for(let r=0;r<e.items.length;r++)if(e.items[r].focusable){const i=s.createRef();n.push({ref:i,originalIndex:r})}return{itemRefs:n,prevItems:e.items,sameItemsFocusable:!1}}else return{prevItems:e.items,sameItemsFocusable:!0}}constructor(e){super(e),this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.focusedIndex=-1,this.focusedOriginalIndex=-1,this.itemsClicked=!1,this.searchFieldRef=s.createRef(),this.handleInteract=t=>{const{open:n,onOpenChanged:r}=this.props,i=t.target,a=me.findDOMNode(this);n&&a&&!a.contains(i)&&this.popperElement&&!this.popperElement.contains(i)&&r(!1)},this.handleKeyDown=t=>{const{enableTypeAhead:n,onOpenChanged:r,open:i,searchText:a}=this.props,d=t.key;if(n&&Vn(d)&&(t.stopPropagation(),this.textSuggestion+=d,this.handleKeyDownDebounced(this.textSuggestion)),!i){if(d===q.down){t.preventDefault(),r(!0);return}return}switch(d){case q.tab:if(this.isSearchFieldFocused()&&a)return;this.restoreTabOrder(),r(!1);return;case q.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case q.up:t.preventDefault(),this.focusPreviousItem();return;case q.down:t.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=t=>{const{onOpenChanged:n,open:r}=this.props;switch(t.key){case q.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case q.escape:r&&(t.stopPropagation(),this.restoreTabOrder(),n(!1));return}},this.handleKeyDownDebounceResult=t=>{const n=this.props.items.filter(r=>r.focusable).findIndex(({component:r})=>{if(Q.isClassOf(r))return!1;if(pe.isClassOf(r)){const i=r.props;return Ue(i).toLowerCase().startsWith(t.toLowerCase())}return!1});if(n>=0){const r=!this.props.open;r&&this.props.onOpenChanged(!0),this.focusedIndex=n,this.scheduleToFocusCurrentItem(i=>{this.props.selectionType==="single"&&r&&i&&(i.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=t=>{this.itemsClicked=!0,this.focusedIndex=t,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=t=>{t.nativeEvent.stopImmediatePropagation?t.nativeEvent.stopImmediatePropagation():t.stopPropagation()},this.handleItemClick=(t,n)=>{this.handleClickFocus(t),n.component.props.onClick&&n.component.props.onClick(),n.populatedProps.onClick&&n.populatedProps.onClick()},this.handleSearchTextChanged=t=>{const{onSearchTextChanged:n}=this.props;n&&n(t)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:T({noResults:K.noResults,someResults:K.someSelected},e.labels)},this.virtualizedListRef=s.createRef(),this.handleKeyDownDebounced=qn(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(e){const{open:t,searchText:n}=this.props;if(e.open!==t)this.updateEventListeners(),this.maybeFocusInitialItem();else if(t){const{itemRefs:r,sameItemsFocusable:i}=this.state;if(i||e.searchText!==n)return;{const a=r.findIndex(d=>d.originalIndex===this.focusedOriginalIndex);a===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=a}this.props.labels!==e.labels&&this.setState({labels:T({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:e}=this.props;if(typeof e<"u")this.focusedIndex=e;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:e,open:t}=this.props;e&&(t?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):t||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(e){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(e)}):this.focusCurrentItem(e)}focusCurrentItem(e){const t=this.state.itemRefs[this.focusedIndex];if(!t)return;const{current:n}=this.virtualizedListRef;n&&n.scrollToItem(t.originalIndex);const r=()=>{if(!this.props.open)return;const i=this.state.itemRefs[this.focusedIndex],a=me.findDOMNode(i.ref.current);if(!a&&this.shouldVirtualizeList()){this.props.schedule.animationFrame(r);return}a&&(a.focus(),this.focusedOriginalIndex=i.originalIndex,e&&e(a))};this.shouldVirtualizeList()?this.props.schedule.animationFrame(r):r()}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.isSearchFieldFocused()||(this.focusedIndex-=1);this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.isSearchFieldFocused()||(this.focusedIndex+=1);this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:e}=this.props;switch(e){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${e}" instead.`)}}maybeRenderNoResults(){const{items:e,labels:{noResults:t}}=this.props;return e.length===0?s.createElement(_e,{style:ue.noResult,testId:"dropdown-core-no-results"},t):null}shouldVirtualizeList(){return this.props.items.length>Un}renderList(){let e=0;const t=this.getItemRole();return this.props.items.map((n,r)=>{if(Q.isClassOf(n.component))return n.component;const{component:i,focusable:a,populatedProps:d}=n;a&&(e+=1);const c=e-1,u=this.state.itemRefs[c]?this.state.itemRefs[c].ref:null;return s.cloneElement(i,T({},d,{key:r,onClick:()=>{this.handleItemClick(c,n)},ref:a?u:null,role:d.role||t}))})}parseVirtualizedItems(){let e=0;const t=this.getItemRole();return this.props.items.map((n,r)=>{const{populatedProps:i}=n;!Q.isClassOf(n.component)&&n.focusable&&(e+=1);const a=e-1;return T({},n,{role:i.role||t,ref:n.focusable&&this.state.itemRefs[a]?this.state.itemRefs[a].ref:null,onClick:()=>{this.handleItemClick(a,n)}})})}renderVirtualizedList(){const e=this.parseVirtualizedItems();return s.createElement($n,{data:e,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:e}=this.props,{labels:t}=this.state;return s.createElement(hn,{clearAriaLabel:t.clearSearch,onChange:this.handleSearchTextChanged,placeholder:t.filter,ref:this.searchFieldRef,style:ue.searchInputStyle,value:e||""})}renderDropdownMenu(e,t){const{"aria-invalid":n,"aria-required":r,dropdownStyle:i,isFilterable:a,openerElement:d,role:c,id:u}=this.props,f=d&&window.getComputedStyle(d),S=f?f.getPropertyValue("width"):0;return s.createElement(P,{onMouseUp:this.handleDropdownMouseUp,style:[ue.dropdown,t&&ue.hidden,i],testId:"dropdown-core-container"},a&&this.renderSearchField(),s.createElement(P,{id:u,role:c,style:[ue.listboxOrMenu,{minWidth:S}],"aria-invalid":c==="listbox"?n:void 0,"aria-required":c==="listbox"?r:void 0},e),this.maybeRenderNoResults())}renderDropdown(){const{alignment:e,openerElement:t}=this.props,n=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return s.createElement(Hn,{alignment:e,onPopperElement:r=>{this.popperElement=r},referenceElement:t},r=>this.renderDropdownMenu(n,r))}renderLiveRegion(){const{items:e,open:t}=this.props,{labels:n}=this.state,r=e.length;return s.createElement(Kn,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:ue.srOnly,"data-testid":"dropdown-live-region"},t&&n.someResults(r))}render(){const{open:e,opener:t,style:n,className:r,disabled:i}=this.props;return s.createElement(P,{onKeyDown:i?void 0:this.handleKeyDown,onKeyUp:i?void 0:this.handleKeyUp,style:[ue.menuWrapper,n],className:r},this.renderLiveRegion(),t,e&&this.renderDropdown())}}Ke.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:K.clearSearch,filter:K.filter,noResults:K.noResults,someResults:K.someSelected},selectionType:"single"};const ue=F.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:g.white,borderRadius:4,paddingTop:h.xxxSmall_4,paddingBottom:h.xxxSmall_4,border:`solid 1px ${g.offBlack16}`,boxShadow:`0px 8px 8px 0px ${Ut(g.offBlack,.1)}`,maxHeight:"var(--popper-max-height)"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:g.offBlack64,alignSelf:"center",marginTop:h.xxSmall_6},searchInputStyle:{margin:h.xSmall_8,marginTop:h.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var lt=kt(Ke);const jn=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],Gn=Me("button");class Xn extends s.Component{render(){const e=this.props,{children:t,disabled:n,focused:r,hovered:i,pressed:a,testId:d,opened:c,"aria-label":u}=e,f=J(e,jn),S=g.blue,m=Zn(S),b=n,y=[rt.shared,b&&rt.disabled,m.default,b&&m.disabled,!b&&a&&m.active],l=s.createElement(Nt,{style:rt.text},t);return s.createElement(Gn,T({"aria-expanded":c?"true":"false","aria-haspopup":"menu","aria-label":u,disabled:b,style:y,type:"button"},f,{"data-testid":d}),s.createElement(P,{style:!b&&(i||r)&&m.focus},l),s.createElement(Ee,{size:h.xxxSmall_4}),s.createElement(Re,{size:"small",color:"currentColor",icon:Ot,"aria-hidden":"true"}))}}const rt=F.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:le,border:"none",borderRadius:h.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"auto"},small:{height:h.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"}}),He={},Zn=o=>{const e=o;if(He[e])return He[e];const{offBlack32:t}=g,n=g.activeBlue;let r={};return r={default:{background:"none",color:o},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:2}},active:{color:n},disabled:{color:t,cursor:"default"}},He[e]=F.StyleSheet.create(r),He[e]},Yn=["text","opened"];class Qn extends s.Component{constructor(...e){super(...e),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=t=>{this.setState({opened:t}),this.props.onToggle&&this.props.onToggle(t)},this.handleOptionSelected=t=>{const{onChange:n,selectedValues:r}=this.props;if(!(!n||!r)){if(r.includes(t)){const i=r.indexOf(t),a=[...r.slice(0,i),...r.slice(i+1)];n(a)}else n([...r,t]);this.handleItemSelected()}},this.handleOpenerRef=t=>{this.openerElement=me.findDOMNode(t)},this.handleClick=t=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(e,t){return{opened:typeof e.opened=="boolean"?e.opened:t.opened}}getMenuItems(){const{children:e,selectedValues:t}=this.props,n=s.Children.toArray(e).filter(Boolean),r=n.some(i=>pe.isClassOf(i));return n.map(i=>{const{value:a,disabled:d}=i.props,c={component:i,focusable:ke.isClassOf(i)||pe.isClassOf(i)?!d:!1,populatedProps:{}};if(ke.isClassOf(i))return T({},c,{populatedProps:{indent:r,onClick:this.handleItemSelected}});if(pe.isClassOf(i)){const u=t?t.includes(a):!1;return T({},c,{populatedProps:{onToggle:this.handleOptionSelected,selected:u,variant:"check",role:"menuitemcheckbox","aria-checked":u,"aria-selected":void 0}})}else return c})}renderOpener(e,t){const{disabled:n,menuText:r,opener:i,testId:a,id:d}=this.props;return s.createElement(fe,{id:d},c=>s.createElement(qe,{id:c,"aria-controls":t,"aria-haspopup":"menu",onClick:this.handleClick,disabled:e===0||n,text:r,ref:this.handleOpenerRef,testId:i?void 0:a,opened:this.state.opened,role:"button"},i||(u=>{const{opened:f}=u,S=J(u,Yn);return s.createElement(Xn,T({},S,{disabled:n,opened:!!f,testId:a}),r)})))}render(){const{alignment:e,dropdownStyle:t,style:n,className:r,dropdownId:i}=this.props,a=this.getMenuItems();return s.createElement(fe,{id:i},d=>s.createElement(lt,{id:d,role:"menu",style:n,className:r,opener:this.renderOpener(a.length,d),alignment:e,open:this.state.opened,items:a,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[Jn.menuTopSpace,t]}))}}Qn.defaultProps={alignment:"left",disabled:!1};const Jn=F.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),er=["children","disabled","error","id","isPlaceholder","open","testId","aria-label","aria-required","onBlur","onOpenChanged"],tr=Me("button");class at extends s.Component{constructor(e){super(e),this.handleClick=t=>{const{open:n}=this.props;this.props.onOpenChanged(!n)},this.handleKeyDown=t=>{const n=t.key;(n===q.enter||n===q.space)&&(this.setState({pressed:!0}),t.preventDefault())},this.handleKeyUp=t=>{const n=t.key;(n===q.enter||n===q.space)&&(this.setState({pressed:!1}),this.handleClick(t))},this.state={pressed:!1}}render(){const e=this.props,{children:t,disabled:n,error:r,id:i,isPlaceholder:a,open:d,testId:c,"aria-label":u,"aria-required":f,onBlur:S}=e,m=J(e,er),b=nr(a,r),y=n?O.action.disabled.default:O.icon.primary,l=[ot.shared,b.default,n&&b.disabled,!n&&this.state.pressed&&b.press];return s.createElement(tr,T({},m,{"aria-disabled":n,"aria-expanded":d?"true":"false","aria-invalid":r,"aria-label":u??void 0,"aria-required":f,"aria-haspopup":"listbox","data-testid":c,id:i,role:"combobox",type:"button",style:l,onClick:n?void 0:this.handleClick,onKeyDown:n?void 0:this.handleKeyDown,onKeyUp:n?void 0:this.handleKeyUp,onBlur:S}),s.createElement(_e,{style:ot.text},t||s.createElement("span",{"aria-hidden":"true"},"Â ")),s.createElement(Re,{icon:Ot,color:y,size:"small",style:ot.caret,"aria-hidden":"true"}))}}at.defaultProps={disabled:!1,error:!1,isPlaceholder:!1};const ot=F.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:O.text.primary,height:le,paddingLeft:h.medium_16,paddingRight:h.small_12,borderWidth:0,borderRadius:he.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:h.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),Ve={},nr=(o,e)=>{const t=`${o}-${e}`;if(Ve[t])return Ve[t];const n={default:{border:O.border.strong,background:O.surface.primary,foreground:O.text.primary},disabled:{border:O.border.primary,background:O.action.disabled.secondary,foreground:O.text.secondary},error:{border:O.status.critical.foreground,background:O.status.critical.background,foreground:O.text.primary}},r=e?"destructive":"progressive",i=O.action.outlined[r],a={outlineOffset:-he.width.thin,outlineStyle:"solid",outlineWidth:he.width.thin},d=T({outlineColor:i.hover.border},a),c=T({background:i.press.background,color:o?e?O.text.secondary:O.action.outlined.progressive.press.foreground:O.text.primary,outlineColor:i.press.border},a),u=e?n.error:n.default,f={default:{background:u.background,borderColor:u.border,borderWidth:he.width.hairline,color:o?O.text.secondary:u.foreground,":hover:not([aria-disabled=true])":d,"@media not (hover: hover)":{":hover:not([aria-disabled=true])":{borderColor:u.border,borderWidth:he.width.hairline,paddingLeft:h.medium_16,paddingRight:h.small_12}},":focus-visible:not([aria-disabled=true])":d,":active:not([aria-disabled=true])":c},disabled:{background:n.disabled.background,borderColor:n.disabled.border,color:n.disabled.foreground,cursor:"not-allowed",":focus-visible":T({outlineColor:O.action.disabled.default},a)},press:c};return Ve[t]=F.StyleSheet.create(f),Ve[t]},rr="This field is required.";function Ae(o){return o?o.length>0:!1}function Dt({value:o,disabled:e=!1,validate:t,onValidate:n,required:r,open:i}){const[a,d]=s.useState(()=>t&&Ae(o)&&!e&&t(o)||null),c=s.useCallback(b=>{if(!e){if(t){const y=b!==void 0&&t(b)||null;if(d(y),n&&n(y),y)return}if(r){const y=typeof r=="string"?r:rr,l=Ae(b)?null:y;d(l),n&&n(l)}}},[e,t,d,n,r]);$t(()=>{Ae(o)&&c(o)});function u(){!i&&r&&!Ae(o)&&c(o)}return{errorMessage:a,onOpenerBlurValidation:u,onDropdownClosedValidation:()=>{r&&!Ae(o)&&c(o)},onSelectionValidation:b=>{c(b)},onSelectedValuesChangeValidation:()=>{d(null),n&&n(null)}}}const or=["children","error","id","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-label","aria-invalid","aria-required","disabled","dropdownId","validate","onValidate","required","showOpenerLabelAsText"],sr=o=>{const e=s.useRef(0),{children:t,error:n=!1,id:r,opener:i,placeholder:a,selectedValue:d,testId:c,alignment:u="left",autoFocus:f=!0,dropdownStyle:S,enableTypeAhead:m=!0,isFilterable:b,labels:y={clearSearch:K.clearSearch,filter:K.filter,noResults:K.noResults,someResults:K.someSelected},onChange:l,onToggle:p,opened:x,style:v,className:I,"aria-label":R,"aria-invalid":C,"aria-required":k,disabled:E=!1,dropdownId:M,validate:$,onValidate:ee,required:te,showOpenerLabelAsText:ne=!0}=o,X=J(o,or),[B,N]=s.useState(!1),[re,oe]=s.useState(""),[Z,Te]=s.useState(),{errorMessage:ge,onOpenerBlurValidation:be,onDropdownClosedValidation:xe,onSelectionValidation:Se}=Dt({value:d,disabled:E,validate:$,onValidate:ee,required:te,open:B}),j=n||!!ge;s.useEffect(()=>{E?N(!1):typeof x=="boolean"&&N(x)},[E,x]);const G=_=>{N(_),oe(""),p&&p(_),_||xe()},Le=_=>{_!==d&&l(_),B&&Z&&Z.focus(),N(!1),p&&p(!1),Se(_)},Oe=_=>{let W=0;return e.current=0,_.map(ae=>{const{disabled:se,value:ve}=ae.props,de=d===ve;return de&&(e.current=W),se||(W+=1),{component:ae,focusable:!se,populatedProps:{onToggle:Le,selected:de,variant:"check"}}})},je=_=>{const W=re.toLowerCase();return _.filter(({props:ae})=>!re||Ue(ae).toLowerCase().indexOf(W)>-1)},Ge=_=>Oe(b?je(_):_),Xe=_=>{oe(_)},De=_=>{const W=me.findDOMNode(_);Te(W)},Ze=_=>{G(!B)},Ye=(_,W)=>{const se=s.Children.toArray(t).find(ce=>ce.props.value===d),ve=se?Lt(ne,se.props):a;return s.createElement(fe,{id:r},ce=>i?s.createElement(qe,{id:ce,"aria-label":R,"aria-controls":W,"aria-haspopup":"listbox",onClick:Ze,disabled:_,ref:De,role:"combobox",text:ve,opened:B,error:j,onBlur:be},i):s.createElement(at,T({},X,{"aria-label":R,"aria-controls":W,disabled:_,id:ce,error:j,isPlaceholder:!se,onOpenChanged:G,open:B,ref:De,testId:c,onBlur:be}),ve))},ye=s.Children.toArray(t).filter(Boolean),Pe=ye.filter(_=>!_.props.disabled).length,Qe=Ge(ye),$e=Pe===0||E;return s.createElement(fe,{id:M},_=>s.createElement(lt,{id:_,role:"listbox",selectionType:"single",alignment:u,autoFocus:f,enableTypeAhead:m,dropdownStyle:[b&&zt,Ft,S],initialFocusedIndex:e.current,items:Qe,onOpenChanged:G,open:B,opener:Ye($e,_),openerElement:Z,style:v,className:I,isFilterable:b,onSearchTextChanged:b?Xe:void 0,searchText:b?re:"",labels:y,"aria-invalid":C,"aria-required":k,disabled:$e}))},ir=["id","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-label","aria-invalid","aria-required","disabled","error","children","dropdownId","showOpenerLabelAsText","validate","onValidate","required"],lr=o=>{const{id:e,opener:t,testId:n,alignment:r="left",dropdownStyle:i,implicitAllEnabled:a,isFilterable:d,labels:c,onChange:u,onToggle:f,opened:S,selectedValues:m=[],shortcuts:b=!1,style:y,className:l,"aria-label":p,"aria-invalid":x,"aria-required":v,disabled:I=!1,error:R=!1,children:C,dropdownId:k,showOpenerLabelAsText:E=!0,validate:M,onValidate:$,required:ee}=o,te=J(o,ir),ne=T({},K,c),[X,B]=s.useState(!1),[N,re]=s.useState(""),[oe,Z]=s.useState([]),[Te,ge]=s.useState(),{errorMessage:be,onOpenerBlurValidation:xe,onDropdownClosedValidation:Se,onSelectionValidation:j,onSelectedValuesChangeValidation:G}=Dt({value:m,disabled:I,validate:M,onValidate:$,required:ee,open:X}),Le=R||!!be;s.useEffect(()=>{I?B(!1):typeof S=="boolean"&&B(S)},[I,S]);const Oe=w=>{B(w),re(""),Z(m),f&&f(w),w||(oe!==m?j(m):Se())},je=w=>{if(m.includes(w)){const A=m.indexOf(w),z=[...m.slice(0,A),...m.slice(A+1)];u(z)}else u([...m,w]);G()},Ge=()=>{const A=s.Children.toArray(C).filter(z=>!!z&&!z.props.disabled).map(z=>z.props.value);u(A),G()},Xe=()=>{u([]),G()},De=w=>{const{noneSelected:A,someSelected:z,allSelected:H}=ne,V=w.filter(L=>!L.props.disabled).length,Y=a?H:A;switch(m.length){case 0:return Y;case 1:const L=w.find(Ie=>Ie.props.value===m[0]);if(L){const Ie=Lt(E,L==null?void 0:L.props);return Ie||z(1)}return Y;case V:return H;default:return z(m.length)}},Ze=w=>{const{selectAllLabel:A,selectNoneLabel:z}=ne;if(b&&!N){const H=w===m.length,V={component:s.createElement(ke,{disabled:H,label:A(w),indent:!0,onClick:Ge}),focusable:!H,populatedProps:{}},Y=m.length===0,L={component:s.createElement(ke,{disabled:Y,label:z,indent:!0,onClick:Xe}),focusable:!Y,populatedProps:{}},Ie={component:s.createElement(Q,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[V,L,Ie]}else return[]},Ye=w=>{if(!d)return w.map(ye);const A=N.toLowerCase(),z=w.filter(({props:L})=>!N||Ue(L).toLowerCase().indexOf(A)>-1),H=[],V=[];for(const L of z)oe.includes(L.props.value)?H.push(L):V.push(L);const Y=H.map(ye);return H.length&&V.length&&Y.push({component:s.createElement(Q,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...Y,...V.map(ye)]},ye=w=>{const{disabled:A,value:z}=w.props;return{component:w,focusable:!A,populatedProps:{onToggle:je,selected:m.includes(z),variant:"checkbox"}}},Pe=w=>{const A=me.findDOMNode(w);ge(A)},Qe=w=>{re(w)},$e=w=>{Oe(!X)},_=(w,A,z)=>{const{noneSelected:H}=ne,V=De(w);return s.createElement(fe,{id:e},L=>t?s.createElement(qe,{id:L,error:Le,"aria-label":p,"aria-controls":z,"aria-haspopup":"listbox",onClick:$e,onBlur:xe,disabled:A,ref:Pe,role:"combobox",text:V,opened:X},t):s.createElement(at,T({},te,{error:Le,disabled:A,id:L,"aria-label":p,"aria-controls":z,isPlaceholder:V===H,onOpenChanged:Oe,onBlur:xe,open:X,ref:Pe,testId:n}),V))},{clearSearch:W,filter:ae,noResults:se,someSelected:ve}=ne,de=s.Children.toArray(C).filter(Boolean),ce=de.filter(w=>!w.props.disabled).length,Pt=Ye(de),dt=ce===0||I;return s.createElement(fe,{id:k},w=>s.createElement(lt,{id:w,role:"listbox",alignment:r,dropdownStyle:[d&&zt,Ft,i],isFilterable:d,items:[...Ze(ce),...Pt],onOpenChanged:Oe,open:X,opener:_(de,dt,w),openerElement:Te,selectionType:"multi",style:y,className:l,onSearchTextChanged:d?Qe:void 0,searchText:d?N:"",labels:{clearSearch:W,filter:ae,noResults:se,someResults:ve},"aria-invalid":x,"aria-required":v,disabled:dt}))};Me("span");F.StyleSheet.create({srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});s.memo(function({disabled:e,focusedMultiSelectIndex:t,id:n,labels:r,onRemove:i,removeSelectedLabel:a,selected:d,testId:c}){return s.createElement(P,{role:"group",style:st.pillsWrapper,id:n},d.map((u,f)=>{const S=r[f],m=f===t,b=n+f;return s.createElement(Qt,{id:b,key:b,testId:c?`${c}-pill-${f}`:void 0,size:"small",style:[st.pill,m&&st.pillFocused],kind:m?"info":"neutral","aria-label":a(S),tabIndex:-1,onClick:()=>i(u)},s.createElement(s.Fragment,null,S,!e&&s.createElement(Re,{icon:Et,size:"small"})))}))});const st=F.StyleSheet.create({pillsWrapper:{flexDirection:"row",flexWrap:"wrap"},pill:{fontSize:Kt.size.small,justifyContent:"space-between",alignItems:"center",marginBlockStart:h.xxxSmall_4,marginInlineEnd:h.xxxSmall_4,paddingInlineEnd:h.xxxSmall_4},pillFocused:{outline:`1px solid ${g.blue}`}});F.StyleSheet.create({listbox:{outline:"none"},disabled:{color:g.offBlack64}});F.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"center",width:"100%",maxWidth:"100%",flexWrap:"wrap",background:g.white,borderRadius:he.radius.medium_4,border:`solid 1px ${g.offBlack50}`,paddingInline:h.xSmall_8},focused:{background:g.white,border:`1px solid ${g.blue}`},disabled:{background:g.offWhite,border:`1px solid ${g.offBlack16}`,color:g.offBlack64},error:{background:g.fadedRed8,border:`1px solid ${g.red}`,color:g.offBlack},combobox:{appearance:"none",background:"none",border:"none",outline:"none",padding:0,minWidth:h.xxxSmall_4,width:"auto",display:"inline-grid",gridArea:"1 / 2",":focus-visible":{outline:"none",border:"none"}},listbox:{backgroundColor:g.white,borderRadius:he.radius.medium_4,border:`solid 1px ${g.offBlack16}`,boxShadow:`0px ${h.xSmall_8}px ${h.xSmall_8}px 0px ${g.offBlack8}`,maxHeight:"var(--popper-max-height)",overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},button:{position:"absolute",right:h.xxxSmall_4,top:h.xxxSmall_4,margin:0},buttonOpen:{transform:"rotate(180deg)"},clearButton:{right:h.xLarge_32+h.xSmall_8},iconWrapper:{padding:h.xxxSmall_4,minWidth:"auto"}});const ar=o=>{const{strings:e}=Jt(),t=u=>{const{choices:f,onChange:S}=o;S(f.map(m=>u.includes(m.content)))},n=u=>u.map(({content:f})=>Be.jsx(pe,{value:f,label:Be.jsx(en,{content:f,strings:e,inline:!0})},f)),r=o.choices.filter(u=>u.checked).map(u=>u.content),{opener:i,onToggle:a,disabled:d}=o,c={style:{zIndex:"unset"},children:n(o.choices),opener:i,onToggle:a,disabled:d};return o.multipleSelect?Be.jsx(lr,{...c,selectedValues:r,onChange:u=>t(u)}):Be.jsx(sr,{...c,selectedValue:r[0],onChange:u=>t([u]),placeholder:o.choices[0].content})};ar.__docgenInfo={description:"",methods:[],displayName:"AnswerChoices",props:{choices:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"signature",type:"object",raw:`{
    // The answer string, can be plain text or a TeX expression.
    content: string;
    // Whether the answer is selected.
    checked: boolean;
}`,signature:{properties:[{key:"content",value:{name:"string",required:!0}},{key:"checked",value:{name:"boolean",required:!0}}]}}],raw:"ReadonlyArray<AnswerType>"},description:""},multipleSelect:{required:!0,tsType:{name:"boolean"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selection: ReadonlyArray<boolean>) => void",signature:{arguments:[{type:{name:"ReadonlyArray",elements:[{name:"boolean"}],raw:"ReadonlyArray<boolean>"},name:"selection"}],return:{name:"void"}}},description:""},opener:{required:!0,tsType:{name:'PropsFor["opener"]',raw:'PropsFor<typeof SingleSelect>["opener"]'},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(opened: boolean) => unknown",signature:{arguments:[{type:{name:"boolean"},name:"opened"}],return:{name:"unknown"}}},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""}}};export{ar as A,pe as O,sr as S,Qn as a,ke as b,Ot as c};
