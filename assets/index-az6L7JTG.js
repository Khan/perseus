import{_ as C,a as c}from"./extends-wRoo2ExD.js";import{r as o}from"./index-TT1qJ6UJ.js";import{l as m}from"./index-awljIyHI.js";import{w as J,c as Q,L as X}from"./react-router-dom-W_e8xVUu.js";import{c as S}from"./index-deFLJwr4.js";function B(r){const e=[];if(r)if(Array.isArray(r))for(const t of r)e.push(...B(t));else e.push(r);else return e;return e}function z(r){const e=[],t=[];if(!r)return{style:{},className:""};const n=typeof global<"u"&&global.SNAPSHOT_INLINE_APHRODITE;B(r).forEach(s=>{const a=s._definition;if(a!=null)if(n){const l={};for(const[u,d]of Object.entries(a))l[u.replace(/-[a-z]/g,h=>h[1].toUpperCase())]=d;t.push(l)}else e.push(s);else t.push(s)});const i=Object.assign({},...t);if(t.length>0&&!n){const s=m.StyleSheet.create({inlineStyles:i});e.push(s.inlineStyles)}return{style:n?i:{},className:m.css(...e)}}const Y=["children","style","tag","testId"],Z=/^h[1-6]$/,L=m.StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}});o.forwardRef(function(e,t){let{children:n,style:i,tag:s="span",testId:a}=e,l=C(e,Y);const u=Z.test(s),d=z([L.text,u&&L.header,i]),h=l.className?[l.className,d.className].join(" "):d.className;return o.createElement(s,c({},l,{style:d.style,className:h,"data-testid":a,ref:t}),n)});const ee=["className","style"];function f(r,e){return o.forwardRef((t,n)=>{const{className:i,style:s}=t,a=C(t,ee),l=typeof r=="string"?te[r]:null,{className:u,style:d}=z([l,e,s]);return o.createElement(r,c({},a,{ref:n,className:[u,i].filter(Boolean).join(" "),style:d}))})}const te=m.StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),ne=["testId","tag"],v=m.StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),se=f("div",v.default),ie=f("article",v.default),re=f("aside",v.default),oe=f("nav",v.default),ae=f("section",v.default);o.forwardRef(function(e,t){const{testId:n,tag:i="div"}=e,s=C(e,ne),a=c({},s,{"data-testid":n});switch(i){case"article":return o.createElement(ie,c({},a,{ref:t}));case"aside":return o.createElement(re,c({},a,{ref:t}));case"nav":return o.createElement(oe,c({},a,{ref:t}));case"section":return o.createElement(ae,c({},a,{ref:t}));case"div":return o.createElement(se,c({},a,{ref:t}));default:throw Error(`${i} is not an allowed value for the 'tag' prop`)}});let g=function(r){return r.Root="root",r.Initial="initial",r.Standard="standard",r}({});const w=o.createContext(g.Root);w.displayName="RenderStateContext";class le extends o.Component{constructor(...e){super(...e),this.state={mounted:!1},this._isTheRootComponent=!1}componentDidMount(){this._isTheRootComponent&&this.setState({mounted:!0})}_renderAsRootComponent(){const{mounted:e}=this.state,{children:t,fallback:n}=this.props;return this._isTheRootComponent=!0,e?o.createElement(w.Provider,{value:g.Standard},t()):n?o.createElement(w.Provider,{value:g.Initial},n()):null}_maybeRender(e){const{children:t,fallback:n}=this.props;switch(e){case g.Root:return this._renderAsRootComponent();case g.Initial:return n?n():null;case g.Standard:return t()}{var i;return console.log(`We got a render state we don't understand: "${(i=JSON.stringify(e))!=null?i:""}"`),this._maybeRender(g.Root)}}render(){return o.createElement(w.Consumer,null,e=>this._maybeRender(e))}}class k{constructor(e){this._uniqueFactoryName=void 0,this.get=n=>{const i=n.toLowerCase();if(!this._hasValidIdChars(n))throw new Error(`Invalid identifier key: ${n}`);return`${this._uniqueFactoryName}-${i}`},e=typeof e=="string"?e:"";const t=e.toLowerCase();if(!this._hasValidIdChars(t))throw new Error(`Invalid factory scope: ${e}`);this._uniqueFactoryName=`uid-${t}-${k._factoryUniquenessCounter++}`}_hasValidIdChars(e){return typeof e=="string"?!/\s/.test(e):!1}}k._factoryUniquenessCounter=0;class N{get(e){return e}}N.Default=new N;var de=N.Default;class ce extends o.Component{constructor(...e){super(...e),this._idFactory=void 0}_performRender(e){const{children:t,mockOnFirstRender:n,scope:i}=this.props;return e?n?t(de):null:(this._idFactory||(this._idFactory=new k(i)),t(this._idFactory))}render(){return o.createElement(le,{fallback:()=>this._performRender(!0)},()=>this._performRender(!1))}}class F extends o.Component{renderChildren(e){const{id:t,children:n}=this.props,i=e?e.get(F.defaultId):t;if(!i)throw new Error("Did not get an identifier factory nor a id prop");return n(i)}render(){const{id:e,scope:t}=this.props;return e?this.renderChildren():o.createElement(ce,{scope:t,mockOnFirstRender:!0},n=>this.renderChildren(n))}}F.defaultId="wb-id";const P=r=>{switch(r){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},ue={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},y={enter:13,space:32},W={hovered:!1,focused:!1,pressed:!1,waiting:!1};class D extends o.Component{static getDerivedStateFromProps(e,t){return e.disabled?c({},W,{focused:t.focused}):null}constructor(e){super(e),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=t=>{const{onClick:n=void 0,beforeNav:i=void 0,safeWithNav:s=void 0}=this.props;this.enterClick||((n||i||s)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(t))},this.handleMouseEnter=t=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=t=>{this.props.onMouseDown&&this.props.onMouseDown(t),this.setState({pressed:!0})},this.handleMouseUp=t=>{this.props.onMouseUp&&this.props.onMouseUp(t),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=t=>{const{onKeyDown:n,role:i}=this.props;n&&n(t);const s=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=P(i);a&&s===y.enter||l&&s===y.space?(t.preventDefault(),this.setState({pressed:!0})):!a&&s===y.enter&&(this.enterClick=!0)},this.handleKeyUp=t=>{const{onKeyUp:n,role:i}=this.props;n&&n(t);const s=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=P(i);a&&s===y.enter||l&&s===y.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(t)):!a&&s===y.enter&&(this.enterClick=!1)},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{this.setState({focused:!1,pressed:!1})},this.state=W,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(e){if(e){const{history:t,href:n,skipClientNav:i,target:s=void 0}=this.props;n&&(s==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):t&&!i?(t.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:n,history:i}=this.props;return i&&!n||this.props.target==="_blank"?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(s=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t=void 0,beforeNav:n=void 0,safeWithNav:i=void 0,href:s,type:a}=this.props;let l=!0,u=!0;if(t&&t(e),e.defaultPrevented&&(l=!1,u=!1),e.preventDefault(),!s&&a==="submit"&&u){let d=e.currentTarget;for(;d;){if(d instanceof window.HTMLFormElement){const h=new window.Event("submit",{bubbles:!0,cancelable:!0});d.dispatchEvent(h);break}d=d.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>i?this.handleSafeWithNav(i,l):this.navigateOrReset(l)).catch(()=>{});else{if(i)return this.handleSafeWithNav(i,l);this.navigateOrReset(l)}}render(){const e=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),t=this.props.disabled?c({},ue,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:n}=this.props;return n&&n(this.state,t)}}D.defaultProps={disabled:!1};const H=r=>typeof r!="string"?!1:!/^(https?:)?\/\//i.test(r)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(r),he=J(D);function fe(r,e,t){return t&&e!==!0&&r&&H(r)?he:D}const pe=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],ge=f("a"),ye=f("button"),me=f(X),be=o.forwardRef(function(e,t){const n=(s,a,l)=>{const u=e.href&&!e.disabled,d=a&&!e.skipClientNav&&H(e.href||"");return u&&d&&e.href?o.createElement(me,c({},l,{to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(s)):u&&!d?o.createElement(ge,c({},l,{href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(s)):o.createElement(ye,c({},l,{type:"button","aria-disabled":e.disabled,ref:t}),e.children(s))},i=s=>{const{href:a,onClick:l,skipClientNav:u,beforeNav:d=void 0,safeWithNav:h=void 0,style:q,target:j=void 0,testId:I,onFocus:M,onKeyDown:_,onKeyUp:R,onMouseDown:O,onMouseUp:T,hideDefaultFocusRing:V,light:G,disabled:E,tabIndex:U}=e,K=C(e,pe),$=fe(a,u,s),A=p=>[b.reset,b.link,!V&&p.focused&&(G?b.focusedLight:b.focused),E&&b.disabled,q];return d?o.createElement($,{href:a,onClick:l,beforeNav:d,safeWithNav:h,onFocus:M,onKeyDown:_,onKeyUp:R,onMouseDown:O,onMouseUp:T,disabled:E,tabIndex:U},(p,x)=>n(p,s,c({},K,{"data-testid":I,style:A(p)},x))):o.createElement($,{href:a,onClick:l,safeWithNav:h,onFocus:M,onKeyDown:_,onKeyUp:R,onMouseDown:O,onMouseUp:T,target:j,disabled:E,tabIndex:U},(p,x)=>n(p,s,c({},K,{"data-testid":I,style:A(p)},x)))};return o.createElement(Q.Consumer,null,s=>i(s))});be.defaultProps={light:!1,disabled:!1};const b=m.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${S.blue}`}},focusedLight:{outline:`solid 2px ${S.white}`},disabled:{color:S.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${S.blue}`}}});export{be as C,D as a,fe as g,H as i};
