import{j as r,a as u}from"./jsx-runtime-FVsy8kgq.js";import{l as p,R as d,p as m}from"./renderer-F40H4fEO.js";import{r as c}from"./index-TT1qJ6UJ.js";import{_ as f}from"./index-default-4_ZsnO94.js";import{C as a}from"./perseus-api-OW2_bRsL.js";import{U as h}from"./util-d6C3c8a_.js";import{P as g}from"./i18n-context-W41LcU6B.js";import{T as x}from"./text-input-UKLpKhjh.js";import{T as y,H as o,V as T}from"./tooltip-S_hcgkAT.js";const{captureScratchpadTouchStart:b}=h,s=class s extends c.Component{constructor(){super(...arguments),this.state={focused:!1,showExamples:!1},this._getUniqueId=()=>`input-with-examples-${btoa(this.props.id).replace(/=/g,"")}`,this._getInputClassName=()=>{let e=a.INPUT+" "+a.INTERACTIVE;return this.state.focused&&(e+=" "+a.FOCUSED),this.props.className&&(e+=" "+this.props.className),e},this._renderInput=()=>{const e=this._getUniqueId(),t={id:e,"aria-describedby":e,ref:"input",className:this._getInputClassName(),labelText:this.props.labelText,value:this.props.value,onFocus:this._handleFocus,onBlur:this._handleBlur,disabled:this.props.disabled,style:this.props.style,onChange:this.props.onChange,onTouchStart:b,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false"};return r(x,{...t})},this._handleFocus=()=>{this.props.onFocus(),this.setState({focused:!0,showExamples:!0})},this.show=()=>{this.setState({showExamples:!0})},this.hide=()=>{this.setState({showExamples:!1})},this._handleBlur=()=>{this.props.onBlur(),this.setState({focused:!1,showExamples:!1})},this.focus=()=>{this.refs.input.focus()},this.blur=()=>{this.refs.input.blur()},this.handleChange=e=>{this.props.onChange(e.target.value)}}render(){const e=this._renderInput(),t=f.map(this.props.examples,l=>"- "+l).join(`
`),i=this.props.shouldShowExamples&&this.state.showExamples;return u(y,{ref:"tooltip",className:"perseus-formats-tooltip preview-measure",horizontalPosition:o.Left,horizontalAlign:o.Left,verticalPosition:T.Bottom,arrowSize:10,borderColor:"#ccc",show:i,children:[e,r("div",{id:this._getUniqueId(),children:r(d,{content:t,linterContext:m(this.props.linterContext,"input-with-examples"),strings:this.context.strings})})]})}};s.contextType=g,s.defaultProps={shouldShowExamples:!0,onFocus:function(){},onBlur:function(){},disabled:!1,linterContext:p,className:""};let n=s;n.__docgenInfo={description:"",methods:[{name:"_getUniqueId",docblock:null,modifiers:[],params:[],returns:null},{name:"_getInputClassName",docblock:null,modifiers:[],params:[],returns:null},{name:"_renderInput",docblock:null,modifiers:[],params:[],returns:null},{name:"_handleFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"show",docblock:null,modifiers:[],params:[],returns:null},{name:"hide",docblock:null,modifiers:[],params:[],returns:null},{name:"_handleBlur",docblock:null,modifiers:[],params:[],returns:null},{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"blur",docblock:null,modifiers:[],params:[],returns:null},{name:"handleChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null}],displayName:"InputWithExamples",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"any"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},examples:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"string"}],raw:"ReadonlyArray<string>"},description:""},shouldShowExamples:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},convertDotToTimes:{required:!1,tsType:{name:"boolean"},description:""},buttonSet:{required:!1,tsType:{name:"string"},description:""},buttonsVisible:{required:!1,tsType:{name:"union",raw:'"always" | "never" | "focused"',elements:[{name:"literal",value:'"always"'},{name:"literal",value:'"never"'},{name:"literal",value:'"focused"'}]},description:""},labelText:{required:!1,tsType:{name:"string"},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:"function () {}",computed:!1}},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:"function () {}",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},style:{required:!1,tsType:{name:"StyleType"},description:""},id:{required:!0,tsType:{name:"string"},description:""},linterContext:{required:!1,tsType:{name:"LinterContextProps"},description:"",defaultValue:{value:"PerseusLinter.linterContextDefault",computed:!0}}}};export{n as I};
