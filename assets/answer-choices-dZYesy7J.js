import{j as ne}from"./jsx-runtime-BGVbfQ2Z.js";import{r as l}from"./index-qhcEwEpg.js";import{l as T}from"./index-awljIyHI.js";import{L as U,a as xe,s as dt,b as ct}from"./index-Fg8WJp4t.js";import{C as ht,a as ut,c as pt,g as ft}from"./index-IxqgEL7X.js";import{V as k,I as mt,a as Ce}from"./index-4c2J3ov1.js";import{S as q}from"./index-BrnICqZg.js";import{s as f,c as h,m as de,a as gt,b as H}from"./index-25YgVP-A.js";import{P as Q}from"./index-_15Y2y0p.js";import{T as bt,c as He}from"./index-sXD0g-3O.js";import{r as N}from"./index-E09jvG0x.js";import{I as St,x as xt,m as yt}from"./index-PurVa-Tf.js";import{w as Ve}from"./index-pb777vIT.js";import{P as vt,d as It}from"./Popper-2p8US95Y.js";import{u as Ct}from"./i18n-context-9-s9cJ--.js";import{R as wt}from"./renderer-V6_4AklZ.js";function qe(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}function Y(){return Y=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Y.apply(this,arguments)}const z={cellMinHeight:f.xxLarge_48,cellPadding:{paddingVertical:f.small_12,paddingHorizontal:f.medium_16},detailCellPadding:{paddingVertical:f.medium_16,paddingHorizontal:f.medium_16},accessoryHorizontalSpacing:f.medium_16},_t=r=>{switch(r){case"inset":return[pe.horizontalRule,pe.horizontalRuleInset];case"full-width":return pe.horizontalRule;case"none":return{}}},pe=T.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:f.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${h.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${z.cellPadding.paddingHorizontal}px)`}}}),Ot=({leftAccessory:r,leftAccessoryStyle:t,disabled:e})=>r?l.createElement(l.Fragment,null,l.createElement(k,{style:[R.accessory,e&&R.accessoryDisabled,Y({},t)]},r),l.createElement(q,{size:z.accessoryHorizontalSpacing})):null,Et=({rightAccessory:r,rightAccessoryStyle:t,active:e,disabled:n})=>r?l.createElement(l.Fragment,null,l.createElement(q,{size:z.accessoryHorizontalSpacing}),l.createElement(k,{style:[R.accessory,R.accessoryRight,n&&R.accessoryDisabled,Y({},t),e&&R.accessoryActive]},r)):null;function ke(r){const{active:t,children:e,disabled:n,horizontalRule:s="inset",contentStyle:o=void 0,leftAccessory:a=void 0,leftAccessoryStyle:d=void 0,rightAccessory:c=void 0,rightAccessoryStyle:u=void 0,style:p,testId:b,innerStyle:x}=r,y=_t(s);return l.createElement(k,{style:[R.innerWrapper,x,p,y]},l.createElement(Ot,{leftAccessory:a,leftAccessoryStyle:d,disabled:n}),l.createElement(k,{style:[R.content,o],testId:b},e),l.createElement(Et,{rightAccessory:c,rightAccessoryStyle:u,active:t,disabled:n}))}const je=r=>{const{active:t,disabled:e,href:n,onClick:s,"aria-label":o,"aria-selected":a,target:d,role:c,rootStyle:u}=r;return s||n?l.createElement(ht,{disabled:e,onClick:s,href:n,hideDefaultFocusRing:!0,"aria-label":o||void 0,"aria-selected":a||void 0,role:c,target:d,style:[R.wrapper,R.clickable,u,t&&R.active,e&&R.disabled],"aria-current":t?"true":void 0},()=>l.createElement(ke,r)):l.createElement(k,{style:[R.wrapper,u,t&&R.active],"aria-current":t?"true":void 0,role:c},l.createElement(ke,r))},R=T.StyleSheet.create({wrapper:{background:h.white,color:h.offBlack,display:"flex",minHeight:z.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:z.cellMinHeight,padding:`${z.cellPadding.paddingVertical}px ${z.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${z.cellPadding.paddingVertical-2}px ${z.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:h.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:f.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${f.xxxSmall_4}px)`,height:`calc(100% - ${f.xxxSmall_4}px)`,border:`${f.xxxxSmall_2}px solid ${h.blue}`,borderRadius:f.xxxSmall_4},":hover[aria-disabled=false]":{background:h.offBlack8},":active[aria-disabled=false]":{background:h.offBlack16}},active:{background:h.fadedBlue8,color:h.blue,":hover[aria-disabled=false]":{background:h.fadedBlue16},":active[aria-disabled=false]":{background:h.fadedBlue24}},disabled:{color:h.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:h.blue},accessoryDisabled:{color:h.offBlack,opacity:.32}}),Tt=["title"],Rt=function(t){const{title:e}=t,n=qe(t,Tt);return l.createElement(je,n,typeof e=="string"?l.createElement(U,null,e):e)},kt=["title","subtitle1","subtitle2"],Fe=({subtitle:r,disabled:t})=>r?typeof r=="string"?l.createElement(xe,{style:!t&&Ue.subtitle},r):r:null,Ft=function(t){const{title:e,subtitle1:n,subtitle2:s}=t,o=qe(t,kt);return l.createElement(je,Y({},o,{innerStyle:Ue.innerWrapper}),l.createElement(Fe,{subtitle:n,disabled:o.disabled}),n&&l.createElement(q,{size:f.xxxxSmall_2}),typeof e=="string"?l.createElement(U,null,e):e,s&&l.createElement(q,{size:f.xxxxSmall_2}),l.createElement(Fe,{subtitle:s,disabled:o.disabled}))},Ue=T.StyleSheet.create({subtitle:{color:h.offBlack64},innerWrapper:{padding:`${z.detailCellPadding.paddingVertical}px ${z.detailCellPadding.paddingHorizontal}px`}}),zt=""+new URL("magnifying-glass-IX5mxYeF.svg",import.meta.url).href;function ye(){return ye=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ye.apply(this,arguments)}function Pt(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const Mt={clearSearch:"Clear search"},Dt=["clearAriaLabel","autoFocus","disabled","light","id","value","placeholder","style","testId","onClick","onChange","onFocus","onBlur"],At=l.forwardRef(function(t,e){const{clearAriaLabel:n=Mt.clearSearch,autoFocus:s,disabled:o=!1,light:a=!1,id:d,value:c,placeholder:u,style:p,testId:b,onClick:x,onChange:y,onFocus:S,onBlur:i}=t,m=Pt(t,Dt),g=l.useRef(null),v=()=>{var w;y(""),g==null||(w=g.current)==null||w.focus()},I=()=>c.length?l.createElement(St,{icon:xt,kind:"tertiary",onClick:v,style:se.dismissIcon,"aria-label":n}):null;return l.createElement(mt,{id:d,scope:"search-field"},w=>l.createElement(k,{onClick:x,style:[se.inputContainer,p]},l.createElement(Q,{icon:zt,size:"medium",color:h.offBlack64,style:se.searchIcon,"aria-hidden":"true"}),l.createElement(bt,ye({id:`${w}-field`,type:"text",autoFocus:s,disabled:o,light:a,onChange:y,onFocus:S,onBlur:i,placeholder:u,ref:C=>{e&&(e.current=C),g.current=C},value:c,style:[se.inputStyleReset,dt.LabelMedium],testId:b},m)),I()))}),se=T.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:f.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:f.xSmall_8,marginRight:f.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:0,":hover":{border:"none"}},inputStyleReset:{display:"flex",flex:1,"::placeholder":{color:h.offBlack64},width:"100%",color:"inherit",paddingLeft:f.large_24+f.medium_16,paddingRight:f.large_24+f.medium_16}});function ve(){return ve=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ve.apply(this,arguments)}function ze(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ie(r,t){return Ie=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},Ie(r,t)}function Lt(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Ie(r,t)}var Pe=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function $t(r,t){return!!(r===t||Pe(r)&&Pe(t))}function Bt(r,t){if(r.length!==t.length)return!1;for(var e=0;e<r.length;e++)if(!$t(r[e],t[e]))return!1;return!0}function fe(r,t){t===void 0&&(t=Bt);var e,n=[],s,o=!1;function a(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return o&&e===this&&t(d,n)||(s=r.apply(this,d),o=!0,e=this,n=d),s}return a}var Nt=typeof performance=="object"&&typeof performance.now=="function",Me=Nt?function(){return performance.now()}:function(){return Date.now()};function De(r){cancelAnimationFrame(r.id)}function Wt(r,t){var e=Me();function n(){Me()-e>=t?r.call(null):s.id=requestAnimationFrame(n)}var s={id:requestAnimationFrame(n)};return s}var W=null;function Ae(r){if(r===void 0&&(r=!1),W===null||r){var t=document.createElement("div"),e=t.style;e.width="50px",e.height="50px",e.overflow="scroll",e.direction="rtl";var n=document.createElement("div"),s=n.style;return s.width="100px",s.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?W="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?W="negative":W="positive-ascending"),document.body.removeChild(t),W}return W}var Ht=150,Vt=function(t,e){return t};function qt(r){var t,e=r.getItemOffset,n=r.getEstimatedTotalSize,s=r.getItemSize,o=r.getOffsetForIndexAndAlignment,a=r.getStartIndexForOffset,d=r.getStopIndexForStartIndex,c=r.initInstanceProps,u=r.shouldResetStyleCacheOnItemSizeChange,p=r.validateProps;return t=function(b){Lt(x,b);function x(S){var i;return i=b.call(this,S)||this,i._instanceProps=c(i.props,ze(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:ze(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof i.props.initialScrollOffset=="number"?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=fe(function(m,g,v,I){return i.props.onItemsRendered({overscanStartIndex:m,overscanStopIndex:g,visibleStartIndex:v,visibleStopIndex:I})}),i._callOnScroll=void 0,i._callOnScroll=fe(function(m,g,v){return i.props.onScroll({scrollDirection:m,scrollOffset:g,scrollUpdateWasRequested:v})}),i._getItemStyle=void 0,i._getItemStyle=function(m){var g=i.props,v=g.direction,I=g.itemSize,w=g.layout,C=i._getItemStyleCache(u&&I,u&&w,u&&v),O;if(C.hasOwnProperty(m))O=C[m];else{var E=e(i.props,m,i._instanceProps),P=s(i.props,m,i._instanceProps),M=v==="horizontal"||w==="horizontal",ee=v==="rtl",te=M?E:0;C[m]=O={position:"absolute",left:ee?void 0:te,right:ee?te:void 0,top:M?0:E,height:M?"100%":P,width:M?P:"100%"}}return O},i._getItemStyleCache=void 0,i._getItemStyleCache=fe(function(m,g,v){return{}}),i._onScrollHorizontal=function(m){var g=m.currentTarget,v=g.clientWidth,I=g.scrollLeft,w=g.scrollWidth;i.setState(function(C){if(C.scrollOffset===I)return null;var O=i.props.direction,E=I;if(O==="rtl")switch(Ae()){case"negative":E=-I;break;case"positive-descending":E=w-v-I;break}return E=Math.max(0,Math.min(E,w-v)),{isScrolling:!0,scrollDirection:C.scrollOffset<I?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._onScrollVertical=function(m){var g=m.currentTarget,v=g.clientHeight,I=g.scrollHeight,w=g.scrollTop;i.setState(function(C){if(C.scrollOffset===w)return null;var O=Math.max(0,Math.min(w,I-v));return{isScrolling:!0,scrollDirection:C.scrollOffset<O?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._outerRefSetter=function(m){var g=i.props.outerRef;i._outerRef=m,typeof g=="function"?g(m):g!=null&&typeof g=="object"&&g.hasOwnProperty("current")&&(g.current=m)},i._resetIsScrollingDebounced=function(){i._resetIsScrollingTimeoutId!==null&&De(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=Wt(i._resetIsScrolling,Ht)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},function(){i._getItemStyleCache(-1,null)})},i}x.getDerivedStateFromProps=function(i,m){return jt(i,m),p(i),null};var y=x.prototype;return y.scrollTo=function(i){i=Math.max(0,i),this.setState(function(m){return m.scrollOffset===i?null:{scrollDirection:m.scrollOffset<i?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(i,m){m===void 0&&(m="auto");var g=this.props.itemCount,v=this.state.scrollOffset;i=Math.max(0,Math.min(i,g-1)),this.scrollTo(o(this.props,i,m,v,this._instanceProps))},y.componentDidMount=function(){var i=this.props,m=i.direction,g=i.initialScrollOffset,v=i.layout;if(typeof g=="number"&&this._outerRef!=null){var I=this._outerRef;m==="horizontal"||v==="horizontal"?I.scrollLeft=g:I.scrollTop=g}this._callPropsCallbacks()},y.componentDidUpdate=function(){var i=this.props,m=i.direction,g=i.layout,v=this.state,I=v.scrollOffset,w=v.scrollUpdateWasRequested;if(w&&this._outerRef!=null){var C=this._outerRef;if(m==="horizontal"||g==="horizontal")if(m==="rtl")switch(Ae()){case"negative":C.scrollLeft=-I;break;case"positive-ascending":C.scrollLeft=I;break;default:var O=C.clientWidth,E=C.scrollWidth;C.scrollLeft=E-O-I;break}else C.scrollLeft=I;else C.scrollTop=I}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&De(this._resetIsScrollingTimeoutId)},y.render=function(){var i=this.props,m=i.children,g=i.className,v=i.direction,I=i.height,w=i.innerRef,C=i.innerElementType,O=i.innerTagName,E=i.itemCount,P=i.itemData,M=i.itemKey,ee=M===void 0?Vt:M,te=i.layout,tt=i.outerElementType,nt=i.outerTagName,st=i.style,rt=i.useIsScrolling,ot=i.width,Oe=this.state.isScrolling,ue=v==="horizontal"||te==="horizontal",it=ue?this._onScrollHorizontal:this._onScrollVertical,Ee=this._getRangeToRender(),lt=Ee[0],at=Ee[1],Te=[];if(E>0)for(var G=lt;G<=at;G++)Te.push(l.createElement(m,{data:P,key:ee(G,P),index:G,isScrolling:rt?Oe:void 0,style:this._getItemStyle(G)}));var Re=n(this.props,this._instanceProps);return l.createElement(tt||nt||"div",{className:g,onScroll:it,ref:this._outerRefSetter,style:ve({position:"relative",height:I,width:ot,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},st)},l.createElement(C||O||"div",{children:Te,ref:w,style:{height:ue?"100%":Re,pointerEvents:Oe?"none":void 0,width:ue?Re:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var i=this.props.itemCount;if(i>0){var m=this._getRangeToRender(),g=m[0],v=m[1],I=m[2],w=m[3];this._callOnItemsRendered(g,v,I,w)}}if(typeof this.props.onScroll=="function"){var C=this.state,O=C.scrollDirection,E=C.scrollOffset,P=C.scrollUpdateWasRequested;this._callOnScroll(O,E,P)}},y._getRangeToRender=function(){var i=this.props,m=i.itemCount,g=i.overscanCount,v=this.state,I=v.isScrolling,w=v.scrollDirection,C=v.scrollOffset;if(m===0)return[0,0,0,0];var O=a(this.props,C,this._instanceProps),E=d(this.props,O,C,this._instanceProps),P=!I||w==="backward"?Math.max(1,g):1,M=!I||w==="forward"?Math.max(1,g):1;return[Math.max(0,O-P),Math.max(0,Math.min(m-1,E+M)),O,E]},x}(l.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var jt=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},Ut=50,V=function(t,e,n){var s=t,o=s.itemSize,a=n.itemMetadataMap,d=n.lastMeasuredIndex;if(e>d){var c=0;if(d>=0){var u=a[d];c=u.offset+u.size}for(var p=d+1;p<=e;p++){var b=o(p);a[p]={offset:c,size:b},c+=b}n.lastMeasuredIndex=e}return a[e]},Kt=function(t,e,n){var s=e.itemMetadataMap,o=e.lastMeasuredIndex,a=o>0?s[o].offset:0;return a>=n?Ke(t,e,o,0,n):Gt(t,e,Math.max(0,o),n)},Ke=function(t,e,n,s,o){for(;s<=n;){var a=s+Math.floor((n-s)/2),d=V(t,a,e).offset;if(d===o)return a;d<o?s=a+1:d>o&&(n=a-1)}return s>0?s-1:0},Gt=function(t,e,n,s){for(var o=t.itemCount,a=1;n<o&&V(t,n,e).offset<s;)n+=a,a*=2;return Ke(t,e,Math.min(n,o-1),Math.floor(n/2),s)},Le=function(t,e){var n=t.itemCount,s=e.itemMetadataMap,o=e.estimatedItemSize,a=e.lastMeasuredIndex,d=0;if(a>=n&&(a=n-1),a>=0){var c=s[a];d=c.offset+c.size}var u=n-a-1,p=u*o;return d+p},Xt=qt({getItemOffset:function(t,e,n){return V(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:Le,getOffsetForIndexAndAlignment:function(t,e,n,s,o){var a=t.direction,d=t.height,c=t.layout,u=t.width,p=a==="horizontal"||c==="horizontal",b=p?u:d,x=V(t,e,o),y=Le(t,o),S=Math.max(0,Math.min(y-b,x.offset)),i=Math.max(0,x.offset-b+x.size);switch(n==="smart"&&(s>=i-b&&s<=S+b?n="auto":n="center"),n){case"start":return S;case"end":return i;case"center":return Math.round(i+(S-i)/2);case"auto":default:return s>=i&&s<=S?s:s<i?i:S}},getStartIndexForOffset:function(t,e,n){return Kt(t,n,e)},getStopIndexForStartIndex:function(t,e,n,s){for(var o=t.direction,a=t.height,d=t.itemCount,c=t.layout,u=t.width,p=o==="horizontal"||c==="horizontal",b=p?u:a,x=V(t,e,s),y=n+b,S=x.offset+x.size,i=e;i<d-1&&S<y;)i++,S+=V(t,i,s).size;return i},initInstanceProps:function(t,e){var n=t,s=n.estimatedItemSize,o={itemMetadataMap:{},estimatedItemSize:s||Ut,lastMeasuredIndex:-1};return e.resetAfterIndex=function(a,d){d===void 0&&(d=!0),o.lastMeasuredIndex=Math.min(o.lastMeasuredIndex,a-1),e._getItemStyleCache(-1),d&&e.forceUpdate()},o},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});const Ge=""+new URL("caret-down-bold-NQKqym-e.svg",import.meta.url).href;function _(){return _=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},_.apply(this,arguments)}const $={tab:9,enter:13,escape:27,space:32,up:38,down:40},Xe={marginTop:f.xSmall_8,marginBottom:f.xSmall_8},Ze={minHeight:100},L=40,Ye=9,Je=9,F={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:r=>`Select all (${r})`,noneSelected:"0 items",someSelected:r=>r===1?"1 item":`${r} items`,allSelected:"All items"},{blue:Zt,white:$e,offBlack:Yt}=h;class j extends l.Component{static isClassOf(t){return t&&t.type&&t.type.__IS_ACTION_ITEM__}render(){const{disabled:t,horizontalRule:e,href:n,target:s,indent:o,label:a,lang:d,leftAccessory:c,rightAccessory:u,onClick:p,role:b,style:x,testId:y}=this.props,S=[X.wrapper,x],i=typeof a=="string"?l.createElement(U,{lang:d,style:X.label},a):l.cloneElement(a,_({lang:d,style:X.label},a.props));return l.createElement(Rt,{disabled:t,horizontalRule:e,rootStyle:S,leftAccessory:c,rightAccessory:u,style:[X.shared,o&&X.indent],role:b,testId:y,title:i,href:n,target:s,onClick:p})}}j.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};j.__IS_ACTION_ITEM__=!0;const X=T.StyleSheet.create({wrapper:{minHeight:L,touchAction:"manipulation",":focus":{borderRadius:f.xxxSmall_4,outline:`${f.xxxxSmall_2}px solid ${h.blue}`,outlineOffset:-f.xxxxSmall_2},":hover[aria-disabled=false]":{color:$e,background:Zt},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:$e,background:Yt}},":active[aria-disabled=false]":{color:h.fadedBlue,background:h.activeBlue}},shared:{minHeight:L,height:L},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:f.medium_16*2}});function K(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const Jt=function(t){const{selected:e}=t;return l.createElement(Q,{icon:He,size:"small",style:[Be.bounds,!e&&Be.hide]})},Be=T.StyleSheet.create({bounds:{alignSelf:"center",height:f.medium_16,minHeight:f.medium_16,minWidth:f.medium_16},hide:{visibility:"hidden"}}),{offBlack16:Qt,offBlack50:en,offWhite:tn}=h,nn=function(t){const{disabled:e,selected:n}=t;return l.createElement(k,{className:"checkbox",style:[re.checkbox,n&&!e&&re.noBorder,e&&re.disabledCheckbox]},n&&l.createElement(Q,{icon:He,size:"small",className:"check",style:[{width:f.small_12,height:f.small_12,margin:f.xxxxSmall_2},e&&n&&re.disabledCheckFormatting]}))},re=T.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:f.medium_16,minWidth:f.medium_16,height:f.medium_16,borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:en},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:Qt,backgroundColor:tn},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),sn=["disabled","label","role","selected","testId","style","leftAccessory","horizontalRule","rightAccessory","subtitle1","subtitle2","value","onClick","onToggle","variant"];class B extends l.Component{constructor(...t){super(...t),this.handleClick=()=>{const{onClick:e,onToggle:n,value:s}=this.props;n(s),e&&e()}}static isClassOf(t){return t&&t.type&&t.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?Jt:nn}render(){const t=this.props,{disabled:e,label:n,role:s,selected:o,testId:a,style:d,leftAccessory:c,horizontalRule:u,rightAccessory:p,subtitle1:b,subtitle2:x}=t,y=K(t,sn),S=this.getCheckComponent(),i=[ge.item,d];return l.createElement(Ft,_({disabled:e,horizontalRule:u,rootStyle:i,style:ge.itemContainer,"aria-selected":o?"true":"false",role:s,testId:a,leftAccessory:l.createElement(l.Fragment,null,c?l.createElement(k,{style:{flexDirection:"row"}},l.createElement(S,{disabled:e,selected:o}),l.createElement(q,{size:f.xSmall_8}),c):l.createElement(S,{disabled:e,selected:o})),rightAccessory:p,subtitle1:b?l.createElement(xe,{className:"subtitle"},b):void 0,title:l.createElement(U,{style:ge.label},n),subtitle2:x?l.createElement(xe,{className:"subtitle"},x):void 0,onClick:this.handleClick},y))}}B.defaultProps={disabled:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};B.__IS_OPTION_ITEM__=!0;const{blue:me,white:Z,offBlack:rn}=h,ge=T.StyleSheet.create({item:{minHeight:"unset",":focus":{borderRadius:f.xxxSmall_4,outline:`${f.xxxxSmall_2}px solid ${h.blue}`,outlineOffset:-f.xxxxSmall_2},":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:Z,background:me},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:Z,background:rn}},":active[aria-disabled=false]":{color:h.fadedBlue,background:h.activeBlue},":hover[aria-disabled=false] .checkbox":{background:Z},":hover[aria-disabled=false] .check":{color:me},":active[aria-disabled=false] .check":{color:h.activeBlue},":is([aria-selected=true]) .checkbox":{background:me},":is([aria-selected=true]) .check":{color:Z},":is([aria-disabled=false]) .subtitle":{color:h.offBlack64},":hover[aria-disabled=false] .subtitle":{color:h.offWhite},":active[aria-disabled=false] .subtitle":{color:de(h.fadedBlue16,Z)}},itemContainer:{minHeight:"unset",padding:`${f.xSmall_8+f.xxxxSmall_2}px ${f.xSmall_8}px`,paddingRight:f.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class D extends l.Component{static isClassOf(t){return t&&t.type&&t.type.__IS_SEPARATOR_ITEM__}render(){return l.createElement(k,{style:[on.separator,this.props.style],"aria-hidden":"true"})}}D.__IS_SEPARATOR_ITEM__=!0;const on=T.StyleSheet.create({separator:{boxShadow:`0 -1px ${h.offBlack16}`,height:1,minHeight:1,marginTop:f.xxxSmall_4,marginBottom:f.xxxSmall_4}});class ce extends l.Component{constructor(...t){super(...t),this.getTestIdFromProps=e=>e.testId||e["data-testid"]}renderAnchorChildren(t,e){const{disabled:n,testId:s,text:o,opened:a}=this.props,d=this.props.children(_({},t,{text:o,opened:a})),c=d.props,u=this.getTestIdFromProps(c);return l.cloneElement(d,_({},e,{disabled:n,onClick:c.onClick?p=>{c.onClick(p),e.onClick(p)}:e.onClick,"data-testid":u||s}))}render(){return l.createElement(ut,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(t,e)=>this.renderAnchorChildren(t,e))}}ce.defaultProps={disabled:!1};class ln extends l.Component{render(){const{data:t,index:e,style:n}=this.props,s=t[e];if(D.isClassOf(s.component))return l.cloneElement(s.component,{style:n});{const{component:o,populatedProps:a,onClick:d,role:c,ref:u}=s;return l.cloneElement(o,_({style:n},a,{key:e,onClick:d,ref:s.focusable&&u,role:c}))}}}function Ne(r,t=0){return r.slice(0,Ye).reduce((e,n)=>D.isClassOf(n.component)?e+Je:e+L,t)}class an extends l.Component{constructor(t){super(t),this.getItemSize=e=>{const n=this.props.data[e];return D.isClassOf(n.component)?Je:L},this.state={height:Ne(t.data),width:t.width}}componentDidMount(){const{schedule:t}=this.props;t.animationFrame(()=>{this.setWidth()})}componentDidUpdate(t){const{data:e,listRef:n}=this.props;t.data.length!==e.length&&(this.setHeight(),n&&n.current&&n.current.resetAfterIndex(1))}setWidth(){const t=N.findDOMNode(this),e=t==null?void 0:t.parentElement;if(e){const n=e.getBoundingClientRect().width;this.setState({width:n})}}setHeight(){const t=Ne(this.props.data);this.setState({height:t})}renderInitialItems(){const{data:t}=this.props,e=t.map(s=>s.component);return l.Children.toArray(e).filter(Boolean).sort((s,o)=>o.props.label&&s.props.label?o.props.label.length-s.props.label.length:-1).slice(0,Ye).map(s=>l.cloneElement(s,{style:{visibility:"hidden"}}))}renderVirtualizedList(t,e){const{data:n,listRef:s}=this.props;return l.createElement(Xt,{height:e,itemCount:n.length,itemSize:this.getItemSize,itemData:n,style:{overflowX:"hidden"},width:t,overscanCount:5,ref:s},ln)}render(){const{width:t,height:e}=this.state;return t==null?this.renderInitialItems():this.renderVirtualizedList(t,e)}}var dn=Ve(an);function cn({state:r,options:t}){const e=It(r,t),{y:n}=r.modifiersData.preventOverflow||{x:0,y:0},{height:s}=r.rects.popper,[o]=r.placement.split("-"),d=s-e[o==="top"?"top":"bottom"]-n;r.styles.popper=_({},r.styles.popper,{maxHeight:`${d}px`,"--popper-max-height":`${d}px`})}const hn={name:"maxHeight",enabled:!0,phase:"main",options:{padding:L},requiresIfExists:["offset","preventOverflow","flip"],fn:cn},un=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},hn],pn=function({children:t,alignment:e="left",onPopperElement:n,referenceElement:s}){const o=yt(s)||document.querySelector("body");return o?N.createPortal(l.createElement(vt,{innerRef:a=>{a&&n&&n(a)},referenceElement:s,strategy:"fixed",placement:e==="left"?"bottom-start":"bottom-end",modifiers:un},({placement:a,ref:d,style:c,hasPopperEscaped:u,isReferenceHidden:p})=>{const b=!!(u||p);return l.createElement("div",{ref:d,style:c,"data-testid":"dropdown-popper","data-placement":a},t(b))}),o):null};function fn(r){return r.length===1||!/^[A-Z]/i.test(r)?r:""}function mn(r,t){let e;return function(...s){const o=()=>{clearTimeout(e),r(...s)};clearTimeout(e),e=setTimeout(o,t)}}function We(r){return typeof r=="string"}function J(r){return We(r.label)?r.label:We(r.labelAsText)?r.labelAsText:""}const gn=125,bn=Ce("span");class he extends l.Component{static sameItemsFocusable(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n].focusable!==e[n].focusable)return!1;return!0}static getDerivedStateFromProps(t,e){if(e.itemRefs.length===0&&t.open||!he.sameItemsFocusable(e.prevItems,t.items)){const n=[];for(let s=0;s<t.items.length;s++)if(t.items[s].focusable){const o=l.createRef();n.push({ref:o,originalIndex:s})}return{itemRefs:n,prevItems:t.items,sameItemsFocusable:!1}}else return{prevItems:t.items,sameItemsFocusable:!0}}constructor(t){super(t),this.focusedIndex=void 0,this.focusedOriginalIndex=void 0,this.itemsClicked=void 0,this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.searchFieldRef=l.createRef(),this.handleInteract=e=>{const{open:n,onOpenChanged:s}=this.props,o=e.target,a=N.findDOMNode(this);n&&a&&!a.contains(o)&&this.popperElement&&!this.popperElement.contains(o)&&s(!1)},this.handleKeyDown=e=>{const{enableTypeAhead:n,onOpenChanged:s,open:o,searchText:a}=this.props,d=e.which||e.keyCode;if(n&&fn(e.key)&&(e.stopPropagation(),this.textSuggestion+=e.key,this.handleKeyDownDebounced(this.textSuggestion)),!o){if(d===$.down){e.preventDefault(),s(!0);return}return}switch(d){case $.tab:if(this.isSearchFieldFocused()&&a)return;this.restoreTabOrder(),s(!1);return;case $.space:if(this.isSearchFieldFocused())return;e.preventDefault();return;case $.up:e.preventDefault(),this.focusPreviousItem();return;case $.down:e.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=e=>{const{onOpenChanged:n,open:s}=this.props;switch(e.which||e.keyCode){case $.space:if(this.isSearchFieldFocused())return;e.preventDefault();return;case $.escape:s&&(e.stopPropagation(),this.restoreTabOrder(),n(!1));return}},this.handleKeyDownDebounceResult=e=>{const n=this.props.items.filter(s=>s.focusable).findIndex(({component:s})=>{if(D.isClassOf(s))return!1;if(B.isClassOf(s)){const o=s.props;return J(o).toLowerCase().startsWith(e.toLowerCase())}return!1});if(n>=0){const s=!this.props.open;s&&this.props.onOpenChanged(!0),this.focusedIndex=n,this.scheduleToFocusCurrentItem(o=>{this.props.selectionType==="single"&&s&&o&&(o.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=e=>{this.itemsClicked=!0,this.focusedIndex=e,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=e=>{e.nativeEvent.stopImmediatePropagation?e.nativeEvent.stopImmediatePropagation():e.stopPropagation()},this.handleItemClick=(e,n)=>{this.handleClickFocus(e),n.component.props.onClick&&n.component.props.onClick(),n.populatedProps.onClick&&n.populatedProps.onClick()},this.handleSearchTextChanged=e=>{const{onSearchTextChanged:n}=this.props;n&&n(e)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:_({noResults:F.noResults,someResults:F.someSelected},t.labels)},this.virtualizedListRef=l.createRef(),this.handleKeyDownDebounced=mn(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(t){const{open:e}=this.props;if(t.open!==e)this.updateEventListeners(),this.maybeFocusInitialItem();else if(e){const{itemRefs:n,sameItemsFocusable:s}=this.state;if(s)return;{const o=n.findIndex(a=>a.originalIndex===this.focusedOriginalIndex);o===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=o}this.props.labels!==t.labels&&this.setState({labels:_({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:t}=this.props;if(typeof t<"u")this.focusedIndex=t;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:t,open:e}=this.props;t&&(e?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):e||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(t){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(t)}):this.focusCurrentItem(t)}focusCurrentItem(t){const e=this.state.itemRefs[this.focusedIndex];if(e){this.virtualizedListRef.current&&this.virtualizedListRef.current.scrollToItem(e.originalIndex);const n=N.findDOMNode(e.ref.current);n&&(n.focus(),this.focusedOriginalIndex=e.originalIndex,t&&t(n))}}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.focusedIndex-=1;this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.focusedIndex+=1;this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:t}=this.props;switch(t){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${t}" instead.`)}}maybeRenderNoResults(){const{items:t,labels:{noResults:e}}=this.props;return t.length===0?l.createElement(U,{style:A.noResult,testId:"dropdown-core-no-results"},e):null}shouldVirtualizeList(){return this.props.items.length>gn}renderList(){let t=0;const e=this.getItemRole();return this.props.items.map((n,s)=>{if(D.isClassOf(n.component))return n.component;const{component:o,focusable:a,populatedProps:d}=n;a&&(t+=1);const c=t-1,u=this.state.itemRefs[c]?this.state.itemRefs[c].ref:null;return l.cloneElement(o,_({},d,{key:s,onClick:()=>{this.handleItemClick(c,n)},ref:a?u:null,role:e}))})}parseVirtualizedItems(){let t=0;const e=this.getItemRole();return this.props.items.map((n,s)=>{!D.isClassOf(n.component)&&n.focusable&&(t+=1);const o=t-1;return _({},n,{role:e,ref:n.focusable&&this.state.itemRefs[o]?this.state.itemRefs[o].ref:null,onClick:()=>{this.handleItemClick(o,n)}})})}renderVirtualizedList(){const t=this.parseVirtualizedItems();return l.createElement(dn,{data:t,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:t}=this.props,{labels:e}=this.state;return l.createElement(At,{clearAriaLabel:e.clearSearch,onChange:this.handleSearchTextChanged,placeholder:e.filter,ref:this.searchFieldRef,style:A.searchInputStyle,value:t||""})}renderDropdownMenu(t,e){const{"aria-invalid":n,"aria-required":s,dropdownStyle:o,isFilterable:a,light:d,openerElement:c,role:u}=this.props,p=c&&window.getComputedStyle(c),b=p?p.getPropertyValue("width"):0;return l.createElement(k,{onMouseUp:this.handleDropdownMouseUp,style:[A.dropdown,d&&A.light,e&&A.hidden,o],testId:"dropdown-core-container"},a&&this.renderSearchField(),l.createElement(k,{role:u,style:[A.listboxOrMenu,{minWidth:b}],"aria-invalid":u==="listbox"?n:void 0,"aria-required":u==="listbox"?s:void 0},t),this.maybeRenderNoResults())}renderDropdown(){const{alignment:t,openerElement:e}=this.props,n=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return l.createElement(pn,{alignment:t,onPopperElement:s=>{this.popperElement=s},referenceElement:e},s=>this.renderDropdownMenu(n,s))}renderLiveRegion(){const{items:t,open:e}=this.props,{labels:n}=this.state,s=t.length;return l.createElement(bn,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:A.srOnly,"data-testid":"dropdown-live-region"},e&&n.someResults(s))}render(){const{open:t,opener:e,style:n,className:s}=this.props;return l.createElement(k,{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,style:[A.menuWrapper,n],className:s},this.renderLiveRegion(),e,t&&this.renderDropdown())}}he.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:F.clearSearch,filter:F.filter,noResults:F.noResults,someResults:F.someSelected},light:!1,selectionType:"single"};const A=T.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:h.white,borderRadius:4,paddingTop:f.xxxSmall_4,paddingBottom:f.xxxSmall_4,border:`solid 1px ${h.offBlack16}`,boxShadow:`0px 8px 8px 0px ${gt(h.offBlack,.1)}`,maxHeight:"var(--popper-max-height)"},light:{border:"none"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:h.offBlack64,alignSelf:"center",marginTop:f.xxSmall_6},searchInputStyle:{margin:f.xSmall_8,marginTop:f.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var we=Ve(he);const Sn=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],xn=Ce("button");class yn extends l.Component{render(){const t=this.props,{children:e,disabled:n,focused:s,hovered:o,pressed:a,testId:d,opened:c,"aria-label":u}=t,p=K(t,Sn),b=h.blue,x=vn(b),y=n,S=[be.shared,y&&be.disabled,x.default,y&&x.disabled,!y&&a&&x.active],i=l.createElement(ct,{style:be.text},e);return l.createElement(xn,_({"aria-expanded":c?"true":"false","aria-haspopup":"menu","aria-label":u,disabled:y,style:S,type:"button"},p,{"data-testid":d}),l.createElement(k,{style:!y&&(o||s)&&x.focus},i),l.createElement(q,{size:f.xxxSmall_4}),l.createElement(Q,{size:"small",color:"currentColor",icon:Ge,"aria-hidden":"true"}))}}const be=T.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:L,border:"none",borderRadius:f.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"auto"},small:{height:f.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"}}),oe={},vn=r=>{const t=r;if(oe[t])return oe[t];const{offBlack32:e}=h,n=h.activeBlue;let s={};return s={default:{background:"none",color:r},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:2}},active:{color:n},disabled:{color:e,cursor:"default"}},oe[t]=T.StyleSheet.create(s),oe[t]},In=["text","opened"];class Cn extends l.Component{constructor(...t){super(...t),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=e=>{this.setState({opened:e}),this.props.onToggle&&this.props.onToggle(e)},this.handleOptionSelected=e=>{const{onChange:n,selectedValues:s}=this.props;if(!(!n||!s)){if(s.includes(e)){const o=s.indexOf(e),a=[...s.slice(0,o),...s.slice(o+1)];n(a)}else n([...s,e]);this.handleItemSelected()}},this.handleOpenerRef=e=>{this.openerElement=N.findDOMNode(e)},this.handleClick=e=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(t,e){return{opened:typeof t.opened=="boolean"?t.opened:e.opened}}getMenuItems(){const{children:t,selectedValues:e}=this.props,n=l.Children.toArray(t).filter(Boolean),s=n.some(o=>B.isClassOf(o));return n.map(o=>{const{value:a,disabled:d}=o.props,c={component:o,focusable:j.isClassOf(o)||B.isClassOf(o)?!d:!1,populatedProps:{}};return j.isClassOf(o)?_({},c,{populatedProps:{indent:s,onClick:this.handleItemSelected}}):B.isClassOf(o)?_({},c,{populatedProps:{onToggle:this.handleOptionSelected,selected:e?e.includes(a):!1,variant:"check"}}):c})}renderOpener(t){const{disabled:e,menuText:n,opener:s,testId:o}=this.props;return l.createElement(ce,{onClick:this.handleClick,disabled:t===0||e,text:n,ref:this.handleOpenerRef,testId:s?void 0:o,opened:this.state.opened},s||(a=>{const{opened:d}=a,c=K(a,In);return l.createElement(yn,_({},c,{disabled:e,opened:!!d,testId:o}),n)}))}render(){const{alignment:t,dropdownStyle:e,style:n,className:s}=this.props,o=this.getMenuItems(),a=this.renderOpener(o.length);return l.createElement(we,{role:"menu",style:n,className:s,opener:a,alignment:t,open:this.state.opened,items:o,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[wn.menuTopSpace,e]})}}Cn.defaultProps={alignment:"left",disabled:!1};const wn=T.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),_n=["children","disabled","error","id","isPlaceholder","light","open","testId","onOpenChanged"],On=Ce("button");class _e extends l.Component{constructor(...t){super(...t),this.handleClick=e=>{const{open:n}=this.props;this.props.onOpenChanged(!n)}}renderClickableBehavior(t){const e=this.props,{children:n,disabled:s,error:o,id:a,isPlaceholder:d,light:c,open:u,testId:p}=e,b=K(e,_n),x=ft(t);return l.createElement(x,{disabled:s,onClick:this.handleClick},(y,S)=>{const i=En(c,d,o),{hovered:m,focused:g,pressed:v}=y,I=c?s||v?"currentColor":h.white:s?h.offBlack32:h.offBlack64,w=[Se.shared,i.default,s&&i.disabled,!s&&(v?i.active:(m||g)&&i.focus)];return l.createElement(On,_({},b,{"aria-expanded":u?"true":"false","aria-haspopup":"listbox","data-testid":p,disabled:s,id:a,style:w,type:"button"},S),l.createElement(U,{style:Se.text},n||"Â "),l.createElement(Q,{icon:Ge,color:I,size:"small",style:Se.caret,"aria-hidden":"true"}))})}render(){return l.createElement(pt.Consumer,null,t=>this.renderClickableBehavior(t))}}_e.defaultProps={disabled:!1,error:!1,light:!1,isPlaceholder:!1};const Se=T.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:h.offBlack,height:L,paddingLeft:f.medium_16,paddingRight:f.small_12,borderWidth:0,borderRadius:H.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:f.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),ie=f.medium_16-1,le=f.small_12-1,ae={},En=(r,t,e)=>{const n=`${r}-${t}-${e}`;if(ae[n])return ae[n];let s={};return r?s={default:{background:e?h.fadedRed8:"transparent",color:t?h.white50:h.white,borderColor:e?h.red:h.white50,borderWidth:H.width.hairline},focus:{borderColor:e?h.fadedRed8:h.white,borderWidth:f.xxxxSmall_2,paddingLeft:ie,paddingRight:le},active:{paddingLeft:ie,paddingRight:le,borderColor:e?h.red:h.fadedBlue,borderWidth:H.width.thin,color:t?de(h.white32,h.blue):h.fadedBlue,backgroundColor:e?h.fadedRed:h.activeBlue},disabled:{background:"transparent",borderColor:de(h.white32,h.blue),color:de(h.white32,h.blue),cursor:"auto"}}:s={default:{background:e?h.fadedRed8:h.white,borderColor:e?h.red:h.offBlack16,borderWidth:H.width.hairline,color:t?h.offBlack64:h.offBlack},focus:{borderColor:e?h.red:h.blue,borderWidth:H.width.thin,paddingLeft:ie,paddingRight:le},active:{background:e?h.fadedRed:h.fadedBlue,borderColor:e?h.red:h.activeBlue,borderWidth:H.width.thin,paddingLeft:ie,paddingRight:le},disabled:{background:h.offWhite,borderColor:h.offBlack16,color:h.offBlack64,cursor:"auto"}},ae[n]=T.StyleSheet.create(s),ae[n]},Tn=["children","disabled","error","id","light","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-invalid","aria-required"];class Qe extends l.Component{constructor(t){super(t),this.selectedIndex=void 0,this.handleOpenChanged=e=>{this.setState({open:e,searchText:""}),this.props.onToggle&&this.props.onToggle(e)},this.handleToggle=e=>{e!==this.props.selectedValue&&this.props.onChange(e),this.state.open&&this.state.openerElement&&this.state.openerElement.focus(),this.setState({open:!1}),this.props.onToggle&&this.props.onToggle(!1)},this.mapOptionItemsToDropdownItems=e=>{let n=0;return this.selectedIndex=0,e.map(s=>{const{selectedValue:o}=this.props,{disabled:a,value:d}=s.props,c=o===d;return c&&(this.selectedIndex=n),a||(n+=1),{component:s,focusable:!a,populatedProps:{onToggle:this.handleToggle,selected:c,variant:"check"}}})},this.handleSearchTextChanged=e=>{this.setState({searchText:e})},this.handleOpenerRef=e=>{const n=N.findDOMNode(e);this.setState({openerElement:n})},this.handleClick=e=>{this.handleOpenChanged(!this.state.open)},this.selectedIndex=0,this.state={open:!1,searchText:""}}static getDerivedStateFromProps(t,e){return{open:typeof t.opened=="boolean"?t.opened:e.open}}filterChildren(t){const{searchText:e}=this.state,n=e.toLowerCase();return t.filter(({props:s})=>!e||J(s).toLowerCase().indexOf(n)>-1)}getMenuItems(t){const{isFilterable:e}=this.props;return this.mapOptionItemsToDropdownItems(e?this.filterChildren(t):t)}renderOpener(t){const e=this.props,{children:n,disabled:s,error:o,id:a,light:d,opener:c,placeholder:u,selectedValue:p,testId:b}=e,x=K(e,Tn),S=l.Children.toArray(n).find(g=>g.props.value===p),i=S?J(S.props):u;return c?l.createElement(ce,{onClick:this.handleClick,disabled:t===0||s,ref:this.handleOpenerRef,text:i,opened:this.state.open},c):l.createElement(_e,_({},x,{disabled:t===0||s,id:a,error:o,isPlaceholder:!S,light:d,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:b}),i)}render(){const{alignment:t,autoFocus:e,children:n,className:s,dropdownStyle:o,enableTypeAhead:a,isFilterable:d,labels:c,light:u,style:p,"aria-invalid":b,"aria-required":x}=this.props,{searchText:y}=this.state,S=l.Children.toArray(n).filter(Boolean),i=this.getMenuItems(S),m=this.renderOpener(S.length);return l.createElement(we,{role:"listbox",selectionType:"single",alignment:t,autoFocus:e,enableTypeAhead:a,dropdownStyle:[d&&Ze,Xe,o],initialFocusedIndex:this.selectedIndex,items:i,light:u,onOpenChanged:this.handleOpenChanged,open:this.state.open,opener:m,openerElement:this.state.openerElement,style:p,className:s,isFilterable:d,onSearchTextChanged:d?this.handleSearchTextChanged:void 0,searchText:d?y:"",labels:c,"aria-invalid":b,"aria-required":x})}}Qe.defaultProps={alignment:"left",autoFocus:!0,disabled:!1,enableTypeAhead:!0,error:!1,light:!1,labels:{clearSearch:F.clearSearch,filter:F.filter,noResults:F.noResults,someResults:F.someSelected}};const Rn=["disabled","id","light","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-invalid","aria-required"];class et extends l.Component{constructor(t){super(t),this.labels=void 0,this.handleOpenChanged=e=>{this.setState({open:e,searchText:"",lastSelectedValues:this.props.selectedValues}),this.props.onToggle&&this.props.onToggle(e)},this.handleToggle=e=>{const{onChange:n,selectedValues:s}=this.props;if(s.includes(e)){const o=s.indexOf(e),a=[...s.slice(0,o),...s.slice(o+1)];n(a)}else n([...s,e])},this.handleSelectAll=()=>{const{children:e,onChange:n}=this.props,o=l.Children.toArray(e).filter(a=>!!a&&!a.props.disabled).map(a=>a.props.value);n(o)},this.handleSelectNone=()=>{const{onChange:e}=this.props;e([])},this.mapOptionItemToDropdownItem=e=>{const{selectedValues:n}=this.props,{disabled:s,value:o}=e.props;return{component:e,focusable:!s,populatedProps:{onToggle:this.handleToggle,selected:n.includes(o),variant:"checkbox"}}},this.handleOpenerRef=e=>{const n=N.findDOMNode(e);this.setState({openerElement:n})},this.handleSearchTextChanged=e=>{this.setState({searchText:e})},this.handleClick=e=>{this.handleOpenChanged(!this.state.open)},this.state={open:!1,searchText:"",lastSelectedValues:[],labels:_({},F,t.labels)},this.labels=_({},F,t.labels)}static getDerivedStateFromProps(t,e){return{open:typeof t.opened=="boolean"?t.opened:e.open}}componentDidUpdate(t){this.props.labels!==t.labels&&this.setState({labels:_({},this.state.labels,this.props.labels)})}getMenuText(t){const{implicitAllEnabled:e,selectedValues:n}=this.props,{noneSelected:s,someSelected:o,allSelected:a}=this.state.labels,d=t.filter(u=>!u.props.disabled).length,c=e?a:s;switch(n.length){case 0:return c;case 1:const u=t.find(p=>p.props.value===n[0]);if(u){const p=J(u==null?void 0:u.props);return p||o(1)}return c;case d:return a;default:return o(n.length)}}getShortcuts(t){const{selectedValues:e,shortcuts:n}=this.props,{selectAllLabel:s,selectNoneLabel:o}=this.state.labels;if(n&&!this.state.searchText){const a=t===e.length,d={component:l.createElement(j,{disabled:a,label:s(t),indent:!0,onClick:this.handleSelectAll}),focusable:!a,populatedProps:{}},c=e.length===0,u={component:l.createElement(j,{disabled:c,label:o,indent:!0,onClick:this.handleSelectNone}),focusable:!c,populatedProps:{}},p={component:l.createElement(D,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[d,u,p]}else return[]}getMenuItems(t){const{isFilterable:e}=this.props;if(!e)return t.map(this.mapOptionItemToDropdownItem);const{searchText:n,lastSelectedValues:s}=this.state,o=n.toLowerCase(),a=t.filter(({props:p})=>!n||J(p).toLowerCase().indexOf(o)>-1),d=[],c=[];for(const p of a)s.includes(p.props.value)?d.push(p):c.push(p);const u=d.map(this.mapOptionItemToDropdownItem);return d.length&&c.length&&u.push({component:l.createElement(D,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...u,...c.map(this.mapOptionItemToDropdownItem)]}renderOpener(t){const e=this.props,{disabled:n,id:s,light:o,opener:a,testId:d}=e,c=K(e,Rn),{noneSelected:u}=this.state.labels,p=this.getMenuText(t),b=t.filter(y=>!y.props.disabled).length;return a?l.createElement(ce,{onClick:this.handleClick,disabled:b===0||n,ref:this.handleOpenerRef,text:p,opened:this.state.open},a):l.createElement(_e,_({},c,{disabled:b===0||n,id:s,isPlaceholder:p===u,light:o,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:d}),p)}render(){const{alignment:t,light:e,style:n,className:s,dropdownStyle:o,children:a,isFilterable:d,"aria-invalid":c,"aria-required":u}=this.props,{open:p,searchText:b}=this.state,{clearSearch:x,filter:y,noResults:S,someSelected:i}=this.state.labels,m=l.Children.toArray(a).filter(Boolean),g=m.filter(w=>!w.props.disabled).length,v=this.getMenuItems(m),I=this.renderOpener(m);return l.createElement(we,{role:"listbox",alignment:t,dropdownStyle:[d&&Ze,Xe,o],isFilterable:d,items:[...this.getShortcuts(g),...v],light:e,onOpenChanged:this.handleOpenChanged,open:p,opener:I,openerElement:this.state.openerElement,selectionType:"multi",style:n,className:s,onSearchTextChanged:d?this.handleSearchTextChanged:void 0,searchText:d?b:"",labels:{clearSearch:x,filter:y,noResults:S,someResults:i},"aria-invalid":c,"aria-required":u})}}et.defaultProps={alignment:"left",disabled:!1,error:!1,light:!1,shortcuts:!1,selectedValues:[]};const Un=r=>{const{strings:t}=Ct(),e=u=>{const{choices:p,onChange:b}=r;b(p.map(x=>u.includes(x.content)))},n=u=>u.map(({content:p})=>ne(B,{value:p,label:ne(wt,{content:p,strings:t,inline:!0})},p)),s=r.choices.filter(u=>u.checked).map(u=>u.content),{opener:o,onToggle:a,disabled:d}=r,c={style:{zIndex:"unset"},children:n(r.choices),opener:o,onToggle:a,disabled:d};return r.multipleSelect?ne(et,{...c,selectedValues:s,onChange:u=>e(u)}):ne(Qe,{...c,selectedValue:s[0],onChange:u=>e([u]),placeholder:r.choices[0].content})};try{answerchoices.displayName="answerchoices",answerchoices.__docgenInfo={description:"",displayName:"answerchoices",props:{choices:{defaultValue:null,description:"",name:"choices",required:!0,type:{name:"readonly AnswerType[]"}},multipleSelect:{defaultValue:null,description:"",name:"multipleSelect",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(selection: readonly boolean[]) => void"}},opener:{defaultValue:null,description:"",name:"opener",required:!0,type:{name:"((openerProps: OpenerProps) => ReactElement<any, string | JSXElementConstructor<any>>) | undefined"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"(opened: boolean) => unknown"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}}}catch{}export{Un as A,B as O,Qe as S,Cn as a,j as b,Ge as c};
