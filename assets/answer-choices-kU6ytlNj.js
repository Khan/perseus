import{a as re,_ as R,V as $,I as ge,b as Pe,k as j,u as Vt}from"./index-hw7d7wq0.js";import{r as n}from"./index-6oxdNXpR.js";import{n as F}from"./no-important-xCWWYXQR.js";import{a as Fe,b as ct,s as Ht,L as Bt}from"./index-jek-Xksa.js";import{C as qt,_ as Ut,a as Kt}from"./index-OMSOgf8r.js";import{S as Re}from"./index-v_a-r9JG.js";import{s as u,c as M,a as f,b as H,f as jt}from"./index-zRqVZh6A.js";import{P as ze}from"./index-6pF6CjBQ.js";import{T as Gt,c as _t}from"./index-F5uqTDBi.js";import{r as be}from"./index-9gkyvru-.js";import{I as Xt,x as Tt}from"./index-Y1DiWZsM.js";import{w as Rt}from"./index-OQMtW1Q1.js";import{_ as ft}from"./assertThisInitialized-4q6YPdh3.js";import{P as Zt,d as Yt}from"./Popper-Y5KDXl-P.js";import{m as Qt}from"./index-sTgrFwmj.js";import{P as Jt}from"./index-L0cWnnN3.js";import{u as er}from"./i18n-context-Q5gDzbF3.js";import{R as tr}from"./renderer-Hg-eJGH1.js";const G={cellMinHeight:u.xxLarge_48,cellPadding:{paddingVertical:u.small_12,paddingHorizontal:u.medium_16},detailCellPadding:{paddingVertical:u.medium_16,paddingHorizontal:u.medium_16},accessoryHorizontalSpacing:u.medium_16},rr=s=>{switch(s){case"inset":return[ot.horizontalRule,ot.horizontalRuleInset];case"full-width":return ot.horizontalRule;case"none":return{}}},ot=F.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:u.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${M.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${G.cellPadding.paddingHorizontal}px)`}}}),or=({leftAccessory:s,leftAccessoryStyle:e,disabled:t})=>s?n.createElement(n.Fragment,null,n.createElement($,{style:[P.accessory,t&&P.accessoryDisabled,R({},e)]},s),n.createElement(Re,{size:G.accessoryHorizontalSpacing})):null,nr=({rightAccessory:s,rightAccessoryStyle:e,active:t,disabled:r})=>s?n.createElement(n.Fragment,null,n.createElement(Re,{size:G.accessoryHorizontalSpacing}),n.createElement($,{style:[P.accessory,P.accessoryRight,r&&P.accessoryDisabled,R({},e),t&&P.accessoryActive]},s)):null;function mt(s){const{active:e,children:t,disabled:r,horizontalRule:o="inset",contentStyle:i=void 0,leftAccessory:l=void 0,leftAccessoryStyle:d=void 0,rightAccessory:c=void 0,rightAccessoryStyle:h=void 0,style:m,testId:x,innerStyle:g}=s,y=rr(o);return n.createElement($,{style:[P.innerWrapper,g,m,y]},n.createElement(or,{leftAccessory:l,leftAccessoryStyle:d,disabled:r}),n.createElement($,{style:[P.content,i],testId:x},t),n.createElement(nr,{rightAccessory:c,rightAccessoryStyle:h,active:e,disabled:r}))}const Ot=s=>{const{active:e,disabled:t,href:r,onClick:o,"aria-label":i,"aria-selected":l,"aria-checked":d,target:c,role:h,rootStyle:m}=s;return o||r?n.createElement(qt,{disabled:t,onClick:o,href:r,hideDefaultFocusRing:!0,"aria-label":i||void 0,"aria-selected":l||void 0,"aria-checked":d,role:h,target:c,style:[P.wrapper,P.clickable,m,e&&P.active,t&&P.disabled],"aria-current":e?"true":void 0},()=>n.createElement(mt,s)):n.createElement($,{style:[P.wrapper,m,e&&P.active],"aria-current":e?"true":void 0,role:h},n.createElement(mt,s))},P=F.StyleSheet.create({wrapper:{background:M.white,color:M.offBlack,display:"flex",minHeight:G.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:G.cellMinHeight,padding:`${G.cellPadding.paddingVertical}px ${G.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${G.cellPadding.paddingVertical-2}px ${G.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:M.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:u.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${u.xxxSmall_4}px)`,height:`calc(100% - ${u.xxxSmall_4}px)`,border:`${u.xxxxSmall_2}px solid ${M.blue}`,borderRadius:u.xxxSmall_4},":hover[aria-disabled=false]":{background:M.offBlack8},":active[aria-disabled=false]":{background:M.offBlack16}},active:{background:M.fadedBlue8,color:M.blue,":hover[aria-disabled=false]":{background:M.fadedBlue16},":active[aria-disabled=false]":{background:M.fadedBlue24}},disabled:{color:M.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:M.blue},accessoryDisabled:{color:M.offBlack,opacity:.32}}),sr=["title"],ir=function(e){const{title:t}=e,r=re(e,sr);return n.createElement(Ot,r,typeof t=="string"?n.createElement(Fe,null,t):t)},ar=["title","subtitle1","subtitle2"],gt=({subtitle:s,disabled:e})=>s?typeof s=="string"?n.createElement(ct,{style:!e&&Ft.subtitle},s):s:null,lr=function(e){const{title:t,subtitle1:r,subtitle2:o}=e,i=re(e,ar);return n.createElement(Ot,R({},i,{innerStyle:Ft.innerWrapper}),n.createElement(gt,{subtitle:r,disabled:i.disabled}),r&&n.createElement(Re,{size:u.xxxxSmall_2}),typeof t=="string"?n.createElement(Fe,null,t):t,o&&n.createElement(Re,{size:u.xxxxSmall_2}),n.createElement(gt,{subtitle:o,disabled:i.disabled}))},Ft=F.StyleSheet.create({subtitle:{color:M.offBlack64},innerWrapper:{padding:`${G.detailCellPadding.paddingVertical}px ${G.detailCellPadding.paddingHorizontal}px`}}),dr=""+new URL("magnifying-glass-bold-uhjCfR64.svg",import.meta.url).href,cr={clearSearch:"Clear search"},ur=["clearAriaLabel","autoFocus","disabled","id","value","placeholder","style","testId","error","instantValidation","validate","onValidate","onClick","onChange","onFocus","onBlur"],hr=n.forwardRef(function(e,t){const{clearAriaLabel:r=cr.clearSearch,autoFocus:o,disabled:i=!1,id:l,value:d,placeholder:c,style:h,testId:m,error:x,instantValidation:g=!0,validate:y,onValidate:S,onClick:a,onChange:p,onFocus:b,onBlur:v}=e,I=re(e,ur),T=n.useRef(null),C=()=>{var w;p(""),T==null||(w=T.current)==null||w.focus()},E=()=>!d.length||i?null:n.createElement(Xt,{icon:Tt,size:"small",kind:"tertiary",onClick:C,style:He.dismissIcon,"aria-label":r});return n.createElement(ge,{id:l},w=>n.createElement($,{onClick:a,style:[He.inputContainer,h]},n.createElement(ze,{icon:dr,size:"small",color:i?f.icon.disabled:f.icon.primary,style:He.searchIcon,"aria-hidden":"true"}),n.createElement(Gt,R({id:w,type:"text",autoFocus:o,disabled:i,instantValidation:g,validate:y,onValidate:S,onChange:p,onFocus:b,onBlur:v,placeholder:c,error:x,ref:A=>{t&&(t.current=A),T.current=A},value:d,style:[He.inputStyleReset,Ht.LabelMedium],testId:m},I)),E()))}),He=F.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:u.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:u.xSmall_8,marginRight:u.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:u.xxxSmall_4},inputStyleReset:{display:"flex",flex:1,width:"100%",paddingLeft:u.xLarge_32,paddingRight:u.large_24+u.medium_16}});var bt=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function pr(s,e){return!!(s===e||bt(s)&&bt(e))}function fr(s,e){if(s.length!==e.length)return!1;for(var t=0;t<s.length;t++)if(!pr(s[t],e[t]))return!1;return!0}function nt(s,e){e===void 0&&(e=fr);var t,r=[],o,i=!1;function l(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return i&&t===this&&e(d,r)||(o=s.apply(this,d),i=!0,t=this,r=d),o}return l}var mr=typeof performance=="object"&&typeof performance.now=="function",xt=mr?function(){return performance.now()}:function(){return Date.now()};function yt(s){cancelAnimationFrame(s.id)}function gr(s,e){var t=xt();function r(){xt()-t>=e?s.call(null):o.id=requestAnimationFrame(r)}var o={id:requestAnimationFrame(r)};return o}var st=-1;function St(s){if(s===void 0&&(s=!1),st===-1||s){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),st=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return st}var we=null;function vt(s){if(s===void 0&&(s=!1),we===null||s){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?we="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?we="negative":we="positive-ascending"),document.body.removeChild(e),we}return we}var br=150,xr=function(e,t){return e};function yr(s){var e,t=s.getItemOffset,r=s.getEstimatedTotalSize,o=s.getItemSize,i=s.getOffsetForIndexAndAlignment,l=s.getStartIndexForOffset,d=s.getStopIndexForStartIndex,c=s.initInstanceProps,h=s.shouldResetStyleCacheOnItemSizeChange,m=s.validateProps;return e=function(x){Ut(g,x);function g(S){var a;return a=x.call(this,S)||this,a._instanceProps=c(a.props,ft(a)),a._outerRef=void 0,a._resetIsScrollingTimeoutId=null,a.state={instance:ft(a),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof a.props.initialScrollOffset=="number"?a.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},a._callOnItemsRendered=void 0,a._callOnItemsRendered=nt(function(p,b,v,I){return a.props.onItemsRendered({overscanStartIndex:p,overscanStopIndex:b,visibleStartIndex:v,visibleStopIndex:I})}),a._callOnScroll=void 0,a._callOnScroll=nt(function(p,b,v){return a.props.onScroll({scrollDirection:p,scrollOffset:b,scrollUpdateWasRequested:v})}),a._getItemStyle=void 0,a._getItemStyle=function(p){var b=a.props,v=b.direction,I=b.itemSize,T=b.layout,C=a._getItemStyleCache(h&&I,h&&T,h&&v),E;if(C.hasOwnProperty(p))E=C[p];else{var w=t(a.props,p,a._instanceProps),A=o(a.props,p,a._instanceProps),N=v==="horizontal"||T==="horizontal",oe=v==="rtl",ne=N?w:0;C[p]=E={position:"absolute",left:oe?void 0:ne,right:oe?ne:void 0,top:N?0:w,height:N?"100%":A,width:N?A:"100%"}}return E},a._getItemStyleCache=void 0,a._getItemStyleCache=nt(function(p,b,v){return{}}),a._onScrollHorizontal=function(p){var b=p.currentTarget,v=b.clientWidth,I=b.scrollLeft,T=b.scrollWidth;a.setState(function(C){if(C.scrollOffset===I)return null;var E=a.props.direction,w=I;if(E==="rtl")switch(vt()){case"negative":w=-I;break;case"positive-descending":w=T-v-I;break}return w=Math.max(0,Math.min(w,T-v)),{isScrolling:!0,scrollDirection:C.scrollOffset<w?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._onScrollVertical=function(p){var b=p.currentTarget,v=b.clientHeight,I=b.scrollHeight,T=b.scrollTop;a.setState(function(C){if(C.scrollOffset===T)return null;var E=Math.max(0,Math.min(T,I-v));return{isScrolling:!0,scrollDirection:C.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._outerRefSetter=function(p){var b=a.props.outerRef;a._outerRef=p,typeof b=="function"?b(p):b!=null&&typeof b=="object"&&b.hasOwnProperty("current")&&(b.current=p)},a._resetIsScrollingDebounced=function(){a._resetIsScrollingTimeoutId!==null&&yt(a._resetIsScrollingTimeoutId),a._resetIsScrollingTimeoutId=gr(a._resetIsScrolling,br)},a._resetIsScrolling=function(){a._resetIsScrollingTimeoutId=null,a.setState({isScrolling:!1},function(){a._getItemStyleCache(-1,null)})},a}g.getDerivedStateFromProps=function(a,p){return Sr(a,p),m(a),null};var y=g.prototype;return y.scrollTo=function(a){a=Math.max(0,a),this.setState(function(p){return p.scrollOffset===a?null:{scrollDirection:p.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(a,p){p===void 0&&(p="auto");var b=this.props,v=b.itemCount,I=b.layout,T=this.state.scrollOffset;a=Math.max(0,Math.min(a,v-1));var C=0;if(this._outerRef){var E=this._outerRef;I==="vertical"?C=E.scrollWidth>E.clientWidth?St():0:C=E.scrollHeight>E.clientHeight?St():0}this.scrollTo(i(this.props,a,p,T,this._instanceProps,C))},y.componentDidMount=function(){var a=this.props,p=a.direction,b=a.initialScrollOffset,v=a.layout;if(typeof b=="number"&&this._outerRef!=null){var I=this._outerRef;p==="horizontal"||v==="horizontal"?I.scrollLeft=b:I.scrollTop=b}this._callPropsCallbacks()},y.componentDidUpdate=function(){var a=this.props,p=a.direction,b=a.layout,v=this.state,I=v.scrollOffset,T=v.scrollUpdateWasRequested;if(T&&this._outerRef!=null){var C=this._outerRef;if(p==="horizontal"||b==="horizontal")if(p==="rtl")switch(vt()){case"negative":C.scrollLeft=-I;break;case"positive-ascending":C.scrollLeft=I;break;default:var E=C.clientWidth,w=C.scrollWidth;C.scrollLeft=w-E-I;break}else C.scrollLeft=I;else C.scrollTop=I}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&yt(this._resetIsScrollingTimeoutId)},y.render=function(){var a=this.props,p=a.children,b=a.className,v=a.direction,I=a.height,T=a.innerRef,C=a.innerElementType,E=a.innerTagName,w=a.itemCount,A=a.itemData,N=a.itemKey,oe=N===void 0?xr:N,ne=a.layout,se=a.outerElementType,Q=a.outerTagName,W=a.style,B=a.useIsScrolling,ie=a.width,ae=this.state.isScrolling,J=v==="horizontal"||ne==="horizontal",Me=J?this._onScrollHorizontal:this._onScrollVertical,xe=this._getRangeToRender(),ye=xe[0],Se=xe[1],ve=[];if(w>0)for(var Z=ye;Z<=Se;Z++)ve.push(n.createElement(p,{data:A,key:oe(Z,A),index:Z,isScrolling:B?ae:void 0,style:this._getItemStyle(Z)}));var Y=r(this.props,this._instanceProps);return n.createElement(se||Q||"div",{className:b,onScroll:Me,ref:this._outerRefSetter,style:R({position:"relative",height:I,width:ie,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},W)},n.createElement(C||E||"div",{children:ve,ref:T,style:{height:J?"100%":Y,pointerEvents:ae?"none":void 0,width:J?Y:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var a=this.props.itemCount;if(a>0){var p=this._getRangeToRender(),b=p[0],v=p[1],I=p[2],T=p[3];this._callOnItemsRendered(b,v,I,T)}}if(typeof this.props.onScroll=="function"){var C=this.state,E=C.scrollDirection,w=C.scrollOffset,A=C.scrollUpdateWasRequested;this._callOnScroll(E,w,A)}},y._getRangeToRender=function(){var a=this.props,p=a.itemCount,b=a.overscanCount,v=this.state,I=v.isScrolling,T=v.scrollDirection,C=v.scrollOffset;if(p===0)return[0,0,0,0];var E=l(this.props,C,this._instanceProps),w=d(this.props,E,C,this._instanceProps),A=!I||T==="backward"?Math.max(1,b):1,N=!I||T==="forward"?Math.max(1,b):1;return[Math.max(0,E-A),Math.max(0,Math.min(p-1,w+N)),E,w]},g}(n.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Sr=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},vr=50,Te=function(e,t,r){var o=e,i=o.itemSize,l=r.itemMetadataMap,d=r.lastMeasuredIndex;if(t>d){var c=0;if(d>=0){var h=l[d];c=h.offset+h.size}for(var m=d+1;m<=t;m++){var x=i(m);l[m]={offset:c,size:x},c+=x}r.lastMeasuredIndex=t}return l[t]},Ir=function(e,t,r){var o=t.itemMetadataMap,i=t.lastMeasuredIndex,l=i>0?o[i].offset:0;return l>=r?zt(e,t,i,0,r):Cr(e,t,Math.max(0,i),r)},zt=function(e,t,r,o,i){for(;o<=r;){var l=o+Math.floor((r-o)/2),d=Te(e,l,t).offset;if(d===i)return l;d<i?o=l+1:d>i&&(r=l-1)}return o>0?o-1:0},Cr=function(e,t,r,o){for(var i=e.itemCount,l=1;r<i&&Te(e,r,t).offset<o;)r+=l,l*=2;return zt(e,t,Math.min(r,i-1),Math.floor(r/2),o)},It=function(e,t){var r=e.itemCount,o=t.itemMetadataMap,i=t.estimatedItemSize,l=t.lastMeasuredIndex,d=0;if(l>=r&&(l=r-1),l>=0){var c=o[l];d=c.offset+c.size}var h=r-l-1,m=h*i;return d+m},kr=yr({getItemOffset:function(e,t,r){return Te(e,t,r).offset},getItemSize:function(e,t,r){return r.itemMetadataMap[t].size},getEstimatedTotalSize:It,getOffsetForIndexAndAlignment:function(e,t,r,o,i,l){var d=e.direction,c=e.height,h=e.layout,m=e.width,x=d==="horizontal"||h==="horizontal",g=x?m:c,y=Te(e,t,i),S=It(e,i),a=Math.max(0,Math.min(S-g,y.offset)),p=Math.max(0,y.offset-g+y.size+l);switch(r==="smart"&&(o>=p-g&&o<=a+g?r="auto":r="center"),r){case"start":return a;case"end":return p;case"center":return Math.round(p+(a-p)/2);case"auto":default:return o>=p&&o<=a?o:o<p?p:a}},getStartIndexForOffset:function(e,t,r){return Ir(e,r,t)},getStopIndexForStartIndex:function(e,t,r,o){for(var i=e.direction,l=e.height,d=e.itemCount,c=e.layout,h=e.width,m=i==="horizontal"||c==="horizontal",x=m?h:l,g=Te(e,t,o),y=r+x,S=g.offset+g.size,a=t;a<d-1&&S<y;)a++,S+=Te(e,a,o).size;return a},initInstanceProps:function(e,t){var r=e,o=r.estimatedItemSize,i={itemMetadataMap:{},estimatedItemSize:o||vr,lastMeasuredIndex:-1};return t.resetAfterIndex=function(l,d){d===void 0&&(d=!0),i.lastMeasuredIndex=Math.min(i.lastMeasuredIndex,l-1),t._getItemStyleCache(-1),d&&t.forceUpdate()},i},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const Mt=""+new URL("caret-down-bold-NQKqym-e.svg",import.meta.url).href,At={marginTop:u.xSmall_8,marginBottom:u.xSmall_8},Lt={minHeight:100},ce=40,Dt=9,Pt=9,X={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:s=>`Select all (${s})`,noneSelected:"0 items",someSelected:s=>s===1?"1 item":`${s} items`,allSelected:"All items"};class Oe extends n.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_ACTION_ITEM__}render(){const{disabled:e,horizontalRule:t,href:r,target:o,indent:i,label:l,lang:d,leftAccessory:c,rightAccessory:h,onClick:m,role:x,style:g,testId:y}=this.props,S=[Le.wrapper,g],a=typeof l=="string"?n.createElement(Fe,{lang:d,style:Le.label},l):n.cloneElement(l,R({lang:d,style:Le.label},l.props));return n.createElement(ir,{disabled:e,horizontalRule:t,rootStyle:S,leftAccessory:c,rightAccessory:h,style:[Le.shared,i&&Le.indent],role:x,testId:y,title:a,href:r,target:o,onClick:m})}}Oe.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};Oe.__IS_ACTION_ITEM__=!0;const Be=f.action.primary.progressive,qe={actionItem:{color:{hover:{background:Be.hover.background,foreground:Be.hover.foreground},press:{background:Be.press.background,foreground:Be.press.foreground}}}},Le=F.StyleSheet.create({wrapper:{minHeight:ce,touchAction:"manipulation",":focus":{borderRadius:u.xxxSmall_4,outline:`${u.xxxxSmall_2}px solid ${f.focus.outer}`,outlineOffset:-u.xxxxSmall_2},":hover[aria-disabled=false]":{color:qe.actionItem.color.hover.foreground,background:qe.actionItem.color.hover.background},":active[aria-disabled=false]":{color:qe.actionItem.color.press.foreground,background:qe.actionItem.color.press.background}},shared:{minHeight:ce,height:ce},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:u.medium_16*2}}),wr=function(e){const{selected:t}=e;return n.createElement(ze,{icon:_t,size:"small",style:[Ct.bounds,!t&&Ct.hide]})},Ct=F.StyleSheet.create({bounds:{alignSelf:"center",height:u.medium_16,minHeight:u.medium_16,minWidth:u.medium_16},hide:{visibility:"hidden"}}),Er=function(e){const{disabled:t,selected:r}=e;return n.createElement($,{className:"checkbox",style:[Ue.checkbox,r&&!t&&Ue.noBorder,t&&Ue.disabledCheckbox]},r&&n.createElement(ze,{icon:_t,size:"small",className:"check",style:[{width:u.small_12,height:u.small_12,margin:u.xxxxSmall_2},t&&r&&Ue.disabledCheckFormatting]}))},it={checkbox:{color:{default:{border:f.border.strong},disabled:{border:f.action.secondary.disabled.border,background:f.action.secondary.disabled.background}}}},Ue=F.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:u.medium_16,minWidth:u.medium_16,height:u.medium_16,borderRadius:H.radius.small_3,borderWidth:H.width.hairline,borderStyle:"solid",borderColor:it.checkbox.color.default.border},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:it.checkbox.color.disabled.border,backgroundColor:it.checkbox.color.disabled.background},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),_r=["disabled","label","selected","testId","leftAccessory","horizontalRule","parentComponent","rightAccessory","style","subtitle1","subtitle2","value","onClick","onToggle","variant","role"],Tr=Pe("li");class me extends n.Component{constructor(...e){super(...e),this.handleClick=()=>{const{onClick:t,onToggle:r,value:o}=this.props;r(o),t&&t()}}static isClassOf(e){return e&&e.type&&e.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?wr:Er}renderCell(){const e=this.props,{disabled:t,label:r,selected:o,testId:i,leftAccessory:l,horizontalRule:d,parentComponent:c,rightAccessory:h,style:m,subtitle1:x,subtitle2:g,role:y}=e,S=re(e,_r),a=this.getCheckComponent(),p=[de.item,m];return n.createElement(lr,R({disabled:t,horizontalRule:d,rootStyle:c==="listbox"?de.listboxItem:p,style:de.itemContainer,"aria-selected":c!=="listbox"&&o?"true":"false",role:c!=="listbox"?y:void 0,testId:i,leftAccessory:n.createElement(n.Fragment,null,l?n.createElement($,{style:{flexDirection:"row"}},n.createElement(a,{disabled:t,selected:o}),n.createElement(Re,{size:u.xSmall_8}),l):n.createElement(a,{disabled:t,selected:o})),rightAccessory:h,subtitle1:x?n.createElement(ct,{className:"subtitle"},x):void 0,title:n.createElement(Fe,{style:de.label},r),subtitle2:g?n.createElement(ct,{className:"subtitle"},g):void 0,onClick:c!=="listbox"?this.handleClick:void 0},S))}render(){const{disabled:e,focused:t,parentComponent:r,role:o,selected:i}=this.props;return r==="listbox"?n.createElement(Tr,{onMouseDown:l=>{l.preventDefault()},onClick:this.handleClick,style:[de.reset,de.item,t&&de.itemFocused,e&&de.itemDisabled],role:o,"aria-selected":i?"true":"false","aria-disabled":e?"true":"false",id:this.props.id,tabIndex:-1},this.renderCell()):this.renderCell()}}me.defaultProps={disabled:!1,focused:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};me.__IS_OPTION_ITEM__=!0;const kt={borderRadius:u.xxxSmall_4,outline:`${u.xxxxSmall_2}px solid ${f.focus.outer}`,outlineOffset:-u.xxxxSmall_2},Ee=f.action.primary.progressive,D={optionItem:{color:{default:{background:f.surface.primary,foreground:f.text.primary},hover:{background:Ee.hover.background,foreground:Ee.hover.foreground},press:{background:Ee.press.background,foreground:Ee.press.foreground},disabled:{background:"transparent",foreground:f.action.secondary.disabled.foreground}}},checkbox:{color:{hover:{background:f.action.secondary.progressive.hover.background,foreground:f.action.secondary.progressive.hover.foreground},press:{background:f.surface.primary,foreground:f.action.secondary.progressive.press.foreground},selected:{background:Ee.default.background,foreground:Ee.default.foreground}}},subtitle:{color:{default:{foreground:f.text.secondary},hover:{foreground:f.text.inverse},press:{foreground:f.text.inverse}}}},de=F.StyleSheet.create({reset:{margin:0,padding:0,border:0,background:"none",outline:"none",fontSize:"100%",verticalAlign:"baseline",textAlign:"left",textDecoration:"none",listStyle:"none",cursor:"pointer"},listboxItem:{backgroundColor:"transparent",color:"inherit"},item:{background:D.optionItem.color.default.background,color:D.optionItem.color.default.foreground,minHeight:"unset",":focus":kt,":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:D.optionItem.color.hover.foreground,background:D.optionItem.color.hover.background},":active[aria-selected=false]":{},":hover[aria-disabled=true]":{cursor:"not-allowed"},":is([aria-disabled=true])":{color:D.optionItem.color.disabled.foreground,":focus-visible":{outline:"none"}},":active[aria-disabled=false]":{color:D.optionItem.color.press.foreground,background:D.optionItem.color.press.background},":hover[aria-disabled=false] .checkbox":{background:D.checkbox.color.hover.background},":active[aria-disabled=false] .checkbox":{background:D.checkbox.color.press.background},":hover[aria-disabled=false] .check":{color:D.checkbox.color.hover.foreground},":active[aria-disabled=false] .check":{color:D.checkbox.color.press.foreground},":is([aria-selected=true]) .checkbox":{background:D.checkbox.color.selected.background},":is([aria-selected=true]) .check":{color:D.checkbox.color.selected.foreground},":is([aria-disabled=false]) .subtitle":{color:D.subtitle.color.default.foreground},":hover[aria-disabled=false] .subtitle":{color:D.subtitle.color.hover.foreground},":active[aria-disabled=false] .subtitle":{color:D.subtitle.color.press.foreground}},itemFocused:kt,itemDisabled:{outlineColor:f.focus.outer},itemContainer:{minHeight:"unset",paddingBlock:u.xSmall_8+u.xxxxSmall_2,paddingInlineStart:u.xSmall_8,paddingInlineEnd:u.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class te extends n.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_SEPARATOR_ITEM__}render(){return n.createElement($,{style:[Or.separator,this.props.style],"aria-hidden":"true"})}}te.__IS_SEPARATOR_ITEM__=!0;const Rr={separator:{color:{border:f.border.primary}}},Or=F.StyleSheet.create({separator:{borderTop:`1px solid ${Rr.separator.color.border}`,height:1,minHeight:1,marginTop:u.xxxSmall_4,marginBottom:u.xxxSmall_4}});class Ge extends n.Component{constructor(...e){super(...e),this.getTestIdFromProps=t=>t.testId||t["data-testid"]}renderAnchorChildren(e,t){var r;const{disabled:o,testId:i,text:l,opened:d,"aria-controls":c,"aria-haspopup":h,"aria-required":m,id:x,role:g,onBlur:y}=this.props,S=this.props.children(R({},e,{text:l,opened:d})),a=S.props,p=this.getTestIdFromProps(a),b=(r=a["aria-label"])!=null?r:this.props["aria-label"];return n.cloneElement(S,R({},t,{"aria-label":b??void 0,"aria-invalid":this.props.error,disabled:o,"aria-controls":c,role:g,id:x,"aria-expanded":d?"true":"false","aria-haspopup":h,"aria-required":m,onClick:a.onClick?v=>{a.onClick(v),t.onClick(v)}:t.onClick,"data-testid":p||i,onBlur:y}))}render(){return n.createElement(Kt,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(e,t)=>this.renderAnchorChildren(e,t))}}Ge.defaultProps={disabled:!1};class Fr extends n.Component{render(){const{data:e,index:t,style:r}=this.props,o=e[t];if(te.isClassOf(o.component))return n.cloneElement(o.component,{style:r});{const{component:i,populatedProps:l,onClick:d,role:c,ref:h}=o;return n.cloneElement(i,R({style:r},l,{key:t,onClick:d,ref:o.focusable&&h,role:c}))}}}function wt(s,e=0){return s.slice(0,Dt).reduce((t,r)=>te.isClassOf(r.component)?t+Pt:t+ce,e)}class zr extends n.Component{constructor(e){super(e),this.getItemSize=t=>{const r=this.props.data[t];return te.isClassOf(r.component)?Pt:ce},this.state={height:wt(e.data),width:e.width}}componentDidMount(){const{schedule:e}=this.props;e.animationFrame(()=>{this.setWidth()})}componentDidUpdate(e){const{data:t,listRef:r}=this.props;e.data.length!==t.length&&(this.setHeight(),r&&r.current&&r.current.resetAfterIndex(1))}setWidth(){const e=be.findDOMNode(this),t=e==null?void 0:e.parentElement;if(t){const r=t.getBoundingClientRect().width;this.setState({width:r})}}setHeight(){const e=wt(this.props.data);this.setState({height:e})}renderInitialItems(){const{data:e}=this.props,t=e.map(o=>o.component);return n.Children.toArray(t).filter(Boolean).sort((o,i)=>i.props.label&&o.props.label?i.props.label.length-o.props.label.length:-1).slice(0,Dt).map(o=>n.cloneElement(o,{style:{visibility:"hidden"}}))}renderVirtualizedList(e,t){const{data:r,listRef:o}=this.props;return n.createElement(kr,{height:t,itemCount:r.length,itemSize:this.getItemSize,itemData:r,style:{overflowX:"hidden"},width:e,overscanCount:5,ref:o},Fr)}render(){const{width:e,height:t}=this.state;return e==null?this.renderInitialItems():this.renderVirtualizedList(e,t)}}var Mr=Rt(zr);function Ar({state:s,options:e}){const t=Yt(s,e),{y:r}=s.modifiersData.preventOverflow||{x:0,y:0},{height:o}=s.rects.popper,[i]=s.placement.split("-"),d=o-t[i==="top"?"top":"bottom"]-r;s.styles.popper=R({},s.styles.popper,{maxHeight:`${d}px`,"--popper-max-height":`${d}px`})}const Lr={name:"maxHeight",enabled:!0,phase:"main",options:{padding:ce},requiresIfExists:["offset","preventOverflow","flip"],fn:Ar},Dr=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},Lr],Pr=function({children:e,alignment:t="left",onPopperElement:r,referenceElement:o}){const i=Qt(o)||document.querySelector("body");return i?be.createPortal(n.createElement(Zt,{innerRef:l=>{l&&r&&r(l)},referenceElement:o,strategy:"fixed",placement:t==="left"?"bottom-start":"bottom-end",modifiers:Dr},({placement:l,ref:d,style:c,hasPopperEscaped:h,isReferenceHidden:m})=>{const x=!!(h||m);return n.createElement("div",{ref:d,style:c,"data-testid":"dropdown-popper","data-placement":l},e(x))}),i):null};function $r(s){return s.length===1||!/^[A-Z]/i.test(s)?s:""}function Nr(s,e){let t;return function(...o){const i=()=>{clearTimeout(t),s(...o)};clearTimeout(t),t=setTimeout(i,e)}}function Et(s){return typeof s=="string"}function Xe(s){return Et(s.label)?s.label:Et(s.labelAsText)?s.labelAsText:""}function $t(s,e){return s?Xe(e):e.label}const Wr=125,Vr=Pe("span");class Ze extends n.Component{static sameItemsFocusable(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r].focusable!==t[r].focusable)return!1;return!0}static getDerivedStateFromProps(e,t){if(t.itemRefs.length===0&&e.open||!Ze.sameItemsFocusable(t.prevItems,e.items)){const r=[];for(let o=0;o<e.items.length;o++)if(e.items[o].focusable){const i=n.createRef();r.push({ref:i,originalIndex:o})}return{itemRefs:r,prevItems:e.items,sameItemsFocusable:!1}}else return{prevItems:e.items,sameItemsFocusable:!0}}constructor(e){super(e),this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.focusedIndex=-1,this.focusedOriginalIndex=-1,this.itemsClicked=!1,this.searchFieldRef=n.createRef(),this.handleInteract=t=>{const{open:r,onOpenChanged:o}=this.props,i=t.target,l=be.findDOMNode(this);r&&l&&!l.contains(i)&&this.popperElement&&!this.popperElement.contains(i)&&o(!1)},this.handleKeyDown=t=>{const{enableTypeAhead:r,onOpenChanged:o,open:i,searchText:l}=this.props,d=t.key;if(r&&$r(d)&&(t.stopPropagation(),this.textSuggestion+=d,this.handleKeyDownDebounced(this.textSuggestion)),!i){if(d===j.down){t.preventDefault(),o(!0);return}return}switch(d){case j.tab:if(this.isSearchFieldFocused()&&l)return;this.restoreTabOrder(),o(!1);return;case j.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case j.up:t.preventDefault(),this.focusPreviousItem();return;case j.down:t.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=t=>{const{onOpenChanged:r,open:o}=this.props;switch(t.key){case j.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case j.escape:o&&(t.stopPropagation(),this.restoreTabOrder(),r(!1));return}},this.handleKeyDownDebounceResult=t=>{const r=this.props.items.filter(o=>o.focusable).findIndex(({component:o})=>{if(te.isClassOf(o))return!1;if(me.isClassOf(o)){const i=o.props;return Xe(i).toLowerCase().startsWith(t.toLowerCase())}return!1});if(r>=0){const o=!this.props.open;o&&this.props.onOpenChanged(!0),this.focusedIndex=r,this.scheduleToFocusCurrentItem(i=>{this.props.selectionType==="single"&&o&&i&&(i.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=t=>{this.itemsClicked=!0,this.focusedIndex=t,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=t=>{t.nativeEvent.stopImmediatePropagation?t.nativeEvent.stopImmediatePropagation():t.stopPropagation()},this.handleItemClick=(t,r)=>{this.handleClickFocus(t),r.component.props.onClick&&r.component.props.onClick(),r.populatedProps.onClick&&r.populatedProps.onClick()},this.handleSearchTextChanged=t=>{const{onSearchTextChanged:r}=this.props;r&&r(t)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:R({noResults:X.noResults,someResults:X.someSelected},e.labels)},this.virtualizedListRef=n.createRef(),this.handleKeyDownDebounced=Nr(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(e){const{open:t,searchText:r}=this.props;if(e.open!==t)this.updateEventListeners(),this.maybeFocusInitialItem();else if(t){const{itemRefs:o,sameItemsFocusable:i}=this.state;if(i||e.searchText!==r)return;{const l=o.findIndex(d=>d.originalIndex===this.focusedOriginalIndex);l===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=l}this.props.labels!==e.labels&&this.setState({labels:R({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:e}=this.props;if(typeof e<"u")this.focusedIndex=e;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:e,open:t}=this.props;e&&(t?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):t||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(e){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(e)}):this.focusCurrentItem(e)}focusCurrentItem(e){const t=this.state.itemRefs[this.focusedIndex];if(!t)return;const{current:r}=this.virtualizedListRef;r&&r.scrollToItem(t.originalIndex);const o=()=>{if(!this.props.open)return;const i=this.state.itemRefs[this.focusedIndex],l=be.findDOMNode(i.ref.current);if(!l&&this.shouldVirtualizeList()){this.props.schedule.animationFrame(o);return}l&&(l.focus(),this.focusedOriginalIndex=i.originalIndex,e&&e(l))};this.shouldVirtualizeList()?this.props.schedule.animationFrame(o):o()}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.isSearchFieldFocused()||(this.focusedIndex-=1);this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.isSearchFieldFocused()||(this.focusedIndex+=1);this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:e}=this.props;switch(e){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${e}" instead.`)}}maybeRenderNoResults(){const{items:e,labels:{noResults:t}}=this.props;return e.length===0?n.createElement(Fe,{style:fe.noResult,testId:"dropdown-core-no-results"},t):null}shouldVirtualizeList(){return this.props.items.length>Wr}renderList(){let e=0;const t=this.getItemRole();return this.props.items.map((r,o)=>{if(te.isClassOf(r.component))return r.component;const{component:i,focusable:l,populatedProps:d}=r;l&&(e+=1);const c=e-1,h=this.state.itemRefs[c]?this.state.itemRefs[c].ref:null;return n.cloneElement(i,R({},d,{key:o,onClick:()=>{this.handleItemClick(c,r)},ref:l?h:null,role:d.role||t}))})}parseVirtualizedItems(){let e=0;const t=this.getItemRole();return this.props.items.map((r,o)=>{const{populatedProps:i}=r;!te.isClassOf(r.component)&&r.focusable&&(e+=1);const l=e-1;return R({},r,{role:i.role||t,ref:r.focusable&&this.state.itemRefs[l]?this.state.itemRefs[l].ref:null,onClick:()=>{this.handleItemClick(l,r)}})})}renderVirtualizedList(){const e=this.parseVirtualizedItems();return n.createElement(Mr,{data:e,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:e}=this.props,{labels:t}=this.state;return n.createElement(hr,{clearAriaLabel:t.clearSearch,onChange:this.handleSearchTextChanged,placeholder:t.filter,ref:this.searchFieldRef,style:fe.searchInputStyle,value:e||""})}renderDropdownMenu(e,t){const{"aria-invalid":r,"aria-required":o,dropdownStyle:i,isFilterable:l,openerElement:d,role:c,id:h}=this.props,m=d&&window.getComputedStyle(d),x=m?m.getPropertyValue("width"):0;return n.createElement($,{onMouseUp:this.handleDropdownMouseUp,style:[fe.dropdown,t&&fe.hidden,i],testId:"dropdown-core-container"},l&&this.renderSearchField(),n.createElement($,{id:h,role:c,style:[fe.listboxOrMenu,{minWidth:x}],"aria-invalid":c==="listbox"?r:void 0,"aria-required":c==="listbox"?o:void 0},e),this.maybeRenderNoResults())}renderDropdown(){const{alignment:e,openerElement:t}=this.props,r=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return n.createElement(Pr,{alignment:e,onPopperElement:o=>{this.popperElement=o},referenceElement:t},o=>this.renderDropdownMenu(r,o))}renderLiveRegion(){const{items:e,open:t}=this.props,{labels:r}=this.state,o=e.length;return n.createElement(Vr,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:fe.srOnly,"data-testid":"dropdown-live-region"},t&&r.someResults(o))}render(){const{open:e,opener:t,style:r,className:o,disabled:i}=this.props;return n.createElement($,{onKeyDown:i?void 0:this.handleKeyDown,onKeyUp:i?void 0:this.handleKeyUp,style:[fe.menuWrapper,r],className:o},this.renderLiveRegion(),t,e&&this.renderDropdown())}}Ze.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:X.clearSearch,filter:X.filter,noResults:X.noResults,someResults:X.someSelected},selectionType:"single"};const at={dropdown:{color:{default:{background:f.surface.primary,border:f.border.primary}}},noResults:{color:{foreground:f.text.secondary}}},fe=F.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:at.dropdown.color.default.background,borderRadius:H.radius.medium_4,paddingTop:u.xxxSmall_4,paddingBottom:u.xxxSmall_4,border:`solid 1px ${at.dropdown.color.default.border}`,boxShadow:`0px 8px 8px 0px ${M.offBlack8}`,maxHeight:"var(--popper-max-height)"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:at.noResults.color.foreground,alignSelf:"center",marginTop:u.xxSmall_6},searchInputStyle:{margin:u.xSmall_8,marginTop:u.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var ut=Rt(Ze);const Hr=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],Br=Pe("button");class qr extends n.Component{render(){const e=this.props,{children:t,disabled:r,focused:o,hovered:i,pressed:l,testId:d,opened:c,"aria-label":h}=e,m=re(e,Hr),x=r,g=[_e.shared,_e.default,x&&_e.disabled,!x&&l&&_e.press],y=n.createElement(Bt,{style:_e.text},t);return n.createElement(Br,R({"aria-expanded":c?"true":"false","aria-haspopup":"menu","aria-label":h,disabled:x,style:g,type:"button"},m,{"data-testid":d}),n.createElement($,{style:!x&&(i||o)&&_e.focus},y),n.createElement(Re,{size:u.xxxSmall_4}),n.createElement(ze,{size:"small",color:"currentColor",icon:Mt,"aria-hidden":"true"}))}}const Ke={actionMenuOpener:{color:{default:{background:"none",foreground:f.action.secondary.progressive.default.foreground},disabled:{foreground:f.action.secondary.disabled.foreground},press:{foreground:f.action.secondary.progressive.press.foreground}}}},_e=F.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:ce,border:"none",borderRadius:u.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},default:{background:Ke.actionMenuOpener.color.default.background,color:Ke.actionMenuOpener.color.default.foreground},disabled:{color:Ke.actionMenuOpener.color.disabled.foreground,cursor:"not-allowed"},small:{height:u.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:H.radius.xSmall_2}},press:{color:Ke.actionMenuOpener.color.press.foreground}}),Ur=["text","opened"];class Kr extends n.Component{constructor(...e){super(...e),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=t=>{this.setState({opened:t}),this.props.onToggle&&this.props.onToggle(t)},this.handleOptionSelected=t=>{const{onChange:r,selectedValues:o}=this.props;if(!(!r||!o)){if(o.includes(t)){const i=o.indexOf(t),l=[...o.slice(0,i),...o.slice(i+1)];r(l)}else r([...o,t]);this.handleItemSelected()}},this.handleOpenerRef=t=>{this.openerElement=be.findDOMNode(t)},this.handleClick=t=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(e,t){return{opened:typeof e.opened=="boolean"?e.opened:t.opened}}getMenuItems(){const{children:e,selectedValues:t}=this.props,r=n.Children.toArray(e).filter(Boolean),o=r.some(i=>me.isClassOf(i));return r.map(i=>{const{value:l,disabled:d}=i.props,c={component:i,focusable:Oe.isClassOf(i)||me.isClassOf(i)?!d:!1,populatedProps:{}};if(Oe.isClassOf(i))return R({},c,{populatedProps:{indent:o,onClick:this.handleItemSelected}});if(me.isClassOf(i)){const h=t?t.includes(l):!1;return R({},c,{populatedProps:{onToggle:this.handleOptionSelected,selected:h,variant:"check",role:"menuitemcheckbox","aria-checked":h,"aria-selected":void 0}})}else return c})}renderOpener(e,t){const{disabled:r,menuText:o,opener:i,testId:l,id:d}=this.props;return n.createElement(ge,{id:d},c=>n.createElement(Ge,{id:c,"aria-controls":t,"aria-haspopup":"menu",onClick:this.handleClick,disabled:e===0||r,text:o,ref:this.handleOpenerRef,testId:i?void 0:l,opened:this.state.opened,role:"button"},i||(h=>{const{opened:m}=h,x=re(h,Ur);return n.createElement(qr,R({},x,{disabled:r,opened:!!m,testId:l}),o)})))}render(){const{alignment:e,dropdownStyle:t,style:r,className:o,dropdownId:i}=this.props,l=this.getMenuItems();return n.createElement(ge,{id:i},d=>n.createElement(ut,{id:d,role:"menu",style:r,className:o,opener:this.renderOpener(l.length,d),alignment:e,open:this.state.opened,items:l,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[jr.menuTopSpace,t]}))}}Kr.defaultProps={alignment:"left",disabled:!1};const jr=F.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),Gr=["children","disabled","error","id","isPlaceholder","open","testId","aria-label","aria-required","aria-controls","onBlur","onOpenChanged"],Xr=Pe("button");class ht extends n.Component{constructor(e){super(e),this.handleClick=t=>{const{open:r}=this.props;this.props.onOpenChanged(!r)},this.handleKeyDown=t=>{const r=t.key;(r===j.enter||r===j.space)&&(this.setState({pressed:!0}),t.preventDefault())},this.handleKeyUp=t=>{const r=t.key;(r===j.enter||r===j.space)&&(this.setState({pressed:!1}),this.handleClick(t))},this.state={pressed:!1}}render(){const e=this.props,{children:t,disabled:r,error:o,id:i,isPlaceholder:l,open:d,testId:c,"aria-label":h,"aria-required":m,"aria-controls":x,onBlur:g}=e,y=re(e,Gr),S=Zr(l,o),a=r?f.icon.disabled:f.icon.primary,p=[lt.shared,S.default,r&&S.disabled,!r&&this.state.pressed&&S.press];return n.createElement(Xr,R({},y,{"aria-disabled":r,"aria-expanded":d?"true":"false","aria-invalid":o,"aria-label":h??void 0,"aria-required":m,"aria-haspopup":"listbox","aria-controls":x,"data-testid":c,id:i,role:"combobox",type:"button",style:p,onClick:r?void 0:this.handleClick,onKeyDown:r?void 0:this.handleKeyDown,onKeyUp:r?void 0:this.handleKeyUp,onBlur:g}),n.createElement(Fe,{style:lt.text},t||n.createElement("span",{"aria-hidden":"true"}," ")),n.createElement(ze,{icon:Mt,color:a,size:"small",style:lt.caret,"aria-hidden":"true"}))}}ht.defaultProps={disabled:!1,error:!1,isPlaceholder:!1};const lt=F.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:f.text.primary,height:ce,paddingLeft:u.medium_16,paddingRight:u.small_12,borderWidth:0,borderRadius:H.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:u.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),je={},Zr=(s,e)=>{const t=`${s}-${e}`;if(je[t])return je[t];const r={default:{border:f.border.strong,background:f.surface.primary,foreground:f.text.primary},disabled:{border:f.action.secondary.disabled.border,background:f.action.secondary.disabled.background,foreground:f.text.secondary},error:{border:f.status.critical.foreground,background:f.status.critical.background,foreground:f.text.primary}},o=e?"destructive":"progressive",i=f.action.secondary[o],l={outlineOffset:-H.width.thin,outlineStyle:"solid",outlineWidth:H.width.thin},d=R({},l,{outlineColor:f.focus.outer}),c=R({},l,{outlineColor:i.hover.border}),h=R({background:i.press.background,color:s?e?f.text.secondary:f.action.secondary.progressive.press.foreground:f.text.primary,outlineColor:i.press.border},l),m=e?r.error:r.default,x={default:{background:m.background,borderColor:m.border,borderWidth:H.width.hairline,color:s?f.text.secondary:m.foreground,":hover:not([aria-disabled=true])":c,"@media not (hover: hover)":{":hover:not([aria-disabled=true])":{borderColor:m.border,borderWidth:H.width.hairline,paddingLeft:u.medium_16,paddingRight:u.small_12}},":focus-visible:not([aria-disabled=true])":d,":active:not([aria-disabled=true])":h},disabled:{background:r.disabled.background,borderColor:r.disabled.border,color:r.disabled.foreground,cursor:"not-allowed",":focus-visible":R({outlineColor:f.focus.outer},l)},press:h};return je[t]=F.StyleSheet.create(x),je[t]},Yr="This field is required.";function De(s){return s?s.length>0:!1}function Nt({value:s,disabled:e=!1,validate:t,onValidate:r,required:o,open:i}){const[l,d]=n.useState(()=>t&&De(s)&&!e&&t(s)||null),c=n.useCallback(y=>{if(!e){if(t){const S=y!==void 0&&t(y)||null;if(d(S),r&&r(S),S)return}if(o){const S=typeof o=="string"?o:Yr,a=De(y)?null:S;d(a),r&&r(a)}}},[e,t,d,r,o]);Vt(()=>{De(s)&&c(s)});function h(){!i&&o&&!De(s)&&c(s)}return{errorMessage:l,onOpenerBlurValidation:h,onDropdownClosedValidation:()=>{o&&!De(s)&&c(s)},onSelectionValidation:y=>{c(y)},onSelectedValuesChangeValidation:()=>{d(null),r&&r(null)}}}const Qr=["children","error","id","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-label","aria-invalid","aria-required","disabled","dropdownId","validate","onValidate","required","showOpenerLabelAsText"],Jr=s=>{const e=n.useRef(0),{children:t,error:r=!1,id:o,opener:i,placeholder:l,selectedValue:d,testId:c,alignment:h="left",autoFocus:m=!0,dropdownStyle:x,enableTypeAhead:g=!0,isFilterable:y,labels:S={clearSearch:X.clearSearch,filter:X.filter,noResults:X.noResults,someResults:X.someSelected},onChange:a,onToggle:p,opened:b,style:v,className:I,"aria-label":T,"aria-invalid":C,"aria-required":E,disabled:w=!1,dropdownId:A,validate:N,onValidate:oe,required:ne,showOpenerLabelAsText:se=!0}=s,Q=re(s,Qr),[W,B]=n.useState(!1),[ie,ae]=n.useState(""),[J,Me]=n.useState(),{errorMessage:xe,onOpenerBlurValidation:ye,onDropdownClosedValidation:Se,onSelectionValidation:ve}=Nt({value:d,disabled:w,validate:N,onValidate:oe,required:ne,open:W}),Z=r||!!xe;n.useEffect(()=>{w?B(!1):typeof b=="boolean"&&B(b)},[w,b]);const Y=_=>{B(_),ae(""),p&&p(_),_||Se()},$e=_=>{_!==d&&a(_),W&&J&&J.focus(),B(!1),p&&p(!1),ve(_)},Ae=_=>{let q=0;return e.current=0,_.map(ue=>{const{disabled:le,value:Ce}=ue.props,he=d===Ce;return he&&(e.current=q),le||(q+=1),{component:ue,focusable:!le,populatedProps:{onToggle:$e,selected:he,variant:"check"}}})},Ye=_=>{const q=ie.toLowerCase();return _.filter(({props:ue})=>!ie||Xe(ue).toLowerCase().indexOf(q)>-1)},Qe=_=>Ae(y?Ye(_):_),Je=_=>{ae(_)},Ne=_=>{const q=be.findDOMNode(_);Me(q)},et=_=>{Y(!W)},tt=(_,q)=>{const le=n.Children.toArray(t).find(pe=>pe.props.value===d),Ce=le?$t(se,le.props):l;return n.createElement(ge,{id:o},pe=>i?n.createElement(Ge,{id:pe,"aria-label":T,"aria-controls":q,"aria-haspopup":"listbox",onClick:et,disabled:_,ref:Ne,role:"combobox",text:Ce,opened:W,error:Z,onBlur:ye},i):n.createElement(ht,R({},Q,{"aria-label":T,"aria-controls":q,disabled:_,id:pe,error:Z,isPlaceholder:!le,onOpenChanged:Y,open:W,ref:Ne,testId:c,onBlur:ye}),Ce))},Ie=n.Children.toArray(t).filter(Boolean),We=Ie.filter(_=>!_.props.disabled).length,rt=Qe(Ie),Ve=We===0||w;return n.createElement(ge,{id:A},_=>n.createElement(ut,{id:_,role:"listbox",selectionType:"single",alignment:h,autoFocus:m,enableTypeAhead:g,dropdownStyle:[y&&Lt,At,x],initialFocusedIndex:e.current,items:rt,onOpenChanged:Y,open:W,opener:tt(Ve,_),openerElement:J,style:v,className:I,isFilterable:y,onSearchTextChanged:y?Je:void 0,searchText:y?ie:"",labels:S,"aria-invalid":C,"aria-required":E,disabled:Ve}))},eo=["id","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-label","aria-invalid","aria-required","disabled","error","children","dropdownId","showOpenerLabelAsText","validate","onValidate","required"],to=s=>{const{id:e,opener:t,testId:r,alignment:o="left",dropdownStyle:i,implicitAllEnabled:l,isFilterable:d,labels:c,onChange:h,onToggle:m,opened:x,selectedValues:g=[],shortcuts:y=!1,style:S,className:a,"aria-label":p,"aria-invalid":b,"aria-required":v,disabled:I=!1,error:T=!1,children:C,dropdownId:E,showOpenerLabelAsText:w=!0,validate:A,onValidate:N,required:oe}=s,ne=re(s,eo),se=R({},X,c),[Q,W]=n.useState(!1),[B,ie]=n.useState(""),[ae,J]=n.useState([]),[Me,xe]=n.useState(),{errorMessage:ye,onOpenerBlurValidation:Se,onDropdownClosedValidation:ve,onSelectionValidation:Z,onSelectedValuesChangeValidation:Y}=Nt({value:g,disabled:I,validate:A,onValidate:N,required:oe,open:Q}),$e=T||!!ye;n.useEffect(()=>{I?W(!1):typeof x=="boolean"&&W(x)},[I,x]);const Ae=k=>{W(k),ie(""),J(g),m&&m(k),k||(ae!==g?Z(g):ve())},Ye=k=>{if(g.includes(k)){const z=g.indexOf(k),O=[...g.slice(0,z),...g.slice(z+1)];h(O)}else h([...g,k]);Y()},Qe=()=>{const z=n.Children.toArray(C).filter(O=>!!O&&!O.props.disabled).map(O=>O.props.value);h(z),Y()},Je=()=>{h([]),Y()},Ne=k=>{const{noneSelected:z,someSelected:O,allSelected:U}=se,K=k.filter(L=>!L.props.disabled).length,ee=l?U:z;switch(g.length){case 0:return ee;case 1:const L=k.find(ke=>ke.props.value===g[0]);if(L){const ke=$t(w,L==null?void 0:L.props);return ke||O(1)}return ee;case K:return U;default:return O(g.length)}},et=k=>{const{selectAllLabel:z,selectNoneLabel:O}=se;if(y&&!B){const U=k===g.length,K={component:n.createElement(Oe,{disabled:U,label:z(k),indent:!0,onClick:Qe}),focusable:!U,populatedProps:{}},ee=g.length===0,L={component:n.createElement(Oe,{disabled:ee,label:O,indent:!0,onClick:Je}),focusable:!ee,populatedProps:{}},ke={component:n.createElement(te,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[K,L,ke]}else return[]},tt=k=>{if(!d)return k.map(Ie);const z=B.toLowerCase(),O=k.filter(({props:L})=>!B||Xe(L).toLowerCase().indexOf(z)>-1),U=[],K=[];for(const L of O)ae.includes(L.props.value)?U.push(L):K.push(L);const ee=U.map(Ie);return U.length&&K.length&&ee.push({component:n.createElement(te,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...ee,...K.map(Ie)]},Ie=k=>{const{disabled:z,value:O}=k.props;return{component:k,focusable:!z,populatedProps:{onToggle:Ye,selected:g.includes(O),variant:"checkbox"}}},We=k=>{const z=be.findDOMNode(k);xe(z)},rt=k=>{ie(k)},Ve=k=>{Ae(!Q)},_=(k,z,O)=>{const{noneSelected:U}=se,K=Ne(k);return n.createElement(ge,{id:e},L=>t?n.createElement(Ge,{id:L,error:$e,"aria-label":p,"aria-controls":O,"aria-haspopup":"listbox",onClick:Ve,onBlur:Se,disabled:z,ref:We,role:"combobox",text:K,opened:Q},t):n.createElement(ht,R({},ne,{error:$e,disabled:z,id:L,"aria-label":p,"aria-controls":O,isPlaceholder:K===U,onOpenChanged:Ae,onBlur:Se,open:Q,ref:We,testId:r}),K))},{clearSearch:q,filter:ue,noResults:le,someSelected:Ce}=se,he=n.Children.toArray(C).filter(Boolean),pe=he.filter(k=>!k.props.disabled).length,Wt=tt(he),pt=pe===0||I;return n.createElement(ge,{id:E},k=>n.createElement(ut,{id:k,role:"listbox",alignment:o,dropdownStyle:[d&&Lt,At,i],isFilterable:d,items:[...et(pe),...Wt],onOpenChanged:Ae,open:Q,opener:_(he,pt,k),openerElement:Me,selectionType:"multi",style:S,className:a,onSearchTextChanged:d?rt:void 0,searchText:d?B:"",labels:{clearSearch:q,filter:ue,noResults:le,someResults:Ce},"aria-invalid":b,"aria-required":v,disabled:pt}))};Pe("span");F.StyleSheet.create({srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});n.memo(function({disabled:e,focusedMultiSelectIndex:t,id:r,labels:o,onRemove:i,removeSelectedLabel:l,selected:d,testId:c}){return n.createElement($,{role:"group",style:dt.pillsWrapper,id:r},d.map((h,m)=>{const x=o[m],g=m===t,y=r+m;return n.createElement(Jt,{id:y,key:y,testId:c?`${c}-pill-${m}`:void 0,size:"small",style:[dt.pill,g&&dt.pillFocused],kind:g?"info":"neutral","aria-label":l(x),tabIndex:-1,onClick:()=>i(h)},n.createElement(n.Fragment,null,x,!e&&n.createElement(ze,{icon:Tt,size:"small"})))}))});const dt=F.StyleSheet.create({pillsWrapper:{flexDirection:"row",flexWrap:"wrap"},pill:{fontSize:jt.size.small,justifyContent:"space-between",alignItems:"center",marginBlockStart:u.xxxSmall_4,marginInlineEnd:u.xxxSmall_4,paddingInlineEnd:u.xxxSmall_4},pillFocused:{outline:`1px solid ${f.focus.outer}`}}),ro={listbox:{color:{disabled:{foreground:f.action.secondary.disabled.foreground}}}};F.StyleSheet.create({listbox:{outline:"none"},disabled:{color:ro.listbox.color.disabled.foreground}});const V={combobox:{color:{default:{border:f.border.strong,background:f.surface.primary},focus:{border:f.focus.outer,background:f.surface.primary},disabled:{border:f.action.secondary.disabled.border,background:f.action.secondary.disabled.background,foreground:f.action.secondary.disabled.foreground},error:{border:f.status.critical.foreground,background:f.status.critical.background,foreground:f.text.primary}}},listbox:{color:{default:{background:f.surface.primary,border:f.border.primary}}}};F.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"center",width:"100%",maxWidth:"100%",flexWrap:"wrap",background:V.combobox.color.default.background,borderRadius:H.radius.medium_4,border:`solid 1px ${V.combobox.color.default.border}`,paddingInline:u.xSmall_8},focused:{background:V.combobox.color.focus.background,border:`1px solid ${V.combobox.color.focus.border}`},disabled:{background:V.combobox.color.disabled.background,border:`1px solid ${V.combobox.color.disabled.border}`,color:V.combobox.color.disabled.foreground},error:{background:V.combobox.color.error.background,border:`1px solid ${V.combobox.color.error.border}`,color:V.combobox.color.error.foreground},combobox:{appearance:"none",background:"none",border:"none",outline:"none",padding:0,minWidth:u.xxxSmall_4,width:"auto",display:"inline-grid",gridArea:"1 / 2",":focus-visible":{outline:"none",border:"none"}},listbox:{backgroundColor:V.listbox.color.default.background,borderRadius:H.radius.medium_4,border:`solid ${H.width.hairline}px ${V.listbox.color.default.border}`,boxShadow:`0px ${u.xSmall_8}px ${u.xSmall_8}px 0px ${M.offBlack8}`,maxHeight:"var(--popper-max-height)",overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},button:{position:"absolute",right:u.xxxSmall_4,top:u.xxxSmall_4,margin:0},buttonOpen:{transform:"rotate(180deg)"},clearButton:{right:u.xLarge_32+u.xSmall_8},iconWrapper:{padding:u.xxxSmall_4,minWidth:"auto"}});const oo=s=>{const{strings:e}=er(),t=h=>{const{choices:m,onChange:x}=s;x(m.map(g=>h.includes(g.content)))},r=h=>h.map(({content:m})=>n.createElement(me,{key:m,value:m,label:n.createElement(tr,{content:m,strings:e,inline:!0})})),o=s.choices.filter(h=>h.checked).map(h=>h.content),{opener:i,onToggle:l,disabled:d}=s,c={style:{zIndex:"unset"},children:r(s.choices),opener:i,onToggle:l,disabled:d};return s.multipleSelect?n.createElement(to,{...c,selectedValues:o,onChange:h=>t(h)}):n.createElement(Jr,{...c,selectedValue:o[0],onChange:h=>t([h]),placeholder:s.choices[0].content})};oo.__docgenInfo={description:"",methods:[],displayName:"AnswerChoices",props:{choices:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"signature",type:"object",raw:`{
    // The answer string, can be plain text or a TeX expression.
    content: string;
    // Whether the answer is selected.
    checked: boolean;
}`,signature:{properties:[{key:"content",value:{name:"string",required:!0}},{key:"checked",value:{name:"boolean",required:!0}}]}}],raw:"ReadonlyArray<AnswerType>"},description:""},multipleSelect:{required:!0,tsType:{name:"boolean"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selection: ReadonlyArray<boolean>) => void",signature:{arguments:[{type:{name:"ReadonlyArray",elements:[{name:"boolean"}],raw:"ReadonlyArray<boolean>"},name:"selection"}],return:{name:"void"}}},description:""},opener:{required:!0,tsType:{name:'PropsFor["opener"]',raw:'PropsFor<typeof SingleSelect>["opener"]'},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(opened: boolean) => unknown",signature:{arguments:[{type:{name:"boolean"},name:"opened"}],return:{name:"unknown"}}},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""}}};export{oo as A,me as O,Jr as S,Kr as a,Oe as b,Mt as c};
