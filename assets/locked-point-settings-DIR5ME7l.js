import{j as e,n as _,y as c,s as u,V as b,aF as R,r as B,z as D,L as M,e as h}from"./iframe-dtRUXA0K.js";import{p as N}from"./plus-circle-DsgEZe2H.js";import{C as V,L as E,a as O}from"./locked-label-settings-DtT-Xtg4.js";import{L as x}from"./labeled-switch-DhF5QZEX.js";import{P as U}from"./trash-bold-jwHsoyvY.js";import{C as X}from"./color-select-BzE4WvfI.js";import{g as I,C as W,j as Y,a as L,b as G}from"./util-CfvQLB2H.js";import{L as H}from"./locked-figure-aria-Dw1In3RR.js";const J=k=>{const{headerLabel:C,coord:t,color:p,filled:w=!0,labels:l,ariaLabel:q,onChangeProps:i,onMove:f,onRemove:g,showPoint:y,error:P,expanded:T,onTogglePoint:v,onToggle:j}=k,d=!f&&!g;async function S(){const n=await Y(l),r=await L(`$${t[0]}$`),a=await L(`$${t[1]}$`);let s=`Point${n} at ${r} comma ${a}`;const m=G(p);return s+=m,s}function F(n){const r={color:n};r.labels=l.map(a=>({...a,color:n})),i(r)}function $(n){const r=n[0]-t[0],a=n[1]-t[1],s={coord:n};s.labels=l.map(m=>({...m,coord:[m.coord[0]+r,m.coord[1]+a]})),i(s)}function z(n,r){const a=[...l];a[r]={...l[r],...n},i({labels:a})}function A(n){const r=l.filter((a,s)=>s!==n);i({labels:r})}return e.jsxs(U,{expanded:T,onToggle:j,containerStyle:d?o.definingContainer:void 0,panelStyle:d?o.definingPanel:void 0,header:e.jsxs(b,{style:o.row,children:[e.jsx(M,{children:`${C||"Point"} (${t[0]}, ${t[1]})`}),e.jsx(c,{size:u.xSmall_8}),e.jsx(W,{color:p,filled:w})]}),children:[e.jsx(V,{coord:t,style:o.spaceUnder,onChange:$,error:!!P}),v&&e.jsx(x,{label:"show point on graph",checked:!!y,style:y&&o.spaceUnder,onChange:v}),(!d||y)&&e.jsxs(e.Fragment,{children:[e.jsx(X,{selectedValue:p,onChange:F,style:o.spaceUnder}),e.jsx(x,{label:"open point",checked:!w,onChange:n=>{i({filled:!n})}})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(c,{size:u.small_12}),e.jsx(b,{style:o.horizontalRule}),e.jsx(H,{ariaLabel:q,getPrepopulatedAriaLabel:S,onChangeProps:n=>{i(n)}})]}),e.jsx(c,{size:u.xxxSmall_4}),e.jsx(b,{style:o.horizontalRule}),e.jsx(c,{size:u.small_12}),e.jsx(R,{children:"Visible labels"}),l.map((n,r)=>B.createElement(E,{...n,key:r,containerStyle:!d&&o.lockedPointLabelContainer,expanded:!0,onChangeProps:a=>{z(a,r)},onRemove:()=>{A(r)}})),e.jsx(D,{kind:"tertiary",startIcon:N,onClick:()=>{const n={...I("label"),coord:[t[0]+.5,t[1]-l.length],color:p};i({labels:[...l,n]})},style:o.addButton,children:"Add visible label"}),g&&e.jsx(O,{figureType:k.type,onMove:f,onRemove:g})]})},o=_.StyleSheet.create({definingContainer:{marginTop:u.xSmall_8,marginBottom:0,marginLeft:-4,marginRight:-4,backgroundColor:h.white},definingPanel:{paddingBottom:u.xxSmall_6},lockedPointLabelContainer:{backgroundColor:h.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:u.xSmall_8},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:h.offBlack16}});J.__docgenInfo={description:"",methods:[],displayName:"LockedPointSettings",props:{type:{required:!0,tsType:{name:"literal",value:'"point"'},description:""},coord:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},filled:{required:!0,tsType:{name:"boolean"},description:""},labels:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},headerLabel:{required:!1,tsType:{name:"string"},description:`Optional label for the point to display in the header summary.
Defaults to "Point".`},showPoint:{required:!1,tsType:{name:"boolean"},description:"Whether the extra point settings are toggled open."},error:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Optional error message to display."},onTogglePoint:{required:!1,tsType:{name:"signature",type:"function",raw:"(newValue) => void",signature:{arguments:[{name:"newValue"}],return:{name:"void"}}},description:"Called when the extra settings toggle switch is changed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedPointType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "point";
    coord: Coord;
    color: LockedFigureColor;
    filled: boolean;
    labels: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"point"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"filled",value:{name:"boolean",required:!0}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!0}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedPointType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when the point is moved."},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the point is removed."}}};export{J as L};
