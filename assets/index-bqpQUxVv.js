import{r as o}from"./index-6oxdNXpR.js";import{V as h,b as x}from"./index-qqHuISYU.js";import{s as i}from"./index-dmcq622U.js";import{l as C}from"./index-awljIyHI.js";function c(){return c=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c.apply(null,arguments)}const p=i.large_24,g={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:i.medium_16,marginWidth:i.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:i.xLarge_32,marginWidth:i.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:i.xLarge_32,marginWidth:p,maxWidth:1120+p*2}},O={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:i.xLarge_32,marginWidth:i.medium_16}},L={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:i.medium_16,marginWidth:i.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:i.xLarge_32,marginWidth:i.xxLarge_48}},_={ssrSize:"large",mediaSpec:g},y=o.createContext(_);y.displayName="MediaLayoutContext";const u={},w="large";class E extends o.Component{constructor(t){super(t),this.cleanupThunks=void 0,this.state={size:void 0},this.cleanupThunks=[]}componentDidMount(){const t=Object.entries(this.props.mediaSpec);for(const[e,r]of t){const l=u[r.query];if(!l)continue;const m=s=>{s.matches&&this.setState({size:e})};l.addListener(m),this.cleanupThunks.push(()=>l.removeListener(m))}}componentWillUnmount(){this.cleanupThunks.forEach(t=>t())}getCurrentSize(t){if(this.state.size)return this.state.size;{const e=Object.entries(this.props.mediaSpec);for(const[r,l]of e)if(u[l.query].matches)return r}return w}isUnsupportedEnvironment(){return typeof window>"u"||!window.matchMedia}getMockStyleSheet(t){const{styleSheets:e}=this.props,r={};if(!e)return r;for(const l of Object.keys(e)){const m=e[l];if(m)for(const s of Object.keys(m))Object.prototype.hasOwnProperty.call(r,s)||(r[s]=[e.all&&e.all[s],t==="small"&&[e.mdOrSmaller&&e.mdOrSmaller[s],e.small&&e.small[s]],t==="medium"&&[e.mdOrSmaller&&e.mdOrSmaller[s],e.mdOrLarger&&e.mdOrLarger[s],e.medium&&e.medium[s]],t==="large"&&[e.mdOrLarger&&e.mdOrLarger[s],e.large&&e.large[s]]])}return r}renderContent(t){const{children:e,mediaSpec:r,ssrSize:l,overrideSize:m}=this.props,s=[...Object.values(g).map(a=>a.query),...Object.values(O).map(a=>a.query),...Object.values(L).map(a=>a.query),...Object.values(r).map(a=>a.query)];if(!t)for(const a of s.filter(S=>!u[S]))u[a]=window.matchMedia(a);const d=m||t&&l||this.getCurrentSize(r),f=this.getMockStyleSheet(d);return e({mediaSize:d,mediaSpec:r,styles:f})}render(){return o.createElement(x,{fallback:()=>this.renderContent(!0)},()=>this.renderContent(this.isUnsupportedEnvironment()))}}class j extends o.Component{render(){return o.createElement(y.Consumer,null,({overrideSize:t,ssrSize:e,mediaSpec:r})=>o.createElement(E,c({},this.props,{overrideSize:t,ssrSize:e,mediaSpec:r})))}}class z extends o.Component{render(){const{style:t}=this.props;return o.createElement(h,{"aria-hidden":"true",style:[b.grow,t]})}}const b=C.StyleSheet.create({grow:{flexGrow:1}});class D extends o.Component{render(){const{size:t,style:e}=this.props;return o.createElement(h,{"aria-hidden":"true",style:[q(t),e]})}}const q=n=>({width:n,MsFlexBasis:n,MsFlexPreferredSize:n,WebkitFlexBasis:n,flexBasis:n,flexShrink:0});export{j as M,D as S,z as a};
