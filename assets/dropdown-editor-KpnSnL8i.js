import"./all-widgets-igc3IBL_.js";import"./phet-simulation-Sua1c876.js";import{_ as o}from"./underscore-885MUNGo.js";import{a as d}from"./random-util-taBURWXy.js";import"./dependencies-CP7Uh8Kq.js";import"./perseus-api-Y55S7ZPk.js";import"./server-item-renderer-adRF-k02.js";import"./article-renderer-QbHmaYtC.js";import"./hints-renderer-t046zLh8.js";import"./renderer-Olu3o6mV.js";import"./base-radio-Ht_yoYIT.js";import{c as u}from"./components-Xy-N-pDw.js";import{i as f}from"./icon-paths-5JCXzGsq.js";import"./i18n-context-jir6aF-r.js";import"./util-BNjKZr9R.js";import"./svg-image-cJbLXoet.js";import"./jquery-5v7aFUvu.js";import"./index-smZ6iCr_.js";import{E as b}from"./editor-jsonify-VeRwUDnc.js";import{T as m}from"./index-Mag-4PMw.js";import{L as g,a as i}from"./index-OUR0CuKj.js";import{P as r}from"./index-o42urCig.js";import{r as e}from"./index-6oxdNXpR.js";import{F as C}from"./index-9gkyvru-.js";import{i as E}from"./icon-paths-naSxOxXw.js";const{InfoTip:c,InlineIcon:h}=u,s=class s extends e.Component{constructor(){super(...arguments),this.onVisibleLabelChange=t=>{this.props.onChange({visibleLabel:t})},this.onAriaLabelChange=t=>{this.props.onChange({ariaLabel:t})},this.onPlaceholderChange=t=>{this.props.onChange({placeholder:t})},this.onCorrectChange=t=>{const n=o.map(this.props.choices,function(a,l){return o.extend({},a,{correct:l===t})});this.props.onChange({choices:n})},this.onContentChange=(t,n)=>{const a=this.props.choices.slice(),l=o.clone(a[t]);l.content=n.target.value,a[t]=l,this.props.onChange({choices:a})},this.addChoice=t=>{t.preventDefault();const n=this.props.choices,a={content:"",correct:!1};this.props.onChange({choices:n.concat([a])},this.focus.bind(this,n.length))},this.removeChoice=(t,n)=>{n.preventDefault();const a=o(this.props.choices).clone();a.splice(t,1),this.props.onChange({choices:a})},this.focus=t=>(C.findDOMNode(this.refs["editor"+t]).focus(),!0),this.serialize=()=>b.serialize.call(this)}render(){const t=o.uniqueId("perseus_dropdown_");return e.createElement("div",{className:"perseus-widget-dropdown"},e.createElement("div",{className:"dropdown-info"},e.createElement(g,null,"Dropdown"),e.createElement(c,null,e.createElement("p",null,"The drop down is useful for making inequalities in a custom format. We normally use the symbols ","<",","," ",">",', ≤, ≥ (in that order) which you can copy into the choices. When possible, use the "multiple choice" answer type instead.'))),e.createElement("div",{className:"dropdown-field"},e.createElement(i,null,"Visible label",e.createElement(m,{value:this.props.visibleLabel,onChange:this.onVisibleLabelChange})),e.createElement(c,null,e.createElement("p",null,"Optional visible label"))),e.createElement("div",{className:"dropdown-field"},e.createElement(i,null,"Aria label",e.createElement(m,{value:this.props.ariaLabel,onChange:this.onAriaLabelChange,type:"text"})),e.createElement(c,null,e.createElement("p",null,"Label text that's read by screen readers. Highly recommend adding a label here to ensure your exercise is accessible. For more information on writing accessible labels, please see"," ",e.createElement("a",{href:"https://www.w3.org/WAI/tips/designing/#ensure-that-form-elements-include-clearly-associated-labels",target:"_blank",rel:"noreferrer"},"this article.")," ",'If left blank, the value will default to "Select an answer".'))),e.createElement("div",{className:"dropdown-field"},e.createElement(i,null,"Placeholder",e.createElement(m,{value:this.props.placeholder,onChange:this.onPlaceholderChange,placeholder:"Placeholder value"})),e.createElement(c,null,e.createElement("p",null,"This value will appear as the drop down default. It should give the user some indication of the values available in the drop down itself, e.g., Yes/No/Maybe."))),e.createElement("div",{className:"clearfix"}),e.createElement(i,null,"Choices"),e.createElement("ul",{className:"dropdown-choices"},this.props.choices.map(function(n,a){const l=n.correct?"correct":"incorrect";return e.createElement("li",{key:""+a},e.createElement("div",null,e.createElement("input",{ref:"radio"+a,type:"radio",name:t,checked:n.correct?"checked":"",onChange:this.onCorrectChange.bind(this,a),value:a}),e.createElement("input",{type:"text",ref:"editor"+a,onChange:this.onContentChange.bind(this,a),className:l,value:n.content}),e.createElement("a",{href:"#",className:"simple-button orange","aria-label":"Delete choice",onClick:this.removeChoice.bind(this,a)},e.createElement("span",{className:"remove-choice"},e.createElement(h,{...f})))))},this)),e.createElement("div",{className:"add-choice-container"},e.createElement("a",{href:"#",className:"simple-button orange",onClick:this.addChoice},e.createElement(h,{...E})," Add a choice"," ")))}};s.propTypes={choices:r.arrayOf(r.shape({content:r.string,correct:r.bool})),placeholder:r.string},s.widgetName="dropdown",s.defaultProps=d.defaultWidgetOptions;let p=s;p.__docgenInfo={description:"",methods:[{name:"onVisibleLabelChange",docblock:null,modifiers:[],params:[{name:"visibleLabel",optional:!1,type:null}],returns:null},{name:"onAriaLabelChange",docblock:null,modifiers:[],params:[{name:"ariaLabel",optional:!1,type:null}],returns:null},{name:"onPlaceholderChange",docblock:null,modifiers:[],params:[{name:"placeholder",optional:!1,type:null}],returns:null},{name:"onCorrectChange",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null}],returns:null},{name:"onContentChange",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null},{name:"e",optional:!1,type:null}],returns:null},{name:"addChoice",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"removeChoice",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null},{name:"e",optional:!1,type:null}],returns:null},{name:"focus",docblock:null,modifiers:[],params:[{name:"i",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropdownEditor",props:{placeholder:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},choices:{defaultValue:{value:`[
    {
        content: "",
        correct: false,
    },
]`,computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{content:{name:"string",required:!1},correct:{name:"bool",required:!1}}}},required:!1}}};export{p as D};
