var f=Object.defineProperty;var b=(a,i,o)=>i in a?f(a,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[i]=o;var n=(a,i,o)=>(b(a,typeof i!="symbol"?i+"":i,o),o);import{j as e}from"./jsx-runtime-BT65X5dW.js";import"./all-widgets-C8RlOdXk.js";import"./index-CW2s7ekB.js";import"./answer-choices-BTgb2fUY.js";import{L as g,a as p}from"./index-CFvGmn7i.js";import{r as x}from"./index-C6mWTJJr.js";import{h as C}from"./index-B1Gws05u.js";import"./i18n-context-3AkWzTTj.js";import"./perseus-api-Ty_QvlNi.js";import"./renderer-BXHpkBjb.js";import"./index-D7h-teXI.js";import"./jquery-CkHB0_Mt.js";import{_ as t}from"./underscore-U-AHniOr.js";import"./dependencies-BsVPGK1s.js";import"./util-B91OeOTw.js";import"./zoomable-tex-Dy-nElJT.js";import"./svg-image-BHL_Jifw.js";import{a as j}from"./core-widget-registry-CzCPDXFL.js";import"./no-important-DlFk8a1I.js";import"./number-input-DKcJUvcj.js";import"./simple-keypad-input-DuRgEUfG.js";import"./text-input-DJladnj9.js";import"./phet-simulation-DSu5lgF2.js";import"./sortable-CIzj8xvW.js";import"./fixed-to-responsive-CTsII9Xx.js";import"./math-input-DJ3_2i-U.js";import"./video-transcript-link-BsyCgIOs.js";import"./item-version-B2oSH2YO.js";import"./article-renderer-Dr-U_4a7.js";import"./server-item-renderer-DhRpCgR_.js";import"./hints-renderer-cM0XrgQz.js";import"./base-radio-DL-2xpnw.js";import{c as v}from"./components-B5LHos33.js";import{i as y}from"./icon-paths-C3bPmxpL.js";import"./index-Dd-cahjY.js";import{E as w}from"./editor-jsonify-DDvum77u.js";import{T as m}from"./index-C3jIZeAf.js";import{P as c}from"./index-CrGd2QqM.js";import{i as k}from"./icon-paths-Cfjy_uoj.js";const{InfoTip:d,InlineIcon:u}=v;class h extends x.Component{constructor(){super(...arguments);n(this,"onVisibleLabelChange",o=>{this.props.onChange({visibleLabel:o})});n(this,"onAriaLabelChange",o=>{this.props.onChange({ariaLabel:o})});n(this,"onPlaceholderChange",o=>{this.props.onChange({placeholder:o})});n(this,"onCorrectChange",o=>{const r=t.map(this.props.choices,function(s,l){return t.extend({},s,{correct:l===o})});this.props.onChange({choices:r})});n(this,"onContentChange",(o,r)=>{const s=this.props.choices.slice(),l=t.clone(s[o]);l.content=r.target.value,s[o]=l,this.props.onChange({choices:s})});n(this,"addChoice",o=>{o.preventDefault();const r=this.props.choices,s={content:"",correct:!1};this.props.onChange({choices:r.concat([s])},this.focus.bind(this,r.length))});n(this,"removeChoice",(o,r)=>{r.preventDefault();const s=t(this.props.choices).clone();s.splice(o,1),this.props.onChange({choices:s})});n(this,"focus",o=>(C.findDOMNode(this.refs["editor"+o]).focus(),!0));n(this,"serialize",()=>w.serialize.call(this))}render(){const o=t.uniqueId("perseus_dropdown_");return e.jsxs("div",{className:"perseus-widget-dropdown",children:[e.jsxs("div",{className:"dropdown-info",children:[e.jsx(g,{children:"Dropdown"}),e.jsx(d,{children:e.jsxs("p",{children:["The drop down is useful for making inequalities in a custom format. We normally use the symbols ","<",","," ",">",', ≤, ≥ (in that order) which you can copy into the choices. When possible, use the "multiple choice" answer type instead.']})})]}),e.jsxs("div",{className:"dropdown-field",children:[e.jsxs(p,{children:["Visible label",e.jsx(m,{value:this.props.visibleLabel,onChange:this.onVisibleLabelChange})]}),e.jsx(d,{children:e.jsx("p",{children:"Optional visible label"})})]}),e.jsxs("div",{className:"dropdown-field",children:[e.jsxs(p,{children:["Aria label",e.jsx(m,{value:this.props.ariaLabel,onChange:this.onAriaLabelChange,type:"text"})]}),e.jsx(d,{children:e.jsxs("p",{children:["Label text that's read by screen readers. Highly recommend adding a label here to ensure your exercise is accessible. For more information on writing accessible labels, please see"," ",e.jsx("a",{href:"https://www.w3.org/WAI/tips/designing/#ensure-that-form-elements-include-clearly-associated-labels",target:"_blank",rel:"noreferrer",children:"this article."})," ",'If left blank, the value will default to "Select an answer".']})})]}),e.jsxs("div",{className:"dropdown-field",children:[e.jsxs(p,{children:["Placeholder",e.jsx(m,{value:this.props.placeholder,onChange:this.onPlaceholderChange,placeholder:"Placeholder value"})]}),e.jsx(d,{children:e.jsx("p",{children:"This value will appear as the drop down default. It should give the user some indication of the values available in the drop down itself, e.g., Yes/No/Maybe."})})]}),e.jsx("div",{className:"clearfix"}),e.jsx(p,{children:"Choices"}),e.jsx("ul",{className:"dropdown-choices",children:this.props.choices.map(function(r,s){const l=r.correct?"correct":"incorrect";return e.jsx("li",{children:e.jsxs("div",{children:[e.jsx("input",{ref:"radio"+s,type:"radio",name:o,checked:r.correct?"checked":"",onChange:this.onCorrectChange.bind(this,s),value:s}),e.jsx("input",{type:"text",ref:"editor"+s,onChange:this.onContentChange.bind(this,s),className:l,value:r.content}),e.jsx("a",{href:"#",className:"simple-button orange","aria-label":"Delete choice",onClick:this.removeChoice.bind(this,s),children:e.jsx("span",{className:"remove-choice",children:e.jsx(u,{...y})})})]})},""+s)},this)}),e.jsx("div",{className:"add-choice-container",children:e.jsxs("a",{href:"#",className:"simple-button orange",onClick:this.addChoice,children:[e.jsx(u,{...k})," Add a choice"," "]})})]})}}n(h,"propTypes",{choices:c.arrayOf(c.shape({content:c.string,correct:c.bool})),placeholder:c.string}),n(h,"widgetName","dropdown"),n(h,"defaultProps",j.defaultWidgetOptions);h.__docgenInfo={description:"",methods:[{name:"onVisibleLabelChange",docblock:null,modifiers:[],params:[{name:"visibleLabel",optional:!1,type:null}],returns:null},{name:"onAriaLabelChange",docblock:null,modifiers:[],params:[{name:"ariaLabel",optional:!1,type:null}],returns:null},{name:"onPlaceholderChange",docblock:null,modifiers:[],params:[{name:"placeholder",optional:!1,type:null}],returns:null},{name:"onCorrectChange",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null}],returns:null},{name:"onContentChange",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null},{name:"e",optional:!1,type:null}],returns:null},{name:"addChoice",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"removeChoice",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null},{name:"e",optional:!1,type:null}],returns:null},{name:"focus",docblock:null,modifiers:[],params:[{name:"i",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropdownEditor",props:{placeholder:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},choices:{defaultValue:{value:`[
    {
        content: "",
        correct: false,
    },
]`,computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{content:{name:"string",required:!1},correct:{name:"bool",required:!1}}}},required:!1}}};export{h as D};
