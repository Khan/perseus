import{V as p,a as f,c as x}from"./index-DBQpxcp6.js";import{r as a}from"./index-C6mWTJJr.js";import{s as n}from"./index-Ds5N5m2R.js";import{n as C}from"./no-important-DlFk8a1I.js";const c=n.large_24,h={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:n.medium_16,marginWidth:n.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:n.xLarge_32,marginWidth:n.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:n.xLarge_32,marginWidth:c,maxWidth:1120+c*2}},L={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:n.xLarge_32,marginWidth:n.medium_16}},_={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:n.medium_16,marginWidth:n.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:n.xLarge_32,marginWidth:n.xxLarge_48}},w={ssrSize:"large",mediaSpec:h},g=a.createContext(w);g.displayName="MediaLayoutContext";const u={},E="large";class O extends a.Component{constructor(t){super(t),this.cleanupThunks=void 0,this.state={size:void 0},this.cleanupThunks=[]}componentDidMount(){const t=Object.entries(this.props.mediaSpec);for(const[e,r]of t){const l=u[r.query];if(!l)continue;const m=s=>{s.matches&&this.setState({size:e})};l.addListener(m),this.cleanupThunks.push(()=>l.removeListener(m))}}componentWillUnmount(){this.cleanupThunks.forEach(t=>t())}getCurrentSize(t){if(this.state.size)return this.state.size;{const e=Object.entries(this.props.mediaSpec);for(const[r,l]of e)if(u[l.query].matches)return r}return E}isUnsupportedEnvironment(){return typeof window>"u"||!window.matchMedia}getMockStyleSheet(t){const{styleSheets:e}=this.props,r={};if(!e)return r;for(const l of Object.keys(e)){const m=e[l];if(m)for(const s of Object.keys(m))Object.prototype.hasOwnProperty.call(r,s)||(r[s]=[e.all&&e.all[s],t==="small"&&[e.mdOrSmaller&&e.mdOrSmaller[s],e.small&&e.small[s]],t==="medium"&&[e.mdOrSmaller&&e.mdOrSmaller[s],e.mdOrLarger&&e.mdOrLarger[s],e.medium&&e.medium[s]],t==="large"&&[e.mdOrLarger&&e.mdOrLarger[s],e.large&&e.large[s]]])}return r}renderContent(t){const{children:e,mediaSpec:r,ssrSize:l,overrideSize:m}=this.props,s=[...Object.values(h).map(i=>i.query),...Object.values(L).map(i=>i.query),...Object.values(_).map(i=>i.query),...Object.values(r).map(i=>i.query)];if(!t)for(const i of s.filter(S=>!u[S]))u[i]=window.matchMedia(i);const d=m||t&&l||this.getCurrentSize(r),y=this.getMockStyleSheet(d);return e({mediaSize:d,mediaSpec:r,styles:y})}render(){return a.createElement(x,{fallback:()=>this.renderContent(!0)},()=>this.renderContent(this.isUnsupportedEnvironment()))}}class z extends a.Component{render(){return a.createElement(g.Consumer,null,({overrideSize:t,ssrSize:e,mediaSpec:r})=>a.createElement(O,f({},this.props,{overrideSize:t,ssrSize:e,mediaSpec:r})))}}class j extends a.Component{render(){const{style:t}=this.props;return a.createElement(p,{"aria-hidden":"true",style:[q.grow,t]})}}const q=C.StyleSheet.create({grow:{flexGrow:1}});class D extends a.Component{render(){const{size:t,style:e}=this.props;return a.createElement(p,{"aria-hidden":"true",style:[M(t),e]})}}const M=o=>({width:o,MsFlexBasis:o,MsFlexPreferredSize:o,WebkitFlexBasis:o,flexBasis:o,flexShrink:0});export{z as M,D as S,j as a};
