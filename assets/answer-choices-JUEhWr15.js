import{j as be}from"./jsx-runtime-5BUNAZ9W.js";import{r as s}from"./index-4g5l5LRQ.js";import{l as k}from"./index-awljIyHI.js";import{b as N,a as D,s as It,e as rn,L as sn}from"./index-_gf1hE8Y.js";import{C as ln,a as an,g as dn}from"./index-EhcO8HWm.js";import{V as w,a as P,U as cn,I as Ze}from"./index-e4P84RkC.js";import{S as F,M as un}from"./index-wjVcXLkf.js";import{s as f,c as d,m as U,b as J,a as hn}from"./index-lUErx3pE.js";import{P as re}from"./index-zE8cp1oq.js";import{c as Qe,m as pn}from"./minus-bold-ONmDo3Ve.js";import{r as M}from"./index-jmm5gWkb.js";import{x as wt}from"./x-6ZxseNgc.js";import{I as Et}from"./index-P81MA4En.js";import{w as Je}from"./index-FsYHUvK_.js";import{P as fn,d as mn}from"./Popper-D86xJ3go.js";import{m as gn,c as bn,u as Le,a as Pe,T as yn}from"./index-skotlSua.js";import{c as xn}from"./react-router-dom-hVaNq8bQ.js";import{u as Sn}from"./i18n-context-EATS0TCt.js";import{R as vn}from"./renderer-VvMXHswL.js";function kt(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,l;for(l=0;l<n.length;l++)o=n[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function ue(){return ue=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ue.apply(this,arguments)}const B={cellMinHeight:f.xxLarge_48,cellPadding:{paddingVertical:f.small_12,paddingHorizontal:f.medium_16},detailCellPadding:{paddingVertical:f.medium_16,paddingHorizontal:f.medium_16},accessoryHorizontalSpacing:f.medium_16},Cn=r=>{switch(r){case"inset":return[Ne.horizontalRule,Ne.horizontalRuleInset];case"full-width":return Ne.horizontalRule;case"none":return{}}},Ne=k.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:f.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${d.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${B.cellPadding.paddingHorizontal}px)`}}}),In=({leftAccessory:r,leftAccessoryStyle:e,disabled:t})=>r?s.createElement(s.Fragment,null,s.createElement(w,{style:[$.accessory,t&&$.accessoryDisabled,ue({},e)]},r),s.createElement(F,{size:B.accessoryHorizontalSpacing})):null,wn=({rightAccessory:r,rightAccessoryStyle:e,active:t,disabled:n})=>r?s.createElement(s.Fragment,null,s.createElement(F,{size:B.accessoryHorizontalSpacing}),s.createElement(w,{style:[$.accessory,$.accessoryRight,n&&$.accessoryDisabled,ue({},e),t&&$.accessoryActive]},r)):null;function it(r){const{active:e,children:t,disabled:n,horizontalRule:o="inset",contentStyle:l=void 0,leftAccessory:i=void 0,leftAccessoryStyle:c=void 0,rightAccessory:u=void 0,rightAccessoryStyle:h=void 0,style:p,testId:y,innerStyle:b}=r,x=Cn(o);return s.createElement(w,{style:[$.innerWrapper,b,p,x]},s.createElement(In,{leftAccessory:i,leftAccessoryStyle:c,disabled:n}),s.createElement(w,{style:[$.content,l],testId:y},t),s.createElement(wn,{rightAccessory:u,rightAccessoryStyle:h,active:e,disabled:n}))}const _t=r=>{const{active:e,disabled:t,href:n,onClick:o,"aria-label":l,"aria-selected":i,target:c,role:u,rootStyle:h}=r;return o||n?s.createElement(ln,{disabled:t,onClick:o,href:n,hideDefaultFocusRing:!0,"aria-label":l||void 0,"aria-selected":i||void 0,role:u,target:c,style:[$.wrapper,$.clickable,h,e&&$.active,t&&$.disabled],"aria-current":e?"true":void 0},()=>s.createElement(it,r)):s.createElement(w,{style:[$.wrapper,h,e&&$.active],"aria-current":e?"true":void 0,role:u},s.createElement(it,r))},$=k.StyleSheet.create({wrapper:{background:d.white,color:d.offBlack,display:"flex",minHeight:B.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:B.cellMinHeight,padding:`${B.cellPadding.paddingVertical}px ${B.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${B.cellPadding.paddingVertical-2}px ${B.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:d.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:f.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${f.xxxSmall_4}px)`,height:`calc(100% - ${f.xxxSmall_4}px)`,border:`${f.xxxxSmall_2}px solid ${d.blue}`,borderRadius:f.xxxSmall_4},":hover[aria-disabled=false]":{background:d.offBlack8},":active[aria-disabled=false]":{background:d.offBlack16}},active:{background:d.fadedBlue8,color:d.blue,":hover[aria-disabled=false]":{background:d.fadedBlue16},":active[aria-disabled=false]":{background:d.fadedBlue24}},disabled:{color:d.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:d.blue},accessoryDisabled:{color:d.offBlack,opacity:.32}}),En=["title"],kn=function(e){const{title:t}=e,n=kt(e,En);return s.createElement(_t,n,typeof t=="string"?s.createElement(N,null,t):t)},_n=["title","subtitle1","subtitle2"],at=({subtitle:r,disabled:e})=>r?typeof r=="string"?s.createElement(D,{style:!e&&Ot.subtitle},r):r:null,On=function(e){const{title:t,subtitle1:n,subtitle2:o}=e,l=kt(e,_n);return s.createElement(_t,ue({},l,{innerStyle:Ot.innerWrapper}),s.createElement(at,{subtitle:n,disabled:l.disabled}),n&&s.createElement(F,{size:f.xxxxSmall_2}),typeof t=="string"?s.createElement(N,null,t):t,o&&s.createElement(F,{size:f.xxxxSmall_2}),s.createElement(at,{subtitle:o,disabled:l.disabled}))},Ot=k.StyleSheet.create({subtitle:{color:d.offBlack64},innerWrapper:{padding:`${B.detailCellPadding.paddingVertical}px ${B.detailCellPadding.paddingHorizontal}px`}}),Rn=""+new URL("magnifying-glass-IX5mxYeF.svg",import.meta.url).href;function z(){return z=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},z.apply(this,arguments)}function se(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,l;for(l=0;l<n.length;l++)o=n[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}const Tn=["checked","disabled","error","groupName","id","testId"];function $n(r){switch(r){case!0:return"true";case!1:return"false";default:return"mixed"}}const{blue:Rt,red:Tt,white:q,offWhite:Fn,offBlack16:Mn,offBlack32:Ln,offBlack50:Pn}=d,ae=f.medium_16,Ke=f.small_12,Bn=P("input"),Dn=s.forwardRef(function(e,t){const{checked:n,disabled:o,error:l,groupName:i,id:c,testId:u}=e,h=se(e,Tn),p=s.useRef(null);s.useEffect(()=>{p.current!=null&&(p.current.indeterminate=n==null)},[n,p]);const y=()=>{},b=Nn(n,l),x=[ye.inputReset,ye.default,!o&&b.default,o&&ye.disabled],S=s.createElement(re,{color:o?Ln:q,icon:n?Qe:pn,size:"small",style:[ye.checkboxIcon,{width:Ke,height:Ke}]}),a=$n(n);return s.createElement(s.Fragment,null,s.createElement(Bn,z({},h,{ref:m=>{p.current=m,typeof t=="function"?t(m):t!=null&&(t.current=m)},type:"checkbox","aria-checked":a,"aria-invalid":l,checked:n??void 0,disabled:o,id:c,name:i,onChange:y,style:x,"data-testid":u})),n||n==null?S:s.createElement(s.Fragment,null))}),ye=k.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:ae,width:ae,minHeight:ae,minWidth:ae,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:1,borderRadius:3},disabled:{cursor:"auto",backgroundColor:Fn,borderColor:Mn,borderWidth:1},checkboxIcon:{position:"absolute",pointerEvents:"none",margin:(ae-Ke)/2}}),zn=U(d.fadedBlue16,q),An=d.activeBlue,Re=U(d.fadedRed8,q),$t=d.activeRed,dt={default:{faded:zn,base:Rt,active:An},error:{faded:Re,base:Tt,active:$t}},xe={},Nn=(r,e)=>{const t=`${String(r)}-${String(e)}`;if(xe[t])return xe[t];const n=e?dt.error:dt.default;let o={};return r||r==null?o={default:{backgroundColor:n.base,borderWidth:0,":focus-visible":{boxShadow:`0 0 0 1px ${q}, 0 0 0 3px ${n.base}`},":hover":{boxShadow:`0 0 0 1px ${q}, 0 0 0 3px ${n.base}`},":active":{boxShadow:`0 0 0 1px ${q}, 0 0 0 3px ${n.active}`,background:n.active}}}:o={default:{backgroundColor:e?Re:q,borderColor:e?Tt:Pn,":focus-visible":{backgroundColor:e?Re:q,borderColor:n.base,borderWidth:2},":hover":{backgroundColor:e?Re:q,borderColor:n.base,borderWidth:2},":active":{backgroundColor:n.faded,borderColor:e?$t:Rt,borderWidth:2}}},xe[t]=k.StyleSheet.create(o),xe[t]},Wn=["checked","disabled","error","groupName","id","testId"],{blue:Ft,red:Mt,white:V,offWhite:Hn,offBlack16:Vn,offBlack32:qn,offBlack50:jn}=d,Un=P("input"),Kn=s.forwardRef(function(e,t){const n=()=>{},{checked:o,disabled:l,error:i,groupName:c,id:u,testId:h}=e,p=se(e,Wn),y=Xn(o,i),b=[We.inputReset,We.default,!l&&y.default,l&&We.disabled];return s.createElement(s.Fragment,null,s.createElement(Un,z({},p,{type:"radio","aria-invalid":i,checked:o??void 0,disabled:l,id:u,name:c,onChange:n,style:b,"data-testid":h,ref:t})),l&&o&&s.createElement("span",{style:Gn}))}),j=16,Gn={position:"absolute",top:j/4,left:j/4,height:j/2,width:j/2,borderRadius:"50%",backgroundColor:qn},We=k.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:j,width:j,minHeight:j,minWidth:j,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:1,borderRadius:"50%"},disabled:{cursor:"auto",backgroundColor:Hn,borderColor:Vn,borderWidth:1}}),Yn=U(d.fadedBlue16,V),Te=U(d.fadedRed8,V),ct={default:{faded:Yn,base:Ft,active:d.activeBlue},error:{faded:Te,base:Mt,active:d.activeRed}},Se={},Xn=(r,e)=>{const t=`${String(r)}-${String(e)}`;if(Se[t])return Se[t];const n=e?ct.error:ct.default;let o={};return r?o={default:{backgroundColor:V,borderColor:n.base,borderWidth:j/4,":focus-visible":{boxShadow:`0 0 0 1px ${V}, 0 0 0 3px ${n.base}`},":hover":{boxShadow:`0 0 0 1px ${V}, 0 0 0 3px ${n.base}`},":active":{boxShadow:`0 0 0 1px ${V}, 0 0 0 3px ${n.active}`,borderColor:n.active}}}:o={default:{backgroundColor:e?Te:V,borderColor:e?Mt:jn,":focus-visible":{backgroundColor:e?Te:V,borderColor:n.base,borderWidth:2},":hover":{backgroundColor:e?Te:V,borderColor:n.base,borderWidth:2},":active":{backgroundColor:n.faded,borderColor:e?d.activeRed:Ft,borderWidth:2}}},Se[t]=k.StyleSheet.create(o),Se[t]},Zn=["checked","description","disabled","error","id","label","onChange","style","className","variant"],Lt=s.forwardRef(function(e,t){const{checked:n,description:o,disabled:l=!1,error:i=!1,id:c,label:u,onChange:h,style:p,className:y,variant:b}=e,x=se(e,Zn),S=()=>{b==="radio"&&n||h(!n)},a=()=>b==="radio"?Kn:Dn,m=C=>s.createElement(N,{style:[ve.label,l&&ve.disabledLabel]},s.createElement("label",{htmlFor:C},u)),g=C=>s.createElement(D,{style:ve.description,id:C},o),v=a();return s.createElement(cn,{mockOnFirstRender:!0,scope:"choice"},C=>{const E=c||C.get("main"),I=o?C.get("description"):void 0;return s.createElement(w,{style:p,className:y},s.createElement(w,{style:ve.wrapper,tabIndex:-1},s.createElement(v,z({},x,{id:E,checked:n,"aria-describedby":I,onClick:S,disabled:l,error:i,ref:t})),s.createElement(F,{size:f.xSmall_8}),u&&m(E)),o&&g(I))})}),ve=k.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"flex-start",outline:"none"},label:{marginTop:-2},disabledLabel:{color:d.offBlack32},description:{marginLeft:f.medium_16+f.xSmall_8,marginTop:f.xxxSmall_4,color:d.offBlack64}}),Qn=s.forwardRef(function(e,t){const{disabled:n=!1,error:o=!1}=e;return s.createElement(Lt,z({},e,{variant:"checkbox",disabled:n,error:o,ref:t}))}),Jn=["disabled","error"],eo=s.forwardRef(function(e,t){const{disabled:n=!1,error:o=!1}=e,l=se(e,Jn);return s.createElement(Lt,z({},l,{variant:"radio",disabled:n,error:o,ref:t}))}),to=["checked","disabled","onChange","value","variant"];s.forwardRef(function(e,t){const{checked:n=!1,disabled:o=!1,onChange:l=()=>{},variant:i}=e,c=se(e,to),h=(p=>p==="checkbox"?Qn:eo)(i);return s.createElement(h,z({},c,{checked:n,disabled:o,onChange:l,ref:t}))});const A=k.StyleSheet.create({fieldset:{border:"none",padding:0,margin:0},legend:{padding:0},description:{marginTop:f.xxxSmall_4,color:d.offBlack64},error:{marginTop:f.xxxSmall_4,color:d.red},defaultLineGap:{marginTop:f.xSmall_8}}),no=P("fieldset"),oo=P("legend");s.forwardRef(function(e,t){const{children:n,label:o,description:l,errorMessage:i,groupName:c,onChange:u,selectedValues:h,style:p,testId:y}=e,b=(S,a)=>{if(a){const m=h.indexOf(S),g=[...h.slice(0,m),...h.slice(m+1)];u(g)}else u([...h,S])},x=s.Children.toArray(n).filter(Boolean);return s.createElement(no,{"data-testid":y,style:A.fieldset,ref:t},s.createElement(w,{style:p},o&&s.createElement(oo,{style:A.legend},s.createElement(N,null,o)),l&&s.createElement(D,{style:A.description},l),i&&s.createElement(D,{style:A.error},i),(o||l||i)&&s.createElement(F,{size:f.small_12}),x.map((S,a)=>{const{style:m,value:g}=S.props,v=h.includes(g);return s.cloneElement(S,{checked:v,error:!!i,groupName:c,id:`${c}-${g}`,key:g,onChange:()=>b(g,v),style:[a>0&&A.defaultLineGap,m],variant:"checkbox"})})))});const ro=P("fieldset"),so=P("legend");s.forwardRef(function(e,t){const{children:n,label:o,description:l,errorMessage:i,groupName:c,onChange:u,selectedValue:h,style:p,testId:y}=e,b=s.Children.toArray(n).filter(Boolean);return s.createElement(ro,{"data-testid":y,style:A.fieldset,ref:t},s.createElement(w,{style:p},o&&s.createElement(so,{style:A.legend},s.createElement(N,null,o)),l&&s.createElement(D,{style:A.description},l),i&&s.createElement(D,{style:A.error},i),(o||l||i)&&s.createElement(F,{size:f.small_12}),b.map((x,S)=>{const{style:a,value:m}=x.props,g=h===m;return s.cloneElement(x,{checked:g,error:!!i,groupName:c,id:`${c}-${m}`,key:m,onChange:()=>u(m),style:[S>0&&A.defaultLineGap,a],variant:"radio"})})))});const lo=["id","type","value","name","disabled","onKeyDown","placeholder","light","style","testId","readOnly","autoFocus","autoComplete","forwardedRef","onFocus","onBlur","onValidate","validate","onChange","required"],io="This field is required.",ao=P("input");class Pt extends s.Component{constructor(e){super(e),this.state={error:null,focused:!1},this.maybeValidate=t=>{const{validate:n,onValidate:o,required:l}=this.props;if(n){const i=n(t)||null;this.setState({error:i},()=>{o&&o(i)})}else if(l){const c=t?null:typeof l=="string"?l:io;this.setState({error:c},()=>{o&&o(c)})}},this.handleChange=t=>{const{onChange:n}=this.props,o=t.target.value;this.maybeValidate(o),n(o)},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{const{onBlur:n}=this.props;this.setState({focused:!1},()=>{n&&n(t)})},e.validate&&e.value!==""&&(this.state.error=e.validate(e.value)||null)}componentDidMount(){this.props.value!==""&&this.maybeValidate(this.props.value)}render(){const e=this.props,{id:t,type:n,value:o,name:l,disabled:i,onKeyDown:c,placeholder:u,light:h,style:p,testId:y,readOnly:b,autoFocus:x,autoComplete:S,forwardedRef:a}=e,m=se(e,lo);return s.createElement(ao,z({style:[G.input,It.LabelMedium,G.default,i?G.disabled:this.state.focused?[G.focused,h&&G.defaultLight]:!!this.state.error&&[G.error,h&&G.errorLight],!!this.state.error&&G.error,p&&p],id:t,type:n,placeholder:u,value:o,name:l,disabled:i,onChange:this.handleChange,onKeyDown:c,onFocus:this.handleFocus,onBlur:this.handleBlur,"data-testid":y,readOnly:b,autoFocus:x,autoComplete:S,ref:a},m,{"aria-invalid":this.state.error?"true":"false"}))}}Pt.defaultProps={type:"text",disabled:!1,light:!1};const G=k.StyleSheet.create({input:{width:"100%",height:40,borderRadius:4,boxSizing:"border-box",paddingLeft:f.medium_16,margin:0,outline:"none",boxShadow:"none"},default:{background:d.white,border:`1px solid ${d.offBlack16}`,color:d.offBlack,"::placeholder":{color:d.offBlack64}},error:{background:`${U(d.fadedRed8,d.white)}`,border:`1px solid ${d.red}`,color:d.offBlack,"::placeholder":{color:d.offBlack64}},disabled:{background:d.offWhite,border:`1px solid ${d.offBlack16}`,color:d.offBlack64,"::placeholder":{color:d.offBlack32}},focused:{background:d.white,border:`1px solid ${d.blue}`,color:d.offBlack,"::placeholder":{color:d.offBlack64}},defaultLight:{boxShadow:`0px 0px 0px 1px ${d.blue}, 0px 0px 0px 2px ${d.white}`},errorLight:{boxShadow:`0px 0px 0px 1px ${d.red}, 0px 0px 0px 2px ${d.white}`}});var Bt=s.forwardRef((r,e)=>s.createElement(Pt,z({},r,{forwardedRef:e})));const co=P("span");class uo extends s.Component{renderLabel(){const{label:e,id:t,required:n,testId:o}=this.props,l=s.createElement(co,{style:Ce.required,"aria-hidden":!0}," ","*");return s.createElement(s.Fragment,null,s.createElement(N,{style:Ce.label,tag:"label",htmlFor:t&&`${t}-field`,testId:o&&`${o}-label`},e,n&&l),s.createElement(F,{size:f.xxxSmall_4}))}maybeRenderDescription(){const{description:e,testId:t}=this.props;return e?s.createElement(s.Fragment,null,s.createElement(D,{style:Ce.description,testId:t&&`${t}-description`},e),s.createElement(F,{size:f.xxxSmall_4})):null}maybeRenderError(){const{error:e,id:t,testId:n}=this.props;return e?s.createElement(s.Fragment,null,s.createElement(F,{size:f.small_12}),s.createElement(D,{style:Ce.error,role:"alert",id:t&&`${t}-error`,testId:n&&`${n}-error`},e)):null}render(){const{field:e,style:t}=this.props;return s.createElement(w,{style:t},this.renderLabel(),this.maybeRenderDescription(),s.createElement(F,{size:f.xSmall_8}),e,this.maybeRenderError())}}const Ce=k.StyleSheet.create({label:{color:d.offBlack},description:{color:d.offBlack64},error:{color:d.red},required:{color:d.red}});class Dt extends s.Component{constructor(e){super(e),this.handleValidate=t=>{const{onValidate:n}=this.props;this.setState({error:t},()=>{n&&n(t)})},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{const{onBlur:n}=this.props;this.setState({focused:!1},()=>{n&&n(t)})},this.state={error:null,focused:!1}}render(){const{id:e,type:t,label:n,description:o,value:l,disabled:i,required:c,validate:u,onChange:h,onKeyDown:p,placeholder:y,light:b,style:x,testId:S,readOnly:a,autoComplete:m,forwardedRef:g,ariaDescribedby:v}=this.props;return s.createElement(Ze,{id:e,scope:"labeled-text-field"},C=>s.createElement(uo,{id:C,testId:S,style:x,field:s.createElement(Bt,{id:`${C}-field`,"aria-describedby":v||`${C}-error`,"aria-required":c?"true":"false",required:c,testId:S&&`${S}-field`,type:t,value:l,placeholder:y,disabled:i,validate:u,onValidate:this.handleValidate,onChange:h,onKeyDown:p,onFocus:this.handleFocus,onBlur:this.handleBlur,light:b,readOnly:a,autoComplete:m,ref:g}),label:n,description:o,required:!!c,error:!this.state.focused&&this.state.error||""}))}}Dt.defaultProps={type:"text",disabled:!1,light:!1};s.forwardRef((r,e)=>s.createElement(Dt,z({},r,{forwardedRef:e})));function Ge(){return Ge=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ge.apply(this,arguments)}function ho(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,l;for(l=0;l<n.length;l++)o=n[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}const po={clearSearch:"Clear search"},fo=["clearAriaLabel","autoFocus","disabled","light","id","value","placeholder","style","testId","onClick","onChange","onFocus","onBlur"],mo=s.forwardRef(function(e,t){const{clearAriaLabel:n=po.clearSearch,autoFocus:o,disabled:l=!1,light:i=!1,id:c,value:u,placeholder:h,style:p,testId:y,onClick:b,onChange:x,onFocus:S,onBlur:a}=e,m=ho(e,fo),g=s.useRef(null),v=()=>{var E;x(""),g==null||(E=g.current)==null||E.focus()},C=()=>u.length?s.createElement(Et,{icon:wt,kind:"tertiary",onClick:v,style:Ie.dismissIcon,"aria-label":n}):null;return s.createElement(Ze,{id:c,scope:"search-field"},E=>s.createElement(w,{onClick:b,style:[Ie.inputContainer,p]},s.createElement(re,{icon:Rn,size:"medium",color:d.offBlack64,style:Ie.searchIcon,"aria-hidden":"true"}),s.createElement(Bt,Ge({id:`${E}-field`,type:"text",autoFocus:o,disabled:l,light:i,onChange:x,onFocus:S,onBlur:a,placeholder:h,ref:I=>{t&&(t.current=I),g.current=I},value:u,style:[Ie.inputStyleReset,It.LabelMedium],testId:y},m)),C()))}),Ie=k.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:f.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:f.xSmall_8,marginRight:f.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:0,":hover":{border:"none"}},inputStyleReset:{display:"flex",flex:1,"::placeholder":{color:d.offBlack64},width:"100%",color:"inherit",paddingLeft:f.large_24+f.medium_16,paddingRight:f.large_24+f.medium_16}});function Ye(){return Ye=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ye.apply(this,arguments)}function ut(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Xe(r,e){return Xe=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xe(r,e)}function go(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Xe(r,e)}var ht=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function bo(r,e){return!!(r===e||ht(r)&&ht(e))}function yo(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!bo(r[t],e[t]))return!1;return!0}function He(r,e){e===void 0&&(e=yo);var t,n=[],o,l=!1;function i(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return l&&t===this&&e(c,n)||(o=r.apply(this,c),l=!0,t=this,n=c),o}return i}var xo=typeof performance=="object"&&typeof performance.now=="function",pt=xo?function(){return performance.now()}:function(){return Date.now()};function ft(r){cancelAnimationFrame(r.id)}function So(r,e){var t=pt();function n(){pt()-t>=e?r.call(null):o.id=requestAnimationFrame(n)}var o={id:requestAnimationFrame(n)};return o}var te=null;function mt(r){if(r===void 0&&(r=!1),te===null||r){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?te="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?te="negative":te="positive-ascending"),document.body.removeChild(e),te}return te}var vo=150,Co=function(e,t){return e};function Io(r){var e,t=r.getItemOffset,n=r.getEstimatedTotalSize,o=r.getItemSize,l=r.getOffsetForIndexAndAlignment,i=r.getStartIndexForOffset,c=r.getStopIndexForStartIndex,u=r.initInstanceProps,h=r.shouldResetStyleCacheOnItemSizeChange,p=r.validateProps;return e=function(y){go(b,y);function b(S){var a;return a=y.call(this,S)||this,a._instanceProps=u(a.props,ut(a)),a._outerRef=void 0,a._resetIsScrollingTimeoutId=null,a.state={instance:ut(a),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof a.props.initialScrollOffset=="number"?a.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},a._callOnItemsRendered=void 0,a._callOnItemsRendered=He(function(m,g,v,C){return a.props.onItemsRendered({overscanStartIndex:m,overscanStopIndex:g,visibleStartIndex:v,visibleStopIndex:C})}),a._callOnScroll=void 0,a._callOnScroll=He(function(m,g,v){return a.props.onScroll({scrollDirection:m,scrollOffset:g,scrollUpdateWasRequested:v})}),a._getItemStyle=void 0,a._getItemStyle=function(m){var g=a.props,v=g.direction,C=g.itemSize,E=g.layout,I=a._getItemStyleCache(h&&C,h&&E,h&&v),R;if(I.hasOwnProperty(m))R=I[m];else{var T=t(a.props,m,a._instanceProps),W=o(a.props,m,a._instanceProps),H=v==="horizontal"||E==="horizontal",me=v==="rtl",ge=H?T:0;I[m]=R={position:"absolute",left:me?void 0:ge,right:me?ge:void 0,top:H?0:T,height:H?"100%":W,width:H?W:"100%"}}return R},a._getItemStyleCache=void 0,a._getItemStyleCache=He(function(m,g,v){return{}}),a._onScrollHorizontal=function(m){var g=m.currentTarget,v=g.clientWidth,C=g.scrollLeft,E=g.scrollWidth;a.setState(function(I){if(I.scrollOffset===C)return null;var R=a.props.direction,T=C;if(R==="rtl")switch(mt()){case"negative":T=-C;break;case"positive-descending":T=E-v-C;break}return T=Math.max(0,Math.min(T,E-v)),{isScrolling:!0,scrollDirection:I.scrollOffset<C?"forward":"backward",scrollOffset:T,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._onScrollVertical=function(m){var g=m.currentTarget,v=g.clientHeight,C=g.scrollHeight,E=g.scrollTop;a.setState(function(I){if(I.scrollOffset===E)return null;var R=Math.max(0,Math.min(E,C-v));return{isScrolling:!0,scrollDirection:I.scrollOffset<R?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._outerRefSetter=function(m){var g=a.props.outerRef;a._outerRef=m,typeof g=="function"?g(m):g!=null&&typeof g=="object"&&g.hasOwnProperty("current")&&(g.current=m)},a._resetIsScrollingDebounced=function(){a._resetIsScrollingTimeoutId!==null&&ft(a._resetIsScrollingTimeoutId),a._resetIsScrollingTimeoutId=So(a._resetIsScrolling,vo)},a._resetIsScrolling=function(){a._resetIsScrollingTimeoutId=null,a.setState({isScrolling:!1},function(){a._getItemStyleCache(-1,null)})},a}b.getDerivedStateFromProps=function(a,m){return wo(a,m),p(a),null};var x=b.prototype;return x.scrollTo=function(a){a=Math.max(0,a),this.setState(function(m){return m.scrollOffset===a?null:{scrollDirection:m.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},x.scrollToItem=function(a,m){m===void 0&&(m="auto");var g=this.props.itemCount,v=this.state.scrollOffset;a=Math.max(0,Math.min(a,g-1)),this.scrollTo(l(this.props,a,m,v,this._instanceProps))},x.componentDidMount=function(){var a=this.props,m=a.direction,g=a.initialScrollOffset,v=a.layout;if(typeof g=="number"&&this._outerRef!=null){var C=this._outerRef;m==="horizontal"||v==="horizontal"?C.scrollLeft=g:C.scrollTop=g}this._callPropsCallbacks()},x.componentDidUpdate=function(){var a=this.props,m=a.direction,g=a.layout,v=this.state,C=v.scrollOffset,E=v.scrollUpdateWasRequested;if(E&&this._outerRef!=null){var I=this._outerRef;if(m==="horizontal"||g==="horizontal")if(m==="rtl")switch(mt()){case"negative":I.scrollLeft=-C;break;case"positive-ascending":I.scrollLeft=C;break;default:var R=I.clientWidth,T=I.scrollWidth;I.scrollLeft=T-R-C;break}else I.scrollLeft=C;else I.scrollTop=C}this._callPropsCallbacks()},x.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ft(this._resetIsScrollingTimeoutId)},x.render=function(){var a=this.props,m=a.children,g=a.className,v=a.direction,C=a.height,E=a.innerRef,I=a.innerElementType,R=a.innerTagName,T=a.itemCount,W=a.itemData,H=a.itemKey,me=H===void 0?Co:H,ge=a.layout,Xt=a.outerElementType,Zt=a.outerTagName,Qt=a.style,Jt=a.useIsScrolling,en=a.width,ot=this.state.isScrolling,Ae=v==="horizontal"||ge==="horizontal",tn=Ae?this._onScrollHorizontal:this._onScrollVertical,rt=this._getRangeToRender(),nn=rt[0],on=rt[1],st=[];if(T>0)for(var ie=nn;ie<=on;ie++)st.push(s.createElement(m,{data:W,key:me(ie,W),index:ie,isScrolling:Jt?ot:void 0,style:this._getItemStyle(ie)}));var lt=n(this.props,this._instanceProps);return s.createElement(Xt||Zt||"div",{className:g,onScroll:tn,ref:this._outerRefSetter,style:Ye({position:"relative",height:C,width:en,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},Qt)},s.createElement(I||R||"div",{children:st,ref:E,style:{height:Ae?"100%":lt,pointerEvents:ot?"none":void 0,width:Ae?lt:"100%"}}))},x._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var a=this.props.itemCount;if(a>0){var m=this._getRangeToRender(),g=m[0],v=m[1],C=m[2],E=m[3];this._callOnItemsRendered(g,v,C,E)}}if(typeof this.props.onScroll=="function"){var I=this.state,R=I.scrollDirection,T=I.scrollOffset,W=I.scrollUpdateWasRequested;this._callOnScroll(R,T,W)}},x._getRangeToRender=function(){var a=this.props,m=a.itemCount,g=a.overscanCount,v=this.state,C=v.isScrolling,E=v.scrollDirection,I=v.scrollOffset;if(m===0)return[0,0,0,0];var R=i(this.props,I,this._instanceProps),T=c(this.props,R,I,this._instanceProps),W=!C||E==="backward"?Math.max(1,g):1,H=!C||E==="forward"?Math.max(1,g):1;return[Math.max(0,R-W),Math.max(0,Math.min(m-1,T+H)),R,T]},b}(s.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var wo=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Eo=50,ne=function(e,t,n){var o=e,l=o.itemSize,i=n.itemMetadataMap,c=n.lastMeasuredIndex;if(t>c){var u=0;if(c>=0){var h=i[c];u=h.offset+h.size}for(var p=c+1;p<=t;p++){var y=l(p);i[p]={offset:u,size:y},u+=y}n.lastMeasuredIndex=t}return i[t]},ko=function(e,t,n){var o=t.itemMetadataMap,l=t.lastMeasuredIndex,i=l>0?o[l].offset:0;return i>=n?zt(e,t,l,0,n):_o(e,t,Math.max(0,l),n)},zt=function(e,t,n,o,l){for(;o<=n;){var i=o+Math.floor((n-o)/2),c=ne(e,i,t).offset;if(c===l)return i;c<l?o=i+1:c>l&&(n=i-1)}return o>0?o-1:0},_o=function(e,t,n,o){for(var l=e.itemCount,i=1;n<l&&ne(e,n,t).offset<o;)n+=i,i*=2;return zt(e,t,Math.min(n,l-1),Math.floor(n/2),o)},gt=function(e,t){var n=e.itemCount,o=t.itemMetadataMap,l=t.estimatedItemSize,i=t.lastMeasuredIndex,c=0;if(i>=n&&(i=n-1),i>=0){var u=o[i];c=u.offset+u.size}var h=n-i-1,p=h*l;return c+p},Oo=Io({getItemOffset:function(e,t,n){return ne(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:gt,getOffsetForIndexAndAlignment:function(e,t,n,o,l){var i=e.direction,c=e.height,u=e.layout,h=e.width,p=i==="horizontal"||u==="horizontal",y=p?h:c,b=ne(e,t,l),x=gt(e,l),S=Math.max(0,Math.min(x-y,b.offset)),a=Math.max(0,b.offset-y+b.size);switch(n==="smart"&&(o>=a-y&&o<=S+y?n="auto":n="center"),n){case"start":return S;case"end":return a;case"center":return Math.round(a+(S-a)/2);case"auto":default:return o>=a&&o<=S?o:o<a?a:S}},getStartIndexForOffset:function(e,t,n){return ko(e,n,t)},getStopIndexForStartIndex:function(e,t,n,o){for(var l=e.direction,i=e.height,c=e.itemCount,u=e.layout,h=e.width,p=l==="horizontal"||u==="horizontal",y=p?h:i,b=ne(e,t,o),x=n+y,S=b.offset+b.size,a=t;a<c-1&&S<x;)a++,S+=ne(e,a,o).size;return a},initInstanceProps:function(e,t){var n=e,o=n.estimatedItemSize,l={itemMetadataMap:{},estimatedItemSize:o||Eo,lastMeasuredIndex:-1};return t.resetAfterIndex=function(i,c){c===void 0&&(c=!0),l.lastMeasuredIndex=Math.min(l.lastMeasuredIndex,i-1),t._getItemStyleCache(-1),c&&t.forceUpdate()},l},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});function Fe(){return Fe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fe.apply(this,arguments)}const Be={color:{bg:{inverse:d.darkBlue},text:{inverse:d.white,secondary:d.offBlack64},shadow:{default:d.offBlack16}},border:{radius:J.radius.medium_4},spacing:{dialog:{small:f.medium_16},panel:{closeButton:f.medium_16,footer:f.xLarge_32},header:{xsmall:f.xSmall_8,small:f.medium_16,medium:f.large_24,large:f.xLarge_32}}},Ro=gn(Be,{color:{bg:{inverse:d.eggplant}}}),To={default:Be,khanmigo:Ro},fe=bn(Be);function $o(r){const e=s.useContext(yn),t=To[e]||Be;return s.createElement(fe.Provider,{value:t},r.children)}const Fo=s.forwardRef(function(e,t){const{above:n,below:o,role:l="dialog",style:i,children:c,testId:u,"aria-labelledby":h,"aria-describedby":p}=e,{theme:y}=Le(fe),b=Pe(Lo,y);return s.createElement(w,{style:[b.wrapper,i]},o&&s.createElement(w,{style:b.below},o),s.createElement(w,{role:l,"aria-modal":"true","aria-labelledby":h,"aria-describedby":p,ref:t,style:b.dialog,testId:u},c),n&&s.createElement(w,{style:b.above},n))}),At=s.forwardRef(function(e,t){return s.createElement($o,null,s.createElement(Fo,Fe({},e,{ref:t})))}),Mo="@media (max-width: 767px)",Lo=r=>({wrapper:{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",height:"100%",position:"relative",[Mo]:{padding:r.spacing.dialog.small,flexDirection:"column"}},dialog:{width:"100%",height:"100%",borderRadius:r.border.radius,overflow:"hidden"},above:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},below:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:-1}});At.displayName="ModalDialog";function Me({children:r}){return s.createElement(w,{style:Po.footer},r)}Me.__IS_MODAL_FOOTER__=!0;Me.isComponentOf=r=>r&&r.type&&r.type.__IS_MODAL_FOOTER__;const Po=k.StyleSheet.create({footer:{flex:"0 0 auto",boxSizing:"border-box",minHeight:f.xxxLarge_64,paddingLeft:f.medium_16,paddingRight:f.medium_16,paddingTop:f.xSmall_8,paddingBottom:f.xSmall_8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px -1px 0px ${d.offBlack16}`}});function $e(r){const{breadcrumbs:e=void 0,light:t,subtitle:n=void 0,testId:o,title:l,titleId:i}=r;if(n&&e)throw new Error("'subtitle' and 'breadcrumbs' can't be used together");const{theme:c}=Le(fe),u=Pe(Bo,c);return s.createElement(w,{style:[u.header,!t&&u.dark],testId:o},e&&s.createElement(w,{style:u.breadcrumbs},e),s.createElement(rn,{style:u.title,id:i,testId:o&&`${o}-title`},l),n&&s.createElement(D,{style:t&&u.subtitle,testId:o&&`${o}-subtitle`},n))}const bt="@media (max-width: 767px)",Bo=r=>({header:{boxShadow:`0px 1px 0px ${r.color.shadow.default}`,display:"flex",flexDirection:"column",minHeight:66,padding:`${r.spacing.header.medium}px ${r.spacing.header.large}px`,position:"relative",width:"100%",[bt]:{paddingLeft:r.spacing.header.small,paddingRight:r.spacing.header.small}},dark:{background:r.color.bg.inverse,color:r.color.text.inverse},breadcrumbs:{color:r.color.text.secondary,marginBottom:r.spacing.header.xsmall},title:{paddingRight:r.spacing.header.small,[bt]:{paddingRight:r.spacing.header.large}},subtitle:{color:r.color.text.secondary,marginTop:r.spacing.header.xsmall}});$e.defaultProps={light:!0};const Do='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';class zo extends s.Component{constructor(...e){super(...e),this.modalRoot=void 0,this.getModalRoot=t=>{if(!t)return;const n=M.findDOMNode(t);if(!n)throw new Error("Assertion error: modal root should exist after mount");this.modalRoot=n},this.handleFocusMoveToLast=()=>{this.focusElementIn(!1)},this.handleFocusMoveToFirst=()=>{this.focusElementIn(!0)}}tryToFocus(e){if(e instanceof HTMLElement){try{e.focus()}catch{}return document.activeElement===e}}focusElementIn(e){const t=this.modalRoot,n=Array.from(t.querySelectorAll(Do)),o=e?0:n.length-1,l=n[o];this.tryToFocus(l)}render(){const{style:e}=this.props;return s.createElement(s.Fragment,null,s.createElement("div",{tabIndex:0,className:"modal-focus-trap-first",onFocus:this.handleFocusMoveToLast,style:{position:"fixed"}}),s.createElement(w,{style:e,ref:this.getModalRoot},this.props.children),s.createElement("div",{tabIndex:0,className:"modal-focus-trap-last",onFocus:this.handleFocusMoveToFirst,style:{position:"fixed"}}))}}const Nt="data-modal-launcher-portal",Ao='a[href], details, input, textarea, select, button:not([aria-label^="Close"])';function No(r){return Array.from(r.querySelectorAll(Ao))}class Wo extends s.Component{constructor(...e){super(...e),this._mousePressedOutside=!1,this.handleMouseDown=t=>{this._mousePressedOutside=t.target===t.currentTarget},this.handleMouseUp=t=>{t.target===t.currentTarget&&this._mousePressedOutside&&this.props.onCloseModal(),this._mousePressedOutside=!1}}componentDidMount(){const e=M.findDOMNode(this);if(!e)return;const t=this._getInitialFocusElement(e)||this._getFirstFocusableElement(e)||this._getDialogElement(e);setTimeout(()=>{t.focus()},0)}_getInitialFocusElement(e){const{initialFocusId:t}=this.props;return t?M.findDOMNode(e.querySelector(`#${t}`)):null}_getFirstFocusableElement(e){const t=No(e);return t?t[0]:null}_getDialogElement(e){const t=M.findDOMNode(e.querySelector('[role="dialog"]'));return t.tabIndex=-1,t}render(){const{children:e,testId:t}=this.props,n={[Nt]:!0};return s.createElement(w,Fe({style:Ho.modalPositioner,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,testId:t},n),e)}}const Ho=k.StyleSheet.create({modalPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",overflow:"auto",background:d.offBlack64}}),Ve=(()=>{if(typeof window>"u")return!1;const r=window.navigator.userAgent;return r.indexOf("iPad")>-1||r.indexOf("iPhone")>-1})();class _ extends s.Component{componentDidMount(){if(_.numModalsOpened===0){const e=document.body;if(!e)throw new Error("couldn't find document.body");_.oldOverflow=e.style.overflow,_.oldScrollY=window.scrollY,Ve&&(_.oldPosition=e.style.position,_.oldWidth=e.style.width,_.oldTop=e.style.top),e.style.overflow="hidden",Ve&&(e.style.position="fixed",e.style.width="100%",e.style.top=`${-_.oldScrollY}px`)}_.numModalsOpened++}componentWillUnmount(){if(_.numModalsOpened--,_.numModalsOpened===0){const e=document.body;if(!e)throw new Error("couldn't find document.body");e.style.overflow=_.oldOverflow,Ve&&(e.style.position=_.oldPosition,e.style.width=_.oldWidth,e.style.top=_.oldTop),typeof window<"u"&&window.scrollTo&&window.scrollTo(0,_.oldScrollY)}}render(){return null}}_.oldOverflow=void 0;_.oldPosition=void 0;_.oldScrollY=void 0;_.oldWidth=void 0;_.oldTop=void 0;_.numModalsOpened=0;const Vo={closeModal:void 0},et=s.createContext(Vo);et.displayName="ModalContext";class Wt extends s.Component{constructor(...e){super(...e),this.lastElementFocusedOutsideModal=void 0,this.state={opened:!1},this._saveLastElementFocused=()=>{this.lastElementFocusedOutsideModal=document.activeElement},this._openModal=()=>{this._saveLastElementFocused(),this.setState({opened:!0})},this._returnFocus=()=>{const{closedFocusId:t,schedule:n}=this.props,o=this.lastElementFocusedOutsideModal;if(t){const l=M.findDOMNode(document.getElementById(t));if(l){n.animationFrame(()=>{l.focus()});return}}o!=null&&n.animationFrame(()=>{o.focus()})},this.handleCloseModal=()=>{this.setState({opened:!1},()=>{const{onClose:t}=this.props;t==null||t(),this._returnFocus()})}}static getDerivedStateFromProps(e,t){return typeof e.opened=="boolean"&&e.children&&console.warn("'children' and 'opened' can't be used together"),typeof e.opened=="boolean"&&!e.onClose&&console.warn("'onClose' should be used with 'opened'"),typeof e.opened!="boolean"&&!e.children&&console.warn("either 'children' or 'opened' must be set"),{opened:typeof e.opened=="boolean"?e.opened:t.opened}}componentDidUpdate(e){!e.opened&&this.props.opened&&this._saveLastElementFocused()}_renderModal(){return typeof this.props.modal=="function"?this.props.modal({closeModal:this.handleCloseModal}):this.props.modal}render(){const e=this.props.children?this.props.children({openModal:this._openModal}):null,{body:t}=document;return t?s.createElement(et.Provider,{value:{closeModal:this.handleCloseModal}},e,this.state.opened&&M.createPortal(s.createElement(zo,{style:jo.container},s.createElement(Wo,{initialFocusId:this.props.initialFocusId,testId:this.props.testId,onCloseModal:this.props.backdropDismissEnabled?this.handleCloseModal:()=>{}},this._renderModal())),t),this.state.opened&&s.createElement(qo,{onClose:this.handleCloseModal}),this.state.opened&&s.createElement(_,null)):null}}Wt.defaultProps={backdropDismissEnabled:!0};class qo extends s.Component{constructor(...e){super(...e),this._handleKeyup=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup)}render(){return null}}const jo=k.StyleSheet.create({container:{zIndex:1080}});Je(Wt);function he(r){const{scrollOverflow:e,style:t,children:n}=r,{theme:o}=Le(fe),l=Pe(Ko,o);return s.createElement(w,{style:[l.wrapper,e&&l.scrollOverflow]},s.createElement(w,{style:[l.content,t]},n))}he.__IS_MODAL_CONTENT__=!0;he.isComponentOf=r=>r&&r.type&&r.type.__IS_MODAL_CONTENT__;const Uo="@media (max-width: 767px)",Ko=r=>({wrapper:{flex:1,display:"block"},scrollOverflow:{overflow:"auto"},content:{flex:1,minHeight:"100%",padding:f.xLarge_32,boxSizing:"border-box",[Uo]:{padding:`${f.xLarge_32}px ${f.medium_16}px`}}});he.defaultProps={scrollOverflow:!0};class Go extends s.Component{render(){const{light:e,onClick:t,style:n,testId:o}=this.props;return s.createElement(et.Consumer,null,({closeModal:l})=>{if(l&&t)throw new Error("You've specified 'onClose' on a modal when using ModalLauncher.  Please specify 'onClose' on the ModalLauncher instead");return s.createElement(Et,{icon:wt,"aria-label":"Close modal",onClick:t||l,kind:e?"primary":"tertiary",light:e,style:n,testId:o})})}}function Ht({closeButtonVisible:r=!0,scrollOverflow:e=!0,light:t=!0,content:n,footer:o,header:l,onClose:i,style:c,testId:u}){const{theme:h}=Le(fe),p=Pe(Yo,h),b=s.useCallback(()=>{const x=he.isComponentOf(n)?n:s.createElement(he,null,n);return x&&s.cloneElement(x,{scrollOverflow:e,style:[!!o&&p.hasFooter,x.props.style]})},[n,o,e,p.hasFooter])();return s.createElement(w,{style:[p.wrapper,!t&&p.dark,c],testId:u&&`${u}-panel`},r&&s.createElement(Go,{light:!t,onClick:i,style:p.closeButton,testId:u&&`${u}-close`}),l,b,!o||Me.isComponentOf(o)?o:s.createElement(Me,null,o))}Ht.defaultProps={closeButtonVisible:!0,scrollOverflow:!0,light:!0};const Yo=r=>({wrapper:{flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column",background:"white",boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%"},closeButton:{position:"absolute",right:r.spacing.panel.closeButton,top:r.spacing.panel.closeButton,zIndex:1},dark:{background:r.color.bg.inverse,color:r.color.text.inverse},hasFooter:{paddingBottom:r.spacing.panel.footer}});class Xo extends s.Component{renderHeader(e){const{title:t,breadcrumbs:n=void 0,subtitle:o=void 0,testId:l}=this.props;return n?s.createElement($e,{title:t,breadcrumbs:n,titleId:e,testId:l&&`${l}-header`}):o?s.createElement($e,{title:t,subtitle:o,titleId:e,testId:l&&`${l}-header`}):s.createElement($e,{title:t,titleId:e,testId:l&&`${l}-header`})}render(){const{onClose:e,footer:t,content:n,above:o,below:l,style:i,closeButtonVisible:c,testId:u,titleId:h,role:p,"aria-describedby":y}=this.props;return s.createElement(un,{styleSheets:Zo},({styles:b})=>s.createElement(Ze,{id:h,scope:"modal"},x=>s.createElement(At,{style:[b.dialog,i],above:o,below:l,testId:u,"aria-labelledby":x,"aria-describedby":y,role:p},s.createElement(Ht,{onClose:e,header:this.renderHeader(x),content:n,footer:t,closeButtonVisible:c,testId:u}))))}}Xo.defaultProps={closeButtonVisible:!0};const Zo={small:k.StyleSheet.create({dialog:{width:"100%",height:"100%",overflow:"hidden"}}),mdOrLarger:k.StyleSheet.create({dialog:{width:"93.75%",maxWidth:576,height:"81.25%",maxHeight:624}})};function Qo(r){let e=r&&r.parentElement;for(;e&&!e.hasAttribute(Nt);)e=e.parentElement;return e}function Jo(r){return Qo(r)}const Vt=""+new URL("caret-down-bold-NQKqym-e.svg",import.meta.url).href;function O(){return O=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},O.apply(this,arguments)}const Q={tab:9,enter:13,escape:27,space:32,up:38,down:40},qt={marginTop:f.xSmall_8,marginBottom:f.xSmall_8},jt={minHeight:100},Z=40,Ut=9,Kt=9,L={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:r=>`Select all (${r})`,noneSelected:"0 items",someSelected:r=>r===1?"1 item":`${r} items`,allSelected:"All items"},{blue:er,white:yt,offBlack:tr}=d;class oe extends s.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_ACTION_ITEM__}render(){const{disabled:e,horizontalRule:t,href:n,target:o,indent:l,label:i,lang:c,leftAccessory:u,rightAccessory:h,onClick:p,role:y,style:b,testId:x}=this.props,S=[de.wrapper,b],a=typeof i=="string"?s.createElement(N,{lang:c,style:de.label},i):s.cloneElement(i,O({lang:c,style:de.label},i.props));return s.createElement(kn,{disabled:e,horizontalRule:t,rootStyle:S,leftAccessory:u,rightAccessory:h,style:[de.shared,l&&de.indent],role:y,testId:x,title:a,href:n,target:o,onClick:p})}}oe.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};oe.__IS_ACTION_ITEM__=!0;const de=k.StyleSheet.create({wrapper:{minHeight:Z,touchAction:"manipulation",":focus":{borderRadius:f.xxxSmall_4,outline:`${f.xxxxSmall_2}px solid ${d.blue}`,outlineOffset:-f.xxxxSmall_2},":hover[aria-disabled=false]":{color:yt,background:er},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:yt,background:tr}},":active[aria-disabled=false]":{color:d.fadedBlue,background:d.activeBlue}},shared:{minHeight:Z,height:Z},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:f.medium_16*2}});function le(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,l;for(l=0;l<n.length;l++)o=n[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}const nr=function(e){const{selected:t}=e;return s.createElement(re,{icon:Qe,size:"small",style:[xt.bounds,!t&&xt.hide]})},xt=k.StyleSheet.create({bounds:{alignSelf:"center",height:f.medium_16,minHeight:f.medium_16,minWidth:f.medium_16},hide:{visibility:"hidden"}}),{offBlack16:or,offBlack50:rr,offWhite:sr}=d,lr=function(e){const{disabled:t,selected:n}=e;return s.createElement(w,{className:"checkbox",style:[we.checkbox,n&&!t&&we.noBorder,t&&we.disabledCheckbox]},n&&s.createElement(re,{icon:Qe,size:"small",className:"check",style:[{width:f.small_12,height:f.small_12,margin:f.xxxxSmall_2},t&&n&&we.disabledCheckFormatting]}))},we=k.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:f.medium_16,minWidth:f.medium_16,height:f.medium_16,borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:rr},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:or,backgroundColor:sr},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),ir=["disabled","label","selected","testId","leftAccessory","horizontalRule","parentComponent","rightAccessory","style","subtitle1","subtitle2","value","onClick","onToggle","variant","role"],ar=P("li");class ee extends s.Component{constructor(...e){super(...e),this.handleClick=()=>{const{onClick:t,onToggle:n,value:o}=this.props;n(o),t&&t()}}static isClassOf(e){return e&&e.type&&e.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?nr:lr}renderCell(){const e=this.props,{disabled:t,label:n,selected:o,testId:l,leftAccessory:i,horizontalRule:c,parentComponent:u,rightAccessory:h,style:p,subtitle1:y,subtitle2:b,role:x}=e,S=le(e,ir),a=this.getCheckComponent(),m=[Y.item,p];return s.createElement(On,O({disabled:t,horizontalRule:c,rootStyle:u==="listbox"?Y.listboxItem:m,style:Y.itemContainer,"aria-selected":u!=="listbox"&&o?"true":"false",role:u!=="listbox"?x:void 0,testId:l,leftAccessory:s.createElement(s.Fragment,null,i?s.createElement(w,{style:{flexDirection:"row"}},s.createElement(a,{disabled:t,selected:o}),s.createElement(F,{size:f.xSmall_8}),i):s.createElement(a,{disabled:t,selected:o})),rightAccessory:h,subtitle1:y?s.createElement(D,{className:"subtitle"},y):void 0,title:s.createElement(N,{style:Y.label},n),subtitle2:b?s.createElement(D,{className:"subtitle"},b):void 0,onClick:u!=="listbox"?this.handleClick:void 0},S))}render(){const{disabled:e,focused:t,parentComponent:n,role:o,selected:l}=this.props;return n==="listbox"?s.createElement(ar,{onMouseDown:i=>{i.preventDefault()},onClick:this.handleClick,style:[Y.reset,Y.item,t&&Y.itemFocused,e&&Y.itemDisabled],role:o,"aria-selected":l?"true":"false","aria-disabled":e?"true":"false",id:this.props.id,tabIndex:-1},this.renderCell()):this.renderCell()}}ee.defaultProps={disabled:!1,focused:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};ee.__IS_OPTION_ITEM__=!0;const{blue:qe,white:ce,offBlack:dr}=d,St={borderRadius:f.xxxSmall_4,outline:`${f.xxxxSmall_2}px solid ${d.blue}`,outlineOffset:-f.xxxxSmall_2},Y=k.StyleSheet.create({reset:{margin:0,padding:0,border:0,background:"none",outline:"none",fontSize:"100%",verticalAlign:"baseline",textAlign:"left",textDecoration:"none",listStyle:"none",cursor:"pointer"},listboxItem:{backgroundColor:"transparent",color:"inherit"},item:{backgroundColor:d.white,minHeight:"unset",":focus":St,":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:ce,background:qe},":active[aria-selected=false]":{},":hover[aria-disabled=true]":{cursor:"not-allowed"},":is([aria-disabled=true])":{color:d.offBlack32,":focus-visible":{outline:"none"}},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:ce,background:dr}},":active[aria-disabled=false]":{color:d.fadedBlue,background:d.activeBlue},":hover[aria-disabled=false] .checkbox":{background:ce},":hover[aria-disabled=false] .check":{color:qe},":active[aria-disabled=false] .check":{color:d.activeBlue},":is([aria-selected=true]) .checkbox":{background:qe},":is([aria-selected=true]) .check":{color:ce},":is([aria-disabled=false]) .subtitle":{color:d.offBlack64},":hover[aria-disabled=false] .subtitle":{color:d.offWhite},":active[aria-disabled=false] .subtitle":{color:U(d.fadedBlue16,ce)}},itemFocused:St,itemDisabled:{outlineColor:d.offBlack32},itemContainer:{minHeight:"unset",padding:`${f.xSmall_8+f.xxxxSmall_2}px ${f.xSmall_8}px`,paddingRight:f.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class K extends s.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_SEPARATOR_ITEM__}render(){return s.createElement(w,{style:[cr.separator,this.props.style],"aria-hidden":"true"})}}K.__IS_SEPARATOR_ITEM__=!0;const cr=k.StyleSheet.create({separator:{boxShadow:`0 -1px ${d.offBlack16}`,height:1,minHeight:1,marginTop:f.xxxSmall_4,marginBottom:f.xxxSmall_4}});class De extends s.Component{constructor(...e){super(...e),this.getTestIdFromProps=t=>t.testId||t["data-testid"]}renderAnchorChildren(e,t){const{disabled:n,testId:o,text:l,opened:i}=this.props,c=this.props.children(O({},e,{text:l,opened:i})),u=c.props,h=this.getTestIdFromProps(u);return s.cloneElement(c,O({},t,{disabled:n,onClick:u.onClick?p=>{u.onClick(p),t.onClick(p)}:t.onClick,"data-testid":h||o}))}render(){return s.createElement(an,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(e,t)=>this.renderAnchorChildren(e,t))}}De.defaultProps={disabled:!1};class ur extends s.Component{render(){const{data:e,index:t,style:n}=this.props,o=e[t];if(K.isClassOf(o.component))return s.cloneElement(o.component,{style:n});{const{component:l,populatedProps:i,onClick:c,role:u,ref:h}=o;return s.cloneElement(l,O({style:n},i,{key:t,onClick:c,ref:o.focusable&&h,role:u}))}}}function vt(r,e=0){return r.slice(0,Ut).reduce((t,n)=>K.isClassOf(n.component)?t+Kt:t+Z,e)}class hr extends s.Component{constructor(e){super(e),this.getItemSize=t=>{const n=this.props.data[t];return K.isClassOf(n.component)?Kt:Z},this.state={height:vt(e.data),width:e.width}}componentDidMount(){const{schedule:e}=this.props;e.animationFrame(()=>{this.setWidth()})}componentDidUpdate(e){const{data:t,listRef:n}=this.props;e.data.length!==t.length&&(this.setHeight(),n&&n.current&&n.current.resetAfterIndex(1))}setWidth(){const e=M.findDOMNode(this),t=e==null?void 0:e.parentElement;if(t){const n=t.getBoundingClientRect().width;this.setState({width:n})}}setHeight(){const e=vt(this.props.data);this.setState({height:e})}renderInitialItems(){const{data:e}=this.props,t=e.map(o=>o.component);return s.Children.toArray(t).filter(Boolean).sort((o,l)=>l.props.label&&o.props.label?l.props.label.length-o.props.label.length:-1).slice(0,Ut).map(o=>s.cloneElement(o,{style:{visibility:"hidden"}}))}renderVirtualizedList(e,t){const{data:n,listRef:o}=this.props;return s.createElement(Oo,{height:t,itemCount:n.length,itemSize:this.getItemSize,itemData:n,style:{overflowX:"hidden"},width:e,overscanCount:5,ref:o},ur)}render(){const{width:e,height:t}=this.state;return e==null?this.renderInitialItems():this.renderVirtualizedList(e,t)}}var pr=Je(hr);function fr({state:r,options:e}){const t=mn(r,e),{y:n}=r.modifiersData.preventOverflow||{x:0,y:0},{height:o}=r.rects.popper,[l]=r.placement.split("-"),c=o-t[l==="top"?"top":"bottom"]-n;r.styles.popper=O({},r.styles.popper,{maxHeight:`${c}px`,"--popper-max-height":`${c}px`})}const mr={name:"maxHeight",enabled:!0,phase:"main",options:{padding:Z},requiresIfExists:["offset","preventOverflow","flip"],fn:fr},gr=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},mr],br=function({children:e,alignment:t="left",onPopperElement:n,referenceElement:o}){const l=Jo(o)||document.querySelector("body");return l?M.createPortal(s.createElement(fn,{innerRef:i=>{i&&n&&n(i)},referenceElement:o,strategy:"fixed",placement:t==="left"?"bottom-start":"bottom-end",modifiers:gr},({placement:i,ref:c,style:u,hasPopperEscaped:h,isReferenceHidden:p})=>{const y=!!(h||p);return s.createElement("div",{ref:c,style:u,"data-testid":"dropdown-popper","data-placement":i},e(y))}),l):null};function yr(r){return r.length===1||!/^[A-Z]/i.test(r)?r:""}function xr(r,e){let t;return function(...o){const l=()=>{clearTimeout(t),r(...o)};clearTimeout(t),t=setTimeout(l,e)}}function Ct(r){return typeof r=="string"}function pe(r){return Ct(r.label)?r.label:Ct(r.labelAsText)?r.labelAsText:""}const Sr=125,vr=P("span");class ze extends s.Component{static sameItemsFocusable(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n].focusable!==t[n].focusable)return!1;return!0}static getDerivedStateFromProps(e,t){if(t.itemRefs.length===0&&e.open||!ze.sameItemsFocusable(t.prevItems,e.items)){const n=[];for(let o=0;o<e.items.length;o++)if(e.items[o].focusable){const l=s.createRef();n.push({ref:l,originalIndex:o})}return{itemRefs:n,prevItems:e.items,sameItemsFocusable:!1}}else return{prevItems:e.items,sameItemsFocusable:!0}}constructor(e){super(e),this.focusedIndex=void 0,this.focusedOriginalIndex=void 0,this.itemsClicked=void 0,this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.searchFieldRef=s.createRef(),this.handleInteract=t=>{const{open:n,onOpenChanged:o}=this.props,l=t.target,i=M.findDOMNode(this);n&&i&&!i.contains(l)&&this.popperElement&&!this.popperElement.contains(l)&&o(!1)},this.handleKeyDown=t=>{const{enableTypeAhead:n,onOpenChanged:o,open:l,searchText:i}=this.props,c=t.which||t.keyCode;if(n&&yr(t.key)&&(t.stopPropagation(),this.textSuggestion+=t.key,this.handleKeyDownDebounced(this.textSuggestion)),!l){if(c===Q.down){t.preventDefault(),o(!0);return}return}switch(c){case Q.tab:if(this.isSearchFieldFocused()&&i)return;this.restoreTabOrder(),o(!1);return;case Q.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case Q.up:t.preventDefault(),this.focusPreviousItem();return;case Q.down:t.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=t=>{const{onOpenChanged:n,open:o}=this.props;switch(t.which||t.keyCode){case Q.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case Q.escape:o&&(t.stopPropagation(),this.restoreTabOrder(),n(!1));return}},this.handleKeyDownDebounceResult=t=>{const n=this.props.items.filter(o=>o.focusable).findIndex(({component:o})=>{if(K.isClassOf(o))return!1;if(ee.isClassOf(o)){const l=o.props;return pe(l).toLowerCase().startsWith(t.toLowerCase())}return!1});if(n>=0){const o=!this.props.open;o&&this.props.onOpenChanged(!0),this.focusedIndex=n,this.scheduleToFocusCurrentItem(l=>{this.props.selectionType==="single"&&o&&l&&(l.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=t=>{this.itemsClicked=!0,this.focusedIndex=t,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=t=>{t.nativeEvent.stopImmediatePropagation?t.nativeEvent.stopImmediatePropagation():t.stopPropagation()},this.handleItemClick=(t,n)=>{this.handleClickFocus(t),n.component.props.onClick&&n.component.props.onClick(),n.populatedProps.onClick&&n.populatedProps.onClick()},this.handleSearchTextChanged=t=>{const{onSearchTextChanged:n}=this.props;n&&n(t)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:O({noResults:L.noResults,someResults:L.someSelected},e.labels)},this.virtualizedListRef=s.createRef(),this.handleKeyDownDebounced=xr(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(e){const{open:t}=this.props;if(e.open!==t)this.updateEventListeners(),this.maybeFocusInitialItem();else if(t){const{itemRefs:n,sameItemsFocusable:o}=this.state;if(o)return;{const l=n.findIndex(i=>i.originalIndex===this.focusedOriginalIndex);l===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=l}this.props.labels!==e.labels&&this.setState({labels:O({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:e}=this.props;if(typeof e<"u")this.focusedIndex=e;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:e,open:t}=this.props;e&&(t?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):t||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(e){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(e)}):this.focusCurrentItem(e)}focusCurrentItem(e){const t=this.state.itemRefs[this.focusedIndex];if(t){this.virtualizedListRef.current&&this.virtualizedListRef.current.scrollToItem(t.originalIndex);const n=M.findDOMNode(t.ref.current);n&&(n.focus(),this.focusedOriginalIndex=t.originalIndex,e&&e(n))}}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.focusedIndex-=1;this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.focusedIndex+=1;this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:e}=this.props;switch(e){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${e}" instead.`)}}maybeRenderNoResults(){const{items:e,labels:{noResults:t}}=this.props;return e.length===0?s.createElement(N,{style:X.noResult,testId:"dropdown-core-no-results"},t):null}shouldVirtualizeList(){return this.props.items.length>Sr}renderList(){let e=0;const t=this.getItemRole();return this.props.items.map((n,o)=>{if(K.isClassOf(n.component))return n.component;const{component:l,focusable:i,populatedProps:c}=n;i&&(e+=1);const u=e-1,h=this.state.itemRefs[u]?this.state.itemRefs[u].ref:null;return s.cloneElement(l,O({},c,{key:o,onClick:()=>{this.handleItemClick(u,n)},ref:i?h:null,role:t}))})}parseVirtualizedItems(){let e=0;const t=this.getItemRole();return this.props.items.map((n,o)=>{!K.isClassOf(n.component)&&n.focusable&&(e+=1);const l=e-1;return O({},n,{role:t,ref:n.focusable&&this.state.itemRefs[l]?this.state.itemRefs[l].ref:null,onClick:()=>{this.handleItemClick(l,n)}})})}renderVirtualizedList(){const e=this.parseVirtualizedItems();return s.createElement(pr,{data:e,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:e}=this.props,{labels:t}=this.state;return s.createElement(mo,{clearAriaLabel:t.clearSearch,onChange:this.handleSearchTextChanged,placeholder:t.filter,ref:this.searchFieldRef,style:X.searchInputStyle,value:e||""})}renderDropdownMenu(e,t){const{"aria-invalid":n,"aria-required":o,dropdownStyle:l,isFilterable:i,light:c,openerElement:u,role:h}=this.props,p=u&&window.getComputedStyle(u),y=p?p.getPropertyValue("width"):0;return s.createElement(w,{onMouseUp:this.handleDropdownMouseUp,style:[X.dropdown,c&&X.light,t&&X.hidden,l],testId:"dropdown-core-container"},i&&this.renderSearchField(),s.createElement(w,{role:h,style:[X.listboxOrMenu,{minWidth:y}],"aria-invalid":h==="listbox"?n:void 0,"aria-required":h==="listbox"?o:void 0},e),this.maybeRenderNoResults())}renderDropdown(){const{alignment:e,openerElement:t}=this.props,n=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return s.createElement(br,{alignment:e,onPopperElement:o=>{this.popperElement=o},referenceElement:t},o=>this.renderDropdownMenu(n,o))}renderLiveRegion(){const{items:e,open:t}=this.props,{labels:n}=this.state,o=e.length;return s.createElement(vr,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:X.srOnly,"data-testid":"dropdown-live-region"},t&&n.someResults(o))}render(){const{open:e,opener:t,style:n,className:o}=this.props;return s.createElement(w,{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,style:[X.menuWrapper,n],className:o},this.renderLiveRegion(),t,e&&this.renderDropdown())}}ze.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:L.clearSearch,filter:L.filter,noResults:L.noResults,someResults:L.someSelected},light:!1,selectionType:"single"};const X=k.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:d.white,borderRadius:4,paddingTop:f.xxxSmall_4,paddingBottom:f.xxxSmall_4,border:`solid 1px ${d.offBlack16}`,boxShadow:`0px 8px 8px 0px ${hn(d.offBlack,.1)}`,maxHeight:"var(--popper-max-height)"},light:{border:"none"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:d.offBlack64,alignSelf:"center",marginTop:f.xxSmall_6},searchInputStyle:{margin:f.xSmall_8,marginTop:f.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var tt=Je(ze);const Cr=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],Ir=P("button");class wr extends s.Component{render(){const e=this.props,{children:t,disabled:n,focused:o,hovered:l,pressed:i,testId:c,opened:u,"aria-label":h}=e,p=le(e,Cr),y=d.blue,b=Er(y),x=n,S=[je.shared,x&&je.disabled,b.default,x&&b.disabled,!x&&i&&b.active],a=s.createElement(sn,{style:je.text},t);return s.createElement(Ir,O({"aria-expanded":u?"true":"false","aria-haspopup":"menu","aria-label":h,disabled:x,style:S,type:"button"},p,{"data-testid":c}),s.createElement(w,{style:!x&&(l||o)&&b.focus},a),s.createElement(F,{size:f.xxxSmall_4}),s.createElement(re,{size:"small",color:"currentColor",icon:Vt,"aria-hidden":"true"}))}}const je=k.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:Z,border:"none",borderRadius:f.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"auto"},small:{height:f.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"}}),Ee={},Er=r=>{const e=r;if(Ee[e])return Ee[e];const{offBlack32:t}=d,n=d.activeBlue;let o={};return o={default:{background:"none",color:r},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:2}},active:{color:n},disabled:{color:t,cursor:"default"}},Ee[e]=k.StyleSheet.create(o),Ee[e]},kr=["text","opened"];class _r extends s.Component{constructor(...e){super(...e),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=t=>{this.setState({opened:t}),this.props.onToggle&&this.props.onToggle(t)},this.handleOptionSelected=t=>{const{onChange:n,selectedValues:o}=this.props;if(!(!n||!o)){if(o.includes(t)){const l=o.indexOf(t),i=[...o.slice(0,l),...o.slice(l+1)];n(i)}else n([...o,t]);this.handleItemSelected()}},this.handleOpenerRef=t=>{this.openerElement=M.findDOMNode(t)},this.handleClick=t=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(e,t){return{opened:typeof e.opened=="boolean"?e.opened:t.opened}}getMenuItems(){const{children:e,selectedValues:t}=this.props,n=s.Children.toArray(e).filter(Boolean),o=n.some(l=>ee.isClassOf(l));return n.map(l=>{const{value:i,disabled:c}=l.props,u={component:l,focusable:oe.isClassOf(l)||ee.isClassOf(l)?!c:!1,populatedProps:{}};return oe.isClassOf(l)?O({},u,{populatedProps:{indent:o,onClick:this.handleItemSelected}}):ee.isClassOf(l)?O({},u,{populatedProps:{onToggle:this.handleOptionSelected,selected:t?t.includes(i):!1,variant:"check"}}):u})}renderOpener(e){const{disabled:t,menuText:n,opener:o,testId:l}=this.props;return s.createElement(De,{onClick:this.handleClick,disabled:e===0||t,text:n,ref:this.handleOpenerRef,testId:o?void 0:l,opened:this.state.opened},o||(i=>{const{opened:c}=i,u=le(i,kr);return s.createElement(wr,O({},u,{disabled:t,opened:!!c,testId:l}),n)}))}render(){const{alignment:e,dropdownStyle:t,style:n,className:o}=this.props,l=this.getMenuItems(),i=this.renderOpener(l.length);return s.createElement(tt,{role:"menu",style:n,className:o,opener:i,alignment:e,open:this.state.opened,items:l,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[Or.menuTopSpace,t]})}}_r.defaultProps={alignment:"left",disabled:!1};const Or=k.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),Rr=["children","disabled","error","id","isPlaceholder","light","open","testId","onOpenChanged"],Tr=P("button");class nt extends s.Component{constructor(...e){super(...e),this.handleClick=t=>{const{open:n}=this.props;this.props.onOpenChanged(!n)}}renderClickableBehavior(e){const t=this.props,{children:n,disabled:o,error:l,id:i,isPlaceholder:c,light:u,open:h,testId:p}=t,y=le(t,Rr),b=dn(e);return s.createElement(b,{disabled:o,onClick:this.handleClick},(x,S)=>{const a=$r(u,c,l),{hovered:m,focused:g,pressed:v}=x,C=u?o||v?"currentColor":d.white:o?d.offBlack32:d.offBlack64,E=[Ue.shared,a.default,o&&a.disabled,!o&&(v?a.active:(m||g)&&a.focus)];return s.createElement(Tr,O({},y,{"aria-expanded":h?"true":"false","aria-haspopup":"listbox","data-testid":p,disabled:o,id:i,style:E,type:"button"},S),s.createElement(N,{style:Ue.text},n||""),s.createElement(re,{icon:Vt,color:C,size:"small",style:Ue.caret,"aria-hidden":"true"}))})}render(){return s.createElement(xn.Consumer,null,e=>this.renderClickableBehavior(e))}}nt.defaultProps={disabled:!1,error:!1,light:!1,isPlaceholder:!1};const Ue=k.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:d.offBlack,height:Z,paddingLeft:f.medium_16,paddingRight:f.small_12,borderWidth:0,borderRadius:J.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:f.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),ke=f.medium_16-1,_e=f.small_12-1,Oe={},$r=(r,e,t)=>{const n=`${r}-${e}-${t}`;if(Oe[n])return Oe[n];let o={};return r?o={default:{background:t?d.fadedRed8:"transparent",color:e?d.white50:d.white,borderColor:t?d.red:d.white50,borderWidth:J.width.hairline},focus:{borderColor:t?d.fadedRed8:d.white,borderWidth:f.xxxxSmall_2,paddingLeft:ke,paddingRight:_e},active:{paddingLeft:ke,paddingRight:_e,borderColor:t?d.red:d.fadedBlue,borderWidth:J.width.thin,color:e?U(d.white32,d.blue):d.fadedBlue,backgroundColor:t?d.fadedRed:d.activeBlue},disabled:{background:"transparent",borderColor:U(d.white32,d.blue),color:U(d.white32,d.blue),cursor:"auto"}}:o={default:{background:t?d.fadedRed8:d.white,borderColor:t?d.red:d.offBlack16,borderWidth:J.width.hairline,color:e?d.offBlack64:d.offBlack},focus:{borderColor:t?d.red:d.blue,borderWidth:J.width.thin,paddingLeft:ke,paddingRight:_e},active:{background:t?d.fadedRed:d.fadedBlue,borderColor:t?d.red:d.activeBlue,borderWidth:J.width.thin,paddingLeft:ke,paddingRight:_e},disabled:{background:d.offWhite,borderColor:d.offBlack16,color:d.offBlack64,cursor:"auto"}},Oe[n]=k.StyleSheet.create(o),Oe[n]},Fr=["children","disabled","error","id","light","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-invalid","aria-required"];class Gt extends s.Component{constructor(e){super(e),this.selectedIndex=void 0,this.handleOpenChanged=t=>{this.setState({open:t,searchText:""}),this.props.onToggle&&this.props.onToggle(t)},this.handleToggle=t=>{t!==this.props.selectedValue&&this.props.onChange(t),this.state.open&&this.state.openerElement&&this.state.openerElement.focus(),this.setState({open:!1}),this.props.onToggle&&this.props.onToggle(!1)},this.mapOptionItemsToDropdownItems=t=>{let n=0;return this.selectedIndex=0,t.map(o=>{const{selectedValue:l}=this.props,{disabled:i,value:c}=o.props,u=l===c;return u&&(this.selectedIndex=n),i||(n+=1),{component:o,focusable:!i,populatedProps:{onToggle:this.handleToggle,selected:u,variant:"check"}}})},this.handleSearchTextChanged=t=>{this.setState({searchText:t})},this.handleOpenerRef=t=>{const n=M.findDOMNode(t);this.setState({openerElement:n})},this.handleClick=t=>{this.handleOpenChanged(!this.state.open)},this.selectedIndex=0,this.state={open:!1,searchText:""}}static getDerivedStateFromProps(e,t){return{open:typeof e.opened=="boolean"?e.opened:t.open}}filterChildren(e){const{searchText:t}=this.state,n=t.toLowerCase();return e.filter(({props:o})=>!t||pe(o).toLowerCase().indexOf(n)>-1)}getMenuItems(e){const{isFilterable:t}=this.props;return this.mapOptionItemsToDropdownItems(t?this.filterChildren(e):e)}renderOpener(e){const t=this.props,{children:n,disabled:o,error:l,id:i,light:c,opener:u,placeholder:h,selectedValue:p,testId:y}=t,b=le(t,Fr),S=s.Children.toArray(n).find(g=>g.props.value===p),a=S?pe(S.props):h;return u?s.createElement(De,{onClick:this.handleClick,disabled:e===0||o,ref:this.handleOpenerRef,text:a,opened:this.state.open},u):s.createElement(nt,O({},b,{disabled:e===0||o,id:i,error:l,isPlaceholder:!S,light:c,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:y}),a)}render(){const{alignment:e,autoFocus:t,children:n,className:o,dropdownStyle:l,enableTypeAhead:i,isFilterable:c,labels:u,light:h,style:p,"aria-invalid":y,"aria-required":b}=this.props,{searchText:x}=this.state,S=s.Children.toArray(n).filter(Boolean),a=this.getMenuItems(S),m=this.renderOpener(S.length);return s.createElement(tt,{role:"listbox",selectionType:"single",alignment:e,autoFocus:t,enableTypeAhead:i,dropdownStyle:[c&&jt,qt,l],initialFocusedIndex:this.selectedIndex,items:a,light:h,onOpenChanged:this.handleOpenChanged,open:this.state.open,opener:m,openerElement:this.state.openerElement,style:p,className:o,isFilterable:c,onSearchTextChanged:c?this.handleSearchTextChanged:void 0,searchText:c?x:"",labels:u,"aria-invalid":y,"aria-required":b})}}Gt.defaultProps={alignment:"left",autoFocus:!0,disabled:!1,enableTypeAhead:!0,error:!1,light:!1,labels:{clearSearch:L.clearSearch,filter:L.filter,noResults:L.noResults,someResults:L.someSelected}};const Mr=["disabled","id","light","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-invalid","aria-required"];class Yt extends s.Component{constructor(e){super(e),this.labels=void 0,this.handleOpenChanged=t=>{this.setState({open:t,searchText:"",lastSelectedValues:this.props.selectedValues}),this.props.onToggle&&this.props.onToggle(t)},this.handleToggle=t=>{const{onChange:n,selectedValues:o}=this.props;if(o.includes(t)){const l=o.indexOf(t),i=[...o.slice(0,l),...o.slice(l+1)];n(i)}else n([...o,t])},this.handleSelectAll=()=>{const{children:t,onChange:n}=this.props,l=s.Children.toArray(t).filter(i=>!!i&&!i.props.disabled).map(i=>i.props.value);n(l)},this.handleSelectNone=()=>{const{onChange:t}=this.props;t([])},this.mapOptionItemToDropdownItem=t=>{const{selectedValues:n}=this.props,{disabled:o,value:l}=t.props;return{component:t,focusable:!o,populatedProps:{onToggle:this.handleToggle,selected:n.includes(l),variant:"checkbox"}}},this.handleOpenerRef=t=>{const n=M.findDOMNode(t);this.setState({openerElement:n})},this.handleSearchTextChanged=t=>{this.setState({searchText:t})},this.handleClick=t=>{this.handleOpenChanged(!this.state.open)},this.state={open:!1,searchText:"",lastSelectedValues:[],labels:O({},L,e.labels)},this.labels=O({},L,e.labels)}static getDerivedStateFromProps(e,t){return{open:typeof e.opened=="boolean"?e.opened:t.open}}componentDidUpdate(e){this.props.labels!==e.labels&&this.setState({labels:O({},this.state.labels,this.props.labels)})}getMenuText(e){const{implicitAllEnabled:t,selectedValues:n}=this.props,{noneSelected:o,someSelected:l,allSelected:i}=this.state.labels,c=e.filter(h=>!h.props.disabled).length,u=t?i:o;switch(n.length){case 0:return u;case 1:const h=e.find(p=>p.props.value===n[0]);if(h){const p=pe(h==null?void 0:h.props);return p||l(1)}return u;case c:return i;default:return l(n.length)}}getShortcuts(e){const{selectedValues:t,shortcuts:n}=this.props,{selectAllLabel:o,selectNoneLabel:l}=this.state.labels;if(n&&!this.state.searchText){const i=e===t.length,c={component:s.createElement(oe,{disabled:i,label:o(e),indent:!0,onClick:this.handleSelectAll}),focusable:!i,populatedProps:{}},u=t.length===0,h={component:s.createElement(oe,{disabled:u,label:l,indent:!0,onClick:this.handleSelectNone}),focusable:!u,populatedProps:{}},p={component:s.createElement(K,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[c,h,p]}else return[]}getMenuItems(e){const{isFilterable:t}=this.props;if(!t)return e.map(this.mapOptionItemToDropdownItem);const{searchText:n,lastSelectedValues:o}=this.state,l=n.toLowerCase(),i=e.filter(({props:p})=>!n||pe(p).toLowerCase().indexOf(l)>-1),c=[],u=[];for(const p of i)o.includes(p.props.value)?c.push(p):u.push(p);const h=c.map(this.mapOptionItemToDropdownItem);return c.length&&u.length&&h.push({component:s.createElement(K,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...h,...u.map(this.mapOptionItemToDropdownItem)]}renderOpener(e){const t=this.props,{disabled:n,id:o,light:l,opener:i,testId:c}=t,u=le(t,Mr),{noneSelected:h}=this.state.labels,p=this.getMenuText(e),y=e.filter(x=>!x.props.disabled).length;return i?s.createElement(De,{onClick:this.handleClick,disabled:y===0||n,ref:this.handleOpenerRef,text:p,opened:this.state.open},i):s.createElement(nt,O({},u,{disabled:y===0||n,id:o,isPlaceholder:p===h,light:l,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:c}),p)}render(){const{alignment:e,light:t,style:n,className:o,dropdownStyle:l,children:i,isFilterable:c,"aria-invalid":u,"aria-required":h}=this.props,{open:p,searchText:y}=this.state,{clearSearch:b,filter:x,noResults:S,someSelected:a}=this.state.labels,m=s.Children.toArray(i).filter(Boolean),g=m.filter(E=>!E.props.disabled).length,v=this.getMenuItems(m),C=this.renderOpener(m);return s.createElement(tt,{role:"listbox",alignment:e,dropdownStyle:[c&&jt,qt,l],isFilterable:c,items:[...this.getShortcuts(g),...v],light:t,onOpenChanged:this.handleOpenChanged,open:p,opener:C,openerElement:this.state.openerElement,selectionType:"multi",style:n,className:o,onSearchTextChanged:c?this.handleSearchTextChanged:void 0,searchText:c?y:"",labels:{clearSearch:b,filter:x,noResults:S,someResults:a},"aria-invalid":u,"aria-required":h})}}Yt.defaultProps={alignment:"left",disabled:!1,error:!1,light:!1,shortcuts:!1,selectedValues:[]};k.StyleSheet.create({listbox:{outline:"none"},disabled:{color:d.offBlack64}});const Lr=r=>{const{strings:e}=Sn(),t=h=>{const{choices:p,onChange:y}=r;y(p.map(b=>h.includes(b.content)))},n=h=>h.map(({content:p})=>be(ee,{value:p,label:be(vn,{content:p,strings:e,inline:!0})},p)),o=r.choices.filter(h=>h.checked).map(h=>h.content),{opener:l,onToggle:i,disabled:c}=r,u={style:{zIndex:"unset"},children:n(r.choices),opener:l,onToggle:i,disabled:c};return r.multipleSelect?be(Yt,{...u,selectedValues:o,onChange:h=>t(h)}):be(Gt,{...u,selectedValue:o[0],onChange:h=>t([h]),placeholder:r.choices[0].content})};Lr.__docgenInfo={description:"",methods:[],displayName:"AnswerChoices",props:{choices:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"signature",type:"object",raw:`{
    // The answer string, can be plain text or a TeX expression.
    content: string;
    // Whether the answer is selected.
    checked: boolean;
}`,signature:{properties:[{key:"content",value:{name:"string",required:!0}},{key:"checked",value:{name:"boolean",required:!0}}]}}],raw:"ReadonlyArray<AnswerType>"},description:""},multipleSelect:{required:!0,tsType:{name:"boolean"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selection: ReadonlyArray<boolean>) => void",signature:{arguments:[{type:{name:"ReadonlyArray",elements:[{name:"boolean"}],raw:"ReadonlyArray<boolean>"},name:"selection"}],return:{name:"void"}}},description:""},opener:{required:!0,tsType:{name:'SingleSelect["props"]["opener"]',raw:'SingleSelect["props"]["opener"]'},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(opened: boolean) => unknown",signature:{arguments:[{type:{name:"boolean"},name:"opened"}],return:{name:"unknown"}}},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""}}};export{Lr as A,ee as O,Gt as S,_r as a,oe as b,Vt as c};
