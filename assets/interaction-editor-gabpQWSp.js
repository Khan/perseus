import{c as p}from"./all-widgets-VckdNShu.js";import"./phet-simulation-2fci0qCu.js";import{_ as s}from"./underscore-885MUNGo.js";import{B as J}from"./random-util-9WQRKwFZ.js";import{a as d,g as $}from"./dependencies-CP7Uh8Kq.js";import"./perseus-api-Y55S7ZPk.js";import"./server-item-renderer-dsat1eWr.js";import"./article-renderer-QTjNbpsj.js";import"./hints-renderer-goFU3zk6.js";import"./renderer-Hg-eJGH1.js";import"./base-radio-j3azDPVf.js";import"./button-group-f5V3tSn8.js";import{K as o}from"./svg-image-JxxWp2z_.js";import"./hud-VpTa1tZ-.js";import"./icon-H34hvC3Q.js";import"./index-3j9EmwNK.js";import"./inline-icon-8e4u-lSW.js";import"./math-input-yZmr0Xp5.js";import"./multi-button-group-7ejnk4_z.js";import"./number-input-numpZFNM.js";import"./range-input-oo-uLot_.js";import"./text-input-ebI7LPno.js";import"./text-list-editor-9dKImvgD.js";import"./i18n-context-Q5gDzbF3.js";import{U as H}from"./util-ghoLYzZ7.js";import"./jquery-5v7aFUvu.js";import"./index-smZ6iCr_.js";import{E as h}from"./editor-jsonify-HGNvnSfd.js";import{r as e}from"./index-6oxdNXpR.js";import{G as K}from"./graph-settings-1FDvGIPR.js";import{c}from"./components-tx96aJ2k.js";import{c as j,i as Q}from"./icon-paths-5JCXzGsq.js";import{f as Z,b as ee,a as te}from"./icon-paths-naSxOxXw.js";import"./prop-types-t0ye67cP.js";import{c as ne}from"./key-translator-EIMtrehS.js";import"./mobile-keypad-foB3djbo.js";import{u as ae}from"./button-assets-ajsTMsvG.js";import{V as se}from"./index-hw7d7wq0.js";import{c as W}from"./index-zRqVZh6A.js";import{n as re}from"./no-important-xCWWYXQR.js";const{InlineIcon:v}=c,D=class D extends e.Component{constructor(t){super(t),this.toggle=n=>{n.preventDefault(),this.setState({show:!this.state.show})},this.state={show:t.initiallyVisible}}render(){return e.createElement("div",{className:"perseus-interaction-element"},e.createElement("a",{href:"#",className:"perseus-interaction-element-title "+(this.state.show?"open":"closed"),onClick:this.toggle},this.state.show?e.createElement(v,{...j}):e.createElement(v,{...Z}),this.props.title),e.createElement("div",{className:"perseus-interaction-element-content "+(this.state.show?"enter":"leave")},this.props.children,(this.props.onUp!=null||this.props.onDown!=null||this.props.onDelete!=null)&&e.createElement("div",{className:"edit-controls"},this.props.onUp!=null&&e.createElement("button",{onClick:this.props.onUp},e.createElement(v,{...ee})),this.props.onDown!=null&&e.createElement("button",{onClick:this.props.onDown},e.createElement(v,{...te})),this.props.onDelete!=null&&e.createElement("button",{onClick:this.props.onDelete},e.createElement(v,{...Q})))))}};D.defaultProps={initiallyVisible:!1,title:"More"};let u=D;u.__docgenInfo={description:"",methods:[{name:"toggle",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent",alias:"React.SyntheticEvent"}}],returns:null}],displayName:"ElementContainer",props:{children:{required:!0,tsType:{name:"union",raw:"React.ReactElement<any> | ReadonlyArray<React.ReactElement<any>>",elements:[{name:"ReactReactElement",raw:"React.ReactElement<any>",elements:[{name:"any"}]},{name:"ReadonlyArray",elements:[{name:"ReactReactElement",raw:"React.ReactElement<any>",elements:[{name:"any"}]}],raw:"ReadonlyArray<React.ReactElement<any>>"}]},description:""},initiallyVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | null | undefined",signature:{arguments:[],return:{name:"union",raw:"void | null | undefined",elements:[{name:"void"},{name:"null"},{name:"undefined"}]}}},description:""},onDown:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | null | undefined",signature:{arguments:[],return:{name:"union",raw:"void | null | undefined",elements:[{name:"void"},{name:"null"},{name:"undefined"}]}}},description:""},onUp:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | null | undefined",signature:{arguments:[],return:{name:"union",raw:"void | null | undefined",elements:[{name:"void"},{name:"null"},{name:"undefined"}]}}},description:""},title:{required:!1,tsType:{name:"union",raw:"string | React.ReactElement<any>",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement<any>",elements:[{name:"any"}]}]},description:"",defaultValue:{value:'"More"',computed:!1}}}};const{ButtonGroup:le}=c,ie=[o.BLACK,o.BLUE,o.GREEN,o.PINK,o.PURPLE,o.RED,o.GRAY],oe=[o.LIGHT_BLUE,o.LIGHT_ORANGE,o.LIGHT_PINK,o.LIGHT_GREEN,o.LIGHT_PURPLE,o.LIGHT_RED,"#fff"],X=class X extends e.Component{render(){const t=this.props.lightColors?oe:ie;return e.createElement(le,{value:this.props.value,allowEmpty:!1,buttons:s.map(t,n=>({value:n,content:e.createElement("span",null,e.createElement("span",{className:"colorpicker-circle",style:{background:n}})," ")})),onChange:this.props.onChange})}};X.defaultProps={value:o.BLACK,lightColors:!1};let m=X;m.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{lightColors:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"black"',computed:!1}}}};const{ButtonGroup:ue}=c,M=class M extends e.Component{render(){return e.createElement(ue,{value:this.props.value,allowEmpty:!1,buttons:[{value:"",content:e.createElement("span",null,"—")},{value:"-",content:e.createElement("span",null,"–––")},{value:"- ",content:e.createElement("span",null,"–  –")},{value:".",content:e.createElement("span",null,"····")},{value:". ",content:e.createElement("span",null,"· · ·")}],onChange:this.props.onChange})}};M.defaultProps={value:""};let g=M;g.__docgenInfo={description:"",methods:[],displayName:"DashPicker",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};function r(O){const t=e.useRef(null),n=e.useRef(),{locale:a,strings:i}=ae();return e.useEffect(()=>{t.current&&!n.current&&(n.current=ne(t.current,a,i,l=>({...l,handlers:{edit:f=>{let x=f.latex();x=x.replace(/<>/g,"\\ne"),O.value!==x&&O.onChange(x)},upOutOf:f=>{f.typedText("^")}}})))}),e.createElement(se,{style:ce.outerWrapper},e.createElement("span",{ref:t,className:"perseus-math-input mq-editable-field mq-math-mode"}))}const ce=re.StyleSheet.create({outerWrapper:{display:"inline-block",borderStyle:"solid",borderWidth:1,borderColor:W.offBlack50,borderRadius:3,background:W.white}});r.__docgenInfo={description:`A simple Mathquill MathField input for the InteractionEditor.
Unlike our other uses of Mathquill, we're not using a keypad here;
it's just the input itself for use writing TeX.`,methods:[],displayName:"MathquillInput",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};const{NumberInput:pe}=c,{getDependencies:me}=d,R=class R extends e.Component{constructor(){super(...arguments),this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}render(){const{TeX:t}=me();return e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},e.createElement(t,null,this.props.funcName+"(x)=")," ",e.createElement(r,{value:this.props.value,onChange:this.change("value")})),e.createElement("div",{className:"perseus-widget-row"},"Range: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.rangeMin,onChange:this.change("rangeMin")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.rangeMax,onChange:this.change("rangeMax")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},e.createElement(m,{value:this.props.color,onChange:this.change("color")})),e.createElement("div",{className:"perseus-widget-row"},e.createElement(g,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")})),e.createElement("div",{className:"perseus-widget-row"},e.createElement("div",{className:"perseus-widget-left-col"},"Width:"," ",e.createElement(pe,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")}))))}};R.defaultProps={value:"x",rangeMin:"-10",rangeMax:"10",color:o.BLUE,strokeDasharray:"",strokeWidth:2};let E=R;E.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FunctionEditor",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"x"',computed:!1}},rangeMin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-10"',computed:!1}},rangeMax:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"10"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"color.blue",computed:!0}},strokeDasharray:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}}}};const{TextInput:de}=c,{getDependencies:he}=d,Y=class Y extends e.Component{constructor(){super(...arguments),this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}render(){const{TeX:t}=he();return e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},e.createElement(de,{value:this.props.label,onChange:this.change("label"),style:{width:"100%"}})),e.createElement("div",{className:"perseus-widget-row"},"Location: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.coordX,onChange:this.change("coordX")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.coordY,onChange:this.change("coordY")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},e.createElement(m,{value:this.props.color,onChange:this.change("color")})))}};Y.defaultProps={coordX:"0",coordY:"0",color:o.BLACK,label:"\\phi"};let y=Y;y.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LabelEditor",props:{color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"black"',computed:!1}},coordX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},coordY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},label:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"\\\\phi"',computed:!1}}}};const{ButtonGroup:ge}=c,L=class L extends e.Component{render(){return e.createElement(ge,{value:this.props.value,allowEmpty:!1,buttons:[{value:"",content:e.createElement("span",null,"—")},{value:"->",content:e.createElement("span",null,"→")}],onChange:this.props.onChange})}};L.defaultProps={value:""};let V=L;V.__docgenInfo={description:"",methods:[],displayName:"ArrowPicker",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};const{NumberInput:fe}=c,{getDependencies:ve}=d,I=class I extends e.Component{constructor(){super(...arguments),this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}render(){const{TeX:t}=ve();return e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},"Start: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.startX,onChange:this.change("startX")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.startY,onChange:this.change("startY")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},"End: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.endX,onChange:this.change("endX")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.endY,onChange:this.change("endY")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},e.createElement(m,{value:this.props.color,onChange:this.change("color")})),e.createElement("div",{className:"perseus-widget-row"},e.createElement(g,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")}),"   ",e.createElement(V,{value:this.props.arrows,onChange:this.change("arrows")})),e.createElement("div",{className:"perseus-widget-row"},e.createElement("div",{className:"perseus-widget-left-col"},"Width:"," ",e.createElement(fe,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")}))))}};I.defaultProps={startX:"-5",startY:"5",endX:"5",endY:"5",color:o.BLACK,strokeDasharray:"",arrows:"",strokeWidth:2};let w=I;w.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LineEditor",props:{startX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-5"',computed:!1}},startY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},endX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},endY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"black"',computed:!1}},strokeDasharray:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},arrows:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}}}};const{ButtonGroup:Ee,NumberInput:ye}=c,A=class A extends e.Component{constructor(){super(...arguments),this.change=t=>p.call(this,t)}render(){const{TeX:t}=$();return e.createElement("div",null,e.createElement("div",{className:"perseus-widget-row"},"Constraint:"," ",e.createElement(Ee,{value:this.props.constraint,allowEmpty:!1,buttons:[{value:"none",content:"None"},{value:"snap",content:"Snap"},{value:"x",content:"x="},{value:"y",content:"y="}],onChange:this.change("constraint")})),this.props.constraint==="snap"&&e.createElement("div",{className:"perseus-widget-row"},"Snap:"," ",e.createElement(ye,{value:this.props.snap,placeholder:0,onChange:this.change("snap")})),this.props.constraint==="x"&&e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},e.createElement(t,null,"x=")," ",e.createElement(r,{value:this.props.constraintFn,onChange:this.change("constraintFn")}))),this.props.constraint==="y"&&e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},e.createElement(t,null,"y=")," ",e.createElement(r,{value:this.props.constraintFn,onChange:this.change("constraintFn")}))),"Ensure these are set so nothing can be dragged off the canvas:",e.createElement("div",{className:"perseus-widget-row"},e.createElement("div",{className:"perseus-widget-row"},e.createElement(t,null,"x \\in \\Large[")," ",e.createElement(r,{value:this.props.constraintXMin,onChange:this.change("constraintXMin")}),e.createElement(t,null,", ")," ",e.createElement(r,{value:this.props.constraintXMax,onChange:this.change("constraintXMax")})," ",e.createElement(t,null,"\\Large]"))),e.createElement("div",{className:"perseus-widget-row"},e.createElement("div",{className:"perseus-widget-row"},e.createElement(t,null,"y \\in \\Large[")," ",e.createElement(r,{value:this.props.constraintYMin,onChange:this.change("constraintYMin")}),e.createElement(t,null,", ")," ",e.createElement(r,{value:this.props.constraintYMax,onChange:this.change("constraintYMax")})," ",e.createElement(t,null,"\\Large]"))))}};A.defaultProps={constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"};let b=A;b.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"propName",optional:!1,type:{name:"string"}}],returns:{type:{name:"unknown"}}}],displayName:"ConstraintEditor",props:{constraint:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"none"',computed:!1}},constraintFn:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},constraintXMax:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"10"',computed:!1}},constraintXMin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-10"',computed:!1}},constraintYMax:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"10"',computed:!1}},constraintYMin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-10"',computed:!1}},snap:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};const{NumberInput:B}=c,{getDependencies:we}=d,U=class U extends e.Component{constructor(){super(...arguments),this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}render(){const{TeX:t}=we();return e.createElement("div",{className:"graph-settings"},"Initial position:",e.createElement("div",{className:"perseus-widget-row"},"Start: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.startX,onChange:this.change("startX")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.startY,onChange:this.change("startY")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},"End: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.endX,onChange:this.change("endX")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.endY,onChange:this.change("endY")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},"Start updates ",e.createElement(t,null,"(x_n, y_n)")," for ",e.createElement(t,null,"n ="),e.createElement(B,{value:this.props.startSubscript,placeholder:0,onChange:this.change("startSubscript")})),e.createElement("div",{className:"perseus-widget-row"},"End updates ",e.createElement(t,null,"(x_m, y_m)")," for ",e.createElement(t,null,"m ="),e.createElement(B,{value:this.props.endSubscript,placeholder:0,onChange:this.change("endSubscript")})),e.createElement("div",{className:"perseus-widget-row"},"All constraints are applied to the start point."),e.createElement(b,{...this.props}))}};U.defaultProps={startX:"-5",startY:"5",endX:"5",endY:"5",constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"};let N=U;N.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MovableLineEditor",props:{startX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-5"',computed:!1}},startY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},endX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},endY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},constraint:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"none"',computed:!1}},snap:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}},constraintFn:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},startSubscript:{required:!0,tsType:{name:"number"},description:""},endSubscript:{required:!0,tsType:{name:"number"},description:""},constraintXMin:{defaultValue:{value:'"-10"',computed:!1},required:!1},constraintXMax:{defaultValue:{value:'"10"',computed:!1},required:!1},constraintYMin:{defaultValue:{value:'"-10"',computed:!1},required:!1},constraintYMax:{defaultValue:{value:'"10"',computed:!1},required:!1}}};const{NumberInput:be}=c,{getDependencies:Ne}=d,P=class P extends e.Component{constructor(){super(...arguments),this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}render(){const{TeX:t}=Ne();return e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},"Start: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.startX,onChange:this.change("startX")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.startY,onChange:this.change("startY")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},"Update ",e.createElement(t,null,"(x_n, y_n)")," for ",e.createElement(t,null,"n =")," ",e.createElement(be,{value:this.props.varSubscript,placeholder:0,onChange:this.change("varSubscript")})),e.createElement(b,{...this.props}))}};P.defaultProps={startX:"0",startY:"0",constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"};let C=P;C.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MovablePointEditor",props:{startX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},startY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},constraint:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"none"',computed:!1}},snap:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}},constraintFn:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},varSubscript:{required:!0,tsType:{name:"number"},description:""},constraintXMin:{defaultValue:{value:'"-10"',computed:!1},required:!1},constraintXMax:{defaultValue:{value:'"10"',computed:!1},required:!1},constraintYMin:{defaultValue:{value:'"-10"',computed:!1},required:!1},constraintYMax:{defaultValue:{value:'"10"',computed:!1},required:!1}}};const{NumberInput:Ce}=c,{getDependencies:ke}=d,z=class z extends e.Component{constructor(){super(...arguments),this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}render(){const{TeX:t}=ke();return e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},e.createElement(t,null,"X(t) =")," ",e.createElement(r,{value:this.props.x,onChange:this.change("x")})),e.createElement("div",{className:"perseus-widget-row"},e.createElement(t,null,"Y(t) =")," ",e.createElement(r,{value:this.props.y,onChange:this.change("y")})),e.createElement("div",{className:"perseus-widget-row"},"Range: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.rangeMin,onChange:this.change("rangeMin")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.rangeMax,onChange:this.change("rangeMax")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},e.createElement(m,{value:this.props.color,onChange:this.change("color")})),e.createElement("div",{className:"perseus-widget-row"},e.createElement(g,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")})),e.createElement("div",{className:"perseus-widget-row"},e.createElement("div",{className:"perseus-widget-left-col"},"Width:"," ",e.createElement(Ce,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")}))))}};z.defaultProps={x:"cos(t)",y:"sin(t)",rangeMin:"0",rangeMax:"2\\pi",color:o.BLUE,strokeDasharray:"",strokeWidth:2};let k=z;k.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ParametricEditor",props:{x:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"cos(t)"',computed:!1}},y:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"sin(t)"',computed:!1}},rangeMin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},rangeMax:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"2\\\\pi"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"color.blue",computed:!0}},strokeDasharray:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}}}};const{getDependencies:Te}=d,G=class G extends e.Component{constructor(){super(...arguments),this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}render(){const{TeX:t}=Te();return e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},"Coordinate: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.coordX,onChange:this.change("coordX")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.coordY,onChange:this.change("coordY")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},e.createElement(m,{value:this.props.color,onChange:this.change("color")})))}};G.defaultProps={coordX:"0",coordY:"0",color:o.BLACK};let T=G;T.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PointEditor",props:{coordX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},coordY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"black"',computed:!1}}}};const{getDependencies:qe}=d,F=class F extends e.Component{constructor(){super(...arguments),this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}render(){const{TeX:t}=qe();return e.createElement("div",{className:"graph-settings"},e.createElement("div",{className:"perseus-widget-row"},"Bottom left: ",e.createElement(t,null,"\\Large("),e.createElement(r,{value:this.props.coordX,onChange:this.change("coordX")}),e.createElement(t,null,",")," ",e.createElement(r,{value:this.props.coordY,onChange:this.change("coordY")}),e.createElement(t,null,"\\Large)")),e.createElement("div",{className:"perseus-widget-row"},"Width:"," ",e.createElement(r,{value:this.props.width,onChange:this.change("width")})),e.createElement("div",{className:"perseus-widget-row"},"Height:"," ",e.createElement(r,{value:this.props.height,onChange:this.change("height")})),e.createElement("div",{className:"perseus-widget-row"},e.createElement(m,{value:this.props.color,lightColors:!0,onChange:this.change("color")})),e.createElement("div",{className:"perseus-widget-row"},"You want a border? Sorry, draw your own."))}};F.defaultProps={coordX:"-5",coordY:"5",width:"2",height:"3",color:o.LIGHT_BLUE};let q=F;q.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RectangleEditor",props:{color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"#9AB8ED"',computed:!1}},coordX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-5"',computed:!1}},coordY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},height:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"3"',computed:!1}},width:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"2"',computed:!1}}}};const{getDependencies:xe}=d,{unescapeMathMode:Ve}=H,_=class _ extends e.Component{constructor(){super(...arguments),this.state={usedVarSubscripts:this._getAllVarSubscripts(this.props.elements),usedFunctionNames:this._getAllFunctionNames(this.props.elements)},this._updateGraphProps=t=>{this.change({graph:s.extend(s.omit(t,"step"),{tickStep:t.step})})},this._addNewElement=t=>{const n=t.target.value;if(n==="")return;t.target.value="";const a={type:n,key:n+"-"+(Math.random()*16777215<<0).toString(16),options:n==="point"?s.clone(T.defaultProps):n==="line"?s.clone(w.defaultProps):n==="movable-point"?s.clone(C.defaultProps):n==="movable-line"?s.clone(N.defaultProps):n==="function"?s.clone(E.defaultProps):n==="parametric"?s.clone(k.defaultProps):n==="label"?s.clone(y.defaultProps):n==="rectangle"?s.clone(q.defaultProps):{}};let i;if(n==="movable-point")i=s.max([s.max(this.state.usedVarSubscripts),-1])+1,a.options.varSubscript=i;else if(n==="movable-line")i=s.max([s.max(this.state.usedVarSubscripts),-1])+1,a.options.startSubscript=i,a.options.endSubscript=i+1;else if(n==="function"){const l=String.fromCharCode(s.max([s.max(s.map(this.state.usedFunctionNames,function(f){return f.charCodeAt(0)})),101])+1);a.options.funcName=l}this.change({elements:this.props.elements.concat(a)})},this._deleteElement=t=>{const n=this.props.elements[t];this.change({elements:s.without(this.props.elements,n)})},this._moveElementUp=t=>{const n=this.props.elements[t],a=s.without(this.props.elements,n);a.splice(t-1,0,n),this.change({elements:a})},this._moveElementDown=t=>{const n=this.props.elements[t],a=s.without(this.props.elements,n);a.splice(t+1,0,n),this.change({elements:a})},this.change=(...t)=>p.apply(this,t),this.serialize=()=>h.serialize.call(this)}UNSAFE_componentWillReceiveProps(t){this.setState({usedVarSubscripts:this._getAllVarSubscripts(t.elements),usedFunctionNames:this._getAllFunctionNames(t.elements)})}_getAllVarSubscripts(t){return s.map(s.where(t,{type:"movable-point"}),n=>n.options.varSubscript).concat(s.map(s.where(t,{type:"movable-line"}),n=>n.options.startSubscript)).concat(s.map(s.where(t,{type:"movable-line"}),n=>n.options.endSubscript))}_getAllFunctionNames(t){return s.map(s.where(t,{type:"function"}),n=>n.options.funcName)}render(){const{TeX:t}=xe();return e.createElement("div",{className:"perseus-widget-interaction-editor"},e.createElement(u,{title:"Grid settings"},e.createElement(K,{editableSettings:["canvas","graph"],box:this.props.graph.box,labels:this.props.graph.labels,range:this.props.graph.range,step:this.props.graph.tickStep,gridStep:this.props.graph.gridStep,markings:this.props.graph.markings,onChange:this._updateGraphProps}),e.createElement(e.Fragment,null,this.props.graph.valid!==!0&&e.createElement("div",null,this.props.graph.valid))),s.map(this.props.elements,function(n,a){if(n.type==="movable-point")return e.createElement(u,{title:e.createElement("span",null,"Movable point"," ",e.createElement(t,null,"(x_{"+n.options.varSubscript+"}, y_{"+n.options.varSubscript+"})")),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement.bind(this,a),key:n.key},e.createElement(C,{...n.options,onChange:i=>{const l=JSON.parse(JSON.stringify(this.props.elements));s.extend(l[a].options,i),this.change({elements:l})}}));if(n.type==="movable-line")return e.createElement(u,{title:e.createElement("span",null,"Movable line"," ",e.createElement(t,null,"(x_{"+n.options.startSubscript+"}, y_{"+n.options.startSubscript+"})")," ","to"," ",e.createElement(t,null,"(x_{"+n.options.endSubscript+"}, y_{"+n.options.endSubscript+"})")),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement.bind(this,a),key:n.key},e.createElement(N,{...n.options,onChange:i=>{const l=JSON.parse(JSON.stringify(this.props.elements));s.extend(l[a].options,i),this.change({elements:l})}}));if(n.type==="point")return e.createElement(u,{title:e.createElement("span",null,"Point"," ",e.createElement(t,null,"("+n.options.coordX+", "+n.options.coordY+")")),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement.bind(this,a),key:n.key},e.createElement(T,{...n.options,onChange:i=>{const l=JSON.parse(JSON.stringify(this.props.elements));s.extend(l[a].options,i),this.change({elements:l})}}));if(n.type==="line")return e.createElement(u,{title:e.createElement("span",null,"Line"," ",e.createElement(t,null,"("+n.options.startX+", "+n.options.startY+")")," ","to"," ",e.createElement(t,null,"("+n.options.endX+", "+n.options.endY+")")),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement.bind(this,a),key:n.key},e.createElement(w,{...n.options,onChange:i=>{const l=JSON.parse(JSON.stringify(this.props.elements));s.extend(l[a].options,i),this.change({elements:l})}}));if(n.type==="function")return e.createElement(u,{title:e.createElement("span",null,"Function"," ",e.createElement(t,null,n.options.funcName+"(x) = "+n.options.value)),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement,key:n.key},e.createElement(E,{...n.options,onChange:i=>{const l=JSON.parse(JSON.stringify(this.props.elements));s.extend(l[a].options,i),this.change({elements:l})}}));if(n.type==="parametric")return e.createElement(u,{title:e.createElement("span",null,"Parametric"),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement,key:n.key},e.createElement(k,{...n.options,onChange:i=>{const l=JSON.parse(JSON.stringify(this.props.elements));s.extend(l[a].options,i),this.change({elements:l})}}));if(n.type==="label")return e.createElement(u,{title:e.createElement("span",null,"Label"," ",e.createElement(t,null,Ve(n.options.label))," "),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement,key:n.key},e.createElement(y,{...n.options,onChange:i=>{const l=JSON.parse(JSON.stringify(this.props.elements));s.extend(l[a].options,i),this.change({elements:l})}}));if(n.type==="rectangle")return e.createElement(u,{title:e.createElement("span",null,"Rectangle"," ",e.createElement(t,null,"("+n.options.coordX+", "+n.options.coordY+")")," — ",e.createElement(t,null,n.options.width+" \\times "+n.options.height)),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement,key:n.key},e.createElement(q,{...n.options,onChange:i=>{const l=JSON.parse(JSON.stringify(this.props.elements));s.extend(l[a].options,i),this.change({elements:l})}}))},this),e.createElement("div",{className:"perseus-widget-interaction-editor-select-element"},e.createElement("select",{onChange:this._addNewElement},e.createElement("option",{value:""},"Add an element","…"),e.createElement("option",{disabled:!0},"--"),e.createElement("option",{value:"point"},"Point"),e.createElement("option",{value:"line"},"Line segment"),e.createElement("option",{value:"function"},"Function plot"),e.createElement("option",{value:"parametric"},"Parametric plot"),e.createElement("option",{value:"label"},"Label"),e.createElement("option",{value:"rectangle"},"Rectangle"),e.createElement("option",{value:"movable-point"},"★ Movable point"),e.createElement("option",{value:"movable-line"},"★ Movable line segment"))))}};_.widgetName="interaction",_.defaultProps=J.defaultWidgetOptions;let S=_;S.__docgenInfo={description:"",methods:[{name:"_getAllVarSubscripts",docblock:null,modifiers:[],params:[{name:"elements",optional:!1,type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>",alias:"ReadonlyArray"}}],returns:{type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>"}}},{name:"_getAllFunctionNames",docblock:null,modifiers:[],params:[{name:"elements",optional:!1,type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>",alias:"ReadonlyArray"}}],returns:{type:{name:"ReadonlyArray",elements:[{name:"string"}],raw:"ReadonlyArray<string>"}}},{name:"_updateGraphProps",docblock:null,modifiers:[],params:[{name:"newProps",optional:!1,type:null}],returns:null},{name:"_addNewElement",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"_deleteElement",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"_moveElementUp",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"_moveElementDown",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InteractionEditor",props:{elements:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>"},description:"",defaultValue:{value:"[]",computed:!1}},graph:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    box: ReadonlyArray<number>;
    labels: ReadonlyArray<string>;
    range: Coords;
    tickStep: [number, number];
    gridStep: [number, number];
    markings: MarkingsType;
    valid?: boolean;
}`,signature:{properties:[{key:"box",value:{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>",required:!0}},{key:"labels",value:{name:"ReadonlyArray",elements:[{name:"string"}],raw:"ReadonlyArray<string>",required:!0}},{key:"range",value:{name:"tuple",raw:"[Coord, Coord]",elements:[{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]}],required:!0}},{key:"tickStep",value:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}],required:!0}},{key:"gridStep",value:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}],required:!0}},{key:"markings",value:{name:"union",raw:'"axes" | "graph" | "grid" | "none"',elements:[{name:"literal",value:'"axes"'},{name:"literal",value:'"graph"'},{name:"literal",value:'"grid"'},{name:"literal",value:'"none"'}],required:!0}},{key:"valid",value:{name:"boolean",required:!1}}]}},description:"",defaultValue:{value:`{
    box: [400, 400],
    labels: ["x", "y"],
    range: [
        [-10, 10],
        [-10, 10],
    ],
    tickStep: [1, 1],
    gridStep: [1, 1],
    markings: "graph",
}`,computed:!1}}}};export{S as I};
