import{j as x}from"./jsx-runtime-63Ea5SlK.js";import{b as R,a as O,_ as i,V as D,T as q}from"./index-0DbkllkJ.js";import{S as G}from"./index-nqMmpXbO.js";import{e as H,_ as A}from"./arrow-square-out-bold-090vdhrx.js";import{r as o}from"./index-6oxdNXpR.js";import{c as z,L as J}from"./react-router-dom-VIBHfbW6.js";import{i as M,g as Q}from"./index-i1pBWAmI.js";import{l as _}from"./index-awljIyHI.js";import{s as K,m as T,f as W,c as U}from"./index-deFLJwr4.js";import{P as X}from"./index-469F30Ub.js";import{u as Z}from"./i18n-context-8x3SvuMF.js";import{u as ee}from"./dependencies-CP7Uh8Kq.js";const te=["children","skipClientNav","focused","hovered","href","inline","kind","light","visitable","pressed","style","testId","waiting","target","startIcon","endIcon"],ne=R("a"),re=R(J),$=o.forwardRef(function(t,e){const l=s=>{const{children:f,skipClientNav:n,focused:a,hovered:r,href:p,inline:k=!1,kind:v="primary",light:y=!1,visitable:C=!1,pressed:g,style:I,testId:w,target:S,startIcon:d,endIcon:h}=t,L=O(t,te),u=ie(k,v,y,C),c=k?u.restingInline:u.resting,b=[oe.shared,c,g&&u.active,!g&&r&&u.hover,!g&&a&&u.focus],N=i({"data-testid":w,style:[b,I],target:S},L),F=new URL(p,window.location.origin).origin!==window.location.origin,Y=o.createElement(X,{icon:H,size:"small",style:[E.endIcon,E.centered],testId:"external-icon"});let B,P;d&&(B=o.cloneElement(d,i({style:[E.startIcon,E.centered],testId:"start-icon","aria-hidden":"true"},d.props))),h&&(P=o.cloneElement(h,i({style:[E.endIcon,E.centered],testId:"end-icon","aria-hidden":"true"},h.props)));const V=o.createElement(o.Fragment,null,d&&B,f,h?P:F&&S==="_blank"&&Y);return s&&!n&&M(p)?o.createElement(re,i({},N,{to:p,ref:e}),V):o.createElement(ne,i({},N,{href:p,ref:e}),V)};return o.createElement(z.Consumer,null,s=>l(s))}),j={},E=_.StyleSheet.create({startIcon:{marginInlineEnd:K.xxxSmall_4},endIcon:{marginInlineStart:K.xxxSmall_4},centered:{verticalAlign:"-10%"}}),oe=_.StyleSheet.create({shared:{cursor:"pointer",textDecoration:"none",outline:"none",alignItems:"center"}}),ie=(m,t,e,l)=>{const s=`${t}-${m.toString()}-${e.toString()}-${l.toString()}`;if(j[s])return j[s];if(t==="secondary"&&e)throw new Error("Secondary Light links are not supported");if(l&&t!=="primary")throw new Error("Only primary link is visitable");const{blue:f,purple:n,white:a,offBlack:r,offBlack32:p,offBlack64:k}=U,v="#fa50ae",y=T(W(r,.08),n),C=U.fadedBlue,g=T(W(a,.32),v),I=U.activeBlue,d=t==="primary"?e?a:f:m?r:k,u=t==="primary"?e?C:I:m?I:r,c=l?{":visited":{color:e?v:y}}:Object.freeze({}),b=l?{":visited":{color:e?g:T(p,y)}}:Object.freeze({}),N={resting:i({color:d},c),restingInline:i({color:d,textDecoration:"underline currentcolor solid",textUnderlineOffset:2},c),hover:i({textDecoration:"underline currentcolor solid",color:d},c),focus:{":focus-visible":i({color:d,outline:`1px solid ${e?a:f}`,borderRadius:3},c)},active:i({color:u,textDecoration:"underline currentcolor solid"},b)};return j[s]=_.StyleSheet.create(N),j[s]},se=["onClick","beforeNav","safeWithNav","href","skipClientNav","children","tabIndex","onKeyDown","onKeyUp","target","inline","kind","light","visitable"],ae=o.forwardRef(function(t,e){const{onClick:l,beforeNav:s=void 0,safeWithNav:f,href:n,skipClientNav:a,children:r,tabIndex:p,onKeyDown:k,onKeyUp:v,target:y=void 0,inline:C=!1,kind:g="primary",light:I=!1,visitable:w=!1}=t,S=O(t,se),d=h=>{const L=Q(n,a,h);return s?o.createElement(L,{disabled:!1,href:n,role:"link",onClick:l,beforeNav:s,safeWithNav:f,onKeyDown:k,onKeyUp:v},(u,c)=>{let b=i({},(A(c),c));return o.createElement($,i({},S,u,b,{skipClientNav:a,href:n,target:y,tabIndex:p,inline:C,kind:g,light:I,visitable:w,ref:e}),r)}):o.createElement(L,{disabled:!1,href:n,role:"link",onClick:l,safeWithNav:f,target:y,onKeyDown:k,onKeyUp:v},(u,c)=>{let b=i({},(A(c),c));return o.createElement($,i({},S,u,b,{skipClientNav:a,href:n,target:y,tabIndex:p,inline:C,kind:g,light:I,visitable:w,ref:e}),r)})};return o.createElement(z.Consumer,null,h=>d(h))}),ce=/^https?:\/\//,le=m=>{const t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,e=m.match(t);return e&&e[7].length===11?e[7]:"videoNotFound"},de=m=>{var a;const{location:t}=m,{useVideo:e}=ee(),[l,s]=ce.test(t)?[le(t),"YOUTUBE_ID"]:[t,"READABLE_ID"],f=e(l,s),{strings:n}=Z();switch(f.status){case"loading":return x.jsx(D,{children:n.loading});case"success":{const r=(a=f.data)==null?void 0:a.video;return x.jsxs(D,{style:ue.transcriptLink,children:[x.jsx(q,{children:r==null?void 0:r.title}),x.jsx(G,{size:10}),x.jsx(ae,{href:"/transcript/"+((r==null?void 0:r.contentId)||"videoNotFound"),target:"_blank",className:"visited-no-recolor",children:n.videoTranscript})]})}case"error":return x.jsx(D,{children:n.somethingWrong});case"aborted":return x.jsx(D,{children:n.somethingWrong});default:return x.jsx(D,{children:n.somethingWrong})}},ue=_.StyleSheet.create({transcriptLink:{flexDirection:"row",width:"100%",justifyContent:"center"}});de.__docgenInfo={description:"Video Transcript Link Component.",methods:[],displayName:"VideoTranscriptLink",props:{location:{required:!0,tsType:{name:"string"},description:""}}};export{ae as L,de as V};
