import{j as o,F as k,a as N}from"./jsx-runtime-BGVbfQ2Z.js";import{C as K}from"./index-hYQ6Pa3_.js";import{V as g}from"./index-eZ2N530f.js";import{l as h}from"./index-awljIyHI.js";import{r as p,a as E}from"./index-qhcEwEpg.js";import{T as ae}from"./tabbar-IAxGP4dM.js";import{K as d,c as re}from"./button-assets-K2ZoY3Yc.js";import{K as c}from"./keypad-button-qf5RMNu9.js";import{N as ie,O as oe,G as se}from"./operators-page-xJJKH4dX.js";import{N as le}from"./navigation-pad-cRy775HL.js";import{R as A}from"./index-E09jvG0x.js";import{w as de}from"./index-uu39Elyn.js";import{e as ue}from"./index-J2t_5nK1.js";var f=(t=>(t.NONE="NONE",t.IN_PARENS="IN_PARENS",t.IN_SUPER_SCRIPT="IN_SUPER_SCRIPT",t.IN_SUB_SCRIPT="IN_SUB_SCRIPT",t.IN_NUMERATOR="IN_NUMERATOR",t.IN_DENOMINATOR="IN_DENOMINATOR",t.BEFORE_FRACTION="BEFORE_FRACTION",t))(f||{});const q=3;function ce(t){const{extraKeys:e,onClickKey:n}=t;return o(k,{children:e.map((r,a)=>{const i=a%q,s=a/q;return o(c,{keyConfig:d[r],onClickKey:n,coord:[i,s]},r)})})}try{extraspage.displayName="extraspage",extraspage.__docgenInfo={description:"",displayName:"extraspage",props:{extraKeys:{defaultValue:null,description:"",name:"extraKeys",required:!0,type:{name:'readonly ("PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | "FRAC_INCLUSIVE" | "FRAC_EXCLUSIVE" | ... 96 more ... | "LOG_B")[]'}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}}}}}catch{}const z=500;function B(t){if(!t)return null;switch(t){case f.NONE:return null;case f.IN_PARENS:return d.JUMP_OUT_PARENTHESES;case f.IN_SUPER_SCRIPT:return d.JUMP_OUT_EXPONENT;case f.IN_SUB_SCRIPT:return d.JUMP_OUT_BASE;case f.IN_NUMERATOR:return d.JUMP_OUT_NUMERATOR;case f.IN_DENOMINATOR:return d.JUMP_OUT_DENOMINATOR;case f.BEFORE_FRACTION:return d.JUMP_INTO_NUMERATOR}}function pe(t){const{onClickKey:e,cursorContext:n}=t,r=B(n);return N(k,{children:[o(c,{keyConfig:d.NUM_1,onClickKey:e,coord:[0,2]}),o(c,{keyConfig:d.NUM_2,onClickKey:e,coord:[1,2]}),o(c,{keyConfig:d.NUM_3,onClickKey:e,coord:[2,2]}),o(c,{keyConfig:d.NUM_4,onClickKey:e,coord:[0,1]}),o(c,{keyConfig:d.NUM_5,onClickKey:e,coord:[1,1]}),o(c,{keyConfig:d.NUM_6,onClickKey:e,coord:[2,1]}),o(c,{keyConfig:d.NUM_7,onClickKey:e,coord:[0,0]}),o(c,{keyConfig:d.NUM_8,onClickKey:e,coord:[1,0]}),o(c,{keyConfig:d.NUM_9,onClickKey:e,coord:[2,0]}),o(c,{keyConfig:d.NUM_0,onClickKey:e,coord:[0,3]}),o(c,{keyConfig:d.DECIMAL,onClickKey:e,coord:[1,3]}),o(c,{keyConfig:d.NEGATIVE,onClickKey:e,coord:[2,3]}),o(c,{keyConfig:d.PERCENT,onClickKey:e,coord:[3,0],secondary:!0}),o(c,{keyConfig:d.PI,onClickKey:e,coord:[3,1],secondary:!0}),o(c,{keyConfig:d.FRAC,onClickKey:e,coord:[3,2],secondary:!0}),r&&o(c,{keyConfig:r,onClickKey:e,coord:[3,3],secondary:!0}),o(c,{keyConfig:d.BACKSPACE,onClickKey:e,coord:[4,3],action:!0})]})}try{fractionspage.displayName="fractionspage",fractionspage.__docgenInfo={description:"",displayName:"fractionspage",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}}}}}catch{}function me(t){const{onClickKey:e,cursorContext:n,divisionKey:r,convertDotToTimes:a,selectedPage:i}=t,s=B(n),l=i==="Numbers"||i==="Operators"?[3,1]:[3,0];return N(k,{children:[o(c,{keyConfig:d.FRAC,onClickKey:e,coord:l,secondary:!0}),o(c,{keyConfig:d.PLUS,onClickKey:e,coord:[4,0],secondary:!0}),o(c,{keyConfig:d.MINUS,onClickKey:e,coord:[5,0],secondary:!0}),o(c,{keyConfig:re(!!a)?d.TIMES:d.CDOT,onClickKey:e,coord:[4,1],secondary:!0}),r&&o(c,{keyConfig:d.DIVIDE,onClickKey:e,coord:[5,1],secondary:!0}),o(c,{keyConfig:d.LEFT_PAREN,onClickKey:e,coord:[4,2],secondary:!0}),o(c,{keyConfig:d.RIGHT_PAREN,onClickKey:e,coord:[5,2],secondary:!0}),s&&o(c,{keyConfig:s,onClickKey:e,coord:[4,3],secondary:!0}),o(c,{keyConfig:d.BACKSPACE,onClickKey:e,coord:[5,3],action:!0})]})}try{sharedkeys.displayName="sharedkeys",sharedkeys.__docgenInfo={description:"",displayName:"sharedkeys",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},selectedPage:{defaultValue:null,description:"",name:"selectedPage",required:!0,type:{name:"enum",value:[{value:'"Geometry"'},{value:'"Operators"'},{value:'"Numbers"'},{value:'"Fractions"'},{value:'"Extras"'},{value:'"Dismiss"'}]}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}}}}}catch{}const ye={extraKeys:[]};function fe(t){var n;if(t.fractionsOnly)return[];const e=["Numbers"];return(t.preAlgebra||t.logarithms||t.basicRelations||t.advancedRelations)&&e.push("Operators"),t.trigonometry&&e.push("Geometry"),(n=t.extraKeys)!=null&&n.length&&e.push("Extras"),e}function Q(t){const e=t.fractionsOnly?"Fractions":"Numbers",[n,r]=p.useState(e),[a,i]=p.useState(!1),s=fe(t),{onClickKey:l,cursorContext:u,extraKeys:m,convertDotToTimes:y,divisionKey:$,preAlgebra:J,logarithms:X,basicRelations:Y,advancedRelations:Z,showDismiss:ee,onAnalyticsEvent:I,fractionsOnly:R,expandedView:b}=t,te=R?_.fractionsGrid:_.expressionGrid;return p.useEffect(()=>{r(e)},[R,e]),p.useEffect(()=>(a||(I({type:"math-input:keypad-opened",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),i(!0)),()=>{a&&(I({type:"math-input:keypad-closed",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),i(!1))}),[I,a]),o(g,{style:b?_.keypadOuterContainer:null,children:N(g,{style:[_.wrapper,b?_.expandedWrapper:null],children:[o(ae,{items:s,selectedItem:n,onSelectItem:ne=>{r(ne)},onClickClose:ee?()=>l("DISMISS"):void 0}),N(g,{style:_.keypadInnerContainer,children:[N(g,{style:[_.keypadGrid,te],tabIndex:0,"aria-label":"Keypad",children:[n==="Fractions"&&o(pe,{onClickKey:l,cursorContext:u}),n==="Numbers"&&o(ie,{onClickKey:l}),n==="Extras"&&o(ce,{onClickKey:l,extraKeys:m}),n==="Operators"&&o(oe,{onClickKey:l,preAlgebra:J,logarithms:X,basicRelations:Y,advancedRelations:Z}),n==="Geometry"&&o(se,{onClickKey:l}),!R&&o(me,{onClickKey:l,cursorContext:u,convertDotToTimes:y,divisionKey:$,selectedPage:n})]}),b&&o(le,{onClickKey:l})]})]})})}Q.defaultProps=ye;const _=h.StyleSheet.create({keypadOuterContainer:{display:"flex",alignItems:"center"},wrapper:{background:K.white},expandedWrapper:{borderWidth:"1px 1px 0 1px",borderColor:K.offBlack32,maxWidth:z,borderRadius:"3px 3px 0 0"},keypadInnerContainer:{display:"flex",flexDirection:"row",backgroundColor:"#DBDCDD"},keypadGrid:{display:"grid",gridTemplateRows:"repeat(4, 1fr)",flex:1},expressionGrid:{gridTemplateColumns:"repeat(6, 1fr)"},fractionsGrid:{gridTemplateColumns:"repeat(5, 1fr)"}});try{keypad.displayName="keypad",keypad.__docgenInfo={description:"",displayName:"keypad",props:{extraKeys:{defaultValue:{value:"[]"},description:"",name:"extraKeys",required:!1,type:{name:'readonly ("PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | "FRAC_INCLUSIVE" | "FRAC_EXCLUSIVE" | ... 96 more ... | "LOG_B")[]'}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},showDismiss:{defaultValue:null,description:"",name:"showDismiss",required:!1,type:{name:"boolean"}},expandedView:{defaultValue:null,description:"",name:"expandedView",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}},trigonometry:{defaultValue:null,description:"",name:"trigonometry",required:!1,type:{name:"boolean"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}},fractionsOnly:{defaultValue:null,description:"",name:"fractionsOnly",required:!1,type:{name:"boolean"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}const W=p.createContext({setKeypadActive:t=>{},keypadActive:!1,setKeypadElement:t=>{},keypadElement:null,setRenderer:t=>{},renderer:null,setScrollableElement:t=>{},scrollableElement:null});function U(t){const[e,n]=p.useState(!1),[r,a]=p.useState(),[i,s]=p.useState(),[l,u]=p.useState(),m=p.useMemo(()=>({keypadActive:e,setKeypadActive:n,keypadElement:r,setKeypadElement:a,renderer:i,setRenderer:s,scrollableElement:l,setScrollableElement:u}),[e,n,r,a,i,s,l,u]);return o(W.Provider,{value:m,children:t.children})}try{U.displayName="StatefulKeypadContextProvider",U.__docgenInfo={description:"",displayName:"StatefulKeypadContextProvider",props:{}}}catch{}class L extends p.Component{render(){const{numberOfLines:e,style:n}=this.props,r=h.css(w.initial,...Array.isArray(n)?n:[n],e===1&&w.singleLineStyle);return o("span",{className:r,style:this.props.dynamicStyle,children:this.props.children})}}const w=h.StyleSheet.create({initial:{color:"inherit",display:"inline",font:"inherit",margin:0,padding:0,textDecorationLine:"none",wordWrap:"break-word"},singleLineStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});try{L.displayName="Text",L.__docgenInfo={description:"",displayName:"Text",props:{dynamicStyle:{defaultValue:null,description:"",name:"dynamicStyle",required:!1,type:{name:"any"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}}}catch{}const S=class S extends p.Component{render(){const e=h.css(S.styles.initial,...Array.isArray(this.props.style)?this.props.style:[this.props.style])+(this.props.extraClassName?` ${this.props.extraClassName}`:"");return o("div",{className:e,style:this.props.dynamicStyle,onClick:this.props.onClick,onTouchCancel:this.props.onTouchCancel,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,"aria-label":this.props.ariaLabel,role:this.props.role,ref:this.props.forwardRef,children:this.props.children})}};S.styles=h.StyleSheet.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",margin:0,padding:0,position:"relative",backgroundColor:"transparent",color:"inherit",font:"inherit",textAlign:"inherit",textDecorationLine:"none",listStyle:"none",maxWidth:"100%",minHeight:0,minWidth:0}});let C=S;try{C.displayName="View",C.__docgenInfo={description:"",displayName:"View",props:{ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},dynamicStyle:{defaultValue:null,description:"",name:"dynamicStyle",required:!1,type:{name:"any"}},extraClassName:{defaultValue:null,description:"",name:"extraClassName",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((arg1: SyntheticEvent<HTMLDivElement, Event>) => void)"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}}}}}catch{}function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O.apply(this,arguments)}function he(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function V(t,e){return V=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},V(t,e)}function _e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,V(t,e)}const F=E.createContext(null);function ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t,e){var n=function(i){return e&&p.isValidElement(i)?e(i):i},r=Object.create(null);return t&&p.Children.map(t,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function Ee(t,e){t=t||{},e=e||{};function n(y){return y in e?e[y]:t[y]}var r=Object.create(null),a=[];for(var i in t)i in e?a.length&&(r[i]=a,a=[]):a.push(i);var s,l={};for(var u in e){if(r[u])for(s=0;s<r[u].length;s++){var m=r[u][s];l[r[u][s]]=n(m)}l[u]=n(u)}for(s=0;s<a.length;s++)l[a[s]]=n(a[s]);return l}function v(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Ne(t,e){return P(t.children,function(n){return p.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:v(n,"appear",t),enter:v(n,"enter",t),exit:v(n,"exit",t)})})}function Ce(t,e,n){var r=P(t.children),a=Ee(e,r);return Object.keys(a).forEach(function(i){var s=a[i];if(p.isValidElement(s)){var l=i in e,u=i in r,m=e[i],y=p.isValidElement(m)&&!m.props.in;u&&(!l||y)?a[i]=p.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:v(s,"exit",t),enter:v(s,"enter",t)}):!u&&l&&!y?a[i]=p.cloneElement(s,{in:!1}):u&&l&&p.isValidElement(m)&&(a[i]=p.cloneElement(s,{onExited:n.bind(null,s),in:m.props.in,exit:v(s,"exit",t),enter:v(s,"enter",t)}))}}),a}var ge=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Te={component:"div",childFactory:function(e){return e}},D=function(t){_e(e,t);function e(r,a){var i;i=t.call(this,r,a)||this;var s=i.handleExited.bind(ve(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,i){var s=i.children,l=i.handleExited,u=i.firstRender;return{children:u?Ne(a,l):Ce(a,s,l),firstRender:!1}},n.handleExited=function(a,i){var s=P(this.props.children);a.key in s||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(l){var u=O({},l.children);return delete u[a.key],{children:u}}))},n.render=function(){var a=this.props,i=a.component,s=a.childFactory,l=he(a,["component","childFactory"]),u=this.state.contextValue,m=ge(this.state.children).map(s);return delete l.appear,delete l.enter,delete l.exit,i===null?E.createElement(F.Provider,{value:u},m):E.createElement(F.Provider,{value:u},E.createElement(i,l,m))},e}(E.Component);D.propTypes={};D.defaultProps=Te;function j(t){const e=[];if(!t)return e;if(Array.isArray(t))for(const n of t)e.push(...j(n));else e.push(t);return e}function G(t){const e=[],n=[];if(!t)return{style:{},className:""};const r=typeof globalThis<"u"&&globalThis.SNAPSHOT_INLINE_APHRODITE;j(t).forEach(i=>{const s=i._definition;if(s!=null)if(r){const l={};for(const[u,m]of ue(s))l[u.replace(/-[a-z]/g,y=>y[1].toUpperCase())]=m;n.push(l)}else e.push(i);else n.push(i)});const a=Object.assign({},...n);if(n.length>0&&!r){const i=h.StyleSheet.create({inlineStyles:a});e.push(i.inlineStyles)}return{style:r?a:{},className:h.css(...e)}}class Se extends p.Component{constructor(e){super(e),this._isMounted=!1,this.addClass=(n,r)=>{r&&(n.classList.add(r),this.appliedClassNames.add(r))},this.removeClass=(n,r)=>{r&&(n.classList.remove(r),this.appliedClassNames.delete(r))},this.flushClassNameQueue=()=>{if(this._isMounted){const n=A.findDOMNode(this);n instanceof Element&&this.classNameQueue.forEach(([r,a])=>{this.removeClass(n,r),this.addClass(n,a)})}this.classNameQueue.length=0},this._isMounted=!1,this.classNameQueue=[],this.appliedClassNames=new Set,this.state={status:"mounted"}}static getDerivedStateFromProps({in:e},n){return e&&n.status==="unmounted"?{status:"mounted"}:null}componentDidMount(){this._isMounted=!0,typeof this.props.appearTimeout=="number"?this.transition("appear",this.props.appearTimeout):this.transition("enter",this.props.enterTimeout)}componentDidUpdate(e,n){e.in&&!this.props.in?this.transition("leave",this.props.leaveTimeout):!e.in&&this.props.in&&this.transition("enter",this.props.enterTimeout),n.status!=="mounted"&&this.state.status==="mounted"&&this.setState({status:"unmounted"})}componentWillUnmount(){this._isMounted=!1,this.props.schedule.clearAll()}removeAllClasses(e){for(const n of this.appliedClassNames)this.removeClass(e,n)}transition(e,n){const r=A.findDOMNode(this);if(!(r instanceof Element))return;this.removeAllClasses(r),this.props.schedule.clearAll();const a=typeof this.props.transitionStyles=="function"?this.props.transitionStyles():this.props.transitionStyles,{className:i}=G(a[e]),{className:s}=G([a[e],a[e+"Active"]]);this.addClass(r,i),this.queueClass(i,s),e==="leave"&&this.props.schedule.timeout(()=>{this._isMounted&&this.setState({status:"unmounted"})},n||0)}queueClass(e,n){this.classNameQueue.push([e,n]),this.props.schedule.timeout(this.flushClassNameQueue,0)}render(){const{status:e}=this.state;return e==="unmounted"?null:this.props.children}}const Ie=de(Se);try{transitionchild.displayName="transitionchild",transitionchild.__docgenInfo={description:"",displayName:"transitionchild",props:{transitionStyles:{defaultValue:null,description:"",name:"transitionStyles",required:!0,type:{name:"AnimationStyles | (() => AnimationStyles)"}},appearTimeout:{defaultValue:null,description:"",name:"appearTimeout",required:!1,type:{name:"number"}},enterTimeout:{defaultValue:null,description:"",name:"enterTimeout",required:!1,type:{name:"number"}},leaveTimeout:{defaultValue:null,description:"",name:"leaveTimeout",required:!1,type:{name:"number"}},in:{defaultValue:null,description:"",name:"in",required:!1,type:{name:"boolean"}}}}}catch{}class M extends p.Component{render(){const{children:e}=this.props;return o(D,{component:null,children:p.Children.map(e,n=>o(Ie,{transitionStyles:this.props.transitionStyle,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout,children:n}))})}}try{M.displayName="AphroditeCSSTransitionGroup",M.__docgenInfo={description:"",displayName:"AphroditeCSSTransitionGroup",props:{transitionStyle:{defaultValue:null,description:"",name:"transitionStyle",required:!0,type:{name:"AnimationStyles | (() => AnimationStyles)"}},transitionAppearTimeout:{defaultValue:null,description:"",name:"transitionAppearTimeout",required:!1,type:{name:"number"}},transitionEnterTimeout:{defaultValue:null,description:"",name:"transitionEnterTimeout",required:!1,type:{name:"number"}},transitionLeaveTimeout:{defaultValue:null,description:"",name:"transitionLeaveTimeout",required:!1,type:{name:"number"}}}}}catch{}const T=200;class x extends p.Component{constructor(){super(...arguments),this._containerRef=p.createRef(),this._containerResizeObserver=null,this._throttleResize=!1,this.state={containerWidth:0},this._resize=()=>{var n;const e=((n=this._containerRef.current)==null?void 0:n.clientWidth)||0;this.setState({containerWidth:e})},this._throttleResizeHandler=()=>{this._throttleResize||(this._throttleResize=!0,setTimeout(()=>{this._resize(),this._throttleResize=!1},100))},this.activate=()=>{this.props.setKeypadActive(!0)},this.dismiss=()=>{var e,n;this.props.setKeypadActive(!1),(n=(e=this.props).onDismiss)==null||n.call(e)},this.configure=(e,n)=>{this.setState({keypadConfig:e}),setTimeout(()=>n&&n())},this.setCursor=e=>{this.setState({cursor:e})},this.setKeyHandler=e=>{this.setState({keyHandler:e})},this.getDOMNode=()=>A.findDOMNode(this)}componentDidMount(){var e,n;this._resize(),window.addEventListener("resize",this._throttleResizeHandler),window.addEventListener("orientationchange",this._throttleResizeHandler),"ResizeObserver"in window&&(this._containerResizeObserver=new window.ResizeObserver(this._throttleResizeHandler),this._containerRef.current&&this._containerResizeObserver.observe(this._containerRef.current)),(n=(e=this.props).onElementMounted)==null||n.call(e,{activate:this.activate,dismiss:this.dismiss,configure:this.configure,setCursor:this.setCursor,setKeyHandler:this.setKeyHandler,getDOMNode:this.getDOMNode})}componentWillUnmount(){var e;window.removeEventListener("resize",this._throttleResizeHandler),window.removeEventListener("orientationchange",this._throttleResizeHandler),(e=this._containerResizeObserver)==null||e.disconnect()}_handleClickKey(e){var r,a;if(e==="DISMISS"){this.dismiss();return}const n=(a=(r=this.state).keyHandler)==null?void 0:a.call(r,e);this.setState({cursor:n})}render(){const{keypadActive:e,style:n}=this.props,{containerWidth:r,cursor:a,keypadConfig:i}=this.state,s=[Re.keypadContainer,...Array.isArray(n)?n:[n]],l=(i==null?void 0:i.keypadType)==="EXPRESSION",u=i==null?void 0:i.times;return o(C,{style:s,forwardRef:this._containerRef,children:o(M,{transitionEnterTimeout:T,transitionLeaveTimeout:T,transitionStyle:{enter:{transform:"translate3d(0, 100%, 0)",transition:`${T}ms ease-out`},enterActive:{transform:"translate3d(0, 0, 0)"},leave:{transform:"translate3d(0, 0, 0)",transition:`${T}ms ease-out`},leaveActive:{transform:"translate3d(0, 100%, 0)"}},children:e?o(Q,{onAnalyticsEvent:this.props.onAnalyticsEvent,extraKeys:i==null?void 0:i.extraKeys,onClickKey:m=>this._handleClickKey(m),cursorContext:a==null?void 0:a.context,fractionsOnly:!l,convertDotToTimes:u,divisionKey:l,trigonometry:l,preAlgebra:l,logarithms:l,basicRelations:l,advancedRelations:l,expandedView:r>z,showDismiss:!0}):null})})}}const Re=h.StyleSheet.create({keypadContainer:{bottom:0,left:0,right:0,position:"fixed"}});try{x.displayName="MobileKeypadInternals",x.__docgenInfo={description:`This is the v2 equivalent of v1's ProvidedKeypad. It follows the same
external API so that it can be hot-swapped with the v1 keypad and
is responsible for connecting the keypad with MathInput and the Renderer.

Ideally this strategy of attaching methods on the class component for
other components to call will be replaced props/callbacks since React
doesn't support this type of code anymore (functional components
can't have methods attached to them).`,displayName:"MobileKeypadInternals",props:{onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}},setKeypadActive:{defaultValue:null,description:"",name:"setKeypadActive",required:!0,type:{name:"(keypadActive: boolean) => void"}},keypadActive:{defaultValue:null,description:"",name:"keypadActive",required:!0,type:{name:"boolean"}}}}}catch{}function H(t){return o(W.Consumer,{children:({keypadActive:e,setKeypadActive:n})=>o(x,{...t,keypadActive:e,setKeypadActive:n})})}try{H.displayName="MobileKeypad",H.__docgenInfo={description:"",displayName:"MobileKeypad",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}try{keypad.displayName="keypad",keypad.__docgenInfo={description:"",displayName:"keypad",props:{extraKeys:{defaultValue:{value:"[]"},description:"",name:"extraKeys",required:!1,type:{name:'readonly ("PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | "FRAC_INCLUSIVE" | "FRAC_EXCLUSIVE" | ... 96 more ... | "LOG_B")[]'}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},showDismiss:{defaultValue:null,description:"",name:"showDismiss",required:!1,type:{name:"boolean"}},expandedView:{defaultValue:null,description:"",name:"expandedView",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}},trigonometry:{defaultValue:null,description:"",name:"trigonometry",required:!1,type:{name:"boolean"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}},fractionsOnly:{defaultValue:null,description:"",name:"fractionsOnly",required:!1,type:{name:"boolean"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}try{MobileKeypad.displayName="MobileKeypad",MobileKeypad.__docgenInfo={description:"",displayName:"MobileKeypad",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}export{f as C,Q as K,H as M,U as S,C as V,W as a};
