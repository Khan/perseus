import{c as $}from"./util-Cjm22Ttl.js";import"./underscore-U-AHniOr.js";import{o as E,x as F}from"./core-widget-registry-2tCIH_GM.js";import"./jquery-CkHB0_Mt.js";import"./all-widgets-Ca9adxvK.js";import"./phet-simulation-DOXsIrrc.js";import"./dependencies-BsVPGK1s.js";import"./perseus-api-DmwU2RjF.js";import"./server-item-renderer-CQq1KA-1.js";import"./article-renderer-XuVFlMX9.js";import"./hints-renderer-Bgu9Wu6L.js";import"./renderer-Doy-sv_3.js";import"./base-radio-kaSH4GDV.js";import{c as U}from"./components-D1UvVBvr.js";import"./i18n-context-glBZFVwC.js";import"./svg-image-fTqFFTIk.js";import"./index-Dd-cahjY.js";import{B as W}from"./index-CYrfVekP.js";import{V as c}from"./index-CskvhqFA.js";import{S as X,O as V}from"./answer-choices-DVQOAvoJ.js";import{S as m}from"./index-B-CZbs2J.js";import{s as i,c as f}from"./index-C9RM_t1w.js";import{a as S,L as Y}from"./index-CbNKSLRm.js";import{L as G,p as H}from"./locked-figure-aria-BvRGGr0Z.js";import{n as x}from"./no-important-DlFk8a1I.js";import{r as e}from"./index-C6mWTJJr.js";import{S as J}from"./scrollless-number-text-field-cop9HsxK.js";import{C as L,L as K,a as Q}from"./locked-label-settings-yDTs91kU.js";import{P as Z}from"./trash-bold-CHX2KdYF.js";import{C as ee}from"./color-select-C8JPGQ7w.js";import{L as re}from"./line-stroke-select-CYm4pbHo.js";import{g as ne,j as te,a as C,b as ae}from"./util-D1_6LeEu.js";const{convertDegreesToRadians:le,convertRadiansToDegrees:oe}=$,_=p=>{const{angle:t,onChange:l}=p,[d,b]=e.useState(oe(t).toString());function n(y){b(y),!(isNaN(+y)||y==="")&&l(le(y))}return e.createElement(S,{tag:"label",style:T.row},"angle (degrees)",e.createElement(m,{size:i.xxSmall_6}),e.createElement(J,{value:d,onChange:n,style:T.textField}),e.createElement(m,{size:i.xxSmall_6}))},T=x.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{width:i.xxxLarge_64}});_.__docgenInfo={description:"",methods:[],displayName:"AngleInput",props:{angle:{required:!0,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(angle: number) => void",signature:{arguments:[{type:{name:"number"},name:"angle"}],return:{name:"void"}}},description:""}}};const z=p=>{const{color:t,fillStyle:l,strokeStyle:d}=p;return e.createElement(c,{"aria-label":`${t}, stroke ${d}, fill ${l}`,style:[q.container,{border:`4px ${d} ${E[t]}`}]},e.createElement(c,{style:[q.innerCircle,{backgroundColor:E[t],opacity:l==="white"?0:F[l]}]}))},q=x.StyleSheet.create({container:{outline:`2px solid ${f.offWhite}`,borderRadius:"50%",width:i.xLarge_32,height:i.large_24,backgroundColor:f.white,alignItems:"center",justifyContent:"center"},innerCircle:{width:28,height:20,borderRadius:"50%"}});z.__docgenInfo={description:"",methods:[],displayName:"EllipseSwatch",props:{color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""}}};const{convertRadiansToDegrees:ie}=$,{InfoTip:se}=U,ue=p=>{const{center:t,radius:l,angle:d,color:b,labels:n,ariaLabel:y,fillStyle:h,strokeStyle:v,expanded:P,onToggle:A,onChangeProps:u,onMove:R,onRemove:I}=p;async function N(){const r=await te(n),a=await C(`$${t[0]}$`),s=await C(`$${t[1]}$`),g=await C(`$${ie(d)}$`),k=l[0]===l[1];let w="";k?w+=`Circle${r} with radius ${l[0]}`:w+=`Ellipse${r} with x radius ${l[0]} and y radius ${l[1]}`,w+=`, centered at ${a} comma ${s}`,!k&&d!==0&&(w+=`, rotated by ${g} degrees`);const O=ae(b,v,h);return w+=O,w}function D(r){const a=r[0]-t[0],s=r[1]-t[1],g={center:r};g.labels=n==null?void 0:n.map(k=>({...k,coord:[k.coord[0]+a,k.coord[1]+s]})),u(g)}function j(r){const a={color:r};a.labels=n==null?void 0:n.map(s=>({...s,color:r})),u(a)}function B(r,a){if(!n)return;const s=[...n];s[a]={...n[a],...r},u({labels:s})}function M(r){if(!n)return;const a=n.filter((s,g)=>g!==r);u({labels:a})}return e.createElement(Z,{expanded:P,onToggle:A,header:e.createElement(c,{style:o.row},e.createElement(Y,null,`Ellipse (${t[0]}, ${t[1]}), radius ${l[0]}, ${l[1]}`),e.createElement(m,{size:i.xSmall_8}),e.createElement(z,{color:p.color,fillStyle:h,strokeStyle:v}))},e.createElement(c,{style:o.row},e.createElement(L,{coord:t,style:o.spaceUnder,onChange:D}),e.createElement(c,{style:o.spaceUnder},e.createElement(se,null,"The coordinates for the center of the ellipse."))),e.createElement(L,{coord:l,labels:["x radius","y radius"],style:o.spaceUnder,onChange:r=>u({radius:r})}),e.createElement(_,{angle:d,onChange:r=>u({angle:r})}),e.createElement(m,{size:i.xSmall_8}),e.createElement(c,{style:[o.row,o.spaceUnder]},e.createElement(ee,{selectedValue:b,onChange:j}),e.createElement(m,{size:i.medium_16}),e.createElement(S,{tag:"label",style:[o.row,o.truncatedWidth]},"fill",e.createElement(m,{size:i.xxSmall_6}),e.createElement(X,{selectedValue:h,onChange:r=>u({fillStyle:r}),placeholder:""},Object.keys(F).map(r=>e.createElement(V,{key:r,value:r,label:r}))))),e.createElement(re,{selectedValue:v,onChange:r=>u({strokeStyle:r})}),e.createElement(m,{size:i.small_12}),e.createElement(c,{style:o.horizontalRule}),e.createElement(G,{ariaLabel:y,getPrepopulatedAriaLabel:N,onChangeProps:r=>{u(r)}}),e.createElement(m,{size:i.xxxSmall_4}),e.createElement(c,{style:o.horizontalRule}),e.createElement(m,{size:i.small_12}),e.createElement(S,null,"Visible labels"),n==null?void 0:n.map((r,a)=>e.createElement(K,{...r,key:a,expanded:!0,onChangeProps:s=>{B(s,a)},onRemove:()=>{M(a)},containerStyle:o.labelContainer})),e.createElement(W,{kind:"tertiary",startIcon:H,onClick:()=>{const r={...ne("label"),coord:[t[0],t[1]-((n==null?void 0:n.length)??0)],color:b};u({labels:[...n??[],r]})},style:o.addButton},"Add visible label"),e.createElement(Q,{figureType:p.type,onMove:R,onRemove:I}))},o=x.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:i.xSmall_8},truncatedWidth:{minWidth:0},addButton:{alignSelf:"start"},labelContainer:{backgroundColor:f.white},horizontalRule:{height:1,backgroundColor:f.offBlack16}});ue.__docgenInfo={description:"",methods:[],displayName:"LockedEllipseSettings",props:{onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},type:{required:!0,tsType:{name:"literal",value:'"ellipse"'},description:""},center:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},radius:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},angle:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""},labels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedEllipseType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "ellipse";
    center: Coord;
    radius: [x: number, y: number];
    angle: number;
    color: LockedFigureColor;
    fillStyle: LockedFigureFillType;
    strokeStyle: LockedLineStyle;
    labels?: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"ellipse"',required:!0}},{key:"center",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"radius",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"angle",value:{name:"number",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"fillStyle",value:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}],required:!0}},{key:"strokeStyle",value:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}],required:!0}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!1}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedEllipseType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."}}};export{ue as L};
