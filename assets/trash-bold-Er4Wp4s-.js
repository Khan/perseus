import{j as H}from"./jsx-runtime-63Ea5SlK.js";import{r as n}from"./index-6oxdNXpR.js";import{l as N}from"./index-awljIyHI.js";import{b as M,V as B}from"./index-Cj1jPHW9.js";import{c as u,s as t}from"./index-dmcq622U.js";import{H as V,B as G}from"./index-SAZ92ybN.js";import{c as Q}from"./answer-choices-MAOKOSuW.js";import{C as J}from"./index-bRdc6KRF.js";import{P as X}from"./index-TVweWxDl.js";function O(){return O=Object.assign?Object.assign.bind():function(d){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e])}return d},O.apply(this,arguments)}function z(d,o){if(d==null)return{};var a={},e=Object.keys(d),r,i;for(i=0;i<e.length;i++)r=e[i],!(o.indexOf(r)>=0)&&(a[r]=d[r]);return a}const Y=["children","id","initialExpandedIndex","allowMultipleExpanded","caretPosition","cornerKind","animated","style"],Z=M("ul"),ee=6;n.forwardRef(function(o,a){const{children:e,id:r,initialExpandedIndex:i,allowMultipleExpanded:f=!0,caretPosition:s,cornerKind:g="rounded",animated:y,style:W}=o,_=z(o,Y),C=Array(e.length).fill(!1);i!==void 0&&(C[i]=!0);const[w,b]=n.useState(C),m=Array(e.length).fill(null),v=e.length<=ee,I=(c,l)=>{const S=f?[...w]:Array(e.length).fill(!1),h=!w[c];S[c]=h,b(S),l&&l(h)},k=c=>{var l,S,h,T;const x=m.findIndex(R=>R.current===document.activeElement);if(x!==-1)switch(c.key){case"ArrowUp":c.preventDefault();const R=(x+e.length-1)%e.length;(l=m[R].current)==null||l.focus();break;case"ArrowDown":c.preventDefault();const A=(x+1)%e.length;(S=m[A].current)==null||S.focus();break;case"Home":c.preventDefault(),(h=m[0].current)==null||h.focus();break;case"End":c.preventDefault(),(T=m[e.length-1].current)==null||T.focus();break}};return n.createElement(Z,O({style:[te.wrapper,W],onKeyDown:k},_,{ref:a}),e.map((c,l)=>{const{caretPosition:S,cornerKind:h,onToggle:T,animated:x}=c.props,R=n.createRef();m[l]=R;const P=l===0,A=l===e.length-1;return n.createElement("li",{key:l,id:r},n.cloneElement(c,{animated:x??y,caretPosition:S??s,cornerKind:h??g,expanded:w[l],onToggle:()=>I(l,T),isFirstSection:P,isLastSection:A,isRegion:v,ref:R}))}))});const te=N.StyleSheet.create({wrapper:{boxSizing:"border-box",listStyle:"none",padding:0,width:"100%"}});function ne(d,o,a,e){switch(d){case"rounded-per-section":return{roundedTop:!0,roundedBottom:!e};case"rounded":return{roundedTop:o,roundedBottom:a&&!e};default:return{roundedTop:!1,roundedBottom:!1}}}const re=n.forwardRef(function(o,a){const{id:e,header:r,caretPosition:i,cornerKind:f,collapsible:s=!0,expanded:g,animated:y,onClick:W,sectionContentUniqueId:_,headerStyle:C,tag:w="h2",testId:b,isFirstSection:m,isLastSection:v}=o,I=typeof r=="string",{roundedTop:k,roundedBottom:c}=ne(f,m,v,g);return n.createElement(V,{tag:w,style:p.heading},n.createElement(J,{id:e,"aria-expanded":g,"aria-controls":_,onClick:W,disabled:!s,testId:b?`${b}-header`:void 0,style:[p.headerWrapper,y&&p.headerWrapperWithAnimation,i==="start"&&p.headerWrapperCaretStart,k&&p.roundedTop,c&&p.roundedBottom,C,!s&&p.disabled],ref:a},()=>n.createElement(n.Fragment,null,n.createElement(B,{style:[p.headerContent,I&&p.headerString]},I?n.createElement(B,{style:[i==="end"?p.headerStringCaretEnd:p.headerStringCaretStart]},r):r),s&&n.createElement(X,{icon:Q,color:u.offBlack64,size:"small",style:[y&&p.iconWithAnimation,i==="start"?p.iconStart:p.iconEnd,g&&p.iconExpanded],testId:b?`${b}-caret-icon`:void 0}))))}),j=t.small_12-1,F="300ms",p=N.StyleSheet.create({heading:{minWidth:0,marginTop:0},headerWrapper:{display:"flex",flexDirection:"row",alignItems:"center",overflow:"hidden",minWidth:"auto",width:"100%",position:"relative",zIndex:1,":active":{outline:`2px solid ${u.activeBlue}`},":hover":{outline:`2px solid ${u.blue}`},":focus":{boxShadow:`0 0 0 2px ${u.blue}`},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":{outline:`2px solid ${u.blue}`}},headerWrapperWithAnimation:{transition:`border-radius ${F}`},headerWrapperCaretStart:{flexDirection:"row-reverse"},roundedTop:{borderStartStartRadius:j,borderStartEndRadius:j},roundedBottom:{borderEndStartRadius:j,borderEndEndRadius:j},headerContent:{flexGrow:1,textAlign:"start"},headerString:{paddingTop:t.medium_16,paddingBottom:t.medium_16},headerStringCaretEnd:{paddingInlineEnd:t.small_12,paddingInlineStart:t.medium_16},headerStringCaretStart:{paddingInlineEnd:t.medium_16,paddingInlineStart:t.small_12},iconWithAnimation:{transition:`transform ${F}`},iconExpanded:{transform:"rotate(180deg)"},iconStart:{marginInlineStart:t.medium_16},iconEnd:{marginInlineEnd:t.medium_16},disabled:{pointerEvents:"none",color:"inherit",":focus":{boxShadow:`0 0 0 2px ${u.offBlack32}`},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":{outline:`2px solid ${u.offBlack32}`}}}),oe=["children","id","header","collapsible","expanded","animated","onToggle","caretPosition","cornerKind","style","headerStyle","tag","testId","isFirstSection","isLastSection","isRegion"],ae=n.forwardRef(function(o,a){const{children:e,id:r,header:i,collapsible:f,expanded:s,animated:g=!1,onToggle:y,caretPosition:W="end",cornerKind:_="rounded",style:C,headerStyle:w,tag:b,testId:m,isFirstSection:v=!0,isLastSection:I=!0,isRegion:k=!0}=o,c=z(o,oe),[l,S]=n.useState(s??!1),h=s!==void 0&&y,T=n.useId(),x=r??T,R=n.useId(),P=r?`${r}-header`:R,A=n.useId(),q=ie(_,v,I),K=()=>{h?y(!s):(S(!l),y&&y(!l))};let $;return f===!1?$=!0:$=h?s:l,n.createElement(B,O({id:x,style:[E.wrapper,g&&E.wrapperWithAnimation,q.wrapper,$?E.wrapperExpanded:E.wrapperCollapsed,C],testId:m},c),n.createElement(re,{id:P,header:i,caretPosition:W,cornerKind:_,collapsible:f,expanded:$,animated:g,onClick:K,sectionContentUniqueId:A,headerStyle:w,tag:b,testId:m,isFirstSection:v,isLastSection:I,ref:a}),n.createElement(B,{id:A,role:k?"region":void 0,"aria-labelledby":P,style:[E.contentWrapper,$?E.contentWrapperExpanded:E.conentWrapperCollapsed,q.contentWrapper],testId:m?`${m}-content-panel`:void 0},typeof e=="string"?n.createElement(G,{style:E.stringContent},e):e))}),E=N.StyleSheet.create({wrapper:{display:"grid",position:"static",boxSizing:"border-box",backgroundColor:u.white},wrapperWithAnimation:{transition:"grid-template-rows 300ms"},wrapperCollapsed:{gridTemplateRows:"min-content 0fr"},wrapperExpanded:{gridTemplateRows:"min-content 1fr"},contentWrapper:{overflow:"hidden"},conentWrapperCollapsed:{visibility:"hidden"},contentWrapperExpanded:{visibility:"visible"},stringContent:{padding:t.medium_16}}),D={},ie=(d,o,a)=>{const e=`${d}-${o.toString()}-${a.toString()}`;if(D[e])return D[e];let r=Object.freeze({}),i=Object.freeze({}),f=Object.freeze({}),s=Object.freeze({});d==="square"&&(r={border:`1px solid ${u.offBlack16}`,borderBottom:"none",borderRadius:0},a&&(s={borderBottom:`1px solid ${u.offBlack16}`})),d==="rounded"&&(r={border:`1px solid ${u.offBlack16}`,borderBottom:"none"},o&&(f={borderStartStartRadius:t.small_12,borderStartEndRadius:t.small_12}),a&&(s={borderBottom:`1px solid ${u.offBlack16}`,borderEndStartRadius:t.small_12,borderEndEndRadius:t.small_12},i={borderEndEndRadius:t.small_12,borderEndStartRadius:t.small_12})),d==="rounded-per-section"&&(r={border:`1px solid ${u.offBlack16}`,borderRadius:t.small_12,marginBottom:t.medium_16},i={borderEndEndRadius:t.small_12,borderEndStartRadius:t.small_12});const g={wrapper:O({},r,f,s),contentWrapper:i};return D[e]=N.StyleSheet.create(g),D[e]},U=d=>{const{animated:o,children:a,header:e,expanded:r,containerStyle:i,panelStyle:f,onToggle:s}=d;return H.jsx(B,{className:"perseus-editor-accordion",children:H.jsx(ae,{animated:o,expanded:r,onToggle:s,style:[L.container,i],headerStyle:L.accordionHeader,header:e,children:H.jsx(B,{style:[L.accordionPanel,f],children:a})})})},L=N.StyleSheet.create({container:{backgroundColor:u.fadedBlue8,marginTop:t.xSmall_8},accordionHeader:{padding:t.small_12,paddingInlineEnd:0,height:t.xxLarge_48},accordionPanel:{paddingTop:t.xxSmall_6,paddingBottom:t.xxxSmall_4,paddingLeft:t.small_12,paddingRight:t.small_12}}),ge=U;U.__docgenInfo={description:"",methods:[],displayName:"PerseusEditorAccordion",props:{animated:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | React.ReactNode[]",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"}]},description:""},header:{required:!0,tsType:{name:"union",raw:"string | React.ReactElement",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},containerStyle:{required:!1,tsType:{name:"StyleType"},description:""},panelStyle:{required:!1,tsType:{name:"StyleType"},description:""},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:""}}};const Se=""+new URL("trash-bold-rak1tQ6r.svg",import.meta.url).href;export{ge as P,Se as t};
