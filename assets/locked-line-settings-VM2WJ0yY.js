import{a as c,j as n,F as D}from"./jsx-runtime-FVsy8kgq.js";import"./util-XcxTwqb0.js";import{e as E}from"./svg-image-Rjw-_QTV.js";import{B as K}from"./choice-j6w4LtFN.js";import{V as w}from"./index-6h5t6F0w.js";import{S as N,O as v}from"./answer-choices-hVSrtDDG.js";import{S as P}from"./index-qUyqkRvh.js";import{s as m,c as S}from"./index-deFLJwr4.js";import{L as W,a as q}from"./index-h_CiYGGb.js";import{p as Z}from"./plus-circle-JCxQSzSv.js";import{l as G}from"./index-awljIyHI.js";import{v as u}from"./index-IIMKO4_x.js";import{P as H,L as J}from"./locked-figure-settings-actions-ab53Ebjp.js";import{C as Q}from"./color-select-8cr8QlQp.js";import{L as X}from"./line-stroke-select-iDSK-x7K.js";import{L as Y}from"./line-swatch-nrbqtceq.js";import{L as ee}from"./locked-label-settings-pCYTzu3K.js";import{L as z}from"./locked-point-settings-k8nxCDPz.js";import{g as oe}from"./util-6qReRwTF.js";const k="The line cannot have length 0.",B=g=>{var T;const{flags:p,kind:f,points:i,color:b,lineStyle:x="solid",showPoint1:A,showPoint2:I,labels:r,onChangeProps:a,onMove:M,onRemove:R}=g,[s,d]=i,$=`${f.charAt(0).toUpperCase()+f.slice(1)} (${s.coord[0]},
        ${s.coord[1]}), (${d.coord[0]}, ${d.coord[1]})`,L=E(s.coord,d.coord);function C(e,t){const o=[...i];o[t]={...i[t],...e};const h=u.midpoint(i[0].coord,i[1].coord),F=u.midpoint(o[0].coord,o[1].coord),_=[F[0]-h[0],F[1]-h[1]],U=r.map((y,te)=>({...y,coord:[y.coord[0]+_[0],y.coord[1]+_[1]]}));a({points:o,labels:U})}function V(e){const t=r.map(o=>({...o,color:e}));a({color:e,points:[{...s,color:e,labels:s.labels.map(o=>({...o,color:e}))},{...d,color:e,labels:d.labels.map(o=>({...o,color:e}))}],labels:t})}function O(e,t){const o=[...r];o[t]={...r[t],...e},a({labels:o})}function j(e){const t=r.filter((o,h)=>h!==e);a({labels:t})}return c(H,{expanded:g.expanded,onToggle:g.onToggle,header:c(w,{style:l.row,children:[n(W,{children:$}),n(P,{size:m.xSmall_8}),n(Y,{color:b,lineStyle:x})]}),children:[c(q,{tag:"label",style:[l.row,l.spaceUnder],children:["kind",n(P,{size:m.xxxSmall_4}),c(N,{selectedValue:f,onChange:e=>a({kind:e}),placeholder:"",children:[n(v,{value:"line",label:"line"}),n(v,{value:"ray",label:"ray"}),n(v,{value:"segment",label:"segment"})]})]}),c(w,{style:l.row,children:[n(Q,{selectedValue:b,onChange:V}),n(P,{size:m.small_12}),n(X,{selectedValue:x,onChange:e=>a({lineStyle:e})})]}),L&&n(q,{style:l.errorText,children:k}),n(z,{flags:p,headerLabel:"Point 1",expanded:!0,showPoint:A,error:L?k:null,...s,onTogglePoint:e=>a({showPoint1:e}),onChangeProps:e=>C(e,0)}),n(z,{flags:p,headerLabel:"Point 2",expanded:!0,showPoint:I,error:L?k:null,...d,onTogglePoint:e=>a({showPoint2:e}),onChangeProps:e=>C(e,1)}),((T=p==null?void 0:p.mafs)==null?void 0:T["locked-line-labels"])&&c(D,{children:[n(w,{style:l.horizontalRule}),r.map((e,t)=>n(ee,{...e,expanded:!0,onChangeProps:o=>{O(o,t)},onRemove:()=>{j(t)},containerStyle:l.labelContainer})),n(K,{kind:"tertiary",startIcon:Z,onClick:()=>{const e=[0,-1],t=u.add(u.scale(e,r.length),u.midpoint(i[0].coord,i[1].coord)),o={...oe("label"),coord:t,color:b};a({labels:[...r,o]})},style:l.addButton,children:"Add visible label"})]}),n(J,{figureType:g.type,onMove:M,onRemove:R})]})},l=G.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:m.xSmall_8},errorText:{color:S.red},addButton:{alignSelf:"start"},horizontalRule:{marginTop:m.small_12,marginBottom:m.xxxSmall_4,height:1,backgroundColor:S.offBlack16},labelContainer:{backgroundColor:S.white}}),Se=B;B.__docgenInfo={description:"",methods:[],displayName:"LockedLineSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFigure>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedFigure"}],raw:"Partial<LockedFigure>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{Se as L};
