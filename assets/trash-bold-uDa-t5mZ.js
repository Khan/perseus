import{j as O}from"./jsx-runtime-BT65X5dW.js";import{a as U,V as $,_ as j,b as M}from"./index-B7dHvlFm.js";import{r as n}from"./index-C6mWTJJr.js";import{n as q}from"./no-important-DlFk8a1I.js";import{a as I,b as K,s as t,c as V}from"./index-Ds5N5m2R.js";import{B as G,H as J}from"./index-DE1Lf0hK.js";import{c as Q}from"./answer-choices-BtOPuLms.js";import{C as X}from"./index-CMC37hoy.js";import{P as Y}from"./index-Cif-W75O.js";const Z=["children","id","initialExpandedIndex","allowMultipleExpanded","caretPosition","cornerKind","animated","style"],ee=M("ul"),te=6;n.forwardRef(function(s,p){const{children:e,id:r,initialExpandedIndex:l,allowMultipleExpanded:f=!0,caretPosition:o,cornerKind:c="rounded",animated:h,style:P}=s,_=U(s,Z),C=Array(e.length).fill(!1);l!==void 0&&(C[l]=!0);const[x,y]=n.useState(C),u=Array(e.length).fill(null),T=e.length<=te,w=(i,a)=>{const S=f?[...x]:Array(e.length).fill(!1),g=!x[i];S[i]=g,y(S),a&&a(g)},B=i=>{var a,S,g,A;const R=u.findIndex(b=>b.current===document.activeElement);if(R!==-1)switch(i.key){case"ArrowUp":i.preventDefault();const b=(R+e.length-1)%e.length;(a=u[b].current)==null||a.focus();break;case"ArrowDown":i.preventDefault();const W=(R+1)%e.length;(S=u[W].current)==null||S.focus();break;case"Home":i.preventDefault(),(g=u[0].current)==null||g.focus();break;case"End":i.preventDefault(),(A=u[e.length-1].current)==null||A.focus();break}};return n.createElement(ee,j({style:[ne.wrapper,P],onKeyDown:B},_,{ref:p}),e.map((i,a)=>{const{caretPosition:S,cornerKind:g,onToggle:A,animated:R}=i.props,b=n.createRef();u[a]=b;const N=a===0,W=a===e.length-1;return n.createElement("li",{key:a,id:r},n.cloneElement(i,{animated:R??h,caretPosition:S??o,cornerKind:g??c,expanded:x[a],onToggle:()=>w(a,A),isFirstSection:N,isLastSection:W,isRegion:T,ref:b}))}))});const ne=q.StyleSheet.create({wrapper:{boxSizing:"border-box",listStyle:"none",padding:0,width:"100%"}});function re(m,s,p,e){switch(m){case"rounded-per-section":return{roundedTop:!0,roundedBottom:!e};case"rounded":return{roundedTop:s,roundedBottom:p&&!e};default:return{roundedTop:!1,roundedBottom:!1}}}const oe=n.forwardRef(function(s,p){const{id:e,header:r,caretPosition:l,cornerKind:f,collapsible:o=!0,expanded:c,animated:h,onClick:P,sectionContentUniqueId:_,headerStyle:C,tag:x="h2",testId:y,isFirstSection:u,isLastSection:T}=s,w=typeof r=="string",{roundedTop:B,roundedBottom:i}=re(f,u,T,c);return n.createElement(J,{tag:x,style:d.heading},n.createElement(X,{id:e,"aria-expanded":c,"aria-controls":_,onClick:P,disabled:!o,testId:y?`${y}-header`:void 0,style:[d.headerWrapper,h&&d.headerWrapperWithAnimation,l==="start"&&d.headerWrapperCaretStart,B&&d.roundedTop,i&&d.roundedBottom,C,!o&&d.disabled],ref:p},()=>n.createElement(n.Fragment,null,n.createElement($,{style:[d.headerContent,w&&d.headerString]},w?n.createElement($,{style:[l==="end"?d.headerStringCaretEnd:d.headerStringCaretStart]},r):r),o&&n.createElement(Y,{icon:Q,color:I.icon.primary,size:"small",style:[h&&d.iconWithAnimation,l==="start"?d.iconStart:d.iconEnd,c&&d.iconExpanded],testId:y?`${y}-caret-icon`:void 0}))))}),D=t.small_12-1,z="300ms",d=q.StyleSheet.create({heading:{minWidth:0,marginTop:0},headerWrapper:{display:"flex",flexDirection:"row",alignItems:"center",overflow:"hidden",minWidth:"auto",width:"100%",position:"relative",zIndex:1,":active":{outline:`2px solid ${I.action.secondary.progressive.press.border}`},":hover":{outline:`2px solid ${I.action.secondary.progressive.hover.border}`},":focus-visible":{outline:`2px solid ${I.focus.outer}`}},headerWrapperWithAnimation:{transition:`border-radius ${z}`},headerWrapperCaretStart:{flexDirection:"row-reverse"},roundedTop:{borderStartStartRadius:D,borderStartEndRadius:D},roundedBottom:{borderEndStartRadius:D,borderEndEndRadius:D},headerContent:{flexGrow:1,textAlign:"start"},headerString:{paddingTop:t.medium_16,paddingBottom:t.medium_16},headerStringCaretEnd:{paddingInlineEnd:t.small_12,paddingInlineStart:t.medium_16},headerStringCaretStart:{paddingInlineEnd:t.medium_16,paddingInlineStart:t.small_12},iconWithAnimation:{transition:`transform ${z}`},iconExpanded:{transform:"rotate(180deg)"},iconStart:{marginInlineStart:t.medium_16},iconEnd:{marginInlineEnd:t.medium_16},disabled:{pointerEvents:"none",color:"inherit",":focus-visible":{outline:`2px solid ${I.focus.outer}`}}}),ae=["children","id","header","collapsible","expanded","animated","onToggle","caretPosition","cornerKind","style","headerStyle","tag","testId","isFirstSection","isLastSection","isRegion"],ie=n.forwardRef(function(s,p){const{children:e,id:r,header:l,collapsible:f,expanded:o,animated:c=!1,onToggle:h,caretPosition:P="end",cornerKind:_="rounded",style:C,headerStyle:x,tag:y,testId:u,isFirstSection:T=!0,isLastSection:w=!0,isRegion:B=!0}=s,i=U(s,ae),[a,S]=n.useState(o??!1),g=o!==void 0&&h,A=n.useId(),R=r??A,b=n.useId(),N=r?`${r}-header`:b,W=n.useId(),H=de(_,T,w),F=()=>{g?h(!o):(S(!a),h&&h(!a))};let v;return f===!1?v=!0:v=g?o:a,n.createElement($,j({id:R,style:[E.wrapper,c&&E.wrapperWithAnimation,H.wrapper,v?E.wrapperExpanded:E.wrapperCollapsed,C],testId:u},i),n.createElement(oe,{id:N,header:l,caretPosition:P,cornerKind:_,collapsible:f,expanded:v,animated:c,onClick:F,sectionContentUniqueId:W,headerStyle:x,tag:y,testId:u,isFirstSection:T,isLastSection:w,ref:p}),n.createElement($,{id:W,role:B?"region":void 0,"aria-labelledby":N,style:[E.contentWrapper,v?E.contentWrapperExpanded:E.conentWrapperCollapsed,H.contentWrapper],testId:u?`${u}-content-panel`:void 0},typeof e=="string"?n.createElement(G,{style:E.stringContent},e):e))}),E=q.StyleSheet.create({wrapper:{display:"grid",position:"static",boxSizing:"border-box",backgroundColor:I.surface.primary},wrapperWithAnimation:{transition:"grid-template-rows 300ms"},wrapperCollapsed:{gridTemplateRows:"min-content 0fr"},wrapperExpanded:{gridTemplateRows:"min-content 1fr"},contentWrapper:{overflow:"hidden"},conentWrapperCollapsed:{visibility:"hidden"},contentWrapperExpanded:{visibility:"visible"},stringContent:{padding:t.medium_16}}),k={},de=(m,s,p)=>{const e=`${m}-${s.toString()}-${p.toString()}`;if(k[e])return k[e];let r=Object.freeze({}),l=Object.freeze({}),f=Object.freeze({}),o=Object.freeze({});const c=`1px solid ${I.border.primary}`;m==="square"&&(r={border:c,borderBottom:"none",borderRadius:K.radius.radius_0},p&&(o={borderBottom:c})),m==="rounded"&&(r={border:c,borderBottom:"none"},s&&(f={borderStartStartRadius:t.small_12,borderStartEndRadius:t.small_12}),p&&(o={borderBottom:c,borderEndStartRadius:t.small_12,borderEndEndRadius:t.small_12},l={borderEndEndRadius:t.small_12,borderEndStartRadius:t.small_12})),m==="rounded-per-section"&&(r={border:c,borderRadius:K.radius.radius_120,marginBottom:t.medium_16},l={borderEndEndRadius:t.small_12,borderEndStartRadius:t.small_12});const h={wrapper:j({},r,f,o),contentWrapper:l};return k[e]=q.StyleSheet.create(h),k[e]},se=m=>{const{animated:s,children:p,header:e,expanded:r,containerStyle:l,panelStyle:f,onToggle:o}=m;return O.jsx($,{className:"perseus-editor-accordion",children:O.jsx(ie,{animated:s,expanded:r,onToggle:o,style:[L.container,l],headerStyle:L.accordionHeader,header:e,children:O.jsx($,{style:[L.accordionPanel,f],children:p})})})},L=q.StyleSheet.create({container:{backgroundColor:V.fadedBlue8,marginTop:t.xSmall_8},accordionHeader:{padding:t.small_12,paddingInlineEnd:0,height:t.xxLarge_48},accordionPanel:{paddingTop:t.xxSmall_6,paddingBottom:t.xxxSmall_4,paddingLeft:t.small_12,paddingRight:t.small_12}});se.__docgenInfo={description:"",methods:[],displayName:"PerseusEditorAccordion",props:{animated:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | React.ReactNode[]",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"}]},description:""},header:{required:!0,tsType:{name:"union",raw:"string | React.ReactElement",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},containerStyle:{required:!1,tsType:{name:"StyleType"},description:""},panelStyle:{required:!1,tsType:{name:"StyleType"},description:""},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:""}}};const ye=""+new URL("trash-bold-CtqTW1Dq.svg",import.meta.url).href;export{se as P,ye as t};
