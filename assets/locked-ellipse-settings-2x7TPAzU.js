import{j as e}from"./jsx-runtime-63Ea5SlK.js";import{l as j,a as F}from"./article-renderer-JIlzqaPM.js";import"./jquery-yG1GhClm.js";import"./util-AYeX86gl.js";import"./phet-simulation-_7qOO4_B.js";import"./version-akiLXZts.js";import"./dependencies-CP7Uh8Kq.js";import"./perseus-api-1-ethIrW.js";import"./perseus-item-YhL5oSPz.js";import"./hints-renderer-mroHfjtV.js";import"./renderer-6G9zNccl.js";import"./base-radio-AH6_jTIn.js";import{c as W}from"./components-b_FFTCjA.js";import"./index-k-0mNqHS.js";import"./i18n-context-fsWEgybQ.js";import"./svg-image-8VV-_RGO.js";import"./index-smZ6iCr_.js";import{B as V}from"./choice-Xr-SKHrB.js";import{V as p}from"./index-0DbkllkJ.js";import{S as X,O as G}from"./answer-choices-WjB9a-Zb.js";import{S as d}from"./index-nqMmpXbO.js";import{s,c as h}from"./index-deFLJwr4.js";import{a as w,L as H}from"./index-18qWGOW7.js";import{L as J,p as K}from"./locked-figure-aria-ckmobbvt.js";import{l as v}from"./index-awljIyHI.js";import{r as Q}from"./index-6oxdNXpR.js";import{S as Y}from"./scrollless-number-text-field-d5PK69vy.js";import{r as $,d as Z}from"./util-qk2aeK8X.js";import{P as ee,C as L,L as re,a as ne}from"./locked-label-settings-n2iBmjzd.js";import{C as ae}from"./color-select-hsEV9yjn.js";import"./button-group-G5CZaedn.js";import"./graph-ASQAtWJc.js";import"./hud-ifw9Ofbw.js";import"./icon-7RFbyLiL.js";import"./index-BIPwuHvF.js";import"./inline-icon-6fh0Wu1y.js";import"./math-input-ILg8RrvB.js";import"./multi-button-group-QUVHbBcE.js";import"./number-input-ogh82yD8.js";import"./range-input-w5Z3sPK5.js";import"./text-input-5e4vF1bl.js";import"./text-list-editor-aj1SAzcA.js";import{L as te}from"./line-stroke-select-RxaIDjr9.js";import{g as le,j as ie,a as oe}from"./util-_bopxHN_.js";const _=c=>{const{angle:u,onChange:t}=c,[i,y]=Q.useState($(u).toString());function b(n){y(n),!(isNaN(+n)||n==="")&&t(Z(n))}return e.jsxs(w,{tag:"label",style:q.row,children:["angle (degrees)",e.jsx(d,{size:s.xxSmall_6}),e.jsx(Y,{value:i,onChange:b,style:q.textField}),e.jsx(d,{size:s.xxSmall_6})]})},q=v.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{width:s.xxxLarge_64}});_.__docgenInfo={description:"",methods:[],displayName:"AngleInput",props:{angle:{required:!0,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(angle: number) => void",signature:{arguments:[{type:{name:"number"},name:"angle"}],return:{name:"void"}}},description:""}}};const z=c=>{const{color:u,fillStyle:t,strokeStyle:i}=c;return e.jsx(p,{"aria-label":`${u}, stroke ${i}, fill ${t}`,style:[T.container,{border:`4px ${i} ${j[u]}`}],children:e.jsx(p,{style:[T.innerCircle,{backgroundColor:j[u],opacity:t==="white"?0:F[t]}]})})},T=v.StyleSheet.create({container:{outline:`2px solid ${h.offWhite}`,borderRadius:"50%",width:s.xLarge_32,height:s.large_24,backgroundColor:h.white,alignItems:"center",justifyContent:"center"},innerCircle:{width:28,height:20,borderRadius:"50%"}});z.__docgenInfo={description:"",methods:[],displayName:"EllipseSwatch",props:{color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""}}};const{InfoTip:se}=W,P=c=>{var S,C;const{flags:u,center:t,radius:i,angle:y,color:b,labels:n,ariaLabel:A,fillStyle:f,strokeStyle:x,expanded:E,onToggle:I,onChangeProps:m,onMove:R,onRemove:N}=c;async function B(){const r=await ie(n),l=i[0]===i[1];let a="";l?a+=`Circle${r} with radius ${i[0]}`:a+=`Ellipse${r} with x radius ${i[0]} and y radius ${i[1]}`,a+=`, centered at (${t[0]}, ${t[1]})`,!l&&y!==0&&(a+=`, rotated by ${$(y)} degrees`);const g=oe(b,x,f);return a+=g,a}function O(r){const l=r[0]-t[0],a=r[1]-t[1],g={center:r};g.labels=n==null?void 0:n.map(k=>({...k,coord:[k.coord[0]+l,k.coord[1]+a]})),m(g)}function D(r){const l={color:r};l.labels=n==null?void 0:n.map(a=>({...a,color:r})),m(l)}function M(r,l){if(!n)return;const a=[...n];a[l]={...n[l],...r},m({labels:a})}function U(r){if(!n)return;const l=n.filter((a,g)=>g!==r);m({labels:l})}return e.jsxs(ee,{expanded:E,onToggle:I,header:e.jsxs(p,{style:o.row,children:[e.jsx(H,{children:`Ellipse (${t[0]}, ${t[1]}), radius ${i[0]}, ${i[1]}`}),e.jsx(d,{size:s.xSmall_8}),e.jsx(z,{color:c.color,fillStyle:f,strokeStyle:x})]}),children:[e.jsxs(p,{style:o.row,children:[e.jsx(L,{coord:t,style:o.spaceUnder,onChange:O}),e.jsx(p,{style:o.spaceUnder,children:e.jsx(se,{children:"The coordinates for the center of the ellipse."})})]}),e.jsx(L,{coord:i,labels:["x radius","y radius"],style:o.spaceUnder,onChange:r=>m({radius:r})}),e.jsx(_,{angle:y,onChange:r=>m({angle:r})}),e.jsx(d,{size:s.xSmall_8}),e.jsxs(p,{style:[o.row,o.spaceUnder],children:[e.jsx(ae,{selectedValue:b,onChange:D}),e.jsx(d,{size:s.medium_16}),e.jsxs(w,{tag:"label",style:[o.row,o.truncatedWidth],children:["fill",e.jsx(d,{size:s.xxSmall_6}),e.jsx(X,{selectedValue:f,onChange:r=>m({fillStyle:r}),placeholder:"",children:Object.keys(F).map(r=>e.jsx(G,{value:r,label:r},r))})]})]}),e.jsx(te,{selectedValue:x,onChange:r=>m({strokeStyle:r})}),((S=u==null?void 0:u.mafs)==null?void 0:S["locked-figures-aria"])&&e.jsxs(e.Fragment,{children:[e.jsx(d,{size:s.small_12}),e.jsx(p,{style:o.horizontalRule}),e.jsx(J,{ariaLabel:A,getPrepopulatedAriaLabel:B,onChangeProps:r=>{m(r)}})]}),((C=u==null?void 0:u.mafs)==null?void 0:C["locked-ellipse-labels"])&&e.jsxs(e.Fragment,{children:[e.jsx(d,{size:s.xxxSmall_4}),e.jsx(p,{style:o.horizontalRule}),e.jsx(d,{size:s.small_12}),e.jsx(w,{children:"Visible labels"}),n==null?void 0:n.map((r,l)=>e.jsx(re,{...r,expanded:!0,onChangeProps:a=>{M(a,l)},onRemove:()=>{U(l)},containerStyle:o.labelContainer})),e.jsx(V,{kind:"tertiary",startIcon:K,onClick:()=>{const r={...le("label"),coord:[t[0],t[1]-((n==null?void 0:n.length)??0)],color:b};m({labels:[...n??[],r]})},style:o.addButton,children:"Add visible label"})]}),e.jsx(ne,{figureType:c.type,onMove:R,onRemove:N})]})},o=v.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:s.xSmall_8},truncatedWidth:{minWidth:0},addButton:{alignSelf:"start"},labelContainer:{backgroundColor:h.white},horizontalRule:{height:1,backgroundColor:h.offBlack16}}),Ze=P;P.__docgenInfo={description:"",methods:[],displayName:"LockedEllipseSettings",props:{flags:{required:!1,tsType:{name:'Readonly["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},type:{required:!0,tsType:{name:"literal",value:'"ellipse"'},description:""},center:{required:!0,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},radius:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},angle:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""},labels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedEllipseType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "ellipse";
    center: Coord;
    radius: [x: number, y: number];
    angle: number;
    color: LockedFigureColor;
    fillStyle: LockedFigureFillType;
    strokeStyle: LockedLineStyle;
    labels?: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"ellipse"',required:!0}},{key:"center",value:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}],required:!0}},{key:"radius",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"angle",value:{name:"number",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"fillStyle",value:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}],required:!0}},{key:"strokeStyle",value:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}],required:!0}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!1}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedEllipseType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."}}};export{Ze as L};
