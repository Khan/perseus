import{j as e}from"./jsx-runtime-63Ea5SlK.js";import{B as K}from"./index-d0xJ__lb.js";import{V as c}from"./index-45GODDwG.js";import{S as M,O as C}from"./answer-choices-0P_GHnmT.js";import{T as q}from"./index-FuKJM-dF.js";import{I as _}from"./index-MIAtMmGo.js";import{S as s}from"./index-bkG41yOS.js";import{s as l,c as f}from"./index-dmcq622U.js";import{L as R,c as k}from"./index-HGk1BWh5.js";import{L as Q,p as Z}from"./locked-figure-aria-BKPQKVI9.js";import{l as S}from"./index-awljIyHI.js";import{r as v}from"./index-6oxdNXpR.js";import{P as E,L as ee,a as ae}from"./locked-label-settings-jDLZXT1n.js";import{C as ne}from"./color-select-U2wn6Dlt.js";import{L as re}from"./line-stroke-select-DLpINoO-.js";import{L as te}from"./line-swatch-O-sUjzQd.js";import{g as oe,j as ie,a as le}from"./util-h8cb0m2y.js";const se=""+new URL("copy-oXFFmXIn.svg",import.meta.url).href,me=""+new URL("note-pencil-qql72tMF.svg",import.meta.url).href,B={linear:["x + 5","1/2x - 2"],polynomial:["1/2x^2 + 3x - 4","(1/3)x^3 - 2x^2 + 3x - 4"],trigonometric:["sin(x) * 3","arctan(2x) + 4"]},$=p=>{var z,A;const{flags:m,color:u,strokeStyle:y,equation:g,directionalAxis:x,domain:t,labels:o,ariaLabel:D,onChangeProps:d,onMove:N,onRemove:W}=p,F=x==="x"?"y=":"x=",O=`Function (${F}${g})`,[j,T]=v.useState([t&&t[0]!==-1/0?t[0].toString():"",t&&t[1]!==1/0?t[1].toString():""]),[b,H]=v.useState("");v.useEffect(()=>{T([t&&t[0]!==-1/0?t[0].toString():"",t&&t[1]!==1/0?t[1].toString():""])},[t]);async function V(){let r=`Function${await ie(o)} with equation ${F}${g}`;t&&!(t[0]===-1/0&&t[1]===1/0)&&(r+=`, domain from ${t[0]} to ${t[1]}`);const i=le(u,y);return r+=i,r}function w(a,r){const i={};i[a]=r,d(i)}function P(a,r){const i=[...j];i[a]=r,T(i);const h=t?[...t]:[-1/0,1/0];let L=parseFloat(r);r===""&&a===0?L=-1/0:r===""&&a===1&&(L=1/0),h[a]=L,d({domain:h})}const X=Object.keys(B),I=b!=="",G=I?B[b]:["Select category to see example equations"];function U(a){const r={color:a};r.labels=o==null?void 0:o.map(i=>({...i,color:a})),d(r)}function Y(a,r){if(!o)return;const i=[...o];i[r]={...o[r],...a},d({labels:i})}function J(a){if(!o)return;const r=o.filter((i,h)=>h!==a);d({labels:r})}return e.jsxs(E,{expanded:p.expanded,onToggle:p.onToggle,header:e.jsxs(c,{style:n.row,children:[e.jsx(R,{style:n.accordionHeader,children:O}),e.jsx(s,{size:l.xSmall_8}),e.jsx(te,{color:u,lineStyle:y})]}),children:[e.jsxs(c,{style:[n.row,n.spaceUnder],children:[e.jsx(ne,{selectedValue:u,onChange:U}),e.jsx(s,{size:l.small_12}),e.jsx(re,{selectedValue:y,onChange:a=>{w("strokeStyle",a)}})]}),e.jsxs(c,{style:[n.row,n.rowSpace],children:[e.jsxs(M,{selectedValue:x,onChange:a=>{w("directionalAxis",a)},"aria-label":"equation prefix",style:[n.dropdownLabel,n.axisMenu],placeholder:"",children:[e.jsx(C,{value:"x",label:"y ="}),e.jsx(C,{value:"y",label:"x ="})]}),e.jsx(s,{size:l.xSmall_8}),e.jsx(q,{type:"text","aria-label":"equation",value:g,onChange:a=>{w("equation",a)},style:[n.textField]})]}),e.jsxs(c,{style:[n.row,n.rowSpace],children:[e.jsxs(k,{tag:"label",style:[n.dropdownLabel,n.domainMin],children:["domain min",e.jsx(s,{size:l.xxSmall_6}),e.jsx(q,{type:"number",style:n.domainMinField,value:j[0],onChange:a=>{P(0,a)}})]}),e.jsx(s,{size:l.medium_16}),e.jsxs(k,{tag:"label","aria-label":"domain max",style:[n.dropdownLabel,n.domainMax],children:["max",e.jsx(s,{size:l.xxSmall_6}),e.jsx(q,{type:"number",style:n.domainMaxField,value:j[1],onChange:a=>{P(1,a)}})]})]}),e.jsxs(E,{header:e.jsx(R,{children:"Example Functions"}),expanded:!1,containerStyle:n.exampleWorkspace,panelStyle:n.exampleAccordionPanel,children:[e.jsxs(k,{tag:"label",style:n.dropdownLabel,children:["Choose a category",e.jsx(s,{size:l.xxSmall_6}),e.jsx(M,{selectedValue:b,onChange:H,placeholder:"examples",children:X.map(a=>e.jsx(C,{value:a,label:a},a))})]}),I&&e.jsx("ul",{className:S.css(n.exampleContainer),children:G.map((a,r)=>e.jsx(ue,{category:b,example:a,index:r,pasteEquationFn:w},r))})]}),((z=m==null?void 0:m.mafs)==null?void 0:z["locked-figures-aria"])&&e.jsxs(e.Fragment,{children:[e.jsx(s,{size:l.small_12}),e.jsx(c,{style:n.horizontalRule}),e.jsx(Q,{ariaLabel:D,getPrepopulatedAriaLabel:V,onChangeProps:a=>{d(a)}})]}),((A=m==null?void 0:m.mafs)==null?void 0:A["locked-function-labels"])&&e.jsxs(e.Fragment,{children:[e.jsx(s,{size:l.xxxSmall_4}),e.jsx(c,{style:n.horizontalRule}),e.jsx(s,{size:l.small_12}),e.jsx(k,{children:"Visible labels"}),o==null?void 0:o.map((a,r)=>e.jsx(ee,{...a,expanded:!0,onChangeProps:i=>{Y(i,r)},onRemove:()=>{J(r)},containerStyle:n.labelContainer},r)),e.jsx(K,{kind:"tertiary",startIcon:Z,onClick:()=>{const a={...oe("label"),coord:[0,-((o==null?void 0:o.length)??0)],color:u};d({labels:[...o??[],a]})},style:n.addButton,children:"Add visible label"})]}),e.jsx(ae,{figureType:p.type,onMove:N,onRemove:W})]})},ue=p=>{const{category:m,example:u,index:y,pasteEquationFn:g}=p,x=v.useId();return e.jsxs("li",{className:S.css(n.exampleRow),children:[e.jsx(_,{icon:me,"aria-label":"paste example","aria-describedby":x,onClick:()=>g("equation",u),size:"medium",style:n.copyPasteButton}),e.jsx(_,{icon:se,"aria-label":"copy example","aria-describedby":x,onClick:()=>navigator.clipboard.writeText(u),size:"medium",style:n.copyPasteButton}),e.jsx(s,{size:l.xxxSmall_4}),e.jsx(c,{style:n.exampleContent,id:x,children:u})]},`${m}-${y}`)},n=S.StyleSheet.create({accordionHeader:{textOverflow:"ellipsis",maxWidth:"calc(100% - 64px)",overflow:"hidden",whiteSpace:"nowrap"},axisMenu:{minWidth:"auto"},copyPasteButton:{flexShrink:"0",margin:"0 2px"},domainMin:{justifyContent:"space-between",width:"calc(((100% - 141px) / 2) + 88.7px)",textWrap:"nowrap"},domainMinField:{width:"calc(100% - 88.7px)"},domainMax:{width:"calc(((100% - 141px) / 2) + 36.2px)"},domainMaxField:{width:"calc(100% - 36.2px)"},dropdownLabel:{alignItems:"center",display:"flex"},exampleAccordionPanel:{alignItems:"start",paddingBottom:"12px",flexDirection:"row",flexWrap:"wrap"},exampleContainer:{background:"white",border:`1px solid ${f.fadedOffBlack16}`,borderRadius:"4px",flexGrow:"1",listStyleType:"none",maxHeight:"88px",margin:"8px 0 0 0",overflowY:"scroll",padding:"4px 12px 4px 4px"},exampleContent:{fontFamily:'"Lato", sans-serif',flexGrow:"1",color:f.offBlack},exampleRow:{alignItems:"center",display:"flex",flexDirection:"row",minHeight:"44px"},exampleWorkspace:{background:f.white50},rowSpace:{marginTop:l.xSmall_8},row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{flexGrow:"1"},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:f.offBlack16},labelContainer:{backgroundColor:f.white}}),Fe=$;$.__docgenInfo={description:"",methods:[],displayName:"LockedFunctionSettings",props:{type:{required:!0,tsType:{name:"literal",value:'"function"'},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""},equation:{required:!0,tsType:{name:"string"},description:""},directionalAxis:{required:!0,tsType:{name:"union",raw:'"x" | "y"',elements:[{name:"literal",value:'"x"'},{name:"literal",value:'"y"'}]},description:""},domain:{required:!1,tsType:{name:"tuple",raw:"[min: number, max: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},labels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},flags:{required:!1,tsType:{name:'Readonly["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFunctionType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "function";
    color: LockedFigureColor;
    strokeStyle: LockedLineStyle;
    equation: string; // This is the user-defined equation (as it was typed)
    directionalAxis: "x" | "y";
    domain?: Interval;
    labels?: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"function"',required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"strokeStyle",value:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}],required:!0}},{key:"equation",value:{name:"string",required:!0}},{key:"directionalAxis",value:{name:"union",raw:'"x" | "y"',elements:[{name:"literal",value:'"x"'},{name:"literal",value:'"y"'}],required:!0}},{key:"domain",value:{name:"tuple",raw:"[min: number, max: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!1}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!1}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedFunctionType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{Fe as L};
