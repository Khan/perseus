import{a as i,j as s}from"./jsx-runtime-BGVbfQ2Z.js";import"./article-renderer-gvg1HWZ5.js";import"./unit-tpB2tohZ.js";import"./index-eZ2N530f.js";import"./index-V35CFGao.js";import{r as d}from"./index-qhcEwEpg.js";import"./fixed-to-responsive-G5J_wmel.js";import"./dependencies-fnqF3NiV.js";import"./video-transcript-link-OKNeGZxl.js";import{_ as c}from"./index-default-4_ZsnO94.js";import"./perseus-api-Ly41NhN4.js";import"./multi-renderer-1n98kEiP.js";import"./hints-renderer-HosMYX90.js";import"./renderer-cMcLPmpG.js";import"./base-radio-WNWbl18r.js";import{c as m}from"./components-VVvgjr_3.js";import{I as u}from"./icon-paths-fAaGW1jp.js";import"./util-HWMzrHku.js";import"./jquery-5v7aFUvu.js";import{P as n}from"./index-tvtfaFq4.js";import{E as f}from"./editor-jsonify-78WT2WXm.js";import{R as g}from"./index-E09jvG0x.js";const{InfoTip:p,InlineIcon:l}=m,{iconPlus:C,iconTrash:v}=u,a=class a extends d.Component{constructor(){super(...arguments),this.onPlaceholderChange=o=>{const t=o.target.value;this.props.onChange({placeholder:t})},this.onCorrectChange=o=>{const t=c.map(this.props.choices,function(e,r){return c.extend({},e,{correct:r===o})});this.props.onChange({choices:t})},this.onContentChange=(o,t)=>{const e=this.props.choices.slice(),r=c.clone(e[o]);r.content=t.target.value,e[o]=r,this.props.onChange({choices:e})},this.addChoice=o=>{o.preventDefault();const t=this.props.choices,e={content:"",correct:!1};this.props.onChange({choices:t.concat([e])},this.focus.bind(this,t.length))},this.removeChoice=(o,t)=>{t.preventDefault();const e=c(this.props.choices).clone();e.splice(o,1),this.props.onChange({choices:e})},this.focus=o=>(g.findDOMNode(this.refs["editor"+o]).focus(),!0),this.serialize=()=>f.serialize.call(this)}render(){const o=c.uniqueId("perseus_dropdown_");return i("div",{className:"perseus-widget-dropdown",children:[i("div",{className:"dropdown-info",children:["Dropdown",s(p,{children:i("p",{children:["The drop down is useful for making inequalities in a custom format. We normally use the symbols ","<",","," ",">",', ≤, ≥ (in that order) which you can copy into the choices. When possible, use the "multiple choice" answer type instead.']})})]}),i("div",{className:"dropdown-placeholder",children:[s("input",{type:"text",placeholder:"Placeholder value",value:this.props.placeholder,onChange:this.onPlaceholderChange}),s(p,{children:s("p",{children:"This value will appear as the drop down default. It should give the user some indication of the values available in the drop down itself, e.g., Yes/No/Maybe."})})]}),s("div",{className:"clearfix"}),s("ul",{className:"dropdown-choices",children:this.props.choices.map(function(t,e){const r=t.correct?"correct":"incorrect";return s("li",{children:i("div",{children:[s("input",{ref:"radio"+e,type:"radio",name:o,checked:t.correct?"checked":"",onChange:this.onCorrectChange.bind(this,e),value:e}),s("input",{type:"text",ref:"editor"+e,onChange:this.onContentChange.bind(this,e),className:r,value:t.content}),s("a",{href:"#",className:"simple-button orange","aria-label":"Delete choice",onClick:this.removeChoice.bind(this,e),children:s("span",{className:"remove-choice",children:s(l,{...v})})})]})},""+e)},this)}),s("div",{className:"add-choice-container",children:i("a",{href:"#",className:"simple-button orange",onClick:this.addChoice,children:[s(l,{...C})," Add a choice"," "]})})]})}};a.propTypes={choices:n.arrayOf(n.shape({content:n.string,correct:n.bool})),placeholder:n.string},a.widgetName="dropdown",a.defaultProps={placeholder:"",choices:[{content:"",correct:!1}]};let h=a;try{h.displayName="DropdownEditor",h.__docgenInfo={description:"",displayName:"DropdownEditor",props:{}}}catch{}export{h as D};
