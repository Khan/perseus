import{a as m,j as t,F as L}from"./jsx-runtime-FVsy8kgq.js";import{B as R}from"./choice-MC7GDocC.js";import{V as D}from"./index-6h5t6F0w.js";import{S as I}from"./index-qUyqkRvh.js";import{s as c,c as x}from"./index-deFLJwr4.js";import{L as U}from"./index-h_CiYGGb.js";import{p as V}from"./plus-circle-JCxQSzSv.js";import{l as $}from"./index-awljIyHI.js";import{P as j,C as M,L as E}from"./locked-figure-settings-actions-uXmYmaRN.js";import{C as W}from"./color-select-8FnAMSK4.js";import{C as z,g as N}from"./util-ZHZdfdlg.js";import{L as k}from"./labeled-switch-taRGW4lo.js";import{L as G}from"./locked-label-settings-w7FN3Rlv.js";const S=y=>{var C,v;const{flags:s,headerLabel:T,coord:i,color:g,filled:w=!0,labels:o,onChangeProps:l,onMove:b,onRemove:u,showPoint:h,expanded:q,onTogglePoint:P,onToggle:_}=y,d=!b&&!u;function B(e){const n={color:e};n.labels=o.map(a=>({...a,color:e})),l(n)}function O(e){const n=e[0]-i[0],a=e[1]-i[1],p={coord:e};p.labels=o.map(f=>({...f,coord:[f.coord[0]+n,f.coord[1]+a]})),l(p)}function F(e,n){const a=[...o];a[n]={...o[n],...e},l({labels:a})}function A(e){const n=o.filter((a,p)=>p!==e);l({labels:n})}return m(j,{expanded:q,onToggle:_,containerStyle:d?r.definingContainer:void 0,panelStyle:d?r.definingPanel:void 0,header:m(D,{style:r.row,children:[t(U,{children:`${T||"Point"} (${i[0]}, ${i[1]})`}),t(I,{size:c.xSmall_8}),t(z,{color:g,filled:w})]}),children:[t(M,{coord:i,style:r.spaceUnder,onChange:O}),P&&t(k,{label:"show point on graph",checked:!!h,style:h&&r.spaceUnder,onChange:P}),(!d||h)&&m(L,{children:[t(W,{selectedValue:g,onChange:B,style:r.spaceUnder}),t(k,{label:"open point",checked:!w,onChange:e=>{l({filled:!e})}})]}),(!d&&((C=s==null?void 0:s.mafs)==null?void 0:C["locked-point-labels"])||d&&((v=s==null?void 0:s.mafs)==null?void 0:v["locked-line-labels"]))&&m(L,{children:[o.map((e,n)=>t(G,{...e,containerStyle:!d&&r.lockedPointLabelContainer,expanded:!0,onChangeProps:a=>{F(a,n)},onRemove:()=>{A(n)}})),t(R,{kind:"tertiary",startIcon:V,onClick:()=>{const e={...N("label"),coord:[i[0]+.5,i[1]-1*(o==null?void 0:o.length)],color:g};l({labels:[...o,e]})},style:r.addButton,children:"Add visible label"})]}),u&&t(E,{figureType:y.type,onMove:b,onRemove:u})]})},r=$.StyleSheet.create({definingContainer:{marginTop:c.xSmall_8,marginBottom:0,marginLeft:-c.xxxSmall_4,marginRight:-c.xxxSmall_4,backgroundColor:x.white},definingPanel:{paddingBottom:c.xxSmall_6},lockedPointLabelContainer:{backgroundColor:x.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:c.xSmall_8},addButton:{alignSelf:"start"}}),ie=S;S.__docgenInfo={description:"",methods:[],displayName:"LockedPointSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:"Optional flags to determine which features are enabled."},headerLabel:{required:!1,tsType:{name:"string"},description:`Optional label for the point to display in the header summary.
Defaults to "Point".`},showPoint:{required:!1,tsType:{name:"boolean"},description:"Whether the extra point settings are toggled open."},error:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Optional error message to display."},onTogglePoint:{required:!1,tsType:{name:"signature",type:"function",raw:"(newValue) => void",signature:{arguments:[{name:"newValue"}],return:{name:"void"}}},description:"Called when the extra settings toggle switch is changed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedPointType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedPointType"}],raw:"Partial<LockedPointType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when the point is moved."},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the point is removed."}}};export{ie as L};
