import{a as f,_ as a}from"./index-6h5t6F0w.js";import{r as o}from"./index-TT1qJ6UJ.js";import{l as E}from"./index-awljIyHI.js";import{m as ie,c as ae,u as z,a as B,T as de,I as ce,x as ue}from"./index-rfN0X25E.js";import{s as d,c as v,b as me}from"./index-deFLJwr4.js";import{r as F}from"./index-7vsPyIck.js";import{w as he}from"./index-CkAxGj88.js";function Z(r){const e=[];if(r)if(Array.isArray(r))for(const t of r)e.push(...Z(t));else e.push(r);else return e;return e}function J(r){const e=[],t=[];if(!r)return{style:{},className:""};const n=typeof global<"u"&&global.SNAPSHOT_INLINE_APHRODITE;Z(r).forEach(l=>{const i=l._definition;if(i!=null)if(n){const h={};for(const[u,c]of Object.entries(i))h[u.replace(/-[a-z]/g,x=>x[1].toUpperCase())]=c;t.push(h)}else e.push(l);else t.push(l)});const s=Object.assign({},...t);if(t.length>0&&!n){const l=E.StyleSheet.create({inlineStyles:s});e.push(l.inlineStyles)}return{style:n?s:{},className:E.css(...e)}}const fe=["children","style","tag","testId"],pe=/^h[1-6]$/,Y=E.StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}}),g=o.forwardRef(function(e,t){let{children:n,style:s,tag:l="span",testId:i}=e,h=f(e,fe);const u=pe.test(l),c=J([Y.text,u&&Y.header,s]),x=h.className?[h.className,c.className].join(" "):c.className;return o.createElement(l,a({},h,{style:c.style,className:x,"data-testid":i,ref:t}),n)}),ge=["className","style"];function O(r,e){return o.forwardRef((t,n)=>{const{className:s,style:l}=t,i=f(t,ge),h=typeof r=="string"?ye[r]:null,{className:u,style:c}=J([h,e,l]);return o.createElement(r,a({},i,{ref:n,className:[u,s].filter(Boolean).join(" "),style:c}))})}const ye=E.StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),xe=["testId","tag"],P=E.StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),be=O("div",P.default),Se=O("article",P.default),Ee=O("aside",P.default),we=O("nav",P.default),Ce=O("section",P.default),S=o.forwardRef(function(e,t){const{testId:n,tag:s="div"}=e,l=f(e,xe),i=a({},l,{"data-testid":n});switch(s){case"article":return o.createElement(Se,a({},i,{ref:t}));case"aside":return o.createElement(Ee,a({},i,{ref:t}));case"nav":return o.createElement(we,a({},i,{ref:t}));case"section":return o.createElement(Ce,a({},i,{ref:t}));case"div":return o.createElement(be,a({},i,{ref:t}));default:throw Error(`${s} is not an allowed value for the 'tag' prop`)}});let _=function(r){return r.Root="root",r.Initial="initial",r.Standard="standard",r}({});const k=o.createContext(_.Root);k.displayName="RenderStateContext";class ee extends o.Component{constructor(...e){super(...e),this.state={mounted:!1},this._isTheRootComponent=!1}componentDidMount(){this._isTheRootComponent&&this.setState({mounted:!0})}_renderAsRootComponent(){const{mounted:e}=this.state,{children:t,fallback:n}=this.props;return this._isTheRootComponent=!0,e?o.createElement(k.Provider,{value:_.Standard},t()):n?o.createElement(k.Provider,{value:_.Initial},n()):null}_maybeRender(e){const{children:t,fallback:n}=this.props;switch(e){case _.Root:return this._renderAsRootComponent();case _.Initial:return n?n():null;case _.Standard:return t()}{var s;return console.log(`We got a render state we don't understand: "${(s=JSON.stringify(e))!=null?s:""}"`),this._maybeRender(_.Root)}}render(){return o.createElement(k.Consumer,null,e=>this._maybeRender(e))}}class D{constructor(e){this._uniqueFactoryName=void 0,this.get=n=>{const s=n.toLowerCase();if(!this._hasValidIdChars(n))throw new Error(`Invalid identifier key: ${n}`);return`${this._uniqueFactoryName}-${s}`},e=typeof e=="string"?e:"";const t=e.toLowerCase();if(!this._hasValidIdChars(t))throw new Error(`Invalid factory scope: ${e}`);this._uniqueFactoryName=`uid-${t}-${D._factoryUniquenessCounter++}`}_hasValidIdChars(e){return typeof e=="string"?!/\s/.test(e):!1}}D._factoryUniquenessCounter=0;class V{get(e){return e}}V.Default=new V;var Me=V.Default;class _e extends o.Component{constructor(...e){super(...e),this._idFactory=void 0}_performRender(e){const{children:t,mockOnFirstRender:n,scope:s}=this.props;return e?n?t(Me):null:(this._idFactory||(this._idFactory=new D(s)),t(this._idFactory))}render(){return o.createElement(ee,{fallback:()=>this._performRender(!0)},()=>this._performRender(!1))}}class W extends o.Component{renderChildren(e){const{id:t,children:n}=this.props,s=e?e.get(W.defaultId):t;if(!s)throw new Error("Did not get an identifier factory nor a id prop");return n(s)}render(){const{id:e,scope:t}=this.props;return e?this.renderChildren():o.createElement(_e,{scope:t,mockOnFirstRender:!0},n=>this.renderChildren(n))}}W.defaultId="wb-id";const w=400,I=700,ve=900,q="@media (max-width: 1023px)",j="@media (min-width: 1024px)",p={display:"block"},b='Lato, "Noto Sans", sans-serif',K='"Noto Serif", serif',Fe="Inconsolata, monospace",y=E.StyleSheet.create({Title:a({},p,{fontFamily:b,fontWeight:ve,[j]:{fontSize:36,lineHeight:"40px"},[q]:{fontSize:28,lineHeight:"32px"}}),Tagline:a({},p,{fontFamily:b,fontWeight:w,fontSize:20,lineHeight:"24px"}),HeadingLarge:a({},p,{fontFamily:b,fontWeight:I,[j]:{fontSize:28,lineHeight:"32px"},[q]:{fontSize:24,lineHeight:"28px"}}),HeadingMedium:a({},p,{fontFamily:b,fontWeight:I,[j]:{fontSize:24,lineHeight:"28px"},[q]:{fontSize:22,lineHeight:"26px"}}),HeadingSmall:a({},p,{fontFamily:b,fontWeight:I,fontSize:20,lineHeight:"24px"}),HeadingXSmall:a({},p,{fontFamily:b,fontWeight:I,fontSize:12,lineHeight:"16px",letterSpacing:.6,textTransform:"uppercase"}),BodySerifBlock:a({},p,{fontFamily:K,fontWeight:w,fontSize:22,lineHeight:"28px"}),BodySerif:a({},p,{fontFamily:K,fontWeight:w,fontSize:18,lineHeight:"22px"}),BodyMonospace:a({},p,{fontFamily:Fe,fontWeight:w,fontSize:17,lineHeight:"22px"}),Body:a({},p,{fontFamily:b,fontWeight:w,fontSize:16,lineHeight:"22px"}),LabelLarge:a({},p,{fontFamily:b,fontWeight:I,fontSize:16,lineHeight:"20px"}),LabelMedium:a({},p,{fontFamily:b,fontWeight:w,fontSize:16,lineHeight:"20px"}),LabelSmall:a({},p,{fontFamily:b,fontWeight:w,fontSize:14,lineHeight:"18px"}),LabelXSmall:a({},p,{fontFamily:b,fontWeight:w,fontSize:12,lineHeight:"16px"}),Caption:a({},p,{fontFamily:b,fontWeight:w,fontSize:14,lineHeight:"20px"}),Footnote:a({},p,{fontFamily:b,fontWeight:w,fontSize:12,lineHeight:"18px"})}),Ie=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="h1"}=e,i=f(e,Ie);return o.createElement(g,a({},i,{tag:l,style:[y.Title,n],ref:t}),s)});const Le=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="h2"}=e,i=f(e,Le);return o.createElement(g,a({},i,{tag:l,style:[y.HeadingLarge,n],ref:t}),s)});const Oe=["style","children","tag"],Pe=o.forwardRef(function(e,t){let{style:n,children:s,tag:l="h3"}=e,i=f(e,Oe);return o.createElement(g,a({},i,{tag:l,style:[y.HeadingMedium,n],ref:t}),s)}),$e=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="h4"}=e,i=f(e,$e);return o.createElement(g,a({},i,{tag:l,style:[y.HeadingSmall,n],ref:t}),s)});const Te=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="h4"}=e,i=f(e,Te);return o.createElement(g,a({},i,{tag:l,style:[y.HeadingXSmall,n],ref:t}),s)});const Re=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,Re);return o.createElement(g,a({},i,{tag:l,style:[y.BodySerifBlock,n],ref:t}),s)});const ke=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,ke);return o.createElement(g,a({},i,{tag:l,style:[y.BodySerif,n],ref:t}),s)});const He=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,He);return o.createElement(g,a({},i,{tag:l,style:[y.BodyMonospace,n],ref:t}),s)});const Ne=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,Ne);return o.createElement(g,a({},i,{tag:l,style:[y.Body,n],ref:t}),s)});const ze=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,ze);return o.createElement(g,a({},i,{tag:l,style:[y.LabelLarge,n],ref:t}),s)});const Be=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,Be);return o.createElement(g,a({},i,{tag:l,style:[y.LabelMedium,n],ref:t}),s)});const De=["style","children","tag"],We=o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,De);return o.createElement(g,a({},i,{tag:l,style:[y.LabelSmall,n],ref:t}),s)}),Ae=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,Ae);return o.createElement(g,a({},i,{tag:l,style:[y.LabelXSmall,n],ref:t}),s)});const qe=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,qe);return o.createElement(g,a({},i,{tag:l,style:[y.Tagline,n],ref:t}),s)});const je=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,je);return o.createElement(g,a({},i,{tag:l,style:[y.Caption,n],ref:t}),s)});const Ue=["style","children","tag"];o.forwardRef(function(e,t){let{style:n,children:s,tag:l="span"}=e,i=f(e,Ue);return o.createElement(g,a({},i,{tag:l,style:[y.Footnote,n],ref:t}),s)});const G=d.large_24,te={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:d.medium_16,marginWidth:d.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:d.xLarge_32,marginWidth:d.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:d.xLarge_32,marginWidth:G,maxWidth:1120+G*2}},Ve={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:d.xLarge_32,marginWidth:d.medium_16}},Xe={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:d.medium_16,marginWidth:d.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:d.xLarge_32,marginWidth:d.xxLarge_48}},Ye={ssrSize:"large",mediaSpec:te},oe=o.createContext(Ye);oe.displayName="MediaLayoutContext";const R={},Ke="large";class Ge extends o.Component{constructor(e){super(e),this.cleanupThunks=void 0,this.state={size:void 0},this.cleanupThunks=[]}componentDidMount(){const e=Object.entries(this.props.mediaSpec);for(const[t,n]of e){const s=R[n.query];if(!s)continue;const l=i=>{i.matches&&this.setState({size:t})};s.addListener(l),this.cleanupThunks.push(()=>s.removeListener(l))}}componentWillUnmount(){this.cleanupThunks.forEach(e=>e())}getCurrentSize(e){if(this.state.size)return this.state.size;{const t=Object.entries(this.props.mediaSpec);for(const[n,s]of t)if(R[s.query].matches)return n}return Ke}isUnsupportedEnvironment(){return typeof window>"u"||!window.matchMedia}getMockStyleSheet(e){const{styleSheets:t}=this.props,n={};if(!t)return n;for(const s of Object.keys(t)){const l=t[s];if(l)for(const i of Object.keys(l))Object.prototype.hasOwnProperty.call(n,i)||(n[i]=[t.all&&t.all[i],e==="small"&&[t.mdOrSmaller&&t.mdOrSmaller[i],t.small&&t.small[i]],e==="medium"&&[t.mdOrSmaller&&t.mdOrSmaller[i],t.mdOrLarger&&t.mdOrLarger[i],t.medium&&t.medium[i]],e==="large"&&[t.mdOrLarger&&t.mdOrLarger[i],t.large&&t.large[i]]])}return n}renderContent(e){const{children:t,mediaSpec:n,ssrSize:s,overrideSize:l}=this.props,i=[...Object.values(te).map(c=>c.query),...Object.values(Ve).map(c=>c.query),...Object.values(Xe).map(c=>c.query),...Object.values(n).map(c=>c.query)];if(!e)for(const c of i.filter(x=>!R[x]))R[c]=window.matchMedia(c);const h=l||e&&s||this.getCurrentSize(n),u=this.getMockStyleSheet(h);return t({mediaSize:h,mediaSpec:n,styles:u})}render(){return o.createElement(ee,{fallback:()=>this.renderContent(!0)},()=>this.renderContent(this.isUnsupportedEnvironment()))}}class Qe extends o.Component{render(){return o.createElement(oe.Consumer,null,({overrideSize:e,ssrSize:t,mediaSpec:n})=>o.createElement(Ge,a({},this.props,{overrideSize:e,ssrSize:t,mediaSpec:n})))}}E.StyleSheet.create({grow:{flexGrow:1}});const A={color:{bg:{inverse:v.darkBlue},text:{inverse:v.white,secondary:v.offBlack64},shadow:{default:v.offBlack16}},border:{radius:me.radius.medium_4},spacing:{dialog:{small:d.medium_16},panel:{closeButton:d.medium_16,footer:d.xLarge_32},header:{xsmall:d.xSmall_8,small:d.medium_16,medium:d.large_24,large:d.xLarge_32}}},Ze=ie(A,{color:{bg:{inverse:v.eggplant}}}),Je={default:A,khanmigo:Ze},$=ae(A);function et(r){const e=o.useContext(de),t=Je[e]||A;return o.createElement($.Provider,{value:t},r.children)}const tt=o.forwardRef(function(e,t){const{above:n,below:s,role:l="dialog",style:i,children:h,testId:u,"aria-labelledby":c,"aria-describedby":x}=e,{theme:T}=z($),C=B(nt,T);return o.createElement(S,{style:[C.wrapper,i]},s&&o.createElement(S,{style:C.below},s),o.createElement(S,{role:l,"aria-modal":"true","aria-labelledby":c,"aria-describedby":x,ref:t,style:C.dialog,testId:u},h),n&&o.createElement(S,{style:C.above},n))}),ne=o.forwardRef(function(e,t){return o.createElement(et,null,o.createElement(tt,a({},e,{ref:t})))}),ot="@media (max-width: 767px)",nt=r=>({wrapper:{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",height:"100%",position:"relative",[ot]:{padding:r.spacing.dialog.small,flexDirection:"column"}},dialog:{width:"100%",height:"100%",borderRadius:r.border.radius,overflow:"hidden"},above:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},below:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:-1}});ne.displayName="ModalDialog";function N({children:r}){return o.createElement(S,{style:rt.footer},r)}N.__IS_MODAL_FOOTER__=!0;N.isComponentOf=r=>r&&r.type&&r.type.__IS_MODAL_FOOTER__;const rt=E.StyleSheet.create({footer:{flex:"0 0 auto",boxSizing:"border-box",minHeight:d.xxxLarge_64,paddingLeft:d.medium_16,paddingRight:d.medium_16,paddingTop:d.xSmall_8,paddingBottom:d.xSmall_8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px -1px 0px ${v.offBlack16}`}});function H(r){const{breadcrumbs:e=void 0,light:t,subtitle:n=void 0,testId:s,title:l,titleId:i}=r;if(n&&e)throw new Error("'subtitle' and 'breadcrumbs' can't be used together");const{theme:h}=z($),u=B(st,h);return o.createElement(S,{style:[u.header,!t&&u.dark],testId:s},e&&o.createElement(S,{style:u.breadcrumbs},e),o.createElement(Pe,{style:u.title,id:i,testId:s&&`${s}-title`},l),n&&o.createElement(We,{style:t&&u.subtitle,testId:s&&`${s}-subtitle`},n))}const Q="@media (max-width: 767px)",st=r=>({header:{boxShadow:`0px 1px 0px ${r.color.shadow.default}`,display:"flex",flexDirection:"column",minHeight:66,padding:`${r.spacing.header.medium}px ${r.spacing.header.large}px`,position:"relative",width:"100%",[Q]:{paddingLeft:r.spacing.header.small,paddingRight:r.spacing.header.small}},dark:{background:r.color.bg.inverse,color:r.color.text.inverse},breadcrumbs:{color:r.color.text.secondary,marginBottom:r.spacing.header.xsmall},title:{paddingRight:r.spacing.header.small,[Q]:{paddingRight:r.spacing.header.large}},subtitle:{color:r.color.text.secondary,marginTop:r.spacing.header.xsmall}});H.defaultProps={light:!0};const lt='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';class it extends o.Component{constructor(...e){super(...e),this.modalRoot=void 0,this.getModalRoot=t=>{if(!t)return;const n=F.findDOMNode(t);if(!n)throw new Error("Assertion error: modal root should exist after mount");this.modalRoot=n},this.handleFocusMoveToLast=()=>{this.focusElementIn(!1)},this.handleFocusMoveToFirst=()=>{this.focusElementIn(!0)}}tryToFocus(e){if(e instanceof HTMLElement){try{e.focus()}catch{}return document.activeElement===e}}focusElementIn(e){const t=this.modalRoot,n=Array.from(t.querySelectorAll(lt)),s=e?0:n.length-1,l=n[s];this.tryToFocus(l)}render(){const{style:e}=this.props;return o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,className:"modal-focus-trap-first",onFocus:this.handleFocusMoveToLast,style:{position:"fixed"}}),o.createElement(S,{style:e,ref:this.getModalRoot},this.props.children),o.createElement("div",{tabIndex:0,className:"modal-focus-trap-last",onFocus:this.handleFocusMoveToFirst,style:{position:"fixed"}}))}}const re="data-modal-launcher-portal",at='a[href], details, input, textarea, select, button:not([aria-label^="Close"])';function dt(r){return Array.from(r.querySelectorAll(at))}class ct extends o.Component{constructor(...e){super(...e),this._mousePressedOutside=!1,this.handleMouseDown=t=>{this._mousePressedOutside=t.target===t.currentTarget},this.handleMouseUp=t=>{t.target===t.currentTarget&&this._mousePressedOutside&&this.props.onCloseModal(),this._mousePressedOutside=!1}}componentDidMount(){const e=F.findDOMNode(this);if(!e)return;const t=this._getInitialFocusElement(e)||this._getFirstFocusableElement(e)||this._getDialogElement(e);setTimeout(()=>{t.focus()},0)}_getInitialFocusElement(e){const{initialFocusId:t}=this.props;return t?F.findDOMNode(e.querySelector(`#${t}`)):null}_getFirstFocusableElement(e){const t=dt(e);return t?t[0]:null}_getDialogElement(e){const t=F.findDOMNode(e.querySelector('[role="dialog"]'));return t.tabIndex=-1,t}render(){const{children:e,testId:t}=this.props,n={[re]:!0};return o.createElement(S,a({style:ut.modalPositioner,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,testId:t},n),e)}}const ut=E.StyleSheet.create({modalPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",overflow:"auto",background:v.offBlack64}}),U=(()=>{if(typeof window>"u")return!1;const r=window.navigator.userAgent;return r.indexOf("iPad")>-1||r.indexOf("iPhone")>-1})();class m extends o.Component{componentDidMount(){if(m.numModalsOpened===0){const e=document.body;if(!e)throw new Error("couldn't find document.body");m.oldOverflow=e.style.overflow,m.oldScrollY=window.scrollY,U&&(m.oldPosition=e.style.position,m.oldWidth=e.style.width,m.oldTop=e.style.top),e.style.overflow="hidden",U&&(e.style.position="fixed",e.style.width="100%",e.style.top=`${-m.oldScrollY}px`)}m.numModalsOpened++}componentWillUnmount(){if(m.numModalsOpened--,m.numModalsOpened===0){const e=document.body;if(!e)throw new Error("couldn't find document.body");e.style.overflow=m.oldOverflow,U&&(e.style.position=m.oldPosition,e.style.width=m.oldWidth,e.style.top=m.oldTop),typeof window<"u"&&window.scrollTo&&window.scrollTo(0,m.oldScrollY)}}render(){return null}}m.oldOverflow=void 0;m.oldPosition=void 0;m.oldScrollY=void 0;m.oldWidth=void 0;m.oldTop=void 0;m.numModalsOpened=0;const mt={closeModal:void 0},X=o.createContext(mt);X.displayName="ModalContext";class se extends o.Component{constructor(...e){super(...e),this.lastElementFocusedOutsideModal=void 0,this.state={opened:!1},this._saveLastElementFocused=()=>{this.lastElementFocusedOutsideModal=document.activeElement},this._openModal=()=>{this._saveLastElementFocused(),this.setState({opened:!0})},this._returnFocus=()=>{const{closedFocusId:t,schedule:n}=this.props,s=this.lastElementFocusedOutsideModal;if(t){const l=F.findDOMNode(document.getElementById(t));if(l){n.animationFrame(()=>{l.focus()});return}}s!=null&&n.animationFrame(()=>{s.focus()})},this.handleCloseModal=()=>{this.setState({opened:!1},()=>{const{onClose:t}=this.props;t==null||t(),this._returnFocus()})}}static getDerivedStateFromProps(e,t){return typeof e.opened=="boolean"&&e.children&&console.warn("'children' and 'opened' can't be used together"),typeof e.opened=="boolean"&&!e.onClose&&console.warn("'onClose' should be used with 'opened'"),typeof e.opened!="boolean"&&!e.children&&console.warn("either 'children' or 'opened' must be set"),{opened:typeof e.opened=="boolean"?e.opened:t.opened}}componentDidUpdate(e){!e.opened&&this.props.opened&&this._saveLastElementFocused()}_renderModal(){return typeof this.props.modal=="function"?this.props.modal({closeModal:this.handleCloseModal}):this.props.modal}render(){const e=this.props.children?this.props.children({openModal:this._openModal}):null,{body:t}=document;return t?o.createElement(X.Provider,{value:{closeModal:this.handleCloseModal}},e,this.state.opened&&F.createPortal(o.createElement(it,{style:ft.container},o.createElement(ct,{initialFocusId:this.props.initialFocusId,testId:this.props.testId,onCloseModal:this.props.backdropDismissEnabled?this.handleCloseModal:()=>{}},this._renderModal())),t),this.state.opened&&o.createElement(ht,{onClose:this.handleCloseModal}),this.state.opened&&o.createElement(m,null)):null}}se.defaultProps={backdropDismissEnabled:!0};class ht extends o.Component{constructor(...e){super(...e),this._handleKeyup=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup)}render(){return null}}const ft=E.StyleSheet.create({container:{zIndex:1080}});he(se);function L(r){const{scrollOverflow:e,style:t,children:n}=r,{theme:s}=z($),l=B(gt,s);return o.createElement(S,{style:[l.wrapper,e&&l.scrollOverflow]},o.createElement(S,{style:[l.content,t]},n))}L.__IS_MODAL_CONTENT__=!0;L.isComponentOf=r=>r&&r.type&&r.type.__IS_MODAL_CONTENT__;const pt="@media (max-width: 767px)",gt=r=>({wrapper:{flex:1,display:"block"},scrollOverflow:{overflow:"auto"},content:{flex:1,minHeight:"100%",padding:d.xLarge_32,boxSizing:"border-box",[pt]:{padding:`${d.xLarge_32}px ${d.medium_16}px`}}});L.defaultProps={scrollOverflow:!0};class yt extends o.Component{render(){const{light:e,onClick:t,style:n,testId:s}=this.props;return o.createElement(X.Consumer,null,({closeModal:l})=>{if(l&&t)throw new Error("You've specified 'onClose' on a modal when using ModalLauncher.  Please specify 'onClose' on the ModalLauncher instead");return o.createElement(ce,{icon:ue,"aria-label":"Close modal",onClick:t||l,kind:e?"primary":"tertiary",light:e,style:n,testId:s})})}}function le({closeButtonVisible:r=!0,scrollOverflow:e=!0,light:t=!0,content:n,footer:s,header:l,onClose:i,style:h,testId:u}){const{theme:c}=z($),x=B(xt,c),C=o.useCallback(()=>{const M=L.isComponentOf(n)?n:o.createElement(L,null,n);return M&&o.cloneElement(M,{scrollOverflow:e,style:[!!s&&x.hasFooter,M.props.style]})},[n,s,e,x.hasFooter])();return o.createElement(S,{style:[x.wrapper,!t&&x.dark,h],testId:u&&`${u}-panel`},r&&o.createElement(yt,{light:!t,onClick:i,style:x.closeButton,testId:u&&`${u}-close`}),l,C,!s||N.isComponentOf(s)?s:o.createElement(N,null,s))}le.defaultProps={closeButtonVisible:!0,scrollOverflow:!0,light:!0};const xt=r=>({wrapper:{flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column",background:"white",boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%"},closeButton:{position:"absolute",right:r.spacing.panel.closeButton,top:r.spacing.panel.closeButton,zIndex:1},dark:{background:r.color.bg.inverse,color:r.color.text.inverse},hasFooter:{paddingBottom:r.spacing.panel.footer}});class bt extends o.Component{renderHeader(e){const{title:t,breadcrumbs:n=void 0,subtitle:s=void 0,testId:l}=this.props;return n?o.createElement(H,{title:t,breadcrumbs:n,titleId:e,testId:l&&`${l}-header`}):s?o.createElement(H,{title:t,subtitle:s,titleId:e,testId:l&&`${l}-header`}):o.createElement(H,{title:t,titleId:e,testId:l&&`${l}-header`})}render(){const{onClose:e,footer:t,content:n,above:s,below:l,style:i,closeButtonVisible:h,testId:u,titleId:c,role:x,"aria-describedby":T}=this.props;return o.createElement(Qe,{styleSheets:St},({styles:C})=>o.createElement(W,{id:c,scope:"modal"},M=>o.createElement(ne,{style:[C.dialog,i],above:s,below:l,testId:u,"aria-labelledby":M,"aria-describedby":T,role:x},o.createElement(le,{onClose:e,header:this.renderHeader(M),content:n,footer:t,closeButtonVisible:h,testId:u}))))}}bt.defaultProps={closeButtonVisible:!0};const St={small:E.StyleSheet.create({dialog:{width:"100%",height:"100%",overflow:"hidden"}}),mdOrLarger:E.StyleSheet.create({dialog:{width:"93.75%",maxWidth:576,height:"81.25%",maxHeight:624}})};function Et(r){let e=r&&r.parentElement;for(;e&&!e.hasAttribute(re);)e=e.parentElement;return e}function Lt(r){return Et(r)}export{Lt as m};
