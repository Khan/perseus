import{c as $}from"./util-AXsb50Si.js";import"./underscore-885MUNGo.js";import{o as x,x as F}from"./random-util-qPwTTOJz.js";import"./jquery-5v7aFUvu.js";import"./all-widgets-8KQBz02C.js";import"./phet-simulation-ZEc6HIcw.js";import"./dependencies-CP7Uh8Kq.js";import"./perseus-api-Y55S7ZPk.js";import"./server-item-renderer-G2iRM89f.js";import"./article-renderer-TSj2cCLy.js";import"./hints-renderer-btsZeGmx.js";import"./renderer-EEP7M_38.js";import"./base-radio-iRTMK2L6.js";import{c as W}from"./components-pH0UwuFS.js";import"./i18n-context-T9Cdk0dK.js";import"./svg-image-QtqEBn5V.js";import"./index-smZ6iCr_.js";import{B as X}from"./index-71P4mDMp.js";import{V as c}from"./index-hw7d7wq0.js";import{S as V,O as Y}from"./answer-choices-lt_PAgMc.js";import{S as m}from"./index-v_a-r9JG.js";import{s as i,c as f}from"./index-zRqVZh6A.js";import{a as C,L as G}from"./index-jek-Xksa.js";import{L as H,p as J}from"./locked-figure-aria-VN00Y2yP.js";import{n as E}from"./no-important-xCWWYXQR.js";import{r as e}from"./index-6oxdNXpR.js";import{S as K}from"./scrollless-number-text-field-rQL1rvNx.js";import{C as L,L as Q,a as Z}from"./locked-label-settings-gyDV1CQ_.js";import{P as ee}from"./trash-bold-X0K-rZxs.js";import{C as re}from"./color-select-bT_EpdJL.js";import{L as ne}from"./line-stroke-select-KDlJnFeO.js";import{g as te,j as ae,a as S,b as le}from"./util-68OhiX4g.js";const{convertDegreesToRadians:oe,convertRadiansToDegrees:ie}=$,_=p=>{const{angle:t,onChange:l}=p,[d,b]=e.useState(ie(t).toString());function n(y){b(y),!(isNaN(+y)||y==="")&&l(oe(y))}return e.createElement(C,{tag:"label",style:T.row},"angle (degrees)",e.createElement(m,{size:i.xxSmall_6}),e.createElement(K,{value:d,onChange:n,style:T.textField}),e.createElement(m,{size:i.xxSmall_6}))},T=E.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{width:i.xxxLarge_64}});_.__docgenInfo={description:"",methods:[],displayName:"AngleInput",props:{angle:{required:!0,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(angle: number) => void",signature:{arguments:[{type:{name:"number"},name:"angle"}],return:{name:"void"}}},description:""}}};const z=p=>{const{color:t,fillStyle:l,strokeStyle:d}=p;return e.createElement(c,{"aria-label":`${t}, stroke ${d}, fill ${l}`,style:[q.container,{border:`4px ${d} ${x[t]}`}]},e.createElement(c,{style:[q.innerCircle,{backgroundColor:x[t],opacity:l==="white"?0:F[l]}]}))},q=E.StyleSheet.create({container:{outline:`2px solid ${f.offWhite}`,borderRadius:"50%",width:i.xLarge_32,height:i.large_24,backgroundColor:f.white,alignItems:"center",justifyContent:"center"},innerCircle:{width:28,height:20,borderRadius:"50%"}});z.__docgenInfo={description:"",methods:[],displayName:"EllipseSwatch",props:{color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""}}};const{convertRadiansToDegrees:se}=$,{InfoTip:ue}=W,P=p=>{const{center:t,radius:l,angle:d,color:b,labels:n,ariaLabel:y,fillStyle:h,strokeStyle:v,expanded:A,onToggle:R,onChangeProps:u,onMove:I,onRemove:N}=p;async function D(){const r=await ae(n),a=await S(`$${t[0]}$`),s=await S(`$${t[1]}$`),g=await S(`$${se(d)}$`),k=l[0]===l[1];let w="";k?w+=`Circle${r} with radius ${l[0]}`:w+=`Ellipse${r} with x radius ${l[0]} and y radius ${l[1]}`,w+=`, centered at ${a} comma ${s}`,!k&&d!==0&&(w+=`, rotated by ${g} degrees`);const U=le(b,v,h);return w+=U,w}function j(r){const a=r[0]-t[0],s=r[1]-t[1],g={center:r};g.labels=n==null?void 0:n.map(k=>({...k,coord:[k.coord[0]+a,k.coord[1]+s]})),u(g)}function B(r){const a={color:r};a.labels=n==null?void 0:n.map(s=>({...s,color:r})),u(a)}function M(r,a){if(!n)return;const s=[...n];s[a]={...n[a],...r},u({labels:s})}function O(r){if(!n)return;const a=n.filter((s,g)=>g!==r);u({labels:a})}return e.createElement(ee,{expanded:A,onToggle:R,header:e.createElement(c,{style:o.row},e.createElement(G,null,`Ellipse (${t[0]}, ${t[1]}), radius ${l[0]}, ${l[1]}`),e.createElement(m,{size:i.xSmall_8}),e.createElement(z,{color:p.color,fillStyle:h,strokeStyle:v}))},e.createElement(c,{style:o.row},e.createElement(L,{coord:t,style:o.spaceUnder,onChange:j}),e.createElement(c,{style:o.spaceUnder},e.createElement(ue,null,"The coordinates for the center of the ellipse."))),e.createElement(L,{coord:l,labels:["x radius","y radius"],style:o.spaceUnder,onChange:r=>u({radius:r})}),e.createElement(_,{angle:d,onChange:r=>u({angle:r})}),e.createElement(m,{size:i.xSmall_8}),e.createElement(c,{style:[o.row,o.spaceUnder]},e.createElement(re,{selectedValue:b,onChange:B}),e.createElement(m,{size:i.medium_16}),e.createElement(C,{tag:"label",style:[o.row,o.truncatedWidth]},"fill",e.createElement(m,{size:i.xxSmall_6}),e.createElement(V,{selectedValue:h,onChange:r=>u({fillStyle:r}),placeholder:""},Object.keys(F).map(r=>e.createElement(Y,{key:r,value:r,label:r}))))),e.createElement(ne,{selectedValue:v,onChange:r=>u({strokeStyle:r})}),e.createElement(m,{size:i.small_12}),e.createElement(c,{style:o.horizontalRule}),e.createElement(H,{ariaLabel:y,getPrepopulatedAriaLabel:D,onChangeProps:r=>{u(r)}}),e.createElement(m,{size:i.xxxSmall_4}),e.createElement(c,{style:o.horizontalRule}),e.createElement(m,{size:i.small_12}),e.createElement(C,null,"Visible labels"),n==null?void 0:n.map((r,a)=>e.createElement(Q,{...r,key:a,expanded:!0,onChangeProps:s=>{M(s,a)},onRemove:()=>{O(a)},containerStyle:o.labelContainer})),e.createElement(X,{kind:"tertiary",startIcon:J,onClick:()=>{const r={...te("label"),coord:[t[0],t[1]-((n==null?void 0:n.length)??0)],color:b};u({labels:[...n??[],r]})},style:o.addButton},"Add visible label"),e.createElement(Z,{figureType:p.type,onMove:I,onRemove:N}))},o=E.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:i.xSmall_8},truncatedWidth:{minWidth:0},addButton:{alignSelf:"start"},labelContainer:{backgroundColor:f.white},horizontalRule:{height:1,backgroundColor:f.offBlack16}}),Oe=P;P.__docgenInfo={description:"",methods:[],displayName:"LockedEllipseSettings",props:{onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},type:{required:!0,tsType:{name:"literal",value:'"ellipse"'},description:""},center:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},radius:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},angle:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""},labels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedEllipseType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "ellipse";
    center: Coord;
    radius: [x: number, y: number];
    angle: number;
    color: LockedFigureColor;
    fillStyle: LockedFigureFillType;
    strokeStyle: LockedLineStyle;
    labels?: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"ellipse"',required:!0}},{key:"center",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"radius",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"angle",value:{name:"number",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"fillStyle",value:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}],required:!0}},{key:"strokeStyle",value:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}],required:!0}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!1}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedEllipseType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."}}};export{Oe as L};
