import{j as e}from"./jsx-runtime-63Ea5SlK.js";import{r as q}from"./index-6oxdNXpR.js";import{l as S,a as T}from"./article-renderer-6bYT-XHx.js";import"./jquery-yG1GhClm.js";import"./util-_iDv4tVD.js";import"./phet-simulation-hVRVRfpl.js";import"./version-akiLXZts.js";import"./dependencies-CP7Uh8Kq.js";import"./perseus-api-ooj0_ZRv.js";import"./perseus-item-ykjCGluQ.js";import"./hints-renderer-Ndd5B7Dt.js";import"./renderer-JmWrO39S.js";import"./base-radio-KFdKuwMq.js";import{c as O}from"./components-_SOfL9--.js";import"./i18n-context-ei4f54eq.js";import"./svg-image-wIdVOlIq.js";import"./index-smZ6iCr_.js";import{B as U}from"./index-69t9pbsh.js";import{V as p}from"./index-CgfdZoMj.js";import{S as W,O as V}from"./answer-choices-8GawtZU1.js";import{S as m}from"./index-C1N8lBvx.js";import{s,c as b}from"./index-dmcq622U.js";import{c as f,L as X}from"./index-6ID5EQ9c.js";import{L as G,p as H}from"./locked-figure-aria-_-Mj-rVt.js";import{l as v}from"./index-awljIyHI.js";import{S as J}from"./scrollless-number-text-field-9u0BIHxJ.js";import{r as F,d as K}from"./util-qk2aeK8X.js";import{P as Q,C,L as Y,a as Z}from"./locked-label-settings-8c8U9aqr.js";import{C as ee}from"./color-select-peFjcssg.js";import"./button-group-G5CZaedn.js";import"./graph-JHUHcoXy.js";import"./hud-ifw9Ofbw.js";import"./icon-7RFbyLiL.js";import"./index-1hft2BpG.js";import"./inline-icon-6fh0Wu1y.js";import"./math-input-NBo1H9JC.js";import"./multi-button-group-QUVHbBcE.js";import"./number-input-T6lG2NEQ.js";import"./range-input-Gg2JKhNA.js";import"./text-input-uyhLZIJm.js";import"./text-list-editor-K49FGdd7.js";import{L as re}from"./line-stroke-select-PSQj6hxq.js";import{g as ne,j as te,a as ae}from"./util-CuQT-fFR.js";const $=c=>{const{angle:l,onChange:o}=c,[d,h]=q.useState(F(l).toString());function n(y){h(y),!(isNaN(+y)||y==="")&&o(K(y))}return e.jsxs(f,{tag:"label",style:L.row,children:["angle (degrees)",e.jsx(m,{size:s.xxSmall_6}),e.jsx(J,{value:d,onChange:n,style:L.textField}),e.jsx(m,{size:s.xxSmall_6})]})},L=v.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{width:s.xxxLarge_64}});$.__docgenInfo={description:"",methods:[],displayName:"AngleInput",props:{angle:{required:!0,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(angle: number) => void",signature:{arguments:[{type:{name:"number"},name:"angle"}],return:{name:"void"}}},description:""}}};const _=c=>{const{color:l,fillStyle:o,strokeStyle:d}=c;return e.jsx(p,{"aria-label":`${l}, stroke ${d}, fill ${o}`,style:[j.container,{border:`4px ${d} ${S[l]}`}],children:e.jsx(p,{style:[j.innerCircle,{backgroundColor:S[l],opacity:o==="white"?0:T[o]}]})})},j=v.StyleSheet.create({container:{outline:`2px solid ${b.offWhite}`,borderRadius:"50%",width:s.xLarge_32,height:s.large_24,backgroundColor:b.white,alignItems:"center",justifyContent:"center"},innerCircle:{width:28,height:20,borderRadius:"50%"}});_.__docgenInfo={description:"",methods:[],displayName:"EllipseSwatch",props:{color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""}}};const{InfoTip:le}=O,z=c=>{const{center:l,radius:o,angle:d,color:h,labels:n,ariaLabel:y,fillStyle:k,strokeStyle:w,expanded:P,onToggle:A,onChangeProps:u,onMove:E,onRemove:I}=c;async function N(){const r=await te(n),t=o[0]===o[1];let a="";t?a+=`Circle${r} with radius ${o[0]}`:a+=`Ellipse${r} with x radius ${o[0]} and y radius ${o[1]}`,a+=`, centered at ${l[0]} comma ${l[1]}`,!t&&d!==0&&(a+=`, rotated by ${F(d)} degrees`);const g=ae(h,w,k);return a+=g,a}function R(r){const t=r[0]-l[0],a=r[1]-l[1],g={center:r};g.labels=n==null?void 0:n.map(x=>({...x,coord:[x.coord[0]+t,x.coord[1]+a]})),u(g)}function B(r){const t={color:r};t.labels=n==null?void 0:n.map(a=>({...a,color:r})),u(t)}function D(r,t){if(!n)return;const a=[...n];a[t]={...n[t],...r},u({labels:a})}function M(r){if(!n)return;const t=n.filter((a,g)=>g!==r);u({labels:t})}return e.jsxs(Q,{expanded:P,onToggle:A,header:e.jsxs(p,{style:i.row,children:[e.jsx(X,{children:`Ellipse (${l[0]}, ${l[1]}), radius ${o[0]}, ${o[1]}`}),e.jsx(m,{size:s.xSmall_8}),e.jsx(_,{color:c.color,fillStyle:k,strokeStyle:w})]}),children:[e.jsxs(p,{style:i.row,children:[e.jsx(C,{coord:l,style:i.spaceUnder,onChange:R}),e.jsx(p,{style:i.spaceUnder,children:e.jsx(le,{children:"The coordinates for the center of the ellipse."})})]}),e.jsx(C,{coord:o,labels:["x radius","y radius"],style:i.spaceUnder,onChange:r=>u({radius:r})}),e.jsx($,{angle:d,onChange:r=>u({angle:r})}),e.jsx(m,{size:s.xSmall_8}),e.jsxs(p,{style:[i.row,i.spaceUnder],children:[e.jsx(ee,{selectedValue:h,onChange:B}),e.jsx(m,{size:s.medium_16}),e.jsxs(f,{tag:"label",style:[i.row,i.truncatedWidth],children:["fill",e.jsx(m,{size:s.xxSmall_6}),e.jsx(W,{selectedValue:k,onChange:r=>u({fillStyle:r}),placeholder:"",children:Object.keys(T).map(r=>e.jsx(V,{value:r,label:r},r))})]})]}),e.jsx(re,{selectedValue:w,onChange:r=>u({strokeStyle:r})}),e.jsx(m,{size:s.small_12}),e.jsx(p,{style:i.horizontalRule}),e.jsx(G,{ariaLabel:y,getPrepopulatedAriaLabel:N,onChangeProps:r=>{u(r)}}),e.jsx(m,{size:s.xxxSmall_4}),e.jsx(p,{style:i.horizontalRule}),e.jsx(m,{size:s.small_12}),e.jsx(f,{children:"Visible labels"}),n==null?void 0:n.map((r,t)=>q.createElement(Y,{...r,key:t,expanded:!0,onChangeProps:a=>{D(a,t)},onRemove:()=>{M(t)},containerStyle:i.labelContainer})),e.jsx(U,{kind:"tertiary",startIcon:H,onClick:()=>{const r={...ne("label"),coord:[l[0],l[1]-((n==null?void 0:n.length)??0)],color:h};u({labels:[...n??[],r]})},style:i.addButton,children:"Add visible label"}),e.jsx(Z,{figureType:c.type,onMove:E,onRemove:I})]})},i=v.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:s.xSmall_8},truncatedWidth:{minWidth:0},addButton:{alignSelf:"start"},labelContainer:{backgroundColor:b.white},horizontalRule:{height:1,backgroundColor:b.offBlack16}}),Je=z;z.__docgenInfo={description:"",methods:[],displayName:"LockedEllipseSettings",props:{onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},type:{required:!0,tsType:{name:"literal",value:'"ellipse"'},description:""},center:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},radius:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},angle:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""},labels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedEllipseType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "ellipse";
    center: Coord;
    radius: [x: number, y: number];
    angle: number;
    color: LockedFigureColor;
    fillStyle: LockedFigureFillType;
    strokeStyle: LockedLineStyle;
    labels?: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"ellipse"',required:!0}},{key:"center",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"radius",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"angle",value:{name:"number",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"fillStyle",value:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}],required:!0}},{key:"strokeStyle",value:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}],required:!0}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!1}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedEllipseType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."}}};export{Je as L};
