import{a as u,j as o,F as q}from"./jsx-runtime-FVsy8kgq.js";import"./util-EodL-OyW.js";import{e as Z}from"./svg-image-WHPtcgo-.js";import{B as G}from"./choice-zricoHUw.js";import{V as L}from"./index-6h5t6F0w.js";import{S as H,O as S}from"./answer-choices-EARHE7Ln.js";import{S as h}from"./index-qUyqkRvh.js";import{s as g,c as k}from"./index-deFLJwr4.js";import{L as J,a as x}from"./index-h_CiYGGb.js";import{L as Q,p as X}from"./locked-figure-aria-Q3xwC18w.js";import{l as Y}from"./index-awljIyHI.js";import{v as f}from"./index-IIMKO4_x.js";import{P as ee,L as oe,a as ne}from"./locked-label-settings-n97zOeZo.js";import{C as te}from"./color-select--rvtn4Tn.js";import{L as re}from"./line-stroke-select-svqZ1XDL.js";import{L as ae}from"./line-swatch-uuDXJOB4.js";import{L as R}from"./locked-point-settings-uH-_wIdZ.js";import{g as ie}from"./util-viPENWTt.js";const C="The line cannot have length 0.",B=b=>{var z,_;const{flags:l,kind:y,points:p,color:w,lineStyle:T="solid",showPoint1:I,showPoint2:M,labels:n,ariaLabel:V,onChangeProps:a,onMove:j,onRemove:O}=b,[s,d]=p,$=y.charAt(0).toUpperCase()+y.slice(1),U=`${$} (${s.coord[0]},
        ${s.coord[1]}), (${d.coord[0]}, ${d.coord[1]})`,v=Z(s.coord,d.coord);function D(){let e="";return n&&n.length>0&&(e+=` ${n.map(t=>t.text).join(", ")}`),`${$}${e} from (${s.coord[0]}, ${s.coord[1]}) to (${d.coord[0]}, ${d.coord[1]})`}function F(e,r){const t=[...p];t[r]={...p[r],...e};const m=f.midpoint(p[0].coord,p[1].coord),c=f.midpoint(t[0].coord,t[1].coord),A=[c[0]-m[0],c[1]-m[1]],W=n==null?void 0:n.map((P,le)=>({...P,coord:[P.coord[0]+A[0],P.coord[1]+A[1]]}));a({points:t,labels:W})}function E(e){var t,m;const r=n==null?void 0:n.map(c=>({...c,color:e}));a({color:e,points:[{...s,color:e,labels:(t=s.labels)==null?void 0:t.map(c=>({...c,color:e}))},{...d,color:e,labels:(m=d.labels)==null?void 0:m.map(c=>({...c,color:e}))}],labels:r})}function K(e,r){if(!n)return;const t=[...n];t[r]={...n[r],...e},a({labels:t})}function N(e){if(!n)return;const r=n.filter((t,m)=>m!==e);a({labels:r})}return u(ee,{expanded:b.expanded,onToggle:b.onToggle,header:u(L,{style:i.row,children:[o(J,{children:U}),o(h,{size:g.xSmall_8}),o(ae,{color:w,lineStyle:T})]}),children:[u(x,{tag:"label",style:[i.row,i.spaceUnder],children:["kind",o(h,{size:g.xxxSmall_4}),u(H,{selectedValue:y,onChange:e=>a({kind:e}),placeholder:"",children:[o(S,{value:"line",label:"line"}),o(S,{value:"ray",label:"ray"}),o(S,{value:"segment",label:"segment"})]})]}),u(L,{style:i.row,children:[o(te,{selectedValue:w,onChange:E}),o(h,{size:g.small_12}),o(re,{selectedValue:T,onChange:e=>a({lineStyle:e})})]}),v&&o(x,{style:i.errorText,children:C}),o(R,{flags:l,headerLabel:"Point 1",expanded:!0,showPoint:I,error:v?C:null,...s,onTogglePoint:e=>a({showPoint1:e}),onChangeProps:e=>F(e,0)}),o(R,{flags:l,headerLabel:"Point 2",expanded:!0,showPoint:M,error:v?C:null,...d,onTogglePoint:e=>a({showPoint2:e}),onChangeProps:e=>F(e,1)}),((z=l==null?void 0:l.mafs)==null?void 0:z["locked-figures-aria"])&&u(q,{children:[o(h,{size:g.small_12}),o(L,{style:i.horizontalRule}),o(Q,{ariaLabel:V,prePopulatedAriaLabel:D(),onChangeProps:e=>{a(e)}})]}),((_=l==null?void 0:l.mafs)==null?void 0:_["locked-line-labels"])&&u(q,{children:[o(h,{size:g.xxxSmall_4}),o(L,{style:i.horizontalRule}),o(h,{size:g.small_12}),o(x,{children:"Visible labels"}),n==null?void 0:n.map((e,r)=>o(oe,{...e,expanded:!0,onChangeProps:t=>{K(t,r)},onRemove:()=>{N(r)},containerStyle:i.labelContainer})),o(G,{kind:"tertiary",startIcon:X,onClick:()=>{const e=[0,-1],r=f.add(f.scale(e,(n==null?void 0:n.length)??0),f.midpoint(p[0].coord,p[1].coord)),t={...ie("label"),coord:r,color:w};a({labels:[...n??[],t]})},style:i.addButton,children:"Add visible label"})]}),o(ne,{figureType:b.type,onMove:j,onRemove:O})]})},i=Y.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:g.xSmall_8},errorText:{color:k.red},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:k.offBlack16},labelContainer:{backgroundColor:k.white}}),Ce=B;B.__docgenInfo={description:"",methods:[],displayName:"LockedLineSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFigure>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedFigure"}],raw:"Partial<LockedFigure>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{Ce as L};
