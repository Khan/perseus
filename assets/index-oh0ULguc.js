import{j as s,F as k,a as N}from"./jsx-runtime-BGVbfQ2Z.js";import{V as g}from"./index-4c2J3ov1.js";import{c as q}from"./index-fuyzzUuV.js";import{l as h}from"./index-awljIyHI.js";import{r as p,a as E}from"./index-qhcEwEpg.js";import{T as re}from"./tabbar-4UDQk7cN.js";import{u as P,K as y,c as ie}from"./button-assets-j_a3DoNi.js";import{K as c}from"./keypad-button-YUQpjb9n.js";import{N as oe,O as se,G as le}from"./operators-page-z1_bgPo7.js";import{N as de}from"./navigation-pad-WomDHo4v.js";import{R as A}from"./index-E09jvG0x.js";import{w as ue}from"./index-uu39Elyn.js";import{e as ce}from"./index-J2t_5nK1.js";var f=(t=>(t.NONE="NONE",t.IN_PARENS="IN_PARENS",t.IN_SUPER_SCRIPT="IN_SUPER_SCRIPT",t.IN_SUB_SCRIPT="IN_SUB_SCRIPT",t.IN_NUMERATOR="IN_NUMERATOR",t.IN_DENOMINATOR="IN_DENOMINATOR",t.BEFORE_FRACTION="BEFORE_FRACTION",t))(f||{});const U=3;function pe(t){const{extraKeys:e,onClickKey:n}=t,{strings:i}=P(),r=y(i);return s(k,{children:e.map((a,o)=>{const l=o%U,d=o/U;return s(c,{keyConfig:r[a],onClickKey:n,coord:[l,d]},a)})})}try{extraspage.displayName="extraspage",extraspage.__docgenInfo={description:"",displayName:"extraspage",props:{extraKeys:{defaultValue:null,description:"",name:"extraKeys",required:!0,type:{name:'readonly ("PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | "FRAC_INCLUSIVE" | "FRAC_EXCLUSIVE" | ... 96 more ... | "LOG_B")[]'}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}}}}}catch{}const B=500;function Q(t,e){if(!e)return null;switch(e){case f.NONE:return null;case f.IN_PARENS:return y(t).JUMP_OUT_PARENTHESES;case f.IN_SUPER_SCRIPT:return y(t).JUMP_OUT_EXPONENT;case f.IN_SUB_SCRIPT:return y(t).JUMP_OUT_BASE;case f.IN_NUMERATOR:return y(t).JUMP_OUT_NUMERATOR;case f.IN_DENOMINATOR:return y(t).JUMP_OUT_DENOMINATOR;case f.BEFORE_FRACTION:return y(t).JUMP_INTO_NUMERATOR}}function me(t){const{onClickKey:e,cursorContext:n}=t,{strings:i}=P(),r=Q(i,n),a=y(i);return N(k,{children:[s(c,{keyConfig:a.NUM_1,onClickKey:e,coord:[0,2]}),s(c,{keyConfig:a.NUM_2,onClickKey:e,coord:[1,2]}),s(c,{keyConfig:a.NUM_3,onClickKey:e,coord:[2,2]}),s(c,{keyConfig:a.NUM_4,onClickKey:e,coord:[0,1]}),s(c,{keyConfig:a.NUM_5,onClickKey:e,coord:[1,1]}),s(c,{keyConfig:a.NUM_6,onClickKey:e,coord:[2,1]}),s(c,{keyConfig:a.NUM_7,onClickKey:e,coord:[0,0]}),s(c,{keyConfig:a.NUM_8,onClickKey:e,coord:[1,0]}),s(c,{keyConfig:a.NUM_9,onClickKey:e,coord:[2,0]}),s(c,{keyConfig:a.NUM_0,onClickKey:e,coord:[0,3]}),s(c,{keyConfig:a.DECIMAL,onClickKey:e,coord:[1,3]}),s(c,{keyConfig:a.NEGATIVE,onClickKey:e,coord:[2,3]}),s(c,{keyConfig:a.PERCENT,onClickKey:e,coord:[3,0],secondary:!0}),s(c,{keyConfig:a.PI,onClickKey:e,coord:[3,1],secondary:!0}),s(c,{keyConfig:a.FRAC,onClickKey:e,coord:[3,2],secondary:!0}),r&&s(c,{keyConfig:r,onClickKey:e,coord:[3,3],secondary:!0}),s(c,{keyConfig:a.BACKSPACE,onClickKey:e,coord:[4,3],action:!0})]})}try{fractionspage.displayName="fractionspage",fractionspage.__docgenInfo={description:"",displayName:"fractionspage",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}}}}}catch{}function ye(t){const{onClickKey:e,cursorContext:n,divisionKey:i,convertDotToTimes:r,selectedPage:a}=t,{strings:o,locale:l}=P(),d=Q(o,n),u=y(o),m=a==="Numbers"||a==="Operators"?[3,1]:[3,0];return N(k,{children:[s(c,{keyConfig:u.FRAC,onClickKey:e,coord:m,secondary:!0}),s(c,{keyConfig:u.PLUS,onClickKey:e,coord:[4,0],secondary:!0}),s(c,{keyConfig:u.MINUS,onClickKey:e,coord:[5,0],secondary:!0}),s(c,{keyConfig:ie(l,!!r)?u.TIMES:u.CDOT,onClickKey:e,coord:[4,1],secondary:!0}),i&&s(c,{keyConfig:u.DIVIDE,onClickKey:e,coord:[5,1],secondary:!0}),s(c,{keyConfig:u.LEFT_PAREN,onClickKey:e,coord:[4,2],secondary:!0}),s(c,{keyConfig:u.RIGHT_PAREN,onClickKey:e,coord:[5,2],secondary:!0}),d&&s(c,{keyConfig:d,onClickKey:e,coord:[4,3],secondary:!0}),s(c,{keyConfig:u.BACKSPACE,onClickKey:e,coord:[5,3],action:!0})]})}try{sharedkeys.displayName="sharedkeys",sharedkeys.__docgenInfo={description:"",displayName:"sharedkeys",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},selectedPage:{defaultValue:null,description:"",name:"selectedPage",required:!0,type:{name:"enum",value:[{value:'"Geometry"'},{value:'"Operators"'},{value:'"Numbers"'},{value:'"Fractions"'},{value:'"Extras"'},{value:'"Dismiss"'}]}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}}}}}catch{}const fe={extraKeys:[]};function he(t){var n;if(t.fractionsOnly)return[];const e=["Numbers"];return(t.preAlgebra||t.logarithms||t.basicRelations||t.advancedRelations)&&e.push("Operators"),t.trigonometry&&e.push("Geometry"),(n=t.extraKeys)!=null&&n.length&&e.push("Extras"),e}function W(t){const e=t.fractionsOnly?"Fractions":"Numbers",[n,i]=p.useState(e),[r,a]=p.useState(!1),o=he(t),{onClickKey:l,cursorContext:d,extraKeys:u,convertDotToTimes:m,divisionKey:J,preAlgebra:X,logarithms:Y,basicRelations:Z,advancedRelations:ee,showDismiss:te,onAnalyticsEvent:I,fractionsOnly:R,expandedView:b}=t,ne=R?_.fractionsGrid:_.expressionGrid;return p.useEffect(()=>{i(e)},[R,e]),p.useEffect(()=>(r||(I({type:"math-input:keypad-opened",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),a(!0)),()=>{r&&(I({type:"math-input:keypad-closed",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),a(!1))}),[I,r]),s(g,{style:b?_.keypadOuterContainer:null,children:N(g,{style:[_.wrapper,b?_.expandedWrapper:null],children:[s(re,{items:o,selectedItem:n,onSelectItem:ae=>{i(ae)},onClickClose:te?()=>l("DISMISS"):void 0}),N(g,{style:_.keypadInnerContainer,children:[N(g,{style:[_.keypadGrid,ne],tabIndex:0,"aria-label":"Keypad",children:[n==="Fractions"&&s(me,{onClickKey:l,cursorContext:d}),n==="Numbers"&&s(oe,{onClickKey:l}),n==="Extras"&&s(pe,{onClickKey:l,extraKeys:u}),n==="Operators"&&s(se,{onClickKey:l,preAlgebra:X,logarithms:Y,basicRelations:Z,advancedRelations:ee}),n==="Geometry"&&s(le,{onClickKey:l}),!R&&s(ye,{onClickKey:l,cursorContext:d,convertDotToTimes:m,divisionKey:J,selectedPage:n})]}),b&&s(de,{onClickKey:l})]})]})})}W.defaultProps=fe;const _=h.StyleSheet.create({keypadOuterContainer:{display:"flex",alignItems:"center"},wrapper:{background:q.white},expandedWrapper:{borderWidth:"1px 1px 0 1px",borderColor:q.offBlack32,maxWidth:B,borderRadius:"3px 3px 0 0"},keypadInnerContainer:{display:"flex",flexDirection:"row",backgroundColor:"#DBDCDD"},keypadGrid:{display:"grid",gridTemplateRows:"repeat(4, 1fr)",flex:1},expressionGrid:{gridTemplateColumns:"repeat(6, 1fr)"},fractionsGrid:{gridTemplateColumns:"repeat(5, 1fr)"}});try{keypad.displayName="keypad",keypad.__docgenInfo={description:"",displayName:"keypad",props:{extraKeys:{defaultValue:{value:"[]"},description:"",name:"extraKeys",required:!1,type:{name:'readonly ("PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | "FRAC_INCLUSIVE" | "FRAC_EXCLUSIVE" | ... 96 more ... | "LOG_B")[]'}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},showDismiss:{defaultValue:null,description:"",name:"showDismiss",required:!1,type:{name:"boolean"}},expandedView:{defaultValue:null,description:"",name:"expandedView",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}},trigonometry:{defaultValue:null,description:"",name:"trigonometry",required:!1,type:{name:"boolean"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}},fractionsOnly:{defaultValue:null,description:"",name:"fractionsOnly",required:!1,type:{name:"boolean"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}const j=p.createContext({setKeypadActive:t=>{},keypadActive:!1,setKeypadElement:t=>{},keypadElement:null,setRenderer:t=>{},renderer:null,setScrollableElement:t=>{},scrollableElement:null});function L(t){const[e,n]=p.useState(!1),[i,r]=p.useState(),[a,o]=p.useState(),[l,d]=p.useState(),u=p.useMemo(()=>({keypadActive:e,setKeypadActive:n,keypadElement:i,setKeypadElement:r,renderer:a,setRenderer:o,scrollableElement:l,setScrollableElement:d}),[e,n,i,r,a,o,l,d]);return s(j.Provider,{value:u,children:t.children})}try{L.displayName="StatefulKeypadContextProvider",L.__docgenInfo={description:"",displayName:"StatefulKeypadContextProvider",props:{}}}catch{}class w extends p.Component{render(){const{numberOfLines:e,style:n}=this.props,i=h.css(F.initial,...Array.isArray(n)?n:[n],e===1&&F.singleLineStyle);return s("span",{className:i,style:this.props.dynamicStyle,children:this.props.children})}}const F=h.StyleSheet.create({initial:{color:"inherit",display:"inline",font:"inherit",margin:0,padding:0,textDecorationLine:"none",wordWrap:"break-word"},singleLineStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});try{w.displayName="Text",w.__docgenInfo={description:"",displayName:"Text",props:{dynamicStyle:{defaultValue:null,description:"",name:"dynamicStyle",required:!1,type:{name:"any"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}}}catch{}const S=class S extends p.Component{render(){const e=h.css(S.styles.initial,...Array.isArray(this.props.style)?this.props.style:[this.props.style])+(this.props.extraClassName?` ${this.props.extraClassName}`:"");return s("div",{className:e,style:this.props.dynamicStyle,onClick:this.props.onClick,onTouchCancel:this.props.onTouchCancel,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,"aria-label":this.props.ariaLabel,role:this.props.role,ref:this.props.forwardRef,children:this.props.children})}};S.styles=h.StyleSheet.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",margin:0,padding:0,position:"relative",backgroundColor:"transparent",color:"inherit",font:"inherit",textAlign:"inherit",textDecorationLine:"none",listStyle:"none",maxWidth:"100%",minHeight:0,minWidth:0}});let C=S;try{C.displayName="View",C.__docgenInfo={description:"",displayName:"View",props:{ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},dynamicStyle:{defaultValue:null,description:"",name:"dynamicStyle",required:!1,type:{name:"any"}},extraClassName:{defaultValue:null,description:"",name:"extraClassName",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((arg1: SyntheticEvent<HTMLDivElement, Event>) => void)"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}}}}}catch{}function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},O.apply(this,arguments)}function _e(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function V(t,e){return V=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},V(t,e)}function ve(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,V(t,e)}const G=E.createContext(null);function Ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t,e){var n=function(a){return e&&p.isValidElement(a)?e(a):a},i=Object.create(null);return t&&p.Children.map(t,function(r){return r}).forEach(function(r){i[r.key]=n(r)}),i}function Ne(t,e){t=t||{},e=e||{};function n(m){return m in e?e[m]:t[m]}var i=Object.create(null),r=[];for(var a in t)a in e?r.length&&(i[a]=r,r=[]):r.push(a);var o,l={};for(var d in e){if(i[d])for(o=0;o<i[d].length;o++){var u=i[d][o];l[i[d][o]]=n(u)}l[d]=n(d)}for(o=0;o<r.length;o++)l[r[o]]=n(r[o]);return l}function v(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Ce(t,e){return D(t.children,function(n){return p.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:v(n,"appear",t),enter:v(n,"enter",t),exit:v(n,"exit",t)})})}function ge(t,e,n){var i=D(t.children),r=Ne(e,i);return Object.keys(r).forEach(function(a){var o=r[a];if(p.isValidElement(o)){var l=a in e,d=a in i,u=e[a],m=p.isValidElement(u)&&!u.props.in;d&&(!l||m)?r[a]=p.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:v(o,"exit",t),enter:v(o,"enter",t)}):!d&&l&&!m?r[a]=p.cloneElement(o,{in:!1}):d&&l&&p.isValidElement(u)&&(r[a]=p.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:v(o,"exit",t),enter:v(o,"enter",t)}))}}),r}var Te=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Se={component:"div",childFactory:function(e){return e}},K=function(t){ve(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var o=a.handleExited.bind(Ee(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,a){var o=a.children,l=a.handleExited,d=a.firstRender;return{children:d?Ce(r,l):ge(r,o,l),firstRender:!1}},n.handleExited=function(r,a){var o=D(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(a),this.mounted&&this.setState(function(l){var d=O({},l.children);return delete d[r.key],{children:d}}))},n.render=function(){var r=this.props,a=r.component,o=r.childFactory,l=_e(r,["component","childFactory"]),d=this.state.contextValue,u=Te(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,a===null?E.createElement(G.Provider,{value:d},u):E.createElement(G.Provider,{value:d},E.createElement(a,l,u))},e}(E.Component);K.propTypes={};K.defaultProps=Se;function $(t){const e=[];if(!t)return e;if(Array.isArray(t))for(const n of t)e.push(...$(n));else e.push(t);return e}function H(t){const e=[],n=[];if(!t)return{style:{},className:""};const i=typeof globalThis<"u"&&globalThis.SNAPSHOT_INLINE_APHRODITE;$(t).forEach(a=>{const o=a._definition;if(o!=null)if(i){const l={};for(const[d,u]of ce(o))l[d.replace(/-[a-z]/g,m=>m[1].toUpperCase())]=u;n.push(l)}else e.push(a);else n.push(a)});const r=Object.assign({},...n);if(n.length>0&&!i){const a=h.StyleSheet.create({inlineStyles:r});e.push(a.inlineStyles)}return{style:i?r:{},className:h.css(...e)}}class Ie extends p.Component{constructor(e){super(e),this._isMounted=!1,this.addClass=(n,i)=>{i&&(n.classList.add(i),this.appliedClassNames.add(i))},this.removeClass=(n,i)=>{i&&(n.classList.remove(i),this.appliedClassNames.delete(i))},this.flushClassNameQueue=()=>{if(this._isMounted){const n=A.findDOMNode(this);n instanceof Element&&this.classNameQueue.forEach(([i,r])=>{this.removeClass(n,i),this.addClass(n,r)})}this.classNameQueue.length=0},this._isMounted=!1,this.classNameQueue=[],this.appliedClassNames=new Set,this.state={status:"mounted"}}static getDerivedStateFromProps({in:e},n){return e&&n.status==="unmounted"?{status:"mounted"}:null}componentDidMount(){this._isMounted=!0,typeof this.props.appearTimeout=="number"?this.transition("appear",this.props.appearTimeout):this.transition("enter",this.props.enterTimeout)}componentDidUpdate(e,n){e.in&&!this.props.in?this.transition("leave",this.props.leaveTimeout):!e.in&&this.props.in&&this.transition("enter",this.props.enterTimeout),n.status!=="mounted"&&this.state.status==="mounted"&&this.setState({status:"unmounted"})}componentWillUnmount(){this._isMounted=!1,this.props.schedule.clearAll()}removeAllClasses(e){for(const n of this.appliedClassNames)this.removeClass(e,n)}transition(e,n){const i=A.findDOMNode(this);if(!(i instanceof Element))return;this.removeAllClasses(i),this.props.schedule.clearAll();const r=typeof this.props.transitionStyles=="function"?this.props.transitionStyles():this.props.transitionStyles,{className:a}=H(r[e]),{className:o}=H([r[e],r[e+"Active"]]);this.addClass(i,a),this.queueClass(a,o),e==="leave"&&this.props.schedule.timeout(()=>{this._isMounted&&this.setState({status:"unmounted"})},n||0)}queueClass(e,n){this.classNameQueue.push([e,n]),this.props.schedule.timeout(this.flushClassNameQueue,0)}render(){const{status:e}=this.state;return e==="unmounted"?null:this.props.children}}const Re=ue(Ie);try{transitionchild.displayName="transitionchild",transitionchild.__docgenInfo={description:"",displayName:"transitionchild",props:{transitionStyles:{defaultValue:null,description:"",name:"transitionStyles",required:!0,type:{name:"AnimationStyles | (() => AnimationStyles)"}},appearTimeout:{defaultValue:null,description:"",name:"appearTimeout",required:!1,type:{name:"number"}},enterTimeout:{defaultValue:null,description:"",name:"enterTimeout",required:!1,type:{name:"number"}},leaveTimeout:{defaultValue:null,description:"",name:"leaveTimeout",required:!1,type:{name:"number"}},in:{defaultValue:null,description:"",name:"in",required:!1,type:{name:"boolean"}}}}}catch{}class M extends p.Component{render(){const{children:e}=this.props;return s(K,{component:null,children:p.Children.map(e,n=>s(Re,{transitionStyles:this.props.transitionStyle,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout,children:n}))})}}try{M.displayName="AphroditeCSSTransitionGroup",M.__docgenInfo={description:"",displayName:"AphroditeCSSTransitionGroup",props:{transitionStyle:{defaultValue:null,description:"",name:"transitionStyle",required:!0,type:{name:"AnimationStyles | (() => AnimationStyles)"}},transitionAppearTimeout:{defaultValue:null,description:"",name:"transitionAppearTimeout",required:!1,type:{name:"number"}},transitionEnterTimeout:{defaultValue:null,description:"",name:"transitionEnterTimeout",required:!1,type:{name:"number"}},transitionLeaveTimeout:{defaultValue:null,description:"",name:"transitionLeaveTimeout",required:!1,type:{name:"number"}}}}}catch{}const T=200;class x extends p.Component{constructor(){super(...arguments),this._containerRef=p.createRef(),this._containerResizeObserver=null,this._throttleResize=!1,this.state={containerWidth:0},this._resize=()=>{var n;const e=((n=this._containerRef.current)==null?void 0:n.clientWidth)||0;this.setState({containerWidth:e})},this._throttleResizeHandler=()=>{this._throttleResize||(this._throttleResize=!0,setTimeout(()=>{this._resize(),this._throttleResize=!1},100))},this.activate=()=>{this.props.setKeypadActive(!0)},this.dismiss=()=>{var e,n;this.props.setKeypadActive(!1),(n=(e=this.props).onDismiss)==null||n.call(e)},this.configure=(e,n)=>{this.setState({keypadConfig:e}),setTimeout(()=>n&&n())},this.setCursor=e=>{this.setState({cursor:e})},this.setKeyHandler=e=>{this.setState({keyHandler:e})},this.getDOMNode=()=>A.findDOMNode(this)}componentDidMount(){var e,n;this._resize(),window.addEventListener("resize",this._throttleResizeHandler),window.addEventListener("orientationchange",this._throttleResizeHandler),"ResizeObserver"in window&&(this._containerResizeObserver=new window.ResizeObserver(this._throttleResizeHandler),this._containerRef.current&&this._containerResizeObserver.observe(this._containerRef.current)),(n=(e=this.props).onElementMounted)==null||n.call(e,{activate:this.activate,dismiss:this.dismiss,configure:this.configure,setCursor:this.setCursor,setKeyHandler:this.setKeyHandler,getDOMNode:this.getDOMNode})}componentWillUnmount(){var e;window.removeEventListener("resize",this._throttleResizeHandler),window.removeEventListener("orientationchange",this._throttleResizeHandler),(e=this._containerResizeObserver)==null||e.disconnect()}_handleClickKey(e){var i,r;if(e==="DISMISS"){this.dismiss();return}const n=(r=(i=this.state).keyHandler)==null?void 0:r.call(i,e);this.setState({cursor:n})}render(){const{keypadActive:e,style:n}=this.props,{containerWidth:i,cursor:r,keypadConfig:a}=this.state,o=[be.keypadContainer,...Array.isArray(n)?n:[n]],l=(a==null?void 0:a.keypadType)==="EXPRESSION",d=a==null?void 0:a.times;return s(C,{style:o,forwardRef:this._containerRef,children:s(M,{transitionEnterTimeout:T,transitionLeaveTimeout:T,transitionStyle:{enter:{transform:"translate3d(0, 100%, 0)",transition:`${T}ms ease-out`},enterActive:{transform:"translate3d(0, 0, 0)"},leave:{transform:"translate3d(0, 0, 0)",transition:`${T}ms ease-out`},leaveActive:{transform:"translate3d(0, 100%, 0)"}},children:e?s(W,{onAnalyticsEvent:this.props.onAnalyticsEvent,extraKeys:a==null?void 0:a.extraKeys,onClickKey:u=>this._handleClickKey(u),cursorContext:r==null?void 0:r.context,fractionsOnly:!l,convertDotToTimes:d,divisionKey:l,trigonometry:l,preAlgebra:l,logarithms:l,basicRelations:l,advancedRelations:l,expandedView:i>B,showDismiss:!0}):null})})}}const be=h.StyleSheet.create({keypadContainer:{bottom:0,left:0,right:0,position:"fixed"}});try{x.displayName="MobileKeypadInternals",x.__docgenInfo={description:`This is the v2 equivalent of v1's ProvidedKeypad. It follows the same
external API so that it can be hot-swapped with the v1 keypad and
is responsible for connecting the keypad with MathInput and the Renderer.

Ideally this strategy of attaching methods on the class component for
other components to call will be replaced props/callbacks since React
doesn't support this type of code anymore (functional components
can't have methods attached to them).`,displayName:"MobileKeypadInternals",props:{onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}},setKeypadActive:{defaultValue:null,description:"",name:"setKeypadActive",required:!0,type:{name:"(keypadActive: boolean) => void"}},keypadActive:{defaultValue:null,description:"",name:"keypadActive",required:!0,type:{name:"boolean"}}}}}catch{}function z(t){return s(j.Consumer,{children:({keypadActive:e,setKeypadActive:n})=>s(x,{...t,keypadActive:e,setKeypadActive:n})})}try{z.displayName="MobileKeypad",z.__docgenInfo={description:"",displayName:"MobileKeypad",props:{onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}try{keypad.displayName="keypad",keypad.__docgenInfo={description:"",displayName:"keypad",props:{extraKeys:{defaultValue:{value:"[]"},description:"",name:"extraKeys",required:!1,type:{name:'readonly ("PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | "FRAC_INCLUSIVE" | "FRAC_EXCLUSIVE" | ... 96 more ... | "LOG_B")[]'}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},showDismiss:{defaultValue:null,description:"",name:"showDismiss",required:!1,type:{name:"boolean"}},expandedView:{defaultValue:null,description:"",name:"expandedView",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}},trigonometry:{defaultValue:null,description:"",name:"trigonometry",required:!1,type:{name:"boolean"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}},fractionsOnly:{defaultValue:null,description:"",name:"fractionsOnly",required:!1,type:{name:"boolean"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}try{MobileKeypad.displayName="MobileKeypad",MobileKeypad.__docgenInfo={description:"",displayName:"MobileKeypad",props:{onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}}}catch{}export{f as C,W as K,z as M,L as S,C as V,j as a};
