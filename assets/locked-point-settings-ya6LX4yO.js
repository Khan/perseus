import{B}from"./index-71P4mDMp.js";import{V as f}from"./index-hw7d7wq0.js";import{S as p}from"./index-v_a-r9JG.js";import{s as i,c as b}from"./index-zRqVZh6A.js";import{L as R,a as D}from"./index-jek-Xksa.js";import{L as M,p as j}from"./locked-figure-aria-2RpcL0RQ.js";import{n as N}from"./no-important-xCWWYXQR.js";import{r as e}from"./index-6oxdNXpR.js";import{C as V,L as O,a as U}from"./locked-label-settings-9BILE7JV.js";import{P as X}from"./trash-bold--mnHZMWz.js";import{C as I}from"./color-select-pLVkzAhw.js";import{C as W,g as Y,j as G,a as L,b as H}from"./util-xuyfAs5A.js";import{L as C}from"./labeled-switch-ve9SZXCa.js";const x=k=>{const{headerLabel:P,coord:l,color:c,filled:w=!0,labels:r,ariaLabel:q,onChangeProps:s,onMove:h,onRemove:g,showPoint:y,error:T,expanded:S,onTogglePoint:v,onToggle:E}=k,u=!h&&!g;async function F(){const n=await G(r),a=await L(`$${l[0]}$`),t=await L(`$${l[1]}$`);let m=`Point${n} at ${a} comma ${t}`;const d=H(c);return m+=d,m}function $(n){const a={color:n};r&&(a.labels=r.map(t=>({...t,color:n}))),s(a)}function _(n){const a=n[0]-l[0],t=n[1]-l[1],m={coord:n};r&&(m.labels=r.map(d=>({...d,coord:[d.coord[0]+a,d.coord[1]+t]}))),s(m)}function z(n,a){if(!r)return;const t=[...r];t[a]={...r[a],...n},s({labels:t})}function A(n){if(!r)return;const a=r.filter((t,m)=>m!==n);s({labels:a})}return e.createElement(X,{expanded:S,onToggle:E,containerStyle:u?o.definingContainer:void 0,panelStyle:u?o.definingPanel:void 0,header:e.createElement(f,{style:o.row},e.createElement(R,null,`${P||"Point"} (${l[0]}, ${l[1]})`),e.createElement(p,{size:i.xSmall_8}),e.createElement(W,{color:c,filled:w}))},e.createElement(V,{coord:l,style:o.spaceUnder,onChange:_,error:!!T}),v&&e.createElement(C,{label:"show point on graph",checked:!!y,style:y&&o.spaceUnder,onChange:v}),(!u||y)&&e.createElement(e.Fragment,null,e.createElement(I,{selectedValue:c,onChange:$,style:o.spaceUnder}),e.createElement(C,{label:"open point",checked:!w,onChange:n=>{s({filled:!n})}})),!u&&e.createElement(e.Fragment,null,e.createElement(p,{size:i.small_12}),e.createElement(f,{style:o.horizontalRule}),e.createElement(M,{ariaLabel:q,getPrepopulatedAriaLabel:F,onChangeProps:n=>{s(n)}})),e.createElement(p,{size:i.xxxSmall_4}),e.createElement(f,{style:o.horizontalRule}),e.createElement(p,{size:i.small_12}),e.createElement(D,null,"Visible labels"),r==null?void 0:r.map((n,a)=>e.createElement(O,{...n,key:a,containerStyle:!u&&o.lockedPointLabelContainer,expanded:!0,onChangeProps:t=>{z(t,a)},onRemove:()=>{A(a)}})),e.createElement(B,{kind:"tertiary",startIcon:j,onClick:()=>{const n={...Y("label"),coord:[l[0]+.5,l[1]-1*((r==null?void 0:r.length)??0)],color:c};s({labels:[...r??[],n]})},style:o.addButton},"Add visible label"),g&&e.createElement(U,{figureType:k.type,onMove:h,onRemove:g}))},o=N.StyleSheet.create({definingContainer:{marginTop:i.xSmall_8,marginBottom:0,marginLeft:-i.xxxSmall_4,marginRight:-i.xxxSmall_4,backgroundColor:b.white},definingPanel:{paddingBottom:i.xxSmall_6},lockedPointLabelContainer:{backgroundColor:b.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:i.xSmall_8},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:b.offBlack16}}),me=x;x.__docgenInfo={description:"",methods:[],displayName:"LockedPointSettings",props:{type:{required:!0,tsType:{name:"literal",value:'"point"'},description:""},coord:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},filled:{required:!0,tsType:{name:"boolean"},description:""},labels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},headerLabel:{required:!1,tsType:{name:"string"},description:`Optional label for the point to display in the header summary.
Defaults to "Point".`},showPoint:{required:!1,tsType:{name:"boolean"},description:"Whether the extra point settings are toggled open."},error:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Optional error message to display."},onTogglePoint:{required:!1,tsType:{name:"signature",type:"function",raw:"(newValue) => void",signature:{arguments:[{name:"newValue"}],return:{name:"void"}}},description:"Called when the extra settings toggle switch is changed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedPointType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "point";
    coord: Coord;
    color: LockedFigureColor;
    filled: boolean;
    labels?: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"point"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"filled",value:{name:"boolean",required:!0}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!1}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedPointType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when the point is moved."},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the point is removed."}}};export{me as L};
