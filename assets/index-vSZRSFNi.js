import{r,a as x}from"./index-6oxdNXpR.js";import{n as y}from"./no-important-xCWWYXQR.js";function g(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i.apply(null,arguments)}function b(e){const t=[];if(e)if(Array.isArray(e))for(const n of e)t.push(...b(n));else t.push(e);else return t;return t}function v(e){const t=[],n=[];if(!e)return{style:{},className:""};const s=typeof global<"u"&&global.SNAPSHOT_INLINE_APHRODITE;b(e).forEach(a=>{const l=a._definition;if(l!=null)if(s){const u={};for(const[m,d]of Object.entries(l))u[m.replace(/-[a-z]/g,h=>h[1].toUpperCase())]=d;n.push(u)}else t.push(a);else n.push(a)});const o=Object.assign({},...n);if(n.length>0&&!s){const a=y.StyleSheet.create({inlineStyles:o});t.push(a.inlineStyles)}return{style:s?o:{},className:y.css(...t)}}const E=["children","style","tag","testId"],I=/^h[1-6]$/,R=y.StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}}),W=r.forwardRef(function(t,n){let{children:s,style:o,tag:a="span",testId:l}=t,u=g(t,E);const m=I.test(a),d=v([R.text,m&&R.header,o]),h=u.className?[u.className,d.className].join(" "):d.className;return r.createElement(a,i({},u,{style:d.style,className:h,"data-testid":l,ref:n}),s)}),N=["className","style"];function p(e,t){return r.forwardRef((n,s)=>{const o=n,{className:a,style:l}=o,u=g(o,N),m=typeof e=="string"?_[e]:null,{className:d,style:h}=v([m,t,l]);return r.createElement(e,i({},u,{ref:s,className:[d,a].filter(Boolean).join(" "),style:h}))})}const _=y.StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),w=["testId","tag"],S=y.StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),P=p("div",S.default),T=p("article",S.default),C=p("aside",S.default),O=p("nav",S.default),A=p("section",S.default),$=r.forwardRef(function(t,n){const{testId:s,tag:o="div"}=t,a=g(t,w),l=i({},a,{"data-testid":s});switch(o){case"article":return r.createElement(T,i({},l,{ref:n}));case"aside":return r.createElement(C,i({},l,{ref:n}));case"nav":return r.createElement(O,i({},l,{ref:n}));case"section":return r.createElement(A,i({},l,{ref:n}));case"div":return r.createElement(P,i({},l,{ref:n}));default:throw Error(`${o} is not an allowed value for the 'tag' prop`)}});(function(e){return e.Initial="initial",e.Standard="standard",e})({});let c=function(e){return e.Root="root",e.Initial="initial",e.Standard="standard",e}({});const f=r.createContext(c.Root);f.displayName="RenderStateContext";class D extends r.Component{constructor(...t){super(...t),this.state={mounted:!1},this._isTheRootComponent=!1}componentDidMount(){this._isTheRootComponent&&this.setState({mounted:!0})}_renderAsRootComponent(){const{mounted:t}=this.state,{children:n,fallback:s}=this.props;return this._isTheRootComponent=!0,t?r.createElement(f.Provider,{value:c.Standard},n()):s?r.createElement(f.Provider,{value:c.Initial},s()):null}_maybeRender(t){const{children:n,fallback:s}=this.props;switch(t){case c.Root:return this._renderAsRootComponent();case c.Initial:return s?s():null;case c.Standard:return n()}{var o;return console.log(`We got a render state we don't understand: "${(o=JSON.stringify(t))!=null?o:""}"`),this._maybeRender(c.Root)}}render(){return r.createElement(f.Consumer,null,t=>this._maybeRender(t))}}const L=({id:e,children:t})=>{const n=r.useId();return r.createElement(r.Fragment,null,t(e??n))};function M(e){const t=r.useRef(e);return t.current=e,t}const V=e=>{const t=r.useRef(!0);r.useEffect(()=>{const n=e(t);return()=>{n==null||n(),t.current=!1}},[])},{useEffect:j,useState:F,useContext:k}=x,B=({children:e,throwIfNested:t=!0})=>{const[n,s]=F(!0),o=k(f);if(j(()=>{s(!1)},[]),o!==c.Root){if(t)throw new Error("There's already a <RenderStateRoot> above this instance in the render tree.  This instance should be removed.");return r.createElement(r.Fragment,null,e)}const a=n?c.Initial:c.Standard;return r.createElement(f.Provider,{value:a},e)};export{L as I,B as R,W as T,$ as V,i as _,g as a,p as b,D as c,M as d,V as u};
