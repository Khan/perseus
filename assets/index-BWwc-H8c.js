import{j as l}from"./jsx-runtime-BT65X5dW.js";import{r as d}from"./index-C6mWTJJr.js";import{V as h,b as f}from"./index-C0xJ1VDw.js";import{s as n}from"./index-BfjDPqC2.js";import{n as C}from"./no-important-DlFk8a1I.js";const p=n.large_24,g={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:n.medium_16,marginWidth:n.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:n.xLarge_32,marginWidth:n.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:n.xLarge_32,marginWidth:p,maxWidth:1120+p*2}},L={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:n.xLarge_32,marginWidth:n.medium_16}},w={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:n.medium_16,marginWidth:n.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:n.xLarge_32,marginWidth:n.xxLarge_48}},O={ssrSize:"large",mediaSpec:g},x=d.createContext(O);x.displayName="MediaLayoutContext";const u={},_="large";class q extends d.Component{componentDidMount(){const t=Object.entries(this.props.mediaSpec);for(const[e,r]of t){const a=u[r.query];if(!a)continue;const m=s=>{s.matches&&this.setState({size:e})};a.addListener(m),this.cleanupThunks.push(()=>a.removeListener(m))}}componentWillUnmount(){this.cleanupThunks.forEach(t=>t())}getCurrentSize(t){if(this.state.size)return this.state.size;{const e=Object.entries(this.props.mediaSpec);for(const[r,a]of e)if(u[a.query].matches)return r}return _}isUnsupportedEnvironment(){return typeof window>"u"||!window.matchMedia}getMockStyleSheet(t){const{styleSheets:e}=this.props,r={};if(!e)return r;for(const a of Object.keys(e)){const m=e[a];if(m)for(const s of Object.keys(m))Object.prototype.hasOwnProperty.call(r,s)||(r[s]=[e.all&&e.all[s],t==="small"&&[e.mdOrSmaller&&e.mdOrSmaller[s],e.small&&e.small[s]],t==="medium"&&[e.mdOrSmaller&&e.mdOrSmaller[s],e.mdOrLarger&&e.mdOrLarger[s],e.medium&&e.medium[s]],t==="large"&&[e.mdOrLarger&&e.mdOrLarger[s],e.large&&e.large[s]]])}return r}renderContent(t){const{children:e,mediaSpec:r,ssrSize:a,overrideSize:m}=this.props,s=[...Object.values(g).map(i=>i.query),...Object.values(L).map(i=>i.query),...Object.values(w).map(i=>i.query),...Object.values(r).map(i=>i.query)];if(!t)for(const i of s.filter(S=>!u[S]))u[i]=window.matchMedia(i);const c=m||t&&a||this.getCurrentSize(r),y=this.getMockStyleSheet(c);return e({mediaSize:c,mediaSpec:r,styles:y})}render(){return l.jsx(f,{fallback:()=>this.renderContent(!0),children:()=>this.renderContent(this.isUnsupportedEnvironment())})}constructor(t){super(t),this.state={size:void 0},this.cleanupThunks=[]}}class v extends d.Component{render(){return l.jsx(x.Consumer,{children:({overrideSize:t,ssrSize:e,mediaSpec:r})=>l.jsx(q,{...this.props,overrideSize:t,ssrSize:e,mediaSpec:r})})}}class D extends d.Component{render(){const{style:t}=this.props;return l.jsx(h,{"aria-hidden":"true",style:[M.grow,t]})}}const M=C.StyleSheet.create({grow:{flexGrow:1}});class I extends d.Component{render(){const{size:t,style:e}=this.props;return l.jsx(h,{"aria-hidden":"true",style:[j(t),e]})}}const j=o=>({width:o,MsFlexBasis:o,MsFlexPreferredSize:o,WebkitFlexBasis:o,flexBasis:o,flexShrink:0});export{v as M,I as S,D as a};
