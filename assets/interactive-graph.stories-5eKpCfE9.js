import{j as t,a as p,F as S}from"./jsx-runtime-BGVbfQ2Z.js";import{B as He}from"./article-renderer-S9mLKjV0.js";import{B as U}from"./choice-iXWfcVOh.js";import{V as d}from"./index-4c2J3ov1.js";import{I as M}from"./index-PurVa-Tf.js";import{S as q}from"./index-BrnICqZg.js";import{L as Je}from"./video-transcript-link-wp-Fzerj.js";import{u as Ke}from"./index-pb777vIT.js";import{c as y,s as a}from"./index-25YgVP-A.js";import{r as i}from"./index-qhcEwEpg.js";import{l as G}from"./index-awljIyHI.js";import{a as $e,b as Ye,H as Xe}from"./index-Fg8WJp4t.js";import{b as H}from"./index-BDbMqVg2.js";import{w as Ze}from"./index-J2t_5nK1.js";import"./index-default-4_ZsnO94.js";import{a as et}from"./util-WvQWLN3r.js";import"./unit-1L4OY2_r.js";import"./dependencies-fnqF3NiV.js";import"./perseus-api-Ly41NhN4.js";import"./multi-renderer-jlI0LQFd.js";import"./hints-renderer-SpIs_9s4.js";import{R as tt}from"./renderer-V6_4AklZ.js";import"./base-radio-T9lap48E.js";import"./button-group-eBTrRsKy.js";import"./graph-kG_TBAvu.js";import{S as rt}from"./svg-image-6q36axAB.js";import"./hud-Q7Km3N9P.js";import"./icon-HbAIhp4d.js";import"./info-tip-IhIrlX7t.js";import"./inline-icon-MJBS_-2U.js";import"./math-input-guqC3cBI.js";import"./multi-button-group-rHU9dGVb.js";import"./number-input-CBSxyfjJ.js";import"./prop-check-box-OYeLup7m.js";import"./range-input-YYhLn03P.js";import"./text-input-77oq4TCL.js";import"./text-list-editor-bJphcq85.js";import"./jquery-5v7aFUvu.js";import"./i18n-context-9-s9cJ--.js";import{m as nt}from"./strings-YJ61eiUN.js";import{R as c}from"./renderer-with-debug-ui-IYxvUmlI.js";import{a as ot,c as st,l as it,b as at,d as ct,p as lt,e as ut,r as mt,f as pt,g as dt,h as gt,i as ht,j as ft,k as yt,m as St}from"./interactive-graph.testdata-XnIm1HSt.js";import"./compare-VLxlEkSV.js";import"./version-akiLXZts.js";import"./prop-types-da35HsqX.js";import"./index-E09jvG0x.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-NYf4zfpa.js";import"./tabbar-0ADFFMFf.js";import"./item-Xl3u6w2R.js";import"./index-IxqgEL7X.js";import"./index-tvtfaFq4.js";import"./button-assets-cmoMUwP4.js";import"./keypad-button-Xf3EMv8Q.js";import"./operators-page-oziijydk.js";import"./navigation-pad-tBxIIqLP.js";import"./key-translator-vogSlYsi.js";import"./_commonjs-dynamic-modules-h-SxKiO4.js";import"./enums-x5qaTru7.js";import"./index-awCzqCwC.js";import"./perseus-error-OpXxk17X.js";import"./input-with-examples-SZqb7UBZ.js";import"./math-output-o5-UebzW.js";import"./tooltip-K2JbXmT6.js";import"./simple-keypad-input-Rzz-r-EH.js";import"./icon-paths-AuJwhOz7.js";import"./media-queries-MaBBbpNq.js";import"./constants-I_nlPaPx.js";import"./shared-3pf9YZIg.js";import"./index-wpOEyefj.js";import"./index-_15Y2y0p.js";import"./answer-choices-dZYesy7J.js";import"./index-sXD0g-3O.js";import"./Popper-2p8US95Y.js";import"./asset-context-pmjKTqqL.js";import"./tiny-invariant-bHgPayXn.js";import"./bundle.esm-3RuEOGQS.js";import"./marker-KayRHL5C.js";import"./answer-pill-TDnlkTLI.js";import"./index-Or3qlYxC.js";import"./sortable-6KjeHSiM.js";import"./fixed-to-responsive-G5J_wmel.js";import"./choice-icon-5Wq30UUO.js";import"./focus-ring-SGFL5fpl.js";import"./option-status-_ONChKTK.js";import"./stub-tag-editor-CaJYfBue.js";import"./tex-SwZEYYPF.js";import"./zoomable-QW77xrsT.js";import"./zoomable-tex-LJgLrbXQ.js";import"./lint-4QkP-VXi.js";import"./choice-none-above-3ZColgvQ.js";import"./image-loader-BrzYBUzY.js";import"./side-by-side-qocKyGpV.js";import"./register-all-widgets-for-testing-X3jJrJs9.js";class N extends i.Component{render(){const{color:r,leftContent:n,rightContent:s,size:l,subtitle:h,title:g}=this.props,f=h?Ye:Xe;return i.createElement(d,{style:[u.container,r==="dark"&&u.dark,l==="small"&&u.small]},i.createElement(d,{style:[u.column,u.leftColumn,g?u.withTitle:null]},n),g&&i.createElement(d,{style:[u.column,u.wideColumn]},i.createElement(d,{style:[u.titles,u.center]},i.createElement(f,{id:"wb-toolbar-title"},g),h&&i.createElement($e,{style:r==="light"&&u.subtitle},h))),i.createElement(d,{style:[u.column,u.rightColumn,g?u.withTitle:null]},s))}}N.defaultProps={color:"light",leftContent:null,rightContent:null,size:"medium"};const u=G.StyleSheet.create({container:{border:`1px solid ${y.offBlack16}`,flex:1,flexDirection:"row",justifyContent:"space-between",minHeight:66,paddingLeft:a.medium_16,paddingRight:a.medium_16,width:"100%"},small:{minHeight:50},dark:{backgroundColor:y.darkBlue,boxShadow:`0 1px 0 0 ${y.white64}`,color:"white"},column:{justifyContent:"center"},withTitle:{flex:1},wideColumn:{flex:1,flexBasis:"50%"},leftColumn:{alignItems:"center",flexDirection:"row",flexShrink:0,justifyContent:"flex-start"},rightColumn:{alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},center:{textAlign:"center"},subtitle:{color:y.offBlack64},titles:{padding:a.small_12}}),Rt=""+new URL("camera-slash-Oge78uaV.svg",import.meta.url).href,xt=""+new URL("graph-RU2fqeKx.svg",import.meta.url).href,qt=""+new URL("image-PFUjt3DK.svg",import.meta.url).href,kt=["segment","linear","linear-system","ray","polygon","point","circle"],bt=kt.reduce((e,r)=>(e[r]=!0,e),{});function V(e){const{value:r,onInput:n,...s}=e,[l,h]=i.useState(!1),[g,f]=i.useState("");return t("input",{...s,value:l?g:r,onChange:o=>{f(o.target.value),n(o.target.value)},onFocus:()=>{f(r),h(!0)},onBlur:()=>{h(!1)}})}try{V.displayName="EditableControlledInput",V.__docgenInfo={description:"",displayName:"EditableControlledInput",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onInput:{defaultValue:null,description:"",name:"onInput",required:!0,type:{name:"(newValue: string) => unknown"}}}}}catch{}function R(e){let r;return n=>((r==null||n!==r.arg)&&(r={arg:n,result:e(n)}),r.result)}const It={type:"next"},wt={type:"previous"},Lt=e=>Dt(e)?{type:"jump-to-index",index:parseInt(e,10)-1}:{type:"noop"};function Ct(e){return{type:"set-questions",questions:e}}function Qt(e){return{type:"load-questions-from-storage",questions:e}}const At={type:"remove-current-question"};function vt(e,r){switch(r.type){case"next":return j(e,n=>n+1);case"previous":return j(e,n=>n-1);case"jump-to-index":return j(e,()=>r.index);case"set-questions":return{...e,questions:r.questions};case"load-questions-from-storage":return e.questions||!r.questions?e:{...e,questions:r.questions};case"remove-current-question":{const n=x(e);return{...e,questions:e.questions.split(`
`).filter((s,l)=>l!==n).join(`
`)}}}return e}function j(e,r){const n=x(e),s=T(e);return{...e,requestedIndex:Ge(r(n),s)}}function Ge(e,r){return r.length===0||e<0?0:e>=r.length?r.length-1:e}const ze=R(e=>e.questions.split(`
`).map(r=>r.trim()).filter(Boolean)),T=R(e=>ze(e).map(Ot)),Wt=R(e=>T(e)[x(e)]??null),_t=R(e=>ze(e)[x(e)]??null),Et=R(e=>T(e).length),x=e=>Ge(e.requestedIndex,T(e));function Ot(e){try{return JSON.parse(e)}catch{return{content:"**Could not parse the JSON for this question.**\n\n```\n"+e+"\n```",widgets:{},images:{}}}}function Dt(e){return/^\d+$/.test(e)&&+e>0}const Pt=G.StyleSheet.create({header:{display:"flex",alignItems:"center",boxShadow:"0 0 10px #0002",borderBlockEnd:`1px solid ${y.offBlack32}`,background:y.offBlack8,padding:a.small_12,justifyContent:"space-between",flexDirection:"row-reverse",flexWrap:"wrap"}}),F=({children:e})=>t("header",{className:G.css(Pt.header),children:e});try{F.displayName="Header",F.__docgenInfo={description:"",displayName:"Header",props:{}}}catch{}const Bt=`
# copy all questions
cat data/questions/*/*/* | pbcopy

# copy all segment questions
grep -rl '"type":"segment"' data/questions/ | xargs cat | pbcopy
`.trim(),J="FLIPBOOK-QUESTIONS-JSON";function Ut(e){return e.type==="interactive-graph"}function Me(e){return e.startsWith("web+graphie://")}function Nt(){const[e,r]=i.useReducer(vt,{questions:"",requestedIndex:0}),n=_t(e),s=Wt(e),l=Et(e),h=x(e),g=e.questions.trim(),f=g==="",o=i.useMemo(()=>Object.values((s==null?void 0:s.widgets)??{}).filter(Ut).map(m=>{var z;return((z=m.options.backgroundImage)==null?void 0:z.url)??""}).filter(m=>m.length>0),[s]);return i.useEffect(()=>{const m=localStorage.getItem(J)||"";r(Qt(m))},[]),i.useEffect(()=>{localStorage.setItem(J,g)},[g]),p(S,{children:[t(F,{children:t(d,{style:{flexDirection:"row",alignItems:"center",flexBasis:"max-content"},children:t("nav",{children:t("a",{href:"/",children:"Gallery"})})})}),p(d,{style:{padding:a.medium_16},children:[t("textarea",{wrap:"off",rows:10,style:{width:"100%"},value:e.questions,onChange:m=>r(Ct(m.target.value))}),t(N,{leftContent:p(S,{children:[t(U,{kind:"secondary",onClick:()=>r(wt),children:"Previous"}),t(q,{size:a.xxSmall_6}),t(U,{kind:"secondary",onClick:()=>r(It),children:"Next"}),t(q,{size:a.medium_16}),t(jt,{zeroBasedIndex:h,total:l,onIndexChanged:m=>r(Lt(m))}),t(q,{size:a.medium_16}),t(U,{kind:"tertiary",onClick:()=>r(At),children:"Discard question"})]}),rightContent:p(d,{children:[o==null?void 0:o.map(m=>t(H,{placement:"right",content:t(Vt,{url:m}),children:t(M,{icon:Me(m)?xt:qt})},m)),((o==null?void 0:o.length)??0)===0&&t(H,{placement:"right",content:"This graph does not specify a background image",children:t(M,{icon:Rt})})]})}),t(q,{size:a.small_12}),p("div",{style:{display:f?"block":"none"},children:[t("h2",{children:"Instructions"}),p("ol",{children:[p("li",{children:[t("p",{children:"Run a command like one of the following to copy question data to your clipboard."}),t("code",{children:t("pre",{children:Bt})})]}),t("li",{children:t("p",{children:"Paste the data in the box above."})})]})]}),s!=null&&t(Tt,{question:s},n)]})]})}function Tt({question:e,apiOptions:r={}}){return p(S,{children:[p(d,{className:"framework-perseus",style:{flexDirection:"row",padding:a.medium_16,gap:a.medium_16,background:"#f8f8f8"},children:[t(K,{question:e,apiOptions:{...r,flags:{mafs:!1}}}),t(K,{question:e,apiOptions:{...r,flags:{mafs:bt}}})]}),t("div",{children:t("pre",{style:{whiteSpace:"pre-wrap"},children:t("code",{children:JSON.stringify(e)})})})]})}function K(e){const{question:r,apiOptions:n}=e,s=i.useRef(null),[l,h]=i.useState();Ke(()=>h(void 0),2500,!!l);function g(o){switch(o.type){case"invalid":return"You didn't answer the question.";case"points":return et(o)?"Correct!":"Incorrect."}}function f(o){switch(o.type){case"invalid":return"critical";case"points":return o.earned===o.total?"success":"warning";default:throw new Ze(o)}}return p(d,{style:{alignItems:"flex-start",overflow:"hidden",background:y.white,padding:a.medium_16},children:[t(tt,{ref:s,content:r.content,images:r.images,widgets:r.widgets,problemNum:0,apiOptions:{...n},strings:nt}),t(N,{leftContent:t(U,{onClick:()=>{var o;return h((o=s.current)==null?void 0:o.score())},children:"Check answer"})}),l&&t(d,{style:{position:"absolute",alignSelf:"center",width:"60%",top:"150px",zIndex:"1000"},children:t(He,{layout:"full-width",text:g(l),kind:f(l)})})]})}function jt(e){const{zeroBasedIndex:r,total:n,onIndexChanged:s}=e,l=Math.min(n,r+1);return p("div",{children:[t(V,{value:String(l),onInput:s,style:{width:"4em",textAlign:"right"}})," of ",n]})}function Vt({url:e}){return p(S,{children:[t(N,{leftContent:p(d,{style:{display:"flex",flexDirection:"row"},children:["This question uses a",Me(e)?t(Je,{href:`http://graphie-to-png.khanacademy.systems?preload=${encodeURIComponent(e)}`,target:"_blank",style:{marginLeft:a.xxSmall_6,marginRight:a.xxSmall_6},children:"Graphie"}):" regular image ","background."]}),rightContent:t(S,{})}),t(d,{className:"framework-perseus",style:{margin:a.medium_16,border:"solid 1px grey"},children:t(rt,{alt:"The background image for this graph question",src:e})})]})}const vn={title:"Perseus/Widgets/Interactive Graph"},k=e=>t(Nt,{}),b=e=>t(c,{question:ot}),I=e=>t(c,{question:st}),w=e=>t(c,{question:it}),L=e=>t(c,{question:at}),C=e=>t(c,{question:ct}),Q=e=>t(c,{question:lt}),A=e=>t(c,{question:ut}),v=e=>t(c,{question:mt}),W=e=>t(c,{question:pt}),_=e=>t(c,{apiOptions:{flags:{mafs:{segment:!0}}},question:dt}),E=e=>t(c,{apiOptions:{flags:{mafs:{segment:!0}}},question:gt}),O=e=>t(c,{apiOptions:{flags:{mafs:{segment:!0}}},question:ht}),D=e=>t(c,{apiOptions:{flags:{mafs:{segment:!0}}},question:ft}),P=e=>t(c,{apiOptions:{flags:{mafs:{segment:!0}}},question:yt}),B=e=>t(c,{question:St});var $,Y,X;k.parameters={...k.parameters,docs:{...($=k.parameters)==null?void 0:$.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <Flipbook />",...(X=(Y=k.parameters)==null?void 0:Y.docs)==null?void 0:X.source}}};var Z,ee,te;b.parameters={...b.parameters,docs:{...(Z=b.parameters)==null?void 0:Z.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={angleQuestion} />",...(te=(ee=b.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};var re,ne,oe;I.parameters={...I.parameters,docs:{...(re=I.parameters)==null?void 0:re.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={circleQuestion} />",...(oe=(ne=I.parameters)==null?void 0:ne.docs)==null?void 0:oe.source}}};var se,ie,ae;w.parameters={...w.parameters,docs:{...(se=w.parameters)==null?void 0:se.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={linearQuestion} />",...(ae=(ie=w.parameters)==null?void 0:ie.docs)==null?void 0:ae.source}}};var ce,le,ue;L.parameters={...L.parameters,docs:{...(ce=L.parameters)==null?void 0:ce.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={linearQuestionWithLockedPoints} />",...(ue=(le=L.parameters)==null?void 0:le.docs)==null?void 0:ue.source}}};var me,pe,de;C.parameters={...C.parameters,docs:{...(me=C.parameters)==null?void 0:me.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={linearSystemQuestion} />",...(de=(pe=C.parameters)==null?void 0:pe.docs)==null?void 0:de.source}}};var ge,he,fe;Q.parameters={...Q.parameters,docs:{...(ge=Q.parameters)==null?void 0:ge.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={pointQuestion} />",...(fe=(he=Q.parameters)==null?void 0:he.docs)==null?void 0:fe.source}}};var ye,Se,Re;A.parameters={...A.parameters,docs:{...(ye=A.parameters)==null?void 0:ye.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={polygonQuestion} />",...(Re=(Se=A.parameters)==null?void 0:Se.docs)==null?void 0:Re.source}}};var xe,qe,ke;v.parameters={...v.parameters,docs:{...(xe=v.parameters)==null?void 0:xe.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={rayQuestion} />",...(ke=(qe=v.parameters)==null?void 0:qe.docs)==null?void 0:ke.source}}};var be,Ie,we;W.parameters={...W.parameters,docs:{...(be=W.parameters)==null?void 0:be.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={segmentQuestion} />",...(we=(Ie=W.parameters)==null?void 0:Ie.docs)==null?void 0:we.source}}};var Le,Ce,Qe;_.parameters={..._.parameters,docs:{...(Le=_.parameters)==null?void 0:Le.docs,source:{originalSource:`(args: StoryArgs): React.ReactElement => <RendererWithDebugUI apiOptions={{
  flags: {
    mafs: {
      segment: true
    }
  }
}} question={segmentWithLockedPointsQuestion} />`,...(Qe=(Ce=_.parameters)==null?void 0:Ce.docs)==null?void 0:Qe.source}}};var Ae,ve,We;E.parameters={...E.parameters,docs:{...(Ae=E.parameters)==null?void 0:Ae.docs,source:{originalSource:`(args: StoryArgs): React.ReactElement => <RendererWithDebugUI apiOptions={{
  flags: {
    mafs: {
      segment: true
    }
  }
}} question={segmentWithLockedLineQuestion} />`,...(We=(ve=E.parameters)==null?void 0:ve.docs)==null?void 0:We.source}}};var _e,Ee,Oe;O.parameters={...O.parameters,docs:{...(_e=O.parameters)==null?void 0:_e.docs,source:{originalSource:`(args: StoryArgs): React.ReactElement => <RendererWithDebugUI apiOptions={{
  flags: {
    mafs: {
      segment: true
    }
  }
}} question={segmentWithAllLockedLineSegmentVariations} />`,...(Oe=(Ee=O.parameters)==null?void 0:Ee.docs)==null?void 0:Oe.source}}};var De,Pe,Be;D.parameters={...D.parameters,docs:{...(De=D.parameters)==null?void 0:De.docs,source:{originalSource:`(args: StoryArgs): React.ReactElement => <RendererWithDebugUI apiOptions={{
  flags: {
    mafs: {
      segment: true
    }
  }
}} question={segmentWithAllLockedLineVariations} />`,...(Be=(Pe=D.parameters)==null?void 0:Pe.docs)==null?void 0:Be.source}}};var Ue,Ne,Te;P.parameters={...P.parameters,docs:{...(Ue=P.parameters)==null?void 0:Ue.docs,source:{originalSource:`(args: StoryArgs): React.ReactElement => <RendererWithDebugUI apiOptions={{
  flags: {
    mafs: {
      segment: true
    }
  }
}} question={segmentWithAllLockedRayVariations} />`,...(Te=(Ne=P.parameters)==null?void 0:Ne.docs)==null?void 0:Te.source}}};var je,Ve,Fe;B.parameters={...B.parameters,docs:{...(je=B.parameters)==null?void 0:je.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={sinusoidQuestion} />",...(Fe=(Ve=B.parameters)==null?void 0:Ve.docs)==null?void 0:Fe.source}}};const Wn=["SideBySideFlipbook","Angle","Circle","Linear","LinearWithLockedPoints","LinearSystem","Point","Polygon","Ray","Segment","SegmentWithMafsAndLockedPoints","SegmentWithMafsAndLockedLines","AllLockedLineSegments","AllLockedLines","AllLockedRays","Sinusoid"];export{O as AllLockedLineSegments,D as AllLockedLines,P as AllLockedRays,b as Angle,I as Circle,w as Linear,C as LinearSystem,L as LinearWithLockedPoints,Q as Point,A as Polygon,v as Ray,W as Segment,E as SegmentWithMafsAndLockedLines,_ as SegmentWithMafsAndLockedPoints,k as SideBySideFlipbook,B as Sinusoid,Wn as __namedExportsOrder,vn as default};
