import{b as x,_ as k,a as J}from"./index-6h5t6F0w.js";import{r as g}from"./index-TT1qJ6UJ.js";import{l as Q}from"./index-awljIyHI.js";import{w as V,c as X,L as Y}from"./react-router-dom-W_e8xVUu.js";function m(){return m=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},m.apply(this,arguments)}const Z=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,ee=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,te=/^rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)$/i,M=s=>{if(typeof s!="string")throw new Error(`Failed to parse color: ${s}`);const t=s.match(ee);if(t)return{r:parseInt(`${t[1]}${t[1]}`,16),g:parseInt(`${t[2]}${t[2]}`,16),b:parseInt(`${t[3]}${t[3]}`,16),a:1};const e=s.match(Z);if(e)return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1};const n=s.match(te);if(n)return{r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:n[4]?parseFloat(n[4]):1};throw new Error(`Failed to parse color: ${s}`)},G=s=>{const t=Math.round(s.r),e=Math.round(s.g),n=Math.round(s.b);if(s.a===1){const d=r=>{const l=r.toString(16);return l.length===1?`0${l}`:l};return`#${d(t)}${d(e)}${d(n)}`}else return`rgba(${t},${e},${n},${s.a.toFixed(2)})`},h=(s,t)=>{if(t<0||t>1)throw new Error("Percentage must be between 0 and 1");const e=M(s);return G(m({},e,{a:e.a*t}))},O=(s,t)=>{const e=M(s),n=M(t);return G({r:e.r*e.a+n.r*(1-e.a),g:e.g*e.a+n.g*(1-e.a),b:e.b*e.a+n.b*(1-e.a),a:n.a})},u="#21242c",C="#ffffff",L="#5f1e5c",o={blue:"#1865f2",purple:"#9059ff",green:"#00a60e",gold:"#ffb100",red:"#d92916",offBlack:u,offBlack64:h(u,.64),offBlack50:h(u,.5),offBlack32:h(u,.32),offBlack16:h(u,.16),offBlack8:h(u,.08),offWhite:"#f7f8fa",white:C,white64:h(C,.64),white50:h(C,.5),white32:h(C,.32),darkBlue:"#0b2149",teal:"#14bf96"},i=(s,t)=>O(h(s,t),o.white),a=m({},o,{activeBlue:O(o.offBlack32,o.blue),fadedBlue:i(o.blue,.32),fadedBlue24:i(o.blue,.24),fadedBlue16:i(o.blue,.16),fadedBlue8:i(o.blue,.08),activeRed:O(o.offBlack32,o.red),fadedRed:i(o.red,.32),fadedRed24:i(o.red,.24),fadedRed16:i(o.red,.16),fadedRed8:i(o.red,.08),fadedGreen24:i(o.green,.24),fadedGreen16:i(o.green,.16),fadedGreen8:i(o.green,.08),fadedGold24:i(o.gold,.24),fadedGold16:i(o.gold,.16),fadedGold8:i(o.gold,.08),fadedPurple24:i(o.purple,.24),fadedPurple16:i(o.purple,.16),fadedPurple8:i(o.purple,.08),eggplant:L,fadedEggplant8:i(L,.08),fadedOffBlack64:i(u,.64),fadedOffBlack50:i(u,.5),fadedOffBlack32:i(u,.32),fadedOffBlack16:i(u,.16),fadedOffBlack8:i(u,.08)});a.blue,a.activeBlue,a.red,a.activeRed,a.fadedOffBlack32,a.offWhite,a.fadedRed8,a.red,a.fadedGold8,a.gold,a.fadedGreen8,a.green,a.fadedBlue8,a.blue,a.fadedOffBlack8,a.offBlack,a.white,a.offWhite,a.blue,a.darkBlue,a.offBlack64,a.offBlack,a.fadedOffBlack64,a.fadedOffBlack32,a.white,a.fadedOffBlack16,a.fadedOffBlack8,a.fadedOffBlack50,a.white,a.fadedOffBlack64,a.offBlack,a.white,a.blue,a.red,a.eggplant,a.fadedEggplant8,a.purple;const P=s=>{switch(s){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},ne={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},v={enter:13,space:32},_={hovered:!1,focused:!1,pressed:!1,waiting:!1};class F extends g.Component{static getDerivedStateFromProps(t,e){return t.disabled?k({},_,{focused:e.focused}):null}constructor(t){super(t),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=e=>{const{onClick:n=void 0,beforeNav:d=void 0,safeWithNav:r=void 0}=this.props;this.enterClick||((n||d||r)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({pressed:!0})},this.handleMouseUp=e=>{this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown:n,role:d}=this.props;n&&n(e);const r=e.which||e.keyCode,{triggerOnEnter:l,triggerOnSpace:f}=P(d);l&&r===v.enter||f&&r===v.space?(e.preventDefault(),this.setState({pressed:!0})):!l&&r===v.enter&&(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp:n,role:d}=this.props;n&&n(e);const r=e.which||e.keyCode,{triggerOnEnter:l,triggerOnSpace:f}=P(d);l&&r===v.enter||f&&r===v.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):!l&&r===v.enter&&(this.enterClick=!1)},this.handleFocus=e=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(e)})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=_,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(t){if(t){const{history:e,href:n,skipClientNav:d,target:r=void 0}=this.props;n&&(r==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):e&&!d?(e.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(t,e){const{skipClientNav:n,history:d}=this.props;return d&&!n||this.props.target==="_blank"?(t(),this.navigateOrReset(e),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),t().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(r=>{}).finally(()=>{this.navigateOrReset(e)}))}runCallbackAndMaybeNavigate(t){const{onClick:e=void 0,beforeNav:n=void 0,safeWithNav:d=void 0,href:r,type:l}=this.props;let f=!0,p=!0;if(e&&e(t),t.defaultPrevented&&(f=!1,p=!1),t.preventDefault(),!r&&l==="submit"&&p){let c=t.currentTarget;for(;c;){if(c instanceof window.HTMLFormElement){const y=new window.Event("submit",{bubbles:!0,cancelable:!0});c.dispatchEvent(y);break}c=c.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>d?this.handleSafeWithNav(d,f):this.navigateOrReset(f)).catch(()=>{});else{if(d)return this.handleSafeWithNav(d,f);this.navigateOrReset(f)}}render(){const t=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),e=this.props.disabled?k({},ne,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t},{children:n}=this.props;return n&&n(this.state,e)}}F.defaultProps={disabled:!1};const j=s=>typeof s!="string"?!1:!/^(https?:)?\/\//i.test(s)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(s),ae=V(F);function se(s,t,e){return e&&t!==!0&&s&&j(s)?ae:F}const re=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],ie=x("a"),oe=x("button"),de=x(Y),le=g.forwardRef(function(t,e){const n=(r,l,f)=>{const p=t.href&&!t.disabled,c=l&&!t.skipClientNav&&j(t.href||"");return p&&c&&t.href?g.createElement(de,k({},f,{to:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(r)):p&&!c?g.createElement(ie,k({},f,{href:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(r)):g.createElement(oe,k({},f,{type:"button","aria-disabled":t.disabled,ref:e}),t.children(r))},d=r=>{const{href:l,onClick:f,skipClientNav:p,beforeNav:c=void 0,safeWithNav:y=void 0,style:A,target:H=void 0,testId:E,onFocus:D,onKeyDown:$,onKeyUp:N,onMouseDown:R,onMouseUp:U,hideDefaultFocusRing:z,light:q,disabled:B,tabIndex:K}=t,I=J(t,re),T=se(l,p,r),W=b=>[w.reset,w.link,!z&&b.focused&&(q?w.focusedLight:w.focused),B&&w.disabled,A];return c?g.createElement(T,{href:l,onClick:f,beforeNav:c,safeWithNav:y,onFocus:D,onKeyDown:$,onKeyUp:N,onMouseDown:R,onMouseUp:U,disabled:B,tabIndex:K},(b,S)=>n(b,r,k({},I,{"data-testid":E,style:W(b)},S))):g.createElement(T,{href:l,onClick:f,safeWithNav:y,onFocus:D,onKeyDown:$,onKeyUp:N,onMouseDown:R,onMouseUp:U,target:H,disabled:B,tabIndex:K},(b,S)=>n(b,r,k({},I,{"data-testid":E,style:W(b)},S)))};return g.createElement(X.Consumer,null,r=>d(r))});le.defaultProps={light:!1,disabled:!1};const w=Q.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${a.blue}`}},focusedLight:{outline:`solid 2px ${a.white}`},disabled:{color:a.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${a.blue}`}}});export{le as C};
