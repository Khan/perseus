import{j as w,a as Y}from"./jsx-runtime-BGVbfQ2Z.js";import{a as R,V as _,T as Z}from"./index-eZ2N530f.js";import{_ as D}from"./index-V35CFGao.js";import{S as q}from"./index-GVhAzXpB.js";import{r as a}from"./index-qhcEwEpg.js";import{c as W,L as M,i as G,g as J}from"./index-FNX3GwpG.js";import{l as U}from"./index-awljIyHI.js";import{m as N,f as j,C as Q}from"./index-mdqImiHB.js";import{P as X}from"./index-K7FSCCGN.js";import{S as B}from"./index-SM3muJE2.js";import{g as ee}from"./dependencies-fnqF3NiV.js";const te="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20256%20256'%20fill='currentColor'%3e%3cpath%20d='M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z'/%3e%3c/svg%3e";function K(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function s(){return s=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s.apply(this,arguments)}function z(n,t){if(n==null)return{};var e={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(e[o]=n[o]);return e}const ne=["children","skipClientNav","focused","hovered","href","inline","kind","light","visitable","pressed","style","testId","waiting","target","startIcon","endIcon"],re=R("a"),oe=R(M),$=a.forwardRef(function(t,e){const r=o=>{const{children:i,skipClientNav:c,focused:l,hovered:m,href:f,inline:y=!1,kind:C="primary",light:g=!1,visitable:b=!1,pressed:v,style:k,testId:E,target:I,startIcon:u,endIcon:h}=t,L=z(t,ne),p=se(y,C,g,b),d=y?p.restingInline:p.resting,x=[ie.shared,d,v&&p.active,!v&&m&&p.hover,!v&&l&&p.focus],V=s({"data-test-id":E,style:[x,k],target:I},L),H=new URL(f,window.location.origin).origin!==window.location.origin,F=a.createElement(X,{icon:te,size:"small",style:[S.endIcon,S.centered],testId:"external-icon"});let O,P;u&&(O=a.cloneElement(u,s({style:[S.startIcon,S.centered],testId:"start-icon","aria-hidden":"true"},u.props))),h&&(P=a.cloneElement(h,s({style:[S.endIcon,S.centered],testId:"end-icon","aria-hidden":"true"},h.props)));const A=a.createElement(a.Fragment,null,u&&O,i,h?P:H&&I==="_blank"&&F);return o&&!c&&G(f)?a.createElement(oe,s({},V,{to:f,ref:e}),A):a.createElement(re,s({},V,{href:f,ref:e}),A)};return a.createElement(W.Consumer,null,o=>r(o))}),T={},S=U.StyleSheet.create({startIcon:{marginInlineEnd:B.xxxSmall_4},endIcon:{marginInlineStart:B.xxxSmall_4},centered:{verticalAlign:"-10%"}}),ie=U.StyleSheet.create({shared:{cursor:"pointer",textDecoration:"none",outline:"none",alignItems:"center"}}),se=(n,t,e,r)=>{const o=`${t}-${n.toString()}-${e.toString()}-${r.toString()}`;if(T[o])return T[o];if(t==="secondary"&&e)throw new Error("Secondary Light links are not supported");if(r&&t!=="primary")throw new Error("Only primary link is visitable");const{blue:i,pink:c,purple:l,white:m,offBlack:f,offBlack32:y,offBlack64:C}=Q,g=N(j(f,.08),l),b=N(j(i,.32),m),v=N(j(m,.32),c),k=N(y,i),u=t==="primary"?e?m:i:n?f:C,p=t==="primary"?e?b:k:n?k:f,d=r?{":visited":{color:e?c:g}}:Object.freeze({}),x=r?{":visited":{color:e?v:N(y,g)}}:Object.freeze({}),V={resting:s({color:u},d),restingInline:s({color:u,textDecoration:"underline currentcolor solid",textUnderlineOffset:2},d),hover:s({textDecoration:"underline currentcolor solid",color:u},d),focus:{":focus-visible":s({color:u,outline:`1px solid ${e?m:i}`,borderRadius:3},d)},active:s({color:p,textDecoration:"underline currentcolor solid"},x)};return T[o]=U.StyleSheet.create(V),T[o]},ae=["onClick","beforeNav","safeWithNav","href","skipClientNav","children","tabIndex","onKeyDown","onKeyUp","target","inline","kind","light","visitable"],le=a.forwardRef(function(t,e){const{onClick:r,beforeNav:o=void 0,safeWithNav:i,href:c,skipClientNav:l,children:m,tabIndex:f,onKeyDown:y,onKeyUp:C,target:g=void 0,inline:b=!1,kind:v="primary",light:k=!1,visitable:E=!1}=t,I=z(t,ae),u=h=>{const L=J(c,l,h);return o?a.createElement(L,{disabled:!1,href:c,role:"link",onClick:r,beforeNav:o,safeWithNav:i,onKeyDown:y,onKeyUp:C},(p,d)=>{let x=s({},(K(d),d));return a.createElement($,s({},I,p,x,{skipClientNav:l,href:c,target:g,tabIndex:f,inline:b,kind:v,light:k,visitable:E,ref:e}),m)}):a.createElement(L,{disabled:!1,href:c,role:"link",onClick:r,safeWithNav:i,target:g,onKeyDown:y,onKeyUp:C},(p,d)=>{let x=s({},(K(d),d));return a.createElement($,s({},I,p,x,{skipClientNav:l,href:c,target:g,tabIndex:f,inline:b,kind:v,light:k,visitable:E,ref:e}),m)})};return a.createElement(W.Consumer,null,h=>u(h))}),ce=/^https?:\/\//,de=n=>{const t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,e=n.match(t);return e&&e[7].length===11?e[7]:"videoNotFound"},Ie=n=>{var c;const{location:t}=n,{useVideo:e}=ee(),[r,o]=ce.test(t)?[de(t),"YOUTUBE_ID"]:[t,"READABLE_ID"],i=e(r,o);switch(i.status){case"loading":return w(_,{children:D("Loading...")});case"success":{const l=(c=i.data)==null?void 0:c.video;return Y(_,{style:fe.transcriptLink,children:[w(Z,{children:l==null?void 0:l.title}),w(q,{size:10}),w(le,{href:"/transcript/"+((l==null?void 0:l.contentId)||"videoNotFound"),target:"_blank",className:"visited-no-recolor",children:D("See video transcript")})]})}case"error":return w(_,{children:D("Something went wrong.")});case"aborted":return w(_,{children:D("Something went wrong.")});default:return w(_,{children:D("Something went wrong.")})}},fe=U.StyleSheet.create({transcriptLink:{flexDirection:"row",width:"100%",justifyContent:"center"}});try{videotranscriptlink.displayName="videotranscriptlink",videotranscriptlink.__docgenInfo={description:"Video Transcript Link Component.",displayName:"videotranscriptlink",props:{location:{defaultValue:null,description:"",name:"location",required:!0,type:{name:"string"}}}}}catch{}export{le as L,Ie as V};
