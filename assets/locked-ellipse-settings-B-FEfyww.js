import{j as e}from"./jsx-runtime-BT65X5dW.js";import{r as $}from"./index-C6mWTJJr.js";import{x as F}from"./util-Bq-wNCAN.js";import"./underscore-U-AHniOr.js";import{l as j,h as _}from"./index-ugi6HOUw.js";import"./jquery-CkHB0_Mt.js";import"./all-widgets-Bx86dL8a.js";import{V as p}from"./index-CW2s7ekB.js";import{S as W,O as X}from"./answer-choices-D-vvytLk.js";import{a as C,L as V}from"./index-DfoJsr3g.js";import"./index-B1Gws05u.js";import"./i18n-context-3AkWzTTj.js";import"./perseus-api-Ty_QvlNi.js";import"./renderer-CyriytdQ.js";import"./index-D7h-teXI.js";import"./dependencies-BsVPGK1s.js";import"./zoomable-tex-Dy-nElJT.js";import"./svg-image-CBYUgRDf.js";import{n as S}from"./no-important-DlFk8a1I.js";import"./number-input-Q3Pnp6Qu.js";import"./simple-keypad-input-B92yzbDH.js";import"./text-input-CJsQJ9jq.js";import"./phet-simulation-CrX_59te.js";import"./sortable-ClEgBIe8.js";import"./fixed-to-responsive-CTsII9Xx.js";import"./math-input-7aXviQHX.js";import"./video-transcript-link-BsyCgIOs.js";import"./item-version-8L3-eRdS.js";import"./article-renderer-B9B6Ub7y.js";import"./server-item-renderer-CY3cI5TO.js";import"./hints-renderer-B9syaaIq.js";import"./base-radio-C_0X1_23.js";import{c as Y}from"./components-DEtoSeIO.js";import"./index-Dd-cahjY.js";import{B as G}from"./index-CWnBGvvR.js";import{S as m}from"./index-CUPgSPQO.js";import{s as o,c as w}from"./index-Ds5N5m2R.js";import{L as H,p as J}from"./locked-figure-aria-BFKE9gS3.js";import{S as K}from"./scrollless-number-text-field-DLRZV3zK.js";import{C as L,L as Q,a as Z}from"./locked-label-settings-Dbz_6RIm.js";import{P as ee}from"./trash-bold-CUUmGZbj.js";import{C as re}from"./color-select-BQ2SNejs.js";import{L as ne}from"./line-stroke-select-BIulrVGp.js";import{g as te,j as ae,a as f,b as le}from"./util-PtLjTwtq.js";const{convertDegreesToRadians:oe,convertRadiansToDegrees:ie}=F,z=c=>{const{angle:n,onChange:a}=c,[d,k]=$.useState(ie(n).toString());function i(y){k(y),!(isNaN(+y)||y==="")&&a(oe(y))}return e.jsxs(C,{tag:"label",style:T.row,children:["angle (degrees)",e.jsx(m,{size:o.xxSmall_6}),e.jsx(K,{value:d,onChange:i,style:T.textField}),e.jsx(m,{size:o.xxSmall_6})]})},T=S.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{width:o.xxxLarge_64}});z.__docgenInfo={description:"",methods:[],displayName:"AngleInput",props:{angle:{required:!0,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(angle: number) => void",signature:{arguments:[{type:{name:"number"},name:"angle"}],return:{name:"void"}}},description:""}}};const P=c=>{const{color:n,fillStyle:a,strokeStyle:d}=c;return e.jsx(p,{"aria-label":`${n}, stroke ${d}, fill ${a}`,style:[q.container,{border:`4px ${d} ${j[n]}`}],children:e.jsx(p,{style:[q.innerCircle,{backgroundColor:j[n],opacity:a==="white"?0:_[a]}]})})},q=S.StyleSheet.create({container:{outline:`2px solid ${w.offWhite}`,borderRadius:"50%",width:o.xLarge_32,height:o.large_24,backgroundColor:w.white,alignItems:"center",justifyContent:"center"},innerCircle:{width:28,height:20,borderRadius:"50%"}});P.__docgenInfo={description:"",methods:[],displayName:"EllipseSwatch",props:{color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""}}};const{convertRadiansToDegrees:se}=F,{InfoTip:ue}=Y,me=c=>{const{center:n,radius:a,angle:d,color:k,labels:i,ariaLabel:y,fillStyle:x,strokeStyle:v,expanded:R,onToggle:A,onChangeProps:u,onMove:E,onRemove:I}=c;async function N(){const r=await ae(i),t=await f(`$${n[0]}$`),s=await f(`$${n[1]}$`),g=await f(`$${se(d)}$`),h=a[0]===a[1];let b="";h?b+=`Circle${r} with radius ${a[0]}`:b+=`Ellipse${r} with x radius ${a[0]} and y radius ${a[1]}`,b+=`, centered at ${t} comma ${s}`,!h&&d!==0&&(b+=`, rotated by ${g} degrees`);const U=le(k,v,x);return b+=U,b}function D(r){const t=r[0]-n[0],s=r[1]-n[1],g={center:r};g.labels=i.map(h=>({...h,coord:[h.coord[0]+t,h.coord[1]+s]})),u(g)}function B(r){const t={color:r};t.labels=i.map(s=>({...s,color:r})),u(t)}function M(r,t){const s=[...i];s[t]={...i[t],...r},u({labels:s})}function O(r){const t=i.filter((s,g)=>g!==r);u({labels:t})}return e.jsxs(ee,{expanded:R,onToggle:A,header:e.jsxs(p,{style:l.row,children:[e.jsx(V,{children:`Ellipse (${n[0]}, ${n[1]}), radius ${a[0]}, ${a[1]}`}),e.jsx(m,{size:o.xSmall_8}),e.jsx(P,{color:c.color,fillStyle:x,strokeStyle:v})]}),children:[e.jsxs(p,{style:l.row,children:[e.jsx(L,{coord:n,style:l.spaceUnder,onChange:D}),e.jsx(p,{style:l.spaceUnder,children:e.jsx(ue,{children:"The coordinates for the center of the ellipse."})})]}),e.jsx(L,{coord:a,labels:["x radius","y radius"],style:l.spaceUnder,onChange:r=>u({radius:r})}),e.jsx(z,{angle:d,onChange:r=>u({angle:r})}),e.jsx(m,{size:o.xSmall_8}),e.jsxs(p,{style:[l.row,l.spaceUnder],children:[e.jsx(re,{selectedValue:k,onChange:B}),e.jsx(m,{size:o.medium_16}),e.jsxs(C,{tag:"label",style:[l.row,l.truncatedWidth],children:["fill",e.jsx(m,{size:o.xxSmall_6}),e.jsx(W,{selectedValue:x,onChange:r=>u({fillStyle:r}),placeholder:"",children:Object.keys(_).map(r=>e.jsx(X,{value:r,label:r},r))})]})]}),e.jsx(ne,{selectedValue:v,onChange:r=>u({strokeStyle:r})}),e.jsx(m,{size:o.small_12}),e.jsx(p,{style:l.horizontalRule}),e.jsx(H,{ariaLabel:y,getPrepopulatedAriaLabel:N,onChangeProps:r=>{u(r)}}),e.jsx(m,{size:o.xxxSmall_4}),e.jsx(p,{style:l.horizontalRule}),e.jsx(m,{size:o.small_12}),e.jsx(C,{children:"Visible labels"}),i.map((r,t)=>$.createElement(Q,{...r,key:t,expanded:!0,onChangeProps:s=>{M(s,t)},onRemove:()=>{O(t)},containerStyle:l.labelContainer})),e.jsx(G,{kind:"tertiary",startIcon:J,onClick:()=>{const r={...te("label"),coord:[n[0],n[1]-i.length],color:k};u({labels:[...i,r]})},style:l.addButton,children:"Add visible label"}),e.jsx(Z,{figureType:c.type,onMove:E,onRemove:I})]})},l=S.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:o.xSmall_8},truncatedWidth:{minWidth:0},addButton:{alignSelf:"start"},labelContainer:{backgroundColor:w.white},horizontalRule:{height:1,backgroundColor:w.offBlack16}});me.__docgenInfo={description:"",methods:[],displayName:"LockedEllipseSettings",props:{onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},type:{required:!0,tsType:{name:"literal",value:'"ellipse"'},description:""},center:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},radius:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},angle:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""},labels:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedEllipseType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "ellipse";
    center: Coord;
    radius: [x: number, y: number];
    angle: number;
    color: LockedFigureColor;
    fillStyle: LockedFigureFillType;
    strokeStyle: LockedLineStyle;
    labels: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"ellipse"',required:!0}},{key:"center",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"radius",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"angle",value:{name:"number",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"fillStyle",value:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}],required:!0}},{key:"strokeStyle",value:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}],required:!0}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!0}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedEllipseType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."}}};export{me as L};
