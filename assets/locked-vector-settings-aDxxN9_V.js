import{a as g,j as o,F as T}from"./jsx-runtime-FVsy8kgq.js";import"./util-XcxTwqb0.js";import{e as O}from"./svg-image-VUqtnnD6.js";import{B as N}from"./choice-E4eyMygy.js";import{V as p}from"./index-6h5t6F0w.js";import{S as h}from"./index-qUyqkRvh.js";import{s,c as f}from"./index-deFLJwr4.js";import{L as w,a as $}from"./index-h_CiYGGb.js";import{p as U}from"./plus-circle-JCxQSzSv.js";import{l as W}from"./index-awljIyHI.js";import{v as d}from"./index-IIMKO4_x.js";import{P as v,C as _,L as G}from"./locked-figure-settings-actions-gz7-sZnF.js";import{C as H}from"./color-select-JTpvRQnc.js";import{L as J}from"./line-swatch-D0E5Tp7E.js";import{L as K}from"./locked-figure-aria-hBOOY6jI.js";import{L as Q}from"./locked-label-settings-Vgs9824L.js";import{g as X}from"./util-_lGj1EH0.js";const Y="The vector cannot have length 0.",F=u=>{var S,P;const{flags:c,points:x,color:y,labels:n,ariaLabel:V,onChangeProps:m,onMove:q,onRemove:A}=u,[i,l]=x,R=`Vector (${i[0]}, ${i[1]}), (${l[0]}, ${l[1]})`,b=O(i,l);function z(){let e=`Vector from (${i[0]}, ${i[1]}) to (${l[0]}, ${l[1]})`;return n&&n.length>0&&(e+=" with label",n.length>1&&(e+="s"),e+=` ${n.map(r=>r.text).join(", ")}`),e}function C(e,r){if(typeof e<"u"){const t=[...x];t[r]=[...e];const L=d.midpoint(i,l),j=d.midpoint(t[0],t[1]),E=d.sub(j,L),D=n==null?void 0:n.map(k=>({...k,coord:d.add(k.coord,E)}));m({points:t,labels:D})}}function B(e){const r={color:e};r.labels=n==null?void 0:n.map(t=>({...t,color:e})),m(r)}function M(e,r){if(!n)return;const t=[...n];t[r]={...n[r],...e},m({labels:t})}function I(e){if(!n)return;const r=n.filter((t,L)=>L!==e);m({labels:r})}return g(v,{expanded:u.expanded,onToggle:u.onToggle,header:g(p,{style:a.row,children:[o(w,{children:R}),o(h,{size:s.xSmall_8}),o(J,{color:y,lineStyle:"solid"})]}),children:[o(p,{style:[a.row,a.spaceUnder],children:o(H,{selectedValue:y,onChange:B})}),b&&o($,{style:a.errorText,children:Y}),o(v,{expanded:!0,containerStyle:a.container,panelStyle:a.accordionPanel,header:o(p,{style:a.row,children:o(w,{children:`Tail (${i[0]}, ${i[1]})`})}),children:o(_,{coord:i,error:b,onChange:e=>{C(e,0)}})}),o(v,{expanded:!0,containerStyle:a.container,panelStyle:a.accordionPanel,header:o(p,{style:a.row,children:o(w,{children:`Tip (${l[0]}, ${l[1]})`})}),children:o(_,{coord:l,error:b,onChange:e=>{C(e,1)}})}),((S=c==null?void 0:c.mafs)==null?void 0:S["locked-figures-aria"])&&g(T,{children:[o(h,{size:s.small_12}),o(p,{style:a.horizontalRule}),o(K,{ariaLabel:V,prePopulatedAriaLabel:z(),onChangeProps:e=>{m(e)}})]}),((P=c==null?void 0:c.mafs)==null?void 0:P["locked-vector-labels"])&&g(T,{children:[o(h,{size:s.xxxSmall_4}),o(p,{style:a.horizontalRule}),o(h,{size:s.small_12}),o($,{children:"Visible labels"}),n==null?void 0:n.map((e,r)=>o(Q,{...e,expanded:!0,onChangeProps:t=>{M(t,r)},onRemove:()=>{I(r)},containerStyle:a.labelContainer})),o(N,{kind:"tertiary",startIcon:U,onClick:()=>{const e=[0,-1],r=d.add(d.scale(e,(n==null?void 0:n.length)??0),d.midpoint(i,l)),t={...X("label"),coord:r,color:y};m({labels:[...n??[],t]})},style:a.addButton,children:"Add visible label"})]}),o(G,{figureType:u.type,onMove:q,onRemove:A})]})},a=W.StyleSheet.create({accordionPanel:{paddingBottom:s.medium_16},container:{marginTop:s.xSmall_8,marginBottom:0,marginLeft:-s.xxxSmall_4,marginRight:-s.xxxSmall_4,backgroundColor:f.white},errorText:{color:f.red,marginTop:s.xSmall_8},row:{flexDirection:"row",alignItems:"center"},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:f.offBlack16},labelContainer:{backgroundColor:f.white}}),fe=F;F.__docgenInfo={description:"",methods:[],displayName:"LockedVectorSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFigure>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedFigure"}],raw:"Partial<LockedFigure>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{fe as L};
