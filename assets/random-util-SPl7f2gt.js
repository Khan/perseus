import{_ as y}from"./index-default-4_ZsnO94.js";const Le=(e,t)=>{let n="v";t==="__lib_version__"&&(n="");const r=`${n}${t}`;if(typeof globalThis<"u"){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const o=globalThis.__perseus_debug__[e];if(o){if(o!==r){const c=Array.isArray(o)?o:[o];c.push(r),globalThis.__perseus_debug__[e]=c,console.warn(`Multiple versions of ${e} loaded on this page: ${c.sort().join(", ")}`)}}else globalThis.__perseus_debug__[e]=r}else console.warn(`globalThis not found found (${r})`)};function le(e,t){return typeof e=="number"&&typeof t=="number"?Math.abs(e-t)<1e-9:e===t}function N(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!N(e[n],t[n]))return!1;return!0}return Array.isArray(e)||Array.isArray(t)?!1:typeof e=="function"&&typeof t=="function"?le(e,t):typeof e=="function"||typeof t=="function"?!1:typeof e=="object"&&typeof t=="object"&&e&&t?e===t||y.all(e,function(n,r){return N(t[r],n)})&&y.all(t,function(n,r){return N(e[r],n)}):typeof e=="object"&&e||typeof t=="object"&&t?!1:le(e,t)}const ne={PLOT:"PLOT",PARABOLA:"PARABOLA",SINUSOID:"SINUSOID"};function ue(e){let t=e[0],n=e[1],r=e[2];const o=e[3];t<0&&(t*=-1,n*=-1,r*=-1);const c=2*Math.PI;for(n<0&&(n*=-1,r*=-1,r+=c/2);r>0;)r-=c;for(;r<0;)r+=c;return[t,n,r,o]}function pe(e){let t=e[0],n=e[1],r=e[2];const o=e[3];t<0&&(t*=-1,n*=-1,r*=-1);const c=Math.PI;for(n<0&&(n*=-1,r*=-1,r+=c/2);r>0;)r-=c;for(;r<0;)r+=c;return[t,n,r,o]}const B={areEqual:function(e,t){return N(e,t)},movable:ne.PLOT,getPropsForCoeffs:function(e){return{fn:y.partial(this.getFunctionForCoeffs,e)}}},$e=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],r=n[0]-t[0],o=n[1]-t[1];if(r===0)return;const c=o/r,u=n[1]-c*n[0];return[c,u]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1];return n*t+r},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1];return"y = "+n.toFixed(3)+"x + "+r.toFixed(3)}}),Se=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],movable:ne.PARABOLA,getCoefficients:function(e){const t=e[0],n=e[1],r=t[0],o=t[1],c=(n[1]-o)/((n[0]-r)*(n[0]-r)),u=-2*r*c,d=c*r*r+o;return[c,u,d]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2];return(n*t+r)*t+o},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2]}},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2];return"y = "+n.toFixed(3)+"x^2 + "+r.toFixed(3)+"x + "+o.toFixed(3)}}),ke=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],movable:ne.SINUSOID,getCoefficients:function(e){const t=e[0],n=e[1],r=n[1]-t[1],o=Math.PI/(2*(n[0]-t[0])),c=t[0]*o,u=t[1];return[r,o,c,u]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2],c=e[3];return n*Math.sin(r*t-o)+c},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2],d:e[3]}},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2],c=t[3];return"y = "+n.toFixed(3)+" sin("+r.toFixed(3)+"x - "+o.toFixed(3)+") + "+c.toFixed(3)},areEqual:function(e,t){return N(ue(e),ue(t))}}),Ae=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],r=n[1]-t[1],o=Math.PI/(4*(n[0]-t[0])),c=t[0]*o,u=t[1];return[r,o,c,u]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2],c=e[3];return n*Math.tan(r*t-o)+c},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2],c=t[3];return"y = "+n.toFixed(3)+" sin("+r.toFixed(3)+"x - "+o.toFixed(3)+") + "+c.toFixed(3)},areEqual:function(e,t){return N(pe(e),pe(t))}}),fe=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(e,t,n,r,o){const c=r[0][1];return y.all(n,u=>u[1]!==c)},extraAsymptoteConstraint:function(e,t,n,r,o){const c=e[1];if(y.all(n,v=>v[1]>c)||y.all(n,v=>v[1]<c))return[t[0],c];const d=t[1];if(y.all(n,v=>v[1]>d)){const v=y.min(y.map(n,Z=>Z[1]));return[t[0],v-o.snapStep[1]]}const k=y.max(y.map(n,v=>v[1]));return[t[0],k+o.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const n=e[0],r=e[1],o=t[0][1],c=Math.log((n[1]-o)/(r[1]-o))/(n[0]-r[0]);return[(n[1]-o)/Math.exp(c*n[0]),c,o]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2];return n*Math.exp(r*t)+o},getEquationString:function(e,t){if(!t)return null;const n=this.getCoefficients(e,t),r=n[0],o=n[1],c=n[2];return"y = "+r.toFixed(3)+"e^("+o.toFixed(3)+"x) + "+c.toFixed(3)}}),xe=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(e,t,n,r,o){const c=r[0][0];return y.all(n,u=>u[0]!==c)&&n[0][1]!==n[1][1]},extraAsymptoteConstraint:function(e,t,n,r,o){const c=e[0];if(y.all(n,v=>v[0]>c)||y.all(n,v=>v[0]<c))return[c,t[1]];const d=t[0];return y.all(n,v=>v[0]>d)?[y.min(y.map(n,Z=>Z[0]))-o.snapStep[0],t[1]]:[y.max(y.map(n,v=>v[0]))+o.snapStep[0],t[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const n=o=>[o[1],o[0]],r=fe.getCoefficients(y.map(e,n),y.map(t,n));if(r){const o=-r[2]/r[0],c=1/r[0];return[1/r[1],c,o]}},getFunctionForCoeffs:function(e,t,n){const r=e[0],o=e[1],c=e[2];return r*Math.log(o*t+c)},getEquationString:function(e,t){if(!t)return null;const n=this.getCoefficients(e,t),r=n[0],o=n[1],c=n[2];return"y = ln("+r.toFixed(3)+"x + "+o.toFixed(3)+") + "+c.toFixed(3)}}),Ce=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],r=n[0]-t[0],o=n[1]-t[1];if(r===0)return;let c=Math.abs(o/r);n[1]<t[1]&&(c*=-1);const u=t[0],d=t[1];return[c,u,d]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2];return n*Math.abs(t-r)+o},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2];return"y = "+n.toFixed(3)+"| x - "+r.toFixed(3)+"| + "+o.toFixed(3)}}),me={linear:$e,quadratic:Se,sinusoid:ke,tangent:Ae,exponential:fe,logarithm:xe,absolute_value:Ce},ts=y.keys(me);function ns(e){return me[e]}function he(e){return{type:"success",value:e}}function re(e){return{type:"failure",detail:e}}function L(e){return e.type==="failure"}function X(e){return e.type==="success"}function Fe(e,t=n=>n){const n=[],r=[];for(const o of e)o.type==="success"?n.push(o.value):r.push(o.detail);return r.length>0?re(r.reduce(t)):he(n)}const D=(e,t)=>t.success(e);function f(e){return(t,n)=>{if(!Array.isArray(t))return n.failure("array",t);const r=t.map((o,c)=>e(o,n.forSubtree(c)));return Fe(r,Me)}}function Me(e,t){return[...e,...t]}function g(e,t){return typeof e=="boolean"?t.success(e):t.failure("boolean",e)}function p(e){return(t,n)=>t!==e?n.failure(String(JSON.stringify(e)),t):n.success(e)}function T(...e){return(t,n)=>{if(typeof t=="string"){const o=e.indexOf(t);if(o>-1)return n.success(e[o])}const r=e.map(o=>JSON.stringify(o));return n.failure(r,t)}}function R(e){return e!=null&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return(t,n)=>t===null?n.success(t):e(t,n)}const l=(e,t)=>typeof e=="number"?t.success(e):t.failure("number",e);function a(e){return(t,n)=>{if(!R(t))return n.failure("object",t);const r={...t},o=[];for(const[c,u]of Object.entries(e)){const d=u(t[c],n.forSubtree(c));X(d)?(d.value!==void 0||c in t)&&(r[c]=d.value):o.push(...d.detail)}return o.length>0?re(o):n.success(r)}}function s(e){return(t,n)=>t===void 0?n.success(t):e(t,n)}function w(e,t){return(n,r)=>{if(!Array.isArray(n))return r.failure("array",n);if(n.length!==2)return r.failure("array of length 2",n);const[o,c]=n,u=e(o,r.forSubtree(0));if(L(u))return u;const d=t(c,r.forSubtree(1));return L(d)?d:r.success([u.value,d.value])}}function $(e){return new se(e)}class se{constructor(t){this.parser=t}then(t){return new se(Be(this.parser,t))}}function Be(e,t){return(n,r)=>{const o=e(n,r);return L(o)?o:t(o.value,r)}}function be(e,t){return(n,r)=>{if(!R(n))return r.failure("object",n);const o={},c=[];for(const[u,d]of Object.entries(n)){const S=r.forSubtree(u),k=e(u,S);L(k)&&c.push(...k.detail);const v=t(d,S);L(v)&&c.push(...v.detail),X(k)&&X(v)&&(o[k.value]=v.value)}return c.length>0?re(c):r.success(o)}}const i=(e,t)=>typeof e=="string"?t.success(e):t.failure("string",e);function Y(e,t,n){return(r,o)=>{if(!Array.isArray(r))return o.failure("array",r);if(r.length!==3)return o.failure("array of length 3",r);const c=e(r[0],o.forSubtree(0));if(L(c))return c;const u=t(r[1],o.forSubtree(1));if(L(u))return u;const d=n(r[2],o.forSubtree(2));return L(d)?d:o.success([c.value,u.value,d.value])}}function P(e){return new ie(e)}class ie{constructor(t){this.parser=t}or(t){return new ie(Ie(this.parser,t))}}function Ie(e,t){return(n,r)=>{const o=e(n,r);return X(o)?o:t(n,r)}}function h(e,t){return(n,r)=>n==null?he(t(n)):e(n,r)}const Ee=h(be(i,a({width:l,height:l})),()=>({}));function W(e,t){return a({type:e,static:s(g),graded:s(g),alignment:s(i),options:t,key:s(b(l)),version:s(a({major:l,minor:l}))})}function ye(e,t,n){return a({type:t,static:s(g),graded:s(g),alignment:s(i),options:n,key:s(l),version:e})}const ze=W(p("categorizer"),a({items:f(i),categories:f(i),randomizeItems:h(g,()=>!1),static:h(g,()=>!1),values:f(h(l,()=>0)),highlightLint:s(g),linterContext:s(a({contentType:i,paths:f(i),stack:f(i)}))})),_e=W(p("cs-program"),a({programID:i,programType:D,settings:f(a({name:i,value:i})),showEditor:g,showButtons:g,height:l,static:h(g,()=>!1)})),Ne=W(p("definition"),a({togglePrompt:i,definition:i,static:h(g,()=>!1)})),Re=W(p("dropdown"),a({placeholder:h(i,()=>""),ariaLabel:s(i),visibleLabel:s(i),static:h(g,()=>!1),choices:f(a({content:i,correct:g}))})),De=W(p("explanation"),a({showPrompt:i,hidePrompt:i,explanation:i,widgets:h((e,t)=>Q(e,t),()=>({})),static:h(g,()=>!1)}));function x(e){return(t,n)=>n.success(e(t))}const Ge=T("basic","basic+div","trig","prealgebra","logarithms","basic relations","advanced relations","scientific"),We=h(f(Ge),()=>["basic","trig","prealgebra","logarithms"]);function je(e,t){return new oe(e,t,n=>n,(n,r)=>r.failure("widget options with a known version number",n))}class oe{constructor(t,n,r,o){this.migrateToLatest=r,this.parseOtherVersions=o;const c=$(n).then(x(this.migrateToLatest)).parser;this.parser=(u,d)=>{if(!R(u))return d.failure("object",u);const S=qe(u,d);return L(S)?S:S.value.version.major!==t?this.parseOtherVersions(u,d):c(u,d)}}withMigrationFrom(t,n,r){const o=this.parser,c=u=>this.migrateToLatest(r(u));return new oe(t,n,c,o)}}const qe=a({version:h(a({major:l,minor:l}),()=>({major:0,minor:0}))}),Ue=P(i).or(l).or(p(null)).or(p(void 0)).parser,Xe=a({value:s(i),form:h(g,()=>!1),simplify:h(g,()=>!1),considered:T("correct","wrong","ungraded"),key:$(Ue).then(x(String)).parser});function Ye(e){const t=[];for(const n of e){const{value:r}=n;r!=null&&t.push({...n,value:r})}return t}const He=a({major:p(1),minor:l}),Ke=ye(He,p("expression"),a({answerForms:$(f(Xe)).then(x(Ye)).parser,functions:f(i),times:g,visibleLabel:s(i),ariaLabel:s(i),buttonSets:We,buttonsVisible:s(T("always","never","focused"))})),Je=s(a({major:p(0),minor:l})),Qe=ye(Je,p("expression"),a({functions:f(i),times:g,visibleLabel:s(i),ariaLabel:s(i),form:g,simplify:g,value:i,buttonSets:We,buttonsVisible:s(T("always","never","focused"))}));function Ze(e){const{options:t}=e;return{...e,version:{major:1,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:[{considered:"correct",form:t.form,simplify:t.simplify,value:t.value}]}}}const Ve=je(1,Ke).withMigrationFrom(0,Qe,Ze).parser,et=$(p(!1)).then(x(()=>null)).parser,Oe=a({title:h(i,()=>""),hasHint:s(b(g)),hint:P(et).or(p(null)).or(p(void 0)).or((e,t)=>G(e,t)).parser,content:i,widgets:(e,t)=>Q(e,t),widgetEnabled:s(b(g)),immutableWidgets:s(b(g)),images:be(i,a({width:l,height:l}))}),tt=W(p("graded-group"),Oe),nt=W(p("graded-group-set"),a({gradedGroups:f(Oe)}));function H(e){const t=(n,r)=>R(n)?r.forSubtree(e).failure("a valid value",n[e]):r.failure("object",n);return new ae(e,t)}class ae{constructor(t,n){this.discriminantKey=t,this.parser=n}withBranch(t,n){const r=rt(this.discriminantKey,t,n,this.parser);return new ae(this.discriminantKey,r)}}function rt(e,t,n,r){return(o,c)=>R(o)?o[e]===t?n(o,c):r(o,c):c.failure("object",o)}const C=w(l,l),A=w(C,C),st=W(p("grapher"),a({availableTypes:f(T("absolute_value","exponential","linear","logarithm","quadratic","sinusoid","tangent")),correct:H("type").withBranch("absolute_value",a({type:p("absolute_value"),coords:b(A)})).withBranch("exponential",a({type:p("exponential"),asymptote:A,coords:b(A)})).withBranch("linear",a({type:p("linear"),coords:b(A)})).withBranch("logarithm",a({type:p("logarithm"),asymptote:A,coords:b(A)})).withBranch("quadratic",a({type:p("quadratic"),coords:b(A)})).withBranch("sinusoid",a({type:p("sinusoid"),coords:b(A)})).withBranch("tangent",a({type:p("tangent"),coords:b(A)})).parser,graph:a({backgroundImage:a({bottom:s(l),height:s(l),left:s(l),scale:s(l),url:s(b(i)),width:s(l)}),box:s(C),editableSettings:s(f(T("graph","snap","image","measure"))),gridStep:s(C),labels:w(i,i),markings:T("graph","none","grid"),range:w(C,C),rulerLabel:p(""),rulerTicks:l,showProtractor:s(g),showRuler:s(g),showTooltips:s(g),snapStep:s(C),step:C,valid:s(P(g).or(i).parser)})})),it=W(p("group"),(e,t)=>G(e,t)),ot=W(p("iframe"),a({url:i,settings:s(f(a({name:i,value:i}))),width:P(l).or(i).parser,height:P(l).or(i).parser,allowFullScreen:h(g,()=>!1),allowTopNavigation:s(g),static:h(g,()=>!1)})),ve=(e,t)=>{if(typeof e=="number")return t.success(e);const n=+e;return e===""||isNaN(n)?t.failure("a number or numeric string",e):t.success(n)};function at(e){return e===""?0:e}const ct=$(P(l).or(i).parser).then(x(at)).then(ve).parser,z=h(ct,()=>{}),K=a({url:s(b(i)),width:z,height:z,top:z,left:z,bottom:z,scale:z}),V=w(l,l),lt=W(p("image"),a({title:s(i),caption:s(i),alt:s(i),backgroundImage:K,static:s(g),labels:s(f(a({content:i,alignment:i,coordinates:f(l)}))),range:s(w(V,V)),box:s(V)})),ut=(e,t)=>typeof e=="boolean"?t.success(String(e)):t.failure("boolean",e),pt=W(p("input-number"),a({answerType:s(T("number","decimal","integer","rational","improper","mixed","percent","pi")),inexact:s(g),maxError:s(P(l).or(i).parser),rightAlign:s(g),simplify:T("required","optional","enforced"),size:T("normal","small"),value:P(l).or(i).or(ut).parser,customKeypad:s(g)})),_=w(l,l),q=h(i,()=>""),F=$(s(i)).then(x(String)).parser,gt=a({type:p("function"),key:F,options:a({value:i,funcName:i,rangeMin:i,rangeMax:i,color:i,strokeDasharray:i,strokeWidth:l})}),dt=a({type:p("label"),key:F,options:a({label:i,color:i,coordX:i,coordY:i})}),ft=a({type:p("line"),key:F,options:a({color:i,startX:i,startY:i,endX:i,endY:i,strokeDasharray:i,strokeWidth:l,arrows:i})}),mt=a({type:p("movable-line"),key:F,options:a({startX:i,startY:i,startSubscript:l,endX:i,endY:i,endSubscript:l,constraint:i,snap:l,constraintFn:i,constraintXMin:i,constraintXMax:i,constraintYMin:i,constraintYMax:i})}),ht=a({type:p("movable-point"),key:F,options:a({startX:i,startY:i,varSubscript:l,constraint:i,snap:l,constraintFn:i,constraintXMin:q,constraintXMax:q,constraintYMin:q,constraintYMax:q})}),bt=a({type:p("parametric"),key:F,options:a({x:i,y:i,rangeMin:i,rangeMax:i,color:i,strokeDasharray:i,strokeWidth:l})}),yt=a({type:p("point"),key:F,options:a({color:i,coordX:i,coordY:i})}),Wt=a({type:p("rectangle"),key:F,options:a({color:i,coordX:i,coordY:i,width:i,height:i})}),Ot=W(p("interaction"),a({static:h(g,()=>!1),graph:a({editableSettings:s(f(T("canvas","graph"))),box:_,labels:f(i),range:w(_,_),gridStep:_,markings:T("graph","grid","none"),snapStep:s(_),valid:s(P(g).or(i).parser),backgroundImage:s(K),showProtractor:s(g),showRuler:s(g),rulerLabel:s(i),rulerTicks:s(l),tickStep:_}),elements:f(H("type").withBranch("function",gt).withBranch("label",dt).withBranch("line",ft).withBranch("movable-line",mt).withBranch("movable-point",ht).withBranch("parametric",bt).withBranch("point",yt).withBranch("rectangle",Wt).parser)})),rs=["calculator","chi2Table","financialCalculatorMonthlyPayment","financialCalculatorTotalAmount","financialCalculatorTimeToPayOff","periodicTable","periodicTableWithKey","tTable","zTable"],ss=["correct","wrong","ungraded"],vt=["blue","green","grayH","purple","pink","orange","red"],is={blue:"#3D7586",green:"#447A53",grayH:"#3B3D45",purple:"#594094",pink:"#B25071",red:"#D92916",orange:"#946700"},os={none:0,white:1,translucent:.4,solid:1},Tt=["bar","line","pic","histogram","dotplot"],m=w(l,l),wt=a({type:p("angle"),showAngles:s(g),allowReflexAngles:s(g),angleOffsetDeg:s(l),snapDegrees:s(l),match:s(p("congruent")),coords:s(Y(m,m,m)),startCoords:s(Y(m,m,m))}),Pt=a({type:p("circle"),center:s(m),radius:s(l),startCoords:s(a({center:m,radius:l})),coord:s(m)}),Lt=a({type:p("linear"),coords:s(b(w(m,m))),startCoords:s(w(m,m)),coord:s(m)}),$t=a({type:p("linear-system"),coords:s(b(f(w(m,m)))),startCoords:s(f(w(m,m))),coord:s(m)}),St=a({type:p("none")}),kt=a({type:p("point"),numPoints:s(P(l).or(p("unlimited")).parser),coords:s(b(f(m))),startCoords:s(f(m)),coord:s(m)}),At=a({type:p("polygon"),numSides:s(P(l).or(p("unlimited")).parser),showAngles:s(g),showSides:s(g),snapTo:s(T("grid","angles","sides")),match:s(T("similar","congruent","approx","exact")),startCoords:s(f(m)),coord:s(m)}),xt=a({type:p("quadratic"),coords:s(b(Y(m,m,m))),startCoords:s(Y(m,m,m)),coord:s(m)}),Ct=a({type:p("ray"),coords:s(b(w(m,m))),startCoords:s(w(m,m)),coord:s(m)}),Ft=a({type:p("segment"),numSegments:s(l),coords:s(b(f(w(m,m)))),startCoords:s(f(w(m,m))),coord:s(m)}),Mt=a({type:p("sinusoid"),coords:s(b(f(m))),startCoords:s(f(m)),coord:s(m)}),ge=H("type").withBranch("angle",wt).withBranch("circle",Pt).withBranch("linear",Lt).withBranch("linear-system",$t).withBranch("none",St).withBranch("point",kt).withBranch("polygon",At).withBranch("quadratic",xt).withBranch("ray",Ct).withBranch("segment",Ft).withBranch("sinusoid",Mt).parser,I=T(...vt),Te=T("none","white","translucent","solid"),J=T("solid","dashed"),E=a({type:p("label"),coord:m,text:i,color:I,size:T("small","medium","large")}),te=a({type:p("point"),coord:m,color:I,filled:g,labels:s(f(E)),ariaLabel:s(i)}),Bt=a({type:p("line"),kind:T("line","ray","segment"),points:w(te,te),color:I,lineStyle:J,showPoint1:h(g,()=>!1),showPoint2:h(g,()=>!1),labels:s(f(E)),ariaLabel:s(i)}),It=a({type:p("vector"),points:w(m,m),color:I,labels:s(f(E)),ariaLabel:s(i)}),Et=a({type:p("ellipse"),center:m,radius:m,angle:l,color:I,fillStyle:Te,strokeStyle:J,labels:s(f(E)),ariaLabel:s(i)}),zt=a({type:p("polygon"),points:f(m),color:I,showVertices:g,fillStyle:Te,strokeStyle:J,labels:s(f(E)),ariaLabel:s(i)}),_t=a({type:p("function"),color:I,strokeStyle:J,equation:i,directionalAxis:T("x","y"),domain:s(m),labels:s(f(E)),ariaLabel:s(i)}),Nt=H("type").withBranch("point",te).withBranch("line",Bt).withBranch("vector",It).withBranch("ellipse",Et).withBranch("polygon",zt).withBranch("function",_t).withBranch("label",E).parser,Rt=W(p("interactive-graph"),a({step:m,gridStep:s(m),snapStep:s(m),backgroundImage:s(K),markings:T("graph","grid","none"),labels:s(f(i)),showProtractor:g,showRuler:s(g),showTooltips:s(g),rulerLabel:s(i),rulerTicks:s(l),range:w(m,m),graph:h(ge,()=>({type:"linear"})),correct:ge,lockedFigures:s(f(Nt)),fullGraphLabel:s(i),fullGraphAriaDescription:s(i)})),Dt=W(p("label-image"),a({choices:f(i),imageUrl:i,imageAlt:i,imageHeight:l,imageWidth:l,markers:f(a({answers:f(i),label:i,x:l,y:l})),hideChoicesFromInstructions:g,multipleAnswers:g,static:h(g,()=>!1)})),Gt=W(p("matcher"),a({labels:f(i),left:f(i),right:f(i),orderMatters:g,padding:g})),jt=P(l).or(i).parser,qt=$(h(jt,()=>NaN)).then(ve).parser,Ut=W(h(p("matrix"),()=>"matrix"),a({prefix:s(i),suffix:s(i),answers:f(f(qt)),cursorPosition:s(f(l)),matrixBoardSize:f(l),static:s(g)})),Xt=W(p("measurer"),a({image:h(K,()=>({url:null,top:0,left:0})),showProtractor:g,showRuler:g,rulerLabel:i,rulerTicks:l,rulerPixels:l,rulerLength:l,box:w(l,l),static:h(g,()=>!1)})),Yt=W(p("molecule-renderer"),a({widgetId:i,rotationAngle:s(l),smiles:s(i)})),Ht=$(p("")).then(x(()=>null)).parser,Kt=W(p("number-line"),a({range:f(l),labelRange:f(b(P(l).or(Ht).parser)),labelStyle:i,labelTicks:g,isTickCtrl:s(b(g)),divisionRange:f(l),numDivisions:s(b(l)),snapDivisions:h(l,()=>2),tickStep:s(b(l)),correctRel:s(b(i)),correctX:b(l),initialX:s(b(l)),showTooltips:s(g),static:h(g,()=>!1)})),de=T("integer","mixed","improper","proper","decimal","percent","pi"),Jt=W(p("numeric-input"),a({answers:f(a({message:i,value:s(b(l)),status:i,answerForms:h(f(de),()=>{}),strict:g,maxError:s(b(l)),simplify:s(b(P(i).or($(g).then(x(String)).parser).parser))})),labelText:s(i),size:i,coefficient:h(g,()=>!1),rightAlign:s(g),static:h(g,()=>!1),answerForms:s(f(a({name:de,simplify:s(b(T("required","correct","enforced","optional")))})))}));function ee(e,t){return G(e,t)}const Qt=(e,t)=>e==="large"?t.success("auto"):t.success(e),Zt=W(p("orderer"),a({options:h(f(ee),()=>[]),correctOptions:f(ee),otherOptions:f(ee),height:$(T("normal","auto","large")).then(Qt).parser,layout:h(T("horizontal","vertical"),()=>"horizontal")})),Vt=W(p("passage-ref"),a({passageNumber:l,referenceNumber:l,summaryText:s(i)})),en=W(p("passage"),a({footnotes:h(i,()=>""),passageText:i,passageTitle:h(i,()=>""),showLineNumbers:g,static:h(g,()=>!1)})),tn=W(p("phet-simulation"),a({url:i,description:i})),nn=W(p("plotter"),a({labels:f(i),categories:f(i),type:T(...Tt),maxY:l,scaleY:h(l,()=>1),labelInterval:s(b(l)),snapsPerLine:h(l,()=>2),starting:f(l),correct:f(l),picUrl:s(b(i)),picSize:s(b(l)),picBoxHeight:s(b(l)),plotDimensions:h(f(l),()=>[380,300])})),rn=W(p("python-program"),a({programID:i,height:l})),sn=W(p("radio"),a({choices:f(a({content:h(i,()=>""),clue:s(i),correct:s(g),isNoneOfTheAbove:s(g),widgets:h((e,t)=>Q(e,t),()=>{})})),hasNoneOfTheAbove:s(g),countChoices:s(g),randomize:s(g),multipleSelect:s(g),deselectEnabled:s(g),onePerLine:s(g),displayCount:s(D),noneOfTheAbove:s(p(!1))})),on=W(p("sorter"),a({correct:f(i),padding:g,layout:T("horizontal","vertical")})),an=W(p("table"),a({headers:f(i),rows:l,columns:l,answers:f(f(i))})),cn=W(p("video"),a({location:i,static:s(g)})),Q=(e,t)=>{if(!R(e))return t.failure("PerseusWidgetsMap",e);const n={};for(const r of Object.keys(e)){const o=ln([r,e[r]],n,t.forSubtree(r));if(L(o))return o}return t.success(n)},ln=([e,t],n,r)=>{const o=pn(e.split(" "),r.forSubtree("(widget ID)"));if(L(o))return o;const[c,u]=o.value;function d(S,k){const v=k(t,r);return L(v)?v:(n[S]=v.value,r.success(void 0))}switch(c){case"categorizer":return d(`categorizer ${u}`,ze);case"cs-program":return d(`cs-program ${u}`,_e);case"definition":return d(`definition ${u}`,Ne);case"dropdown":return d(`dropdown ${u}`,Re);case"explanation":return d(`explanation ${u}`,De);case"expression":return d(`expression ${u}`,Ve);case"grapher":return d(`grapher ${u}`,st);case"group":return d(`group ${u}`,it);case"graded-group":return d(`graded-group ${u}`,tt);case"graded-group-set":return d(`graded-group-set ${u}`,nt);case"iframe":return d(`iframe ${u}`,ot);case"image":return d(`image ${u}`,lt);case"input-number":return d(`input-number ${u}`,pt);case"interaction":return d(`interaction ${u}`,Ot);case"interactive-graph":return d(`interactive-graph ${u}`,Rt);case"label-image":return d(`label-image ${u}`,Dt);case"matcher":return d(`matcher ${u}`,Gt);case"matrix":return d(`matrix ${u}`,Ut);case"measurer":return d(`measurer ${u}`,Xt);case"molecule-renderer":return d(`molecule-renderer ${u}`,Yt);case"number-line":return d(`number-line ${u}`,Kt);case"numeric-input":return d(`numeric-input ${u}`,Jt);case"orderer":return d(`orderer ${u}`,Zt);case"passage":return d(`passage ${u}`,en);case"passage-ref":return d(`passage-ref ${u}`,Vt);case"passage-ref-target":return d(`passage-ref-target ${u}`,D);case"phet-simulation":return d(`phet-simulation ${u}`,tn);case"plotter":return d(`plotter ${u}`,nn);case"python-program":return d(`python-program ${u}`,rn);case"radio":return d(`radio ${u}`,sn);case"sorter":return d(`sorter ${u}`,on);case"table":return d(`table ${u}`,an);case"video":return d(`video ${u}`,cn);case"sequence":return d(`sequence ${u}`,U);case"lights-puzzle":return d(`lights-puzzle ${u}`,U);case"simulator":return d(`simulator ${u}`,U);case"transformer":return d(`transformer ${u}`,U);default:return d(`${c} ${u}`,W(p(c),D))}},U=W((e,t)=>t.success("deprecated-standin"),a({})),un=(e,t)=>typeof e!="string"||!/^(0|[1-9][0-9]*)$/.test(e)?t.failure("a string representing a non-negative integer",e):t.success(+e),pn=w(i,un),G=h(a({content:h(i,()=>""),widgets:h((e,t)=>Q(e,t),()=>({})),images:Ee,metadata:D}),()=>({content:"",widgets:{},images:{}}));P(G).or(f(G)).parser;$(h(a({}),()=>({}))).then(x(gn)).parser;function gn(e){return{zTable:!!e.zTable,calculator:!!e.calculator,chi2Table:!!e.chi2Table,financialCalculatorMonthlyPayment:!!e.financialCalculatorMonthlyPayment,financialCalculatorTotalAmount:!!e.financialCalculatorTotalAmount,financialCalculatorTimeToPayOff:!!e.financialCalculatorTimeToPayOff,periodicTable:!!e.periodicTable,periodicTableWithKey:!!e.periodicTableWithKey,tTable:!!e.tTable}}const dn="@khanacademy/perseus-core",fn="__lib_version__";Le(dn,fn);function mn(e){return{items:e.items,categories:e.categories,randomizeItems:e.randomizeItems,static:e.static}}const hn={items:[],categories:[],values:[],randomizeItems:!1},bn={name:"categorizer",defaultWidgetOptions:hn,getPublicWidgetOptions:mn};function yn(e){return e}const Wn=400,On={programID:"",programType:null,settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,height:Wn},vn={name:"cs-program",defaultWidgetOptions:On,supportedAlignments:["block","full-width"],getPublicWidgetOptions:yn},Tn={togglePrompt:"",definition:""},wn={name:"definition",defaultWidgetOptions:Tn,defaultAlignment:"inline"};function Pn(e){return{choices:e.choices.map(t=>({content:t.content})),placeholder:e.placeholder,static:e.static,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel}}const Ln={placeholder:"",choices:[{content:"",correct:!1}]},$n={name:"definition",defaultWidgetOptions:Ln,defaultAlignment:"inline-block",getPublicWidgetOptions:Pn},Sn={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:`explanation goes here

more explanation`,widgets:{}},kn={name:"explanation",defaultWidgetOptions:Sn,defaultAlignment:"inline"},An={major:1,minor:0},xn={1:e=>({times:e.times,buttonSets:e.buttonSets,functions:e.functions,buttonsVisible:e.buttonsVisible,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,answerForms:[{considered:"correct",form:e.form,simplify:e.simplify,value:e.value}]})},Cn={answerForms:[],times:!1,buttonSets:["basic"],functions:["f","g","h"]};function Fn(e){return{buttonSets:e.buttonSets,functions:e.functions,times:e.times,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,buttonsVisible:e.buttonsVisible}}const Mn={name:"expression",version:An,widgetOptionsUpgrades:xn,defaultWidgetOptions:Cn,defaultAlignment:"inline-block",getPublicWidgetOptions:Fn},Bn={title:"",content:"",widgets:{},images:{},hint:null},In={name:"graded-group",defaultWidgetOptions:Bn},En={gradedGroups:[]},zn={name:"graded-group-set",defaultWidgetOptions:En};function _n(e){const{correct:t,...n}=e;return n}const Nn={graph:{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},correct:{type:"linear",coords:null},availableTypes:["linear"]},Rn={name:"grapher",defaultWidgetOptions:Nn,getPublicWidgetOptions:_n},Dn={content:"",widgets:{},images:{}},Gn={name:"group",defaultWidgetOptions:Dn};function jn(e){return e}const qn={url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1,allowTopNavigation:!1},Un={name:"iframe",defaultWidgetOptions:qn,getPublicWidgetOptions:jn},Xn={title:"",range:[[0,10],[0,10]],box:[400,400],backgroundImage:{url:null,width:0,height:0},labels:[],alt:"",caption:""},Yn={name:"image",defaultWidgetOptions:Xn,supportedAlignments:["block","full-width"],defaultAlignment:"block"},Hn={value:0,simplify:"required",size:"normal",inexact:!1,maxError:.1,answerType:"number",rightAlign:!1},Kn={name:"input-number",defaultWidgetOptions:Hn,defaultAlignment:"inline-block"},Jn={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},Qn={name:"interaction",defaultWidgetOptions:Jn};function Zn(e){const{correct:t,...n}=e;return n}const Vn={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",showTooltips:!1,showProtractor:!1,graph:{type:"linear"},correct:{type:"linear",coords:null}},er={name:"interactive-graph",defaultWidgetOptions:Vn,getPublicWidgetOptions:Zn};function tr(e){return{...e,markers:e.markers.map(nr)}}function nr(e){const{answers:t,...n}=e;return n}const rr={choices:[],imageAlt:"",imageUrl:"",imageWidth:0,imageHeight:0,markers:[],multipleAnswers:!1,hideChoicesFromInstructions:!1},sr={name:"label-image",defaultWidgetOptions:rr,getPublicWidgetOptions:tr},as=e=>{const t=ce(e.problemNum);let n;e.orderMatters?n=j(e.left,t,!0):n=e.left;const r=j(e.right,t,!0);return{left:n,right:r}};function ir(e){let t;e.orderMatters?t=j(e.left,Math.random,!0):t=e.left;const n=j(e.right,Math.random,!0);return{left:t,right:n}}function or(e){const{left:t,right:n}=ir(e);return{...e,left:t,right:n}}const ar={left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0},cr={name:"matcher",defaultWidgetOptions:ar,getPublicWidgetOptions:or};function lr(e){const{answers:t,...n}=e;return n}const ur={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]},pr={name:"matrix",defaultWidgetOptions:ur,getPublicWidgetOptions:lr},gr={major:1,minor:0},dr={1:e=>{const{imageUrl:t,imageTop:n,imageLeft:r,...o}=e;return{...o,image:{url:t,top:n,left:r}}}},fr={box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10},mr={name:"measurer",version:gr,widgetOptionsUpgrades:dr,defaultWidgetOptions:fr};function hr(e){const{correctX:t,correctRel:n,...r}=e;return r}const br={range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1},yr={name:"number-line",defaultWidgetOptions:br,getPublicWidgetOptions:hr};function Wr(e){const{answers:t,...n}=e;return n}const Or={answers:[{value:null,status:"correct",message:"",simplify:"required",answerForms:[],strict:!1,maxError:null}],size:"normal",coefficient:!1,labelText:"",rightAlign:!1},vr={name:"numeric-input",defaultWidgetOptions:Or,defaultAlignment:"inline-block",getPublicWidgetOptions:Wr};function Tr(e){return{options:e.options,height:e.height,layout:e.layout}}const wr={correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:"normal",layout:"horizontal"},Pr={name:"orderer",defaultWidgetOptions:wr,getPublicWidgetOptions:Tr},Lr={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0},$r={name:"passage",defaultWidgetOptions:Lr},Sr={major:0,minor:1},kr={passageNumber:1,referenceNumber:1,summaryText:""},Ar={name:"passageRef",version:Sr,defaultWidgetOptions:kr,defaultAlignment:"inline"},xr={content:""},Cr={name:"passageRefTarget",defaultWidgetOptions:xr,defaultAlignment:"inline"},Fr={url:"",description:""},Mr={name:"phet-simulation",defaultWidgetOptions:Fr};function Br(e){const{correct:t,...n}=e;return n}const Ir={scaleY:1,maxY:10,snapsPerLine:2,correct:[1],starting:[1],type:"bar",labels:["",""],categories:[""],picSize:30,picBoxHeight:36,plotDimensions:[275,200],labelInterval:1,picUrl:null},Er={name:"plotter",defaultWidgetOptions:Ir,getPublicWidgetOptions:Br},zr={programID:"",height:400},_r={name:"python-program",defaultWidgetOptions:zr},Nr={major:1,minor:0},Rr={1:e=>{const{noneOfTheAbove:t,...n}=e;if(t)throw new Error("radio widget v0 no longer supports auto noneOfTheAbove");return{...n,hasNoneOfTheAbove:!1}}},Dr={choices:[{},{},{},{}],displayCount:null,randomize:!1,hasNoneOfTheAbove:!1,multipleSelect:!1,countChoices:!1,deselectEnabled:!1};function Gr(e){const{content:t,isNoneOfTheAbove:n,widgets:r}=e;return{content:t,isNoneOfTheAbove:n,widgets:r}}function jr(e){return{...e,choices:e.choices.map(Gr)}}const qr={name:"radio",version:Nr,widgetOptionsUpgrades:Rr,defaultWidgetOptions:Dr,getPublicWidgetOptions:jr};function Ur(e){const t=j(e.correct,Math.random,!0);return{...e,correct:t,isCorrectShuffled:!0}}const Xr={correct:["$x$","$y$","$z$"],layout:"horizontal",padding:!0},Yr={name:"sorter",defaultWidgetOptions:Xr,getPublicWidgetOptions:Ur};function Hr(e){const{answers:t,...n}=e;return n}const we=4,Pe=1,Kr=new Array(we).fill(0).map(()=>new Array(Pe).fill("")),Jr={headers:[""],rows:we,columns:Pe,answers:Kr},Qr={name:"table",defaultWidgetOptions:Jr,getPublicWidgetOptions:Hr},Zr={location:""},Vr={name:"video",defaultWidgetOptions:Zr,supportedAlignments:["block","float-left","float-right","full-width"],defaultAlignment:"block"},M={};function O(e,t){M[e]=t}function cs(e){return!!M[e]}function ls(e){const t=M[e];return(t==null?void 0:t.version)||{major:0,minor:0}}const us=e=>{var t;return((t=M[e])==null?void 0:t.getPublicWidgetOptions)??(n=>n)};function ps(e){const t=M[e];return(t==null?void 0:t.widgetOptionsUpgrades)||{}}function gs(e){const t=M[e];return(t==null?void 0:t.defaultWidgetOptions)||{}}const ds=e=>{var n;const t=M[e];return(n=t==null?void 0:t.supportedAlignments)!=null&&n[0]?t==null?void 0:t.supportedAlignments:["default"]},fs=e=>{const t=M[e];return t!=null&&t.defaultAlignment?t.defaultAlignment:"block"};O("categorizer",bn);O("cs-program",vn);O("definition",wn);O("dropdown",$n);O("explanation",kn);O("expression",Mn);O("graded-group",In);O("graded-group-set",zn);O("grapher",Rn);O("group",Gn);O("iframe",Un);O("image",Yn);O("input-number",Kn);O("interaction",Qn);O("interactive-graph",er);O("label-image",sr);O("matcher",cr);O("matrix",pr);O("measurer",mr);O("number-line",yr);O("numeric-input",vr);O("orderer",Pr);O("passage",$r);O("passage-ref",Ar);O("passage-ref-target",Cr);O("phet-simulation",Mr);O("plotter",Er);O("python-program",_r);O("radio",qr);O("sorter",Yr);O("table",Qr);O("video",Vr);const ce=function(e){let t=e;return function(){let n=t;return n=n+2127912214+(n<<12)&4294967295,n=(n^3345072700^n>>>19)&4294967295,n=n+374761393+(n<<5)&4294967295,n=(n+3550635116^n<<9)&4294967295,n=n+4251993797+(n<<3)&4294967295,n=(n^3042594569^n>>>16)&4294967295,(t=n&268435455)/268435456}};function j(e,t,n=!1){const r=y.clone(e);if(!r.length||y.all(r,function(c){return y.isEqual(c,r[0])}))return r;let o;typeof t=="function"?o=t:o=ce(t);do for(let c=r.length;c>0;c--){const u=Math.floor(o()*c),d=r[u];r[u]=r[c-1],r[c-1]=d}while(n&&y.isEqual(e,r));return r}const ms=ce(new Date().getTime()&4294967295);export{In as A,zn as B,Rn as C,ts as D,Gn as E,Un as F,pr as G,mr as H,rs as I,Pr as J,$r as K,Ar as L,Cr as M,Qr as N,Vr as O,ss as P,N as Q,cs as R,ls as S,ps as T,gs as U,le as V,ns as W,j as X,ms as Y,as as Z,$n as a,Kn as b,bn as c,wn as d,kn as e,vr as f,Er as g,Tt as h,Yn as i,_r as j,is as k,sr as l,cr as m,yr as n,us as o,Mr as p,Mn as q,qr as r,Yr as s,os as t,Le as u,ds as v,fs as w,Qn as x,er as y,vn as z};
