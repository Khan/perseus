import{j as x,a as V}from"./jsx-runtime-5BUNAZ9W.js";import{r as i}from"./index-4g5l5LRQ.js";import{l as D}from"./index-awljIyHI.js";import{a as Q,V as _,u as G}from"./index-e4P84RkC.js";import{c as u,s as t}from"./index-lUErx3pE.js";import{H as J,B as X}from"./index-T3HXbpha.js";import{c as z}from"./answer-choices--Sssr-eZ.js";import{C as Y}from"./index-Cz55-Vre.js";import{P as Z}from"./index-zE8cp1oq.js";import{B as ee}from"./choice-RL6irUBp.js";import{I as q}from"./index-z05-Lc8k.js";import{a as te}from"./index-wjVcXLkf.js";function N(){return N=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e])}return a},N.apply(this,arguments)}function K(a,n){if(a==null)return{};var r={},e=Object.keys(a),o,d;for(d=0;d<e.length;d++)o=e[d],!(n.indexOf(o)>=0)&&(r[o]=a[o]);return r}const ne=["children","id","initialExpandedIndex","allowMultipleExpanded","caretPosition","cornerKind","animated","style"],re=Q("ul"),oe=6;i.forwardRef(function(n,r){const{children:e,id:o,initialExpandedIndex:d,allowMultipleExpanded:f=!0,caretPosition:s,cornerKind:h="rounded",animated:y,style:L}=n,k=K(n,ne),T=Array(e.length).fill(!1);d!==void 0&&(T[d]=!0);const[I,R]=i.useState(T),m=Array(e.length).fill(null),B=e.length<=oe,C=(c,l)=>{const S=f?[...I]:Array(e.length).fill(!1),g=!I[c];S[c]=g,R(S),l&&l(g)},P=c=>{var l,S,g,w;const E=m.findIndex(b=>b.current===document.activeElement);if(E!==-1)switch(c.key){case"ArrowUp":c.preventDefault();const b=(E+e.length-1)%e.length;(l=m[b].current)==null||l.focus();break;case"ArrowDown":c.preventDefault();const $=(E+1)%e.length;(S=m[$].current)==null||S.focus();break;case"Home":c.preventDefault(),(g=m[0].current)==null||g.focus();break;case"End":c.preventDefault(),(w=m[e.length-1].current)==null||w.focus();break}};return i.createElement(re,N({style:[ae.wrapper,L],onKeyDown:P},k,{ref:r}),e.map((c,l)=>{const{caretPosition:S,cornerKind:g,onToggle:w,animated:E}=c.props,b=i.createRef();m[l]=b;const O=l===0,$=l===e.length-1;return i.createElement("li",{key:l,id:o},i.cloneElement(c,{animated:E??y,caretPosition:S??s,cornerKind:g??h,expanded:I[l],onToggle:()=>C(l,w),isFirstSection:O,isLastSection:$,isRegion:B,ref:b}))}))});const ae=D.StyleSheet.create({wrapper:{boxSizing:"border-box",listStyle:"none",padding:0,width:"100%"}});function ie(a,n,r,e){switch(a){case"rounded-per-section":return{roundedTop:!0,roundedBottom:!e};case"rounded":return{roundedTop:n,roundedBottom:r&&!e};default:return{roundedTop:!1,roundedBottom:!1}}}const de=i.forwardRef(function(n,r){const{id:e,header:o,caretPosition:d,cornerKind:f,collapsible:s=!0,expanded:h,animated:y,onClick:L,sectionContentUniqueId:k,headerStyle:T,tag:I="h2",testId:R,isFirstSection:m,isLastSection:B}=n,C=typeof o=="string",{roundedTop:P,roundedBottom:c}=ie(f,m,B,h);return i.createElement(J,{tag:I,style:p.heading},i.createElement(Y,{id:e,"aria-expanded":h,"aria-controls":k,onClick:L,disabled:!s,testId:R?`${R}-header`:void 0,style:[p.headerWrapper,y&&p.headerWrapperWithAnimation,d==="start"&&p.headerWrapperCaretStart,P&&p.roundedTop,c&&p.roundedBottom,T,!s&&p.disabled],ref:r},()=>i.createElement(i.Fragment,null,i.createElement(_,{style:[p.headerContent,C&&p.headerString]},C?i.createElement(_,{style:[d==="end"?p.headerStringCaretEnd:p.headerStringCaretStart]},o):o),s&&i.createElement(Z,{icon:z,color:u.offBlack64,size:"small",style:[y&&p.iconWithAnimation,d==="start"?p.iconStart:p.iconEnd,h&&p.iconExpanded],testId:R?`${R}-caret-icon`:void 0}))))}),F=t.small_12-1,j="300ms",p=D.StyleSheet.create({heading:{minWidth:0,marginTop:0},headerWrapper:{display:"flex",flexDirection:"row",alignItems:"center",overflow:"hidden",minWidth:"auto",width:"100%",position:"relative",zIndex:1,":active":{outline:`2px solid ${u.activeBlue}`},":hover":{outline:`2px solid ${u.blue}`},":focus":{boxShadow:`0 0 0 2px ${u.blue}`},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":{outline:`2px solid ${u.blue}`}},headerWrapperWithAnimation:{transition:`border-radius ${j}`},headerWrapperCaretStart:{flexDirection:"row-reverse"},roundedTop:{borderStartStartRadius:F,borderStartEndRadius:F},roundedBottom:{borderEndStartRadius:F,borderEndEndRadius:F},headerContent:{flexGrow:1,textAlign:"start"},headerString:{paddingTop:t.medium_16,paddingBottom:t.medium_16},headerStringCaretEnd:{paddingInlineEnd:t.small_12,paddingInlineStart:t.medium_16},headerStringCaretStart:{paddingInlineEnd:t.medium_16,paddingInlineStart:t.small_12},iconWithAnimation:{transition:`transform ${j}`},iconExpanded:{transform:"rotate(180deg)"},iconStart:{marginInlineStart:t.medium_16},iconEnd:{marginInlineEnd:t.medium_16},disabled:{pointerEvents:"none",color:"inherit",":focus":{boxShadow:`0 0 0 2px ${u.offBlack32}`},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":{outline:`2px solid ${u.offBlack32}`}}}),le=["children","id","header","collapsible","expanded","animated","onToggle","caretPosition","cornerKind","style","headerStyle","tag","testId","isFirstSection","isLastSection","isRegion"],se=i.forwardRef(function(n,r){const{children:e,id:o,header:d,collapsible:f,expanded:s,animated:h=!1,onToggle:y,caretPosition:L="end",cornerKind:k="rounded",style:T,headerStyle:I,tag:R,testId:m,isFirstSection:B=!0,isLastSection:C=!0,isRegion:P=!0}=n,c=K(n,le),[l,S]=i.useState(s??!1),g=s!==void 0&&y,w=G(),E=o??w.get("accordion-section"),b=o?`${o}-header`:w.get("accordion-section-header"),O=w.get("accordion-section-content"),$=ce(k,B,C),U=()=>{g?y(!s):(S(!l),y&&y(!l))};let A;return f===!1?A=!0:A=g?s:l,i.createElement(_,N({id:E,style:[v.wrapper,h&&v.wrapperWithAnimation,$.wrapper,A?v.wrapperExpanded:v.wrapperCollapsed,T],testId:m},c),i.createElement(de,{id:b,header:d,caretPosition:L,cornerKind:k,collapsible:f,expanded:A,animated:h,onClick:U,sectionContentUniqueId:O,headerStyle:I,tag:R,testId:m,isFirstSection:B,isLastSection:C,ref:r}),i.createElement(_,{id:O,role:P?"region":void 0,"aria-labelledby":b,style:[v.contentWrapper,A?v.contentWrapperExpanded:v.conentWrapperCollapsed,$.contentWrapper],testId:m?`${m}-content-panel`:void 0},typeof e=="string"?i.createElement(X,{style:v.stringContent},e):e))}),v=D.StyleSheet.create({wrapper:{display:"grid",position:"static",boxSizing:"border-box",backgroundColor:u.white},wrapperWithAnimation:{transition:"grid-template-rows 300ms"},wrapperCollapsed:{gridTemplateRows:"min-content 0fr"},wrapperExpanded:{gridTemplateRows:"min-content 1fr"},contentWrapper:{overflow:"hidden"},conentWrapperCollapsed:{visibility:"hidden"},contentWrapperExpanded:{visibility:"visible"},stringContent:{padding:t.medium_16}}),H={},ce=(a,n,r)=>{const e=`${a}-${n.toString()}-${r.toString()}`;if(H[e])return H[e];let o=Object.freeze({}),d=Object.freeze({}),f=Object.freeze({}),s=Object.freeze({});a==="square"&&(o={border:`1px solid ${u.offBlack16}`,borderBottom:"none",borderRadius:0},r&&(s={borderBottom:`1px solid ${u.offBlack16}`})),a==="rounded"&&(o={border:`1px solid ${u.offBlack16}`,borderBottom:"none"},n&&(f={borderStartStartRadius:t.small_12,borderStartEndRadius:t.small_12}),r&&(s={borderBottom:`1px solid ${u.offBlack16}`,borderEndStartRadius:t.small_12,borderEndEndRadius:t.small_12},d={borderEndEndRadius:t.small_12,borderEndStartRadius:t.small_12})),a==="rounded-per-section"&&(o={border:`1px solid ${u.offBlack16}`,borderRadius:t.small_12,marginBottom:t.medium_16},d={borderEndEndRadius:t.small_12,borderEndStartRadius:t.small_12});const h={wrapper:N({},o,f,s),contentWrapper:d};return H[e]=D.StyleSheet.create(h),H[e]},pe=a=>{const{children:n,header:r,expanded:e,containerStyle:o,panelStyle:d,onToggle:f}=a;return x(_,{className:"perseus-editor-accordion",children:x(se,{expanded:e,onToggle:f,style:[M.container,o],headerStyle:M.accordionHeader,header:r,children:x(_,{style:[M.accordionPanel,d],children:n})})})},M=D.StyleSheet.create({container:{backgroundColor:u.fadedBlue8,marginTop:t.xSmall_8},accordionHeader:{padding:t.small_12,paddingInlineEnd:0,height:t.xxLarge_48},accordionPanel:{paddingTop:t.xxSmall_6,paddingBottom:t.xxxSmall_4,paddingLeft:t.small_12,paddingRight:t.small_12}});pe.__docgenInfo={description:"",methods:[],displayName:"PerseusEditorAccordion",props:{children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | React.ReactNode[]",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"}]},description:""},header:{required:!0,tsType:{name:"union",raw:"string | React.ReactElement",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},containerStyle:{required:!1,tsType:{name:"StyleType"},description:""},panelStyle:{required:!1,tsType:{name:"StyleType"},description:""},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:""}}};const ue=""+new URL("caret-double-down-bold-XepWuyCn.svg",import.meta.url).href,me=""+new URL("caret-double-up-bold-10VQDgxI.svg",import.meta.url).href,fe=""+new URL("caret-up-bold-0QYBH_hJ.svg",import.meta.url).href,ge=""+new URL("trash-bold-rak1tQ6r.svg",import.meta.url).href,he=a=>{const{figureType:n,onMove:r,onRemove:e}=a;return V(_,{style:W.container,children:[x(ee,{startIcon:ge,"aria-label":`Delete locked ${n}`,onClick:e,kind:"tertiary",style:W.deleteButton,children:"Delete"}),x(te,{}),x(q,{icon:me,size:"small","aria-label":`Move locked ${n} to the back`,onClick:()=>r("back"),style:W.iconButton}),x(q,{icon:fe,size:"small","aria-label":`Move locked ${n} backward`,onClick:()=>r("backward"),style:W.iconButton}),x(q,{icon:z,size:"small","aria-label":`Move locked ${n} forward`,onClick:()=>r("forward"),style:W.iconButton}),x(q,{icon:ue,size:"small","aria-label":`Move locked ${n} to the front`,onClick:()=>r("front"),style:W.iconButton})]})},W=D.StyleSheet.create({container:{width:"100%",flexDirection:"row",alignItems:"center",marginTop:t.xxxSmall_4},deleteButton:{marginInlineStart:-t.xxxSmall_4},iconButton:{margin:0}});he.__docgenInfo={description:"",methods:[],displayName:"LockedFigureSettingsActions",props:{figureType:{required:!0,tsType:{name:"LockedFigureType"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:""},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{he as L,pe as P};
