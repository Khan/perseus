import{$ as he,_ as re}from"./jquery-yG1GhClm.js";import{a as ot}from"./version-akiLXZts.js";import{c as ft,g as ht}from"./_commonjsHelpers-4gQjN7DL.js";import{P as je,E as et}from"./perseus-error-l3K_anoI.js";const Et="@khanacademy/kas",It="__lib_version__";ot(Et,It);var He={exports:{}};(function(u,t){(function(){var n=this,a=n._,l={},f=Array.prototype,o=Object.prototype,d=Function.prototype,v=f.push,y=f.slice,p=f.concat,g=o.toString,m=o.hasOwnProperty,M=f.forEach,I=f.map,N=f.reduce,F=f.reduceRight,D=f.filter,H=f.every,Y=f.some,ie=f.indexOf,de=f.lastIndexOf,J=Array.isArray,j=Object.keys,se=d.bind,i=function(e){if(e instanceof i)return e;if(!(this instanceof i))return new i(e);this._wrapped=e};u.exports&&(t=u.exports=i),t._=i,i.VERSION="1.4.4";var L=i.each=i.forEach=function(e,r,s){if(e!=null){if(M&&e.forEach===M)e.forEach(r,s);else if(e.length===+e.length){for(var c=0,h=e.length;c<h;c++)if(r.call(s,e[c],c,e)===l)return}else for(var E in e)if(i.has(e,E)&&r.call(s,e[E],E,e)===l)return}};i.map=i.collect=function(e,r,s){var c=[];return e==null?c:I&&e.map===I?e.map(r,s):(L(e,function(h,E,x){c[c.length]=r.call(s,h,E,x)}),c)};var ge="Reduce of empty array with no initial value";i.reduce=i.foldl=i.inject=function(e,r,s,c){var h=arguments.length>2;if(e==null&&(e=[]),N&&e.reduce===N)return c&&(r=i.bind(r,c)),h?e.reduce(r,s):e.reduce(r);if(L(e,function(E,x,P){h?s=r.call(c,s,E,x,P):(s=E,h=!0)}),!h)throw new TypeError(ge);return s},i.reduceRight=i.foldr=function(e,r,s,c){var h=arguments.length>2;if(e==null&&(e=[]),F&&e.reduceRight===F)return c&&(r=i.bind(r,c)),h?e.reduceRight(r,s):e.reduceRight(r);var E=e.length;if(E!==+E){var x=i.keys(e);E=x.length}if(L(e,function(P,S,W){S=x?x[--E]:--E,h?s=r.call(c,s,e[S],S,W):(s=e[S],h=!0)}),!h)throw new TypeError(ge);return s},i.find=i.detect=function(e,r,s){var c;return Z(e,function(h,E,x){if(r.call(s,h,E,x))return c=h,!0}),c},i.filter=i.select=function(e,r,s){var c=[];return e==null?c:D&&e.filter===D?e.filter(r,s):(L(e,function(h,E,x){r.call(s,h,E,x)&&(c[c.length]=h)}),c)},i.reject=function(e,r,s){return i.filter(e,function(c,h,E){return!r.call(s,c,h,E)},s)},i.every=i.all=function(e,r,s){r||(r=i.identity);var c=!0;return e==null?c:H&&e.every===H?e.every(r,s):(L(e,function(h,E,x){if(!(c=c&&r.call(s,h,E,x)))return l}),!!c)};var Z=i.some=i.any=function(e,r,s){r||(r=i.identity);var c=!1;return e==null?c:Y&&e.some===Y?e.some(r,s):(L(e,function(h,E,x){if(c||(c=r.call(s,h,E,x)))return l}),!!c)};i.contains=i.include=function(e,r){return e==null?!1:ie&&e.indexOf===ie?e.indexOf(r)!=-1:Z(e,function(s){return s===r})},i.invoke=function(e,r){var s=y.call(arguments,2),c=i.isFunction(r);return i.map(e,function(h){return(c?r:h[r]).apply(h,s)})},i.pluck=function(e,r){return i.map(e,function(s){return s[r]})},i.where=function(e,r,s){return i.isEmpty(r)?s?null:[]:i[s?"find":"filter"](e,function(c){for(var h in r)if(r[h]!==c[h])return!1;return!0})},i.findWhere=function(e,r){return i.where(e,r,!0)},i.max=function(e,r,s){if(!r&&i.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!r&&i.isEmpty(e))return-1/0;var c={computed:-1/0,value:-1/0};return L(e,function(h,E,x){var P=r?r.call(s,h,E,x):h;P>=c.computed&&(c={value:h,computed:P})}),c.value},i.min=function(e,r,s){if(!r&&i.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!r&&i.isEmpty(e))return 1/0;var c={computed:1/0,value:1/0};return L(e,function(h,E,x){var P=r?r.call(s,h,E,x):h;P<c.computed&&(c={value:h,computed:P})}),c.value},i.shuffle=function(e){var r,s=0,c=[];return L(e,function(h){r=i.random(s++),c[s-1]=c[r],c[r]=h}),c};var Q=function(e){return i.isFunction(e)?e:function(r){return r[e]}};i.sortBy=function(e,r,s){var c=Q(r);return i.pluck(i.map(e,function(h,E,x){return{value:h,index:E,criteria:c.call(s,h,E,x)}}).sort(function(h,E){var x=h.criteria,P=E.criteria;if(x!==P){if(x>P||x===void 0)return 1;if(x<P||P===void 0)return-1}return h.index<E.index?-1:1}),"value")};var O=function(e,r,s,c){var h={},E=Q(r||i.identity);return L(e,function(x,P){var S=E.call(s,x,P,e);c(h,S,x)}),h};i.groupBy=function(e,r,s){return O(e,r,s,function(c,h,E){(i.has(c,h)?c[h]:c[h]=[]).push(E)})},i.countBy=function(e,r,s){return O(e,r,s,function(c,h){i.has(c,h)||(c[h]=0),c[h]++})},i.sortedIndex=function(e,r,s,c){s=s==null?i.identity:Q(s);for(var h=s.call(c,r),E=0,x=e.length;E<x;){var P=E+x>>>1;s.call(c,e[P])<h?E=P+1:x=P}return E},i.toArray=function(e){return e?i.isArray(e)?y.call(e):e.length===+e.length?i.map(e,i.identity):i.values(e):[]},i.size=function(e){return e==null?0:e.length===+e.length?e.length:i.keys(e).length},i.first=i.head=i.take=function(e,r,s){if(e!=null)return r!=null&&!s?y.call(e,0,r):e[0]},i.initial=function(e,r,s){return y.call(e,0,e.length-(r==null||s?1:r))},i.last=function(e,r,s){if(e!=null)return r!=null&&!s?y.call(e,Math.max(e.length-r,0)):e[e.length-1]},i.rest=i.tail=i.drop=function(e,r,s){return y.call(e,r==null||s?1:r)},i.compact=function(e){return i.filter(e,i.identity)};var V=function(e,r,s){return L(e,function(c){i.isArray(c)?r?v.apply(s,c):V(c,r,s):s.push(c)}),s};i.flatten=function(e,r){return V(e,r,[])},i.without=function(e){return i.difference(e,y.call(arguments,1))},i.uniq=i.unique=function(e,r,s,c){i.isFunction(r)&&(c=s,s=r,r=!1);var h=s?i.map(e,s,c):e,E=[],x=[];return L(h,function(P,S){(r?!S||x[x.length-1]!==P:!i.contains(x,P))&&(x.push(P),E.push(e[S]))}),E},i.union=function(){return i.uniq(p.apply(f,arguments))},i.intersection=function(e){var r=y.call(arguments,1);return i.filter(i.uniq(e),function(s){return i.every(r,function(c){return i.indexOf(c,s)>=0})})},i.difference=function(e){var r=p.apply(f,y.call(arguments,1));return i.filter(e,function(s){return!i.contains(r,s)})},i.zip=function(){for(var e=y.call(arguments),r=i.max(i.pluck(e,"length")),s=new Array(r),c=0;c<r;c++)s[c]=i.pluck(e,""+c);return s},i.object=function(e,r){if(e==null)return{};for(var s={},c=0,h=e.length;c<h;c++)r?s[e[c]]=r[c]:s[e[c][0]]=e[c][1];return s},i.indexOf=function(e,r,s){if(e==null)return-1;var c=0,h=e.length;if(s)if(typeof s=="number")c=s<0?Math.max(0,h+s):s;else return c=i.sortedIndex(e,r),e[c]===r?c:-1;if(ie&&e.indexOf===ie)return e.indexOf(r,s);for(;c<h;c++)if(e[c]===r)return c;return-1},i.lastIndexOf=function(e,r,s){if(e==null)return-1;var c=s!=null;if(de&&e.lastIndexOf===de)return c?e.lastIndexOf(r,s):e.lastIndexOf(r);for(var h=c?s:e.length;h--;)if(e[h]===r)return h;return-1},i.range=function(e,r,s){arguments.length<=1&&(r=e||0,e=0),s=arguments[2]||1;for(var c=Math.max(Math.ceil((r-e)/s),0),h=0,E=new Array(c);h<c;)E[h++]=e,e+=s;return E},i.bind=function(e,r){if(e.bind===se&&se)return se.apply(e,y.call(arguments,1));var s=y.call(arguments,2);return function(){return e.apply(r,s.concat(y.call(arguments)))}},i.partial=function(e){var r=y.call(arguments,1);return function(){return e.apply(this,r.concat(y.call(arguments)))}},i.bindAll=function(e){var r=y.call(arguments,1);return r.length===0&&(r=i.functions(e)),L(r,function(s){e[s]=i.bind(e[s],e)}),e},i.memoize=function(e,r){var s={};return r||(r=i.identity),function(){var c=r.apply(this,arguments);return i.has(s,c)?s[c]:s[c]=e.apply(this,arguments)}},i.delay=function(e,r){var s=y.call(arguments,2);return setTimeout(function(){return e.apply(null,s)},r)},i.defer=function(e){return i.delay.apply(i,[e,1].concat(y.call(arguments,1)))},i.throttle=function(e,r){var s,c,h,E,x=0,P=function(){x=new Date,h=null,E=e.apply(s,c)};return function(){var S=new Date,W=r-(S-x);return s=this,c=arguments,W<=0?(clearTimeout(h),h=null,x=S,E=e.apply(s,c)):h||(h=setTimeout(P,W)),E}},i.debounce=function(e,r,s){var c,h;return function(){var E=this,x=arguments,P=function(){c=null,s||(h=e.apply(E,x))},S=s&&!c;return clearTimeout(c),c=setTimeout(P,r),S&&(h=e.apply(E,x)),h}},i.once=function(e){var r=!1,s;return function(){return r||(r=!0,s=e.apply(this,arguments),e=null),s}},i.wrap=function(e,r){return function(){var s=[e];return v.apply(s,arguments),r.apply(this,s)}},i.compose=function(){var e=arguments;return function(){for(var r=arguments,s=e.length-1;s>=0;s--)r=[e[s].apply(this,r)];return r[0]}},i.after=function(e,r){return e<=0?r():function(){if(--e<1)return r.apply(this,arguments)}},i.keys=j||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var r=[];for(var s in e)i.has(e,s)&&(r[r.length]=s);return r},i.values=function(e){var r=[];for(var s in e)i.has(e,s)&&r.push(e[s]);return r},i.pairs=function(e){var r=[];for(var s in e)i.has(e,s)&&r.push([s,e[s]]);return r},i.invert=function(e){var r={};for(var s in e)i.has(e,s)&&(r[e[s]]=s);return r},i.functions=i.methods=function(e){var r=[];for(var s in e)i.isFunction(e[s])&&r.push(s);return r.sort()},i.extend=function(e){return L(y.call(arguments,1),function(r){if(r)for(var s in r)e[s]=r[s]}),e},i.pick=function(e){var r={},s=p.apply(f,y.call(arguments,1));return L(s,function(c){c in e&&(r[c]=e[c])}),r},i.omit=function(e){var r={},s=p.apply(f,y.call(arguments,1));for(var c in e)i.contains(s,c)||(r[c]=e[c]);return r},i.defaults=function(e){return L(y.call(arguments,1),function(r){if(r)for(var s in r)e[s]==null&&(e[s]=r[s])}),e},i.clone=function(e){return i.isObject(e)?i.isArray(e)?e.slice():i.extend({},e):e},i.tap=function(e,r){return r(e),e};var A=function(e,r,s,c){if(e===r)return e!==0||1/e==1/r;if(e==null||r==null)return e===r;e instanceof i&&(e=e._wrapped),r instanceof i&&(r=r._wrapped);var h=g.call(e);if(h!=g.call(r))return!1;switch(h){case"[object String]":return e==String(r);case"[object Number]":return e!=+e?r!=+r:e==0?1/e==1/r:e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object RegExp]":return e.source==r.source&&e.global==r.global&&e.multiline==r.multiline&&e.ignoreCase==r.ignoreCase}if(typeof e!="object"||typeof r!="object")return!1;for(var E=s.length;E--;)if(s[E]==e)return c[E]==r;s.push(e),c.push(r);var x=0,P=!0;if(h=="[object Array]"){if(x=e.length,P=x==r.length,P)for(;x--&&(P=A(e[x],r[x],s,c)););}else{var S=e.constructor,W=r.constructor;if(S!==W&&!(i.isFunction(S)&&S instanceof S&&i.isFunction(W)&&W instanceof W))return!1;for(var K in e)if(i.has(e,K)&&(x++,!(P=i.has(r,K)&&A(e[K],r[K],s,c))))break;if(P){for(K in r)if(i.has(r,K)&&!x--)break;P=!x}}return s.pop(),c.pop(),P};i.isEqual=function(e,r){return A(e,r,[],[])},i.isEmpty=function(e){if(e==null)return!0;if(i.isArray(e)||i.isString(e))return e.length===0;for(var r in e)if(i.has(e,r))return!1;return!0},i.isElement=function(e){return!!(e&&e.nodeType===1)},i.isArray=J||function(e){return g.call(e)=="[object Array]"},i.isObject=function(e){return e===Object(e)},L(["Arguments","Function","String","Number","Date","RegExp"],function(e){i["is"+e]=function(r){return g.call(r)=="[object "+e+"]"}}),i.isArguments(arguments)||(i.isArguments=function(e){return!!(e&&i.has(e,"callee"))}),typeof/./!="function"&&(i.isFunction=function(e){return typeof e=="function"}),i.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},i.isNaN=function(e){return i.isNumber(e)&&e!=+e},i.isBoolean=function(e){return e===!0||e===!1||g.call(e)=="[object Boolean]"},i.isNull=function(e){return e===null},i.isUndefined=function(e){return e===void 0},i.has=function(e,r){return m.call(e,r)},i.noConflict=function(){return n._=a,this},i.identity=function(e){return e},i.times=function(e,r,s){for(var c=Array(e),h=0;h<e;h++)c[h]=r.call(s,h);return c},i.random=function(e,r){return r==null&&(r=e,e=0),e+Math.floor(Math.random()*(r-e+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};T.unescape=i.invert(T.escape);var C={escape:new RegExp("["+i.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+i.keys(T.unescape).join("|")+")","g")};i.each(["escape","unescape"],function(e){i[e]=function(r){return r==null?"":(""+r).replace(C[e],function(s){return T[e][s]})}}),i.result=function(e,r){if(e==null)return null;var s=e[r];return i.isFunction(s)?s.call(e):s},i.mixin=function(e){L(i.functions(e),function(r){var s=i[r]=e[r];i.prototype[r]=function(){var c=[this._wrapped];return v.apply(c,arguments),me.call(this,s.apply(i,c))}})};var q=0;i.uniqueId=function(e){var r=++q+"";return e?e+r:r},i.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var le=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},fe=/\\|'|\r|\n|\t|\u2028|\u2029/g;i.template=function(e,r,s){var c;s=i.defaults({},s,i.templateSettings);var h=new RegExp([(s.escape||le).source,(s.interpolate||le).source,(s.evaluate||le).source].join("|")+"|$","g"),E=0,x="__p+='";e.replace(h,function(S,W,K,ye,pe){return x+=e.slice(E,pe).replace(fe,function(Ie){return"\\"+G[Ie]}),W&&(x+=`'+
((__t=(`+W+`))==null?'':_.escape(__t))+
'`),K&&(x+=`'+
((__t=(`+K+`))==null?'':__t)+
'`),ye&&(x+=`';
`+ye+`
__p+='`),E=pe+S.length,S}),x+=`';
`,s.variable||(x=`with(obj||{}){
`+x+`}
`),x=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+x+`return __p;
`;try{c=new Function(s.variable||"obj","_",x)}catch(S){throw S.source=x,S}if(r)return c(r,i);var P=function(S){return c.call(this,S,i)};return P.source="function("+(s.variable||"obj")+`){
`+x+"}",P},i.chain=function(e){return i(e).chain()};var me=function(e){return this._chain?i(e).chain():e};i.mixin(i),L(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var r=f[e];i.prototype[e]=function(){var s=this._wrapped;return r.apply(s,arguments),(e=="shift"||e=="splice")&&s.length===0&&delete s[0],me.call(this,s)}}),L(["concat","join","slice"],function(e){var r=f[e];i.prototype[e]=function(){return me.call(this,r.apply(this._wrapped,arguments))}}),i.extend(i.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(ft)})(He,He.exports);var Mt=He.exports;const w=ht(Mt);(function(){var u=function(y,p,g,m){for(g=g||{},m=y.length;m--;g[y[m]]=p);return g},t=[1,11],n=[1,9],a=[8,17],l=[6,11],f=[6,11,13,17],o={trace:function(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function(p,g,m,M,I,N,F){var D=N.length-1;switch(I){case 1:return{type:"unitMagnitude",magnitude:N[D-2],unit:N[D-1]};case 2:return{type:"unitStandalone",unit:N[D-1]};case 3:this.$=N[D-2]+"e"+N[D];break;case 4:case 13:case 14:case 15:case 17:this.$=N[D];break;case 5:this.$={num:N[D-2],denom:N[D]};break;case 6:this.$={num:N[D],denom:null};break;case 7:this.$=[N[D-2]].concat(N[D]);break;case 8:this.$=[N[D-1]].concat(N[D]);break;case 9:this.$=[N[D]];break;case 10:this.$={name:N[D-2],pow:N[D]};break;case 11:this.$={name:N[D],pow:1};break;case 12:this.$=p;break;case 16:this.$="-"+N[D];break}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:t,18:[1,6],19:n},{1:[3]},{5:12,10:5,12:8,14:10,17:t},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},u(a,[2,13]),u(a,[2,14]),u(l,[2,9],{12:8,14:10,10:17,13:[1,16],17:t}),u([6,8,11,13,17],[2,15]),u(f,[2,11],{15:[1,18]}),u([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:t},{10:24,12:8,14:10,17:t},u(l,[2,8]),{16:25,19:n},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},u(l,[2,7]),u(f,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function(p,g){if(g.recoverable)this.trace(p);else throw new Error(p)},parse:function(p){var g=this,m=[0],M=[null],I=[],N=this.table,F="",D=0,H=0,Y=2,ie=1,de=I.slice.call(arguments,1),J=Object.create(this.lexer),j={yy:{}};for(var se in this.yy)Object.prototype.hasOwnProperty.call(this.yy,se)&&(j.yy[se]=this.yy[se]);J.setInput(p,j.yy),j.yy.lexer=J,j.yy.parser=this,typeof J.yylloc>"u"&&(J.yylloc={});var i=J.yylloc;I.push(i);var L=J.options&&J.options.ranges;typeof j.yy.parseError=="function"?this.parseError=j.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(){var fe;return fe=J.lex()||ie,typeof fe!="number"&&(fe=g.symbols_[fe]||fe),fe}for(var Z,Q,O,V,A={},T,C,q,le;;){if(Q=m[m.length-1],this.defaultActions[Q]?O=this.defaultActions[Q]:((Z===null||typeof Z>"u")&&(Z=ge()),O=N[Q]&&N[Q][Z]),typeof O>"u"||!O.length||!O[0]){var G="";le=[];for(T in N[Q])this.terminals_[T]&&T>Y&&le.push("'"+this.terminals_[T]+"'");J.showPosition?G="Parse error on line "+(D+1)+`:
`+J.showPosition()+`
Expecting `+le.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":G="Parse error on line "+(D+1)+": Unexpected "+(Z==ie?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(G,{text:J.match,token:this.terminals_[Z]||Z,line:J.yylineno,loc:i,expected:le})}if(O[0]instanceof Array&&O.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Q+", token: "+Z);switch(O[0]){case 1:m.push(Z),M.push(J.yytext),I.push(J.yylloc),m.push(O[1]),Z=null,H=J.yyleng,F=J.yytext,D=J.yylineno,i=J.yylloc;break;case 2:if(C=this.productions_[O[1]][1],A.$=M[M.length-C],A._$={first_line:I[I.length-(C||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(C||1)].first_column,last_column:I[I.length-1].last_column},L&&(A._$.range=[I[I.length-(C||1)].range[0],I[I.length-1].range[1]]),V=this.performAction.apply(A,[F,H,D,j.yy,O[1],M,I].concat(de)),typeof V<"u")return V;C&&(m=m.slice(0,-1*C*2),M=M.slice(0,-1*C),I=I.slice(0,-1*C)),m.push(this.productions_[O[1]][0]),M.push(A.$),I.push(A._$),q=N[m[m.length-2]][m[m.length-1]],m.push(q);break;case 3:return!0}}return!0}},d=function(){var y={EOF:1,parseError:function(g,m){if(this.yy.parser)this.yy.parser.parseError(g,m);else throw new Error(g)},setInput:function(p,g){return this.yy=g||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var p=this._input[0];this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p;var g=p.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},unput:function(p){var g=p.length,m=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===M.length?this.yylloc.first_column:0)+M[M.length-m.length].length-m[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(p){this.unput(this.match.slice(p))},pastInput:function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var p=this.pastInput(),g=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+g+"^"},test_match:function(p,g){var m,M,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),M=p[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],m=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var N in I)this[N]=I[N];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var p,g,m,M;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),N=0;N<I.length;N++)if(m=this._input.match(this.rules[I[N]]),m&&(!g||m[0].length>g[0].length)){if(g=m,M=N,this.options.backtrack_lexer){if(p=this.test_match(m,I[N]),p!==!1)return p;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(p=this.test_match(g,I[M]),p!==!1?p:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var g=this.next();return g||this.lex()},begin:function(g){this.conditionStack.push(g)},popState:function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},pushState:function(g){this.begin(g)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(g,m,M,I){switch(M){case 0:return 11;case 1:return"(";case 2:return")";case 3:return 8;case 4:return 15;case 5:return 13;case 6:return 18;case 7:return 19;case 8:return 20;case 9:return 17;case 10:return 17;case 11:return 17;case 12:break;case 13:return 6}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return y}();o.lexer=d;function v(){this.yy={}}return v.prototype=o,o.Parser=v,new v})();var Pe=function(){var u=function(Q,O,V,A){for(V=V||{},A=Q.length;A--;V[Q[A]]=O);return V},t=[1,7],n=[1,17],a=[1,13],l=[1,14],f=[1,15],o=[1,32],d=[1,22],v=[1,23],y=[1,24],p=[1,25],g=[1,26],m=[1,33],M=[1,27],I=[1,28],N=[1,29],F=[1,30],D=[1,20],H=[1,36],Y=[1,37],ie=[5,6,8,10,33,35,41,43,45],de=[1,39],J=[1,40],j=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],se=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],i=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],L={trace:function(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function(O,V,A,T,C,q,le){var G=q.length-1;switch(C){case 1:return new T.Eq(q[G-3],q[G-2],q[G-1]);case 2:return q[G-1];case 3:return new T.Add([]);case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=q[G];break;case 5:this.$=T.Add.createOrAppend(q[G-2],q[G]);break;case 6:this.$=T.Add.createOrAppend(q[G-2],T.Mul.handleNegative(q[G],"subtract"));break;case 8:this.$=T.Mul.fold(T.Mul.createOrAppend(q[G-1],q[G]));break;case 9:this.$=T.Mul.fold(T.Mul.createOrAppend(q[G-2],q[G]));break;case 10:this.$=T.Mul.fold(T.Mul.handleDivide(q[G-2],q[G]));break;case 12:this.$=T.Mul.handleNegative(q[G]);break;case 14:case 17:this.$=[O];break;case 16:this.$=q[G-2].concat(q[G]);break;case 18:this.$=T.Log.natural();break;case 19:this.$=T.Log.common();break;case 21:this.$=T.Trig.create(q[G-1],q[G]);break;case 22:this.$=T.Log.create(q[G-1],q[G]);break;case 24:this.$=new T.Pow(q[G-2],q[G]);break;case 26:case 34:this.$=O;break;case 27:this.$=new T.Var(q[G-2],q[G]);break;case 28:this.$=new T.Var(q[G]);break;case 29:this.$=new T.Const(O.toLowerCase());break;case 30:this.$=T.Int.create(Number(O));break;case 31:this.$=T.Float.create(Number(O));break;case 32:this.$=q[G-1].completeParse();break;case 33:this.$=q[G-1].completeParse().addHint("parens");break;case 35:case 36:this.$=T.Pow.sqrt(q[G-1]);break;case 37:this.$=new T.Pow.nthroot(q[G-1],q[G-4]);break;case 38:case 39:case 40:this.$=new T.Abs(q[G-1]);break;case 41:this.$=new T.Func(q[G-3],q[G-1]);break;case 44:this.$=T.Mul.handleDivide(q[G-4],q[G-1]);break}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},u([5,6],[2,4],{8:H,10:Y}),u(ie,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:de,14:J,16:n,19:a,21:l,22:f,28:o,29:d,30:v,31:y,32:p,34:g,37:m,39:M,42:I,44:F,46:D}),u(j,[2,11]),{10:t,11:8,13:41,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},u(j,[2,13]),{10:t,11:8,13:42,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{10:t,11:8,13:43,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},u(j,[2,23]),u(se,[2,15],{18:[1,44]}),u(se,[2,17]),u(se,[2,18]),u(se,[2,19],{23:[1,45]}),u(j,[2,25],{18:[1,46]}),u([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),u(i,[2,42]),u(i,[2,43]),{32:[1,47]},u(i,[2,28],{23:[1,48]}),u(i,[2,29]),u(i,[2,30]),u(i,[2,31]),{7:49,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{7:50,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{7:56,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{34:[1,57]},u([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{1:[2,2]},{9:59,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{9:60,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},u(j,[2,8]),{10:t,11:8,13:61,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{10:t,11:8,13:62,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},u(j,[2,12]),u(j,[2,21]),u(j,[2,22]),{10:t,11:8,13:63,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{24:64,27:21,28:o,29:d,30:v,31:y,32:p,34:g},{10:t,11:8,13:65,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{7:66,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{24:67,27:21,28:o,29:d,30:v,31:y,32:p,34:g},{8:H,10:Y,33:[1,68]},{8:H,10:Y,35:[1,69]},{7:70,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{7:71,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{7:72,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{7:73,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{8:H,10:Y,43:[1,74]},{8:H,10:Y,45:[1,75]},{7:76,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{6:[1,77]},u(ie,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:de,14:J,16:n,19:a,21:l,22:f,28:o,29:d,30:v,31:y,32:p,34:g,37:m,39:M,42:I,44:F,46:D}),u(ie,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:de,14:J,16:n,19:a,21:l,22:f,28:o,29:d,30:v,31:y,32:p,34:g,37:m,39:M,42:I,44:F,46:D}),u(j,[2,9]),u(j,[2,10]),u(se,[2,16]),u(se,[2,20]),u(j,[2,24]),{8:H,10:Y,33:[1,78]},u(i,[2,27]),u(i,[2,32]),u(i,[2,33]),{8:H,10:Y,35:[1,79]},{8:H,10:Y,33:[1,80]},{8:H,10:Y,41:[1,81]},{8:H,10:Y,35:[1,82]},u(i,[2,39]),u(i,[2,40]),{8:H,10:Y,35:[1,83]},{1:[2,1]},{32:[1,84]},u(i,[2,35]),u(i,[2,36]),{32:[1,85]},u(i,[2,38]),u(i,[2,41]),{7:86,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{7:87,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:l,22:f,24:18,25:11,26:16,27:21,28:o,29:d,30:v,31:y,32:p,34:g,36:31,37:m,38:19,39:M,42:I,43:N,44:F,46:D},{8:H,10:Y,33:[1,88]},{8:H,10:Y,33:[1,89]},u(i,[2,44]),u(i,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function(O,V){if(V.recoverable)this.trace(O);else throw new Error(O)},parse:function(O){var V=this,A=[0],T=[null],C=[],q=this.table,le="",G=0,fe=0,me=2,e=1,r=C.slice.call(arguments,1),s=Object.create(this.lexer),c={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(c.yy[h]=this.yy[h]);s.setInput(O,c.yy),c.yy.lexer=s,c.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={});var E=s.yylloc;C.push(E);var x=s.options&&s.options.ranges;typeof c.yy.parseError=="function"?this.parseError=c.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function P(){var Fe;return Fe=s.lex()||e,typeof Fe!="number"&&(Fe=V.symbols_[Fe]||Fe),Fe}for(var S,W,K,ye,pe={},Ie,we,Qe,Ve;;){if(W=A[A.length-1],this.defaultActions[W]?K=this.defaultActions[W]:((S===null||typeof S>"u")&&(S=P()),K=q[W]&&q[W][S]),typeof K>"u"||!K.length||!K[0]){var Ue="";Ve=[];for(Ie in q[W])this.terminals_[Ie]&&Ie>me&&Ve.push("'"+this.terminals_[Ie]+"'");s.showPosition?Ue="Parse error on line "+(G+1)+`:
`+s.showPosition()+`
Expecting `+Ve.join(", ")+", got '"+(this.terminals_[S]||S)+"'":Ue="Parse error on line "+(G+1)+": Unexpected "+(S==e?"end of input":"'"+(this.terminals_[S]||S)+"'"),this.parseError(Ue,{text:s.match,token:this.terminals_[S]||S,line:s.yylineno,loc:E,expected:Ve})}if(K[0]instanceof Array&&K.length>1)throw new Error("Parse Error: multiple actions possible at state: "+W+", token: "+S);switch(K[0]){case 1:A.push(S),T.push(s.yytext),C.push(s.yylloc),A.push(K[1]),S=null,fe=s.yyleng,le=s.yytext,G=s.yylineno,E=s.yylloc;break;case 2:if(we=this.productions_[K[1]][1],pe.$=T[T.length-we],pe._$={first_line:C[C.length-(we||1)].first_line,last_line:C[C.length-1].last_line,first_column:C[C.length-(we||1)].first_column,last_column:C[C.length-1].last_column},x&&(pe._$.range=[C[C.length-(we||1)].range[0],C[C.length-1].range[1]]),ye=this.performAction.apply(pe,[le,fe,G,c.yy,K[1],T,C].concat(r)),typeof ye<"u")return ye;we&&(A=A.slice(0,-1*we*2),T=T.slice(0,-1*we),C=C.slice(0,-1*we)),A.push(this.productions_[K[1]][0]),T.push(pe.$),C.push(pe._$),Qe=q[A[A.length-2]][A[A.length-1]],A.push(Qe);break;case 3:return!0}}return!0}},ge=function(){var Q={EOF:1,parseError:function(V,A){if(this.yy.parser)this.yy.parser.parseError(V,A);else throw new Error(V)},setInput:function(O,V){return this.yy=V||this.yy||{},this._input=O,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var O=this._input[0];this.yytext+=O,this.yyleng++,this.offset++,this.match+=O,this.matched+=O;var V=O.match(/(?:\r\n?|\n).*/g);return V?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),O},unput:function(O){var V=O.length,A=O.split(/(?:\r\n?|\n)/g);this._input=O+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-V),this.offset-=V;var T=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var C=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===T.length?this.yylloc.first_column:0)+T[T.length-A.length].length-A[0].length:this.yylloc.first_column-V},this.options.ranges&&(this.yylloc.range=[C[0],C[0]+this.yyleng-V]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(O){this.unput(this.match.slice(O))},pastInput:function(){var O=this.matched.substr(0,this.matched.length-this.match.length);return(O.length>20?"...":"")+O.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var O=this.match;return O.length<20&&(O+=this._input.substr(0,20-O.length)),(O.substr(0,20)+(O.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var O=this.pastInput(),V=new Array(O.length+1).join("-");return O+this.upcomingInput()+`
`+V+"^"},test_match:function(O,V){var A,T,C;if(this.options.backtrack_lexer&&(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(C.yylloc.range=this.yylloc.range.slice(0))),T=O[0].match(/(?:\r\n?|\n).*/g),T&&(this.yylineno+=T.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:T?T[T.length-1].length-T[T.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+O[0].length},this.yytext+=O[0],this.match+=O[0],this.matches=O,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(O[0].length),this.matched+=O[0],A=this.performAction.call(this,this.yy,this,V,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var q in C)this[q]=C[q];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var O,V,A,T;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),q=0;q<C.length;q++)if(A=this._input.match(this.rules[C[q]]),A&&(!V||A[0].length>V[0].length)){if(V=A,T=q,this.options.backtrack_lexer){if(O=this.test_match(A,C[q]),O!==!1)return O;if(this._backtrack){V=!1;continue}else return!1}else if(!this.options.flex)break}return V?(O=this.test_match(V,C[T]),O!==!1?O:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var V=this.next();return V||this.lex()},begin:function(V){this.conditionStack.push(V)},popState:function(){var V=this.conditionStack.length-1;return V>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(V){return V=this.conditionStack.length-1-Math.abs(V||0),V>=0?this.conditionStack[V]:"INITIAL"},pushState:function(V){this.begin(V)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(V,A,T,C){switch(T){case 0:break;case 1:break;case 2:break;case 3:return"INT";case 4:return"FLOAT";case 5:return"^";case 6:return"*";case 7:return"*";case 8:return"*";case 9:return"*";case 10:return"/";case 11:return"/";case 12:return"-";case 13:return"-";case 14:return"+";case 15:return"^";case 16:return"(";case 17:return")";case 18:return"(";case 19:return")";case 20:return"[";case 21:return"]";case 22:return"{";case 23:return"}";case 24:return"{";case 25:return"}";case 26:return"_";case 27:return"|";case 28:return"LEFT|";case 29:return"RIGHT|";case 30:return"!";case 31:return"SIGN";case 32:return A.yytext="<=","SIGN";case 33:return A.yytext=">=","SIGN";case 34:return A.yytext="<=","SIGN";case 35:return A.yytext=">=","SIGN";case 36:return A.yytext="<>","SIGN";case 37:return A.yytext="<>","SIGN";case 38:return A.yytext="<>","SIGN";case 39:return A.yytext="<>","SIGN";case 40:return A.yytext="<=","SIGN";case 41:return A.yytext=">=","SIGN";case 42:return"FRAC";case 43:return"FRAC";case 44:return"sqrt";case 45:return"abs";case 46:return"ln";case 47:return"log";case 48:return"TRIG";case 49:return"TRIG";case 50:return"TRIG";case 51:return"TRIG";case 52:return A.yytext="sin","TRIG";case 53:return A.yytext="cos","TRIG";case 54:return A.yytext="tan","TRIG";case 55:return A.yytext="csc","TRIG";case 56:return A.yytext="sec","TRIG";case 57:return A.yytext="cot","TRIG";case 58:return A.yytext="arcsin","TRIG";case 59:return A.yytext="arccos","TRIG";case 60:return A.yytext="arctan","TRIG";case 61:return A.yytext="arccsc","TRIG";case 62:return A.yytext="arcsec","TRIG";case 63:return A.yytext="arccot","TRIG";case 64:return"TRIGINV";case 65:return"TRIGINV";case 66:return A.yytext="sinh","TRIG";case 67:return A.yytext="cosh","TRIG";case 68:return A.yytext="tanh","TRIG";case 69:return A.yytext="csch","TRIG";case 70:return A.yytext="sech","TRIG";case 71:return A.yytext="tanh","TRIG";case 72:return"CONST";case 73:return A.yytext="pi","CONST";case 74:return A.yytext="pi","CONST";case 75:return"VAR";case 76:return A.yytext="theta","VAR";case 77:return A.yytext="theta","VAR";case 78:return"VAR";case 79:return A.yytext="phi","VAR";case 80:return A.yytext="phi","VAR";case 81:return V.symbolLexer(A.yytext);case 82:return"EOF";case 83:return"INVALID";case 84:console.log(A.yytext);break}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|·)/,/^(?:\\times|×)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|÷)/,/^(?:-)/,/^(?:−)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:≠)/,/^(?:≤)/,/^(?:≥)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:π)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:θ)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:φ)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0}}};return Q}();L.lexer=ge;function Z(){this.yy={}}return Z.prototype=L,L.Parser=Z,new Z}();const tt=function(u){return u!==u},kt=function(u,t){var n=t-u;return Math.random()*n+u};var nt=12,rt=9;function Re(u,t){const n=[],a=[];return w.forEach(u,(l,f,o)=>{t(l,f,o)?n.push(l):a.push(l)}),[n,a]}function bt(u){return u instanceof ve}const Ge=function(u){return u instanceof ne};function At(u){return u instanceof B}function Be(u){return u instanceof b?u.terms:[u]}class ve{constructor(){this.hints={parens:!1}}construct(t){const n=this.func,a=new n(...t);if(typeof a>"u")throw new Error("constructor function returning undefined");return a}recurse(t,...n){var a=this.args().map(function(l){return w.isString(l)||w.isNumber(l)?l:l==null?void 0:l[t].apply(l,n)});return this.construct(a)}eval(t={},n){throw new Error("Abstract method - must override for expr: "+this.print())}codegen(){throw new Error("Abstract method - must override for expr: "+this.print())}compile(){var t=this.codegen();try{return new Function("vars","return "+t+";")}catch{throw new Error("Function did not compile: "+t)}}asTex(t){t=t||{},w.defaults(t,{display:!0,dynamic:!0,times:!1});let n=this.tex();return t.display&&(n="\\displaystyle "+n),t.dynamic&&(n=n.replace(/\(/g,"\\left("),n=n.replace(/\)/g,"\\right)")),t.times&&(n=n.replace(/\\cdot/g,"\\times")),n}name(){return this.func.name}repr(){return this.name()+"("+this.args().map(function(t){return w.isString(t)||w.isNumber(t)?t:t==null?void 0:t.repr()}).join(",")+")"}strip(){return this.recurse("strip")}normalize(){return this.recurse("normalize")}expand(){return this.recurse("expand")}factor(t){return this.recurse("factor",t)}collect(t){return this.recurse("collect",t)}equals(t){return this.normalize().print()===t.normalize().print()}simplify(t){t={once:!1,...t};var n=this.factor(t),a=n.collect(t);n.equals(a)&&(a=this.collect(t));var l=a.expand(),f=l.collect(t);l.equals(f)&&(f=a.collect(t));var o=f;return t.once||this.equals(o)?o:o.simplify(t)}isSimplified(){return this.equals(this.simplify())}exprArgs(){return this.args().filter(bt)}getVars(t){return w.uniq(w.flatten(w.invoke(this.exprArgs(),"getVars",t))).sort()}getConsts(){return w.uniq(w.flatten(w.invoke(this.exprArgs(),"getConsts"))).sort()}getUnits(){return w.flatten(w.invoke(this.exprArgs(),"getUnits"))}is(t){return this instanceof t}has(t){return this instanceof t?!0:w.any(this.exprArgs(),function(n){return n.has(t)})}raiseToThe(t,n){return new U(this,t)}isSubtract(){return!1}isDivide(){return!1}isRoot(){return!1}needsExplicitMul(){return this.exprArgs()[0].needsExplicitMul()}sameVars(t){var n=this.getVars(),a=t.getVars(),l=function(v,y){return!w.difference(v,y).length},f=function(v){return w.uniq(w.invoke(v,"toLowerCase")).sort()},o=l(n,a),d=l(f(n),f(a));return{equal:o,equalIgnoringCase:d}}compare(t){if(t instanceof Te)return!1;var n=w.union(this.getVars(!0),t.getVars(!0)),a=function(M,I){return Math.abs(M)<1||Math.abs(I)<1?Math.abs(M-I):Math.abs(1-M/I)},l=function(M,I){var N=a(M,I);return M===I||tt(M)&&tt(I)||N<Math.pow(10,-rt)};if(!n.length&&!this.has(oe)&&!t.has(oe))return l(this.eval(),t.eval());var f=this.collect(),o=t.collect(),d=this.getUnits(),v=t.getUnits();if(!w.isEqual(d,v))return!1;for(var y=0;y<nt;y++){var p={},g=Math.pow(10,1+Math.floor(3*y/nt)),m=y%2===0;w.each(n,function(I){p[I]=m?kt(-g,g):w.random(-g,g)});let M;if(f.has(Me)||o.has(Me)||f.has(oe)||o.has(oe)){const I=f.partialEval(p),N=o.partialEval(p);M=I.simplify().equals(N.simplify())}else{const I=f.eval(p),N=o.eval(p);M=l(I,N)}if(!M)return!1}return!0}partialEval(t){return this instanceof oe?this:this.has(Me)?this instanceof Me?new Me(this.symbol,this.arg.partialEval(t)):this.recurse("partialEval",t):new ue(+this.eval(t).toFixed(rt)).collect()}sameForm(t){return this.strip().equals(t.strip())}findGCD(t){return this.equals(t)?t:te}getDenominator(){return te}asMul(){return new b(te,this)}isPositive(){throw new Error("Abstract method - must override for expr: "+this.print())}isNegative(){return!1}asPositiveFactor(){return this.isPositive()?this:te}addHint(t){if(!t)return this;var n=this.construct(this.args());return n.hints=w.clone(this.hints),n.hints[t]=!0,n}completeParse(){return this.recurse("completeParse")}abs(){throw new Error("Abstract method - must override for expr: "+this.print())}negate(){return new b(Ee,this)}}class Le extends ve{constructor(...t){super(),t.length===1?this.terms=t[0]:this.terms=t}args(){return this.terms}normalize(){var t=w.sortBy(w.invoke(this.terms,"normalize"),n=>n.print());return new this.func(t)}expand(){return this.recurse("expand").flatten()}partition(){var[t,n]=Re(this.terms,a=>a instanceof z);return[new this.func(t),new this.func(n)]}flatten(){var t=this,n=w.reject(this.terms,o=>o.equals(t.identity));if(n.length===0)return t.identity;if(n.length===1)return n[0];const[a,l]=Re(n,o=>o instanceof t.func);var f=l.concat(w.flatten(w.pluck(a,"terms"),!0));return new t.func(f)}isPositive(){var t=w.invoke(this.terms,"collect");return w.all(w.invoke(t,"isPositive"))}replace(t,n){const a=t instanceof ve?w.indexOf(this.terms,t):t;var l=[];Array.isArray(n)?l=n:n&&(l=[n]);var f=this.terms.slice(0,a).concat(l).concat(this.terms.slice(a+1));return new this.func(f)}remove(t){return this.replace(t)}getDenominator(){return new b(w.invoke(this.terms,"getDenominator")).flatten()}}class ne extends Le{constructor(){super(...arguments),this.identity=_e,this.func=ne}eval(t={},n){return w.reduce(this.terms,(a,l)=>a+l.eval(t,n),0)}codegen(){return w.map(this.terms,t=>"("+t.codegen()+")").join(" + ")||"0"}print(){return w.invoke(this.terms,"print").join("+")}tex(){let t="";return w.each(this.terms,n=>{!t||n.isSubtract()?t+=n.tex():t+="+"+n.tex()}),t}collect(t){var n=w.invoke(this.terms,"collect",t),a=[];w.each(n,o=>{if(o instanceof b){var d=o.partition();a.push([d[1].flatten(),d[0].reduce(t)])}else o instanceof z?a.push([te,o]):a.push([o,te])});var l=w.groupBy(a,o=>o[0].normalize().print()),f=w.compact(w.map(l,o=>{var d=o[0][0],v=new ne(w.zip.apply(w,o)[1]),y=v.reduce(t);return new b(y,d).collect(t)}));return new ne(f).flatten()}factor(t={keepNegative:!1}){const n=this.terms.map(d=>d.collect());let a;n[0]instanceof b?a=n[0].terms:a=[n[0]],w.each(w.rest(this.terms),d=>{a=w.map(a,v=>d.findGCD(v))}),!t.keepNegative&&this.isNegative()&&a.push(Ee);const l=new b(a).flatten().collect(),f=n.map(d=>b.handleDivide(d,l).simplify()),o=new ne(f).flatten();return b.createOrAppend(l,o).flatten()}reduce(t){return w.reduce(this.terms,(n,a)=>n.add(a,t),this.identity)}needsExplicitMul(){return!1}isNegative(){var t=w.invoke(this.terms,"collect");return w.all(w.invoke(t,"isNegative"))}negate(){return new ne(w.invoke(this.terms,"negate"))}static createOrAppend(t,n){return t instanceof ne?new ne(t.terms.concat(n)):new ne(t,n)}}class b extends Le{constructor(){super(...arguments),this.identity=te,this.func=b}eval(t={},n){return w.reduce(this.terms,(a,l)=>a*l.eval(t,n),1)}codegen(){return w.map(this.terms,t=>"("+t.codegen()+")").join(" * ")||"0"}print(){return w.map(this.terms,t=>t instanceof ne?"("+t.print()+")":t.print()).join("*")}getUnits(){var t=w(this.terms).chain().map(n=>n.getUnits()).flatten().value();return t.sort((n,a)=>n.unit.localeCompare(a.unit)),t}tex(){for(var t=" \\cdot ",n=w.groupBy(this.terms,I=>I.isDivide()?"inverse":I instanceof z?"number":"other"),a=n.inverse||[],l=n.number||[],f=n.other||[],o="",d,v=0;v<l.length;v++){var y=l[v]instanceof B&&!(l[v]instanceof _);if(y&&f.length>0&&a.length>0){var p=l.slice();p.splice(v,1);var g=p.concat(a).concat(f);return l[v].tex()+new b(g).tex()}}if(l=w.compact(w.map(l,I=>{var N=!I.hints.fraction||a.length>0;if(I instanceof B&&!(I instanceof _)&&N){a.push(new U(new _(I.d),ke));var F=new _(I.n);return F.hints=I.hints,w.any(I.hints)?F:null}else return I})),l.length===0&&f.length===1)d=f[0].tex();else{var m="";w.each(l,I=>{I.hints.subtract&&I.hints.entered?(o+="-",m+=(m?t:"")+I.abs().tex()):I instanceof _&&I.n===-1&&(I.hints.negate||I.hints.subtract)?o+="-":m+=(m?t:"")+I.tex()}),w.each(f,I=>{I.needsExplicitMul()?m+=(m?t:"")+I.tex():I instanceof ne?m+="("+I.tex()+")":m+=I.tex()}),d=m||"1"}if(a.length){var M=new b(w.invoke(a,"asDivide")).flatten().tex();return o+"\\frac{"+d+"}{"+M+"}"}else return o+d}strip(){var t=w.map(this.terms,n=>n instanceof z?n.abs():n.strip());return new b(t).flatten()}expand(){const t=function(y){return y instanceof U&&y.exp.isNegative()},n=function(y){return t(y)&&Ge(y.base)},a=this.recurse("expand").flatten(),l=Be(a),f=w.any(l,Ge),o=w.any(l,n);if(!(f||o))return a;let[d,v]=Re(l,t);if(f){const[y,p]=Re(v,Ge),g=w.reduce(y,function(M,I){return w.reduce(M,function(N,F){return N.concat(w.map(I.terms,D=>F.concat(D)))},[])},[[]]),m=w.map(g,function(M){return new b(p.concat(M)).flatten()});v=[new ne(m)]}if(o){const y=new b(w.invoke(d,"getDenominator")).flatten();d=[new U(y.expand(),ke)]}return new b(v.concat(d)).flatten()}factor(t){var n=this.recurse("factor",t).flatten();if(!(n instanceof b))return n;var[a,l]=Re(n.terms,d=>d instanceof B);const f=w.reduce(a,(d,v)=>({n:d.n*v.n,d:d.d*v.d}),{n:1,d:1}),o=f.d===1?new _(f.n):new B(f.n,f.d);return new b(l.concat(o)).flatten()}collect(t){var n=this.recurse("collect",t).partition(),a=n[0].reduce(t);if(a.eval()===0)return _e;const l=n[1].flatten();if(!(l instanceof b))return new b(a,l).flatten();const f=l.terms;var o=[];w.each(f,F=>{F instanceof U?o.push([F.base,F.exp]):o.push([F,te])});var d=w.groupBy(o,F=>F[0].normalize().print()),v=w.compact(w.map(d,F=>{var D=F[0][0],H=new ne(w.zip.apply(w,F)[1]),Y=H.collect(t);return Y instanceof z&&Y.eval()===0?null:[D,Y]}));const y=w.groupBy(v,F=>F[0]instanceof $&&F[0].isBasic()?"trig":F[0]instanceof ce?"log":"expr");let p=y.trig||[],g=y.log||[];const m=y.expr||[];if(p.length>1){var M=w.groupBy(p,F=>F[0].arg.normalize().print());p=[],w.each(M,F=>{const D=F[0][0].arg;let H={sin:_e,cos:_e};w.each(F,Y=>{H[Y[0].type]=Y[1]}),b.handleNegative(H.sin).collect(t).equals(H.cos)&&(H.cos.isNegative()?H={tan:H.sin}:H={cot:H.cos}),w.each(H,(Y,ie)=>{p.push([new $(ie,D),Y])})})}if(g.length>1){var I=w.groupBy(g,F=>F[0].base.normalize().print());g=[],w.each(I,F=>{F.length===2&&b.handleNegative(F[0][1]).collect(t).equals(F[1][1])?F[0][1].isNegative()?g.push([new ce(F[0][0].power,F[1][0].power),F[1][1]]):g.push([new ce(F[1][0].power,F[0][0].power),F[0][1]]):g=g.concat(F)})}var N=w.map([...p,...g,...m],F=>new U(F[0],F[1]).collect(t));return new b([a].concat(N)).flatten()}isSubtract(){return w.any(this.terms,t=>t instanceof z&&!!t.hints.subtract)}factorIn(t){var n=this.partition(),a=n[0].terms,l=a.length&&w.all(a,o=>o.n>0);if(l){var f=a[0].negate();return f.hints=a[0].hints,this.replace(a[0],f.addHint(t))}else return new b([z.negativeOne(t)].concat(this.terms))}factorOut(){var t=!1,n=w.compact(w.map(this.terms,a=>!t&&a instanceof z&&a.hints.divide?(t=!0,a.n!==-1?a.negate():null):a));return n.length===1?n[0]:new b(n)}reduce(t){return w.reduce(this.terms,(n,a)=>n.mul(a,t),this.identity)}findGCD(t){return new b(w.invoke(this.terms,"findGCD",t)).flatten()}asMul(){return this}asPositiveFactor(){if(this.isPositive())return this;{const t=Be(this.collect()).map(n=>n.asPositiveFactor());return new b(t).flatten()}}isNegative(){const t=Be(this.collect()).map(n=>n.isNegative());return w.any(t)}fold(){return b.fold(this)}negate(){var t=a=>a instanceof z;const n=w.find(this.terms,t);return n?this.replace(n,n.negate()):new b([Ee].concat(this.terms))}static handleNegative(t,n){if(t instanceof z&&t.n>0){var a=t.negate();return a.hints=t.hints,a.addHint(n)}else return t instanceof b?t.factorIn(n):new b(z.negativeOne(n),t)}static handleDivide(t,n){if(n instanceof b){var a=b.handleDivide(t,n.terms[0]),l=new b(w.rest(n.terms)).flatten();return b.handleDivide(a,l)}var f=m=>m instanceof _,o=m=>m instanceof B;if(f(n)&&t instanceof b&&w.any(t.terms,f)){var d=t.terms.slice().reverse(),v=d.find(o);if(!f(v))return new b(t.terms.concat([new B(1,n.n).addHint("fraction")]));var y=new B(v.n,n.n);return y.hints=v.hints,v===d[0]&&(y=y.addHint("fraction")),v.n<0&&n.n<0?(y.d=-y.d,t.replace(v,[Ee,y])):t.replace(v,y)}var p=(m,M)=>{if(M instanceof _){if(m instanceof _)return m.n<0&&M.n<0?[Ee,new B(m.n,-M.n).addHint("fraction")]:[new B(m.n,M.n).addHint("fraction")];var I=new B(1,M.eval());return M.eval()<0?[m,I.addHint("negate")]:[m,I]}else{var N;if(M instanceof $&&M.exp){var F=M.exp;M.exp=void 0,M=new U(M,F)}return M instanceof U?N=new U(M.base,b.handleNegative(M.exp,"divide")):N=new U(M,ke),m instanceof _&&m.n===1?[N]:[m,N]}};if(t instanceof b){var g=p(w.last(t.terms),n);return new b(w.initial(t.terms).concat(g))}else{var g=p(t,n);return new b(g).flatten()}}static fold(t){if(t instanceof b){var n=w.find(w.initial(t.terms),m=>(m instanceof $||m instanceof ce)&&!!m.hints.open);if(n){const m=w.last(t.terms);if(n.hints.parens||m.hints.parens||m.has($)||m.has(ce))n.hints.open=!1;else{const M=n instanceof $?$.create([n.type,n.exp],b.createOrAppend(n.arg,m).fold()):ce.create(n.base,b.createOrAppend(n.power,m).fold()),I=w.indexOf(t.terms,n);return I===0?M:new b(t.terms.slice(0,I).concat(M)).fold()}}var a=t.partition(),l=a[0].terms,f=m=>m.n>0,o=m=>m.n===-1&&!!m.hints.negate,d=function(m){return f(m)||o(m)};const p=l.find(f),g=l.find(o);if(l.length>1&&g&&p&&w.every(l,d)){var v=w.indexOf(t.terms,g),y=w.indexOf(t.terms,p);if(v<y)return t.replace(y,t.terms[y].negate()).remove(v)}}return t}static createOrAppend(t,n){return t instanceof b?new b(t.terms.concat(n)):new b(t,n)}}const X=class X extends ve{constructor(t,n){super(),this.func=X,this.base=t,this.exp=n}args(){return[this.base,this.exp]}eval(t={},n){var a=this.base.eval(t,n),l=this.exp.eval(t,n);if(a<0){var f=this.exp.simplify();if(f instanceof ue){var o=f.n,d=(o-+o.toFixed()).toString().length-2,v=Math.pow(10,d),y=new B(o*v,v);f=y.simplify()}if(f instanceof B){var p=Math.abs(f.d)%2===1;if(p){var g=Math.abs(f.n)%2===1,m=g?-1:1;return m*Math.pow(-1*a,l)}}}return Math.pow(a,l)}getUnits(){return this.base.getUnits().map(t=>({unit:t.unit,pow:t.pow*this.exp.n}))}codegen(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"}print(){var t=this.base.print();return(this.base instanceof Le||this.base instanceof X)&&(t="("+t+")"),t+"^("+this.exp.print()+")"}tex(){if(this.isDivide())return"\\frac{1}{"+this.asDivide().tex()+"}";if(this.isRoot()&&At(this.exp)){if(this.exp.n!==1)throw new Error("Node marked with hint 'root' does not have exponent of form 1/x.");return this.exp.d===2?"\\sqrt{"+this.base.tex()+"}":"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}"}else if(this.base instanceof $&&!this.base.isInverse()&&this.exp instanceof z&&this.exp.isSimple()&&this.exp.eval()>=0){var t=this.base.texSplit();return t[0]+"^{"+this.exp.tex()+"}"+t[1]}else{var n=this.base.tex();return this.base instanceof Le||this.base instanceof X||this.base instanceof z&&!this.base.isSimple()?n="("+n+")":(this.base instanceof $||this.base instanceof ce)&&(n="["+n+"]"),n+"^{"+this.exp.tex()+"}"}}needsExplicitMul(){return this.isRoot()?!1:this.base.needsExplicitMul()}expand(){var t=this.recurse("expand");if(t.base instanceof b){var n=w.map(t.base.terms,d=>new X(d,t.exp));return new b(n).expand()}else if(t.base instanceof ne&&t.exp instanceof _&&t.exp.abs().eval()>1){var a=t.exp.eval()>0,l=t.exp.abs().eval(),f=function(g){return a?g:new X(g,ke)};const d={1:t.base};for(var o=2;o<=l;o*=2){const g=new b(d[o/2],d[o/2]);d[o]=g.expand().collect()}if(l in d)return f(d[l]);let v=w.map(l.toString(2).split(""),function(g,m,M){return Number(g)*Math.pow(2,M.length-m-1)});v=w.without(v,0);const y=[];for(const g of v)g in d&&y.push(d[g]);const p=new b(y).expand().collect();return f(p)}else if(t.exp instanceof ne){const d=w.map(t.exp.terms,v=>new X(t.base,v).expand());return new b(d).expand()}else return t}factor(){var t=this.recurse("factor");if(t.base instanceof b){var n=w.map(t.base.terms,a=>a instanceof _&&t.exp.equals(ke)?new B(1,a.n):new X(a,t.exp));return new b(n)}else return t}collect(t){if(this.base instanceof X){const l=this.base.base,f=b.createOrAppend(this.base.exp,this.exp);return new X(l,f).collect(t)}const n=this.recurse("collect",t),a=function(l){return l instanceof ce&&l.base.equals(n.base)};if(n.exp instanceof z&&n.exp.eval()===0)return te;if(n.exp instanceof z&&n.exp.eval()===1)return n.base;if(a(n.exp))return n.exp.power;if(n.exp instanceof b&&w.any(n.exp.terms,a)){const l=n.exp.terms.find(a),f=l.power,o=n.exp.remove(l).flatten();return new X(f,o).collect(t)}else if(n.base instanceof z&&n.exp instanceof z){if(t&&t.preciseFloats){const l=n.exp.asRational(),f=n.base.getDecimalPlaces();if(new X(n.base,new B(1,l.d)).collect().getDecimalPlaces()>f){const v=new X(n.base,new _(l.n)).collect();return new X(v,new B(1,l.d))}}return n.base.raiseToThe(n.exp,t)}else return n}isDivide(){var t=function(n){return n instanceof z&&!!n.hints.divide};return t(this.exp)||this.exp instanceof b&&w.any(this.exp.terms,t)}asDivide(){if(this.exp instanceof z){if(this.exp.eval()===-1)return this.base;var t=this.exp.negate();return t.hints=w.clone(this.exp.hints),t.hints.divide=!1,new X(this.base,t)}else{if(this.exp instanceof b)return new X(this.base,this.exp.factorOut());throw new Error("called asDivide() on an Expr that wasn't a Num or Mul")}}isRoot(){return this.exp instanceof B&&!!this.exp.hints.root}isSquaredTrig(){return this.base instanceof $&&!this.base.isInverse()&&this.exp instanceof z&&this.exp.eval()===2}getDenominator(){if(this.exp instanceof z&&this.exp.eval()===-1)return b.createOrAppend(this.base,this.base.getDenominator()).flatten();if(this.exp.isNegative()){var t=new X(this.base,b.handleNegative(this.exp).collect());return b.createOrAppend(t,t.collect().getDenominator()).flatten()}else return this.base instanceof z?new X(this.base.getDenominator(),this.exp).collect():te}findGCD(t){const[n,a]=t instanceof X?[t.base,t.exp]:[t,te];if(this.base.equals(n)){if(this.exp.equals(a))return this;if(this.exp instanceof z&&a instanceof z)return new X(this.base,z.min(this.exp,a)).collect();if(this.exp instanceof z||a instanceof z)return te;var l=this.exp.asMul().partition(),f=a.asMul().partition();if(l[1].equals(f[1])){var o=z.min(l[0].reduce(),f[0].reduce()),d=new b(o,l[1].flatten()).flatten();return new X(n,d).collect()}}return te}isPositive(){if(this.base.isPositive())return!0;var t=this.exp.simplify();return t instanceof _&&t.eval()%2===0}asPositiveFactor(){if(this.isPositive())return this;var t=this.exp.simplify();if(t instanceof _){var n=t.eval();if(n>2)return new X(this.base,new _(n-1));if(n<-2)return new X(this.base,new _(n+1))}return te}static sqrt(t){return new X(t,Ft)}};X.nthroot=function(t,n){var a=b.fold(b.handleDivide(new _(1),n));return new X(t,a.addHint("root"))};let U=X;class ce extends ve{constructor(t,n){super(),this.func=ce,this.base=t,this.power=n,this.hints={...this.hints,open:!1}}args(){return[this.base,this.power]}eval(t={},n){return Math.log(this.power.eval(t,n))/Math.log(this.base.eval(t,n))}codegen(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"}print(){var t="("+this.power.print()+")";return this.isNatural()?"ln"+t:"log_("+this.base.print()+") "+t}tex(){var t="("+this.power.tex()+")";return this.isNatural()?"\\ln"+t:"\\log_{"+this.base.tex()+"}"+t}collect(t){var n=this.recurse("collect",t);return n.power instanceof z&&n.power.eval()===1?_e:n.base.equals(n.power)?te:n.power instanceof U&&n.power.base.equals(n.base)?n.power.exp:n}expand(){var t=this.recurse("expand");if(t.power instanceof b){var n=w.map(t.power.terms,a=>new ce(t.base,a).expand());return new ne(n)}else return t.power instanceof U?new b(t.power.exp,new ce(t.base,t.power.base).expand()).flatten():t.isNatural()?t:b.handleDivide(new ce(Ae.e,t.power),new ce(Ae.e,t.base))}isPositive(){var t=this.collect();return t instanceof ce&&t.base instanceof z&&t.power instanceof z?this.eval()>0:!1}needsExplicitMul(){return!1}isNatural(){return this.base.equals(Ae.e)}static natural(){return Ae.e}static common(){return Ot}static create(t,n){var a=new ce(t,n);return n.hints.parens||(a=a.addHint("open")),a}}class $ extends ve{constructor(t,n){super(),this.func=$,this.functions={sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:()=>this},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:()=>this},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:()=>b.handleDivide($.sin(this.arg),$.cos(this.arg))},csc:{eval:a=>1/Math.sin(a),codegen:"(1/Math.sin(",tex:"\\csc",expand:()=>b.handleDivide(te,$.sin(this.arg))},sec:{eval:a=>1/Math.cos(a),codegen:"(1/Math.cos(",tex:"\\sec",expand:()=>b.handleDivide(te,$.cos(this.arg))},cot:{eval:a=>1/Math.tan(a),codegen:"(1/Math.tan(",tex:"\\cot",expand:()=>b.handleDivide($.cos(this.arg),$.sin(this.arg))},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:a=>Math.asin(1/a),codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:a=>Math.acos(1/a),codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:a=>Math.atan(1/a),codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:a=>(Math.exp(a)-Math.exp(-a))/2,codegen:a=>"((Math.exp("+a+") - Math.exp(-("+a+"))) / 2)",tex:"\\sinh",expand:()=>this},cosh:{eval:a=>(Math.exp(a)+Math.exp(-a))/2,codegen:a=>"((Math.exp("+a+") + Math.exp(-("+a+"))) / 2)",tex:"\\cosh",expand:()=>this},tanh:{eval:a=>(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a)),codegen:a=>"((Math.exp("+a+") - Math.exp(-("+a+"))) / (Math.exp("+a+") + Math.exp(-("+a+"))))",tex:"\\tanh",expand:()=>b.handleDivide($.sinh(this.arg),$.cosh(this.arg))},csch:{eval:a=>2/(Math.exp(a)-Math.exp(-a)),codegen:a=>"(2 / (Math.exp("+a+") - Math.exp(-("+a+"))))",tex:"\\csch",expand:()=>b.handleDivide(te,$.sinh(this.arg))},sech:{eval:a=>2/(Math.exp(a)+Math.exp(-a)),codegen:a=>"(2 / (Math.exp("+a+") + Math.exp(-("+a+"))))",tex:"\\sech",expand:()=>b.handleDivide(te,$.cosh(this.arg))},coth:{eval:a=>(Math.exp(a)+Math.exp(-a))/(Math.exp(a)-Math.exp(-a)),codegen:a=>"((Math.exp("+a+") + Math.exp(-("+a+"))) / (Math.exp("+a+") - Math.exp(-("+a+"))))",tex:"\\coth",expand:()=>b.handleDivide($.cosh(this.arg),$.sinh(this.arg))}},this.type=t,this.arg=n,this.hints={...this.hints,open:!1}}args(){return[this.type,this.arg]}isEven(){return w.contains(["cos","sec"],this.type)}isInverse(){return this.type.indexOf("arc")===0}isBasic(){return w.contains(["sin","cos"],this.type)}eval(t={},n){var a=this.functions[this.type].eval,l=this.arg.eval(t,n);return a(l)}codegen(){var t=this.functions[this.type].codegen;if(typeof t=="function")return t(this.arg.codegen());if(typeof t=="string")return t+this.arg.codegen()+"))";throw new Error("codegen not implemented for "+this.type)}print(){return this.type+"("+this.arg.print()+")"}tex(){var t=this.functions[this.type].tex,n="("+this.arg.tex()+")";return t+n}texSplit(){var t=this.functions[this.type].tex,n="("+this.arg.tex()+")";return[t,n]}isPositive(){var t=this.collect();return t instanceof $&&t.arg instanceof z?this.eval()>0:!1}completeParse(){if(this.exp){var t=new U(this,this.exp);return this.exp=void 0,t}else return this}needsExplicitMul(){return!1}expand(){var t=this.recurse("expand");if(t.isInverse())return t;var n=t.functions[t.type].expand;return w.bind(n,t)()}collect(t){var n=this.recurse("collect",t);if(!n.isInverse()&&n.arg.isNegative()){const a=n.arg instanceof z?n.arg.abs():b.handleDivide(n.arg,Ee).collect(t);return n.isEven()?new $(n.type,a):new b(Ee,new $(n.type,a))}else return n}static create(t,n){var a=t[0],l=t[1];l&&l.equals(Ee)&&(a="arc"+a,l=void 0);var f=new $(a,n);return n.hints.parens||(f=f.addHint("open")),l&&(f.exp=l),f}static sin(t){return new $("sin",t)}static cos(t){return new $("cos",t)}static sinh(t){return new $("sinh",t)}static cosh(t){return new $("cosh",t)}}class Se extends ve{constructor(t){super(),this.func=Se,this.arg=t}args(){return[this.arg]}eval(t={},n){return Math.abs(this.arg.eval(t,n))}codegen(){return"Math.abs("+this.arg.codegen()+")"}print(){return"abs("+this.arg.print()+")"}tex(){return"\\left|"+this.arg.tex()+"\\right|"}collect(t){var n=this.recurse("collect",t);if(n.arg.isPositive())return n.arg;if(n.arg instanceof z)return n.arg.abs();if(n.arg instanceof b){var a=w.groupBy(n.arg.terms,f=>f.isPositive()?"positive":f instanceof z?"number":"other"),l=a.positive.concat(w.invoke(a.number,"abs"));return a.other.length&&l.push(new Se(new b(a.other).flatten())),new b(l).flatten()}else return n}expand(){var t=this.recurse("expand");if(t.arg instanceof b){var n=w.map(t.arg.terms,a=>new Se(a));return new b(n)}else return t}isPositive(){return!0}}class Te extends ve{constructor(t,n,a){super(),this.func=Te,this.signs={"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},this.left=t,this.type=n,this.right=a}args(){return[this.left,this.type,this.right]}needsExplicitMul(){return!1}print(){return this.left.print()+this.type+this.right.print()}tex(){return this.left.tex()+this.signs[this.type]+this.right.tex()}normalize(){var t=this.recurse("normalize");return w.contains([">",">="],t.type)?new Te(t.right,t.type.replace(">","<"),t.left):t}asExpr(t=!1){var n=v=>v instanceof z&&v.isSimple()&&v.eval()===0;let a=[];this.left instanceof ne?a=w.clone(this.left.terms):n(this.left)||(a=[this.left]),this.right instanceof ne?a=a.concat(this.right.negate().terms):n(this.right)||a.push(this.right.negate());var l=!this.isEquality();a=w.invoke(a,"collect",{preciseFloats:!0});for(var f=0;f<a.length;f++){var o=a[f].getDenominator();l&&!o.isPositive()&&(o=o.asPositiveFactor()),o.equals(te)||(a=w.map(a,v=>b.createOrAppend(v,o).simplify({once:!0,preciseFloats:!0})))}var d=new ne(a).flatten();return t?d:this.divideThrough(d)}divideThrough(t){const n=!this.isEquality(),a=t.simplify({once:!0}),l=a.factor({keepNegative:n});if(!(l instanceof b))return t;const f=l.terms,o=m=>!!m.getVars().length,d=m=>m.equals(te),[v,y]=Re(f,Ge);if(v.length&&this.isEquality())return new b(v).flatten();let p=y;v.length||(p=w.reject(p,o)),n&&(p=w.invoke(p,"asPositiveFactor")),p=w.reject(p,d),p=w.map(p,m=>new U(m,ke));const g=new b(f.concat(p)).collect();return g.equals(l)?a:g}isEquality(){return w.contains(["=","<>"],this.type)}compare(t){if(!(t instanceof Te))return!1;var n=this.normalize(),a=t.normalize();if(n.type!==a.type)return!1;var l=n.divideThrough(n.asExpr(!0).collect()),f=a.divideThrough(a.asExpr(!0).collect());return n.isEquality()?l.compare(f)||l.compare(b.handleNegative(f)):l.compare(f)}sameForm(t){var n=this.normalize(),a=t.normalize(),l=n.left.sameForm(a.left)&&n.right.sameForm(a.right);return n.isEquality()?l||n.left.sameForm(a.right)&&n.right.sameForm(a.left):l}isSimplified(){var t=this.asExpr(!0),n=this.divideThrough(t).simplify();return t.equals(n)&&this.left.isSimplified()&&this.right.isSimplified()}solveLinearEquationForVariable(t){var n=this.asExpr();if(!(n instanceof ne)||n.terms.length!==2)throw new Error("Can only handle linear equations of the form a + bx (= 0)");var a=d=>d.has(ze)&&w.contains(d.getVars(),t.symbol);const l=a(n.terms[0]),f=l?b.handleNegative(n.terms[1]):b.handleNegative(n.terms[0]),o=l?b.handleDivide(n.terms[0],t):b.handleDivide(n.terms[1],t);return b.handleDivide(f,o).simplify()}}class Ne extends ve{needsExplicitMul(){return!1}findGCD(t){return t instanceof Ne||t instanceof z?this.equals(t)?this:te:t.findGCD(this)}}class Me extends Ne{constructor(t,n){super(),this.func=Me,this.symbol=t,this.arg=n}args(){return[this.symbol,this.arg]}print(){return this.symbol+"("+this.arg.print()+")"}tex(){return this.symbol+"("+this.arg.tex()+")"}eval(t={},n){var a=this.arg,l=t[this.symbol],f=w.extend(w.clone(t),{x:a.eval(t,n)}),o=De(l,n);return o.parsed?o.expr.eval(f,n):o}codegen(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"}getUnits(){return this.arg.getUnits()}getVars(t){return t?this.arg.getVars():w.union(this.arg.getVars(),[this.symbol]).sort()}getConsts(){return this.arg.getConsts()}}class ze extends Ne{constructor(t,n){super(),this.func=ze,this.symbol=t,this.subscript=n}args(){return[this.symbol,this.subscript]}exprArgs(){return[]}recurse(){return this}print(){var t="";return this.subscript&&(t="_("+this.subscript.print()+")"),this.symbol+t}prettyPrint(){var t=this.subscript;return t&&(t instanceof z||t instanceof Ne)?this.symbol+"_"+t.print():this.print()}tex(){var t="";this.subscript&&(t="_{"+this.subscript.tex()+"}");var n=this.symbol.length>1?"\\":"";return n+this.symbol+t}repr(){return"Var("+this.print()+")"}eval(t={},n){return t[this.prettyPrint()]}codegen(){return'vars["'+this.prettyPrint()+'"]'}getVars(){return[this.prettyPrint()]}isPositive(){return!1}}const be=class be extends Ne{constructor(t){super(),this.func=be,this.symbol=t}args(){return[this.symbol]}recurse(){return this}eval(t={},n){return this.symbol==="pi"?Math.PI:this.symbol==="e"?Math.E:void 0}codegen(){return this.symbol==="pi"?"Math.PI":this.symbol==="e"?"Math.E":void 0}print(){return this.symbol}tex(){return this.symbol==="pi"?"\\pi ":this.symbol==="e"?"e":void 0}isPositive(){return this.eval()>0}abs(){return this.eval()>0?this:b.handleNegative(this)}getConsts(){return[this.print()]}};be.e=new be("e"),be.pi=new be("pi");let Ae=be;class z extends ve{constructor(){super(),this.n=0,this.hints={...this.hints,negate:!1,subtract:!1,divide:!1,root:!1,fraction:!1,entered:!1}}repr(){return this.print()}strip(){return this.abs()}recurse(){return this}codegen(){return this.print()}isSubtract(){return!!this.hints.subtract}needsExplicitMul(){return!0}isPositive(){return this.eval()>0}isNegative(){return this.eval()<0}asPositiveFactor(){return this.isPositive()?this:this.abs()}getDecimalPlaces(){var t=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}static negativeOne(t){return t==="subtract"?Nt:t==="divide"?ke:Ee}static findGCD(t,n){var a;if(t=Math.abs(t),n=Math.abs(n),t!==Math.floor(t)||n!==Math.floor(n))return 1;for(;n;)a=t%n,t=n,n=a;return t}static min(...t){return w.min(t,n=>n.eval())}static max(...t){return w.max(t,n=>n.eval())}}class B extends z{constructor(t,n){super(),this.func=B;var a=t,l=n;l<0&&(a=-a,l=-l),this.n=a,this.d=l}args(){return[this.n,this.d]}eval(){return this.n/this.d}print(){return this.n.toString()+"/"+this.d.toString()}tex(){var t="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+t:t}add(t,n){return t instanceof B?new B(this.n*t.d+this.d*t.n,this.d*t.d).collect():t.add(this,n)}mul(t,n){return t instanceof B?new B(this.n*t.n,this.d*t.d).collect():t.mul(this,n)}collect(){var t=z.findGCD(this.n,this.d),n=this.n/t,a=this.d/t;return a===1?new _(n):new B(n,a)}negate(){return new B(-this.n,this.d)}abs(){return new B(Math.abs(this.n),this.d)}findGCD(t){if(t instanceof B){var n=z.findGCD(this.n*t.d,t.n*this.d),a=this.d*t.d;return new B(n,a).collect()}else return t instanceof _?new B(z.findGCD(this.n,t.n),this.d):t.findGCD(this)}raiseToThe(t){if(t instanceof _){var n=t.eval()>0,a=t.abs().eval(),l=Math.pow(this.n,a),f=Math.pow(this.d,a);return n?new B(l,f).collect():new B(f,l).collect()}else return new ue(this.eval()).raiseToThe(t)}getDenominator(){return new _(this.d)}isSimple(){return!1}asRational(){return this}}class _ extends B{constructor(t){super(t,1),this.func=_}args(){return[this.n]}print(){return this.n.toString()}tex(){return this.n.toString()}negate(){return new _(-this.n)}abs(){return new _(Math.abs(this.n))}isSimple(){return!0}findGCD(t){return t instanceof _?new _(z.findGCD(this.n,t.n)):t.findGCD(this)}static create(t){return new _(t).addHint("entered")}}class ue extends z{constructor(t){super(),this.func=ue,this.n=t}args(){return[this.n]}eval(){return this.n}print(){return this.n.toString()}tex(){return this.n.toString()}add(t,n){return n&&n.preciseFloats?ue.toDecimalPlaces(this.n+t.eval(),Math.max(this.getDecimalPlaces(),t.getDecimalPlaces())):new ue(this.n+t.eval()).collect()}mul(t,n){return n&&n.preciseFloats?ue.toDecimalPlaces(this.n*t.eval(),this.getDecimalPlaces()+t.getDecimalPlaces()):new ue(this.n*t.eval()).collect()}collect(t){return this}negate(){return new ue(-this.n)}abs(){return new ue(Math.abs(this.n))}findGCD(t){return t instanceof z?new ue(z.findGCD(this.eval(),t.eval())).collect():t.findGCD(this)}raiseToThe(t,n){return n&&n.preciseFloats&&t instanceof _&&t.n>1?ue.toDecimalPlaces(new U(this,t).eval(),this.getDecimalPlaces()*t.n):new ue(new U(this,t).eval()).collect()}asRational(){var t=this.n.toString().split(".");if(t.length===1)return new B(this.n,1);var n=Number(t.join("")),a=Math.pow(10,t[1].length);return new B(n,a).collect()}getDenominator(){return this.asRational().getDenominator()}isSimple(){return!0}static create(t){return new ue(t).addHint("entered")}static toDecimalPlaces(t,n){return new ue(+t.toFixed(Math.min(n,20))).collect()}}const Ee=new _(-1).addHint("negate"),Nt=new _(-1).addHint("subtract"),ke=new _(-1).addHint("divide"),Ft=new B(1,2).addHint("root"),_e=new _(0),te=new _(1),Ot=new _(10);var Pt=function(u,t){throw new Error(t.loc.first_column)};Pe.yy={Add:ne,Mul:b,Pow:U,Log:ce,Trig:$,Eq:Te,Abs:Se,Func:Me,Const:Ae,Var:ze,Int:_,Float:ue,parseError:Pt,constants:["e"],symbolLexer:function(u){return w.contains(Pe.yy.constants,u)?"CONST":w.contains(Pe.yy.functions,u)?"FUNC":"VAR"}};const De=function(u,t){try{t&&t.functions?Pe.yy.functions=w.without(t.functions,"i"):Pe.yy.functions=[],t&&t.decimal_separator&&(u=u.split(t.decimal_separator).join("."));var n=Pe.parse(u).completeParse();return{parsed:!0,expr:n}}catch(a){return{parsed:!1,error:a.message}}};class oe extends Ne{constructor(t){super(),this.func=oe,this.symbol=t}args(){return[this.symbol]}recurse(){return this}eval(t={},n){return 1}getUnits(){return[{unit:this.symbol,pow:1}]}codegen(){return"1"}print(){return this.symbol}tex(){return this.symbol}collect(t){if(w(Rt).has(this.symbol))return this;if(w(it).has(this.symbol))return it[this.symbol].conversion;throw new Error("could not understand unit: "+this.symbol)}}var Rt={m:new oe("m"),g:new oe("g"),s:new oe("s"),A:new oe("A"),K:new oe("K"),mol:new oe("mol"),cd:new oe("cd")};new U(new _(10),new _(-18)),new U(new _(10),new _(-15)),new U(new _(10),new _(-12)),new U(new _(10),new _(-9)),new U(new _(10),new _(-6)),new U(new _(10),new _(-3)),new U(new _(10),new _(-2)),new U(new _(10),new _(-1)),new _(10),new U(new _(10),new _(2)),new U(new _(10),new _(3)),new U(new _(10),new _(6)),new U(new _(10),new _(9)),new U(new _(10),new _(12)),new U(new _(10),new _(15)),new U(new _(10),new _(18)),new U(new _(10),new _(27));const ee="hasPrefixes",R="hasntPrefixes",k=function(u,t){var n=u.split("|"),a=n[0].trim(),l=n[1].trim(),f=te;a!==""&&(f=De(a).expr);var o=l.split("/"),d=[f];return o[0]&&o[0].split(" ").filter(v=>v!=="").forEach(v=>d.push(new oe(v))),o[1]&&o[1].split(" ").filter(v=>v!=="").forEach(v=>d.push(new U(new oe(v),ke))),{conversion:new b(d),prefixes:t}};var it={Da:k("1.6605388628 x 10^-24 | g",ee),u:k("| Da",R),meter:k("| m",R),meters:k("| m",R),in:k("254 / 10000 | m",R),ft:k("3048  / 10000 | m",R),yd:k("9144  / 10000 | m",R),mi:k("1609344 / 1000 | m",R),ly:k("9.4607 x 10^15 | m",R),nmi:k("1852 | m",R),Å:k("10^-10 | m",R),pc:k("3.0857 x 10^16 | m",R),min:k("60 | s",R),hr:k("3600 | s",R),sec:k("| s",R),day:k("86400 | s",R),wk:k("604800 | s",R),fortnight:k("14 | day",R),shake:k("10^-8 | s",R),olympiad:k("126200000 | s",R),"°C":k("1 | K",R),"°F":k("5/9 | K",R),"°R":k("5/9 | K",R),e:k("1.6021765314 x 10^-19 | C",R),c:k("299792458 | m / s",R),kn:k("514/1000 | m / s",R),kt:k("| kn",R),knot:k("| kn",R),J:k("| N m",ee),BTU:k("1060 | J",R),cal:k("4184 / 1000 | J",ee),eV:k("1.602176514 x 10^-19 | J",ee),erg:k("10^−7 | J",ee),W:k("| J / s",ee),"H-e":k("80 | W",R),N:k("1000 | g m / s s",ee),lb:k("4448221615 / 1000000000 | N",R),dyn:k("10^-5 | N",R),Pa:k("1 | N / m m m",ee),bar:k("10^5 | Pa",ee),"㏔":k("1/1000 | bar",R),"㍴":k("| bar",R),atm:k("101325 | Pa",R),Torr:k("1/760 | atm",R),mmHg:k("| Torr",R),ha:k("10^4 | m m",R),b:k("10^−28 | m m",ee),barn:k("| b",ee),acre:k("4046.87 | m m",R),skilodge:k("10^-31 | m m",R),outhouse:k("10^-34 | m m",R),shed:k("10^-52 | m m",R),L:k("1/1000 | m m m",ee),gal:k("3785/1000 | L",ee),cup:k("1/16 | gal",R),qt:k("1/4 | gal",R),quart:k("| qt",R),p:k("1/8 | gal",R),pt:k("| p",R),pint:k("| p",R),"fl oz":k("1/8 | cup",R),"fl. oz.":k("1/8 | cup",R),tbsp:k("1/16 | cup",R),tsp:k("1/3 | tbsp",R),rev:k("2 pi | rad",R),deg:k("180 pi | rad",R),"°":k("| deg",R),arcminute:k("1/60 | deg",R),arcsec:k("1/3600 | deg",R),Hu:k("1000 | dB",ee),dozen:k("12 |",R),mol:k("6.0221412927 x 10^23 |",ee),"%":k("1/100 |",R),percent:k("| %",R),ppm:k("1/1000000 |",R),V:k("1000 | g m m / s s C",ee),C:k("| A s",ee),ampere:k("| A",R),Ω:k("| V / A",ee),ohm:k("| Ω",R),F:k("| C / V",ee),H:k("| ohm s",ee),T:k("1000 | g / C s",ee),Wb:k("1000 | g m m / C s",ee),lm:k("pi x 10^4 | cd / m m",R),lx:k("| lm / m m",R),nit:k("| cd / m m",R),sb:k("10^4 | cd / m m",R),stilb:k("1 | sb",R),apostilb:k("1 / pi x 10^(-4) | sb",R),blondel:k("| apostilb",R),asb:k("| apostilb",R),la:k("| lm",R),Lb:k("| lm",R),sk:k("10^-7 | lm",R),skot:k("| sk",R),bril:k("10^-11 | lm",R),Hz:k("| / s",ee)};const st=function(u,t,n={}){const l={...{form:!1,simplify:!1},...n},f=u.sameVars(t);if(!f.equal){let o;return f.equalIgnoringCase?o="Check your variables; one or more are using the wrong case (upper or lower).":o="Check your variables; you may have used the wrong letter for one or more of them.",{equal:!1,wrongVariableCase:f.equalIgnoringCase,wrongVariableNames:!f.equalIgnoringCase,message:o}}return u.compare(t)?l.form&&!u.sameForm(t)?{equal:!1,message:"Your answer is not in the correct form."}:l.simplify&&!u.isSimplified()?{equal:!1,message:"Your answer is not fully expanded and simplified."}:{equal:!0,message:null}:{equal:!1,message:null}},Tt="@khanacademy/kmath",St="__lib_version__";ot(Tt,St);var We={exports:{}};(function(u,t){(function(){var n=this,a=n._,l={},f=Array.prototype,o=Object.prototype,d=Function.prototype,v=f.push,y=f.slice,p=f.concat,g=o.toString,m=o.hasOwnProperty,M=f.forEach,I=f.map,N=f.reduce,F=f.reduceRight,D=f.filter,H=f.every,Y=f.some,ie=f.indexOf,de=f.lastIndexOf,J=Array.isArray,j=Object.keys,se=d.bind,i=function(e){if(e instanceof i)return e;if(!(this instanceof i))return new i(e);this._wrapped=e};u.exports&&(t=u.exports=i),t._=i,i.VERSION="1.4.4";var L=i.each=i.forEach=function(e,r,s){if(e!=null){if(M&&e.forEach===M)e.forEach(r,s);else if(e.length===+e.length){for(var c=0,h=e.length;c<h;c++)if(r.call(s,e[c],c,e)===l)return}else for(var E in e)if(i.has(e,E)&&r.call(s,e[E],E,e)===l)return}};i.map=i.collect=function(e,r,s){var c=[];return e==null?c:I&&e.map===I?e.map(r,s):(L(e,function(h,E,x){c[c.length]=r.call(s,h,E,x)}),c)};var ge="Reduce of empty array with no initial value";i.reduce=i.foldl=i.inject=function(e,r,s,c){var h=arguments.length>2;if(e==null&&(e=[]),N&&e.reduce===N)return c&&(r=i.bind(r,c)),h?e.reduce(r,s):e.reduce(r);if(L(e,function(E,x,P){h?s=r.call(c,s,E,x,P):(s=E,h=!0)}),!h)throw new TypeError(ge);return s},i.reduceRight=i.foldr=function(e,r,s,c){var h=arguments.length>2;if(e==null&&(e=[]),F&&e.reduceRight===F)return c&&(r=i.bind(r,c)),h?e.reduceRight(r,s):e.reduceRight(r);var E=e.length;if(E!==+E){var x=i.keys(e);E=x.length}if(L(e,function(P,S,W){S=x?x[--E]:--E,h?s=r.call(c,s,e[S],S,W):(s=e[S],h=!0)}),!h)throw new TypeError(ge);return s},i.find=i.detect=function(e,r,s){var c;return Z(e,function(h,E,x){if(r.call(s,h,E,x))return c=h,!0}),c},i.filter=i.select=function(e,r,s){var c=[];return e==null?c:D&&e.filter===D?e.filter(r,s):(L(e,function(h,E,x){r.call(s,h,E,x)&&(c[c.length]=h)}),c)},i.reject=function(e,r,s){return i.filter(e,function(c,h,E){return!r.call(s,c,h,E)},s)},i.every=i.all=function(e,r,s){r||(r=i.identity);var c=!0;return e==null?c:H&&e.every===H?e.every(r,s):(L(e,function(h,E,x){if(!(c=c&&r.call(s,h,E,x)))return l}),!!c)};var Z=i.some=i.any=function(e,r,s){r||(r=i.identity);var c=!1;return e==null?c:Y&&e.some===Y?e.some(r,s):(L(e,function(h,E,x){if(c||(c=r.call(s,h,E,x)))return l}),!!c)};i.contains=i.include=function(e,r){return e==null?!1:ie&&e.indexOf===ie?e.indexOf(r)!=-1:Z(e,function(s){return s===r})},i.invoke=function(e,r){var s=y.call(arguments,2),c=i.isFunction(r);return i.map(e,function(h){return(c?r:h[r]).apply(h,s)})},i.pluck=function(e,r){return i.map(e,function(s){return s[r]})},i.where=function(e,r,s){return i.isEmpty(r)?s?null:[]:i[s?"find":"filter"](e,function(c){for(var h in r)if(r[h]!==c[h])return!1;return!0})},i.findWhere=function(e,r){return i.where(e,r,!0)},i.max=function(e,r,s){if(!r&&i.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!r&&i.isEmpty(e))return-1/0;var c={computed:-1/0,value:-1/0};return L(e,function(h,E,x){var P=r?r.call(s,h,E,x):h;P>=c.computed&&(c={value:h,computed:P})}),c.value},i.min=function(e,r,s){if(!r&&i.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!r&&i.isEmpty(e))return 1/0;var c={computed:1/0,value:1/0};return L(e,function(h,E,x){var P=r?r.call(s,h,E,x):h;P<c.computed&&(c={value:h,computed:P})}),c.value},i.shuffle=function(e){var r,s=0,c=[];return L(e,function(h){r=i.random(s++),c[s-1]=c[r],c[r]=h}),c};var Q=function(e){return i.isFunction(e)?e:function(r){return r[e]}};i.sortBy=function(e,r,s){var c=Q(r);return i.pluck(i.map(e,function(h,E,x){return{value:h,index:E,criteria:c.call(s,h,E,x)}}).sort(function(h,E){var x=h.criteria,P=E.criteria;if(x!==P){if(x>P||x===void 0)return 1;if(x<P||P===void 0)return-1}return h.index<E.index?-1:1}),"value")};var O=function(e,r,s,c){var h={},E=Q(r||i.identity);return L(e,function(x,P){var S=E.call(s,x,P,e);c(h,S,x)}),h};i.groupBy=function(e,r,s){return O(e,r,s,function(c,h,E){(i.has(c,h)?c[h]:c[h]=[]).push(E)})},i.countBy=function(e,r,s){return O(e,r,s,function(c,h){i.has(c,h)||(c[h]=0),c[h]++})},i.sortedIndex=function(e,r,s,c){s=s==null?i.identity:Q(s);for(var h=s.call(c,r),E=0,x=e.length;E<x;){var P=E+x>>>1;s.call(c,e[P])<h?E=P+1:x=P}return E},i.toArray=function(e){return e?i.isArray(e)?y.call(e):e.length===+e.length?i.map(e,i.identity):i.values(e):[]},i.size=function(e){return e==null?0:e.length===+e.length?e.length:i.keys(e).length},i.first=i.head=i.take=function(e,r,s){if(e!=null)return r!=null&&!s?y.call(e,0,r):e[0]},i.initial=function(e,r,s){return y.call(e,0,e.length-(r==null||s?1:r))},i.last=function(e,r,s){if(e!=null)return r!=null&&!s?y.call(e,Math.max(e.length-r,0)):e[e.length-1]},i.rest=i.tail=i.drop=function(e,r,s){return y.call(e,r==null||s?1:r)},i.compact=function(e){return i.filter(e,i.identity)};var V=function(e,r,s){return L(e,function(c){i.isArray(c)?r?v.apply(s,c):V(c,r,s):s.push(c)}),s};i.flatten=function(e,r){return V(e,r,[])},i.without=function(e){return i.difference(e,y.call(arguments,1))},i.uniq=i.unique=function(e,r,s,c){i.isFunction(r)&&(c=s,s=r,r=!1);var h=s?i.map(e,s,c):e,E=[],x=[];return L(h,function(P,S){(r?!S||x[x.length-1]!==P:!i.contains(x,P))&&(x.push(P),E.push(e[S]))}),E},i.union=function(){return i.uniq(p.apply(f,arguments))},i.intersection=function(e){var r=y.call(arguments,1);return i.filter(i.uniq(e),function(s){return i.every(r,function(c){return i.indexOf(c,s)>=0})})},i.difference=function(e){var r=p.apply(f,y.call(arguments,1));return i.filter(e,function(s){return!i.contains(r,s)})},i.zip=function(){for(var e=y.call(arguments),r=i.max(i.pluck(e,"length")),s=new Array(r),c=0;c<r;c++)s[c]=i.pluck(e,""+c);return s},i.object=function(e,r){if(e==null)return{};for(var s={},c=0,h=e.length;c<h;c++)r?s[e[c]]=r[c]:s[e[c][0]]=e[c][1];return s},i.indexOf=function(e,r,s){if(e==null)return-1;var c=0,h=e.length;if(s)if(typeof s=="number")c=s<0?Math.max(0,h+s):s;else return c=i.sortedIndex(e,r),e[c]===r?c:-1;if(ie&&e.indexOf===ie)return e.indexOf(r,s);for(;c<h;c++)if(e[c]===r)return c;return-1},i.lastIndexOf=function(e,r,s){if(e==null)return-1;var c=s!=null;if(de&&e.lastIndexOf===de)return c?e.lastIndexOf(r,s):e.lastIndexOf(r);for(var h=c?s:e.length;h--;)if(e[h]===r)return h;return-1},i.range=function(e,r,s){arguments.length<=1&&(r=e||0,e=0),s=arguments[2]||1;for(var c=Math.max(Math.ceil((r-e)/s),0),h=0,E=new Array(c);h<c;)E[h++]=e,e+=s;return E},i.bind=function(e,r){if(e.bind===se&&se)return se.apply(e,y.call(arguments,1));var s=y.call(arguments,2);return function(){return e.apply(r,s.concat(y.call(arguments)))}},i.partial=function(e){var r=y.call(arguments,1);return function(){return e.apply(this,r.concat(y.call(arguments)))}},i.bindAll=function(e){var r=y.call(arguments,1);return r.length===0&&(r=i.functions(e)),L(r,function(s){e[s]=i.bind(e[s],e)}),e},i.memoize=function(e,r){var s={};return r||(r=i.identity),function(){var c=r.apply(this,arguments);return i.has(s,c)?s[c]:s[c]=e.apply(this,arguments)}},i.delay=function(e,r){var s=y.call(arguments,2);return setTimeout(function(){return e.apply(null,s)},r)},i.defer=function(e){return i.delay.apply(i,[e,1].concat(y.call(arguments,1)))},i.throttle=function(e,r){var s,c,h,E,x=0,P=function(){x=new Date,h=null,E=e.apply(s,c)};return function(){var S=new Date,W=r-(S-x);return s=this,c=arguments,W<=0?(clearTimeout(h),h=null,x=S,E=e.apply(s,c)):h||(h=setTimeout(P,W)),E}},i.debounce=function(e,r,s){var c,h;return function(){var E=this,x=arguments,P=function(){c=null,s||(h=e.apply(E,x))},S=s&&!c;return clearTimeout(c),c=setTimeout(P,r),S&&(h=e.apply(E,x)),h}},i.once=function(e){var r=!1,s;return function(){return r||(r=!0,s=e.apply(this,arguments),e=null),s}},i.wrap=function(e,r){return function(){var s=[e];return v.apply(s,arguments),r.apply(this,s)}},i.compose=function(){var e=arguments;return function(){for(var r=arguments,s=e.length-1;s>=0;s--)r=[e[s].apply(this,r)];return r[0]}},i.after=function(e,r){return e<=0?r():function(){if(--e<1)return r.apply(this,arguments)}},i.keys=j||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var r=[];for(var s in e)i.has(e,s)&&(r[r.length]=s);return r},i.values=function(e){var r=[];for(var s in e)i.has(e,s)&&r.push(e[s]);return r},i.pairs=function(e){var r=[];for(var s in e)i.has(e,s)&&r.push([s,e[s]]);return r},i.invert=function(e){var r={};for(var s in e)i.has(e,s)&&(r[e[s]]=s);return r},i.functions=i.methods=function(e){var r=[];for(var s in e)i.isFunction(e[s])&&r.push(s);return r.sort()},i.extend=function(e){return L(y.call(arguments,1),function(r){if(r)for(var s in r)e[s]=r[s]}),e},i.pick=function(e){var r={},s=p.apply(f,y.call(arguments,1));return L(s,function(c){c in e&&(r[c]=e[c])}),r},i.omit=function(e){var r={},s=p.apply(f,y.call(arguments,1));for(var c in e)i.contains(s,c)||(r[c]=e[c]);return r},i.defaults=function(e){return L(y.call(arguments,1),function(r){if(r)for(var s in r)e[s]==null&&(e[s]=r[s])}),e},i.clone=function(e){return i.isObject(e)?i.isArray(e)?e.slice():i.extend({},e):e},i.tap=function(e,r){return r(e),e};var A=function(e,r,s,c){if(e===r)return e!==0||1/e==1/r;if(e==null||r==null)return e===r;e instanceof i&&(e=e._wrapped),r instanceof i&&(r=r._wrapped);var h=g.call(e);if(h!=g.call(r))return!1;switch(h){case"[object String]":return e==String(r);case"[object Number]":return e!=+e?r!=+r:e==0?1/e==1/r:e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object RegExp]":return e.source==r.source&&e.global==r.global&&e.multiline==r.multiline&&e.ignoreCase==r.ignoreCase}if(typeof e!="object"||typeof r!="object")return!1;for(var E=s.length;E--;)if(s[E]==e)return c[E]==r;s.push(e),c.push(r);var x=0,P=!0;if(h=="[object Array]"){if(x=e.length,P=x==r.length,P)for(;x--&&(P=A(e[x],r[x],s,c)););}else{var S=e.constructor,W=r.constructor;if(S!==W&&!(i.isFunction(S)&&S instanceof S&&i.isFunction(W)&&W instanceof W))return!1;for(var K in e)if(i.has(e,K)&&(x++,!(P=i.has(r,K)&&A(e[K],r[K],s,c))))break;if(P){for(K in r)if(i.has(r,K)&&!x--)break;P=!x}}return s.pop(),c.pop(),P};i.isEqual=function(e,r){return A(e,r,[],[])},i.isEmpty=function(e){if(e==null)return!0;if(i.isArray(e)||i.isString(e))return e.length===0;for(var r in e)if(i.has(e,r))return!1;return!0},i.isElement=function(e){return!!(e&&e.nodeType===1)},i.isArray=J||function(e){return g.call(e)=="[object Array]"},i.isObject=function(e){return e===Object(e)},L(["Arguments","Function","String","Number","Date","RegExp"],function(e){i["is"+e]=function(r){return g.call(r)=="[object "+e+"]"}}),i.isArguments(arguments)||(i.isArguments=function(e){return!!(e&&i.has(e,"callee"))}),typeof/./!="function"&&(i.isFunction=function(e){return typeof e=="function"}),i.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},i.isNaN=function(e){return i.isNumber(e)&&e!=+e},i.isBoolean=function(e){return e===!0||e===!1||g.call(e)=="[object Boolean]"},i.isNull=function(e){return e===null},i.isUndefined=function(e){return e===void 0},i.has=function(e,r){return m.call(e,r)},i.noConflict=function(){return n._=a,this},i.identity=function(e){return e},i.times=function(e,r,s){for(var c=Array(e),h=0;h<e;h++)c[h]=r.call(s,h);return c},i.random=function(e,r){return r==null&&(r=e,e=0),e+Math.floor(Math.random()*(r-e+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};T.unescape=i.invert(T.escape);var C={escape:new RegExp("["+i.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+i.keys(T.unescape).join("|")+")","g")};i.each(["escape","unescape"],function(e){i[e]=function(r){return r==null?"":(""+r).replace(C[e],function(s){return T[e][s]})}}),i.result=function(e,r){if(e==null)return null;var s=e[r];return i.isFunction(s)?s.call(e):s},i.mixin=function(e){L(i.functions(e),function(r){var s=i[r]=e[r];i.prototype[r]=function(){var c=[this._wrapped];return v.apply(c,arguments),me.call(this,s.apply(i,c))}})};var q=0;i.uniqueId=function(e){var r=++q+"";return e?e+r:r},i.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var le=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},fe=/\\|'|\r|\n|\t|\u2028|\u2029/g;i.template=function(e,r,s){var c;s=i.defaults({},s,i.templateSettings);var h=new RegExp([(s.escape||le).source,(s.interpolate||le).source,(s.evaluate||le).source].join("|")+"|$","g"),E=0,x="__p+='";e.replace(h,function(S,W,K,ye,pe){return x+=e.slice(E,pe).replace(fe,function(Ie){return"\\"+G[Ie]}),W&&(x+=`'+
((__t=(`+W+`))==null?'':_.escape(__t))+
'`),K&&(x+=`'+
((__t=(`+K+`))==null?'':__t)+
'`),ye&&(x+=`';
`+ye+`
__p+='`),E=pe+S.length,S}),x+=`';
`,s.variable||(x=`with(obj||{}){
`+x+`}
`),x=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+x+`return __p;
`;try{c=new Function(s.variable||"obj","_",x)}catch(S){throw S.source=x,S}if(r)return c(r,i);var P=function(S){return c.call(this,S,i)};return P.source="function("+(s.variable||"obj")+`){
`+x+"}",P},i.chain=function(e){return i(e).chain()};var me=function(e){return this._chain?i(e).chain():e};i.mixin(i),L(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var r=f[e];i.prototype[e]=function(){var s=this._wrapped;return r.apply(s,arguments),(e=="shift"||e=="splice")&&s.length===0&&delete s[0],me.call(this,s)}}),L(["concat","join","slice"],function(e){var r=f[e];i.prototype[e]=function(){return me.call(this,r.apply(this._wrapped,arguments))}}),i.extend(i.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(ft)})(We,We.exports);var _t=We.exports;const at=ht(_t),Dt=1e-9,qt=Math.pow(2,-42);function wn(u){return at.isNumber(u)&&!at.isNaN(u)}function qe(u,t,n){return u==null||t==null?u===t:u===t?!0:(n==null&&(n=Dt),Math.abs(u-t)<n)}function xn(u,t){return qe(u,0,t)?0:Math.abs(u)/u}function Vt(u,t){return qe(Math.round(u),u,t)}function En(u,t){const n=Math.pow(10,t);return Math.round(u*n)/n}function In(u,t){return Math.round(u/t)*t}function Mn(u,t){return Math.floor(u/t)*t}function kn(u,t){return Math.ceil(u/t)*t}function ut(u,t=qt,n=1e3){let a=[1,0],l=[0,1],f=Math.floor(u),o=u-f;for(;l[0]<=n;){if(qe(a[0]/l[0],u,t))return[a[0],l[0]];a=[f*a[0]+a[1],a[0]],l=[f*l[0]+l[1],l[0]],f=Math.floor(1/o),o=1/o-f}return[u,1]}const ae={cleanMath:function(u){return typeof u=="string"?u.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):u},bound:function(u){return u===0?u:u<0?-ae.bound(-u):Math.max(1e-6,Math.min(u,1e20))},factorial:function(u){return u<=1?u:u*ae.factorial(u-1)},getGCD:function(u,t){if(arguments.length>2){const a=[].slice.call(arguments,1);return ae.getGCD(u,ae.getGCD(...a))}let n;for(u=Math.abs(u),t=Math.abs(t);t;)n=u%t,u=t,t=n;return u},getLCM:function(u,t){if(arguments.length>2){const n=[].slice.call(arguments,1);return ae.getLCM(u,ae.getLCM(...n))}return Math.abs(u*t)/ae.getGCD(u,t)},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function(u){if(u<=1)return!1;if(u<101)return!!he.grep(ae.primes,function(t,n){return Math.abs(t-u)<=.5}).length;if(u<=1||u>2&&u%2===0)return!1;for(let t=3,n=Math.sqrt(u);t<=n;t+=2)if(u%t===0)return!1;return!0},getPrimeFactorization:function(u){if(u===1)return[];if(ae.isPrime(u))return[u];const t=Math.sqrt(u);for(let n=2;n<=t;n++)if(u%n===0)return he.merge(ae.getPrimeFactorization(n),ae.getPrimeFactorization(u/n))},roundToNearest:function(u,t){return Math.round(t/u)*u},roundTo:function(u,t){const n=Math.pow(10,u).toFixed(5);return Math.round((t*n).toFixed(5))/n},toFixedApprox:function(u,t){const n=u.toFixed(t);return qe(+n,u)?n:"\\approx "+n},roundToApprox:function(u,t){const n=ae.roundTo(t,u);return qe(n,u)?String(n):ae.toFixedApprox(u,t)},toFraction:function(u,t){if(t==null&&(t=Math.pow(2,-46)),u<0||u>1){let v=u%1;v+=v<0?1:0;const y=ae.toFraction(v,t);return y[0]+=Math.round(u-v)*y[1],y}if(Math.abs(Math.round(Number(u))-u)<=t)return[Math.round(u),1];let n=0,a=1,l=1,f=1,o=1,d=2;for(;;){if(Math.abs(Number(o/d)-u)<=t)return[o,d];o/d<u?(n=o,a=d):(l=o,f=d),o=n+l,d=a+f}},getNumericFormat:function(u){if(u=he.trim(u),u=u.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1"),u.match(/^[+-]?\d+$/))return"integer";if(u.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/))return"mixed";const t=u.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/);return t?parseFloat(t[1])>parseFloat(t[2])?"improper":"proper":u.replace(/[,. ]/g,"").match(/^\d+$/)?"decimal":u.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)?"pi":null},toNumericString:function(u,t){if(u==null)return"";if(u===0)return"0";if(t==="percent")return u*100+"%";if(t==="pi"){const n=ut(u/Math.PI),a=Math.abs(n[0]),l=n[1];if(Vt(a))return(u<0?"-":"")+(a===1?"":a)+"π"+(l===1?"":"/"+l)}if(re(["proper","improper","mixed","fraction"]).contains(t)){const n=ut(u),a=Math.abs(n[0]),l=n[1],f=u<0?"-":"";if(l===1)return f+a;if(t==="mixed"){const o=a%l,d=(a-o)/l;return f+(d?d+" ":"")+o+"/"+l}return f+a+"/"+l}return String(u)}};function bn(u){return u.reduce(Gt,0)}function Gt(u,t){return u+t}const Ct=Math.pow(2,-42),Oe={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function(u,t,n){t=re.extend({simplify:"required",ratio:!1,forms:Oe.predicate.defaultForms},t);let a;re.isArray(t.forms)?a=t.forms:a=t.forms.split(/\s*,\s*/),t.inexact===void 0&&(t.maxError=0),t.maxError=+t.maxError+Ct,re.contains(a,"percent")&&(a=re.without(a,"percent"),a.push("percent"));const l=function(o){o=o.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"");const d=o.match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/),v=o.match(/^([+-]?)\\frac\{([+-]?\d+)\}\{([+-]?\d+)\}$/),y=parseInt(o,10);if(d||v){let p,g,m=!0;return d?(p=parseFloat(d[1]),g=parseFloat(d[2])):(p=parseFloat(v[2]),v[1]==="-"&&(p<0&&(m=!1),p=-p),g=parseFloat(v[3])),m=m&&g>0&&(t.ratio||g!==1)&&ae.getGCD(p,g)===1,[{value:p/g,exact:m}]}return!isNaN(y)&&""+y===o?[{value:y,exact:!0}]:[]},f={integer:function(o){const d=f.decimal(o),v=f.decimal(o,1);return d[0].value!=null&&d[0].value===v[0].value||d[1].value!=null&&d[1].value===v[1].value?d:[]},proper:function(o){return he.map(l(o),function(d){return Math.abs(d.value)<1?[d]:[]})},improper:function(o){return he.map(l(o),function(d){return Math.abs(d.value)>=1?[d]:[]})},pi:function(o){let d,v=[];if(o=o.replace(/\u2212/,"-"),d=o.match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))v=[{value:parseFloat(d[1]+"1"),exact:!0}];else if(d=o.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))v=l(d[1]);else if(d=o.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){const p=parseFloat(d[1]+"1"),g=parseFloat(d[2]),m=parseFloat(d[3]),M=parseFloat(d[4]),I=m<M&&ae.getGCD(m,M)===1;v=[{value:p*(g+m/M),exact:I}]}else if(d=o.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i))v=l(d[1]+"/"+d[3]);else if(d=o.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i))v=l(d[1]+"1/"+d[3]);else if(o==="0")v=[{value:0,exact:!0}];else if(d=o.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))v=f.decimal(d[1]);else{v=re.reduce(Oe.predicate.defaultForms.split(/\s*,\s*/),function(m,M){return m.concat(f[M](o))},[]);let p=!1;const g=parseFloat(o);if(!isNaN(g)&&g!==parseInt(o)){const m=Math.PI/12,M=m*Math.round(g/m);Math.abs(g-M)<.01&&(p=!0)}else o.match(/\/\s*7/)&&(p=!0);return p&&re.each(v,function(m){m.piApprox=!0}),v}let y=Math.PI;return o.match(/\\?tau|t|\u03c4/)&&(y=Math.PI*2),o.match(/pau/)&&(y=Math.PI*1.5),he.each(v,function(p,g){g.value*=y}),v},coefficient:function(o){let d=[];return o=o.replace(/\u2212/,"-"),o===""?d=[{value:1,exact:!0}]:o==="-"&&(d=[{value:-1,exact:!0}]),d},log:function(o){let d,v=[];return o=o.replace(/\u2212/,"-"),o=o.replace(/[ \(\)]/g,""),(d=o.match(/^log\s*(\S+)\s*$/i))?v=f.decimal(d[1]):o==="0"&&(v=[{value:0,exact:!0}]),v},percent:function(o){o=he.trim(o);let d=!1;o.indexOf("%")===o.length-1&&(o=he.trim(o.substring(0,o.length-1)),d=!0);const v=f.decimal(o);return he.each(v,function(y,p){p.exact=d,p.value=p.value/100}),v},mixed:function(o){const d=o.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/);if(d){const v=parseFloat(d[1]+"1"),y=parseFloat(d[2]),p=parseFloat(d[3]),g=parseFloat(d[4]),m=p<g&&ae.getGCD(p,g)===1;return[{value:v*(y+p/g),exact:m}]}return[]},decimal:function(o,d=1e10){const v=function(p){p=he.trim(p);const g=p.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/),m=p.match(/^0[0,]*,/);if(g&&!m){let M=parseFloat(g[1].replace(/[, ]/g,""));return t.inexact===void 0&&(M=Math.round(M*d)/d),M}},y=function(p){return p=p.replace(/([\.,])/g,function(g,m){return m==="."?",":"."}),v(p)};return[{value:v(o),exact:!0},{value:y(o),exact:!0}]}};return function(o){const d=t.fallback!=null?""+t.fallback:"";o=he.trim(o)||d;const v={empty:o==="",correct:!1,message:null,guess:o};if(he.each(a,function(y,p){const g=f[p](o);for(let m=0,M=g.length;m<M;m++){const I=g[m].value,N=g[m].exact,F=g[m].piApprox;if(u(I,t.maxError))return N||t.simplify==="optional"?(v.correct=!0,v.message=t.message||null,v.empty=!1):p==="percent"?(v.empty=!0,v.message=n.MISSING_PERCENT_ERROR):(t.simplify!=="enforced"&&(v.empty=!0),v.message=n.NEEDS_TO_BE_SIMPLFIED_ERROR),!1;F&&u(I,Math.abs(I*.001))&&(v.empty=!0,v.message=n.APPROXIMATED_PI_ERROR)}}),v.correct===!1){let y=!1;if(re.each(f,function(p){re.any(p(o),function(m){return m.value!=null&&!re.isNaN(m.value)})&&(y=!0)}),!y)return v.empty=!0,v.message=n.EXTRA_SYMBOLS_ERROR,v}return v}}},number:{convertToPredicate:function(u,t){const n=parseFloat(u);return[function(a,l){return Math.abs(a-n)<l},he.extend({},t,{type:"predicate"})]},createValidatorFunctional:function(u,t,n){return Oe.predicate.createValidatorFunctional(...Oe.number.convertToPredicate(u,t),n)}},expression:{parseSolution:function(u,t){let n=De(u,t);if(n.parsed){if(t.simplified&&!n.expr.isSimplified())throw new je("The provided solution ("+u+") isn't fully expanded and simplified.",et.InvalidInput);n=n.expr}else throw new je("The provided solution ("+u+") didn't parse.",et.InvalidInput);return n},createValidatorFunctional:function(u,t,n){return function(a){const l={empty:!1,correct:!1,message:null,guess:a,ungraded:!1};if(!a)return l.empty=!0,l;const f=De(a,t);if(!f.parsed)return l.empty=!0,l;typeof u=="string"&&(u=Oe.expression.parseSolution(u,t));const o=st(f.expr,u,t);if(o.equal)l.correct=!0;else if(o.wrongVariableNames||o.wrongVariableCase)l.ungraded=!0,l.message=o.wrongVariableCase?n.WRONG_CASE_ERROR:n.WRONG_LETTER_ERROR,l.suppressAlmostThere=!0;else if(o.message)l.message=o.message;else{const d=De(a.replace(/[xX]/g,"*"),t);if(d.parsed){const v=st(d.expr,u,t);v.equal?(l.ungraded=!0,l.message=n.MULTIPLICATION_SIGN_ERROR):v.message&&(l.message=v.message+" Also, I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign.")}}return l}}}},pt=/^web\+graphie:/,dt=/^file\+graphie:/;function Ke(u){return vt(u)?gt(u):u}function vt(u){return pt.test(u)||dt.test(u)}function Ye(u){return u.replace(pt,"https:").replace(dt,"file:")}function gt(u){return Ye(u)+".svg"}function Lt(u){return Ye(u)+"-data.json"}async function zt(u){const t=new Image;return new Promise((n,a)=>{t.onload=()=>{n([t.naturalWidth,t.naturalHeight])},t.onerror=a,t.src=Ke(u)})}let ct=!1;const mt=function(u,t,n){return Array.isArray(u)?re.map(u,function(a){return mt(a,t)}):t.call(n,u)};function Ut(u,t){return u==null||t==null?u==null==(t==null):u.length===t.length&&u.every((n,a)=>t[a]===n)}const yt=/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,Bt=/^([a-z-]+) ([0-9]+)$/,Ht=new RegExp(yt.source+"$"),Wt="☃",Xe=function(u){let t=u;return function(){let n=t;return n=n+2127912214+(n<<12)&4294967295,n=(n^3345072700^n>>>19)&4294967295,n=n+374761393+(n<<5)&4294967295,n=(n+3550635116^n<<9)&4294967295,n=n+4251993797+(n<<3)&4294967295,n=(n^3042594569^n>>>16)&4294967295,(t=n&268435455)/268435456}};function $t(u,t,n=!1){const a=re.clone(u);if(!a.length||re.all(a,function(f){return re.isEqual(f,a[0])}))return a;let l;typeof t=="function"?l=t:l=Xe(t);do for(let f=a.length;f>0;f--){const o=Math.floor(l()*f),d=a[o];a[o]=a[f-1],a[f-1]=d}while(n&&re.isEqual(u,a));return a}const Kt="x".split(/(.)/g).length?function(u,t){return u.split(t)}:function(u,t){const n=[];let a=t.lastIndex=0,l;for(;l=t.exec(u);){const f=l;n.push(u.slice(a,f.index)),n.push(...f.slice(1)),a=f.index+f[0].length}return n.push(u.slice(a)),n};function Yt(u,t){let n;return Oe.predicate.createValidatorFunctional(function(l){return n=l,!0},{simplify:"optional",inexact:!0,forms:"integer, proper, improper, pi, log, mixed, decimal"},t)(u),n}function Xt(u){return re(u).times(function(){return""})}function Jt(u,t,n,a){const l=Je(t,n),o=u*l>30;return{scale:l,tickStep:u/a,unityLabel:o}}function Zt(u,t,n){return re(2).times(function(a){const l=Je(u[a],n);return wt(t[a],l)})}function Qt(u){return[u[0]/2,u[1]/2]}function wt(u,t){const n=u*t,a=u,l=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),f=Math.floor(a/l);if(n<25)return u;if(n<50)return f===5?u:u/2;if(f===1)return u/2;if(f===2)return u/4;if(f===5)return u/5}function Je(u,t){const n=u[1]-u[0];return t/n}function jt(u,t){const n=u[1]-u[0];let a;15<n&&n<=20?a=23:n>100||n<5?a=10:a=16;const l=t/500,f=a*l;return Ze(n,f)}function Ze(u,t){let n=Math.pow(10,Math.floor(Math.log(u/t)/Math.LN10));const a=t/u*n;return a<=.15?n*=10:a<=.35?n*=5:a<=.75&&(n*=2),n}const lt=(u,t)=>{const n=t[1]-t[0],a=n/u;return a<=10?u:a<=20?u*2:Ze(n,10)};function en(u,t){return[lt(u[0],t[0]),lt(u[1],t[1])]}function $e(u,t){return typeof u=="number"&&typeof t=="number"?Math.abs(u-t)<1e-9:u===t}function Ce(u,t){if(Array.isArray(u)&&Array.isArray(t)){if(u.length!==t.length)return!1;for(let n=0;n<u.length;n++)if(!Ce(u[n],t[n]))return!1;return!0}return Array.isArray(u)||Array.isArray(t)?!1:typeof u=="function"&&typeof t=="function"?$e(u,t):typeof u=="function"||typeof t=="function"?!1:typeof u=="object"&&typeof t=="object"&&u&&t?u===t||re.all(u,function(n,a){return Ce(t[a],n)})&&re.all(t,function(n,a){return Ce(u[a],n)}):typeof u=="object"&&u||typeof t=="object"&&t?!1:$e(u,t)}function tn(u){u=u||window.location.search.substring(1);const t={},n=/\+/g,a=/([^&=]+)=?([^&]*)/g,l=function(o){return decodeURIComponent(o.replace(n," "))};let f;for(;f=a.exec(u);){const o=f;t[l(o[1])]=l(o[2])}return t}function nn(u,t,n){n=encodeURIComponent(n);const a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),l=u.indexOf("?")!==-1?"&":"?";return u.match(a)?u.replace(a,"$1"+t+"="+n+"$2"):u+l+t+"="+n}function rn(u){return encodeURIComponent(u).replace(/['()!]/g,window.escape).replace(/\*/g,"%2A")}const xe={pointerDown:!1,currentTouchIdentifier:null};function sn(){Object.assign(xe,{pointerDown:!1,currentTouchIdentifier:null})}function an(u){let t;if(xe.pointerDown){if(xe.currentTouchIdentifier!=null){const a=u.changedTouches?u.changedTouches.length:0;for(let l=0;l<a;l++)u.changedTouches[l].identifier===xe.currentTouchIdentifier&&(t=u.changedTouches[l])}else t=u;const n=u.type==="touchend"||u.type==="touchcancel";t&&n&&(xe.pointerDown=!1,xe.currentTouchIdentifier=null)}else xe.pointerDown=!0,u.changedTouches?(t=u.changedTouches[0],xe.currentTouchIdentifier=t.identifier):t=u;if(t)return{left:t.pageX,top:t.pageY}}const un=()=>{try{const u=Object.defineProperty({},"passive",{get:function(){ct=!0}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch{}return ct};function cn(u){u.stopPropagation()}function ln(u,t){const n=new Image;n.onload=function(){var a;n.width===0&&n.height===0?((a=document.body)==null||a.appendChild(n),re.defer(function(){var l;t(n.clientWidth,n.clientHeight),(l=document.body)==null||l.removeChild(n)})):t(n.width,n.height)},n.src=Ke(u)}function on(u){const t=u.value,n=u.selectionStart-1,a=Math.max(t.lastIndexOf(`
`,n),t.lastIndexOf(" ",n))+1;return{string:t.substring(a,n+1),pos:{start:a,end:n}}}function fn(u,t){u.selectionStart=t,u.selectionEnd=t}const hn={getWordBeforeCursor:on,moveCursor:fn},pn=u=>u.startsWith("$")&&u.endsWith("$")?u.slice(1,-1):u,dn=Xe(new Date().getTime()&4294967295);function xt(u){return Array.isArray(u)?u.map(xt):u}const An={inputPathsEqual:Ut,nestedMap:mt,rWidgetRule:yt,rTypeFromWidgetId:Bt,rWidgetParts:Ht,snowman:Wt,seededRNG:Xe,shuffle:$t,split:Kt,firstNumericalParse:Yt,stringArrayOfSize:Xt,gridDimensionConfig:Jt,getGridStep:Zt,snapStepFromGridStep:Qt,scaleFromExtent:Je,tickStepFromExtent:jt,gridStepFromTickStep:wt,tickStepFromNumTicks:Ze,constrainedTickStepsFromTickSteps:en,eq:$e,deepEq:Ce,parseQueryString:tn,updateQueryString:nn,strongEncodeURIComponent:rn,touchHandlers:xe,resetTouchHandlers:sn,extractPointerLocation:an,supportsPassiveEvents:un,captureScratchpadTouchStart:cn,getImageSize:ln,getImageSizeModern:zt,getRealImageUrl:Ke,isLabeledSVG:vt,getBaseUrl:Ye,getSvgUrl:gt,getDataUrl:Lt,textarea:hn,unescapeMathMode:pn,random:dn,deepClone:xt};export{Dt as D,ae as K,An as U,wn as a,In as b,kn as c,Oe as d,qe as e,Mn as f,xn as g,Vt as i,De as p,En as r,bn as s,ut as t};
