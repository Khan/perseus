var Ki=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var Fe=(n,t,e)=>(Ki(n,t,"read from private field"),e?e.call(n):t.get(n)),Nn=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},Bn=(n,t,e,o)=>(Ki(n,t,"write to private field"),o?o.call(n,e):t.set(n,e),e);import{j as Lt}from"./jsx-runtime-63Ea5SlK.js";import"./version-akiLXZts.js";import{P as te,E as Vt}from"./perseus-error-l3K_anoI.js";import{_ as w}from"./index-default-4_ZsnO94.js";import{r as Ct}from"./index-6oxdNXpR.js";import{l as Ce}from"./index-awljIyHI.js";import{_ as ri,a as le}from"./extends-wRoo2ExD.js";import{c as wo}from"./index-dnMhQZ-1.js";import{$ as E}from"./jquery-5v7aFUvu.js";import{g as he}from"./dependencies-CP7Uh8Kq.js";import{a as xo,e as Ts,b as Mo,f as So,c as To,U as Et,K as jt,r as ko,s as _o}from"./util-2syipbj1.js";import{F as Ji}from"./fixed-to-responsive-for_tVF1.js";import"./error-codes-gX8KeF4H.js";import{e as Co}from"./index-J2t_5nK1.js";import{c as Oe}from"./index-Dfd6auV6.js";import{R as Ao}from"./index-rdglk-I4.js";import{c as Po}from"./client-Rb4DelHy.js";import{I as Eo}from"./inline-icon-6fh0Wu1y.js";import{i as Io}from"./icon-paths-5JCXzGsq.js";import{I as ln}from"./image-loader-cBoFrbCq.js";const ai=function(n,t){return w.object(w.map(n,function(e,o){return[o,e[t]]}))},Va=function(n,t){const e={};return Object.keys(n).forEach(o=>{e[o]=t(n[o],o)}),e};function ks(n){return n.reduce((t,e)=>t+e,0)}function Ro(n){return n.reduce((t,e)=>t*e,1)}function qe(...n){const t=Math.min(...n.map(o=>o.length)),e=[];for(let o=0;o<t;o++)e.push(n.map(a=>a[o]));return e}function Ha(n,t){return[t(n[0],0),t(n[1],1)]}function Lo(n,t){return!Array.isArray(n)||t!==void 0&&n.length!==t?!1:n.every(xo)}function qn(n){return Dt(n,1/li(n))}function li(n){return Math.sqrt(Xn(n,n))}function Xn(n,t){const o=qe(n,t).map(Ro);return ks(o)}function ct(...n){return qe(...n).map(ks)}function ut(n,t){return qe(n,t).map(e=>e[0]-e[1])}function Do(n){return n.map(t=>-t)}function Dt(n,t){return n.map(e=>e*t)}function No(n,t,e){return n.length===t.length&&qe(n,t).every(o=>Ts(o[0],o[1],e))}function Bo(n){const t=li(n);let e=Math.atan2(n[1],n[0]);return e<0&&(e+=2*Math.PI),[t,e]}function Wt(n){const t=Bo(n);return[t[0],t[1]*180/Math.PI]}function Fo(n,t=0){return[n*Math.cos(t),n*Math.sin(t)]}function Me(n,t=0){return Fo(n,t*Math.PI/180)}function cn(n,t){const e=Wt(n),o=e[1]+t;return Me(e[0],o)}function Oo(n,t){const e=Xn(n,t)/Xn(t,t);return Dt(t,e)}function Go(n,t){return n.map((e,o)=>Mo(e,t[o]||t))}function zo(n,t){return n.map((e,o)=>So(e,t[o]||t))}function Vo(n,t){return n.map((e,o)=>To(e,t[o]||t))}function _s(n,t){return li(ut(n,t))}function Ya(n,t){const e=ut(t[1],t[0]),o=ut(n,t[0]),a=Oo(o,e),c=ut(Dt(a,2),o);return ct(t[0],c)}const se=Lo,Qi=ct,xe=ct,ci=No,hi=Go,ui=zo,di=Vo;function ts(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}const Ye={log:(n,t)=>{he().Log.log(n,t)},error:(n,t,e)=>{he().Log.error(n,t,e)}};function Cs(n){const t=[];if(n)if(Array.isArray(n))for(const e of n)t.push(...Cs(e));else t.push(n);else return t;return t}function As(n){const t=[],e=[];if(!n)return{style:{},className:""};const o=typeof global<"u"&&global.SNAPSHOT_INLINE_APHRODITE;Cs(n).forEach(c=>{const u=c._definition;if(u!=null)if(o){const m={};for(const[y,b]of Object.entries(u))m[y.replace(/-[a-z]/g,M=>M[1].toUpperCase())]=b;e.push(m)}else t.push(c);else e.push(c)});const a=Object.assign({},...e);if(e.length>0&&!o){const c=Ce.StyleSheet.create({inlineStyles:a});t.push(c.inlineStyles)}return{style:o?a:{},className:Ce.css(...t)}}const Ho=["children","style","tag","testId"],Yo=/^h[1-6]$/,es=Ce.StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}});Ct.forwardRef(function(t,e){let{children:o,style:a,tag:c="span",testId:u}=t,m=ri(t,Ho);const y=Yo.test(c),b=As([es.text,y&&es.header,a]),M=m.className?[m.className,b.className].join(" "):b.className;return Ct.createElement(c,le({},m,{style:b.style,className:M,"data-testid":u,ref:e}),o)});const qo=["className","style"];function Ee(n,t){return Ct.forwardRef((e,o)=>{const a=e,{className:c,style:u}=a,m=ri(a,qo),y=typeof n=="string"?Xo[n]:null,{className:b,style:M}=As([y,t,u]);return Ct.createElement(n,le({},m,{ref:o,className:[b,c].filter(Boolean).join(" "),style:M}))})}const Xo=Ce.StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),Uo=["testId","tag"],Xe=Ce.StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),$o=Ee("div",Xe.default),Wo=Ee("article",Xe.default),Zo=Ee("aside",Xe.default),jo=Ee("nav",Xe.default),Ko=Ee("section",Xe.default),Jo=Ct.forwardRef(function(t,e){const{testId:o,tag:a="div"}=t,c=ri(t,Uo),u=le({},c,{"data-testid":o});switch(a){case"article":return Ct.createElement(Wo,le({},u,{ref:e}));case"aside":return Ct.createElement(Zo,le({},u,{ref:e}));case"nav":return Ct.createElement(jo,le({},u,{ref:e}));case"section":return Ct.createElement(Ko,le({},u,{ref:e}));case"div":return Ct.createElement($o,le({},u,{ref:e}));default:throw Error(`${a} is not an allowed value for the 'tag' prop`)}});(function(n){return n.Initial="initial",n.Standard="standard",n})({});let Qo=function(n){return n.Root="root",n.Initial="initial",n.Standard="standard",n}({});const tr=Ct.createContext(Qo.Root);tr.displayName="RenderStateContext";function bn(){return bn=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},bn.apply(this,arguments)}const er=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,nr=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,ir=/^rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)$/i,Un=n=>{if(typeof n!="string")throw new Error(`Failed to parse color: ${n}`);const t=n.match(nr);if(t)return{r:parseInt(`${t[1]}${t[1]}`,16),g:parseInt(`${t[2]}${t[2]}`,16),b:parseInt(`${t[3]}${t[3]}`,16),a:1};const e=n.match(er);if(e)return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1};const o=n.match(ir);if(o)return{r:parseFloat(o[1]),g:parseFloat(o[2]),b:parseFloat(o[3]),a:o[4]?parseFloat(o[4]):1};throw new Error(`Failed to parse color: ${n}`)},Ps=n=>{const t=Math.round(n.r),e=Math.round(n.g),o=Math.round(n.b);if(n.a===1){const a=c=>{const u=c.toString(16);return u.length===1?`0${u}`:u};return`#${a(t)}${a(e)}${a(o)}`}else return`rgba(${t},${e},${o},${n.a.toFixed(2)})`},ie=(n,t)=>{if(t<0||t>1)throw new Error("Percentage must be between 0 and 1");const e=Un(n);return Ps(bn({},e,{a:e.a*t}))},$n=(n,t)=>{const e=Un(n),o=Un(t);return Ps({r:e.r*e.a+o.r*(1-e.a),g:e.g*e.a+o.g*(1-e.a),b:e.b*e.a+o.b*(1-e.a),a:o.a})},Zt="#21242c",hn="#ffffff",ns="#5f1e5c",Tt={blue:"#1865f2",purple:"#9059ff",green:"#00a60e",gold:"#ffb100",red:"#d92916",offBlack:Zt,offBlack64:ie(Zt,.64),offBlack50:ie(Zt,.5),offBlack32:ie(Zt,.32),offBlack16:ie(Zt,.16),offBlack8:ie(Zt,.08),offWhite:"#f7f8fa",white:hn,white64:ie(hn,.64),white50:ie(hn,.5),white32:ie(hn,.32),darkBlue:"#0b2149",teal:"#14bf96"},St=(n,t)=>$n(ie(n,t),Tt.white),ht=bn({},Tt,{activeBlue:$n(Tt.offBlack32,Tt.blue),fadedBlue:St(Tt.blue,.32),fadedBlue24:St(Tt.blue,.24),fadedBlue16:St(Tt.blue,.16),fadedBlue8:St(Tt.blue,.08),activeRed:$n(Tt.offBlack32,Tt.red),fadedRed:St(Tt.red,.32),fadedRed24:St(Tt.red,.24),fadedRed16:St(Tt.red,.16),fadedRed8:St(Tt.red,.08),fadedGreen24:St(Tt.green,.24),fadedGreen16:St(Tt.green,.16),fadedGreen8:St(Tt.green,.08),fadedGold24:St(Tt.gold,.24),fadedGold16:St(Tt.gold,.16),fadedGold8:St(Tt.gold,.08),fadedPurple24:St(Tt.purple,.24),fadedPurple16:St(Tt.purple,.16),fadedPurple8:St(Tt.purple,.08),eggplant:ns,fadedEggplant8:St(ns,.08),fadedOffBlack64:St(Zt,.64),fadedOffBlack50:St(Zt,.5),fadedOffBlack32:St(Zt,.32),fadedOffBlack16:St(Zt,.16),fadedOffBlack8:St(Zt,.08)});ht.blue,ht.activeBlue,ht.red,ht.activeRed,ht.fadedOffBlack32,ht.offWhite,ht.fadedRed8,ht.red,ht.fadedGold8,ht.gold,ht.fadedGreen8,ht.green,ht.fadedBlue8,ht.blue,ht.fadedOffBlack8,ht.offBlack,ht.white,ht.offWhite,ht.blue,ht.darkBlue,ht.offBlack64,ht.offBlack,ht.fadedOffBlack64,ht.fadedOffBlack32,ht.white,ht.fadedOffBlack16,ht.fadedOffBlack8,ht.fadedOffBlack50,ht.white,ht.fadedOffBlack64,ht.offBlack,ht.white,ht.blue,ht.red,ht.eggplant,ht.fadedEggplant8,ht.purple;const sr={xsmall:16,small:24,medium:48,large:96},or={xsmall:"M7.237.741C7.165.393 6.95.154 6.656.053A1.01 1.01 0 0 0 6.18.01c-.053.009-.053.009-.087.017C2.553.949 0 4.214 0 7.91 0 12.36 3.598 16 8 16c4.4 0 8-3.647 8-8.112a1.02 1.02 0 0 0-.118-.423.877.877 0 0 0-.808-.48.909.909 0 0 0-.81.46c-.09.151-.13.296-.146.455-.08 3.493-2.737 6.207-6.118 6.207-3.41 0-6.118-2.74-6.118-6.196 0-2.843 1.936-5.291 4.644-6.022.1-.028.224-.082.352-.177a.928.928 0 0 0 .36-.97z",small:"M10.598.943c-.093-.449-.362-.748-.732-.875a1.314 1.314 0 0 0-.723-.033C3.83 1.417 0 6.317 0 11.864 0 18.538 5.398 24 12 24c6.598 0 12-5.471 12-12.16a1.333 1.333 0 0 0-.154-.548c-.193-.368-.544-.606-1.023-.606-.472 0-.825.229-1.035.585-.117.2-.169.39-.189.582-.124 5.472-4.294 9.73-9.599 9.73-5.349 0-9.599-4.3-9.599-9.72 0-4.46 3.036-8.299 7.28-9.444.127-.036.291-.107.458-.232.373-.28.57-.711.46-1.244z",medium:"M44.19 23.455a1.91 1.91 0 1 1 3.801 0h.003c.004.18.006.363.006.545 0 13.255-10.745 24-24 24S0 37.255 0 24 10.745 0 24 0c.182 0 .364.002.545.006V.01a1.91 1.91 0 1 1 0 3.801v.015A20.564 20.564 0 0 0 24 3.818C12.854 3.818 3.818 12.854 3.818 24c0 11.146 9.036 20.182 20.182 20.182 11.146 0 20.182-9.036 20.182-20.182 0-.182-.003-.364-.007-.545h.015z",large:"M88.38 46.91a3.818 3.818 0 1 1 7.602 0h.006c.008.362.012.725.012 1.09 0 26.51-21.49 48-48 48S0 74.51 0 48 21.49 0 48 0c.365 0 .728.004 1.09.012v.005a3.818 3.818 0 1 1 0 7.602v.032c-.362-.01-.725-.015-1.09-.015C25.708 7.636 7.636 25.708 7.636 48c0 22.292 18.072 40.364 40.364 40.364 22.292 0 40.364-18.072 40.364-40.364 0-.365-.005-.728-.015-1.09h.032z"},is={light:ht.white,dark:ht.offBlack50},rr=Ee("path");class Es extends Ct.Component{render(){const{size:t,light:e,style:o,testId:a}=this.props,c=sr[t],u=or[t],m=e?is.light:is.dark,y=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:`0 0 ${c} ${c}`,"data-testid":a},Ct.createElement(rr,{style:[ss.loadingSpinner,{fill:m}],fillRule:"nonzero",d:u}));return Ct.createElement(Jo,{style:[ss.spinnerContainer,o]},y)}}Es.defaultProps={size:"large",light:!1};const ar={"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}},ss=Ce.StyleSheet.create({spinnerContainer:{justifyContent:"center"},loadingSpinner:{transformOrigin:"50% 50%",animationName:ar,animationDuration:"1.1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),lr=/^file\+graphie:/,cr=/\/([^/]+)$/;function Is(){const{JIPT:n,kaLocale:t}=he();return n.useJIPT?"en-pt":t}function os(){return Is()!=="en"}const hr=/\/(?=[^/]+$)/;function ur(n){if(lr.test(n))return Et.getDataUrl(n);const[t,e]=Et.getBaseUrl(n).split(hr);return`${t}/${Is()}/${e}-data.json`}function dr(n){const t=n.match(cr);if(t==null)throw new te("not a valid URL",Vt.InvalidInput);return t&&t[1]}function fr(n,t,e){const o=t.match(new RegExp(`^(?:svgData|svgOtherData)${n}\\((.+)\\);$`)),a=o?o[1]:t;try{return JSON.parse(a)}catch(c){return e(c),null}}const un={};function pr(n,t){const e=dr(n),o=un[e];if(o!=null)if(o.loaded){const{data:a,localized:c}=o;t(a,c)}else o.dataCallbacks.push(t);else{const a={loaded:!1,dataCallbacks:[t],localized:os()};un[e]=a;const c=async(m,y)=>{const b=await fetch(m);if(!(b!=null&&b.ok)){y();return}const M=await b.text(),x=fr(e,M,P=>{Ye.error("Failed to parse JSONP for svg-image",Vt.Service,{cause:P,loggedMetadata:{dataUrl:Et.getDataUrl(m),jsonp:M}})});if(!x)return;const S=un[e]={...un[e],loaded:!0,data:x};S.dataCallbacks.forEach(P=>{P(S.data,a.localized)})},u=(m,y,b)=>{Ye.error("Data load failed for svg-image",Vt.Service,{cause:b,loggedMetadata:{dataUrl:Et.getDataUrl(n),status:y}})};os()?(a.localized=!1,c(ur(n),()=>c(Et.getDataUrl(n),u))):c(Et.getDataUrl(n),u)}}function mr(){const n=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(const e in t)if(n.style[e]!==void 0)return{end:t[e]};return!1}E.fn.emulateTransitionEnd=function(n){let t=!1;const e=this;return E(this).one("bsTransitionEnd",function(){t=!0}),setTimeout(function(){t||E(e).trigger(E.support.transition.end)},n),this};E(function(){E.support.transition=mr(),E.support.transition&&(E.event.special.bsTransitionEnd={bindType:E.support.transition.end,delegateType:E.support.transition.end,handle:function(n){if(E(n.target).is(this))return n.handleObj.handler.apply(this,arguments)}})});function Rs(n,t){const e=window.scrollX,o=window.scrollY,a=document.querySelector("meta[name=viewport]");a?a.setAttribute("content",n):E("head").append(`<meta name="viewport" content="${n}">`),document.body.style.opacity=.9999,setTimeout(()=>{document.body.style.opacity=1,window.scrollTo(e,o),t!=null&&setTimeout(t,0)},0)}function Kt(){}Kt.prototype._initialize=function(n){this._$document||(this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=E(document),this._$window=E(window),this._$body=E(document.body),this._boundClick=E.proxy(this._clickHandler,this),this._enableMobilePinch=n)};Kt.prototype.handleZoomClick=function(n,t){this._initialize(t);const e=n.target;if(!(!e||e.tagName!=="IMG")&&!this._$body.hasClass("zoom-overlay-open")){if(n.metaKey||n.ctrlKey)return window.open(n.target.src,"_blank");!t&&e.width>=window.innerWidth-Nt.getOffset()||(this._activeZoomClose(!0),t?Rs("width=device-width, initial-scale=1, minimum-scale=1",()=>this._zoom(e)):this._zoom(e),t||(this._$window.on("scroll.zoom",E.proxy(this._scrollHandler,this)),this._$document.on("keyup.zoom",E.proxy(this._keyHandler,this)),this._$document.on("touchstart.zoom",E.proxy(this._touchStart,this))),document.addEventListener("click",this._boundClick,!0),n.stopPropagation())}};Kt.prototype._zoom=function(n){this._activeZoom=new Nt(n,this._enableMobilePinch),this._activeZoom.zoomImage()};Kt.prototype._activeZoomClose=function(n){this._activeZoom&&(n?(this._activeZoom.dispose(),this._disposeActiveZoom()):Rs(`width=device-width, initial-scale=1, minimum-scale=1,
            maximum-scale=1`,()=>{this._activeZoom&&(this._activeZoom.close(),this._disposeActiveZoom())}))};Kt.prototype._disposeActiveZoom=function(){this._$window.off(".zoom"),this._$document.off(".zoom"),document.removeEventListener("click",this._boundClick,!0),this._activeZoom=null};Kt.prototype._scrollHandler=function(n){this._initialScrollPosition===null&&(this._initialScrollPosition=window.scrollY);const t=this._initialScrollPosition-window.scrollY;Math.abs(t)>=40&&this._activeZoomClose()};Kt.prototype._keyHandler=function(n){[27,13,32].includes(n.keyCode)&&this._activeZoomClose()};Kt.prototype._clickHandler=function(n){n.stopPropagation(),n.preventDefault(),this._activeZoomClose()};Kt.prototype._touchStart=function(n){this._initialTouchPosition=n.originalEvent.touches[0].pageY,E(n.target).on("touchmove.zoom",E.proxy(this._touchMove,this))};Kt.prototype._touchMove=function(n){Math.abs(n.originalEvent.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),E(n.target).off("touchmove.zoom"))};function Nt(n,t){this._fullHeight=this._fullWidth=this._overlay=null,this._targetImage=n,this._enableMobilePinch=t,this._$body=E(document.body)}Nt._OFFSET=80;Nt._MAX_WIDTH=2560;Nt._MAX_HEIGHT=4096;Nt.getOffset=function(n){return n?0:Nt._OFFSET};Nt.prototype.getOffset=function(){return Nt.getOffset(this._enableMobilePinch)};Nt.prototype.zoomImage=function(){const n=document.createElement("img"),t=E(n);n.onload=(function(){this._fullHeight=Number(n.height),this._fullWidth=Number(n.width);const e=this._imageOffset=E(this._targetImage).offset(),o=this._left=e.left-E(window).scrollLeft(),a=this._top=e.top-E(window).scrollTop();t.css({left:o,top:a,width:this._targetImage.width,height:this._targetImage.height}),this._zoomOriginal()}).bind(this),n.src=this._targetImage.src,n.alt=this._targetImage.alt,n.tabIndex=0,this.$zoomedImage=t};Nt.prototype._zoomOriginal=function(){var n,t,e;this.$zoomedImage.addClass("zoom-img").attr("data-action","zoom-out"),E(this._targetImage).css("visibility","hidden"),this._backdrop=document.createElement("div"),this._backdrop.className="zoom-backdrop",(n=document.body)==null||n.appendChild(this._backdrop),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",(t=document.body)==null||t.appendChild(this._overlay),(e=this._overlay)==null||e.appendChild(this.$zoomedImage[0]),this._calculateZoom(),this._triggerAnimation()};Nt.prototype._calculateZoom=function(){const n=this._fullWidth,t=this._fullHeight,e=window.innerHeight-this.getOffset(),o=window.innerWidth-this.getOffset(),a=n/this._targetImage.width,c=n/t,u=o/e;n<o&&t<e?this._imgScaleFactor=a:c<u?this._imgScaleFactor=e/t*a:this._imgScaleFactor=o/(n??0)*a};Nt.prototype._triggerAnimation=function(){const n=E(window).scrollTop()+window.innerHeight/2,t=E(window).scrollLeft()+window.innerWidth/2,e=this._imgScaleFactor,o=this._imageOffset.top+this._targetImage.height/2,a=this._imageOffset.left+this._targetImage.width/2;this._translateY=(n-o)/e,this._translateX=(t-a)/e,this._zoomedInTransformString=`
        scale(${e})
        translate3d(${this._translateX}px, ${this._translateY}px, 0)
    `,this.$zoomedImage.css({transform:this._zoomedInTransformString}).addClass("zoom-transition").one(E.support.transition.end,E.proxy(this._onZoomInFinish,this)).emulateTransitionEnd(300),this._$body.addClass("zoom-overlay-open")};Nt.prototype._onZoomInFinish=function(){const n=this._targetImage.height*this._imgScaleFactor,t=this._targetImage.width*this._imgScaleFactor;let e=0,o=0,a=0,c=0,u=0,m=0;t<window.innerWidth?(e="50%",a=-t/2):u=(t-window.innerWidth)/2,n<window.innerHeight?(o="50%",c=-n/2):m=(n-window.innerHeight)/2,this.$zoomedImage.css({height:n,left:e,marginLeft:a,marginTop:c,top:o,transform:"",width:t}).removeClass("zoom-transition"),E(this._overlay).scrollLeft(u).scrollTop(m)};Nt.prototype.close=function(){this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning"),this.$zoomedImage.css({height:this._targetImage.height,left:this._left,marginLeft:0,marginTop:0,top:this._top,transform:this._zoomedInTransformString,width:this._targetImage.width}).removeClass("zoom-transition"),E(this._overlay).scrollLeft(0).scrollTop(0),setTimeout(()=>{this.$zoomedImage.css({transform:"scale(1)"}).addClass("zoom-transition").one(E.support.transition.end,E.proxy(this.dispose,this)).emulateTransitionEnd(300)},10)};Nt.prototype.dispose=function(){this.$zoomedImage&&this.$zoomedImage[0].parentNode&&(this.$zoomedImage.remove(),this.$zoomedImage=null,this._overlay.parentNode.removeChild(this._overlay),this._backdrop.parentNode.removeChild(this._backdrop),this._$body.removeClass("zoom-overlay-transitioning")),E(this._targetImage).css("visibility","visible"),this._targetImage.focus()};const gr=new Kt;function rs(n,t){return n+":"+t}function vr(n){return n.split(":")[0]}const Ls={_fireEvent:function(n,...t){for(const e of n)e.call(this,...t)},_applyConstraints:function(n,t,e){let o=!1;return w.reduce(this.state.constraints,(a,c)=>{if(a===!1)return!1;if(o)return a;const u=c.call(this,a,t,{onSkipRemaining:()=>{o=!0},...e});if(u===!1)return!1;if(se(u,2))return u;if(u===!0||u==null)return a;throw new te("Constraint returned invalid result: "+u,Vt.Internal)},n,this)},draw:function(){const n=this.cloneState();Ls._fireEvent.call(this,this.state.draw,n,this.prevState),this.prevState=n},listen:function(n,t,e){this._listenerMap=this._listenerMap||{};const o=rs(n,t),a=this._listenerMap[o]=this._listenerMap[o]||this.state[n].length;this.state[n][a]=e},unlisten:function(n,t){this._listenerMap=this._listenerMap||{};const e=rs(n,t),o=this._listenerMap[e];if(o!==void 0){this.state[n].splice(o,1),delete this._listenerMap[e];const a=w.keys(this._listenerMap);w.each(a,function(c){vr(c)===n&&this._listenerMap[c]>o&&this._listenerMap[c]--},this)}}};let Fn=null;function br(){const n=document.createElement("div"),t=["transform","msTransform","MozTransform","WebkitTransform","OTransform"];let e=null;return w.each(t,function(o){typeof n.style[o]<"u"&&(e=o)}),e}let On=null;function yr(){const n=document.createElement("div"),t=At.getPrefixedTransform();return n.style[t]="translateZ(0px)",!!n.style[t]}const wr=["add","modify","draw","remove","constraints","onMoveStart","onMove","onMoveEnd","onClick"],At={assert:function(n,t){if(!n)throw new te("Assertion Error"+(t?": "+t:""),Vt.Internal)},createGettersFor:function(n,t){w.each(w.keys(t),function(e){n.prototype[e]===void 0&&(n.prototype[e]=function(){return this.state[e]})})},addMovableHelperMethodsTo:function(n){w.each(Ls,function(t,e){n.prototype[e]===void 0&&(n.prototype[e]=t)})},arrayify:function(n){return n==null?[]:w.isArray(n)?w.filter(w.flatten(n),w.identity):[n]},normalizeOptions:function(n){const t={...n};return wr.forEach(function(e){n[e]!==void 0&&(t[e]=At.arrayify(n[e]))}),t},getPrefixedTransform:function(){return Fn=Fn||br(),Fn},getCanUse3dTransform:function(){return On==null&&(On=yr()),On}};/*!
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 */const ne=function(){var n;"".trim?n=function(s,i,r){s.setAttribute(i,String(r).trim())}:n=function(s,i,r){s.setAttribute(i,String(r))};function t(){if(t.is(arguments[0],mt)){for(var s=arguments[0],i=Cn[P](t,s.splice(0,3+t.is(s[0],rt))),r=i.set(),l=0,h=s[R];l<h;l++){var f=s[l]||{};o[u](f.type)&&r[j](i[f.type]().attr(f))}return r}return Cn[P](t,arguments)}t.version="1.5.2";var e=/[, ]+/,o={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},a=/\{(\d+)\}/g,c="prototype",u="hasOwnProperty",m=document,y=window,b={was:Object[c][u].call(y,"Raphael"),is:y.Raphael},M=function(){this.customAttributes={}},x,S="appendChild",P="apply",C="concat",I="createTouch"in m,_="",O=" ",F=String,G="split",K="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[G](O),tt={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},J="join",R="length",ot=F[c].toLowerCase,q=Math,V=q.max,it=q.min,st=q.abs,Z=q.pow,lt=q.PI,rt="number",W="string",mt="array",Mt="toString",Bt="fill",pe=Object[c][Mt],j="push",Ie=/^url\(['"]?([^\)]+?)['"]?\)$/i,$e=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,Mn={NaN:1,Infinity:1,"-Infinity":1},me=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,z=q.round,Y=parseFloat,et=parseInt,pt=" progid:DXImageTransform.Microsoft",xt=F[c].toUpperCase,kt={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},It={along:"along",blur:rt,"clip-rect":"csv",cx:rt,cy:rt,fill:"colour","fill-opacity":rt,"font-size":rt,height:rt,opacity:rt,path:"path",r:rt,rotation:"csv",rx:rt,ry:rt,scale:"csv",stroke:"colour","stroke-opacity":rt,"stroke-width":rt,translation:"csv",width:rt,x:rt,y:rt},bt="replace",Re=/^(from|to|\d+%?)$/,ue=/\s*,\s*/,ge={hs:1,rg:1},We=/,?([achlmqrstvxz]),?/gi,Js=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,Qs=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,bi=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,to=function(s,i){return s.key-i.key};if(t.type=y.SVGAngle||m.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",t.type=="VML"){var Sn=m.createElement("div"),Ze;if(Sn.innerHTML='<v:shape adj="1"/>',Ze=Sn.firstChild,Ze.style.behavior="url(#default#VML)",!(Ze&&typeof Ze.adj=="object"))return t.type=null;Sn=null}t.svg=!(t.vml=t.type=="VML"),M[c]=t[c],x=M[c],t._id=0,t._oid=0,t.fn={},t.is=function(s,i){return i=ot.call(i),i=="finite"?!Mn[u](+s):i=="null"&&s===null||i==typeof s||i=="object"&&s===Object(s)||i=="array"&&Array.isArray&&Array.isArray(s)||pe.call(s).slice(8,-1).toLowerCase()==i},t.angle=function(s,i,r,l,h,f){if(h==null){var p=s-r,d=i-l;return!p&&!d?0:((p<0)*180+q.atan(-d/-p)*180/lt+360)%360}else return t.angle(s,i,h,f)-t.angle(r,l,h,f)},t.rad=function(s){return s%360*lt/180},t.deg=function(s){return s*180/lt%360},t.snapTo=function(s,i,r){if(r=t.is(r,"finite")?r:10,t.is(s,mt)){for(var l=s.length;l--;)if(st(s[l]-i)<=r)return s[l]}else{s=+s;var h=i%s;if(h<r)return i-h;if(h>s-r)return i-h+s}return i};function je(){for(var s=[],i=0;i<32;i++)s[i]=(~~(q.random()*16))[Mt](16);return s[12]=4,s[16]=(s[16]&3|8)[Mt](16),"r-"+s[J]("")}t.setWindow=function(s){y=s,m=y.document};var Ke=function(s){if(t.vml){var i=/^\s+|\s+$/g,r;try{var l=new ActiveXObject("htmlfile");l.write("<body>"),l.close(),r=l.body}catch{r=createPopup().document.body}var h=r.createTextRange();Ke=Ut(function(p){try{r.style.color=F(p)[bt](i,_);var d=h.queryCommandValue("ForeColor");return d=(d&255)<<16|d&65280|(d&16711680)>>>16,"#"+("000000"+d[Mt](16)).slice(-6)}catch{return"none"}})}else{var f=m.createElement("i");f.title="Raphaël Colour Picker",f.style.display="none",m.body[S](f),Ke=Ut(function(p){return f.style.color=p,m.defaultView.getComputedStyle(f,_).getPropertyValue("color")})}return Ke(s)},yi=function(){return"hsb("+[this.h,this.s,this.b]+")"},eo=function(){return"hsl("+[this.h,this.s,this.l]+")"},no=function(){return this.hex};t.hsb2rgb=function(s,i,r,l){return t.is(s,"object")&&"h"in s&&"s"in s&&"b"in s&&(r=s.b,i=s.s,s=s.h,l=s.o),t.hsl2rgb(s,i,r/2,l)},t.hsl2rgb=function(s,i,r,l){t.is(s,"object")&&"h"in s&&"s"in s&&"l"in s&&(r=s.l,i=s.s,s=s.h),(s>1||i>1||r>1)&&(s/=360,i/=100,r/=100);var h={},f=["r","g","b"],p,d,g;if(!i)h={r,g:r,b:r};else{r<.5?p=r*(1+i):p=r+i-r*i,d=2*r-p;for(var v=0;v<3;v++)g=s+1/3*-(v-1),g<0&&g++,g>1&&g--,g*6<1?h[f[v]]=d+(p-d)*6*g:g*2<1?h[f[v]]=p:g*3<2?h[f[v]]=d+(p-d)*(2/3-g)*6:h[f[v]]=d}return h.r*=255,h.g*=255,h.b*=255,h.hex="#"+(16777216|h.b|h.g<<8|h.r<<16).toString(16).slice(1),t.is(l,"finite")&&(h.opacity=l),h.toString=no,h},t.rgb2hsb=function(s,i,r){if(i==null&&t.is(s,"object")&&"r"in s&&"g"in s&&"b"in s&&(r=s.b,i=s.g,s=s.r),i==null&&t.is(s,W)){var l=t.getRGB(s);s=l.r,i=l.g,r=l.b}(s>1||i>1||r>1)&&(s/=255,i/=255,r/=255);var h=V(s,i,r),f=it(s,i,r),p,d,g=h;if(f==h)return{h:0,s:0,b:h,toString:yi};var v=h-f;return d=v/h,s==h?p=(i-r)/v:i==h?p=2+(r-s)/v:p=4+(s-i)/v,p/=6,p<0&&p++,p>1&&p--,{h:p,s:d,b:g,toString:yi}},t.rgb2hsl=function(s,i,r){if(i==null&&t.is(s,"object")&&"r"in s&&"g"in s&&"b"in s&&(r=s.b,i=s.g,s=s.r),i==null&&t.is(s,W)){var l=t.getRGB(s);s=l.r,i=l.g,r=l.b}(s>1||i>1||r>1)&&(s/=255,i/=255,r/=255);var h=V(s,i,r),f=it(s,i,r),p,d,g=(h+f)/2,v;if(f==h)v={h:0,s:0,l:g};else{var T=h-f;d=g<.5?T/(h+f):T/(2-h-f),s==h?p=(i-r)/T:i==h?p=2+(r-s)/T:p=4+(s-i)/T,p/=6,p<0&&p++,p>1&&p--,v={h:p,s:d,l:g}}return v.toString=eo,v},t._path2string=function(){return this.join(",")[bt](We,"$1")};function Ut(s,i,r){function l(){var h=Array[c].slice.call(arguments,0),f=h[J]("►"),p=l.cache=l.cache||{},d=l.count=l.count||[];return p[u](f)||(d[R]>=1e3&&delete p[d.shift()],d[j](f),p[f]=s[P](i,h)),r?r(p[f]):p[f]}return l}t.getRGB=Ut(function(s){if(!s||(s=F(s)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(s=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(ge[u](s.toLowerCase().substring(0,2))||s.charAt()=="#")&&(s=Ke(s));var i,r,l,h,f,p,d=s.match($e);return d?(d[2]&&(l=et(d[2].substring(5),16),r=et(d[2].substring(3,5),16),i=et(d[2].substring(1,3),16)),d[3]&&(l=et((f=d[3].charAt(3))+f,16),r=et((f=d[3].charAt(2))+f,16),i=et((f=d[3].charAt(1))+f,16)),d[4]&&(p=d[4][G](ue),i=Y(p[0]),p[0].slice(-1)=="%"&&(i*=2.55),r=Y(p[1]),p[1].slice(-1)=="%"&&(r*=2.55),l=Y(p[2]),p[2].slice(-1)=="%"&&(l*=2.55),d[1].toLowerCase().slice(0,4)=="rgba"&&(h=Y(p[3])),p[3]&&p[3].slice(-1)=="%"&&(h/=100)),d[5]?(p=d[5][G](ue),i=Y(p[0]),p[0].slice(-1)=="%"&&(i*=2.55),r=Y(p[1]),p[1].slice(-1)=="%"&&(r*=2.55),l=Y(p[2]),p[2].slice(-1)=="%"&&(l*=2.55),(p[0].slice(-3)=="deg"||p[0].slice(-1)=="°")&&(i/=360),d[1].toLowerCase().slice(0,4)=="hsba"&&(h=Y(p[3])),p[3]&&p[3].slice(-1)=="%"&&(h/=100),t.hsb2rgb(i,r,l,h)):d[6]?(p=d[6][G](ue),i=Y(p[0]),p[0].slice(-1)=="%"&&(i*=2.55),r=Y(p[1]),p[1].slice(-1)=="%"&&(r*=2.55),l=Y(p[2]),p[2].slice(-1)=="%"&&(l*=2.55),(p[0].slice(-3)=="deg"||p[0].slice(-1)=="°")&&(i/=360),d[1].toLowerCase().slice(0,4)=="hsla"&&(h=Y(p[3])),p[3]&&p[3].slice(-1)=="%"&&(h/=100),t.hsl2rgb(i,r,l,h)):(d={r:i,g:r,b:l},d.hex="#"+(16777216|l|r<<8|i<<16).toString(16).slice(1),t.is(h,"finite")&&(d.opacity=h),d)):{r:-1,g:-1,b:-1,hex:"none",error:1}},t),t.getColor=function(s){var i=this.getColor.start=this.getColor.start||{h:0,s:1,b:s||.75},r=this.hsb2rgb(i.h,i.s,i.b);return i.h+=.075,i.h>1&&(i.h=0,i.s-=.2,i.s<=0&&(this.getColor.start={h:0,s:1,b:i.b})),r.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=Ut(function(s){if(!s)return null;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return t.is(s,mt)&&t.is(s[0],mt)&&(r=Qe(s)),r[R]||F(s)[bt](Js,function(l,h,f){var p=[],d=ot.call(h);for(f[bt](Qs,function(g,v){v&&p[j](+v)}),d=="m"&&p[R]>2&&(r[j]([h][C](p.splice(0,2))),d="l",h=h=="m"?"l":"L");p[R]>=i[d]&&(r[j]([h][C](p.splice(0,i[d]))),!!i[d]););}),r[Mt]=t._path2string,r}),t.findDotsAtSegment=function(s,i,r,l,h,f,p,d,g){var v=1-g,T=Z(v,3)*s+Z(v,2)*3*g*r+v*3*g*g*h+Z(g,3)*p,D=Z(v,3)*i+Z(v,2)*3*g*l+v*3*g*g*f+Z(g,3)*d,N=s+2*g*(r-s)+g*g*(h-2*r+s),B=i+2*g*(l-i)+g*g*(f-2*l+i),L=r+2*g*(h-r)+g*g*(p-2*h+r),A=l+2*g*(f-l)+g*g*(d-2*f+l),k=(1-g)*s+g*r,U=(1-g)*i+g*l,X=(1-g)*h+g*p,nt=(1-g)*f+g*d,$=90-q.atan((N-L)/(B-A))*180/lt;return(N>L||B<A)&&($+=180),{x:T,y:D,m:{x:N,y:B},n:{x:L,y:A},start:{x:k,y:U},end:{x:X,y:nt},alpha:$}};var Je=Ut(function(s){if(!s)return{x:0,y:0,width:0,height:0};s=nn(s);for(var i=0,r=0,l=[],h=[],f,p=0,d=s[R];p<d;p++)if(f=s[p],f[0]=="M")i=f[1],r=f[2],l[j](i),h[j](r);else{var g=io(i,r,f[1],f[2],f[3],f[4],f[5],f[6]);l=l[C](g.min.x,g.max.x),h=h[C](g.min.y,g.max.y),i=f[5],r=f[6]}var v=it[P](0,l),T=it[P](0,h);return{x:v,y:T,width:V[P](0,l)-v,height:V[P](0,h)-T}}),Qe=function(s){var i=[];(!t.is(s,mt)||!t.is(s&&s[0],mt))&&(s=t.parsePathString(s));for(var r=0,l=s[R];r<l;r++){i[r]=[];for(var h=0,f=s[r][R];h<f;h++)i[r][h]=s[r][h]}return i[Mt]=t._path2string,i},Tn=Ut(function(s){(!t.is(s,mt)||!t.is(s&&s[0],mt))&&(s=t.parsePathString(s));var i=[],r=0,l=0,h=0,f=0,p=0;s[0][0]=="M"&&(r=s[0][1],l=s[0][2],h=r,f=l,p++,i[j](["M",r,l]));for(var d=p,g=s[R];d<g;d++){var v=i[d]=[],T=s[d];if(T[0]!=ot.call(T[0]))switch(v[0]=ot.call(T[0]),v[0]){case"a":v[1]=T[1],v[2]=T[2],v[3]=T[3],v[4]=T[4],v[5]=T[5],v[6]=+(T[6]-r).toFixed(3),v[7]=+(T[7]-l).toFixed(3);break;case"v":v[1]=+(T[1]-l).toFixed(3);break;case"m":h=T[1],f=T[2];default:for(var D=1,N=T[R];D<N;D++)v[D]=+(T[D]-(D%2?r:l)).toFixed(3)}else{v=i[d]=[],T[0]=="m"&&(h=T[1]+r,f=T[2]+l);for(var B=0,L=T[R];B<L;B++)i[d][B]=T[B]}var A=i[d][R];switch(i[d][0]){case"z":r=h,l=f;break;case"h":r+=+i[d][A-1];break;case"v":l+=+i[d][A-1];break;default:r+=+i[d][A-2],l+=+i[d][A-1]}}return i[Mt]=t._path2string,i},0,Qe),Le=Ut(function(s){(!t.is(s,mt)||!t.is(s&&s[0],mt))&&(s=t.parsePathString(s));var i=[],r=0,l=0,h=0,f=0,p=0;s[0][0]=="M"&&(r=+s[0][1],l=+s[0][2],h=r,f=l,p++,i[0]=["M",r,l]);for(var d=p,g=s[R];d<g;d++){var v=i[d]=[],T=s[d];if(T[0]!=xt.call(T[0]))switch(v[0]=xt.call(T[0]),v[0]){case"A":v[1]=T[1],v[2]=T[2],v[3]=T[3],v[4]=T[4],v[5]=T[5],v[6]=+(T[6]+r),v[7]=+(T[7]+l);break;case"V":v[1]=+T[1]+l;break;case"H":v[1]=+T[1]+r;break;case"M":h=+T[1]+r,f=+T[2]+l;default:for(var D=1,N=T[R];D<N;D++)v[D]=+T[D]+(D%2?r:l)}else for(var B=0,L=T[R];B<L;B++)i[d][B]=T[B];switch(v[0]){case"Z":r=h,l=f;break;case"H":r=v[1];break;case"V":l=v[1];break;case"M":h=i[d][i[d][R]-2],f=i[d][i[d][R]-1];default:r=i[d][i[d][R]-2],l=i[d][i[d][R]-1]}}return i[Mt]=t._path2string,i},null,Qe),tn=function(s,i,r,l){return[s,i,r,l,r,l]},wi=function(s,i,r,l,h,f){var p=.3333333333333333,d=2/3;return[p*s+d*r,p*i+d*l,p*h+d*r,p*f+d*l,h,f]},xi=function(s,i,r,l,h,f,p,d,g,v){var T=lt*120/180,D=lt/180*(+h||0),N=[],B,L=Ut(function(Zi,ji,an){var bo=Zi*q.cos(an)-ji*q.sin(an),yo=Zi*q.sin(an)+ji*q.cos(an);return{x:bo,y:yo}});if(v)wt=v[0],at=v[1],vt=v[2],dt=v[3];else{B=L(s,i,-D),s=B.x,i=B.y,B=L(d,g,-D),d=B.x,g=B.y;var A=(s-d)/2,k=(i-g)/2,U=A*A/(r*r)+k*k/(l*l);U>1&&(U=q.sqrt(U),r=U*r,l=U*l);var X=r*r,nt=l*l,$=(f==p?-1:1)*q.sqrt(st((X*nt-X*k*k-nt*A*A)/(X*k*k+nt*A*A))),vt=$*r*k/l+(s+d)/2,dt=$*-l*A/r+(i+g)/2,wt=q.asin(((i-dt)/l).toFixed(9)),at=q.asin(((g-dt)/l).toFixed(9));wt=s<vt?lt-wt:wt,at=d<vt?lt-at:at,wt<0&&(wt=lt*2+wt),at<0&&(at=lt*2+at),p&&wt>at&&(wt=wt-lt*2),!p&&at>wt&&(at=at-lt*2)}var _t=at-wt;if(st(_t)>T){var Gt=at,$t=d,Jt=g;at=wt+T*(p&&at>wt?1:-1),d=vt+r*q.cos(at),g=dt+l*q.sin(at),N=xi(d,g,r,l,h,0,p,$t,Jt,[at,Gt,vt,dt])}_t=at-wt;var oe=q.cos(wt),Rt=q.sin(wt),ye=q.cos(at),zt=q.sin(at),re=q.tan(_t/4),de=4/3*r*re,qi=4/3*l*re,Xi=[s,i],we=[s+de*Rt,i-qi*oe],Ui=[d+de*zt,g-qi*ye],$i=[d,g];if(we[0]=2*Xi[0]-we[0],we[1]=2*Xi[1]-we[1],v)return[we,Ui,$i][C](N);N=[we,Ui,$i][C](N)[J]()[G](",");for(var Wi=[],ae=0,vo=N[R];ae<vo;ae++)Wi[ae]=ae%2?L(N[ae-1],N[ae],D).y:L(N[ae],N[ae+1],D).x;return Wi},en=function(s,i,r,l,h,f,p,d,g){var v=1-g;return{x:Z(v,3)*s+Z(v,2)*3*g*r+v*3*g*g*h+Z(g,3)*p,y:Z(v,3)*i+Z(v,2)*3*g*l+v*3*g*g*f+Z(g,3)*d}},io=Ut(function(s,i,r,l,h,f,p,d){var g=h-2*r+s-(p-2*h+r),v=2*(r-s)-2*(h-r),T=s-r,D=(-v+q.sqrt(v*v-4*g*T))/2/g,N=(-v-q.sqrt(v*v-4*g*T))/2/g,B=[i,d],L=[s,p],A;return st(D)>"1e12"&&(D=.5),st(N)>"1e12"&&(N=.5),D>0&&D<1&&(A=en(s,i,r,l,h,f,p,d,D),L[j](A.x),B[j](A.y)),N>0&&N<1&&(A=en(s,i,r,l,h,f,p,d,N),L[j](A.x),B[j](A.y)),g=f-2*l+i-(d-2*f+l),v=2*(l-i)-2*(f-l),T=i-l,D=(-v+q.sqrt(v*v-4*g*T))/2/g,N=(-v-q.sqrt(v*v-4*g*T))/2/g,st(D)>"1e12"&&(D=.5),st(N)>"1e12"&&(N=.5),D>0&&D<1&&(A=en(s,i,r,l,h,f,p,d,D),L[j](A.x),B[j](A.y)),N>0&&N<1&&(A=en(s,i,r,l,h,f,p,d,N),L[j](A.x),B[j](A.y)),{min:{x:it[P](0,L),y:it[P](0,B)},max:{x:V[P](0,L),y:V[P](0,B)}}}),nn=Ut(function(s,i){for(var r=Le(s),l=i&&Le(i),h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p=function(A,k){var U,X;if(!A)return["C",k.x,k.y,k.x,k.y,k.x,k.y];switch(!(A[0]in{T:1,Q:1})&&(k.qx=k.qy=null),A[0]){case"M":k.X=A[1],k.Y=A[2];break;case"A":A=["C"][C](xi[P](0,[k.x,k.y][C](A.slice(1))));break;case"S":U=k.x+(k.x-(k.bx||k.x)),X=k.y+(k.y-(k.by||k.y)),A=["C",U,X][C](A.slice(1));break;case"T":k.qx=k.x+(k.x-(k.qx||k.x)),k.qy=k.y+(k.y-(k.qy||k.y)),A=["C"][C](wi(k.x,k.y,k.qx,k.qy,A[1],A[2]));break;case"Q":k.qx=A[1],k.qy=A[2],A=["C"][C](wi(k.x,k.y,A[1],A[2],A[3],A[4]));break;case"L":A=["C"][C](tn(k.x,k.y,A[1],A[2]));break;case"H":A=["C"][C](tn(k.x,k.y,A[1],k.y));break;case"V":A=["C"][C](tn(k.x,k.y,k.x,A[1]));break;case"Z":A=["C"][C](tn(k.x,k.y,k.X,k.Y));break}return A},d=function(A,k){if(A[k][R]>7){A[k].shift();for(var U=A[k];U[R];)A.splice(k++,0,["C"][C](U.splice(0,6)));A.splice(k,1),T=V(r[R],l&&l[R]||0)}},g=function(A,k,U,X,nt){A&&k&&A[nt][0]=="M"&&k[nt][0]!="M"&&(k.splice(nt,0,["M",X.x,X.y]),U.bx=0,U.by=0,U.x=A[nt][1],U.y=A[nt][2],T=V(r[R],l&&l[R]||0))},v=0,T=V(r[R],l&&l[R]||0);v<T;v++){r[v]=p(r[v],h),d(r,v),l&&(l[v]=p(l[v],f)),l&&d(l,v),g(r,l,h,f,v),g(l,r,f,h,v);var D=r[v],N=l&&l[v],B=D[R],L=l&&N[R];h.x=D[B-2],h.y=D[B-1],h.bx=Y(D[B-4])||h.x,h.by=Y(D[B-3])||h.y,f.bx=l&&(Y(N[L-4])||f.x),f.by=l&&(Y(N[L-3])||f.y),f.x=l&&N[L-2],f.y=l&&N[L-1]}return l?[r,l]:r},null,Qe),Mi=Ut(function(s){for(var i=[],r=0,l=s[R];r<l;r++){var h={},f=s[r].match(/^([^:]*):?([\d\.]*)/);if(h.color=t.getRGB(f[1]),h.color.error)return null;h.color=h.color.hex,f[2]&&(h.offset=f[2]+"%"),i[j](h)}for(r=1,l=i[R]-1;r<l;r++)if(!i[r].offset){for(var p=Y(i[r-1].offset||0),d=0,g=r+1;g<l;g++)if(i[g].offset){d=i[g].offset;break}d||(d=100,g=l),d=Y(d);for(var v=(d-p)/(g-r+1);r<g;r++)p+=v,i[r].offset=p+"%"}return i}),Si=function(s,i,r,l){var h;if(t.is(s,W)||t.is(s,"object")){if(h=t.is(s,W)?m.getElementById(s):s,h.tagName)return i==null?{container:h,width:h.style.pixelWidth||h.offsetWidth,height:h.style.pixelHeight||h.offsetHeight}:{container:h,width:i,height:r}}else return{container:1,x:s,y:i,width:r,height:l}},kn=function(s,i){var r=this;for(var l in i)if(i[u](l)&&!(l in s))switch(typeof i[l]){case"function":(function(h){s[l]=s===r?h:function(){return h[P](r,arguments)}})(i[l]);break;case"object":s[l]=s[l]||{},kn.call(this,s[l],i[l]);break;default:s[l]=i[l];break}},ve=function(s,i){s==i.top&&(i.top=s.prev),s==i.bottom&&(i.bottom=s.next),s.next&&(s.next.prev=s.prev),s.prev&&(s.prev.next=s.next)},Ti=function(s,i){i.top!==s&&(ve(s,i),s.next=null,s.prev=i.top,i.top.next=s,i.top=s)},ki=function(s,i){i.bottom!==s&&(ve(s,i),s.next=i.bottom,s.prev=null,i.bottom.prev=s,i.bottom=s)},_i=function(s,i,r){ve(s,r),i==r.top&&(r.top=s),i.next&&(i.next.prev=s),s.next=i.next,s.prev=i,i.next=s},Ci=function(s,i,r){ve(s,r),i==r.bottom&&(r.bottom=s),i.prev&&(i.prev.next=s),s.prev=i.prev,i.prev=s,s.next=i},Ai=function(s){return function(){throw new Error("Raphaël: you are calling to method “"+s+"” of removed object")}};if(t.pathToRelative=Tn,t.svg){x.svgns="http://www.w3.org/2000/svg",x.xlink="http://www.w3.org/1999/xlink",z=function(s){return+s+(~~s===s)*.5};var Q=function(s,i){if(i)for(var r in i)i[u](r)&&n(s,r,F(i[r]));else return s=m.createElementNS(x.svgns,s),s.style.webkitTapHighlightColor="rgba(0,0,0,0)",s};t[Mt]=function(){return`Your browser supports SVG.
You are running Raphaël `+this.version};var Pi=function(s,i){var r=Q("path");i.canvas&&i.canvas[S](r);var l=new gt(r,i);return l.type="path",ee(l,{fill:"none",stroke:"#000",path:s}),l},De=function(s,i,r){var l="linear",h=.5,f=.5,p=s.style;if(i=F(i)[bt](bi,function(k,U,X){if(l="radial",U&&X){h=Y(U),f=Y(X);var nt=(f>.5)*2-1;Z(h-.5,2)+Z(f-.5,2)>.25&&(f=q.sqrt(.25-Z(h-.5,2))*nt+.5)&&f!=.5&&(f=f.toFixed(5)-1e-5*nt)}return _}),i=i[G](/\s*\-\s*/),l=="linear"){var d=i.shift();if(d=-Y(d),isNaN(d))return null;var g=[0,0,q.cos(d*lt/180),q.sin(d*lt/180)],v=1/(V(st(g[2]),st(g[3]))||1);g[2]*=v,g[3]*=v,g[2]<0&&(g[0]=-g[2],g[2]=0),g[3]<0&&(g[1]=-g[3],g[3]=0)}var T=Mi(i);if(!T)return null;var D=s.getAttribute(Bt);D=D.match(/^url\(#(.*)\)$/),D&&r.defs.removeChild(m.getElementById(D[1]));var N=Q(l+"Gradient");N.id=je(),Q(N,l=="radial"?{fx:h,fy:f}:{x1:g[0],y1:g[1],x2:g[2],y2:g[3]}),r.defs[S](N);for(var B=0,L=T[R];B<L;B++){var A=Q("stop");Q(A,{offset:T[B].offset?T[B].offset:B?"100%":"0%","stop-color":T[B].color||"#fff"}),N[S](A)}return Q(s,{fill:"url(#"+N.id+")",opacity:1,"fill-opacity":1}),p.fill=_,p.opacity=1,p.fillOpacity=1,1},_n=function(s){var i=s.getBBox();Q(s.pattern,{patternTransform:t.format("translate({0},{1})",i.x,i.y)})},ee=function(s,i){var r={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},l=s.node,h=s.attrs,f=s.rotate(),p=function(at,_t){if(_t=r[ot.call(_t)],_t){for(var Gt=at.attrs["stroke-width"]||"1",$t={round:Gt,square:Gt,butt:0}[at.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,Jt=[],oe=_t[R];oe--;)Jt[oe]=_t[oe]*Gt+(oe%2?1:-1)*$t;Q(l,{"stroke-dasharray":Jt[J](",")})}};i[u]("rotation")&&(f=i.rotation);var d=F(f)[G](e);d.length-1?(d[1]=+d[1],d[2]=+d[2]):d=null,Y(f)&&s.rotate(0,!0);for(var g in i)if(i[u](g)){if(!kt[u](g))continue;var v=i[g];switch(h[g]=v,g){case"blur":s.blur(v);break;case"rotation":s.rotate(v,!0);break;case"href":case"title":case"target":var T=l.parentNode;if(ot.call(T.tagName)!="a"){var D=Q("a");T.insertBefore(D,l),D[S](l),T=D}g=="target"&&v=="blank"?T.setAttributeNS(s.paper.xlink,"show","new"):T.setAttributeNS(s.paper.xlink,g,v);break;case"cursor":l.style.cursor=v;break;case"clip-rect":var N=F(v)[G](e);if(N[R]==4){s.clip&&s.clip.parentNode.parentNode.removeChild(s.clip.parentNode);var B=Q("clipPath"),L=Q("rect");B.id=je(),Q(L,{x:N[0],y:N[1],width:N[2],height:N[3]}),B[S](L),s.paper.defs[S](B),Q(l,{"clip-path":"url(#"+B.id+")"}),s.clip=L}if(!v){var A=m.getElementById(l.getAttribute("clip-path")[bt](/(^url\(#|\)$)/g,_));A&&A.parentNode.removeChild(A),Q(l,{"clip-path":_}),delete s.clip}break;case"path":s.type=="path"&&Q(l,{d:v?h.path=Le(v):"M0,0"});break;case"width":if(n(l,g,v),h.fx)g="x",v=h.x;else break;case"x":h.fx&&(v=-h.x-(h.width||0));case"rx":if(g=="rx"&&s.type=="rect")break;case"cx":d&&(g=="x"||g=="cx")&&(d[1]+=v-h[g]),n(l,g,v),s.pattern&&_n(s);break;case"height":if(n(l,g,v),h.fy)g="y",v=h.y;else break;case"y":h.fy&&(v=-h.y-(h.height||0));case"ry":if(g=="ry"&&s.type=="rect")break;case"cy":d&&(g=="y"||g=="cy")&&(d[2]+=v-h[g]),n(l,g,v),s.pattern&&_n(s);break;case"r":s.type=="rect"?Q(l,{rx:v,ry:v}):n(l,g,v);break;case"src":s.type=="image"&&l.setAttributeNS(s.paper.xlink,"href",v);break;case"stroke-width":l.style.strokeWidth=v,n(l,g,v),h["stroke-dasharray"]&&p(s,h["stroke-dasharray"]);break;case"stroke-dasharray":p(s,v);break;case"translation":var k=F(v)[G](e);k[0]=+k[0]||0,k[1]=+k[1]||0,d&&(d[1]+=k[0],d[2]+=k[1]),rn.call(s,k[0],k[1]);break;case"scale":k=F(v)[G](e),s.scale(+k[0]||1,+k[1]||+k[0]||1,isNaN(Y(k[2]))?null:+k[2],isNaN(Y(k[3]))?null:+k[3]);break;case Bt:var U=F(v).match(Ie);if(U){B=Q("pattern");var X=Q("image");B.id=je(),Q(B,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),Q(X,{x:0,y:0}),X.setAttributeNS(s.paper.xlink,"href",U[1]),B[S](X);var nt=m.createElement("img");nt.style.cssText="position:absolute;left:-9999em;top-9999em",nt.onload=function(){Q(B,{width:this.offsetWidth,height:this.offsetHeight}),Q(X,{width:this.offsetWidth,height:this.offsetHeight}),m.body.removeChild(this),s.paper.safari()},m.body[S](nt),nt.src=U[1],s.paper.defs[S](B),l.style.fill="url(#"+B.id+")",Q(l,{fill:"url(#"+B.id+")"}),s.pattern=B,s.pattern&&_n(s);break}var $=t.getRGB(v);if(!$.error)delete i.gradient,delete h.gradient,!t.is(h.opacity,"undefined")&&t.is(i.opacity,"undefined")&&Q(l,{opacity:h.opacity}),!t.is(h["fill-opacity"],"undefined")&&t.is(i["fill-opacity"],"undefined")&&Q(l,{"fill-opacity":h["fill-opacity"]});else if(({circle:1,ellipse:1}[u](s.type)||F(v).charAt()!="r")&&De(l,v,s.paper)){h.gradient=v,h.fill="none";break}$[u]("opacity")&&Q(l,{"fill-opacity":$.opacity>1?$.opacity/100:$.opacity});case"stroke":$=t.getRGB(v),n(l,g,$.hex),g=="stroke"&&$[u]("opacity")&&Q(l,{"stroke-opacity":$.opacity>1?$.opacity/100:$.opacity});break;case"gradient":({circle:1,ellipse:1}[u](s.type)||F(v).charAt()!="r")&&De(l,v,s.paper);break;case"opacity":h.gradient&&!h[u]("stroke-opacity")&&Q(l,{"stroke-opacity":v>1?v/100:v});case"fill-opacity":if(h.gradient){var vt=m.getElementById(l.getAttribute(Bt)[bt](/^url\(#|\)$/g,_));if(vt){var dt=vt.getElementsByTagName("stop");n(dt[dt[R]-1],"stop-opacity",v)}break}default:g=="font-size"&&(v=et(v,10)+"px");var wt=g[bt](/(\-.)/g,function(at){return xt.call(at.substring(1))});l.style[wt]=v,n(l,g,v);break}}so(s,i),d?s.rotate(d.join(O)):Y(f)&&s.rotate(f,!0)},Ei=1.2,so=function(s,i){if(!(s.type!="text"||!(i[u]("text")||i[u]("font")||i[u]("font-size")||i[u]("x")||i[u]("y")))){var r=s.attrs,l=s.node,h=l.firstChild?et(m.defaultView.getComputedStyle(l.firstChild,_).getPropertyValue("font-size"),10):10;if(i[u]("text")){for(r.text=i.text;l.firstChild;)l.removeChild(l.firstChild);for(var f=F(i.text)[G](`
`),p=0,d=f[R];p<d;p++)if(f[p]){var g=Q("tspan");p&&Q(g,{dy:h*Ei,x:r.x}),g[S](m.createTextNode(f[p])),l[S](g)}}else for(f=l.getElementsByTagName("tspan"),p=0,d=f[R];p<d;p++)p&&Q(f[p],{dy:h*Ei,x:r.x});Q(l,{y:r.y});var v=s.getBBox(),T=r.y-(v.y+v.height/2);T&&t.is(T,"finite")&&Q(l,{y:r.y+T})}},gt=function(s,i){this[0]=s,this.id=t._oid++,this.node=s,s.raphael=this,this.paper=i,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},ft=gt[c];gt[c].rotate=function(s,i,r){if(this.removed)return this;if(s==null)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][J](O):this._.rt.deg;var l=this.getBBox();return s=F(s)[G](e),s[R]-1&&(i=Y(s[1]),r=Y(s[2])),s=Y(s[0]),i!=null&&i!==!1?this._.rt.deg=s:this._.rt.deg+=s,r==null&&(i=null),this._.rt.cx=i,this._.rt.cy=r,i=i??l.x+l.width/2,r=r??l.y+l.height/2,this._.rt.deg?(this.transformations[0]=t.format("rotate({0} {1} {2})",this._.rt.deg,i,r),this.clip&&Q(this.clip,{transform:t.format("rotate({0} {1} {2})",-this._.rt.deg,i,r)})):(this.transformations[0]=_,this.clip&&Q(this.clip,{transform:_})),Q(this.node,{transform:this.transformations[J](O)}),this},gt[c].hide=function(){return!this.removed&&(this.node.style.display="none"),this},gt[c].show=function(){return!this.removed&&(this.node.style.display=""),this},gt[c].remove=function(){if(!this.removed){ve(this,this.paper),this.node.parentNode.removeChild(this.node);for(var s in this)delete this[s];this.removed=!0}},gt[c].getBBox=function(){if(this.removed)return this;if(this.type=="path")return Je(this.attrs.path);if(this.node.style.display=="none"){this.show();var s=!0}var i={};try{i=this.node.getBBox()}catch{}finally{i=i||{}}if(this.type=="text"){i={x:i.x,y:1/0,width:0,height:0};for(var r=0,l=this.node.getNumberOfChars();r<l;r++){var h=this.node.getExtentOfChar(r);h.y<i.y&&(i.y=h.y),h.y+h.height-i.y>i.height&&(i.height=h.y+h.height-i.y),h.x+h.width-i.x>i.width&&(i.width=h.x+h.width-i.x)}}return s&&this.hide(),i},gt[c].attr=function(s,i){if(this.removed)return this;if(s==null){var r={};for(var l in this.attrs)this.attrs[u](l)&&(r[l]=this.attrs[l]);return this._.rt.deg&&(r.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(r.scale=this.scale()),r.gradient&&r.fill=="none"&&(r.fill=r.gradient)&&delete r.gradient,r}if(i==null&&t.is(s,W))return s=="translation"?rn.call(this):s=="rotation"?this.rotate():s=="scale"?this.scale():s==Bt&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[s];if(i==null&&t.is(s,mt)){for(var h={},f=0,p=s.length;f<p;f++)h[s[f]]=this.attr(s[f]);return h}if(i!=null){var d={};d[s]=i}else s!=null&&t.is(s,"object")&&(d=s);for(var g in this.paper.customAttributes)if(this.paper.customAttributes[u](g)&&d[u](g)&&t.is(this.paper.customAttributes[g],"function")){var v=this.paper.customAttributes[g].apply(this,[][C](d[g]));this.attrs[g]=d[g];for(var T in v)v[u](T)&&(d[T]=v[T])}return ee(this,d),this},gt[c].toFront=function(){if(this.removed)return this;this.node.parentNode[S](this.node);var s=this.paper;return s.top!=this&&Ti(this,s),this},gt[c].toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),ki(this,this.paper),this.paper),this)},gt[c].insertAfter=function(s){if(this.removed)return this;var i=s.node||s[s.length-1].node;return i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode[S](this.node),_i(this,s,this.paper),this},gt[c].insertBefore=function(s){if(this.removed)return this;var i=s.node||s[0].node;return i.parentNode.insertBefore(this.node,i),Ci(this,s,this.paper),this},gt[c].blur=function(s){var i=this;if(+s!=0){var r=Q("filter"),l=Q("feGaussianBlur");i.attrs.blur=s,r.id=je(),Q(l,{stdDeviation:+s||1.5}),r.appendChild(l),i.paper.defs.appendChild(r),i._blur=r,Q(i.node,{filter:"url(#"+r.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")};var Ii=function(s,i,r,l){var h=Q("circle");s.canvas&&s.canvas[S](h);var f=new gt(h,s);return f.attrs={cx:i,cy:r,r:l,fill:"none",stroke:"#000"},f.type="circle",Q(h,f.attrs),f},Ri=function(s,i,r,l,h,f){var p=Q("rect");s.canvas&&s.canvas[S](p);var d=new gt(p,s);return d.attrs={x:i,y:r,width:l,height:h,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},d.type="rect",Q(p,d.attrs),d},Li=function(s,i,r,l,h){var f=Q("ellipse");s.canvas&&s.canvas[S](f);var p=new gt(f,s);return p.attrs={cx:i,cy:r,rx:l,ry:h,fill:"none",stroke:"#000"},p.type="ellipse",Q(f,p.attrs),p},Di=function(s,i,r,l,h,f){var p=Q("image");Q(p,{x:r,y:l,width:h,height:f,preserveAspectRatio:"none"}),p.setAttributeNS(s.xlink,"href",i),s.canvas&&s.canvas[S](p);var d=new gt(p,s);return d.attrs={x:r,y:l,width:h,height:f,src:i},d.type="image",d},Ni=function(s,i,r,l){var h=Q("text");Q(h,{x:i,y:r,"text-anchor":"middle"}),s.canvas&&s.canvas[S](h);var f=new gt(h,s);return f.attrs={x:i,y:r,"text-anchor":"middle",text:l,font:kt.font,stroke:"none",fill:"#000"},f.type="text",ee(f,f.attrs),f},Bi=function(s,i){return this.width=s||this.width,this.height=i||this.height,n(this.canvas,"width",this.width),n(this.canvas,"height",this.height),this},Cn=function(){var s=Si[P](0,arguments),i=s&&s.container,r=s.x,l=s.y,h=s.width,f=s.height;if(!i)throw new Error("SVG container not found.");var p=Q("svg");return r=r||0,l=l||0,h=h||512,f=f||342,Q(p,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:h,height:f}),i==1?(p.style.cssText="position:absolute;left:"+r+"px;top:"+l+"px",m.body[S](p)):i.firstChild?i.insertBefore(p,i.firstChild):i[S](p),i=new M,i.width=h,i.height=f,i.canvas=p,kn.call(i,i,t.fn),i.clear(),i};x.clear=function(){for(var s=this.canvas;s.firstChild;)s.removeChild(s.firstChild);this.bottom=this.top=null,(this.desc=Q("desc"))[S](m.createTextNode("Created with Raphaël")),s[S](this.desc),s[S](this.defs=Q("defs"))},x.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var s in this)this[s]=Ai(s)}}if(t.vml){let s=function(i,r,l,h,f){return f?t.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",i+f,r,l-f*2,f,-f,h-f*2,f*2-l,f*2-h):t.format("M{0},{1}l{2},0,0,{3},{4},0z",i,r,l,h,-l)};var Fi={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},oo=/([clmz]),?([^clmz]*)/gi,ro=/ progid:\S+Blur\([^\)]+\)/g,ao=/-?[^,\s-]+/g,Ne=1e3+O+1e3,be=10,Be={path:1,rect:1},lo=function(i){var r=/[ahqstv]/ig,l=Le;if(F(i).match(r)&&(l=nn),r=/[clmz]/g,l==Le&&!F(i).match(r)){var h=F(i)[bt](oo,function(N,B,L){var A=[],k=ot.call(B)=="m",U=Fi[B];return L[bt](ao,function(X){k&&A[R]==2&&(U+=A+Fi[B=="m"?"l":"L"],A=[]),A[j](z(X*be))}),U+A});return h}var f=l(i),p,d;h=[];for(var g=0,v=f[R];g<v;g++){p=f[g],d=ot.call(f[g][0]),d=="z"&&(d="x");for(var T=1,D=p[R];T<D;T++)d+=z(p[T]*be)+(T!=D-1?",":_);h[j](d)}return h[J](O)};t[Mt]=function(){return`Your browser doesn’t support SVG. Falling down to VML.
You are running Raphaël `+this.version},Pi=function(i,r){var l=Pt("group");l.style.cssText="position:absolute;left:0;top:0;width:"+r.width+"px;height:"+r.height+"px",l.coordsize=r.coordsize,l.coordorigin=r.coordorigin;var h=Pt("shape"),f=h.style;f.width=r.width+"px",f.height=r.height+"px",h.coordsize=Ne,h.coordorigin=r.coordorigin,l[S](h);var p=new gt(h,l,r),d={fill:"none",stroke:"#000"};return i&&(d.path=i),p.type="path",p.path=[],p.Path=_,ee(p,d),r.canvas[S](l),p},ee=function(i,r){i.attrs=i.attrs||{};var l=i.node,h=i.attrs,f=l.style,p,d=(r.x!=h.x||r.y!=h.y||r.width!=h.width||r.height!=h.height||r.r!=h.r)&&i.type=="rect",g=i;for(var v in r)r[u](v)&&(h[v]=r[v]);if(d&&(h.path=s(h.x,h.y,h.width,h.height,h.r),i.X=h.x,i.Y=h.y,i.W=h.width,i.H=h.height),r.href&&(l.href=r.href),r.title&&(l.title=r.title),r.target&&(l.target=r.target),r.cursor&&(f.cursor=r.cursor),"blur"in r&&i.blur(r.blur),(r.path&&i.type=="path"||d)&&(l.path=lo(h.path)),r.rotation!=null&&i.rotate(r.rotation,!0),r.translation&&(p=F(r.translation)[G](e),rn.call(i,p[0],p[1]),i._.rt.cx!=null&&(i._.rt.cx+=+p[0],i._.rt.cy+=+p[1],i.setBox(i.attrs,p[0],p[1]))),r.scale&&(p=F(r.scale)[G](e),i.scale(+p[0]||1,+p[1]||+p[0]||1,+p[2]||null,+p[3]||null)),"clip-rect"in r){var T=F(r["clip-rect"])[G](e);if(T[R]==4){T[2]=+T[2]+ +T[0],T[3]=+T[3]+ +T[1];var D=l.clipRect||m.createElement("div"),N=D.style,B=l.parentNode;N.clip=t.format("rect({1}px {2}px {3}px {0}px)",T),l.clipRect||(N.position="absolute",N.top=0,N.left=0,N.width=i.paper.width+"px",N.height=i.paper.height+"px",B.parentNode.insertBefore(D,B),D[S](B),l.clipRect=D)}r["clip-rect"]||l.clipRect&&(l.clipRect.style.clip=_)}if(i.type=="image"&&r.src&&(l.src=r.src),i.type=="image"&&r.opacity&&(l.filterOpacity=pt+".Alpha(opacity="+r.opacity*100+")",f.filter=(l.filterMatrix||_)+(l.filterOpacity||_)),r.font&&(f.font=r.font),r["font-family"]&&(f.fontFamily='"'+r["font-family"][G](",")[0][bt](/^['"]+|['"]+$/g,_)+'"'),r["font-size"]&&(f.fontSize=r["font-size"]),r["font-weight"]&&(f.fontWeight=r["font-weight"]),r["font-style"]&&(f.fontStyle=r["font-style"]),r.opacity!=null||r["stroke-width"]!=null||r.fill!=null||r.stroke!=null||r["stroke-width"]!=null||r["stroke-opacity"]!=null||r["fill-opacity"]!=null||r["stroke-dasharray"]!=null||r["stroke-miterlimit"]!=null||r["stroke-linejoin"]!=null||r["stroke-linecap"]!=null){l=i.shape||l;var L=l.getElementsByTagName(Bt)&&l.getElementsByTagName(Bt)[0],A=!1;if(!L&&(A=L=Pt(Bt)),"fill-opacity"in r||"opacity"in r){var k=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+t.getRGB(r.fill).o+1||2)-1);k=it(V(k,0),1),L.opacity=k}if(r.fill&&(L.on=!0),(L.on==null||r.fill=="none")&&(L.on=!1),L.on&&r.fill){var U=r.fill.match(Ie);U?(L.src=U[1],L.type="tile"):(L.color=t.getRGB(r.fill).hex,L.src=_,L.type="solid",t.getRGB(r.fill).error&&(g.type in{circle:1,ellipse:1}||F(r.fill).charAt()!="r")&&De(g,r.fill)&&(h.fill="none",h.gradient=r.fill))}A&&l[S](L);var X=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],nt=!1;!X&&(nt=X=Pt("stroke")),(r.stroke&&r.stroke!="none"||r["stroke-width"]||r["stroke-opacity"]!=null||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])&&(X.on=!0),(r.stroke=="none"||X.on==null||r.stroke==0||r["stroke-width"]==0)&&(X.on=!1);var $=t.getRGB(r.stroke);X.on&&r.stroke&&(X.color=$.hex),k=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+$.o+1||2)-1);var vt=(Y(r["stroke-width"])||1)*.75;if(k=it(V(k,0),1),r["stroke-width"]==null&&(vt=h["stroke-width"]),r["stroke-width"]&&(X.weight=vt),vt&&vt<1&&(k*=vt)&&(X.weight=1),X.opacity=k,r["stroke-linejoin"]&&(X.joinstyle=r["stroke-linejoin"]||"miter"),X.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(X.endcap=r["stroke-linecap"]=="butt"?"flat":r["stroke-linecap"]=="square"?"square":"round"),r["stroke-dasharray"]){var dt={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};X.dashstyle=dt[u](r["stroke-dasharray"])?dt[r["stroke-dasharray"]]:_}nt&&l[S](X)}if(g.type=="text")switch(f=g.paper.span.style,h.font&&(f.font=h.font),h["font-family"]&&(f.fontFamily=h["font-family"]),h["font-size"]&&(f.fontSize=h["font-size"]),h["font-weight"]&&(f.fontWeight=h["font-weight"]),h["font-style"]&&(f.fontStyle=h["font-style"]),g.node.string&&(g.paper.span.innerHTML=F(g.node.string)[bt](/</g,"&#60;")[bt](/&/g,"&#38;")[bt](/\n/g,"<br>")),g.W=h.w=g.paper.span.offsetWidth,g.H=h.h=g.paper.span.offsetHeight,g.X=h.x,g.Y=h.y+z(g.H/2),h["text-anchor"]){case"start":g.node.style["v-text-align"]="left",g.bbx=z(g.W/2);break;case"end":g.node.style["v-text-align"]="right",g.bbx=-z(g.W/2);break;default:g.node.style["v-text-align"]="center";break}},De=function(i,r){i.attrs=i.attrs||{},i.attrs;var l,h="linear",f=".5 .5";if(i.attrs.gradient=r,r=F(r)[bt](bi,function(D,N,B){return h="radial",N&&B&&(N=Y(N),B=Y(B),Z(N-.5,2)+Z(B-.5,2)>.25&&(B=q.sqrt(.25-Z(N-.5,2))*((B>.5)*2-1)+.5),f=N+O+B),_}),r=r[G](/\s*\-\s*/),h=="linear"){var p=r.shift();if(p=-Y(p),isNaN(p))return null}var d=Mi(r);if(!d)return null;if(i=i.shape||i.node,l=i.getElementsByTagName(Bt)[0]||Pt(Bt),!l.parentNode&&i.appendChild(l),d[R]){l.on=!0,l.method="none",l.color=d[0].color,l.color2=d[d[R]-1].color;for(var g=[],v=0,T=d[R];v<T;v++)d[v].offset&&g[j](d[v].offset+O+d[v].color);l.colors&&(l.colors.value=g[R]?g[J]():"0% "+l.color),h=="radial"?(l.type="gradientradial",l.focus="100%",l.focussize=f,l.focusposition=f):(l.type="gradient",l.angle=(270-p)%360)}return 1},gt=function(i,r,l){this[0]=i,this.id=t._oid++,this.node=i,i.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=r,this.paper=l,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!l.bottom&&(l.bottom=this),this.prev=l.top,l.top&&(l.top.next=this),l.top=this,this.next=null},ft=gt[c],ft.rotate=function(i,r,l){return this.removed?this:i==null?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][J](O):this._.rt.deg:(i=F(i)[G](e),i[R]-1&&(r=Y(i[1]),l=Y(i[2])),i=Y(i[0]),r!=null?this._.rt.deg=i:this._.rt.deg+=i,l==null&&(r=null),this._.rt.cx=r,this._.rt.cy=l,this.setBox(this.attrs,r,l),this.Group.style.rotation=this._.rt.deg,this)},ft.setBox=function(i,r,l){if(this.removed)return this;var h=this.Group.style,f=this.shape&&this.shape.style||this.node.style;i=i||{};for(var p in i)i[u](p)&&(this.attrs[p]=i[p]);r=r||this._.rt.cx,l=l||this._.rt.cy;var d=this.attrs,g,v,T,D;switch(this.type){case"circle":g=d.cx-d.r,v=d.cy-d.r,T=D=d.r*2;break;case"ellipse":g=d.cx-d.rx,v=d.cy-d.ry,T=d.rx*2,D=d.ry*2;break;case"image":g=+d.x,v=+d.y,T=d.width||0,D=d.height||0;break;case"text":this.textpath.v=["m",z(d.x),", ",z(d.y-2),"l",z(d.x)+1,", ",z(d.y-2)][J](_),g=d.x-z(this.W/2),v=d.y-this.H/2,T=this.W,D=this.H;break;case"rect":case"path":if(!this.attrs.path)g=0,v=0,T=this.paper.width,D=this.paper.height;else{var N=Je(this.attrs.path);g=N.x,v=N.y,T=N.width,D=N.height}break;default:g=0,v=0,T=this.paper.width,D=this.paper.height;break}r=r??g+T/2,l=l??v+D/2;var B=r-this.paper.width/2,L=l-this.paper.height/2,A;h.left!=(A=B+"px")&&(h.left=A),h.top!=(A=L+"px")&&(h.top=A),this.X=Be[u](this.type)?-B:g,this.Y=Be[u](this.type)?-L:v,this.W=T,this.H=D,Be[u](this.type)?(f.left!=(A=-B*be+"px")&&(f.left=A),f.top!=(A=-L*be+"px")&&(f.top=A)):this.type=="text"?(f.left!=(A=-B+"px")&&(f.left=A),f.top!=(A=-L+"px")&&(f.top=A)):(h.width!=(A=this.paper.width+"px")&&(h.width=A),h.height!=(A=this.paper.height+"px")&&(h.height=A),f.left!=(A=g-B+"px")&&(f.left=A),f.top!=(A=v-L+"px")&&(f.top=A),f.width!=(A=T+"px")&&(f.width=A),f.height!=(A=D+"px")&&(f.height=A))},ft.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},ft.show=function(){return!this.removed&&(this.Group.style.display="block"),this},ft.getBBox=function(){return this.removed?this:Be[u](this.type)?Je(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},ft.remove=function(){if(!this.removed){ve(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var i in this)delete this[i];this.removed=!0}},ft.attr=function(i,r){if(this.removed)return this;if(i==null){var l={};for(var h in this.attrs)this.attrs[u](h)&&(l[h]=this.attrs[h]);return this._.rt.deg&&(l.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(l.scale=this.scale()),l.gradient&&l.fill=="none"&&(l.fill=l.gradient)&&delete l.gradient,l}if(r==null&&t.is(i,"string"))return i=="translation"?rn.call(this):i=="rotation"?this.rotate():i=="scale"?this.scale():i==Bt&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[i];if(this.attrs&&r==null&&t.is(i,mt)){var f,p={};for(h=0,f=i[R];h<f;h++)p[i[h]]=this.attr(i[h]);return p}var d;if(r!=null&&(d={},d[i]=r),r==null&&t.is(i,"object")&&(d=i),d){for(var g in this.paper.customAttributes)if(this.paper.customAttributes[u](g)&&d[u](g)&&t.is(this.paper.customAttributes[g],"function")){var v=this.paper.customAttributes[g].apply(this,[][C](d[g]));this.attrs[g]=d[g];for(var T in v)v[u](T)&&(d[T]=v[T])}d.text&&this.type=="text"&&(this.node.string=d.text),ee(this,d),d.gradient&&({circle:1,ellipse:1}[u](this.type)||F(d.gradient).charAt()!="r")&&De(this,d.gradient),(!Be[u](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},ft.toFront=function(){return!this.removed&&this.Group.parentNode[S](this.Group),this.paper.top!=this&&Ti(this,this.paper),this},ft.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),ki(this,this.paper)),this)},ft.insertAfter=function(i){return this.removed?this:(i.constructor==Ft&&(i=i[i.length-1]),i.Group.nextSibling?i.Group.parentNode.insertBefore(this.Group,i.Group.nextSibling):i.Group.parentNode[S](this.Group),_i(this,i,this.paper),this)},ft.insertBefore=function(i){return this.removed?this:(i.constructor==Ft&&(i=i[0]),i.Group.parentNode.insertBefore(this.Group,i.Group),Ci(this,i,this.paper),this)},ft.blur=function(i){var r=this.node.runtimeStyle,l=r.filter;l=l.replace(ro,_),+i!=0?(this.attrs.blur=i,r.filter=l+O+pt+".Blur(pixelradius="+(+i||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",z(+i||1.5))):(r.filter=l,r.margin=0,delete this.attrs.blur)},Ii=function(i,r,l,h){var f=Pt("group"),p=Pt("oval");p.style,f.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px",f.coordsize=Ne,f.coordorigin=i.coordorigin,f[S](p);var d=new gt(p,f,i);return d.type="circle",ee(d,{stroke:"#000",fill:"none"}),d.attrs.cx=r,d.attrs.cy=l,d.attrs.r=h,d.setBox({x:r-h,y:l-h,width:h*2,height:h*2}),i.canvas[S](f),d},Ri=function(i,r,l,h,f,p){var d=s(r,l,h,f,p),g=i.path(d),v=g.attrs;return g.X=v.x=r,g.Y=v.y=l,g.W=v.width=h,g.H=v.height=f,v.r=p,v.path=d,g.type="rect",g},Li=function(i,r,l,h,f){var p=Pt("group"),d=Pt("oval");d.style,p.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px",p.coordsize=Ne,p.coordorigin=i.coordorigin,p[S](d);var g=new gt(d,p,i);return g.type="ellipse",ee(g,{stroke:"#000"}),g.attrs.cx=r,g.attrs.cy=l,g.attrs.rx=h,g.attrs.ry=f,g.setBox({x:r-h,y:l-f,width:h*2,height:f*2}),i.canvas[S](p),g},Di=function(i,r,l,h,f,p){var d=Pt("group"),g=Pt("image");d.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px",d.coordsize=Ne,d.coordorigin=i.coordorigin,g.src=r,d[S](g);var v=new gt(g,d,i);return v.type="image",v.attrs.src=r,v.attrs.x=l,v.attrs.y=h,v.attrs.w=f,v.attrs.h=p,v.setBox({x:l,y:h,width:f,height:p}),i.canvas[S](d),v},Ni=function(i,r,l,h){var f=Pt("group"),p=Pt("shape"),d=p.style,g=Pt("path");g.style;var v=Pt("textpath");f.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px",f.coordsize=Ne,f.coordorigin=i.coordorigin,g.v=t.format("m{0},{1}l{2},{1}",z(r*10),z(l*10),z(r*10)+1),g.textpathok=!0,d.width=i.width,d.height=i.height,v.string=F(h),v.on=!0,p[S](v),p[S](g),f[S](p);var T=new gt(v,f,i);return T.shape=p,T.textpath=g,T.type="text",T.attrs.text=h,T.attrs.x=r,T.attrs.y=l,T.attrs.w=1,T.attrs.h=1,ee(T,{font:kt.font,stroke:"none",fill:"#000"}),T.setBox(),i.canvas[S](f),T},Bi=function(i,r){var l=this.canvas.style;return i==+i&&(i+="px"),r==+r&&(r+="px"),l.width=i,l.height=r,l.clip="rect(0 "+i+" "+r+" 0)",this};var Pt;m.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!m.namespaces.rvml&&m.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Pt=function(i){return m.createElement("<rvml:"+i+' class="rvml">')}}catch{Pt=function(r){return m.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Cn=function(){var i=Si[P](0,arguments),r=i.container,l=i.height,h=i.width,f=i.x,p=i.y;if(!r)throw new Error("VML container not found.");var d=new M,g=d.canvas=m.createElement("div"),v=g.style;return f=f||0,p=p||0,h=h||512,l=l||342,h==+h&&(h+="px"),l==+l&&(l+="px"),d.width=1e3,d.height=1e3,d.coordsize=be*1e3+O+be*1e3,d.coordorigin="0 0",d.span=m.createElement("span"),d.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",g[S](d.span),v.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",h,l),r==1?(m.body[S](g),v.left=f+"px",v.top=p+"px",v.position="absolute"):r.firstChild?r.insertBefore(g,r.firstChild):r[S](g),kn.call(d,d,t.fn),d},x.clear=function(){this.canvas.innerHTML=_,this.span=m.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[S](this.span),this.bottom=this.top=null},x.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var i in this)this[i]=Ai(i);return!0}}var Oi=navigator.userAgent.match(/Version\/(.*?)\s/);navigator.vendor=="Apple Computer, Inc."&&(Oi&&Oi[1]<4||navigator.platform.slice(0,2)=="iP")?x.safari=function(){var s=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});y.setTimeout(function(){s.remove()})}:x.safari=function(){};for(var co=function(){this.returnValue=!1},ho=function(){return this.originalEvent.preventDefault()},uo=function(){this.cancelBubble=!0},fo=function(){return this.originalEvent.stopPropagation()},po=function(){if(m.addEventListener)return function(s,i,r,l){var h=I&&tt[i]?tt[i]:i,f=function(p){if(I&&tt[u](i)){for(var d=0,g=p.targetTouches&&p.targetTouches.length;d<g;d++)if(p.targetTouches[d].target==s){var v=p;p=p.targetTouches[d],p.originalEvent=v,p.preventDefault=ho,p.stopPropagation=fo;break}}return r.call(l,p)};return s.addEventListener(h,f,!1),function(){return s.removeEventListener(h,f,!1),!0}};if(m.attachEvent)return function(s,i,r,l){var h=function(p){return p=p||y.event,p.preventDefault=p.preventDefault||co,p.stopPropagation=p.stopPropagation||uo,r.call(l,p)};s.attachEvent("on"+i,h);var f=function(){return s.detachEvent("on"+i,h),!0};return f}}(),Ht=[],An=function(s){for(var i=s.clientX,r=s.clientY,l=m.documentElement.scrollTop||m.body.scrollTop,h=m.documentElement.scrollLeft||m.body.scrollLeft,f,p=Ht.length;p--;){if(f=Ht[p],I){for(var d=s.touches.length,g;d--;)if(g=s.touches[d],g.identifier==f.el._drag.id){i=g.clientX,r=g.clientY,(s.originalEvent?s.originalEvent:s).preventDefault();break}}else s.preventDefault();i+=h,r+=l,f.move&&f.move.call(f.move_scope||f.el,i-f.el._drag.x,r-f.el._drag.y,i,r,s)}},Pn=function(s){t.unmousemove(An).unmouseup(Pn);for(var i=Ht.length,r;i--;)r=Ht[i],r.el._drag={},r.end&&r.end.call(r.end_scope||r.start_scope||r.move_scope||r.el,s);Ht=[]},Gi=K[R];Gi--;)(function(s){t[s]=gt[c][s]=function(i,r){return t.is(i,"function")&&(this.events=this.events||[],this.events.push({name:s,f:i,unbind:po(this.shape||this.node||m,s,i,r||this)})),this},t["un"+s]=gt[c]["un"+s]=function(i){for(var r=this.events,l=r[R];l--;)if(r[l].name==s&&r[l].f==i)return r[l].unbind(),r.splice(l,1),!r.length&&delete this.events,this;return this}})(K[Gi]);ft.hover=function(s,i,r,l){return this.mouseover(s,r).mouseout(i,l||r)},ft.unhover=function(s,i){return this.unmouseover(s).unmouseout(i)},ft.drag=function(s,i,r,l,h,f){return this._drag={},this.mousedown(function(p){(p.originalEvent||p).preventDefault();var d=m.documentElement.scrollTop||m.body.scrollTop,g=m.documentElement.scrollLeft||m.body.scrollLeft;this._drag.x=p.clientX+g,this._drag.y=p.clientY+d,this._drag.id=p.identifier,i&&i.call(h||l||this,p.clientX+g,p.clientY+d,p),!Ht.length&&t.mousemove(An).mouseup(Pn),Ht.push({el:this,move:s,end:r,move_scope:l,start_scope:h,end_scope:f})}),this},ft.undrag=function(s,i,r){for(var l=Ht.length;l--;)Ht[l].el==this&&Ht[l].move==s&&Ht[l].end==r&&Ht.splice(l++,1);!Ht.length&&t.unmousemove(An).unmouseup(Pn)},x.circle=function(s,i,r){return Ii(this,s||0,i||0,r||0)},x.rect=function(s,i,r,l,h){return Ri(this,s||0,i||0,r||0,l||0,h||0)},x.ellipse=function(s,i,r,l){return Li(this,s||0,i||0,r||0,l||0)},x.path=function(s){return s&&!t.is(s,W)&&!t.is(s[0],mt)&&(s+=_),Pi(t.format[P](t,arguments),this)},x.image=function(s,i,r,l,h){return Di(this,s||"about:blank",i||0,r||0,l||0,h||0)},x.text=function(s,i,r){return Ni(this,s||0,i||0,F(r))},x.set=function(s){return arguments[R]>1&&(s=Array[c].splice.call(arguments,0,arguments[R])),new Ft(s)},x.setSize=Bi,x.top=x.bottom=null,x.raphael=t;function zi(){return this.x+O+this.y}ft.resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},ft.scale=function(s,i,r,l){if(this.removed)return this;if(s==null&&i==null)return{x:this._.sx,y:this._.sy,toString:zi};i=i||s,!+i&&(i=s);var h,f,p=this.attrs;if(s!=0){var d=this.getBBox(),g=d.x+d.width/2,v=d.y+d.height/2,T=st(s/this._.sx),D=st(i/this._.sy);r=+r||r==0?r:g,l=+l||l==0?l:v;var N=this._.sx>0,B=this._.sy>0,L=~~(s/st(s)),A=~~(i/st(i)),k=T*L,U=D*A,X=this.node.style,nt=r+st(g-r)*k*(g>r==N?1:-1),$=l+st(v-l)*U*(v>l==B?1:-1),vt=s*L>i*A?D:T;switch(this.type){case"rect":case"image":var dt=p.width*T,wt=p.height*D;this.attr({height:wt,r:p.r*vt,width:dt,x:nt-dt/2,y:$-wt/2});break;case"circle":case"ellipse":this.attr({rx:p.rx*T,ry:p.ry*D,r:p.r*vt,cx:nt,cy:$});break;case"text":this.attr({x:nt,y:$});break;case"path":for(var at=Tn(p.path),_t=!0,Gt=N?k:T,$t=B?U:D,Jt=0,oe=at[R];Jt<oe;Jt++){var Rt=at[Jt],ye=xt.call(Rt[0]);if(!(ye=="M"&&_t))if(_t=!1,ye=="A")Rt[at[Jt][R]-2]*=Gt,Rt[at[Jt][R]-1]*=$t,Rt[1]*=T,Rt[2]*=D,Rt[5]=+(L+A?!!+Rt[5]:!+Rt[5]);else if(ye=="H")for(var zt=1,re=Rt[R];zt<re;zt++)Rt[zt]*=Gt;else if(ye=="V")for(zt=1,re=Rt[R];zt<re;zt++)Rt[zt]*=$t;else for(zt=1,re=Rt[R];zt<re;zt++)Rt[zt]*=zt%2?Gt:$t}var de=Je(at);h=nt-de.x-de.width/2,f=$-de.y-de.height/2,at[0][1]+=h,at[0][2]+=f,this.attr({path:at});break}this.type in{text:1,image:1}&&(L!=1||A!=1)?this.transformations?(this.transformations[2]="scale("[C](L,",",A,")"),n(this.node,"transform",this.transformations[J](O)),h=L==-1?-p.x-(dt||0):p.x,f=A==-1?-p.y-(wt||0):p.y,this.attr({x:h,y:f}),p.fx=L-1,p.fy=A-1):(this.node.filterMatrix=pt+".Matrix(M11="[C](L,", M12=0, M21=0, M22=",A,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),X.filter=(this.node.filterMatrix||_)+(this.node.filterOpacity||_)):this.transformations?(this.transformations[2]=_,n(this.node,"transform",this.transformations[J](O)),p.fx=0,p.fy=0):(this.node.filterMatrix=_,X.filter=(this.node.filterMatrix||_)+(this.node.filterOpacity||_)),p.scale=[s,i,r,l][J](O),this._.sx=s,this._.sy=i}return this},ft.clone=function(){if(this.removed)return null;var s=this.attr();return delete s.scale,delete s.translation,this.paper[this.type]().attr(s)};var En={},sn=function(s,i,r,l,h,f,p,d,g){if(s===r&&i===l&&h===p&&f==d){var v=p-s,T=d-i,D=Math.sqrt(v*v+T*T);if(g==null)return D;var N=g/D;return{start:{x:s,y:i},m:{x:s,y:i},n:{x:p,y:d},end:{x:p,y:d},x:s+N*v,y:i+N*T,alpha:90-q.atan(v/T)*180/lt}}var B=0,L=100,A=[s,i,r,l,h,f,p,d].join(),k=En[A],U,X;if(!k&&(En[A]=k={data:[]}),k.timer&&clearTimeout(k.timer),k.timer=setTimeout(function(){delete En[A]},2e3),g!=null){var nt=sn(s,i,r,l,h,f,p,d);L=~~nt*10}for(var $=0;$<L+1;$++){if(k.data[g]>$?X=k.data[$*L]:(X=t.findDotsAtSegment(s,i,r,l,h,f,p,d,$/L),k.data[$]=X),$&&(B+=Z(Z(U.x-X.x,2)+Z(U.y-X.y,2),.5)),g!=null&&B>=g)return X;U=X}if(g==null)return B},In=function(s,i){return function(r,l,h){r=nn(r);for(var f,p,d,g,v="",T={},D,N=0,B=0,L=r.length;B<L;B++){if(d=r[B],d[0]=="M")f=+d[1],p=+d[2];else{if(g=sn(f,p,d[1],d[2],d[3],d[4],d[5],d[6]),N+g>l){if(i&&!T.start){if(D=sn(f,p,d[1],d[2],d[3],d[4],d[5],d[6],l-N),v+=["C",D.start.x,D.start.y,D.m.x,D.m.y,D.x,D.y],h)return v;T.start=v,v=["M",D.x,D.y+"C",D.n.x,D.n.y,D.end.x,D.end.y,d[5],d[6]][J](),N+=g,f=+d[5],p=+d[6];continue}if(!s&&!i)return D=sn(f,p,d[1],d[2],d[3],d[4],d[5],d[6],l-N),{x:D.x,y:D.y,alpha:D.alpha}}N+=g,f=+d[5],p=+d[6]}v+=d}return T.end=v,D=s?N:i?T:t.findDotsAtSegment(f,p,d[1],d[2],d[3],d[4],d[5],d[6],1),D.alpha&&(D={x:D.x,y:D.y,alpha:D.alpha}),D}},Vi=In(1),on=In(),Rn=In(0,1);ft.getTotalLength=function(){if(this.type=="path")return this.node.getTotalLength?this.node.getTotalLength():Vi(this.attrs.path)},ft.getPointAtLength=function(s){if(this.type=="path")return on(this.attrs.path,s)},ft.getSubpath=function(s,i){if(this.type=="path"){if(st(this.getTotalLength()-i)<"1e-6")return Rn(this.attrs.path,s).end;var r=Rn(this.attrs.path,i,1);return s?Rn(r,s).end:r}},t.easing_formulas={linear:function(s){return s},"<":function(s){return Z(s,3)},">":function(s){return Z(s-1,3)+1},"<>":function(s){return s=s*2,s<1?Z(s,3)/2:(s-=2,(Z(s,3)+2)/2)},backIn:function(s){var i=1.70158;return s*s*((i+1)*s-i)},backOut:function(s){s=s-1;var i=1.70158;return s*s*((i+1)*s+i)+1},elastic:function(s){if(s==0||s==1)return s;var i=.3,r=i/4;return Z(2,-10*s)*q.sin((s-r)*(2*lt)/i)+1},bounce:function(s){var i=7.5625,r=2.75,l;return s<1/r?l=i*s*s:s<2/r?(s-=1.5/r,l=i*s*s+.75):s<2.5/r?(s-=2.25/r,l=i*s*s+.9375):(s-=2.625/r,l=i*s*s+.984375),l}};var Yt=[],Hi=function(){for(var s=+new Date,i=0;i<Yt[R];i++){var r=Yt[i];if(!(r.stop||r.el.removed)){var l=s-r.start,h=r.ms,f=r.easing,p=r.from,d=r.diff,g=r.to,v=r.t,T=r.el,D={},N;if(l<h){var B=f(l/h);for(var L in p)if(p[u](L)){switch(It[L]){case"along":N=B*h*d[L],g.back&&(N=g.len-N);var A=on(g[L],N);T.translate(d.sx-d.x||0,d.sy-d.y||0),d.x=A.x,d.y=A.y,T.translate(A.x-d.sx,A.y-d.sy),g.rot&&T.rotate(d.r+A.alpha,A.x,A.y);break;case rt:N=+p[L]+B*h*d[L];break;case"colour":N="rgb("+[Ln(z(p[L].r+B*h*d[L].r)),Ln(z(p[L].g+B*h*d[L].g)),Ln(z(p[L].b+B*h*d[L].b))][J](",")+")";break;case"path":N=[];for(var k=0,U=p[L][R];k<U;k++){N[k]=[p[L][k][0]];for(var X=1,nt=p[L][k][R];X<nt;X++)N[k][X]=+p[L][k][X]+B*h*d[L][k][X];N[k]=N[k][J](O)}N=N[J](O);break;case"csv":switch(L){case"translation":var $=B*h*d[L][0]-v.x,vt=B*h*d[L][1]-v.y;v.x+=$,v.y+=vt,N=$+O+vt;break;case"rotation":N=+p[L][0]+B*h*d[L][0],p[L][1]&&(N+=","+p[L][1]+","+p[L][2]);break;case"scale":N=[+p[L][0]+B*h*d[L][0],+p[L][1]+B*h*d[L][1],2 in g[L]?g[L][2]:_,3 in g[L]?g[L][3]:_][J](O);break;case"clip-rect":for(N=[],k=4;k--;)N[k]=+p[L][k]+B*h*d[L][k];break}break;default:var dt=[].concat(p[L]);for(N=[],k=T.paper.customAttributes[L].length;k--;)N[k]=+dt[k]+B*h*d[L][k];break}D[L]=N}T.attr(D),T._run&&T._run.call(T)}else g.along&&(A=on(g.along,g.len*!g.back),T.translate(d.sx-(d.x||0)+A.x-d.sx,d.sy-(d.y||0)+A.y-d.sy),g.rot&&T.rotate(d.r+A.alpha,A.x,A.y)),(v.x||v.y)&&T.translate(-v.x,-v.y),g.scale&&(g.scale+=_),T.attr(g),Yt.splice(i--,1)}}t.svg&&T&&T.paper&&T.paper.safari(),Yt[R]&&setTimeout(Hi)},mo=function(s,i,r,l,h){var f=r-l;i.timeouts.push(setTimeout(function(){t.is(h,"function")&&h.call(i),i.animate(s,f,s.easing)},l))},Ln=function(s){return V(it(s,255),0)},rn=function(s,i){if(s==null)return{x:this._.tx,y:this._.ty,toString:zi};switch(this._.tx+=+s,this._.ty+=+i,this.type){case"circle":case"ellipse":this.attr({cx:+s+this.attrs.cx,cy:+i+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+s+this.attrs.x,y:+i+this.attrs.y});break;case"path":var r=Tn(this.attrs.path);r[0][1]+=+s,r[0][2]+=+i,this.attr({path:r});break}return this};ft.animateWith=function(s,i,r,l,h){for(var f=0,p=Yt.length;f<p;f++)Yt[f].el.id==s.id&&(i.start=Yt[f].start);return this.animate(i,r,l,h)},ft.animateAlong=Yi(),ft.animateAlongBack=Yi(1);function Yi(s){return function(i,r,l,h){var f={back:s};return t.is(l,"function")?h=l:f.rot=l,i&&i.constructor==gt&&(i=i.attrs.path),i&&(f.along=i),this.animate(f,r,h)}}function go(s,i,r,l,h,f){var p=3*i,d=3*(l-i)-p,g=1-p-d,v=3*r,T=3*(h-r)-v,D=1-v-T;function N(A){return((g*A+d)*A+p)*A}function B(A,k){var U=L(A,k);return((D*U+T)*U+v)*U}function L(A,k){var U,X,nt,$,vt,dt;for(nt=A,dt=0;dt<8;dt++){if($=N(nt)-A,st($)<k)return nt;if(vt=(3*g*nt+2*d)*nt+p,st(vt)<1e-6)break;nt=nt-$/vt}if(U=0,X=1,nt=A,nt<U)return U;if(nt>X)return X;for(;U<X;){if($=N(nt),st($-A)<k)return nt;A>$?U=nt:X=nt,nt=(X-U)/2+U}return nt}return B(s,1/(200*f))}ft.onAnimation=function(s){return this._run=s||0,this},ft.animate=function(s,i,r,l){var h=this;if(h.timeouts=h.timeouts||[],(t.is(r,"function")||!r)&&(l=r||null),h.removed)return l&&l.call(h),h;var f={},p={},d=!1,g={};for(var v in s)if(s[u](v)&&(It[u](v)||h.paper.customAttributes[u](v)))switch(d=!0,f[v]=h.attr(v),f[v]==null&&(f[v]=kt[v]),p[v]=s[v],It[v]){case"along":var T=Vi(s[v]),D=on(s[v],T*!!s.back),N=h.getBBox();g[v]=T/i,g.tx=N.x,g.ty=N.y,g.sx=D.x,g.sy=D.y,p.rot=s.rot,p.back=s.back,p.len=T,s.rot&&(g.r=Y(h.rotate())||0);break;case rt:g[v]=(p[v]-f[v])/i;break;case"colour":f[v]=t.getRGB(f[v]);var B=t.getRGB(p[v]);g[v]={r:(B.r-f[v].r)/i,g:(B.g-f[v].g)/i,b:(B.b-f[v].b)/i};break;case"path":var L=nn(f[v],p[v]);f[v]=L[0];var A=L[1];g[v]=[];for(var k=0,U=f[v][R];k<U;k++){g[v][k]=[0];for(var X=1,nt=f[v][k][R];X<nt;X++)g[v][k][X]=(A[k][X]-f[v][k][X])/i}break;case"csv":var $=F(s[v])[G](e),vt=F(f[v])[G](e);switch(v){case"translation":f[v]=[0,0],g[v]=[$[0]/i,$[1]/i];break;case"rotation":f[v]=vt[1]==$[1]&&vt[2]==$[2]?vt:[0,$[1],$[2]],g[v]=[($[0]-f[v][0])/i,0,0];break;case"scale":s[v]=$,f[v]=F(f[v])[G](e),g[v]=[($[0]-f[v][0])/i,($[1]-f[v][1])/i,0,0];break;case"clip-rect":for(f[v]=F(f[v])[G](e),g[v]=[],k=4;k--;)g[v][k]=($[k]-f[v][k])/i;break}p[v]=$;break;default:for($=[].concat(s[v]),vt=[].concat(f[v]),g[v]=[],k=h.paper.customAttributes[v][R];k--;)g[v][k]=(($[k]||0)-(vt[k]||0))/i;break}if(d){var _t=t.easing_formulas[r];if(!_t)if(_t=F(r).match(me),_t&&_t[R]==5){var Gt=_t;_t=function($t){return go($t,+Gt[1],+Gt[2],+Gt[3],+Gt[4],i)}}else _t=function($t){return $t};Yt.push({start:s.start||+new Date,ms:i,easing:_t,from:f,diff:g,to:p,el:h,t:{x:0,y:0}}),t.is(l,"function")&&(h._ac=setTimeout(function(){l.call(h)},i)),Yt[R]==1&&setTimeout(Hi)}else{var dt=[],wt;for(var at in s)s[u](at)&&Re.test(at)&&(v={value:s[at]},at=="from"&&(at=0),at=="to"&&(at=100),v.key=et(at,10),dt.push(v));for(dt.sort(to),dt[0].key&&dt.unshift({key:0,value:h.attrs}),k=0,U=dt[R];k<U;k++)mo(dt[k].value,h,i/100*dt[k].key,i/100*(dt[k-1]&&dt[k-1].key||0),dt[k-1]&&dt[k-1].value.callback);wt=dt[dt[R]-1].value.callback,wt&&h.timeouts.push(setTimeout(function(){wt.call(h)},i))}return this},ft.stop=function(){for(var s=0;s<Yt.length;s++)Yt[s].el.id==this.id&&Yt.splice(s--,1);for(s=0,ii=this.timeouts&&this.timeouts.length;s<ii;s++)clearTimeout(this.timeouts[s]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},ft.translate=function(s,i){return this.attr({translation:s+" "+i})},ft[Mt]=function(){return"Raphaël’s object"},t.ae=Yt;var Ft=function(s){if(this.items=[],this[R]=0,this.type="set",s)for(var i=0,r=s[R];i<r;i++)s[i]&&(s[i].constructor==gt||s[i].constructor==Ft)&&(this[this.items[R]]=this.items[this.items[R]]=s[i],this[R]++)};Ft[c][j]=function(){for(var s,i,r=0,l=arguments[R];r<l;r++)s=arguments[r],s&&(s.constructor==gt||s.constructor==Ft)&&(i=this.items[R],this[i]=this.items[i]=s,this[R]++);return this},Ft[c].pop=function(){return delete this[this[R]--],this.items.pop()};for(var Dn in ft)ft[u](Dn)&&(Ft[c][Dn]=function(s){return function(){for(var i=0,r=this.items[R];i<r;i++)this.items[i][s][P](this.items[i],arguments);return this}}(Dn));return Ft[c].attr=function(s,i){if(s&&t.is(s,mt)&&t.is(s[0],"object"))for(var r=0,l=s[R];r<l;r++)this.items[r].attr(s[r]);else for(var h=0,f=this.items[R];h<f;h++)this.items[h].attr(s,i);return this},Ft[c].animate=function(s,i,r,l){(t.is(r,"function")||!r)&&(l=r||null);var h=this.items[R],f=h,p,d=this,g;for(l&&(g=function(){!--h&&l.call(d)}),r=t.is(r,W)?r:g,p=this.items[--f].animate(s,i,r,g);f--;)this.items[f]&&!this.items[f].removed&&this.items[f].animateWith(p,s,i,r,g);return this},Ft[c].insertAfter=function(s){for(var i=this.items[R];i--;)this.items[i].insertAfter(s);return this},Ft[c].getBBox=function(){for(var s=[],i=[],r=[],l=[],h=this.items[R];h--;){var f=this.items[h].getBBox();s[j](f.x),i[j](f.y),r[j](f.x+f.width),l[j](f.y+f.height)}return s=it[P](0,s),i=it[P](0,i),{x:s,y:i,width:V[P](0,r)-s,height:V[P](0,l)-i}},Ft[c].clone=function(s){s=new Ft;for(var i=0,r=this.items[R];i<r;i++)s[j](this.items[i].clone());return s},t.registerFont=function(s){if(!s.face)return s;this.fonts=this.fonts||{};var i={w:s.w,face:{},glyphs:{}},r=s.face["font-family"];for(var l in s.face)s.face[u](l)&&(i.face[l]=s.face[l]);if(this.fonts[r]?this.fonts[r][j](i):this.fonts[r]=[i],!s.svg){i.face["units-per-em"]=et(s.face["units-per-em"],10);for(var h in s.glyphs)if(s.glyphs[u](h)){var f=s.glyphs[h];if(i.glyphs[h]={w:f.w,k:{},d:f.d&&"M"+f.d[bt](/[mlcxtrv]/g,function(d){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[d]||"M"})+"z"},f.k)for(var p in f.k)f[u](p)&&(i.glyphs[h].k[p]=f.k[p])}}return s},x.getFont=function(s,i,r,l){if(l=l||"normal",r=r||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,!!t.fonts){var h=t.fonts[s];if(!h){var f=new RegExp("(^|\\s)"+s[bt](/[^\w\d\s+!~.:_-]/g,_)+"(\\s|$)","i");for(var p in t.fonts)if(t.fonts[u](p)&&f.test(p)){h=t.fonts[p];break}}var d;if(h)for(var g=0,v=h[R];g<v&&(d=h[g],!(d.face["font-weight"]==i&&(d.face["font-style"]==r||!d.face["font-style"])&&d.face["font-stretch"]==l));g++);return d}},x.print=function(s,i,r,l,h,f,p){f=f||"middle",p=V(it(p||0,1),-1);var d=this.set(),g=F(r)[G](_),v=0,T;if(t.is(l,r)&&(l=this.getFont(l)),l){T=(h||16)/l.face["units-per-em"];for(var D=l.face.bbox.split(e),N=+D[0],B=+D[1]+(f=="baseline"?D[3]-D[1]+ +l.face.descent:(D[3]-D[1])/2),L=0,A=g[R];L<A;L++){var k=L&&l.glyphs[g[L-1]]||{},U=l.glyphs[g[L]];v+=L?(k.w||l.w)+(k.k&&k.k[g[L]]||0)+l.w*p:0,U&&U.d&&d[j](this.path(U.d).attr({fill:"#000",stroke:"none",translation:[v,0]}))}d.scale(T,T,N,B).translate(s-N,i-B)}return d},t.format=function(s,i){var r=t.is(i,mt)?[0][C](i):arguments;return s&&t.is(s,W)&&r[R]-1&&(s=s[bt](a,function(l,h){return r[++h]==null?_:r[h]})),s||_},t.ninja=function(){return b.was?y.Raphael=b.is:Raphael=void 0,t},t.el=ft,t.st=Ft[c],t}(),H={BLUE:Oe.blue,ORANGE:"#FFA500",PINK:"#FF00AF",GREEN:Oe.green,PURPLE:"#9D38BD",RED:"#DF0030",GRAY:"gray",BLACK:"black",LIGHT_BLUE:"#9AB8ED",LIGHT_ORANGE:"#EDD19B",LIGHT_PINK:"#ED9BD3",LIGHT_GREEN:"#9BEDCE",LIGHT_PURPLE:"#DA9BED",LIGHT_RED:"#ED9AAC",LIGHT_GRAY:"#ED9B9B",LIGHT_BLACK:"#ED9B9B",GRAY10:"#D6D6D6",GRAY20:"#CDCDCD",GRAY30:"#B3B3B3",GRAY40:"#9A9A9A",GRAY50:"#808080",GRAY60:"#666666",GRAY70:"#4D4D4D",GRAY80:"#333333",GRAY90:"#1A1A1A",BLUE_A:"#CCFAFF",BLUE_B:"#80F6FF",BLUE_C:"#63D9EA",BLUE_D:"#11ACCD",BLUE_E:"#0C7F99",TEAL_A:"#94FFF5",TEAL_B:"#26EDD5",TEAL_C:"#01D1C1",TEAL_D:"#01A995",TEAL_E:"#208170",GREEN_A:"#B6FFB0",GREEN_B:"#8AF281",GREEN_C:"#74CF70",GREEN_D:"#1FAB54",GREEN_E:"#0D923F",GOLD_A:"#FFD0A9",GOLD_B:"#FFBB71",GOLD_C:"#FF9C39",GOLD_D:"#E07D10",GOLD_E:"#A75A05",RED_A:"#FCA9A9",RED_B:"#FF8482",RED_C:"#F9685D",RED_D:"#E84D39",RED_E:"#BC2612",MAROON_A:"#FFBDE0",MAROON_B:"#FF92C6",MAROON_C:"#ED5FA6",MAROON_D:"#CA337C",MAROON_E:"#9E034E",PURPLE_A:"#DDD7FF",PURPLE_B:"#C6B9FC",PURPLE_C:"#AA87FF",PURPLE_D:"#7854AB",PURPLE_E:"#543B78",MINT_A:"#F5F9E8",MINT_B:"#EDF2DF",MINT_C:"#E0E5CC",GRAY_A:"#F6F7F7",GRAY_B:"#F0F1F2",GRAY_C:"#E3E5E6",GRAY_D:"#D6D8DA",GRAY_E:"#BABEC2",GRAY_F:"#888D93",GRAY_G:"#626569",GRAY_H:"#3B3E40",GRAY_I:"#21242C",KA_BLUE:"#314453",KA_GREEN:"#71B307",_BACKGROUND:"#FDFDFD",INTERACTING:Oe.green,INTERACTIVE:Oe.green,DYNAMIC:Oe.blue};class xr{constructor(t,e,o){this.scaleVector=a=>{if(typeof a=="number")return this.scaleVector([a,a]);const c=a[0],u=a[1];return[c*this.xScale,u*this.yScale]},this.scalePoint=a=>{if(typeof a=="number")return this.scalePoint([a,a]);const c=a[0],u=a[1];return[(c-this.bounds.xMin)*this.xScale,(this.bounds.yMax-u)*this.yScale]},this.unscalePoint=a=>{if(typeof a=="number")return this.unscalePoint([a,a]);const c=a[0],u=a[1];return[c/this.xScale+this.bounds.xMin,this.bounds.yMax-u/this.yScale]},this.unscaleVector=a=>typeof a=="number"?this.unscaleVector([a,a]):[a[0]/this.xScale,a[1]/this.yScale],this.setScale=a=>{typeof a=="number"&&(a=[a,a]),this.xScale=a[0],this.yScale=a[1],this.raphael.setSize(...this.canvasDimensions())},this.canvasDimensions=()=>[this.bounds.width()*this.xScale,this.bounds.height()*this.yScale],this.pixelsPerUnitX=()=>this.xScale,this.pixelsPerUnitY=()=>this.yScale,this.raphael=t,this.bounds=o,this.xScale=e[0],this.yScale=e[1],this.setScale(e)}}class Mr{constructor(t,e){this.xMin=t[0],this.xMax=t[1],this.yMin=e[0],this.yMax=e[1]}width(){return this.xMax-this.xMin}height(){return this.yMax-this.yMin}}const as=new WeakMap;function Ds(n,t){const e=Lt.jsx(Ao,{throwIfNested:!1,children:n});let o=as.get(t);o==null&&(o=Po(t),as.set(t,o)),o.render(e)}function Sr(n,t){const e=E(n).find("."+t);return e.length===0?E("<span>").addClass(t).appendTo(E(n)):e}const Ns={processMath:async function(n,t,e,o){const a=E(n);if(a.attr("data-math-formula")==null||e){const c=Sr(a,"tex-holder");t==null&&a.attr("data-math-formula")&&(t=a.attr("data-math-formula")),t=t!=null?t+"":"",t=jt.cleanMath(t),a.attr("data-math-formula",t);const{TeX:u}=await he();Ds(Ct.createElement(u,{children:t,onRender:o}),c[0])}}},{processMath:Tr}=Ns;function Wn(n,t){return typeof n=="number"&&(n=[n,n]),t=t*Math.PI/180,[n[0]*Math.cos(t),n[1]*Math.sin(t)]}var ke,_e,Ss;let Zn=(Ss=class{constructor(t){Nn(this,ke,void 0);Nn(this,_e,void 0);this.isMobile=!1,this.currentStyle={"stroke-width":2,fill:"none"},this.label=(e,o,a,c,u)=>{const m=typeof c=="object"?c:u,y=typeof c=="boolean"?c:!0;return this.withStyle(m,()=>{const b=E("<span>").addClass("graphie-label"),M=this.currentStyle["label-distance"];b.css({position:"absolute",padding:(M??7)+"px",color:"black"}).data("labelDirection",a).appendTo(this.el),b.setPosition=S=>{const P=this.scalePoint(S);b.css({left:P[0],top:P[1]})},b.setPosition(e);const x=b[0];return b.processMath=function(S,P){Tr(x,S,P,function(){const C=x.scrollWidth,I=x.scrollHeight;ls(x,[C,I])})},b.processText=function(S){b.html(S);const P=x.scrollWidth,C=x.scrollHeight;ls(x,[P,C])},y?b.processMath(o,!1):b.processText(o),b})},this.svgPath=(e,o)=>e.map((a,c)=>{if(a===!0)return"z";const u=o?a:this.scalePoint(a);return(c===0?"M":"L")+jt.bound(u[0])+" "+jt.bound(u[1])}).join(""),this.svgParabolaPath=(e,o,a)=>{const c=function(O){return(e*O+o)*O+a};if(e===0){const O=[[this.bounds().xMin,c(this.bounds().xMin)],[this.bounds().xMax,c(this.bounds().xMax)]];return this.svgPath(O)}const u=-o/(2*e),m=Math.max(Math.abs(u-this.bounds().xMin),Math.abs(u-this.bounds().xMax)),y=u+m,b=[u,c(u)],M=[y,c(y)],x=[b[0],b[1]-(M[1]-b[1])],S=Math.abs(b[0]-M[0]),P=[b[0]-S,M[1]],C=[b[0]+S,M[1]],_=[P,x,C].map(this.scalePoint).flat().map(jt.bound);return"M"+_[0]+","+_[1]+" Q"+_[2]+","+_[3]+" "+_[4]+","+_[5]},this.svgSinusoidPath=(e,o,a,c)=>{const u=Math.abs(Math.PI/(2*o)),m=function(_){return e*Math.sin(o*_-a)+c},y=function(_){return e*o*Math.cos(a-o*_)},b=(_,O)=>{const F=_+u*O,G=F+u,K=[F,F*2/3+G*1/3,F*1/3+G*2/3,G],tt=[m(F),m(F)+y(F)*(G-F)/3,m(G)-y(G)*(G-F)/3,m(G)];return qe(K,tt).map(this.scalePoint)},M=this.bounds().width(),x=Math.ceil(M/u)+1;let S=a/o;const P=S-this.bounds().xMin;S-=u*Math.ceil(P/u);let C=b(S,0),I="M"+C[0][0]+","+C[0][1]+" C"+C[1][0]+","+C[1][1]+" "+C[2][0]+","+C[2][1]+" "+C[3][0]+","+C[3][1];for(let _=1;_<x;_++)C=b(S,_),I+=" C"+C[1][0]+","+C[1][1]+" "+C[2][0]+","+C[2][1]+" "+C[3][0]+","+C[3][1];return I},this.scalePoint=e=>this.drawingTransform().scalePoint(e),this.scaleVector=e=>this.drawingTransform().scaleVector(e),this.unscalePoint=e=>this.drawingTransform().unscalePoint(e),this.unscaleVector=e=>this.drawingTransform().unscaleVector(e),this.el=t,E(t).css("position","relative"),this.raphael=ne(t),E(t).attr("aria-hidden","true"),E(t).children("div").css("position","absolute")}init(t){let e=t.scale||[40,40];if(e=typeof e=="number"?[e,e]:e,t.range==null)throw new te("range should be specified in graph init",Vt.Internal);Bn(this,ke,new Mr(...t.range)),Bn(this,_e,new xr(this.raphael,e,this.bounds()));const[o,a]=this.drawingTransform().canvasDimensions();return E(this.el).css({width:o,height:a}),this.range=t.range,this.scale=e,this.dimensions=[o,a],this.xpixels=o,this.ypixels=a,this.isMobile=t.isMobile??!1,this}graphInit(t){t=t||{};for(const[V,it]of Co(t))!V.match(/.*Opacity$/)&&V!=="range"&&typeof it=="number"&&(t[V]=[it,it]),(V==="range"||V==="gridRange")&&(t[V]=Gn(t[V]));const e=Gn(t.range||[[-10,10],[-10,10]]),o=Gn(t.gridRange||e),a=t.scale||[20,20],c=t.grid!=null?t.grid:!0,u=t.gridOpacity||.1,m=_r(t.gridStep||[1,1]),y=t.axes!=null?t.axes:!0,b=t.axisArrows||"",M=t.axisOpacity||1,x=t.axisCenter||[Math.min(Math.max(e[0][0],0),e[0][1]),Math.min(Math.max(e[1][0],0),e[1][1])],S=t.axisLabels!=null?t.axisLabels:!1,P=t.ticks!=null?t.ticks:!0,C=t.tickStep||[2,2],I=t.tickLen||[5,5],_=t.tickOpacity||1,O=t.labels||t.labelStep||!1,F=t.labelStep||[1,1],G=t.labelOpacity||1;let K=t.unityLabels||!1;const tt=t.labelFormat||function(V){return V};let J=t.xLabelFormat||tt,R=t.yLabelFormat||tt;const ot=[[e[0][0]-(e[0][0]>0?1:0),e[0][1]+(e[0][1]<0?1:0)],[e[1][0]-(e[1][0]>0?1:0),e[1][1]+(e[1][1]<0?1:0)]];Array.isArray(K)||(K=[K,K]);const q=function(V){return function(it){return(V(it)+"").replace(/-(\d)/g,"\\llap{-}$1")}};if(J=q(J),R=q(R),this.init({range:ot,scale:a,isMobile:t.isMobile}),c&&this.grid(o[0],o[1],{stroke:t.isMobile?H.GRAY_C:"#000000",opacity:t.isMobile?1:u,step:m,strokeWidth:t.isMobile?1:2}),y){if(b==="<->"||b===!0){const V=this;this.style({stroke:t.isMobile?H.GRAY_G:"#000000",opacity:t.isMobile?1:M,strokeWidth:t.isMobile?1:2,arrows:"->"},function(){e[1][0]<0&&e[1][1]>0&&(V.path([x,[o[0][0],x[1]]]),V.path([x,[o[0][1],x[1]]])),e[0][0]<0&&e[0][1]>0&&(V.path([x,[x[0],o[1][0]]]),V.path([x,[x[0],o[1][1]]]))})}else if(b==="->"||b===""){const V=this;this.style({stroke:"#000000",opacity:M,strokeWidth:2,arrows:b},function(){V.path([[o[0][0],x[1]],[o[0][1],x[1]]]),V.path([[x[0],o[1][0]],[x[0],o[1][1]]])})}S&&S.length===2&&(this.label([o[0][1],x[1]],S[0],"right"),this.label([x[0],o[1][1]],S[1],"above"))}if(P){const V=t.isMobile,it=this;this.style({stroke:t.isMobile?H.GRAY_G:"#000000",opacity:t.isMobile?1:_,strokeWidth:1},()=>{let st=m[0]*C[0],Z=I[0]/a[1],lt=o[0][0],rt=o[0][1];if(e[1][0]<0&&e[1][1]>0){for(let W=st+x[0];W<=rt;W+=st)(W<rt||!b)&&it.line([W,-Z+x[1]],[W,V?0:Z+x[1]]);for(let W=-st+x[0];W>=lt;W-=st)(W>lt||!b)&&it.line([W,-Z+x[1]],[W,V?0:Z+x[1]])}if(st=m[1]*C[1],Z=I[1]/a[0],lt=o[1][0],rt=o[1][1],e[0][0]<0&&e[0][1]>0){for(let W=st+x[1];W<=rt;W+=st)(W<rt||!b)&&this.line([-Z+x[0],W],[V?0:Z+x[0],W]);for(let W=-st+x[1];W>=lt;W-=st)(W>lt||!b)&&this.line([-Z+x[0],W],[V?0:Z+x[0],W])}})}if(O){const V=this;this.style({stroke:t.isMobile?H.GRAY_G:"#000000",opacity:t.isMobile?1:G},function(){let it=m[0]*C[0]*F[0],st=o[0][0],Z=o[0][1];const lt=x[0]<0?"above":"below",rt=x[0]<0?"right":"left",W=x[0]===0&&x[1]!==0,mt=x[0]!==0&&x[1]===0,Mt=x[0]!==0||x[1]!==0,Bt=K[0]||Mt,pe=K[1]||Mt;for(let j=(W?0:it)+x[0];j<=Z;j+=it)(j<Z||!b)&&V.label([j,x[1]],J(j),lt);for(let j=-it*(Bt?1:2)+x[0];j>=st;j-=it)(j>st||!b)&&V.label([j,x[1]],J(j),lt);it=m[1]*C[1]*F[1],st=o[1][0],Z=o[1][1];for(let j=(mt?0:it)+x[1];j<=Z;j+=it)(j<Z||!b)&&V.label([x[0],j],R(j),rt);for(let j=-it*(pe?1:2)+x[1];j>=st;j-=it)(j>st||!b)&&V.label([x[0],j],R(j),rt)})}}drawingTransform(){if(Fe(this,_e)==null)throw new Error("Can't get drawingTransform of an uninitialized Graphie");return Fe(this,_e)}bounds(){if(Fe(this,ke)==null)throw new Error("Can't get bounds of an uninitialized Graphie");return Fe(this,ke)}style(t,e){const o=this.processAttributes(t);if(typeof e=="function"){const a=this.currentStyle;this.currentStyle={...this.currentStyle,...o};const c=e.call(this);return this.currentStyle=a,c}Object.assign(this.currentStyle,o)}grid(t,e,o){return this.withStyle(o,()=>{const a=this.currentStyle.step||[1,1],c=this.raphael.set();let u=a[0]*Math.ceil(t[0]/a[0]);for(;u<=t[1];u+=a[0])c.push(this.line([u,e[0]],[u,e[1]]));let m=a[1]*Math.ceil(e[0]/a[1]);for(;m<=e[1];m+=a[1])c.push(this.line([t[0],m],[t[1],m]));return c})}arc(t,e,o,a,c,u){return this.withStyle(u,()=>{o=(o%360+360)%360,a=(a%360+360)%360;const m=this.scalePoint(t),y=this.scaleVector(e),b=Wn(e,o),M=Wn(e,a),x=I=>ko(I,6),S=this.scalePoint([x(t[0]+b[0]),x(t[1]+b[1])]),P=this.scalePoint([x(t[0]+M[0]),x(t[1]+M[1])]),C=((a-o)%360+360)%360>180;return this.raphael.path("M"+S.join(" ")+"A"+y.join(" ")+" 0 "+(C?1:0)+" 0 "+P.join(" ")+(c?"L"+m.join(" ")+"z":""))})}circle(t,e,o){return this.withStyle(o,()=>this.raphael.ellipse(...this.scalePoint(t),...this.scaleVector([e,e])))}rect(t,e,o,a,c){return this.withStyle(c,()=>{const u=this.scalePoint([t,e+a]),m=this.scaleVector([o,a]),y=this.raphael.rect(...u.concat(m));return this.isMobile&&(y.node.style.shapeRendering="crispEdges"),y})}ellipse(t,e,o){return this.withStyle(o,()=>this.raphael.ellipse(...this.scalePoint(t).concat(this.scaleVector(e))))}fixedEllipse(t,e,o,a,c){return this.withStyle(c,()=>{const u=this.scalePoint(t),m=this.scaleVector(e),y=2*m[0]*o+a,b=2*m[1]*o+a,M=u[0]-y/2,x=u[1]-b/2,S=document.createElement("div");E(S).css({position:"absolute",width:y+"px",height:b+"px",left:M+"px",top:x+"px"});const C=ne(S,y,b).ellipse(y/2,b/2,m[0],m[1]);return{wrapper:S,visibleShape:C}})}unstyledPath(t){const e=this.raphael.path(this.svgPath(t));return e.graphiePath=t,e}path(t,e){return this.withStyle(e,()=>this.unstyledPath(t))}fixedPath(t,e,o){t=t.map(this.scalePoint),e=e?this.scalePoint(e):null,o=o||this.svgPath;const a=t.map(G=>G[0]),c=t.map(G=>G[1]),u=Math.min(...a),m=Math.max(...a),y=Math.min(...c),b=Math.max(...c),M=[4,4],x=[u,y];t=t.map(function(G){return ct(ut(G,x),Dt(M,.5))});const S=m-u+M[0],P=b-y+M[1],C=x[0]-M[0]/2,I=x[1]-M[1]/2,_=document.createElement("div");E(_).css({position:"absolute",width:S+"px",height:P+"px",left:C+"px",top:I+"px",transformOrigin:e?S/2+e[0]+"px "+(P/2+e[1])+"px":null});const F=ne(_,S,P).path(o(t));return{wrapper:_,visibleShape:F}}scaledPath(t,e){return this.withStyle(e,()=>{const o=this.raphael.path(this.svgPath(t,!0));return o.graphiePath=t,o})}line(t,e,o){return this.withStyle(o,()=>{const a=this.unstyledPath([t,e]);return this.isMobile&&(a.node.style.shapeRendering="crispEdges"),a})}parabola(t,e,o,a){return this.withStyle(a,()=>this.raphael.path(this.svgParabolaPath(t,e,o)))}fixedLine(t,e,o){const a=[o,o];t=this.scalePoint(t),e=this.scalePoint(e);const c=[Math.min(t[0],e[0]),Math.min(t[1],e[1])];t=ct(ut(t,c),Dt(a,.5)),e=ct(ut(e,c),Dt(a,.5));const u=c[0]-a[0]/2,m=c[1]-a[1]/2,y=Math.abs(t[0]-e[0])+a[0],b=Math.abs(t[1]-e[1])+a[1],M=document.createElement("div");E(M).css({position:"absolute",width:y+"px",height:b+"px",left:u+"px",top:m+"px",transformOrigin:t[0]+"px "+t[1]+"px"});const x=ne(M,y,b),S="M"+t[0]+" "+t[1]+" L"+e[0]+" "+e[1],P=x.path(S);return P.graphiePath=[t,e],{wrapper:M,visibleShape:P}}sinusoid(t,e,o,a,c){return this.withStyle(c,()=>this.raphael.path(this.svgSinusoidPath(t,e,o,a)))}plotParametric(t,e,o){return this.withStyle(o,()=>{const a=S=>Math.abs(S[1])>5e5?[S[0],Math.min(Math.max(S[1],-5e5),5e5)]:S,c=S=>a(t(S)),u=e[0],m=e[1];let y=(m-u)/(this.currentStyle["plot-points"]||800);y===0&&(y=1);const b=this.raphael.set();let M=[],x=c(u)[1];for(let S=u;S<=m;S+=y){const P=c(S),C=P[1];C>0!=x>0&&Math.abs(C-x)>2*this.drawingTransform().pixelsPerUnitY()||isNaN(C)?(b.push(this.unstyledPath(M)),M=[]):M.push(P),x=C}return b.push(this.unstyledPath(M)),b})}plot(t,e,o){return this.withStyle(o,()=>{const a=e[0],c=e[1];this.currentStyle["plot-points"]||(this.currentStyle["plot-points"]=2*(c-a)*this.drawingTransform().pixelsPerUnitX());const u=m=>[m,t(m)];return this.plotParametric(u,e)})}withStyle(t,e){const o=this.currentStyle;this.currentStyle={...this.currentStyle,...this.processAttributes(t)};const a=this.postprocessDrawingResult(e());return this.currentStyle=o,a}postprocessDrawingResult(t){const e=t.constructor.prototype;return e===ne.el||e===ne.st?(t.attr(this.currentStyle),this.currentStyle.arrows&&(t=this.addArrowheads(t))):t instanceof E&&t.css({...this.currentStyle,...Cr}),t}addArrowheads(t){const e=t.constructor.prototype;if(e===ne.el){if(t.type==="path"&&typeof t.arrowheadsDrawn>"u"){const a=.6+.4*t.attr("stroke-width"),c=t.getTotalLength(),u=this.raphael.set(),m=this.raphael.path(this.isMobile?"M-4,4 C-4,4 -0.25,0 -0.25,0 C-0.25,0 -4,-4 -4,-4":"M-3 4 C-2.75 2.5 0 0.25 0.75 0C0 -0.25 -2.75 -2.5 -3 -4"),y=t.getPointAtLength(c-.4),b=t.getPointAtLength(c-.75*a),M=Math.atan2(y.y-b.y,y.x-b.x)*180/Math.PI,x=t.attr();delete x.path;let S=t.getSubpath(0,c-.75*a);return S=this.raphael.path(S).attr(x),S.arrowheadsDrawn=!0,t.remove(),m.rotate(M,this.isMobile?1e-5:.75,0).scale(a,a,.75,0).translate(b.x,b.y).attr(x).attr({"stroke-linejoin":"round","stroke-linecap":"round"}),m.arrowheadsDrawn=!0,u.push(S),u.push(m),u}}else if(e===ne.st)for(let o=0,a=t.items.length;o<a;o++)this.addArrowheads(t.items[o]);return t}processAttributes(t){const e={scale:a=>{this.drawingTransform().setScale(a)},clipRect:a=>{const c=a[0],u=a[1];return c[1]+=u[1],{"clip-rect":this.scalePoint(c).concat(this.scaleVector(u)).join(" ")}},strokeWidth:function(a){return{"stroke-width":parseFloat(a)}},rx:a=>({rx:this.scaleVector([a,0])[0]}),ry:a=>({ry:this.scaleVector([0,a])[1]}),r:a=>{const c=this.scaleVector([a,a]);return{rx:c[0],ry:c[1]}}},o={};return Object.entries(t||{}).forEach(function([a,c]){const u=e[a];if(typeof u=="function")Object.assign(o,u(c));else{const m=String(a).replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();o[m]=c}}),o}addMouseLayer(t){var c;const e={allowScratchpad:!1,setDrawingAreaAvailable:function(){},...t},o=2;if(this.mouselayer=ne(this.el,this.xpixels,this.ypixels),E(this.mouselayer.canvas).css("z-index",o),e.onClick||e.onMouseDown||e.onMouseMove||e.onMouseOver||e.onMouseOut){const u=this.mouselayer.rect(0,0,this.xpixels,this.ypixels).attr({fill:"#000",opacity:0});let m=!1;if(E(this.mouselayer.canvas).on("vmousedown",y=>{if(y.target===u[0]){if(e.onMouseDown&&e.onMouseDown(this.getMouseCoord(y)),m=!0,e.onMouseMove){const b=e.onMouseMove;E(document).bind("vmousemove.mouseLayer",M=>{m&&(M.preventDefault(),b(this.getMouseCoord(M)))})}E(document).bind("vmouseup.mouseLayer",b=>{E(document).unbind(".mouseLayer"),m&&e.onClick&&e.onClick(this.getMouseCoord(b)),m=!1})}}),e.onMouseOver){const y=e.onMouseOver;E(this.mouselayer.canvas).on("vmouseover",b=>{y(this.getMouseCoord(b))})}if(e.onMouseOut){const y=e.onMouseOut;E(this.mouselayer.canvas).on("vmouseout",b=>{y(this.getMouseCoord(b))})}}e.allowScratchpad||(c=e.setDrawingAreaAvailable)==null||c.call(e,!1),this._mouselayerWrapper=document.createElement("div"),E(this._mouselayerWrapper).css({position:"absolute",left:0,top:0,zIndex:o}),this._visiblelayerWrapper=document.createElement("div"),E(this._visiblelayerWrapper).css({position:"absolute",left:0,top:0});const a=this.el;a.appendChild(this._visiblelayerWrapper),a.appendChild(this._mouselayerWrapper),this.addToMouseLayerWrapper=u=>{var m;(m=this._mouselayerWrapper)==null||m.appendChild(u)},this.addToVisibleLayerWrapper=u=>{var m;(m=this._visiblelayerWrapper)==null||m.appendChild(u)}}addToMouseLayerWrapper(t){throw new Error("addToMouseLayerWrapper is not ready. Call addMouseLayer() first.")}addToVisibleLayerWrapper(t){throw new Error("addToVisibleLayerWrapper is not ready. Call addMouseLayer() first.")}getMousePx(t){const e=E(this.el).offset(),o=t.pageX-e.left,a=t.pageY-e.top;return[o,a]}getMouseCoord(t){return this.unscalePoint(this.getMousePx(t))}},ke=new WeakMap,_e=new WeakMap,Ss);const kr={center:[-.5,-.5],above:[-.5,-1],"above right":[0,-1],right:[0,-.5],"below right":[0,0],below:[-.5,0],"below left":[-1,0],left:[-1,-.5],"above left":[-1,-1]};function Gn(n){function t(c){return typeof c=="number"?[-c,c]:c}function e(c){return Array.isArray(c)?c:[c,c]}if(n==null)return n;const[o,a]=e(n);return[t(o),t(a)]}function _r(n){return Array.isArray(n)?n:[n,n]}const Cr={"stroke-width":null},ls=function(n,t){const e=E(n),o=e.data("labelDirection");let[a,c]=t;if(a===0&&c===0&&([a,c]=[1,1],Ye.log("Label size was 0x0 in graphie.js; using 1x1 instead")),e.css("visibility",""),typeof o=="number"){const u=Math.cos(o),m=Math.sin(o),y=Math.min(a/2/Math.abs(u),c/2/Math.abs(m));e.css({marginLeft:-a/2+u*y,marginTop:-c/2-m*y})}else{const u=n.scrollHeight===c,m=e.closest(".svg-image"),y=e.closest(".graphie"),b=m.length>0?m:y;b.css("line-height","normal"),u&&n.scrollHeight!==c&&(c=n.scrollHeight);const M=b.css(["max-width","width"])??{"max-width":"0px"},x=M["max-width"]!=="none"?M["max-width"]:M.width;let S=(b.width()??0)/parseInt(x.replace(/px$/,""))*100;(isNaN(S)||S===0)&&(S=100);const P=e.css("padding")??"0px",I=Math.round(parseInt((P!=="none"?P:"0px").replace(/px$/,""))*S)/100,_=kr[o||"center"],O={marginLeft:Math.round(a*_[0]*S)/100,marginTop:Math.round(c*_[1]*S)/100,padding:`${I}px`};S!==1&&(O.fontSize=`${Math.round(S*100)/100}%`),e.css(O)}},yt={Graphie:Zn,createGraphie:function(n){return new Zn(n)},unscaledSvgPath:function(n){return n[0]===!0?"":n.map(function(t,e){return t===!0?"z":(e===0?"M":"L")+t[0]+" "+t[1]}).join("")},getDistance:function(n,t){return _s(n,t)},findAngleDeprecated:function(n,t,e){if(e===void 0){const o=n[0]-t[0],a=n[1]-t[1];return!o&&!a?0:(180+Math.atan2(-a,-o)*180/Math.PI+360)%360}return yt.findAngleDeprecated(n,e)-yt.findAngleDeprecated(t,e)},graphs:{}};(function(n,t,e,o){if(typeof n>"u")return;var a="virtualMouseBindings",c="virtualTouchID",u="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),m="clientX clientY pageX pageY screenX screenY".split(" "),y=n.event.mouseHooks?n.event.mouseHooks.props:[],b=n.event.props.concat(y),M={},x=0,S=0,P=0,C=!1,I=[],_=!1,O=!1,F="addEventListener"in e,G=n(e),K=1,tt=0;n.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function J(z){for(;z&&typeof z.originalEvent<"u";)z=z.originalEvent;return z}function R(z,Y){var et=z.type,pt,xt,kt,It,bt,Re,ue,ge,We;if(z=n.Event(z),z.type=Y,pt=z.originalEvent,xt=n.event.props,et.search(/mouse/)>-1&&(xt=b),pt)for(ue=xt.length,It;ue;)It=xt[--ue],z[It]=pt[It];if(et.search(/mouse(down|up)|click/)>-1&&!z.which&&(z.which=1),et.search(/^touch/)!==-1&&(kt=J(pt),et=kt.touches,bt=kt.changedTouches,Re=et&&et.length?et[0]:bt&&bt.length?bt[0]:o,Re))for(ge=0,We=m.length;ge<We;ge++)It=m[ge],z[It]=Re[It];return z}function ot(z){for(var Y={},et,pt;z;){et=n.data(z,a);for(pt in et)et[pt]&&(Y[pt]=Y.hasVirtualBinding=!0);z=z.parentNode}return Y}function q(z,Y){for(var et;z;){if(et=n.data(z,a),et&&(!Y||et[Y]))return z;z=z.parentNode}return null}function V(){O=!1}function it(){O=!0}function st(){tt=0,I.length=0,_=!1,it()}function Z(){V()}function lt(){rt(),x=setTimeout(function(){x=0,st()},n.vmouse.resetTimerDuration)}function rt(){x&&(clearTimeout(x),x=0)}function W(z,Y,et){var pt;return(et&&et[z]||!et&&q(Y.target,z))&&(pt=R(Y,z),n(Y.target).trigger(pt)),pt}function mt(z){var Y=n.data(z.target,c);if(!_&&(!tt||tt!==Y)){var et=W("v"+z.type,z);et&&(et.isDefaultPrevented()&&z.preventDefault(),et.isPropagationStopped()&&z.stopPropagation(),et.isImmediatePropagationStopped()&&z.stopImmediatePropagation())}}function Mt(z){var Y=J(z).touches,et,pt;if(Y&&Y.length===1&&(et=z.target,pt=ot(et),pt.hasVirtualBinding)){tt=K++,n.data(et,c,tt),rt(),Z(),C=!1;var xt=J(z).touches[0];S=xt.pageX,P=xt.pageY,W("vmouseover",z,pt),W("vmousedown",z,pt)}}function Bt(z){O||(C||W("vmousecancel",z,ot(z.target)),C=!0,lt())}function pe(z){if(!O){var Y=J(z).touches[0],et=xt,pt=n.vmouse.moveDistanceThreshold,xt=xt||Math.abs(Y.pageX-S)>pt||Math.abs(Y.pageY-P)>pt,kt=ot(z.target);xt&&!et&&W("vmousecancel",z,kt),W("vmousemove",z,kt),lt()}}function j(z){if(!O){it();var Y=ot(z.target),et;if(W("vmouseup",z,Y),!C){var pt=W("vclick",z,Y);pt&&pt.isDefaultPrevented()&&(et=J(z).changedTouches[0],I.push({touchID:tt,x:et.clientX,y:et.clientY}),_=!0)}W("vmouseout",z,Y),C=!1,lt()}}function Ie(z){var Y=n.data(z,a),et;if(Y){for(et in Y)if(Y[et])return!0}return!1}function $e(){}function Mn(z){var Y=z.substr(1);return{setup:function(et,pt){Ie(this)||n.data(this,a,{});var xt=n.data(this,a);xt[z]=!0,M[z]=(M[z]||0)+1,M[z]===1&&G.bind(Y,mt),n(this).bind(Y,$e),F&&(M.touchstart=(M.touchstart||0)+1,M.touchstart===1&&G.bind("touchstart",Mt).bind("touchend",j).bind("touchmove",pe).bind("scroll",Bt))},teardown:function(et,pt){--M[z],M[z]||G.unbind(Y,mt),F&&(--M.touchstart,M.touchstart||G.unbind("touchstart",Mt).unbind("touchmove",pe).unbind("touchend",j).unbind("scroll",Bt));var xt=n(this),kt=n.data(this,a);kt&&(kt[z]=!1),xt.unbind(Y,$e),Ie(this)||xt.removeData(a)}}}for(var me=0;me<u.length;me++)n.event.special[u[me]]=Mn(u[me]);F&&e.addEventListener("click",function(z){var Y=I.length,et=z.target,pt,xt,kt,It,bt;if(Y)for(pt=z.clientX,xt=z.clientY,threshold=n.vmouse.clickDistanceThreshold,kt=et;kt;){for(It=0;It<Y;It++)if(bt=I[It],kt===et&&Math.abs(bt.x-pt)<threshold&&Math.abs(bt.y-xt)<threshold||n.data(kt,c)===bt.touchID){z.preventDefault(),z.stopPropagation();return}kt=kt.parentNode}},!0)})(E,window,document);const dn=function(n,t,e){const o=n.range[0][1]-n.range[0][0],a=n.range[1][1]-n.range[1][0],c=o+a,u=n.unscaleVector(Me(1,e)),m=Dt(qn(u),c),y=ct(t,m),b=Wt(u)[1];return n.constrainToBoundsOnAngle(y,4,b*Math.PI/180)};class fi{constructor(t,e){this.graphie=t,this.initialPoint=e}transform(t){const e=At.getPrefixedTransform();this.wrapper.style[e]=t}toFront(){const t=this.wrapper.parentNode;t&&t.appendChild(this.wrapper)}toBack(){const t=this.wrapper.parentNode;t!=null&&t.firstChild!==this.wrapper&&t.insertBefore(this.wrapper,t.firstChild)}remove(){this.visibleShape.remove(),E(this.wrapper).remove()}getMouseTarget(){return this.visibleShape[0]}moveTo(t){const e=ut(this.graphie.scalePoint(t),this.graphie.scalePoint(this.initialPoint)),o=At.getCanUse3dTransform(),a="translateX("+e[0]+"px) translateY("+e[1]+"px)"+(o?" translateZ(0)":"");this.transform(a)}hide(){this.visibleShape.hide()}show(){this.visibleShape.show()}attr(...t){this.visibleShape.attr(...t)}animate(...t){this.visibleShape.animate(...t)}}const Ar={center:null,createPath:null,mouselayer:!1};class Pr extends fi{constructor(t,e,o){const a=t.scalePoint(w.head(e));super(t,a),o=w.extend({},Ar,o);const c=t.fixedPath(e,o.center,o.createPath);this.wrapper=c.wrapper,this.visibleShape=c.visibleShape,o.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper)}}const Se=class Se extends Pr{constructor(t,e){const o=[.75,0],c=[[-3,4],[-2.75,2.5],[0,.25],o,[0,-.25],[-2.75,-2.5],[-3,-4]].map(u=>{const m=ut(u,o),y=Dt(m,Se.scale);return ct(o,y)}).map(t.unscalePoint);super(t,c,{center:t.unscalePoint(o),createPath:Er}),this.center=o,this.attr(w.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},e))}toCoordAtAngle(t,e){const o=this.graphie.scalePoint(dn(this.graphie,t,e));this.transform("translateX("+(o[0]+Se.scale*this.center[0])+"px) translateY("+(o[1]+Se.scale*this.center[1])+"px) translateZ(0) rotate("+(360-jt.bound(e))+"deg)")}};Se.scale=1.4;let ce=Se;const Er=function(n){let t="M"+n[0][0]+" "+n[0][1];for(let e=1;e<n.length;e+=3)t+="C"+n[e][0]+" "+n[e][1]+" "+n[e+1][0]+" "+n[e+1][1]+" "+n[e+2][0]+" "+n[e+2][1];return t},Ir={maxScale:1,mouselayer:!1,shadow:!1,disableMouseEventsOnWrapper:!1};class yn extends fi{constructor(t,e,o,a){super(t,e),a=w.extend({},Ir,a);const c=t.fixedEllipse(e,o,a.maxScale,a.padding);if(this.visibleShape=c.visibleShape,this.wrapper=c.wrapper,this.graphie=t,this.initialPoint=e,a.interactiveKindForTesting&&this.wrapper.setAttribute("data-interactive-kind-for-testing",a.interactiveKindForTesting),a.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper),a.shadow){const u="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))",m=this.wrapper;m.style.filter=u,this.moveTo=function(y){const b=ut(this.graphie.scalePoint(y),this.graphie.scalePoint(this.initialPoint)),M=At.getCanUse3dTransform(),x="translateX("+Math.round(b[0])+"px) translateY("+Math.round(b[1])+"px)"+(M?" translateZ(0)":"");this.transform(x)}}a.disableMouseEventsOnWrapper&&(this.wrapper.style.pointerEvents="none",this.visibleShape.node.style.pointerEvents="auto")}}const Rr={thickness:2,mouselayer:!1};class wn extends fi{constructor(t,e,o,a){const c=[t.range[0][0],0],u=[t.range[0][1],0],m=t.scalePoint(c);super(t,m),a=w.extend({},Rr,a);const y=t.fixedLine(c,u,a.thickness);this.wrapper=y.wrapper,this.visibleShape=y.visibleShape,a.interactiveKindForTesting&&this.wrapper.setAttribute("data-interactive-kind-for-testing",a.interactiveKindForTesting),this.visibleShape.attr(a.normalStyle),this.initialPoint=m,this.initialLength=_s(t.scalePoint(c),t.scalePoint(u)),a.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper),this.moveTo(e,o)}getMouseTarget(){return this.wrapper}moveTo(t,e){const o=this.graphie.scalePoint(t),a=this.graphie.scalePoint(e),c=Wt(ut(a,o)),u=c[0],m=jt.bound(c[1]),y=ut(o,this.initialPoint),b=jt.bound(u/this.initialLength),M=At.getCanUse3dTransform(),x="translateX("+y[0]+"px) translateY("+y[1]+"px) "+(M?" translateZ(0)":"")+"rotate("+m+"deg) scaleX("+b+") scaleY(1)";this.transform(x)}}const{eq:xn,deepEq:Lr}=Et;function Bs(n){return xn(n,0)?0:n>0?1:-1}function pi(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(e[0]-n[0])*(t[1]-n[1])}function Xa(n,t,e){return xn(pi(n,t,e),0)}function Dr(n,t,e){return e[0]<=Math.max(n[0],t[0])&&e[0]>=Math.min(n[0],t[0])&&e[1]<=Math.max(n[1],t[1])&&e[1]>=Math.min(n[1],t[1])}function Nr(n,t){const e=[[n[0],n[1],t[0]],[n[0],n[1],t[1]],[t[0],t[1],n[0]],[t[0],t[1],n[1]]],o=w.map(e,function(a){return Bs(pi(...a))});if(o[0]!==o[1]&&o[2]!==o[3])return!0;for(let a=0;a<4;a++)if(o[a]===0&&Dr(...e[a]))return!0;return!1}function Ua(n){for(let t=0;t<n.length;t++)for(let e=t+1;e<n.length;e++){if(ci(n[t],n[e]))return!0;const o=(t+1)%n.length,a=(e+1)%n.length;if(o===e||a===t)continue;const c=[n[t],n[o]],u=[n[e],n[a]];if(Nr(c,u))return!0}return!1}function jn(n,t){return w.map(w.zip(n,t),function(e){return e[0]-e[1]})}function Kn(n){return[-n[0],-n[1]]}function Br(n){const t=w.zip(n,n.slice(1).concat(n.slice(0,1))),e=w.map(t,function(o){const a=o[0],c=o[1];return(c[0]-a[0])*(c[1]+a[1])});return _o(e)>0}function Jn(n){return Math.sqrt(w.reduce(n,function(t,e){return t+Math.pow(e,2)},0))}function Fr(n,t){return w.reduce(w.zip(n,t),function(e,o){return e+o[0]*o[1]},0)}function cs(n){return w.zip(n,Te(n)).map(function(e){return Jn(jn(...e))})}function hs(n){const t=w.zip(Te(n,-1),n,Te(n,1)),e=w.map(t,function(a){const c=jn(a[1],a[0]),u=jn(a[2],a[1]),m=Math.acos(Fr(c,u)/(Jn(c)*Jn(u)));return Bs(pi(...a))>0?m:-m}),o=w.reduce(e,function(a,c){return a+c},0);return w.map(e,function(a){return o>0?Math.PI-a:Math.PI+a})}function $a(n,t,e){if(n.length!==t.length)return!1;const o=n.length,a=hs(n),c=hs(t),u=cs(n),m=cs(t);for(let y=0;y<2*o;y++){let b=c.slice(),M=m.slice();if(y>=o&&(b.reverse(),M.reverse(),M=Te(M,1)),b=Te(b,y),M=Te(M,y),Lr(a,b)){const x=w.zip(u,M),S=w.map(x,function(I){return I[0]/I[1]}),P=w.all(S,function(I){return xn(S[0],I)}),C=w.all(x,function(I){return Ts(I[0],I[1],e)});if(P&&C)return!0}}return!1}function Wa(n,t,e){return Math.acos((n*n+t*t-e*e)/(2*n*t))*180/Math.PI}function Za([n,t,e,o]){n<0&&(n*=-1,t*=-1,e*=-1);const a=2*Math.PI;for(t<0&&(t*=-1,e*=-1,e+=a/2);e>0;)e-=a;for(;e<0;)e+=a;return[n,t,e,o]}function Te(n,t){return t=typeof t>"u"?1:t%n.length,n.slice(t).concat(n.slice(0,t))}function ja(n,t){if(xn(n[0],t[0]))return"x = "+n[0].toFixed(3);const e=(t[1]-n[1])/(t[0]-n[0]),o=n[1]-e*n[0];return"y = "+e.toFixed(3)+"x + "+o.toFixed(3)}function Ka(n,t){const e=n[0][0],o=n[0][1],a=n[1][0],c=n[1][1],u=t[0][0],m=t[0][1],y=t[1][0],b=t[1][1],M=(e-a)*(m-b)-(o-c)*(u-y);if(Math.abs(M)<1e-9)return"Lines are parallel";const x=((e*c-o*a)*(u-y)-(e-a)*(u*b-m*y))/M,S=((e*c-o*a)*(m-b)-(o-c)*(u*b-m*y))/M;return"Intersection: ("+x.toFixed(3)+", "+S.toFixed(3)+")"}function us(n){const t=70.2941120352484,e=.5687298702748785*20;return(t-e)*Math.exp(-.037587715462826674*n)+e}function ze(n,t){return[n*Math.cos(t),n*Math.sin(t)*-1]}function Ge(n,t){const e=t*Math.PI/180;return ze(n,e)}let qt=!1;const Or={bogusShape:{animate:function(){},attr:function(){},remove:function(){}}};w.extend(yt.Graphie.prototype,{labelAngle:function(n){const t=this;w.defaults(n,{point1:[0,0],vertex:[0,0],point3:[0,0],label:null,numArcs:1,showRightAngleMarker:!0,pushOut:0,clockwise:!1,style:{}});let e=n.text===void 0?"":n.text;const o=n.vertex,a=t.scalePoint(o);let c,u;n.clockwise?(c=n.point1,u=n.point3):(c=n.point3,u=n.point1);const m=yt.findAngleDeprecated(c,o),y=yt.findAngleDeprecated(u,o),b=(y+360-m)%360,M=(m+b/2)%360;let S=5*n.pushOut+us(b);const P=[];if(Math.abs(b-90)<1e-9&&n.showRightAngleMarker){const C=ct(a,Ge(S,m)),I=ct(a,Ge(S,y));S*=Math.SQRT2;const _=ct(a,Ge(S,M));w.each([C,I],function(O){P.push(t.scaledPath([O,_],n.style))})}else w.times(n.numArcs,function(C){P.push(t.arc(o,t.unscaleVector(S),m,y,n.style)),S+=3});if(e){const C=e.match(/\$deg(\d)?/);if(C){const F=C[1]||1;e=e.replace(C[0],jt.toFixedApprox(b,F)+"^{\\circ}")}const I=Ge(S+15,M),_=ct(a,I),O=t.unscalePoint(_);n.label?(n.label.setPosition(O),n.label.processMath(e,!0)):t.label(O,e,"center",n.style)}return P},labelSide:function(n){const t=this;w.defaults(n,{point1:[0,0],point2:[0,0],label:null,text:"",numTicks:0,numArrows:0,clockwise:!1,style:{}});let e,o;n.clockwise?(e=n.point1,o=n.point2):(e=n.point2,o=n.point1);const a=[(e[0]+o[0])/2,(e[1]+o[1])/2],c=t.scalePoint(a),u=Math.atan2(o[1]-e[1],o[0]-e[0]),m=u+Math.PI/2,y=[];let b=0;if(n.numTicks){const x=n.numTicks,S=5,P=5,C=w.extend({},n.style,{strokeWidth:2});w.times(x,function(I){const _=S*(I-(x-1)/2),O=ze(_,u),F=ze(P,m),G=[ct(c,O,F),ct(c,O,Kn(F))];y.push(t.scaledPath(G,C))}),b+=S*(x-1)+15}if(n.numArrows){const x=n.numArrows,S=[e,o].sort(function(_,O){return _[1]===O[1]?_[0]-O[0]:_[1]-O[1]})[0],P=t.scalePoint(S),C=w.extend({},n.style,{arrows:"->",strokeWidth:2}),I=5;w.times(x,function(_){const O=b+I*_;let F=ze(O,u);S!==e&&(F=Kn(F));const G=ct(c,F);y.push(t.scaledPath([P,G],C))})}let M=n.text;if(M){const x=M.match(/\$len(\d)?/);if(x){const _=yt.getDistance(e,o),O=x[1]||1;M=M.replace(x[0],jt.toFixedApprox(_,O))}const P=ze(20,m),C=ct(c,P),I=t.unscalePoint(C);n.label?(n.label.setPosition(I),n.label.processMath(M,!0)):t.label(I,M,"center",n.style)}return y},labelVertex:function(n){const t=this;if(w.defaults(n,{point1:null,vertex:[0,0],point3:null,label:null,text:"",clockwise:!1,style:{}}),!n.text)return;const e=n.vertex,o=t.scalePoint(e);let a,c;n.clockwise?(a=n.point1,c=n.point3):(a=n.point3,c=n.point1);let u=135,m;if(a&&c){const S=yt.findAngleDeprecated(a,e);u=(yt.findAngleDeprecated(c,e)+360-S)%360,m=(S+u/2+180)%360}else a?m=yt.findAngleDeprecated(e,a)+90:c?m=yt.findAngleDeprecated(c,e)+90:m=135;const y=10+us(360-u),b=Ge(y,m),M=ct(o,b),x=t.unscalePoint(M);n.label?(n.label.setPosition(x),n.label.processMath(n.text,!0)):t.label(x,n.text,"center",n.style)},addMovablePoint:function(n){const t=E.extend(!0,{graph:this,coord:[0,0],snapX:0,snapY:0,pointSize:4,highlight:!1,dragging:!1,visible:!0,bounded:!0,constraints:{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},lineStarts:[],lineEnds:[],polygonVertices:[],normalStyle:{},highlightStyle:{fill:H.INTERACTING,stroke:H.INTERACTING},labelStyle:{color:H.INTERACTIVE},vertexLabel:"",mouseTarget:null},n),e=t.constraints.fixed?H.DYNAMIC:H.INTERACTIVE;t.normalStyle=w.extend({},{fill:e,stroke:e},n.normalStyle),n.coordX!==void 0&&(t.coord[0]=n.coordX),n.coordY!==void 0&&(t.coord[1]=n.coordY);const o=t.graph,a=function(u){t.visible&&t.bounded&&!t.constraints.fixed&&(u=o.constrainToBounds(u,10));let m=u[0],y=u[1];if(t.snapX!==0&&(m=Math.round(m/t.snapX)*t.snapX),t.snapY!==0&&(y=Math.round(y/t.snapY)*t.snapY),t.constraints.fixedDistance.snapPoints){const M=o.scalePoint(u);let x=M[0],S=M[1];const P=2*Math.PI/t.constraints.fixedDistance.snapPoints,C=t.constraints.fixedDistance.dist,I=t.constraints.fixedDistance.point,_=(I[0]-o.range[0][0])*o.scale[0],O=(-I[1]+o.range[1][1])*o.scale[1];let F=x-_,G=-S+O,K=Math.atan(G/F);F<0&&(K+=Math.PI),K=Math.round(K/P)*P,F=C*Math.cos(K),G=C*Math.sin(K),x=F+_,S=-G+O,m=jt.roundTo(5,x/o.scale[0]+o.range[0][0]),y=jt.roundTo(5,o.range[1][1]-S/o.scale[1])}return t.applyConstraint([m,y])};t.applyConstraint=function(u,m,y){let b=u.slice();const M={};if(y?E.extend(M,{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},m):E.extend(M,this.constraints,m),M.constrainX)b=[this.coord[0],u[1]];else if(M.constrainY)b=[u[0],this.coord[1]];else if(typeof M.fixedAngle.angle=="number"&&typeof M.fixedDistance.dist=="number"){const x=M.fixedAngle.vertex.coord||M.fixedAngle.vertex,S=M.fixedAngle.ref.coord||M.fixedAngle.ref,P=M.fixedDistance.point.coord||M.fixedDistance.point,C=(M.fixedAngle.angle+yt.findAngleDeprecated(S,x))*Math.PI/180,I=M.fixedDistance.dist;b[0]=I*Math.cos(C)+P[0],b[1]=I*Math.sin(C)+P[1]}else if(typeof M.fixedAngle.angle=="number"){const x=M.fixedAngle.vertex.coord||M.fixedAngle.vertex,S=M.fixedAngle.ref.coord||M.fixedAngle.ref,P=(M.fixedAngle.angle+yt.findAngleDeprecated(S,x))*Math.PI/180,C=yt.findAngleDeprecated(u,x)*Math.PI/180;let _=yt.getDistance(u,x)*Math.cos(P-C);_=_<1?1:_,b[0]=_*Math.cos(P)+x[0],b[1]=_*Math.sin(P)+x[1]}else if(typeof M.fixedDistance.dist=="number"){const x=M.fixedDistance.point.coord||M.fixedDistance.point;let S=yt.findAngleDeprecated(u,x);const P=M.fixedDistance.dist;S=S*Math.PI/180,b[0]=P*Math.cos(S)+x[0],b[1]=P*Math.sin(S)+x[1]}else M.fixed&&(b=t.coord);return b},t.coord=a(t.coord);const c=2;if(t.visible&&o.style(t.normalStyle,function(){const u=[t.pointSize/o.scale[0],t.pointSize/o.scale[1]],m={maxScale:c,padding:2};t.visibleShape=new yn(o,t.coord,u,m),t.visibleShape.attr(w.omit(t.normalStyle,"scale")),t.visibleShape.toFront()}),t.normalStyle.scale=1,t.highlightStyle.scale=c,t.vertexLabel&&(t.labeledVertex=this.label([0,0],"","center",t.labelStyle)),t.drawLabel=function(){t.vertexLabel&&t.graph.labelVertex({vertex:t.coord,label:t.labeledVertex,text:t.vertexLabel,style:t.labelStyle})},t.drawLabel(),t.grab=function(u){u=u||[0,0],E(document).bind("vmousemove.point vmouseup.point",function(m){m.preventDefault(),t.dragging=!0,qt=!0;let y=ct(o.getMouseCoord(m),u);y=a(y);let b=y[0],M=y[1],x,S;if(m.type==="vmousemove"){let P=!0;if(w.isFunction(t.onMove)){const C=t.onMove(b,M);C===!1&&(P=!1),w.isArray(C)&&(b=C[0],M=C[1])}if(x=(b-o.range[0][0])*o.scale[0],S=(-M+o.range[1][1])*o.scale[1],P){const C=o.unscalePoint([x,S]);t.visibleShape.moveTo(C),t.mouseTarget.moveTo(C),t.coord=[b,M],t.updateLineEnds(),E(t).trigger("move")}t.drawLabel()}else if(m.type==="vmouseup"){if(E(document).unbind(".point"),t.dragging=!1,qt=!1,w.isFunction(t.onMoveEnd)){const P=t.onMoveEnd(b,M);if(w.isArray(P)){b=P[0],M=P[1],x=(b-o.range[0][0])*o.scale[0],S=(-M+o.range[1][1])*o.scale[1];const C=o.unscalePoint([x,S]);t.visibleShape.moveTo(C),t.mouseTarget.moveTo(C),t.coord=[b,M]}}t.highlight||(t.visibleShape.animate(t.normalStyle,50),t.onUnhighlight&&t.onUnhighlight())}})},t.visible&&!t.constraints.fixed){if(!t.mouseTarget){const m=o.unscaleVector(16),y={mouselayer:!0,padding:0,disableMouseEventsOnWrapper:!0,interactiveKindForTesting:"movable-point"};t.mouseTarget=new yn(o,t.coord,m,y),t.mouseTarget.attr({fill:"#000",opacity:0})}const u=E(t.mouseTarget.getMouseTarget());u.css("cursor","move"),u.bind("vmousedown vmouseover vmouseout",function(m){if(m.type==="vmouseover")t.highlight=!0,qt||(t.visibleShape.animate(t.highlightStyle,50),t.onHighlight&&t.onHighlight());else if(m.type==="vmouseout")t.highlight=!1,!t.dragging&&!qt&&(t.visibleShape.animate(t.normalStyle,50),t.onUnhighlight&&t.onUnhighlight());else if(m.type==="vmousedown"&&(m.which===1||m.which===0)){m.preventDefault();const y=t.coord,b=o.getMouseCoord(m),x=!("ontouchstart"in window)?[0,0]:ut(y,b);t.grab(x)}})}return t.moveTo=function(u,m,y){const M=yt.getDistance(this.graph.scalePoint([u,m]),this.graph.scalePoint(this.coord))*5,x=y&&function(S){t.coord=S,t.updateLineEnds()};this.visibleShape.animateTo([u,m],M,x),this.mouseTarget.animateTo([u,m],M,x),this.coord=[u,m],w.isFunction(this.onMove)&&this.onMove(u,m)},t.updateLineEnds=function(){E(this.lineStarts).each(function(){this.coordA=t.coord,this.transform()}),E(this.lineEnds).each(function(){this.coordZ=t.coord,this.transform()}),E(this.polygonVertices).each(function(){this.transform()})},t.setCoord=function(u){this.visible&&(this.visibleShape.moveTo(u),this.mouseTarget!=null&&this.mouseTarget.moveTo(u)),this.coord=u.slice()},t.setCoordConstrained=function(u){this.setCoord(a(u))},t.toBack=function(){this.visible&&(this.mouseTarget!=null&&this.mouseTarget.toBack(),this.visibleShape.toBack())},t.toFront=function(){this.visible&&(this.mouseTarget!=null&&this.mouseTarget.toFront(),this.visibleShape.toFront())},t.remove=function(){this.visibleShape&&this.visibleShape.remove(),this.mouseTarget&&this.mouseTarget.remove(),this.labeledVertex&&this.labeledVertex.remove()},t},addMovableLineSegment:function(n){const t=E.extend({graph:this,coordA:[0,0],coordZ:[1,1],snapX:0,snapY:0,fixed:!1,ticks:0,normalStyle:{},highlightStyle:{stroke:H.INTERACTING,"stroke-width":6},labelStyle:{stroke:H.INTERACTIVE,color:H.INTERACTIVE},highlight:!1,dragging:!1,tick:[],extendLine:!1,extendRay:!1,constraints:{fixed:!1,constrainX:!1,constrainY:!1},sideLabel:"",vertexLabels:[],numArrows:0,numTicks:0,movePointsWithLine:!1},n),e=t.fixed?H.DYNAMIC:H.INTERACTIVE;t.normalStyle=w.extend({},{"stroke-width":2,stroke:e},n.normalStyle),t.arrowStyle=w.extend({},t.normalStyle,{color:t.normalStyle.stroke}),n.pointA!==void 0?(t.coordA=n.pointA.coord,t.pointA.lineStarts.push(t)):n.coordA!==void 0&&(t.coordA=n.coordA.slice()),n.pointZ!==void 0?(t.coordZ=n.pointZ.coord,t.pointZ.lineEnds.push(t)):n.coordA!==void 0&&(t.coordA=t.coordA.slice());const o=t.graph;o.style(t.normalStyle);for(let c=0;c<t.ticks;++c)t.tick[c]=Or.bogusShape;let a=yt.unscaledSvgPath([[0,0],[1,0]]);for(let c=0;c<t.ticks;++c){const u=.5-(t.ticks-1+c*2)/o.scale[0];a+=yt.unscaledSvgPath([[u,-7],[u,7]])}if(n={thickness:Math.max(t.normalStyle["stroke-width"],t.highlightStyle["stroke-width"])},t.visibleLine=new wn(o,[0,0],[1,0],n),t.visibleLine.attr(t.normalStyle),!t.fixed){const c={thickness:30,mouselayer:!0,interactiveKindForTesting:"movable-line"};t.mouseTarget=new wn(o,[0,0],[1,0],c),t.mouseTarget.attr({fill:"#000",opacity:0})}if(t.transform=function(c){c&&(typeof this.pointA=="object"&&(this.coordA=this.pointA.coord),typeof this.pointZ=="object"&&(this.coordZ=this.pointZ.coord));const u=function(I){const _=I.graph.scalePoint(I.coordA),O=I.graph.scalePoint(I.coordZ);return Wt(ut(O,_))[1]},m=function(I,_,O){I=t.graph;const F=I.range[0][1]-I.range[0][0],G=I.range[1][1]-I.range[1][0],K=F+G,tt=I.unscaleVector(Me(1,O)),J=Dt(qn(tt),K),R=ct(_,J),ot=Wt(tt)[1];return I.constrainToBoundsOnAngle(R,4,ot*Math.PI/180)},y=u(this);let b=this.coordA,M=this.coordZ;this.extendLine?(b=m(o,b,360-y),M=m(o,M,(540-y)%360)):this.extendRay&&(M=m(o,b,360-y));const x=[this.visibleLine];this.fixed||x.push(this.mouseTarget),w.each(x,function(I){I.moveTo(b,M)}),this._arrows==null&&(this._arrows=[],this.extendLine?(this._arrows.push(new ce(o,this.normalStyle)),this._arrows.push(new ce(o,this.normalStyle))):this.extendRay&&this._arrows.push(new ce(o,this.normalStyle)));const S=[this.coordA,this.coordZ],P=[360-y,(540-y)%360];w.each(this._arrows,function(I,_){I.toCoordAtAngle(S[_],P[_])}),w.invoke(this.temp,"remove"),this.temp=[];const C=this.coordA[0]<this.coordZ[0]||this.coordA[0]===this.coordZ[0]&&this.coordA[1]>this.coordZ[1];this.sideLabel&&this.temp.push(this.graph.labelSide({point1:this.coordA,point2:this.coordZ,label:this.labeledSide,text:this.sideLabel,numArrows:this.numArrows,numTicks:this.numTicks,clockwise:C,style:this.labelStyle})),this.vertexLabels.length&&(this.graph.labelVertex({vertex:this.coordA,point3:this.coordZ,label:this.labeledVertices[0],text:this.vertexLabels[0],clockwise:C,style:this.labelStyle}),this.graph.labelVertex({point1:this.coordA,vertex:this.coordZ,label:this.labeledVertices[1],text:this.vertexLabels[1],clockwise:C,style:this.labelStyle})),this.temp=w.flatten(this.temp)},t.toBack=function(){t.fixed||t.mouseTarget.toBack(),t.visibleLine.toBack()},t.toFront=function(){t.fixed||t.mouseTarget.toFront(),t.visibleLine.toFront()},t.remove=function(){t.fixed||t.mouseTarget.remove(),t.visibleLine.remove(),t.labeledSide&&t.labeledSide.remove(),t.labeledVertices&&w.invoke(t.labeledVertices,"remove"),t._arrows&&w.invoke(t._arrows,"remove"),t.temp.length&&w.invoke(t.temp,"remove")},t.hide=function(){t.visibleLine.hide(),t.temp.length&&w.invoke(t.temp,"hide"),t._arrows&&w.invoke(t._arrows,"hide")},t.show=function(){t.visibleLine.show(),t.temp.length&&w.invoke(t.temp,"show"),t._arrows&&w.invoke(t._arrows,"show")},t.sideLabel&&(t.labeledSide=this.label([0,0],"","center",t.labelStyle)),t.vertexLabels.length&&(t.labeledVertices=w.map(t.vertexLabels,function(c){return this.label([0,0],"","center",t.labelStyle)},this)),!t.fixed&&!t.constraints.fixed){const c=E(t.mouseTarget.getMouseTarget());c.css("cursor","move"),c.bind("vmousedown vmouseover vmouseout",function(u){if(u.type==="vmouseover")qt||(t.highlight=!0,t.visibleLine.animate(t.highlightStyle,50),t.arrowStyle=w.extend({},t.arrowStyle,{color:t.highlightStyle.stroke,stroke:t.highlightStyle.stroke}),t.transform());else if(u.type==="vmouseout")t.highlight=!1,t.dragging||(t.visibleLine.animate(t.normalStyle,50),t.arrowStyle=w.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke}),t.transform());else if(u.type==="vmousedown"&&(u.which===1||u.which===0)){u.preventDefault();let m=(u.pageX-E(o.raphael.canvas.parentNode).offset().left)/o.scale[0]+o.range[0][0],y=o.range[1][1]-(u.pageY-E(o.raphael.canvas.parentNode).offset().top)/o.scale[1];t.snapX>0&&(m=Math.round(m/t.snapX)*t.snapX),t.snapY>0&&(y=Math.round(y/t.snapY)*t.snapY);const b=[t.coordA[0]-m,t.coordA[1]-y],M=[t.coordZ[0]-m,t.coordZ[1]-y],x=-Math.min(o.scaleVector(b)[0],o.scaleVector(M)[0]),S=Math.max(o.scaleVector(b)[0],o.scaleVector(M)[0]),P=Math.max(o.scaleVector(b)[1],o.scaleVector(M)[1]),C=-Math.min(o.scaleVector(b)[1],o.scaleVector(M)[1]);E(document).bind("vmousemove.lineSegment vmouseup.lineSegment",function(I){I.preventDefault(),t.dragging=!0,qt=!0;let _=I.pageX-E(o.raphael.canvas.parentNode).offset().left,O=I.pageY-E(o.raphael.canvas.parentNode).offset().top;_=Math.max(x+10,Math.min(o.xpixels-10-S,_)),O=Math.max(P+10,Math.min(o.ypixels-10-C,O));let F=_/o.scale[0]+o.range[0][0],G=o.range[1][1]-O/o.scale[1];if(t.snapX>0&&(F=Math.round(F/t.snapX)*t.snapX),t.snapY>0&&(G=Math.round(G/t.snapY)*t.snapY),I.type==="vmousemove"){t.constraints.constrainX&&(F=t.coordA[0]-b[0]),t.constraints.constrainY&&(G=t.coordA[1]-b[1]);const K=F+b[0]-t.coordA[0],tt=G+b[1]-t.coordA[1];t.coordA=[F+b[0],G+b[1]],t.coordZ=[F+M[0],G+M[1]],t.transform(),t.movePointsWithLine&&(typeof t.pointA=="object"&&t.pointA.setCoord([t.pointA.coord[0]+K,t.pointA.coord[1]+tt]),typeof t.pointZ=="object"&&t.pointZ.setCoord([t.pointZ.coord[0]+K,t.pointZ.coord[1]+tt])),w.isFunction(t.onMove)&&t.onMove(K,tt)}else I.type==="vmouseup"&&(E(document).unbind(".lineSegment"),t.dragging=!1,qt=!1,t.highlight||(t.visibleLine.animate(t.normalStyle,50),t.arrowStyle=w.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke}),t.transform()),w.isFunction(t.onMoveEnd)&&t.onMoveEnd());E(t).trigger("move")})}})}return t.pointA!==void 0&&t.pointA.toFront(),t.pointZ!==void 0&&t.pointZ.toFront(),t.transform(),t},addMovablePolygon:function(n){const t=this,e=E.extend({snapX:0,snapY:0,fixed:!1,constrainToGraph:!0,normalStyle:{},highlightStyle:{stroke:H.INTERACTING,"stroke-width":2,fill:H.INTERACTING,"fill-opacity":.05},pointHighlightStyle:{fill:H.INTERACTING,stroke:H.INTERACTING},labelStyle:{stroke:H.DYNAMIC,"stroke-width":1,color:H.DYNAMIC},angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],updateOnPointMove:!0,closed:!0},w.omit(n,"points")),o=e.fixed?H.DYNAMIC:H.INTERACTIVE;e.normalStyle=w.extend({"stroke-width":2,"fill-opacity":0,fill:o,stroke:o},n.normalStyle),e.points=n.points;const a=function(c){return!w.isArray(c)};if(e.update=function(){const c=e.points.length;e.coords=w.map(e.points,function(y,b){return a(y)?y.coord:y}),e.left=w.min(w.pluck(e.coords,0)),e.right=w.max(w.pluck(e.coords,0)),e.top=w.max(w.pluck(e.coords,1)),e.bottom=w.min(w.pluck(e.coords,1));let u=w.map(e.coords,function(y){return t.scalePoint(y)});e.closed?u.push(!0):u=u.concat(w.clone(u).reverse()),e.path=yt.unscaledSvgPath(u),w.invoke(e.temp,"remove"),e.temp=[];const m=Br(e.coords);(e.angleLabels.length||e.showRightAngleMarkers.length)&&w.each(e.labeledAngles,function(y,b){e.temp.push(t.labelAngle({point1:e.coords[(b-1+c)%c],vertex:e.coords[b],point3:e.coords[(b+1)%c],label:y,text:e.angleLabels[b],showRightAngleMarker:e.showRightAngleMarkers[b],numArcs:e.numArcs[b],clockwise:m,style:e.labelStyle}))}),e.sideLabels.length&&w.each(e.labeledSides,function(y,b){e.temp.push(t.labelSide({point1:e.coords[b],point2:e.coords[(b+1)%c],label:y,text:e.sideLabels[b],numArrows:e.numArrows[b],numTicks:e.numTicks[b],clockwise:m,style:e.labelStyle}))}),e.vertexLabels.length&&w.each(e.labeledVertices,function(y,b){t.labelVertex({point1:e.coords[(b-1+c)%c],vertex:e.coords[b],point3:e.coords[(b+1)%c],label:y,text:e.vertexLabels[b],clockwise:m,style:e.labelStyle})}),e.temp=w.flatten(e.temp)},e.transform=function(){e.update(),e.visibleShape.attr({path:e.path}),e.fixed||e.mouseTarget.attr({path:e.path})},e.remove=function(){e.visibleShape.remove(),e.fixed||e.mouseTarget.remove(),e.labeledAngles&&w.invoke(e.labeledAngles,"remove"),e.labeledSides&&w.invoke(e.labeledSides,"remove"),e.labeledVertices&&w.invoke(e.labeledVertices,"remove"),e.temp.length&&w.invoke(e.temp,"remove")},e.toBack=function(){e.fixed||e.mouseTarget.toBack(),e.visibleShape.toBack()},e.toFront=function(){e.fixed||e.mouseTarget.toFront(),e.visibleShape.toFront()},e.updateOnPointMove&&w.each(w.filter(e.points,a),function(c){c.polygonVertices.push(e)}),e.coords=new Array(e.points.length),e.angleLabels.length){const c=Math.max(e.angleLabels.length,e.showRightAngleMarkers.length);e.labeledAngles=w.times(c,function(){return this.label([0,0],"","center",e.labelStyle)},this)}return e.sideLabels.length&&(e.labeledSides=w.map(e.sideLabels,function(c){return this.label([0,0],"","center",e.labelStyle)},this)),e.vertexLabels.length&&(e.labeledVertices=w.map(e.vertexLabels,function(c){return this.label([0,0],"","center",e.labelStyle)},this)),e.update(),e.visibleShape=t.raphael.path(e.path),e.visibleShape.attr(e.normalStyle),e.fixed||(e.mouseTarget=t.mouselayer.path(e.path),e.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"}),E(e.mouseTarget[0]).bind("vmousedown vmouseover vmouseout",function(c){if(c.type==="vmouseover")(!qt||e.dragging)&&(e.highlight=!0,e.visibleShape.animate(e.highlightStyle,50),w.each(w.filter(e.points,a),function(u){u.visibleShape.animate(e.pointHighlightStyle,50)}));else if(c.type==="vmouseout"){if(e.highlight=!1,!e.dragging){e.visibleShape.animate(e.normalStyle,50);const u=w.filter(e.points,a);w.any(w.pluck(u,"dragging"))||w.each(u,function(m){m.visibleShape.animate(m.normalStyle,50)})}}else if(c.type==="vmousedown"&&(c.which===1||c.which===0)){c.preventDefault(),w.each(w.filter(e.points,a),function(I){I.dragging=!0});let u=(c.pageX-E(t.raphael.canvas.parentNode).offset().left)/t.scale[0]+t.range[0][0],m=t.range[1][1]-(c.pageY-E(t.raphael.canvas.parentNode).offset().top)/t.scale[1];e.snapX>0&&(u=Math.round(u/e.snapX)*e.snapX),e.snapY>0&&(m=Math.round(m/e.snapY)*e.snapY);let y=u,b=m;const M=e.coords.slice(),x=(u-e.left)*t.scale[0],S=(e.right-u)*t.scale[0],P=(e.top-m)*t.scale[1],C=(m-e.bottom)*t.scale[1];E(document).bind("vmousemove.polygon vmouseup.polygon",function(I){I.preventDefault(),e.dragging=!0,qt=!0;let _=I.pageX-E(t.raphael.canvas.parentNode).offset().left,O=I.pageY-E(t.raphael.canvas.parentNode).offset().top;e.constrainToGraph&&(_=Math.max(x+10,Math.min(t.xpixels-10-S,_)),O=Math.max(P+10,Math.min(t.ypixels-10-C,O)));let F=_/t.scale[0]+t.range[0][0],G=t.range[1][1]-O/t.scale[1];if(e.snapX>0&&(F=Math.round(F/e.snapX)*e.snapX),e.snapY>0&&(G=Math.round(G/e.snapY)*e.snapY),I.type==="vmousemove"){let K=F-u,tt=G-m,J=!0;if(w.isFunction(e.onMove)){const ot=e.onMove(K,tt);ot===!1?J=!1:w.isArray(ot)&&(K=ot[0],tt=ot[1],F=u+K,G=m+tt)}const R=function(ot){return[M[ot][0]+K,M[ot][1]+tt]};J&&(w.each(e.points,function(ot,q){a(ot)?ot.setCoord(R(q)):e.points[q]=R(q)}),e.transform(),E(e).trigger("move"),y=F,b=G)}else if(I.type==="vmouseup"){E(document).unbind(".polygon");const K=w.filter(e.points,a);w.each(K,function(tt){tt.dragging=!1}),e.dragging=!1,qt=!1,e.highlight||(e.visibleShape.animate(e.normalStyle,50),w.each(K,function(tt){tt.visibleShape.animate(tt.normalStyle,50)})),w.isFunction(e.onMoveEnd)&&e.onMoveEnd(y-u,b-m)}})}})),w.invoke(w.filter(e.points,a),"toFront"),e},constrainToBounds:function(n,t){const e=this.unscalePoint([t,this.ypixels-t]),o=this.unscalePoint([this.xpixels-t,t]),a=Math.max(e[0],Math.min(o[0],n[0])),c=Math.max(e[1],Math.min(o[1],n[1]));return[a,c]},constrainToBoundsOnAngle:function(n,t,e){const o=this.unscalePoint([t,this.ypixels-t]),a=this.unscalePoint([this.xpixels-t,t]);let c=n.slice();return c[0]<o[0]?c=[o[0],c[1]+(o[0]-c[0])*Math.tan(e)]:c[0]>a[0]&&(c=[a[0],c[1]-(c[0]-a[0])*Math.tan(e)]),c[1]<o[1]?c=[c[0]+(o[1]-c[1])/Math.tan(e),o[1]]:c[1]>a[1]&&(c=[c[0]-(c[1]-a[1])/Math.tan(e),a[1]]),c},addMovableAngle:function(n){return new Fs(this,n)},addCircleGraph:function(n){const t=this,e=E.extend({center:[0,0],radius:2,snapX:.5,snapY:.5,snapRadius:.5,minRadius:1,centerConstraints:{},centerNormalStyle:{},centerHighlightStyle:{stroke:H.INTERACTING,fill:H.INTERACTING},circleNormalStyle:{stroke:H.INTERACTIVE,"fill-opacity":0},circleHighlightStyle:{stroke:H.INTERACTING,fill:H.INTERACTING,"fill-opacity":.05}},n),o=e.centerConstraints.fixed?H.DYNAMIC:H.INTERACTIVE,a=n?n.centerNormalStyle:null;e.centerNormalStyle=w.extend({},{fill:o,stroke:o},a),e.centerPoint=t.addMovablePoint({graph:t,coord:e.center,normalStyle:e.centerNormalStyle,snapX:e.snapX,snapY:e.snapY,constraints:e.centerConstraints}),e.circ=t.circle(e.center,e.radius,e.circleNormalStyle),e.perim=t.mouselayer.circle(t.scalePoint(e.center)[0],t.scalePoint(e.center)[1],t.scaleVector(e.radius)[0]).attr({"stroke-width":20,opacity:.002}),e.centerConstraints.fixed||E(e.centerPoint.mouseTarget.getMouseTarget()).on("vmouseover vmouseout",function(u){e.centerPoint.highlight||e.centerPoint.dragging?e.circ.animate(e.circleHighlightStyle,50):e.circ.animate(e.circleNormalStyle,50)}),e.toFront=function(){e.circ.toFront(),e.perim.toFront(),e.centerPoint.visibleShape.toFront(),e.centerConstraints.fixed||e.centerPoint.mouseTarget.toFront()},e.centerPoint.onMove=function(u,m){e.toFront(),e.circ.attr({cx:t.scalePoint(u)[0],cy:t.scalePoint(m)[1]}),e.perim.attr({cx:t.scalePoint(u)[0],cy:t.scalePoint(m)[1]}),e.onMove&&e.onMove(u,m)},E(e.centerPoint).on("move",function(){e.center=this.coord,E(e).trigger("move")}),e.setCenter=function(u,m){e.centerPoint.setCoord([u,m]),e.centerPoint.onMove(u,m),e.center=[u,m]},e.setRadius=function(u){e.radius=u,e.perim.attr({r:t.scaleVector(u)[0]}),e.circ.attr({rx:t.scaleVector(u)[0],ry:t.scaleVector(u)[1]})},e.remove=function(){e.centerPoint.remove(),e.circ.remove(),e.perim.remove()};const c=[[Math.PI*-1,Math.PI*-.875,"ew-resize"],[Math.PI*-.875,Math.PI*-.625,"nesw-resize"],[Math.PI*-.625,Math.PI*-.375,"ns-resize"],[Math.PI*-.375,Math.PI*-.125,"nwse-resize"],[Math.PI*-.125,Math.PI*.125,"ew-resize"],[Math.PI*.125,Math.PI*.375,"nesw-resize"],[Math.PI*.375,Math.PI*.625,"ns-resize"],[Math.PI*.625,Math.PI*.875,"nwse-resize"],[Math.PI*.875,Math.PI*1,"ew-resize"]];return E(e.perim.node).on("vmousemove",u=>{let[m,y]=this.getMouseCoord(u);m-=e.center[0],y-=e.center[1];const b=Math.atan2(y,m);c.forEach(function(M){const[x,S,P]=M;b>=x&&b<S&&E(e.perim.node).css("cursor",P)})}),E(e.perim.node).css("cursor","nesw-resize"),e.perim.node.addEventListener("touchstart",function(u){u.preventDefault()},{passive:!1}),E(e.perim.node).on("vmouseover vmouseout vmousedown",function(u){if(u.type==="vmouseover")e.highlight=!0,qt||(e.circ.animate(e.circleHighlightStyle,50),e.centerPoint.visibleShape.animate(e.centerHighlightStyle,50));else if(u.type==="vmouseout")e.highlight=!1,!e.dragging&&!e.centerPoint.dragging&&(e.circ.animate(e.circleNormalStyle,50),e.centerPoint.visibleShape.animate(e.centerNormalStyle,50));else if(u.type==="vmousedown"&&(u.which===1||u.which===0)){u.preventDefault(),e.toFront();const m=e.radius;E(document).on("vmousemove vmouseup",function(y){if(y.preventDefault(),e.dragging=!0,qt=!0,y.type==="vmousemove"){const b=t.constrainToBounds(t.getMouseCoord(y),10);let M=yt.getDistance(e.centerPoint.coord,b);M=Math.max(e.minRadius,Math.round(M/e.snapRadius)*e.snapRadius);const x=e.radius;let S=!0;if(e.onResize){const P=e.onResize(M,x);w.isNumber(P)?M=P:P===!1&&(S=!1)}S&&(e.setRadius(M),E(e).trigger("move"))}else y.type==="vmouseup"&&(E(document).off("vmousemove vmouseup"),e.dragging=!1,qt=!1,e.onResizeEnd&&e.onResizeEnd(e.radius,m))})}}),e},addRotateHandle:function(){const n=function(t,e,o,a,c,u,m){const y=function(x,S){const P=o+S,C=Me(P,u+x),I=ct(e,C),_=t.scalePoint(I);return _[0]+","+_[1]},b=t.scaleVector(o-a),M=t.scaleVector(o+a);return t.raphael.path(" M"+y(c,-a)+" L"+y(c,-3*a)+" L"+y(2*c,0)+" L"+y(c,3*a)+" L"+y(c,a)+" A"+M[0]+","+M[1]+",0,0,1,"+y(-c,a)+" L"+y(-c,3*a)+" L"+y(-2*c,0)+" L"+y(-c,-3*a)+" L"+y(-c,-a)+" A"+b[0]+","+b[1]+",0,0,0,"+y(c,-a)+" Z").attr({stroke:null,fill:m?H.INTERACTING:H.INTERACTIVE})};return function(t){const e=this;let o=t.center;const a=t.radius,c=t.lengthAngle||30,u=t.hideArrow||!1,m=t.mouseTarget,y=w.uniqueId("rotateHandle");w.isArray(o)&&(o={coord:o});const b=e.addMovablePoint({coord:Qi(o.coord,Me(a,t.angleDeg||0)),constraints:{fixedDistance:{dist:a,point:o}},mouseTarget:m});o.toFront();let M=o.coord,x=b.coord,S=x,P=!1,C=!1,I;const _=function(G){if(u)return;const K=ut(G,o.coord),J=Wt(K)[1];I&&I.remove(),I=n(e,o.coord,t.radius,P||C?t.hoverWidth/2:t.width/2,c,J,P||C)};E(o).on("move."+y,function(){const G=ut(o.coord,M);b.setCoord(ct(b.coord,G)),_(b.coord),M=o.coord,b.constraints.fixedDistance.point=o,x=b.coord}),b.onMove=function(G,K){P||(S=x,P=!0);let tt=[G,K];if(t.onMove){const J=Wt(ut(x,o.coord)),R=Wt(ut(tt,o.coord)),ot=J[1],q=R[1];let V=t.onMove(q,ot);V!=null&&V!==!0&&(V===!1&&(V=ot),tt=ct(o.coord,Me(J[0],V)))}return _(tt),x=tt,tt},b.onMoveEnd=function(){if(P=!1,_(b.coord),t.onMoveEnd){const G=Wt(ut(S,o.coord)),K=Wt(ut(b.coord,o.coord));t.onMoveEnd(K[1],G[1])}},b.visibleShape.remove(),m||b.mouseTarget.attr({scale:2});const O=E(b.mouseTarget.getMouseTarget());O.bind("vmouseover",function(G){C=!0,_(b.coord)}),O.bind("vmouseout",function(G){C=!1,_(b.coord)}),_(b.coord);const F=b.remove;return b.remove=function(){F.call(b),I&&I.remove(),E(o).off("move."+y)},b.update=function(){_(b.coord)},b}}(),addReflectButton:function(){const n=function(t,e,o,a,c,u,m){ci(o[0],o[1])&&(o=[o[0],Qi(o[0],[1,1])]);const y=qn(ut(o[1],o[0])),b=Dt(y,a/2),M=Dt(y,c),x=cn(M,90),S=cn(M,-90),P=Do(b),C=cn(b,90),I=cn(b,-90),_=xe(e,x),O=xe(e,S),F=xe(e,x,b,C),G=xe(e,x,P,C),K=xe(e,S,b,I),tt=xe(e,S,P,I),J=t.path([_,F,G,!0],u),R=t.path([O,K,tt,!0],m);return{remove:function(){J.remove(),R.remove()}}};return function(t){const e=this,o=t.line,a=e.addMovablePoint({constraints:t.constraints,coord:ts([o.pointA.coord,o.pointZ.coord]),snapX:e.snap[0],snapY:e.snap[1],onMove:function(_,O){return!1},onMoveEnd:function(_,O){t.onMoveEnd&&t.onMoveEnd.call(this,_,O)}});let c=!1,u=!1,m;const y=function(){return c},b=w.map([0,1],function(_){const O=_?t.highlightStyle:t.normalStyle;return w.map([0,1],function(F){return w.defaults({"fill-opacity":F},O)})}),M=function(_){return u&&(_=!_),b[+y()][+_]},x=function(_,O){m&&m.remove(),m=n(e,_,O,y()?t.size*1.5:t.size,y()?t.size*.125:.25,M(0),M(1))},S=function(_,O){_=_||o.pointA.coord,O=O||o.pointZ.coord;const F=ts([_,O]);a.setCoord(F),x(F,[_,O])};E(o).on("move",w.bind(S,a,null,null));const P=E(a.mouseTarget.getMouseTarget());P.on("vclick",function(){t.onClick()!==!1&&(u=!u,x(a.coord,[o.pointA.coord,o.pointZ.coord]))}),o.pointA.toFront(),o.pointZ.toFront(),a.visibleShape.remove();const C=e.scaleVector(t.size)[0]/20;a.mouseTarget.attr({scale:1.5*C}),P.css("cursor","pointer"),P.bind("vmouseover",function(_){c=!0,x(a.coord,[o.pointA.coord,o.pointZ.coord])}),P.bind("vmouseout",function(_){c=!1,x(a.coord,[o.pointA.coord,o.pointZ.coord])});const I=a.remove;return a.remove=function(){m.remove(),I.call(a)},a.update=S,a.isFlipped=function(){return u},S(),a}}(),protractor:function(n){return new Gr(this,n)},ruler:function(n){return new zr(this,n||{})},addPoints:ct});function Gr(n,t){this.set=n.raphael.set(),this.cx=t[0],this.cy=t[1];const e=this,o=n.unscaleVector(180.5)[0],a=n.scalePoint([this.cx-o,this.cy+o-n.unscaleVector(10.5)[1]]),c=n.mouselayer.image("https://ka-perseus-graphie.s3.amazonaws.com/e9d032f2ab8b95979f674fbfa67056442ba1ff6a.png",a[0],a[1],360,180);this.set.push(c),c.node.addEventListener("touchstart",function(C){C.preventDefault()},{passive:!1});const u=function(C,I){const _=n.scaleVector(o);_[0]-=16,_[1]-=16;const O=n.scalePoint(t),F=Math.sin((C+90)*Math.PI/180)*(_[0]+I)+O[0],G=Math.cos((C+90)*Math.PI/180)*(_[1]+I)+O[1];return F+","+G},m=n.raphael.path(" M"+u(180,6)+" L"+u(180,2)+" L"+u(183,10)+" L"+u(180,18)+" L"+u(180,14)+" A"+(n.scaleVector(o)[0]+10)+","+(n.scaleVector(o)[1]+10)+",0,0,1,"+u(170,14)+" L"+u(170,18)+" L"+u(167,10)+" L"+u(170,2)+" L"+u(170,6)+" A"+(n.scaleVector(o)[0]+10)+","+(n.scaleVector(o)[1]+10)+",0,0,0,"+u(180,6)+" Z").attr({stroke:null,fill:H.INTERACTIVE});this.set.push(m),this.centerPoint=n.addMovablePoint({coord:t,visible:!1}),this.rotateHandle=n.addMovablePoint({bounded:!1,coord:[Math.sin(275*Math.PI/180)*o+this.cx,Math.cos(275*Math.PI/180)*o+this.cy],onMove:function(C,I){const _=Math.atan2(e.centerPoint.coord[1]-I,e.centerPoint.coord[0]-C)*180/Math.PI;e.rotate(-_-5,!0)}}),this.rotateHandle.constraints.fixedDistance.dist=o,this.rotateHandle.constraints.fixedDistance.point=this.centerPoint,this.rotateHandle.visibleShape.remove(),this.rotateHandle.mouseTarget.attr({scale:2});let y=!1,b=!1;const M=function(){return b||y},S=E(this.rotateHandle.mouseTarget.getMouseTarget());S.bind("vmousedown",function(C){y=!0,S.css("cursor","-webkit-grabbing"),S.css("cursor","grabbing"),m.animate({scale:1.5,fill:H.INTERACTING},50),E(document).bind("vmouseup.rotateHandle",function(I){y=!1,S.css("cursor","-webkit-grab"),S.css("cursor","grab"),M()||m.animate({scale:1,fill:H.INTERACTIVE},50),E(document).unbind("vmouseup.rotateHandle")})}),S.bind("vmouseover",function(C){b=!0,m.animate({scale:1.5,fill:H.INTERACTING},50)}),S.bind("vmouseout",function(C){b=!1,M()||m.animate({scale:1,fill:H.INTERACTIVE},50)});const P=E.map(this.set,function(C){return C.node});return this.makeTranslatable=function(){E(P).css("cursor","move"),S.css("cursor","-webkit-grab"),S.css("cursor","grab"),E(P).bind("vmousedown",function(I){I.preventDefault();let _=I.pageX-E(n.raphael.canvas.parentNode).offset().left,O=I.pageY-E(n.raphael.canvas.parentNode).offset().top;E(document).bind("vmousemove.protractor",function(F){let G=F.pageX-E(n.raphael.canvas.parentNode).offset().left,K=F.pageY-E(n.raphael.canvas.parentNode).offset().top;G=Math.max(10,Math.min(n.xpixels-10,G)),K=Math.max(10,Math.min(n.ypixels-10,K));const tt=G-_,J=K-O;E.each(e.set.items,function(){this.translate(tt,J)}),e.centerPoint.setCoord([e.centerPoint.coord[0]+tt/n.scale[0],e.centerPoint.coord[1]-J/n.scale[1]]),e.rotateHandle.setCoord([e.rotateHandle.coord[0]+tt/n.scale[0],e.rotateHandle.coord[1]-J/n.scale[1]]),_=G,O=K}),E(document).one("vmouseup",function(F){E(document).unbind("vmousemove.protractor")})})},this.rotation=0,this.rotate=function(C,I){const _=n.scalePoint(this.centerPoint.coord);return I&&(this.rotation=0),this.set.rotate(this.rotation+C,_[0],_[1]),this.rotation=this.rotation+C,this},this.moveTo=function(I,_){const O=n.scalePoint(e.centerPoint.coord),F=n.scalePoint([I,_]),G=yt.getDistance(O,F)*2;E({x:O[0],y:O[1]}).animate({x:F[0],y:F[1]},{duration:G,step:function(K,tt){let J=0,R=0;tt.prop==="x"?J=K-n.scalePoint(e.centerPoint.coord)[0]:tt.prop==="y"&&(R=K-n.scalePoint(e.centerPoint.coord)[1]),E.each(e.set.items,function(){this.translate(J,R)}),e.centerPoint.setCoord([e.centerPoint.coord[0]+J/n.scale[0],e.centerPoint.coord[1]-R/n.scale[1]]),e.rotateHandle.setCoord([e.rotateHandle.coord[0]+J/n.scale[0],e.rotateHandle.coord[1]-R/n.scale[1]])}})},this.rotateTo=function(I){Math.abs(this.rotation-I)>180&&(this.rotation+=360);const _=Math.abs(this.rotation-I)*5;E({0:this.rotation}).animate({0:I},{duration:_,step:function(O,F){e.rotate(O,!0),e.rotateHandle.setCoord([Math.sin((O+275)*Math.PI/180)*o+e.centerPoint.coord[0],Math.cos((O+275)*Math.PI/180)*o+e.centerPoint.coord[1]])}})},this.remove=function(){this.set.remove()},this.makeTranslatable(),this}function zr(n,t){w.defaults(t,{center:[0,0],pixelsPerUnit:40,ticksPerUnit:10,units:10,label:"",style:{fill:null,stroke:H.GRAY}});const e=w.extend({},t.style,{strokeWidth:1}),o=w.extend({},t.style,{strokeWidth:2}),a=t.units*t.pixelsPerUnit,c=50,u=n.unscalePoint(ut(n.scalePoint(t.center),Dt([a,-c],.5))),m=t.pixelsPerUnit/n.scale[0],y=c/n.scale[0],b=ct(u,[t.units*m,y]),M=1;let x;if(t.ticksPerUnit===10)x={10:M,5:M*.55,1:M*.35};else{const q=[1,.6,.45,.3];x={};for(let V=t.ticksPerUnit;V>=1;V/=2)x[V]=M*(q.shift()||.2)}const S=w.keys(x).sort(function(q,V){return V-q});function P(q){for(let V=0;V<S.length;V++){const it=S[V];if(q%it===0)return x[it]}return 0}const C=u[0],I=u[1],_=b[0],O=b[1],F=t.units*t.ticksPerUnit+1,G=n.raphael.set(),K=1/n.scale[0];G.push(n.line([C-K,I],[_+K,I],o)),G.push(n.line([C-K,O],[_+K,O],o)),w.times(F,function(q){const V=q/t.ticksPerUnit,it=C+V*m,st=P(q)*y,Z=q===0||q===F-1?o:e;if(G.push(n.line([it,I],[it,I+st],Z)),V%1===0){const lt=n.scalePoint([it,O]);let rt,W;V===0?(rt=t.label,W={mm:13,cm:11,m:8,km:11,in:8,ft:8,yd:10,mi:10}[rt]||3*rt.toString().length):(rt=V,W=-3*(V.toString().length+1));const mt=n.raphael.text(lt[0]+W,lt[1]+10,rt);mt.attr({"font-family":"KaTeX_Main","font-size":"12px",color:"#444"}),G.push(mt)}});const tt=n.mouselayer.path(n.svgPath([u,[C,O],b,[_,I],!0]));tt.attr({fill:"#000",opacity:0,stroke:"#000","stroke-width":2}),G.push(tt),tt.node.addEventListener("touchstart",function(q){q.preventDefault()},{passive:!1});const J=E.map(G,function(q){return q.node});E(J).css("cursor","move"),E(J).bind("vmousedown",function(q){q.preventDefault();let V=q.pageX-E(n.raphael.canvas.parentNode).offset().left,it=q.pageY-E(n.raphael.canvas.parentNode).offset().top;E(document).bind("vmousemove.ruler",function(st){let Z=st.pageX-E(n.raphael.canvas.parentNode).offset().left,lt=st.pageY-E(n.raphael.canvas.parentNode).offset().top;Z=Math.max(10,Math.min(n.xpixels-10,Z)),lt=Math.max(10,Math.min(n.ypixels-10,lt));const rt=Z-V,W=lt-it;G.translate(rt,W),R.setCoord([R.coord[0]+rt/n.scale[0],R.coord[1]-W/n.scale[1]]),ot.setCoord([ot.coord[0]+rt/n.scale[0],ot.coord[1]-W/n.scale[1]]),V=Z,it=lt}),E(document).one("vmouseup",function(st){E(document).unbind("vmousemove.ruler")})});const R=n.addMovablePoint({coord:u,normalStyle:{fill:H.INTERACTIVE,"fill-opacity":0,stroke:H.INTERACTIVE},highlightStyle:{fill:H.INTERACTING,"fill-opacity":.1,stroke:H.INTERACTING},pointSize:6,onMove:function(q,V){const it=ot.coord[1]-V,st=ot.coord[0]-q,Z=Math.atan2(it,st)*180/Math.PI,lt=Dt(ct([q,V],ot.coord),.5),rt=n.scalePoint(lt),W=Dt(ct(R.coord,ot.coord),.5),mt=n.scalePoint(W),Mt=ut(rt,mt);G.rotate(-Z,mt[0],mt[1]),G.translate(Mt[0],Mt[1])}}),ot=n.addMovablePoint({coord:[_,I],normalStyle:{fill:H.INTERACTIVE,"fill-opacity":0,stroke:H.INTERACTIVE},highlightStyle:{fill:H.INTERACTING,"fill-opacity":.1,stroke:H.INTERACTING},pointSize:6,onMove:function(q,V){const it=V-R.coord[1],st=q-R.coord[0],Z=Math.atan2(it,st)*180/Math.PI,lt=Dt(ct([q,V],R.coord),.5),rt=n.scalePoint(lt),W=Dt(ct(R.coord,ot.coord),.5),mt=n.scalePoint(W),Mt=ut(rt,mt);G.rotate(-Z,mt[0],mt[1]),G.translate(Mt[0],Mt[1])}});return R.constraints.fixedDistance.dist=a/n.scale[0],R.constraints.fixedDistance.point=ot,ot.constraints.fixedDistance.dist=a/n.scale[0],ot.constraints.fixedDistance.point=R,this.remove=function(){G.remove(),R.remove(),ot.remove()},this}function Fs(n,t){if(this.graphie=n,w.extend(this,t),w.defaults(this,{normalStyle:{stroke:H.INTERACTIVE,"stroke-width":2,fill:H.INTERACTIVE},highlightStyle:{stroke:H.INTERACTING,"stroke-width":2,fill:H.INTERACTING},labelStyle:{stroke:H.DYNAMIC,"stroke-width":1,color:H.DYNAMIC},angleStyle:{stroke:H.DYNAMIC,"stroke-width":1,color:H.DYNAMIC},allowReflex:!0}),!this.points||this.points.length!==3)throw new te("MovableAngle requires 3 points",Vt.InvalidInput);this.points=w.map(t.points,function(e){return w.isArray(e)?n.addMovablePoint({coord:e,visible:!1,constraints:{fixed:!0},normalStyle:this.normalStyle}):e},this),this.coords=w.pluck(this.points,"coord"),this.reflex==null&&(this.allowReflex?this.reflex=this._getClockwiseAngle(this.coords)>180:this.reflex=!1),this.rays=w.map([0,2],function(e){return n.addMovableLineSegment({pointA:this.points[1],pointZ:this.points[e],fixed:!0,extendRay:!0})},this),this.temp=[],this.labeledAngle=n.label([0,0],"","center",this.labelStyle),this.fixed||(this.addMoveHandlers(),this.addHighlightHandlers()),this.update()}w.extend(Fs.prototype,{points:[],snapDegrees:0,snapOffsetDeg:0,angleLabel:"",numArcs:1,pushOut:0,fixed:!1,addMoveHandlers:function(){const n=this.graphie;function t(c,u){return yt.getDistance(n.scalePoint(c),n.scalePoint(u))<30}const e=this.points;e[1].onMove=function(c,u){const m=e[1].coord,y=[c,u],b=ct(y,Kn(m));let M=!0;const x={};return w.each([0,2],function(S){const P=e[S].coord;let C=ct(P,b),I=yt.findAngleDeprecated(y,C);I*=Math.PI/180,C=n.constrainToBoundsOnAngle(C,10,I),x[S]=C,t(y,C)&&(M=!1)}),M&&w.each(x,function(S,P){e[P].setCoord(S)}),M};const o=this.snapDegrees,a=this.snapOffsetDeg;w.each([0,2],function(c){e[c].onMove=function(u,m){const y=[u,m],b=e[1].coord;if(t(b,y))return!1;if(o){let M=yt.findAngleDeprecated(y,b);M=Math.round((M-a)/o)*o+a;const x=yt.getDistance(y,b);return ct(b,Wn(x,M))}return!0}}),E(e).on("move",(function(){this.update(),E(this).trigger("move")}).bind(this))},addHighlightHandlers:function(){const n=this.points[1];n.onHighlight=(function(){w.each(this.points,function(t){t.visibleShape.animate(this.highlightStyle,50)},this),w.each(this.rays,function(t){t.visibleLine.animate(this.highlightStyle,50),t.arrowStyle=w.extend({},t.arrowStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})},this),this.angleStyle=w.extend({},this.angleStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke}),this.update()}).bind(this),n.onUnhighlight=(function(){w.each(this.points,function(t){t.visibleShape.animate(this.normalStyle,50)},this),w.each(this.rays,function(t){t.visibleLine.animate(t.normalStyle,50),t.arrowStyle=w.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke})},this),this.angleStyle=w.extend({},this.angleStyle,{color:H.DYNAMIC,stroke:H.DYNAMIC}),this.update()}).bind(this)},_getClockwiseAngle:function(n){return yt.findAngleDeprecated(n[2],n[0],n[1])+360%360},isReflex:function(){return this.reflex},isClockwise:function(){return this._getClockwiseAngle(this.coords)>180===this.reflex},getClockwiseCoords:function(){return this.isClockwise()?w.clone(this.coords):w.clone(this.coords).reverse()},update:function(n){const t=this.coords;this.coords=w.pluck(this.points,"coord"),w.invoke(this.points,"updateLineEnds");const e=this._getClockwiseAngle(t),o=this._getClockwiseAngle(this.coords),a=e>180,c=o>180;this.allowReflex&&(n==null&&(n=a!==c&&Math.abs(o-e)<180),n&&(this.reflex=!this.reflex)),w.invoke(this.temp,"remove"),this.temp=this.graphie.labelAngle({point1:this.coords[0],vertex:this.coords[1],point3:this.coords[2],label:this.labeledAngle,text:this.angleLabel,numArcs:this.numArcs,pushOut:this.pushOut,clockwise:this.reflex===c,style:this.angleStyle})},remove:function(){w.invoke(this.rays,"remove"),w.invoke(this.temp,"remove"),this.labeledAngle.remove()}});const ds=Et.nestedMap,Vr=Et.deepEq;function mi(n){w.extend(this,n)}const zn=function(){throw new te("Abstract method! Must be implemented by Graphie Movable"+this.constructor.displayName,Vt.NotAllowed)};w.extend(mi.prototype,{movableProps:[],add:zn,modify:zn,remove:zn,toFront:function(){},componentDidMount:function(){}});const Hr=function(n,t){return w.extend({},n,{children:w.filter(w.flatten(t),w.identity)})},Os=function(n){const t=function(e){if(!(this instanceof t))throw new te("Use createElement or JSX with graphie movables",Vt.NotAllowed);return this.props=Hr(e,e.children||[]),this};return n.displayName=n.displayName||w.uniqueId("GraphieClass"),t.displayName=n.displayName,t.prototype=new mi(n),t.prototype.constructor=t,t},Yr=function(n){return Os({displayName:n.name||w.uniqueId("GraphieSimpleClass"),movableProps:["children"],add:function(t){this._elements=n(t,this.props),this._prevProps=this.props},modify:function(t){if(!Vr(this.props,this._prevProps))return this.remove(),this.add(t),this._prevProps=this.props,"reordered"},remove:function(){ds(this._elements,t=>{t&&t.remove()}),this._elements=null,this._prevProps=null},toFront:function(){ds(this._elements,t=>{w.isFunction(t.toFront)&&t.toFront()})}})},Ot={GraphieMovable:mi,createClass:Os,createSimpleClass:Yr},qr=At.normalizeOptions,Xr=At.assert,Ur={cursor:null},$r={added:!1,isHovering:!1,isMouseOver:!1,isDragging:!1,mouseTarget:null};class Vn{constructor(t,e){this._listenerMap={},this.graphie=t,this.state={id:w.uniqueId("movable")},this.modify({...$r,...e})}modify(t){this.update({...this._createDefaultState(),...t})}_createDefaultState(){return{id:this.state.id,add:[],modify:[],draw:[],remove:[],onMoveStart:[],onMove:[],onMoveEnd:[],onClick:[],...Ur}}update(t){const e=this.graphie,o=this.cloneState(),a=Object.assign(this.state,qr(t));if(a.mouseTarget&&!o.mouseTarget){let c;a.mouseTarget.getMouseTarget?c=E(a.mouseTarget.getMouseTarget()):c=E(a.mouseTarget[0]),!("ontouchstart"in window)&&(c.on("vmouseover",()=>{a.isMouseOver=!0,e.isDragging||(a.isHovering=!0),this.state.added&&this.draw()}),c.on("vmouseout",()=>{a.isMouseOver=!1,a.isDragging||(a.isHovering=!1),this.state.added&&this.draw()})),c[0].addEventListener("touchstart",function(m){m.preventDefault()},{passive:!1}),c.on("vmousedown",m=>{if(m.which!==0&&m.which!==1)return;m.preventDefault();const y=e.getMouseCoord(m);this.grab(y)})}if(a.mouseTarget&&a.cursor!==void 0){let c;a.mouseTarget.getMouseTarget?c=E(a.mouseTarget.getMouseTarget()):c=E(a.mouseTarget[0]),c.css("cursor",a.cursor||"")}a.added||(this._fireEvent(a.modify,this.cloneState(),{}),a.added=!0,this.prevState=this.cloneState()),this._fireEvent(a.modify,this.cloneState(),this.prevState)}cloneState(){return{...this.state}}_fireEvent(t,...e){if(t!=null)for(const o of t)o.call(this,...e)}draw(){const t=this.cloneState();this._fireEvent(this.state.draw,t,this.prevState),this.prevState=t}grab(t){Xr(se(t));const e=this.graphie,o=this.state;o.isHovering=!0,o.isDragging=!0,e.isDragging=!0;const a=t;let c=a;this._fireEvent(o.onMoveStart,a,a);const u=y=>{y.preventDefault();const b=e.getMouseCoord(y);this._fireEvent(o.onMove,b,c),this.draw(),c=b},m=()=>{E(document).unbind("vmousemove",u),E(document).unbind("vmouseup",m),o.isHovering&&this._fireEvent(o.onClick,c,a),o.isHovering=this.state.isMouseOver,o.isDragging=!1,e.isDragging=!1,this._fireEvent(o.onMoveEnd,c,a),this.draw()};E(document).bind("vmousemove",u),E(document).bind("vmouseup",m)}_applyConstraints(t,e,o){let a=!1;return(this.state.constraints??[]).reduce((c,u)=>{if(c===!1)return!1;if(a)return c;const m=u.call(this,c,e,{onSkipRemaining:()=>{a=!0},...o});if(m===!1)return!1;if(se(m,2))return m;if(m===!0||m==null)return c;throw new te("Constraint returned invalid result: "+m,Vt.Internal)},t)}toBack(){this.state.mouseTarget&&this.state.mouseTarget.toBack()}toFront(){this.state.mouseTarget&&this.state.mouseTarget.toFront()}listen(t,e,o){this._listenerMap=this._listenerMap||{};const a=fs(t,e),c=this._listenerMap[a]=this._listenerMap[a]||this.state[t].length;this.state[t][c]=o}unlisten(t,e){this._listenerMap=this._listenerMap||{};const o=fs(t,e),a=this._listenerMap[o];a!==void 0&&(this.state[t].splice(a,1),delete this._listenerMap[o],w.keys(this._listenerMap).forEach(u=>{Wr(u)===t&&this._listenerMap[u]>a&&this._listenerMap[u]--}))}remove(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.mouseTarget&&(E(this.state.mouseTarget).off(),this.state.mouseTarget.remove(),this.state.mouseTarget=null)}cursor(){return this.state.cursor}added(){return this.state.added}isHovering(){return this.state.isHovering}isMouseOver(){return this.state.isMouseOver}isDragging(){return this.state.isDragging}mouseTarget(){return this.state.mouseTarget}}function fs(n,t){return n+":"+t}function Wr(n){return n.split(":")[0]}const ps=function(n){const t=n.graphie.scalePoint(n.coord(0)),e=n.graphie.scalePoint(n.coord(1));return Wt(ut(e,t))[1]},fn={draw:function(){this.draw()},pointsToFront:function(n){w.invoke(n.points,"toFront")}};fn.standard=[fn.draw,fn.pointsToFront];const Qn={draw:function(){this.draw()}};Qn.standard=[Qn.draw];const Ve={basic:function(n){const t=this.graphie;let e=this.coord(0),o=this.coord(1);if(!this.state.visibleShape){const u={thickness:10};this.state.visibleShape=new wn(t,e,o,u),this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}const a=ps(this);n.extendLine?(e=dn(t,e,360-a),o=dn(t,o,(540-a)%360)):n.extendRay&&(o=dn(t,o,360-a));const c=[this.state.visibleShape];this.mouseTarget()&&c.push(this.mouseTarget()),w.each(c,function(u){u.moveTo(e,o)})},arrows:function(n){this._arrows==null&&(this._arrows=[],n.extendLine?(this._arrows.push(new ce(this.graphie,this.normalStyle())),this._arrows.push(new ce(this.graphie,this.normalStyle()))):n.extendRay&&this._arrows.push(new ce(this.graphie,this.normalStyle())));const t=ps(this),e=[360-t,(540-t)%360];w.each(this._arrows,function(o,a){o.toCoordAtAngle(this.coord(a),e[a])},this)},highlight:function(n,t){n.isHovering&&!t.isHovering?n.visibleShape.animate(n.highlightStyle,50):!n.isHovering&&t.isHovering&&n.visibleShape.animate(n.normalStyle,50)}};Ve.standard=[Ve.basic,Ve.arrows,Ve.highlight];const pn={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},arrows:function(){this._arrows!=null&&w.invoke(this._arrows,"remove"),this._arrows=null}};pn.standard=[pn.basic,pn.arrows];const Gs={fixed:function(){return function(){return!1}},snap:function(n){return function(t,e){if(n===null)return!0;let o=ut(t,e);return n=n||this.graphie.snap,o=hi(o,n),ct(e,o)}},bound:function(n,t,e){return e===void 0&&(n===void 0?e=10:e=0),function(o,a){const c=this.graphie,u=ut(o,a);n=n||c.range,t===void 0&&(t=c.snap);let m=c.unscalePoint([e,c.ypixels-e]),y=c.unscalePoint([c.xpixels-e,e]);t&&(m=di(m,t),y=ui(y,t));const b=w.map(this.coords(),function(x,S){const P=ut(y,x);return[ut(m,x),P]}),M=w.reduce(b,function(x,S){const P=S[0],C=S[1],I=Math.max(P[0],Math.min(C[0],x[0])),_=Math.max(P[1],Math.min(C[1],x[1]));return[I,_]},u);return ct(a,M)}}};Gs.standard=null;const zs={updatePoints:function(n,t){const e=ut(n,t);w.each(this.state.points,function(o){o.setCoord(ct(o.coord(),e))})}};zs.standard=null;const Vs={add:fn,modify:Qn,draw:Ve,remove:pn,onMoveStart:{standard:null},constraints:Gs,onMove:zs,onMoveEnd:{standard:null}},ms=At.assert,gs=At.normalizeOptions,Hs={points:null,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,extendLine:!1,extendRay:!1},Ys={visibleShape:null,mouseTarget:null},Ae=function(n,t,e){ms(n!=null),ms(e!=null),w.extend(this,{graphie:n,movable:t,state:{id:w.uniqueId("movableLine")}}),this.modify(w.extend({},Ys,e))};w.extend(Ae,Vs);At.createGettersFor(Ae,w.extend({},Hs,Ys));At.addMovableHelperMethodsTo(Ae);w.extend(Ae.prototype,{cloneState:function(){return w.extend(this.movable.cloneState(),{coords:this.coords()},this.state)},_createDefaultState:function(){return w.extend({id:this.state.id},gs(ai(Vs,"standard")),Hs)},modify:function(n){this.update(w.extend(this._createDefaultState(),n))},update:function(n){const t=this,e=this.graphie,o=t.state=w.extend(t.state,gs(n)),a=o.static?H.DYNAMIC:H.INTERACTIVE;if(o.normalStyle=w.extend({stroke:a,"stroke-width":2},o.normalStyle),o.highlightStyle=w.extend({stroke:H.INTERACTING,"stroke-width":3},o.highlightStyle),!o.static&&!o.mouseTarget){const c={thickness:30,mouselayer:!0,interactiveKindForTesting:"movable-line"};o.mouseTarget=new wn(e,this.coord(0),this.coord(1),c),o.mouseTarget.attr({fill:"#000",opacity:0})}o.static&&o.mouseTarget&&(o.mouseTarget.remove(),o.mouseTarget=null),t.movable.modify(w.extend({},o,{mouseTarget:o.mouseTarget,add:null,modify:null,draw:t.draw.bind(t),remove:null,onMoveStart:function(){t._initialRefCoord=t.coord(0),t._prevRefCoord=t._initialRefCoord,t._totalDelta=[0,0],t._fireEvent(t.state.onMoveStart,t.coord(0),t.coord(0))},onMove:function(c,u){const m=ut(c,u);t._totalDelta=ct(t._totalDelta,m);let y=ct(t._initialRefCoord,t._totalDelta);y=t._applyConstraints(y,t._prevRefCoord),y!==!1&&(t._fireEvent(t.state.onMove,y,t._prevRefCoord),t._prevRefCoord=y)},onMoveEnd:function(){t._fireEvent(t.state.onMoveEnd,t._prevRefCoord,t._initialRefCoord)}})),o.added||(t.prevState={},t._fireEvent(o.add,t.cloneState(),t.prevState),o.added=!0,w.invoke(o.points,"listen","onMove",o.id,t.draw.bind(t)),t.prevState=t.cloneState()),t._fireEvent(o.modify,t.cloneState(),t.prevState)},coords:function(){return w.invoke(this.state.points,"coord")},point:function(n){return this.state.points[n]},coord:function(n){return this.point(n).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.points&&w.invoke(this.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove()},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}});const ti={constrain:function(){this.constrain()}};ti.standard=[ti.constrain];const ei={draw:function(){this.draw()}};ei.standard=[ei.draw];const mn={basic:function(n,t){const e=this.graphie;if(!this.state.visibleShape){const o=[this.pointSize()/e.scale[0],this.pointSize()/e.scale[1]],a={maxScale:Math.max(this.highlightStyle().scale,this.normalStyle().scale),padding:10,shadow:n.shadow};this.state.visibleShape=new yn(e,this.coord(),o,a),this.state.visibleShape.attr(w.omit(this.normalStyle(),"scale")),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}n.normalStyle!==t.normalStyle&&!w.isEqual(n.normalStyle,t.normalStyle)&&this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.moveTo(this.coord()),this.mouseTarget()&&this.mouseTarget().moveTo(this.coord())},highlight:function(n,t){n.isHovering&&!t.isHovering?n.visibleShape.animate(this.highlightStyle(),50):!n.isHovering&&t.isHovering&&n.visibleShape.animate(this.normalStyle(),50)}};mn.standard=[mn.basic,mn.highlight];const ni={basic:function(){this.state.visibleShape&&(this.state.visibleShape.remove(),this.state.visibleShape=null)}};ni.standard=ni.basic;const qs={fixed:function(){return function(){return!1}},snap:function(n){return function(t){return n===null?!0:hi(t,n||this.graphie.snap)}},bound:function(n,t,e){const o=e===void 0?n===void 0?10:0:e;return function(a,c,u){const m=this.graphie;n=n||m.range,t===void 0&&(t=m.snap);let y=m.unscalePoint([o,m.ypixels-o]),b=m.unscalePoint([m.xpixels-o,o]);if(t&&(y=di(y,t),b=ui(b,t)),u&&u.onOutOfBounds)return(a[0]>b[0]||a[0]<y[0]||a[1]>b[1]||a[1]<y[1])&&(u.onSkipRemaining(),u.onOutOfBounds()),a;const M=Math.max(y[0],Math.min(b[0],a[0])),x=Math.max(y[1],Math.min(b[1],a[1]));return[M,x]}}};qs.standard=null;const Qt={add:ti,modify:ei,draw:mn,remove:ni,onMoveStart:{standard:null},constraints:qs,onMove:{standard:null},onMoveEnd:{standard:null},onClick:{standard:null}},Hn=At.assert,vs=At.normalizeOptions,{processMath:Zr}=Ns,jr={coord:[0,0],pointSize:4,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,shadow:!1,tooltip:!1},Kr={added:!1,hasMoved:!1,visibleShape:null,outOfBounds:!1,mouseTarget:null,touchOffset:null},bs=[];var Xt;let ys=(Xt=class{constructor(t,e,o){this._listenerMap={},this.graphie=t,this.movable=e,this.state={id:w.uniqueId("movablePoint")},this.modify({...Kr,...o})}modify(t){this.update(w.extend(this._createDefaultState(),t))}_createDefaultState(){return{id:this.state.id,...vs(ai(Qt,"standard")),...jr}}cloneState(){return{...this.movable.cloneState(),...this.state}}update(t){const e=this,o=e.graphie,a=w.extend(e.state,vs(t));Hn(se(a.coord));const c=a.static?H.DYNAMIC:H.INTERACTIVE;if(a.normalStyle=w.extend({fill:c,stroke:c,scale:1},a.normalStyle),a.highlightStyle=w.extend({fill:H.INTERACTING,stroke:H.INTERACTING,scale:2},a.highlightStyle),!a.static&&!a.mouseTarget){const y=e.state.coord,b=o.unscaleVector(24),M={mouselayer:!0,padding:0,interactiveKindForTesting:"movable-point"};a.mouseTarget=new yn(o,y,b,M),a.mouseTarget.attr({fill:"#000",opacity:0})}const u=()=>{this._showTooltip(y=>{Ds(Lt.jsx("span",{style:{fontSize:"2em"},children:Lt.jsx(Eo,{...Io,style:{position:"static",color:H.INTERACTIVE,marginLeft:9,marginRight:9}})}),y)})};let m=a.coord;e.movable.modify(w.extend({},a,{add:null,modify:null,draw:e.draw.bind(e),remove:null,onMoveStart:y=>{if(a.hasMoved=!1,m=a.coord,a.touchOffset==null){const M=!("ontouchstart"in window);a.touchOffset=M?[0,0]:ut(m,y)}const b=a.visibleShape.wrapper;if(a.shadow){const M="none";b.style.filter=M}if(a.showHairlines&&a.showHairlines(a.coord),bs.forEach(M=>M()),a.tooltip&&(a.xOnlyTooltip?this._showTooltip(`${a.coord[0]}`):this._showTooltip(`(${a.coord[0]}, ${a.coord[1]})`),a.shadow)){const M=b.getElementsByClassName("tooltip-content")[0],x="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";M.style.filter=x}e._fireEvent(a.onMoveStart,m,m),e.draw()},onMove:(y,b)=>{const M=ct(y,a.touchOffset);e.moveTo(M),a.showHairlines&&(this.state.outOfBounds?a.hideHairlines():a.showHairlines(a.coord)),a.tooltip&&(this.state.outOfBounds||(a.xOnlyTooltip?this._showTooltip(`${a.coord[0]}`):this._showTooltip(`(${a.coord[0]}, ${a.coord[1]})`))),a.onRemove&&this.state.outOfBounds&&u()},onMoveEnd:()=>{e.isHovering()&&!a.hasMoved&&e._fireEvent(a.onClick,a.coord,m);const y=a.visibleShape.wrapper;if(a.shadow){const b="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";y.style.filter=b}if(a.hideHairlines&&a.hideHairlines(),a.hasMoved)this._hideTooltip();else if(a.onRemove){u();const b=y.getElementsByClassName("tooltip-content")[0];b.style.filter="none",this._tooltip.firstChild.addEventListener("touchstart",M=>{M.stopPropagation()},!0),this._tooltip.firstChild.addEventListener("touchend",M=>{a.onRemove(),M.stopPropagation()},!0)}else a.tooltip&&this._hideTooltip();a.outOfBounds&&a.onRemove(),e._fireEvent(a.onMoveEnd,a.coord,m),a.hasMoved=!1,a.touchOffset=null,e.draw()}})),a.added||(e.prevState={},e._fireEvent(a.add,e.cloneState(),e.prevState),a.added=!0,e.prevState=e.cloneState()),e._fireEvent(a.modify,e.cloneState(),e.prevState)}draw(){const t=this.cloneState();this._fireEvent(this.state.draw,t,this.prevState),this.prevState=t}constrain(){const t=this._applyConstraints(this.coord(),this.coord());return se(t)&&this.setCoord(t),t!==!1}_fireEvent(t,...e){for(const o of t)o.call(this,...e)}_applyConstraints(t,e,o){let a=!1;return this.state.constraints.reduce((c,u)=>{if(c===!1)return!1;if(a)return c;const m=u.call(this,c,e,{onSkipRemaining:()=>{a=!0},...o});if(m===!1)return!1;if(se(m,2))return m;if(m===!0||m==null)return c;throw new te("Constraint returned invalid result: "+m,Vt.Internal)},t)}_showTooltip(t){this._tooltip||(this._tooltip=document.createElement("div"),this._tooltip.className="tooltip-content",this.state.visibleShape.wrapper.className="tooltip",this.state.visibleShape.wrapper.appendChild(this._tooltip),bs.push(()=>{this.state.added&&this._hideTooltip()})),this._tooltip.firstChild&&this._tooltip.removeChild(this._tooltip.firstChild),this.state.visibleShape.wrapper.className="tooltip visible",this._tooltip.appendChild(document.createElement("span")),typeof t=="string"?Zr(this._tooltip.firstChild,t,!1):typeof t=="function"?t(this._tooltip.firstChild):this._tooltip.firstChild.appendChild(t)}_hideTooltip(){this._tooltip&&(this.state.visibleShape.wrapper.className="tooltip")}coord(){return this.state.coord}setCoord(t){Hn(se(t,2)),this.state.coord=w.clone(t),this.draw()}setCoordConstrained(t){Hn(se(t,2));const e=this._applyConstraints(t,this.coord());e!==!1&&(this.state.coord=w.clone(e),this.draw())}listen(t,e,o){this._listenerMap=this._listenerMap||{};const a=ws(t,e),c=this._listenerMap[a]=this._listenerMap[a]||this.state[t].length;this.state[t][c]=o}unlisten(t,e){this._listenerMap=this._listenerMap||{};const o=ws(t,e),a=this._listenerMap[o];if(a!==void 0){this.state[t].splice(a,1),delete this._listenerMap[o];const c=w.keys(this._listenerMap);w.each(c,u=>{Jr(u)===t&&this._listenerMap[u]>a&&this._listenerMap[u]--},this)}}grab(t){this.state.touchOffset=[0,0],this.movable.grab(t),this.moveTo(t)}moveTo(t){const e=this.state;this.state.outOfBounds=!1;const o=this._applyConstraints(t,e.coord,e.onRemove?{onOutOfBounds:()=>{this.state.outOfBounds=!0},onSkipRemaining:()=>{}}:{onSkipRemaining:()=>{}});if(o!==!1&&(se(o)&&(t=o),!ci(t,e.coord))){const a=e.coord;e.coord=t,e.hasMoved=!0,this._fireEvent(e.onMove,e.coord,a),this.draw()}}remove(){this.state.added=!1,this._fireEvent(this.state.remove),this.movable&&this.movable.remove(),this.state.mouseTarget=null}pointSize(){return this.state.pointSize}static(){return this.state.static}cursor(){return this.state.cursor}normalStyle(){return this.state.normalStyle}highlightStyle(){return this.state.highlightStyle}shadow(){return this.state.shadow}tooltip(){return this.state.tooltip}added(){return this.state.added}hasMoved(){return this.state.hasMoved}visibleShape(){return this.state.visibleShape}outOfBounds(){return this.state.outOfBounds}mouseTarget(){return this.state.mouseTarget}touchOffset(){return this.state.touchOffset}isHovering(){return this.movable.isHovering()}isDragging(){return this.movable.isDragging()}toBack(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()}toFront(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()}},Xt.add=Qt.add,Xt.modify=Qt.modify,Xt.draw=Qt.draw,Xt.remove=Qt.remove,Xt.onMoveStart=Qt.onMoveStart,Xt.constraints=Qt.constraints,Xt.onMove=Qt.onMove,Xt.onMoveEnd=Qt.onMoveEnd,Xt.onClick=Qt.onClick,Xt);function ws(n,t){return n+":"+t}function Jr(n){return n.split(":")[0]}function Qr(n){return w.reduce(n,function(t,e){return t+e},0)}function ta(n){const t=w.zip(n,n.slice(1).concat(n.slice(0,1))),e=w.map(t,function(o){const a=o[0],c=o[1];return(c[0]-a[0])*(c[1]+a[1])});return Qr(e)>0}const gn={constrain:function(){this.constrain()},pointsToFront:function(n){w.invoke(n.points,"toFront")}};gn.standard=[gn.constrain,gn.pointsToFront];const si={draw:function(){this.draw()}};si.standard=[si.draw];const He={basic:function(n,t){const e=this.graphie,o=this.path(n);this.state.visibleShape||(this.state.visibleShape=e.raphael.path(o),this.state.visibleShape.attr(this.normalStyle())),n.normalStyle!==t.normalStyle&&!w.isEqual(n.normalStyle,t.normalStyle)&&this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.attr({path:o}),this.mouseTarget()&&this.mouseTarget().attr({path:o})},labels:function(n,t){const e=this.graphie,o=this,a=w.invoke(n.points,"coord"),c=ta(a),u=a.length;o.state._labelCache!=null&&w.invoke(o.state._labelCache,"remove"),o.state._labelCache=[],(n.angleLabels.length||n.showRightAngleMarkers.length)&&(o.state._labeledAngles==null&&(o.state._labeledAngles=w.times(Math.max(n.angleLabels.length,n.showRightAngleMarkers.length),function(){return e.label([0,0],"","center",n.labelStyle)})),w.each(o.state._labeledAngles,function(m,y){o.state._labelCache.push(e.labelAngle({point1:a[(y-1+u)%u],vertex:a[y],point3:a[(y+1)%u],label:m,text:n.angleLabels[y],showRightAngleMarker:n.showRightAngleMarkers[y],numArcs:n.numArcs[y],clockwise:c,style:n.labelStyle}))})),n.sideLabels.length&&(o.state._labeledSides==null&&(o.state._labeledSides=w.map(n.sideLabels,function(m){return e.label([0,0],"","center",n.labelStyle)})),w.each(o.state._labeledSides,function(m,y){o.state._labelCache.push(e.labelSide({point1:a[y],point2:a[(y+1)%u],label:m,text:n.sideLabels[y],numArrows:n.numArrows[y],numTicks:n.numTicks[y],clockwise:c,style:n.labelStyle}))})),n.vertexLabels.length&&(o.state._labeledVertices==null&&(o.state._labeledVertices=w.map(n.vertexLabels,function(m){return e.label([0,0],"","center",n.labelStyle)})),w.each(o.state._labeledVertices,function(m,y){o.state._labelCache.push(e.labelVertex({point1:a[(y-1+u)%u],vertex:a[y],point3:a[(y+1)%u],label:m,text:n.vertexLabels[y],clockwise:c,style:n.labelStyle}))})),o.state._labelCache=w.flatten(o.state._labelCache)},highlight:function(n,t){n.isHovering&&!t.isHovering?n.visibleShape.animate(this.highlightStyle(),50):!n.isHovering&&t.isHovering&&n.visibleShape.animate(this.normalStyle(),50)}};He.standard=[He.basic,He.labels,He.highlight];const vn={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},labels:function(){const n=[this.state._labeledSides,this.state._labeledVertices,this.state._labeledAngles,this.state._labelCache];w.each(n,function(t){t!=null&&t.length&&w.invoke(t,"remove")})}};vn.standard=[vn.basic,vn.labels];const Xs={fixed:function(){return function(){return!1}},snap:function(n){return function(t){return n===null?!0:(n=n||this.graphie.snap,hi(t,n))}},bound:function(n,t,e){return e===void 0&&(n===void 0?e=10:e=0),function(o,a){const c=this.graphie,u=ut(o,a);n=n||c.range,t===void 0&&(t=c.snap);let m=c.unscalePoint([e,c.ypixels-e]),y=c.unscalePoint([c.xpixels-e,e]);t&&(m=di(m,t),y=ui(y,t));const b=w.map(this.coords(),function(x,S){const P=ut(y,x);return[ut(m,x),P]}),M=w.reduce(b,function(x,S){const P=S[0],C=S[1],I=Math.max(P[0],Math.min(C[0],x[0])),_=Math.max(P[1],Math.min(C[1],x[1]));return[I,_]},u);return ct(a,M)}}};Xs.standard=null;const Us={updatePoints:function(n,t){const e=ut(n,t);w.each(this.state.points,function(o){o.setCoord(ct(o.coord(),e))})}};Us.standard=null;const $s={add:gn,modify:si,draw:He,remove:vn,onMoveStart:{standard:null},constraints:Xs,onMove:Us,onMoveEnd:{standard:null},onClick:{standard:null}},xs=At.assert,Ms=At.normalizeOptions,Ws={points:null,angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],closed:!0,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,labelStyle:null},Zs={added:!1,hasMoved:!1,visibleShape:null,mouseTarget:null},Pe=function(n,t,e){xs(n!=null),xs(e!=null),w.extend(this,{graphie:n,movable:t,state:{id:w.uniqueId("movablePolygon")}}),this.modify(w.extend({},Zs,e))};w.extend(Pe,$s);At.createGettersFor(Pe,w.extend({},Ws,Zs));At.addMovableHelperMethodsTo(Pe);w.extend(Pe.prototype,{cloneState:function(){return w.extend(this.movable.cloneState(),this.state)},_createDefaultState:function(){return w.extend({id:this.state.id},Ms(ai($s,"standard")),Ws)},modify:function(n){this.update(w.extend(this._createDefaultState(),n))},update:function(n){const t=this,e=t.graphie,o=w.extend(t.state,Ms(n)),a=o.static?H.DYNAMIC:H.INTERACTIVE;o.normalStyle=w.extend({},o.normalStyle,{"stroke-width":2,"fill-opacity":0,fill:a,stroke:a},n.normalStyle),o.highlightStyle=w.extend({},{stroke:H.INTERACTING,"stroke-width":2,fill:H.INTERACTING,"fill-opacity":.05},o.highlightStyle),o.labelStyle=w.extend({},{stroke:H.DYNAMIC,"stroke-width":1,color:H.DYNAMIC},o.labelStyle),o.static||o.mouseTarget||(o.mouseTarget=e.mouselayer.path(this.path()),o.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})),t.movable.modify(w.extend({},o,{modify:null,draw:t.draw.bind(t),remove:null,onMoveStart:function(){t._initialRefCoord=t.coord(0),t._prevRefCoord=t._initialRefCoord,t._totalDelta=[0,0],t._fireEvent(t.state.onMoveStart,t.coord(0),t.coord(0))},onMove:function(c,u){const m=ut(c,u);t._totalDelta=ct(t._totalDelta,m);let y=ct(t._initialRefCoord,t._totalDelta);y=t._applyConstraints(y,t._prevRefCoord),y!==!1&&(t._fireEvent(t.state.onMove,y,t._prevRefCoord),t._prevRefCoord=y)},onMoveEnd:function(){t._fireEvent(t.state.onMoveEnd,t._prevRefCoord,t._initialRefCoord)}})),w.invoke(o.points,"listen","onMove",o.id,t.draw.bind(t)),o.added||(t.prevState={},t._fireEvent(o.add,t.cloneState(),t.prevState),o.added=!0,t.prevState=t.cloneState()),t._fireEvent(o.modify,t.cloneState(),t.prevState)},path:function(n){const t=this.graphie;n=n||this.state;let e=w.map(n.points,function(o){return t.scalePoint(o.coord())});return n.closed?e.push(!0):e=e.concat(w.clone(e).reverse()),yt.unscaledSvgPath(e)},coords:function(){return w.invoke(this.state.points,"coord")},point:function(n){return this.state.points[n]},coord:function(n){return this.point(n).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.points&&w.invoke(this.state.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove(),this.state.mouseTarget=null},constrain:function(){if(this.points==null||this.points.length===0)return;const n=this.coord(0),t=this._applyConstraints(n,n);t!==!1&&this._fireEvent(this.state.onMove,t,n)},normalStyle:function(){return w.clone(this.state.normalStyle)},highlightStyle:function(){return w.clone(this.state.highlightStyle)},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}});const Ue={MovablePoint:ys,addMovablePoint:function(n,t){const e=new Vn(n,{});return new ys(n,e,t)},MovableLine:Ae,addMovableLine:function(n,t){const e=new Vn(n,{});return new Ae(n,e,t)},MovablePolygon:Pe,addMovablePolygon:function(n,t){const e=new Vn(n,{});return new Pe(n,e,t)},addMaybeMobileMovablePoint:function(n,t){const e=n.props.apiOptions.isMobile,o=e?{stroke:"#ffffff","stroke-width":3,fill:H.INTERACTIVE}:{stroke:H.INTERACTIVE,fill:H.INTERACTIVE},a=Object.assign(o,t.normalStyle),c=Object.assign(e?{...o,"stroke-width":0,scale:.75}:{},t.highlightStyle),u=Object.assign({normalStyle:a,highlightStyle:c,shadow:e,tooltip:e&&n.props.showTooltips,showHairlines:n.showHairlines,hideHairlines:n.hideHairlines},e?{pointSize:7}:{});return Ue.addMovablePoint(n.graphie,Object.assign(t,u))}},js=Ot.createClass({displayName:"MovablePoint",movableProps:["children"],_getProps:function(){if(this.props.isMobile){const n=this.props.isMobile,t=n?{stroke:"#ffffff","stroke-width":3,fill:H.INTERACTIVE}:{stroke:H.INTERACTIVE,fill:H.INTERACTIVE},e=n?Object.assign(t,this.props.mobileStyleOverride||{}):Object.assign(t,this.props.normalStyle),o=n?{...t,"stroke-width":0,scale:.75}:this.props.highlightStyle,a=Object.assign({normalStyle:e,highlightStyle:o,shadow:n,tooltip:n&&this.props.showTooltips},n?{pointSize:7}:{});return Object.assign(this.props,a)}return this.props},add:function(n){this.point=Ue.addMovablePoint(n,this._getProps())},modify:function(){this.point.modify(this._getProps())},remove:function(){this.point.remove()},toFront:function(){this.point.toFront()},grab:function(n){this.point.grab(n)}});w.extend(js,Ue.MovablePoint);const Ks=Ot.createClass({displayName:"MovableLine",movableProps:["children"],add:function(n){const t=w.pluck(this.props.children,"point"),e=w.extend({},this.props,{points:t});this.line=Ue.addMovableLine(n,e)},modify:function(){const n=w.pluck(this.props.children,"point"),t=w.extend({},this.props,{points:n});this.line.modify(t)},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}});w.extend(Ks,Ue.MovableLine);const ea=Ot.createSimpleClass((n,t)=>{let e=t.coord;t.unscaled&&(e=n.unscalePoint(e));let o=null;return he().JIPT.useJIPT?(o=n.label(e,t.text,t.direction,!1,t.style),he().graphieMovablesJiptLabels.addLabel(o,t.tex)):o=n.label(e,t.text,t.direction,t.tex,t.style),o}),na=Ot.createClass({displayName:"Line",movableProps:["children"],add:function(n){const t=this.props;this.graphie=n,this.line=this.graphie.line(t.start,t.end,t.style)},modify:function(){const n=this.props,t=this.graphie.svgPath([n.start,n.end]);this.line.attr(w.extend({},n.style,{path:t}))},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}}),ia=Ot.createClass({displayName:"Parabola",movableProps:["children"],add:function(n){const t=this.props;this.graphie=n,this.parabola=this.graphie.parabola(t.a,t.b,t.c,t.style)},modify:function(){const n=this.props,t=this.graphie.svgParabolaPath(n.a,n.b,n.c);this.parabola.attr(w.extend({},n.style,{path:t}))},remove:function(){this.parabola.remove()},toFront:function(){this.parabola.toFront()}}),sa=Ot.createClass({displayName:"Sinusoid",movableProps:["children"],add:function(n){const t=this.props;this.graphie=n,this.sinusoid=this.graphie.sinusoid(t.a,t.b,t.c,t.d,t.style)},modify:function(){const n=this.props,t=this.graphie.svgSinusoidPath(n.a,n.b,n.c,n.d);this.sinusoid.attr(w.extend({},n.style,{path:t}))},remove:function(){this.sinusoid.remove()},toFront:function(){this.sinusoid.toFront()}}),oa=Ot.createSimpleClass((n,t)=>n.plot(t.fn,t.range,t.style)),ra=Ot.createSimpleClass((n,t)=>n.plotParametric(t.fn,t.range,t.style)),aa=Ot.createSimpleClass((n,t)=>n.ellipse(t.coord,n.unscaleVector([4,4]),{fill:t.color||H.BLACK,stroke:t.color||H.BLACK})),la=Ot.createClass({displayName:"Path",movableProps:["children"],add:function(n){const t=this.props;this.graphie=n,this.path=this.graphie.path(t.coords,t.style)},modify:function(){const n=this.props,t=this.graphie.svgPath(n.coords);this.path.attr({path:t})},remove:function(){this.path.remove()},toFront:function(){this.path.toFront()}}),ca=Ot.createSimpleClass((n,t)=>{let e=t.center,o=t.radius;return t.unscaled&&(e=n.unscalePoint(e),o=n.unscaleVector(o)),n.arc(e,o,t.startAngle,t.endAngle,t.sector,t.style)}),ha=Ot.createSimpleClass((n,t)=>n.circle(t.center,t.radius,t.style)),ua=Ot.createSimpleClass((n,t)=>n.rect(t.x,t.y,t.width,t.height,t.style)),da={Arc:ca,Circle:ha,Label:ea,Line:na,MovableLine:Ks,MovablePoint:js,Parabola:ia,Path:la,Plot:oa,PlotParametric:ra,Point:aa,Sinusoid:sa,Rect:ua},fa=Ot.GraphieMovable,pa=yt.createGraphie,{deepEq:Yn,nestedMap:ma}=Et,{assert:ga}=At,gi=class gi extends Ct.Component{constructor(){super(...arguments),this.graphieDivRef=Ct.createRef(),this._graphie=new Zn(document.createElement("div")),this._movables={},this.movables={},this.getGraphie=()=>this._graphie,this._range=()=>{const t=e=>e[0]>=e[1]?[-10,10]:e;return[t(this.props.range[0]),t(this.props.range[1])]},this._box=()=>{const t=e=>e>0?e:340;return[t(this.props.box[0]),t(this.props.box[1])]},this._scale=()=>{const t=this._box(),e=this._range();return t.map((o,a)=>{const c=e[a][1]-e[a][0];return o/c})},this._setupGraphie=()=>{this._removeMovables();const t=this.graphieDivRef.current;if(t==null||t instanceof Text)throw new Error("No graphie container div found");t.innerHTML="";const e=this._graphie=pa(t);e.init({range:this._range(),scale:this._scale(),isMobile:this.props.isMobile}),this.props.addMouseLayer&&e.addMouseLayer({onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),e.snap=this.props.options.snapStep||[1,1],this.props.responsive&&(E(t).css({width:"100%",height:"100%"}),e.raphael.setSize("100%","100%")),this.props.setup(e,w.extend({range:this._range(),scale:this._scale()},this.props.options))},this._removeMovables=()=>{w.invoke(this._movables,"remove"),this._movables={}},this._renderMovables=(t,e)=>{const o=e.graphie,a=e.oldMovables,c=e.newMovables,u=y=>{w.each(y.movableProps,b=>{y.props[b]=this._renderMovables(y.props[b],e)})};let m=!1;return ma(t,y=>{if(!y)return e.nextKey++,y;const b=new y.type(y.props);ga(b instanceof fa,"All children of a Graphie component must be Graphie movables");const M=y.key,x=M??"_no_id_"+e.nextKey;e.nextKey++;const S=y.ref;u(b);const P=a[x];return P?b.constructor===P.constructor?(P.props=b.props,P.modify(o)==="reordered"&&(m=!0),c[x]=P):(M==null&&Ye.error("Replacing a <Graphie> child with a child of a different type. Please add keys to your <Graphie> children",Vt.Internal),P.remove(),b.add(o),m=!0,c[x]=b):(b.add(o),m=!0,c[x]=b),m&&c[x].toFront(),S&&(this.movables[S]=c[x]),c[x]})},this._updateMovables=()=>{const t=this._graphie,e=this._movables,o={};this._movables=o,this.movables={},this._renderMovables(this.props.children,{nextKey:1,graphie:t,oldMovables:e,newMovables:o}),w.each(e,(a,c)=>{o[c]||a.remove()})}}componentDidMount(){this._setupGraphie(),this._updateMovables()}shouldComponentUpdate(t){return!w.isEqual(this.props,t)}componentDidUpdate(t){this.props.setup!==t.setup&&Ye.error("<Graphie> was given a new setup function. This is a bad idea; please refactor your code to give the same setup function reference to <Graphie> on every render.",Vt.Internal),(!Yn(this.props.options,t.options)||!Yn(this.props.box,t.box)||!Yn(this.props.range,t.range))&&this._setupGraphie(),this._updateMovables()}render(){return Lt.jsx("div",{className:"graphie-container",children:Lt.jsx("div",{className:"graphie",ref:this.graphieDivRef})})}};gi.defaultProps={range:[[-10,10],[-10,10]],options:{},responsive:!1,addMouseLayer:!0};let fe=gi;w.extend(fe,Ot);w.extend(fe,da);fe.__docgenInfo={description:"",methods:[{name:"getGraphie",docblock:`Allow parents of the <Graphie> component to grab a reference to the
underlying graphie object using
\`this.refs.graphieComponent.getGraphie()\`

This shouldn't be necessary for 90% of cases, but the power is there.
Use it for good and not evil.`,modifiers:[],params:[],returns:null,description:`Allow parents of the <Graphie> component to grab a reference to the
underlying graphie object using
\`this.refs.graphieComponent.getGraphie()\`

This shouldn't be necessary for 90% of cases, but the power is there.
Use it for good and not evil.`},{name:"_range",docblock:null,modifiers:[],params:[],returns:null},{name:"_box",docblock:null,modifiers:[],params:[],returns:null},{name:"_scale",docblock:null,modifiers:[],params:[],returns:null},{name:"_setupGraphie",docblock:null,modifiers:[],params:[],returns:null},{name:"_removeMovables",docblock:null,modifiers:[],params:[],returns:null},{name:"_renderMovables",docblock:null,modifiers:[],params:[{name:"children",optional:!1,type:null},{name:"options",optional:!1,type:null}],returns:null},{name:"_updateMovables",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Graphie",props:{addMouseLayer:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},box:{required:!0,tsType:{name:"tuple",raw:"[width: number, height: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},range:{required:!1,tsType:{name:"tuple",raw:"[Coord, Coord]",elements:[{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]}]},description:"",defaultValue:{value:`[
    [-10, 10],
    [-10, 10],
]`,computed:!1}},ranges:{required:!1,tsType:{name:"tuple",raw:"[Range, Range]",elements:[{name:"tuple",raw:"[min: number, max: number]",elements:[{name:"unknown"},{name:"unknown"}]},{name:"tuple",raw:"[min: number, max: number]",elements:[{name:"unknown"},{name:"unknown"}]}]},description:""},gridStep:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},step:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},scale:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},isMobile:{required:!1,tsType:{name:"boolean"},description:""},responsive:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},options:{required:!1,tsType:{name:"any"},description:"",defaultValue:{value:"{}",computed:!1}},setDrawingAreaAvailable:{required:!1,tsType:{name:"signature",type:"function",raw:"(boolean) => void",signature:{arguments:[{name:"boolean"}],return:{name:"void"}}},description:""},setup:{required:!0,tsType:{name:"signature",type:"function",raw:`(
    graphie: any,
    options: {
        range: [Coord, Coord];
        scale: [number, number];
    },
) => void`,signature:{arguments:[{type:{name:"any"},name:"graphie"},{type:{name:"signature",type:"object",raw:`{
    range: [Coord, Coord];
    scale: [number, number];
}`,signature:{properties:[{key:"range",value:{name:"tuple",raw:"[Coord, Coord]",elements:[{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]}],required:!0}},{key:"scale",value:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}],required:!0}}]}},name:"options"}],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(at: Coord) => void",signature:{arguments:[{type:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},name:"at"}],return:{name:"void"}}},description:""},onMouseDown:{required:!1,tsType:{name:"signature",type:"function",raw:"(at: Coord) => void",signature:{arguments:[{type:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},name:"at"}],return:{name:"void"}}},description:""},onMouseMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(at: Coord) => void",signature:{arguments:[{type:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},name:"at"}],return:{name:"void"}}},description:""}}};const va=700;function ba(n){return/\.(jpg|jpeg)$/i.test(n)}function ya(n){return Lt.jsx("span",{style:{top:0,left:0,width:"100%",height:"100%",position:"absolute",minWidth:"20px",display:"flex",justifyContent:"center",alignContent:"center"},children:Lt.jsx(Es,{size:"medium"})})}const vi=class vi extends Ct.Component{constructor(t){super(t),this.onImageLoad=()=>{this.sizeProvided()?this.setState({imageLoaded:!0}):Et.getImageSize(this.props.src,(e,o)=>{this._isMounted&&this.setState({imageLoaded:!0,imageDimensions:[e,o]})})},this.setupGraphie=(e,o)=>{w.map(o.labels,a=>{const{JIPT:c}=he();if(c.useJIPT&&this.state.labelDataIsLocalized){const u=e.label(a.coordinates,a.content,a.alignment,!1);he().svgImageJiptLabels.addLabel(u,a.typesetAsMath)}else if(a.coordinates){const u=this.props.scale!==1?{"font-size":100*this.props.scale+"%"}:null,m=e.label(a.coordinates,a.content,a.alignment,a.typesetAsMath,u),y=m[0].style;let b=this._tryGetPixels(y.top),M=this._tryGetPixels(y.left);if(b===null||M===null){const P=m.position();b=P.top,M=P.left}const x=(this.props.height||0)*this.props.scale,S=(this.props.width||0)*this.props.scale;m.css({top:b/x*100+"%",left:M/S*100+"%"}),w.each(a.style,(P,C)=>{m.css(C,P)})}this.setState({labelsRendered:{...this.state.labelsRendered,[a.content]:!0}})})},this._handleZoomClick=e=>{var a,c;(E(e.target).width()<this.props.width||this.props.zoomToFullSizeOnMobile)&&gr.handleZoomClick(e,this.props.zoomToFullSizeOnMobile),(c=(a=this.props).trackInteraction)==null||c.call(a)},this.handleUpdate=e=>{this.props.onUpdate(),!Et.isLabeledSVG(this.props.src)&&e==="loaded"&&this.setState({imageLoaded:!0})},t.setAssetStatus(t.src,!1),this._isMounted=!1,this.state={imageLoaded:!1,imageDimensions:null,dataLoaded:!1,labelDataIsLocalized:!1,labels:[],labelsRendered:{},range:[[0,0],[0,0]]}}componentDidMount(){this._isMounted=!0,Et.isLabeledSVG(this.props.src)&&this.loadResources()}UNSAFE_componentWillReceiveProps(t){this.props.src!==t.src&&this.setState({imageLoaded:!1,dataLoaded:!1})}shouldComponentUpdate(t,e){if(!w.isEqual(this.props,t))return!0;const o=this.isLoadedInState(this.state),a=this.isLoadedInState(e);return o!==a}componentDidUpdate(t,e){const o=this.isLoadedInState(e),a=this.isLoadedInState(this.state);Et.isLabeledSVG(this.props.src)&&!a&&this.loadResources(),!o&&a&&this.props.setAssetStatus(this.props.src,!0)}componentWillUnmount(){this._isMounted=!1}isLoadedInState(t){return Et.isLabeledSVG(this.props.src)?t.imageLoaded&&t.dataLoaded:t.imageLoaded}loadResources(){pr(this.props.src,(t,e)=>{if(this._isMounted&&t.labels&&t.range){const o={};t.labels.forEach(a=>{o[a.content]=!1}),this.setState({dataLoaded:!0,labelDataIsLocalized:e,labelsRendered:o,labels:t.labels,range:t.range})}})}sizeProvided(){return this.props.width!=null&&this.props.height!=null}_tryGetPixels(t){return t=t||"",t.endsWith("px")&&parseFloat(t)||null}render(){const t=this.props.src,e={alt:this.props.alt,title:this.props.title},o=this.props.width&&this.props.width*this.props.scale,a=this.props.height&&this.props.height*this.props.scale,c={width:o,height:a},u=this.props.responsive&&!!(o&&a);let m;this.props.extraGraphie&&this.props.extraGraphie.labels.length&&(m=Lt.jsx(fe,{box:this.props.extraGraphie.box,range:this.props.extraGraphie.range,options:{labels:this.props.extraGraphie.labels},responsive:!0,addMouseLayer:!1,setup:this.setupGraphie}));const y=this.props.preloader===void 0?ya:this.props.preloader,b=y?()=>y(c):null;if(!Et.isLabeledSVG(t)){if(u){const S=wo({zoomable:(o||0)>va,"svg-image":!0});return e.onClick=this._handleZoomClick,Lt.jsxs(Ji,{className:S,width:o,height:a,constrainHeight:this.props.constrainHeight,allowFullBleed:this.props.allowFullBleed&&ba(t),children:[Lt.jsx(ln,{src:t,imgProps:e,preloader:b,onUpdate:this.handleUpdate}),m]})}return e.style=c,Lt.jsx(ln,{src:t,preloader:b,imgProps:e,onUpdate:this.handleUpdate})}const M=Et.getSvgUrl(t);let x;if(this.isLoadedInState(this.state)){let S;if(this.sizeProvided())S=[o,a];else if(this.state.imageDimensions)S=[this.state.imageDimensions[0]*this.props.scale,this.state.imageDimensions[1]*this.props.scale];else throw new te("svg-image has no dimensions",Vt.InvalidInput,{metadata:{src:this.props.src}});x=Lt.jsx(fe,{ref:"graphie",box:S,scale:[40*this.props.scale,40*this.props.scale],range:this.state.range,options:w.pick(this.state,"labels"),responsive:u,addMouseLayer:!1,setup:this.setupGraphie})}return u?Lt.jsxs(Ji,{className:"svg-image",width:o,height:a,constrainHeight:this.props.constrainHeight,children:[Lt.jsx(ln,{src:M,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader:b,imgProps:e}),x,m]}):(e.style=c,Lt.jsxs("div",{className:"unresponsive-svg-image",style:c,children:[Lt.jsx(ln,{src:M,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader:b,imgProps:e}),x]}))}};vi.defaultProps={constrainHeight:!1,onUpdate:()=>{},responsive:!0,src:"",scale:1,zoomToFullSizeOnMobile:!1,setAssetStatus:(t,e)=>{}};let oi=vi;oi.__docgenInfo={description:"",methods:[{name:"isLoadedInState",docblock:null,modifiers:[],params:[{name:"state",optional:!1,type:{name:"signature",type:"object",raw:`{
    // For labeled SVGs, when both dataLoaded and imageLoaded are true,
    // indicates that loading has completed.
    dataLoaded: boolean;
    imageDimensions: [number, number] | null | undefined;
    // Used to indicate when a non-labeled SVG image is finished loading
    // and for labeled SVGs, indicates that it's safe to set up the graphie
    // containing the labels.
    imageLoaded: boolean;
    // Some graphies have labels which are rendered after the main image is
    // loaded.  This object keeps track of whether those labels have been
    // rendered.
    labelsRendered: LabelsRenderedMap;
    labelDataIsLocalized: boolean;
    labels: ReadonlyArray<Label>;
    range: [Coord, Coord];
}`,signature:{properties:[{key:"dataLoaded",value:{name:"boolean",required:!0}},{key:"imageDimensions",value:{name:"union",raw:"[number, number] | null | undefined",elements:[{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},{name:"null"},{name:"undefined"}],required:!0}},{key:"imageLoaded",value:{name:"boolean",required:!0}},{key:"labelsRendered",value:{name:"signature",type:"object",raw:`{
    [label: string]: boolean;
}`,signature:{properties:[{key:{name:"string"},value:{name:"boolean",required:!0}}]},required:!0}},{key:"labelDataIsLocalized",value:{name:"boolean",required:!0}},{key:"labels",value:{name:"ReadonlyArray",elements:[{name:"signature",type:"object",raw:`{
    coordinates: ReadonlyArray<any>;
    content: string;
    alignment: Alignment;
    typesetAsMath: boolean;
}`,signature:{properties:[{key:"coordinates",value:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>",required:!0}},{key:"content",value:{name:"string",required:!0}},{key:"alignment",value:{name:"union",raw:`| "default"
| "block"
| "inline-block"
| "inline"
| "float-left"
| "float-right"
| "full-width"`,elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"block"'},{name:"literal",value:'"inline-block"'},{name:"literal",value:'"inline"'},{name:"literal",value:'"float-left"'},{name:"literal",value:'"float-right"'},{name:"literal",value:'"full-width"'}],required:!0}},{key:"typesetAsMath",value:{name:"boolean",required:!0}}]}}],raw:"ReadonlyArray<Label>",required:!0}},{key:"range",value:{name:"tuple",raw:"[Coord, Coord]",elements:[{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]}],required:!0}}]},alias:"State"}}],returns:{type:{name:"boolean"}}},{name:"loadResources",docblock:null,modifiers:[],params:[],returns:null},{name:"sizeProvided",docblock:null,modifiers:[],params:[],returns:{type:{name:"boolean"}}},{name:"onImageLoad",docblock:null,modifiers:[],params:[],returns:null},{name:"setupGraphie",docblock:null,modifiers:[],params:[{name:"graphie",optional:!1,type:{name:"any"}},{name:"options",optional:!1,type:{name:"any"}}],returns:null},{name:"_tryGetPixels",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:{name:"string"}}],returns:{type:{name:"union",raw:"null | number",elements:[{name:"null"},{name:"number"}]}}},{name:"_handleZoomClick",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent",alias:"React.SyntheticEvent"}}],returns:null},{name:"handleUpdate",docblock:null,modifiers:[],params:[{name:"status",optional:!1,type:{name:"string"}}],returns:null}],displayName:"SvgImage",props:{allowFullBleed:{required:!1,tsType:{name:"boolean"},description:""},alt:{required:!0,tsType:{name:"string"},description:""},constrainHeight:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},extraGraphie:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    box: Size;
    range: [Coord, Coord];
    labels: ReadonlyArray<any>;
}`,signature:{properties:[{key:"box",value:{name:"tuple",raw:"[width: number, height: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"range",value:{name:"tuple",raw:"[Coord, Coord]",elements:[{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]}],required:!0}},{key:"labels",value:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>",required:!0}}]}},description:""},height:{required:!1,tsType:{name:"number"},description:""},onUpdate:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:`When the DOM updates to replace the preloader with the image, or
vice-versa, we trigger this callback.`,defaultValue:{value:"() => {}",computed:!1}},overrideAriaHidden:{required:!1,tsType:{name:"boolean"},description:`If alt is provided, DO NOT set aria-hidden=true unless this override flag
is set.`},preloader:{required:!1,tsType:{name:"signature",type:"function",raw:"(dimensions: Dimensions) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    width?: number;
    height?: number;
}`,signature:{properties:[{key:"width",value:{name:"number",required:!1}},{key:"height",value:{name:"number",required:!1}}]}},name:"dimensions"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},responsive:{required:!1,tsType:{name:"boolean"},description:`By default, this component attempts to be responsive whenever
possible (specifically, when width and height are passed in).

You can expliclty force unresponsive behavior by *either*
not passing in width/height *or* setting this prop to false.

The difference is that forcing via this prop will result in
explicit width and height styles being set on the rendered
component.`,defaultValue:{value:"true",computed:!1}},scale:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},src:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},title:{required:!1,tsType:{name:"string"},description:""},trackInteraction:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},width:{required:!1,tsType:{name:"number"},description:""},zoomToFullSizeOnMobile:{required:!1,tsType:{name:"boolean"},description:`Whether clicking this image will allow it to be fully zoomed in to
its original size on click, and allow the user to scroll in that
state. This also does some hacky viewport meta tag changing to
ensure this works on mobile devices, so I (david@) don't recommend
enabling this on desktop yet.`,defaultValue:{value:"false",computed:!1}},setAssetStatus:{required:!1,tsType:{name:"signature",type:"function",raw:"(assetKey: string, loaded: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"assetKey"},{type:{name:"boolean"},name:"loaded"}],return:{name:"void"}}},description:`If provided, use AssetContext.Consumer, see renderer.jsx.
If not, it defaults to a no-op.`,defaultValue:{value:"(src: string, status: boolean) => {}",computed:!1}}}};export{Wn as A,At as B,Es as C,yt as G,Ue as I,H as K,Ye as L,oi as S,wn as W,fe as a,Va as b,ct as c,Ya as d,No as e,Br as f,Jn as g,Kn as h,hs as i,Bs as j,pi as k,li as l,Ha as m,Wa as n,Xa as o,Ua as p,$a as q,hi as r,ut as s,Za as t,ci as u,jn as v,ja as w,Ka as x,Te as y,Nr as z};
