import{a as m,j as t,F as L}from"./jsx-runtime-FVsy8kgq.js";import{B as R}from"./choice-E4eyMygy.js";import{V as D}from"./index-6h5t6F0w.js";import{S as I}from"./index-qUyqkRvh.js";import{s as c,c as x}from"./index-deFLJwr4.js";import{L as U}from"./index-h_CiYGGb.js";import{p as V}from"./plus-circle-JCxQSzSv.js";import{l as $}from"./index-awljIyHI.js";import{P as j,C as M,L as E}from"./locked-figure-settings-actions-WSW3YvFI.js";import{C as W}from"./color-select-aXibMsPD.js";import{C as z,g as N}from"./util-7LGRm2EO.js";import{L as k}from"./labeled-switch-OVGss_VI.js";import{L as G}from"./locked-label-settings-qoc_z_IC.js";const S=y=>{var C,v;const{flags:s,headerLabel:T,coord:i,color:g,filled:w=!0,labels:e,onChangeProps:l,onMove:P,onRemove:u,showPoint:f,expanded:q,onTogglePoint:b,onToggle:_}=y,d=!P&&!u;function B(n){const o={color:n};e&&(o.labels=e.map(a=>({...a,color:n}))),l(o)}function O(n){const o=n[0]-i[0],a=n[1]-i[1],p={coord:n};e&&(p.labels=e.map(h=>({...h,coord:[h.coord[0]+o,h.coord[1]+a]}))),l(p)}function F(n,o){if(!e)return;const a=[...e];a[o]={...e[o],...n},l({labels:a})}function A(n){if(!e)return;const o=e.filter((a,p)=>p!==n);l({labels:o})}return m(j,{expanded:q,onToggle:_,containerStyle:d?r.definingContainer:void 0,panelStyle:d?r.definingPanel:void 0,header:m(D,{style:r.row,children:[t(U,{children:`${T||"Point"} (${i[0]}, ${i[1]})`}),t(I,{size:c.xSmall_8}),t(z,{color:g,filled:w})]}),children:[t(M,{coord:i,style:r.spaceUnder,onChange:O}),b&&t(k,{label:"show point on graph",checked:!!f,style:f&&r.spaceUnder,onChange:b}),(!d||f)&&m(L,{children:[t(W,{selectedValue:g,onChange:B,style:r.spaceUnder}),t(k,{label:"open point",checked:!w,onChange:n=>{l({filled:!n})}})]}),(!d&&((C=s==null?void 0:s.mafs)==null?void 0:C["locked-point-labels"])||d&&((v=s==null?void 0:s.mafs)==null?void 0:v["locked-line-labels"]))&&m(L,{children:[e==null?void 0:e.map((n,o)=>t(G,{...n,containerStyle:!d&&r.lockedPointLabelContainer,expanded:!0,onChangeProps:a=>{F(a,o)},onRemove:()=>{A(o)}})),t(R,{kind:"tertiary",startIcon:V,onClick:()=>{const n={...N("label"),coord:[i[0]+.5,i[1]-1*((e==null?void 0:e.length)??0)],color:g};l({labels:[...e??[],n]})},style:r.addButton,children:"Add visible label"})]}),u&&t(E,{figureType:y.type,onMove:P,onRemove:u})]})},r=$.StyleSheet.create({definingContainer:{marginTop:c.xSmall_8,marginBottom:0,marginLeft:-c.xxxSmall_4,marginRight:-c.xxxSmall_4,backgroundColor:x.white},definingPanel:{paddingBottom:c.xxSmall_6},lockedPointLabelContainer:{backgroundColor:x.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:c.xSmall_8},addButton:{alignSelf:"start"}}),ie=S;S.__docgenInfo={description:"",methods:[],displayName:"LockedPointSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:"Optional flags to determine which features are enabled."},headerLabel:{required:!1,tsType:{name:"string"},description:`Optional label for the point to display in the header summary.
Defaults to "Point".`},showPoint:{required:!1,tsType:{name:"boolean"},description:"Whether the extra point settings are toggled open."},error:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Optional error message to display."},onTogglePoint:{required:!1,tsType:{name:"signature",type:"function",raw:"(newValue) => void",signature:{arguments:[{name:"newValue"}],return:{name:"void"}}},description:"Called when the extra settings toggle switch is changed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedPointType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedPointType"}],raw:"Partial<LockedPointType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when the point is moved."},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the point is removed."}}};export{ie as L};
