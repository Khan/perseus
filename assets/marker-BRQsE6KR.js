var g=Object.defineProperty;var x=(n,i,o)=>i in n?g(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var p=(n,i,o)=>(x(n,typeof i!="symbol"?i+"":i,o),o);import{j as c}from"./jsx-runtime-BT65X5dW.js";import{V as w}from"./index-DyG-XbLr.js";import{c as r}from"./index-BfjDPqC2.js";import{n as y}from"./no-important-DlFk8a1I.js";import{r as C}from"./index-C6mWTJJr.js";import{a as I}from"./i18n-context-bNNtSo4z.js";import{I as S}from"./icon-BfyZ3piz.js";import{a as v,b as T,c as P}from"./icon-paths-C3bPmxpL.js";import{A as q}from"./answer-pill-CDLCBtfk.js";function A(){if(typeof window.matchMedia!="function")return!0;const n=window.matchMedia("(prefers-reduced-motion: reduce)");return!n||n.matches}const t=24;class k extends C.Component{constructor(){super(...arguments);p(this,"_icon");p(this,"_mounted",!1)}componentDidMount(){this._mounted=!0}componentWillUnmount(){this._mounted=!1}renderIcon(){const{selected:o,showCorrectness:l,showSelected:f,showPulsate:d}=this.props,m=f,u=o;let a;const h={path:"",height:1,width:1};let s={size:t,color:r.white,icon:h};return l?(a=[e.markerGraded,l==="correct"?e.markerCorrect:e.markerIncorrect,m&&e.markerSelected],s={...s,icon:l==="correct"?v:T}):u&&u.length>0?a=[e.markerFilled,m&&e.markerSelected]:m?(a=[e.markerSelected],s={...s,icon:P,size:8}):d&&(a=[e.markerPulsateBase,this._mounted&&A()?d&&e.markerUnfilledPulsateOnce:d&&e.markerUnfilledPulsateInfinite]),c.jsx(w,{style:[e.markerIcon,a],ref:b=>this._icon=b,children:c.jsx(S,{...s})})}render(){const{showCorrectness:o,selected:l,showAnswer:f,answerSide:d,answerStyles:m,hovered:u,focused:a,label:h}=this.props,s=o==="correct",b=u||a;return c.jsxs(c.Fragment,{children:[c.jsx(w,{style:[e.marker,b&&!s&&e.markerActive],"aria-label":s?this.context.strings.correctExcited:h,children:this.renderIcon()}),!!l&&f&&c.jsx(q,{selectedAnswers:l,showCorrectness:o,side:d,style:m,markerRef:this._icon??void 0,hovered:u,focused:a})]})}}p(k,"contextType",I),p(k,"defaultProps",{selected:[]});const e=y.StyleSheet.create({marker:{position:"absolute",backgroundColor:r.white,borderRadius:t,width:t,height:t,marginLeft:t/-2,marginTop:t/-2,boxShadow:`0 8px 8px ${r.offBlack8}`},markerIcon:{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:t,height:t,border:`2px solid ${r.offBlack64}`,borderRadius:t},markerPulsateBase:{animationName:{"0%":{transform:"scale(1)",backgroundColor:r.blue},"100%":{transform:"scale(1.3)",backgroundColor:r.blue}},animationDirection:"alternate",animationDuration:"0.8s",animationTimingFunction:"ease-in",transformOrigin:"50% 50%",animationIterationCount:"0"},markerUnfilledPulsateInfinite:{animationIterationCount:"infinite"},markerUnfilledPulsateOnce:{animationIterationCount:"2"},markerActive:{outline:`2px solid ${r.blue}`,outlineOffset:2},markerSelected:{boxShadow:`0 8px 8px ${r.offBlack8}`,border:`solid 4px ${r.white}`,backgroundColor:r.blue,borderRadius:t,transform:"rotate(180deg)"},markerFilled:{backgroundColor:"#ECF3FE",border:`4px solid ${r.blue}`},markerGraded:{width:t,height:t,justifyContent:"center",alignItems:"center",border:`2px solid ${r.white}`},markerCorrect:{background:"#00880b"},markerIncorrect:{background:r.offBlack64}});k.__docgenInfo={description:"",methods:[{name:"renderIcon",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Marker",props:{selected:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},showCorrectness:{required:!1,tsType:{name:"union",raw:'"correct" | "incorrect"',elements:[{name:"literal",value:'"correct"'},{name:"literal",value:'"incorrect"'}]},description:""},label:{required:!0,tsType:{name:"string"},description:""},showSelected:{required:!0,tsType:{name:"boolean"},description:""},showPulsate:{required:!0,tsType:{name:"boolean"},description:""},answerSide:{required:!0,tsType:{name:"union",raw:'"top" | "bottom" | "left" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'}]},description:""},answerStyles:{required:!1,tsType:{name:"CSSProperties"},description:""},showAnswer:{required:!1,tsType:{name:"boolean"},description:""},focused:{required:!0,tsType:{name:"boolean"},description:""},hovered:{required:!0,tsType:{name:"boolean"},description:""}}};export{k as M};
