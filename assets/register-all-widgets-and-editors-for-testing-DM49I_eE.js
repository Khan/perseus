var he=Object.defineProperty;var me=(o,i,s)=>i in o?he(o,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[i]=s;var a=(o,i,s)=>(me(o,typeof i!="symbol"?i+"":i,s),s);import{j as e}from"./jsx-runtime-BT65X5dW.js";import{r as u}from"./index-C6mWTJJr.js";import{_ as p}from"./index-default-BcKQpA1a.js";import{i as ge,t as fe}from"./index-DktHmiAd.js";import{o as ye,q as be,r as xe,t as ve,p as c,c as h,G as we,M as je,T as Ce,w as qe}from"./all-widgets-Cu-8-7VQ.js";import"./index-DyG-XbLr.js";import"./answer-choices-BsDg2utO.js";import"./index-CcqtyHPG.js";import"./index-B1Gws05u.js";import"./i18n-context-BT3CWGFO.js";import{A as J}from"./perseus-api-DFYLNfT-.js";import{j as Te,k as ke,r as Ne,b as Oe,a as Ie,c as Se}from"./renderer-Bf3vLkvc.js";import"./free-response-HBsptkdb.js";import"./index-D7h-teXI.js";import{$ as _e}from"./jquery-CkHB0_Mt.js";import{g as Pe}from"./dependencies-BsVPGK1s.js";import{H as ze,I as Ve,J as Ae,L as Ee,M as Le,N as We,O as Re,P as De,Q as Me,R as $e,S as Ue,T as Be,V as Ge,U as Ke,W as He,y as Fe}from"./util-AEEC48XJ.js";import"./zoomable-tex-Dy-nElJT.js";import{L as de}from"./svg-image-8T6Bqk5w.js";import{n as M}from"./no-important-DlFk8a1I.js";import"./number-input-Bqp2ujXM.js";import"./simple-keypad-input-Bl9QRvgR.js";import"./text-input-CQ4Ha-J8.js";import"./phet-simulation-Bo8Pw36Z.js";import"./sortable-B-yijZmA.js";import"./fixed-to-responsive-CTsII9Xx.js";import"./math-input-CG7LDH-Z.js";import"./video-transcript-link-DfQd4tMq.js";import"./item-version-BG9yo_Tl.js";import"./article-renderer-BxZVJkRX.js";import"./server-item-renderer-W5PXmbhb.js";import"./hints-renderer-CZpwLeVS.js";import"./base-radio-2Z67ln_z.js";import"./button-group-B24xCvY2.js";import"./hud-CP_ly967.js";import"./icon-BfyZ3piz.js";import"./index-ChAlgF23.js";import"./inline-icon-AJRwMA4Z.js";import"./multi-button-group-U6RQwTwG.js";import"./range-input--OsOJO6O.js";import"./text-list-editor-C2gddtxS.js";import"./index-Dd-cahjY.js";import{C as Je}from"./categorizer-editor-C_go_sIj.js";import{E as Ze}from"./perseus-error-CSETqePQ.js";import{c as b}from"./components-Bsn6xny3.js";import{E as g}from"./editor-jsonify-CGS9ePmi.js";import{C as j}from"./index-CkYjwmgs.js";import{P as r}from"./index-CrGd2QqM.js";import{B as x}from"./blur-input-CN1PFvB4.js";import{D as Qe}from"./definition-editor-BM5smc-O.js";import{D as Xe}from"./dropdown-editor-hGuv5UVZ.js";import{E as Ye}from"./explanation-editor-GLyIgdBQ.js";import{E as es}from"./expression-editor-dA-QDmAb.js";import{F as ss}from"./free-response-editor-6X7dEO30.js";import{i as as}from"./icon-paths-C3bPmxpL.js";import{E as v}from"./editor-DnikeZSv.js";import{i as ts}from"./icon-paths-Cfjy_uoj.js";import{G as rs}from"./graph-settings-r7p_slcF.js";import{I as ns}from"./image-editor-BL7iDEwY.js";import{I as is}from"./input-number-editor-CSqnPnQx.js";import{I as os}from"./interaction-editor-BW6Jx9Cp.js";import{I as ls}from"./interactive-graph-editor-8GyL6N98.js";import{L as ps}from"./label-image-editor-DTjBt2wU.js";import{M as us}from"./matcher-editor-B7qrmEyr.js";import{N as ds}from"./number-line-editor-JJYxYkgQ.js";import{N as cs}from"./numeric-input-editor-pXUJku2f.js";import{P as hs}from"./phet-simulation-editor-BZ0Gk9dG.js";import{P as ms}from"./plotter-editor-xFwjpwDP.js";import{P as gs}from"./python-program-editor-OWH_DOxV.js";import{R as fs}from"./editor-gWgskwku.js";import{S as ys}from"./sorter-editor-CtobBy7_.js";const bs={chooseType:ye,defaultPlotProps:be,getEquationString:xe,typeToButton:ve};class G extends u.Component{constructor(i){super(i),this.state=this.getInitialState(),this.handleBlur=this.handleBlur.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}getInitialState(){return{currentValue:JSON.stringify(this.props.value,null,4),valid:!0}}UNSAFE_componentWillReceiveProps(i){(!this.state.valid||!p.isEqual(i.value,JSON.parse(this.state.currentValue?this.state.currentValue:"")))&&this.setState(this.getInitialState())}handleKeyDown(i){if(i.key==="Tab"){const s=i.target.selectionStart,t=i.target.value,n=t.substring(0,s),l=t.substring(s,t.length);i.target.value=n+"    "+l,i.target.selectionStart=n.length+4,i.target.selectionEnd=n.length+4,i.preventDefault(),this.handleChange(i)}}handleChange(i){const s=i.target.value;try{let t=JSON.parse(s);p.isString(t)&&(t=JSON.parse(t)),this.setState({currentValue:s,valid:!0},function(){this.props.onChange(t)})}catch{this.setState({currentValue:s,valid:!1})}}handleBlur(i){const s=i.target.value;try{let t=JSON.parse(s);p.isString(t)&&(t=JSON.parse(t)),this.setState({currentValue:JSON.stringify(t,null,4),valid:!0},function(){this.props.onChange(t)})}catch{this.setState({currentValue:JSON.stringify(this.props.value,null,4),valid:!0})}}render(){const i="perseus-json-editor "+(this.state.valid?"valid":"invalid");return e.jsx("textarea",{className:i,value:this.state.currentValue,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur})}}a(G,"displayName"),a(G,"defaultProps",{value:{}});G.__docgenInfo={description:"",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleBlur",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null}],props:{multiLine:{required:!0,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"any"},description:"",defaultValue:{value:"{}",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newJson: any) => void",signature:{arguments:[{type:{name:"any"},name:"newJson"}],return:{name:"void"}}},description:""}}};let X=0;const K={},H={};window.iframeDataStore={};window.addEventListener("message",o=>{if(typeof o.data=="string"){const i=K[o.data];i&&i()}else o.data.id&&(o.data.height!==void 0?H[o.data.id](o.data.height):o.data.lintWarnings&&de.log("LINTER REPORT",{lintWarnings:JSON.stringify(o.data.lintWarnings)}))});class xs extends u.Component{constructor(){super(...arguments);a(this,"_frame");a(this,"container",u.createRef());a(this,"_isMounted");a(this,"_lastData");a(this,"_lastHeight");a(this,"iframeID")}componentDidMount(){this._isMounted=!0,this.iframeID=X,X++,this._prepareFrame(),K[this.iframeID]=()=>{this.sendNewData(this._lastData)},H[this.iframeID]=s=>{this._lastHeight=s,this._isMounted&&this.props.seamless&&this.container.current&&(this.container.current.style.height=s+"px")}}shouldComponentUpdate(s){return s.datasetValue!==this.props.datasetValue||s.seamless!==this.props.seamless}componentDidUpdate(s){this.container.current&&(this.props.seamless?this.container.current.style.height=this._lastHeight+"px":this.container.current.style.height="100%"),s.datasetValue!==this.props.datasetValue&&this._prepareFrame()}componentWillUnmount(){K[this.iframeID]=null,H[this.iframeID]=null,this._isMounted=!1}_prepareFrame(){var t,n;this._frame&&((t=this.container.current)==null||t.removeChild(this._frame));const s=document.createElement("iframe");s.style.width="100%",s.style.height="100%",s.src=this.props.url,this.props.datasetKey&&(s.dataset[this.props.datasetKey]=this.props.datasetValue),s.dataset.id=String(this.iframeID),this.props.seamless&&(s.dataset.lintGutter="true"),(n=this.container.current)==null||n.appendChild(s),this._frame=s}sendNewData(s){const t=this._frame;this._isMounted&&s&&(t!=null&&t.contentWindow)&&(this._lastData=s,window.iframeDataStore[this.iframeID]=s,t.contentWindow.postMessage(this.iframeID,"*"))}render(){return e.jsx("div",{ref:this.container,style:{width:"100%",height:"100%"}})}}xs.__docgenInfo={description:"",methods:[{name:"_prepareFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"sendNewData",docblock:null,modifiers:[],params:[{name:"data",optional:!1,type:{name:"any"}}],returns:null}],displayName:"IframeContentRenderer",props:{url:{required:!0,tsType:{name:"string"},description:""},datasetKey:{required:!0,tsType:{name:"string"},description:""},datasetValue:{required:!0,tsType:{name:"any"},description:""},seamless:{required:!0,tsType:{name:"boolean"},description:""}}};const{InfoTip:Y}=b,vs=400,ws=400;var D;let js=(D=class extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"serialize",()=>g.serialize.call(this))}render(){return e.jsxs("fieldset",{className:"pair-editor",children:[e.jsxs("label",{children:["Name:"," ",e.jsx(x,{value:this.props.name,onChange:this.change("name")})]}),e.jsxs("label",{children:[" ","Value:"," ",e.jsx(x,{value:this.props.value,onChange:this.change("value")})]})]})}},a(D,"propTypes",{...c,name:r.string,value:r.string}),a(D,"defaultProps",{name:"",value:""}),D);var B;let Cs=(B=class extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"handlePairChange",(s,t)=>{const n=this.props.pairs.slice();n[s]=t;const l=n[n.length-1];l.name&&l.value&&n.push({name:"",value:""}),this.change("pairs",n)});a(this,"serialize",()=>g.serialize.call(this))}render(){const s=p.map(this.props.pairs,(t,n)=>e.jsx(js,{name:t.name,value:t.value,onChange:this.handlePairChange.bind(this,n)},n));return e.jsx("div",{children:s})}},a(B,"propTypes",{...c,pairs:r.arrayOf(r.shape({name:r.string,value:r.string})).isRequired}),B);const qs=/khanacademy\.org\/computer-programming\/[^\/]+\/(\d+)/;function Ts(o){const i=qs.exec(o);return i&&(o=i[1]),o}class q extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"_handleSettingsChange",s=>{this.change({settings:s.pairs})});a(this,"_handleProgramIDChange",s=>{s=Ts(s);const{isDevServer:t,InitialRequestUrl:n}=Pe(),f=`${t?n.origin:"https://www.khanacademy.org"}/api/internal/scratchpads/${s}`;_e.getJSON(f).done(y=>{const m=y.userAuthoredContentType;this.change({width:y.width,height:y.height,programID:s,programType:m})}).fail((y,m,d)=>{de.error("Error retrieving scratchpad info for program ID ",Ze.TransientService,{cause:d,loggedMetadata:{textStatus:m,programID:s}}),this.change({width:vs,height:ws,programID:s,programType:null})})});a(this,"serialize",()=>g.serialize.call(this))}render(){return e.jsxs("div",{children:[e.jsxs("label",{children:["Url or Program ID:"," ",e.jsx(x,{value:this.props.programID,onChange:this._handleProgramIDChange})]}),e.jsx("br",{}),e.jsx(j,{label:"Show Editor",checked:this.props.showEditor,onChange:s=>{this.props.onChange({showEditor:s})}}),e.jsx(Y,{children:'If you show the editor, you should use the "full-width" alignment to make room for the width of the editor.'}),e.jsx("br",{}),e.jsx(j,{label:"Show Buttons",checked:this.props.showButtons,onChange:s=>{this.props.onChange({showButtons:s})}}),e.jsx("br",{}),e.jsxs("label",{children:["Settings:",e.jsx(Cs,{name:"settings",pairs:this.props.settings,onChange:this._handleSettingsChange}),e.jsxs(Y,{children:["Settings that you add here are available to the program as an object returned by ",e.jsx("code",{children:"Program.settings()"})]})]})]})}}a(q,"propTypes",{...c}),a(q,"widgetName","cs-program"),a(q,"defaultProps",ze.defaultWidgetOptions);q.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"_handleSettingsChange",docblock:null,modifiers:[],params:[{name:"settings",optional:!1,type:null}],returns:null},{name:"_handleProgramIDChange",docblock:null,modifiers:[],params:[{name:"programID",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CSProgramEditor",props:{programID:{defaultValue:{value:'""',computed:!1},required:!1},programType:{defaultValue:{value:"null",computed:!1},required:!1},settings:{defaultValue:{value:'[{name: "", value: ""}]',computed:!1},required:!1},showEditor:{defaultValue:{value:"false",computed:!1},required:!1},showButtons:{defaultValue:{value:"false",computed:!1},required:!1},height:{defaultValue:{value:"400",computed:!1},required:!1}},composes:["@khanacademy/perseus"]};class Z extends u.Component{serialize(){return g.serialize.call(this)}render(){return e.jsxs("div",{children:[e.jsx("p",{children:"This widget has been deprecated and removed"}),e.jsx("p",{children:"Learners will see a message and they will not be graded on this part. Please replace this widget with a supported one."})]})}}a(Z,"widgetName","deprecated-standin");Z.__docgenInfo={description:"",methods:[{name:"serialize",docblock:null,modifiers:[],params:[],returns:{type:{name:"any"}}}],displayName:"DeprecatedStandinEditor",props:{onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(options: any) => void",signature:{arguments:[{type:{name:"any"},name:"options"}],return:{name:"void"}}},description:""}}};const{InlineIcon:ee,TextInput:ks}=b;class w extends u.Component{constructor(){super(...arguments);a(this,"editor",u.createRef());a(this,"hintEditor",u.createRef());a(this,"change",(...s)=>h.apply(this,s));a(this,"handleAddHint",()=>{const s={content:""};this.props.onChange({hint:s},()=>{var t;(t=this.hintEditor.current)==null||t.focus()})});a(this,"handleRemoveHint",s=>{this.props.onChange({hint:null})});a(this,"getSaveWarnings",()=>{var s;return(s=this.editor.current)==null?void 0:s.getSaveWarnings()});a(this,"serialize",()=>{var s,t;return{title:this.props.title,...(s=this.editor.current)==null?void 0:s.serialize(),hint:(t=this.hintEditor.current)==null?void 0:t.serialize()}})}render(){return e.jsxs("div",{className:"perseus-group-editor",children:[e.jsx("div",{className:"perseus-widget-row",children:e.jsxs("label",{className:M.css(U.title),children:["Title:"," ",e.jsx(ks,{value:this.props.title,className:M.css(U.input),onChange:this.change("title")})]})}),e.jsx(v,{ref:this.editor,content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange,warnNoPrompt:!0,warnNoWidgets:!0}),!this.props.hint&&e.jsxs("button",{type:"button",style:{marginTop:10},className:"add-hint simple-button orange",onClick:this.handleAddHint,children:[e.jsx(ee,{...ts})," Add a hint"]}),this.props.hint&&e.jsxs("div",{className:"perseus-hint-editor",children:[e.jsx("div",{className:M.css(U.hintsTitle),children:"Hint"}),e.jsx(v,{ref:this.hintEditor,content:this.props.hint?this.props.hint.content:"",widgets:this.props.hint?this.props.hint.widgets:{},apiOptions:this.props.apiOptions,images:this.props.hint&&this.props.hint.images,widgetEnabled:!0,immutableWidgets:!1,onChange:s=>{this.change("hint",Object.assign({},this.props.hint,s))}}),e.jsxs("button",{type:"button",className:"remove-hint simple-button orange",onClick:this.handleRemoveHint,children:[e.jsx(ee,{...as})," Remove this hint"]})]})]})}}a(w,"propTypes",{...c,title:r.string,content:r.string,widgets:r.object,images:r.object,apiOptions:J.propTypes}),a(w,"widgetName","graded-group"),a(w,"defaultProps",Ve.defaultWidgetOptions);const U=M.StyleSheet.create({title:{fontSize:18,fontWeight:"bold"},input:{fontSize:18},hintsTitle:{marginTop:10,fontSize:"110%",fontWeight:"bold"}});w.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleAddHint",docblock:null,modifiers:[],params:[],returns:null},{name:"handleRemoveHint",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GradedGroupEditor",props:{title:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},widgets:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},images:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},hint:{defaultValue:{value:"null",computed:!1},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},isMobileApp:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0}},composes:["@khanacademy/perseus"]};class T extends u.Component{constructor(){super(...arguments);a(this,"_editors");a(this,"change",(...s)=>h.apply(this,s));a(this,"getSaveWarnings",()=>[].concat(...this._editors.map(s=>s?s.getSaveWarnings():[])));a(this,"serialize",()=>({gradedGroups:this.props.gradedGroups}));a(this,"renderGroups",()=>this.props.gradedGroups?this.props.gradedGroups.map((s,t)=>e.jsx(w,{ref:n=>this._editors[t]=n,...s,apiOptions:this.props.apiOptions,widgetEnabled:!0,immutableWidgets:!1,onChange:n=>this.change("gradedGroups",Ns(this.props.gradedGroups,t,{...this.props.gradedGroups[t],...n}))},t)):null);a(this,"addGroup",()=>{const s=this.props.gradedGroups||[];this.change("gradedGroups",s.concat([w.defaultProps]))})}UNSAFE_componentWillMount(){this._editors=[]}render(){return e.jsxs("div",{className:"perseus-group-editor",children:[this.renderGroups(),e.jsx("button",{onClick:this.addGroup,children:"Add group"})]})}}a(T,"propTypes",{...c,apiOptions:J.propTypes,gradedGroups:r.array,onChange:r.func.isRequired}),a(T,"widgetName","graded-group-set"),a(T,"defaultProps",Ae.defaultWidgetOptions);const Ns=(o,i,s)=>[...o.slice(0,i),s,...o.slice(i+1)];T.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null},{name:"renderGroups",docblock:null,modifiers:[],params:[],returns:null},{name:"addGroup",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GradedGroupSetEditor",props:{gradedGroups:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},isMobileApp:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0},onChange:{description:"",type:{name:"func"},required:!0}},composes:["@khanacademy/perseus"]};const{InfoTip:Os,MultiButtonGroup:Is}=b,Ss=we.widget,{chooseType:_s,defaultPlotProps:Ps,getEquationString:zs,typeToButton:Vs}=bs;class k extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"handleAvailableTypesChange",s=>{let t=this.props.correct;if(!p.contains(s,this.props.correct.type)){const n=this.props.graph,l=_s(s);t=Ps(l,n)}this.props.onChange({availableTypes:s,correct:t})});a(this,"serialize",()=>p.chain(this.props).pick("correct","availableTypes").extend({graph:p.omit(this.props.graph,"box")}).value())}render(){const s=Te.SMALL;let t,n;if(this.props.graph.valid===!0){const l={graph:this.props.graph,plot:this.props.correct,availableTypes:this.props.availableTypes,onChange:(f,y)=>{var d;let m=this.props.correct;m.type===((d=f.plot)==null?void 0:d.type)?m=p.extend({},m,f.plot):m=f.plot,this.props.onChange({correct:m},y)},trackInteraction:function(){}};n=e.jsx(Ss,{...l,apiOptions:this.props.apiOptions,containerSizeClass:s}),t=zs(l)}else n=e.jsx("div",{className:"perseus-error",children:this.props.graph.valid});return e.jsxs("div",{children:[e.jsxs("div",{children:["Correct answer"," ",e.jsx(Os,{children:e.jsx("p",{children:"Graph the correct answer in the graph below and ensure the equation or point coordinates displayed represent the correct answer."})})," ",": ",t]}),e.jsx(rs,{editableSettings:["graph","snap","image"],box:ke(s),range:this.props.graph.range,labels:this.props.graph.labels,step:this.props.graph.step,gridStep:this.props.graph.gridStep,snapStep:this.props.graph.snapStep,valid:this.props.graph.valid,backgroundImage:this.props.graph.backgroundImage,markings:this.props.graph.markings,rulerLabel:this.props.graph.rulerLabel,rulerTicks:this.props.graph.rulerTicks,showTooltips:this.props.graph.showTooltips,onChange:this.change("graph")}),e.jsxs("div",{className:"perseus-widget-row",children:[e.jsx("label",{children:"Available functions: "}),e.jsx(Is,{allowEmpty:!1,values:this.props.availableTypes,buttons:p.map(ge,Vs),onChange:this.handleAvailableTypesChange})]}),n]})}}a(k,"propTypes",{...c}),a(k,"widgetName","grapher"),a(k,"defaultProps",Ee.defaultWidgetOptions);k.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleAvailableTypesChange",docblock:null,modifiers:[],params:[{name:"newAvailableTypes",optional:!1,type:{name:"Array",elements:[{name:"any"}],raw:"Array<any>",alias:"Array"}}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GrapherEditor",props:{graph:{defaultValue:{value:`{
    labels: ["x", "y"],
    range: [
        [-10, 10],
        [-10, 10],
    ],
    step: [1, 1],
    backgroundImage: {
        url: null,
    },
    markings: "graph",
    rulerLabel: "",
    rulerTicks: 10,
    valid: true,
    showTooltips: false,
}`,computed:!1},required:!1},correct:{defaultValue:{value:`{
    type: "linear",
    coords: null,
}`,computed:!1},required:!1},availableTypes:{defaultValue:{value:'["linear"]',computed:!1},required:!1}},composes:["@khanacademy/perseus"]};class N extends u.Component{constructor(){super(...arguments);a(this,"editor",u.createRef());a(this,"change",(...s)=>h.apply(this,s));a(this,"getSaveWarnings",()=>{var s;return(s=this.editor.current)==null?void 0:s.getSaveWarnings()});a(this,"serialize",()=>{var s;return p.extend({},(s=this.editor.current)==null?void 0:s.serialize())})}render(){return e.jsx("div",{className:"perseus-group-editor",children:e.jsx(v,{ref:this.editor,content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange})})}}a(N,"propTypes",{...c,content:r.string,widgets:r.object,images:r.object,apiOptions:J.propTypes}),a(N,"widgetName","group"),a(N,"defaultProps",Le.defaultWidgetOptions);N.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GroupEditor",props:{content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},widgets:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},images:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},isMobileApp:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0}},composes:["@khanacademy/perseus"]};class F extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"serialize",()=>g.serialize.call(this))}render(){return e.jsxs("fieldset",{children:[e.jsxs("label",{children:["Name:",e.jsx(x,{value:this.props.name,onChange:this.change("name")})]}),e.jsxs("label",{children:["Value:",e.jsx(x,{value:this.props.value,onChange:this.change("value")})]})]})}}a(F,"propTypes",{...c,name:r.string,value:r.string}),a(F,"defaultProps",{name:"",value:""});class ce extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"handlePairChange",(s,t)=>{const n=this.props.pairs.slice();n[s]=t;const l=n[n.length-1];l.name&&l.value&&n.push({name:"",value:""}),this.change("pairs",n)});a(this,"serialize",()=>g.serialize.call(this))}render(){const s=p.map(this.props.pairs,(t,n)=>e.jsx(F,{name:t.name,value:t.value,onChange:this.handlePairChange.bind(this,n)},n));return e.jsx("div",{children:s})}}a(ce,"propTypes",{...c,pairs:r.arrayOf(r.shape({name:r.string,value:r.string})).isRequired});class O extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"handleSettingsChange",s=>{this.change({settings:s.pairs})});a(this,"serialize",()=>g.serialize.call(this))}render(){return e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:"bold",textAlign:"center"},children:["This widget is deprecated! ",e.jsx("br",{}),"Try using the Video or CS Program widgets instead."]}),e.jsxs("label",{children:["Url or Program ID:",e.jsx(x,{value:this.props.url,onChange:this.change("url")})]}),e.jsx("br",{}),e.jsxs("label",{children:["Settings:",e.jsx(ce,{name:"settings",pairs:this.props.settings,onChange:this.handleSettingsChange})]}),e.jsx("br",{}),e.jsxs("label",{children:["Width:",e.jsx(x,{value:this.props.width,onChange:this.change("width")})]}),e.jsxs("label",{children:["Height:",e.jsx(x,{value:this.props.height,onChange:this.change("height")})]}),e.jsx(j,{label:"Allow full screen",checked:this.props.allowFullScreen,onChange:s=>{this.props.onChange({allowFullScreen:s})}}),e.jsx("br",{}),e.jsx(j,{label:"Allow iframe content to redirect the page",checked:this.props.allowTopNavigation,onChange:s=>{this.props.onChange({allowTopNavigation:s})}})]})}}a(O,"propTypes",{...c}),a(O,"widgetName","iframe"),a(O,"defaultProps",We.defaultWidgetOptions);O.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleSettingsChange",docblock:null,modifiers:[],params:[{name:"settings",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"IframeEditor",props:{url:{defaultValue:{value:'""',computed:!1},required:!1},settings:{defaultValue:{value:'[{name: "", value: ""}]',computed:!1},required:!1},width:{defaultValue:{value:'"400"',computed:!1},required:!1},height:{defaultValue:{value:'"400"',computed:!1},required:!1},allowFullScreen:{defaultValue:{value:"false",computed:!1},required:!1},allowTopNavigation:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["@khanacademy/perseus"]};const{RangeInput:As}=b,Es=je.widget,se=6;class I extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"onMatrixBoardSizeChange",s=>{const t=De(this.props.answers);if(s[0]!==null&&s[1]!==null){s=[Math.round(Math.min(Math.max(s[0],1),se)),Math.round(Math.min(Math.max(s[1],1),se))];const n=p(Math.min(s[0],t[0])).times(l=>p(Math.min(s[1],t[1])).times(f=>this.props.answers[l][f]));this.props.onChange({matrixBoardSize:s,answers:n})}});a(this,"serialize",()=>g.serialize.call(this))}render(){const s=p.extend({numericInput:!0,onBlur:()=>{},onFocus:()=>{},trackInteraction:()=>{}},this.props);return e.jsxs("div",{className:"perseus-matrix-editor",children:[e.jsxs("div",{className:"perseus-widget-row",children:[" ","Max matrix size:"," ",e.jsx(As,{value:this.props.matrixBoardSize,onChange:this.onMatrixBoardSizeChange,format:this.props.labelStyle,useArrowKeys:!0})]}),e.jsx("div",{className:"perseus-widget-row",children:e.jsx(Es,{...s})}),e.jsxs("div",{className:"perseus-widget-row",children:[" ","Matrix prefix:"," ",e.jsx(v,{ref:"prefix",apiOptions:this.props.apiOptions,content:this.props.prefix,widgetEnabled:!1,onChange:t=>{this.change({prefix:t.content})}})]}),e.jsxs("div",{className:"perseus-widget-row",children:[" ","Matrix suffix:"," ",e.jsx(v,{ref:"suffix",apiOptions:this.props.apiOptions,content:this.props.suffix,widgetEnabled:!1,onChange:t=>{this.change({suffix:t.content})}})]})]})}}a(I,"propTypes",{...c,matrixBoardSize:r.arrayOf(r.number).isRequired,answers:r.arrayOf(r.arrayOf(r.number)),prefix:r.string,suffix:r.string,cursorPosition:r.arrayOf(r.number)}),a(I,"widgetName","matrix"),a(I,"defaultProps",Re.defaultWidgetOptions);I.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"onMatrixBoardSizeChange",docblock:null,modifiers:[],params:[{name:"range",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MatrixEditor",props:{matrixBoardSize:{defaultValue:{value:"[3, 3]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},answers:{defaultValue:{value:"[[]]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"arrayOf",value:{name:"number"}}},required:!1},prefix:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},suffix:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},cursorPosition:{defaultValue:{value:"[0, 0]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:Ls,NumberInput:W,RangeInput:Ws}=b,Rs={url:null,top:0,left:0};class S extends u.Component{constructor(){super(...arguments);a(this,"className","perseus-widget-measurer");a(this,"change",(...s)=>h.apply(this,s));a(this,"_changeUrl",s=>{this._changeImage("url",s.target.value)});a(this,"_changeTop",s=>{this._changeImage("top",s)});a(this,"_changeLeft",s=>{this._changeImage("left",s)});a(this,"_changeImage",(s,t)=>{const n=p.clone(this.props.image);n[s]=t,this.change("image",n)});a(this,"renderLabelChoices",s=>p.map(s,function(t){const[n,l]=t;return e.jsx("option",{value:l,children:n},l)}));a(this,"serialize",()=>g.serialize.call(this))}render(){const s=p.extend({},Rs,this.props.image);return e.jsxs("div",{className:"perseus-widget-measurer",children:[e.jsx("div",{children:"Image displayed under protractor and/or ruler:"}),e.jsxs("div",{children:["URL:"," ",e.jsx("input",{type:"text",className:"perseus-widget-measurer-url",ref:"image-url",defaultValue:s.url,onChange:this._changeUrl}),e.jsx(Ls,{children:e.jsx("p",{children:'Create an image in graphie, or use the "Add image" function to create a background.'})})]}),s.url&&e.jsxs("div",{className:"perseus-widget-row",children:[e.jsxs("label",{className:"perseus-widget-left-col",children:["Pixels from top:"," ",e.jsx(W,{placeholder:0,onChange:this._changeTop,value:s.top,useArrowKeys:!0})]}),e.jsxs("label",{className:"perseus-widget-right-col",children:["Pixels from left:"," ",e.jsx(W,{placeholder:0,onChange:this._changeLeft,value:s.left,useArrowKeys:!0})]})]}),e.jsxs("div",{children:["Containing area [width, height]:"," ",e.jsx(Ws,{onChange:this.change("box"),value:this.props.box,useArrowKeys:!0})]}),e.jsxs("div",{className:"perseus-widget-row",children:[e.jsx("div",{className:"perseus-widget-left-col",children:e.jsx(j,{label:"Show ruler",checked:this.props.showRuler,onChange:t=>{this.props.onChange({showRuler:t})}})}),e.jsx("div",{className:"perseus-widget-right-col",children:e.jsx(j,{label:"Show protractor",checked:this.props.showProtractor,onChange:t=>{this.props.onChange({showProtractor:t})}})})]}),this.props.showRuler&&e.jsxs("div",{children:[e.jsx("div",{children:e.jsxs("label",{children:[" ","Ruler label:"," ",e.jsxs("select",{onChange:t=>this.change("rulerLabel",t.target.value),value:this.props.rulerLabel,children:[e.jsx("option",{value:"",children:"None"}),e.jsx("optgroup",{label:"Metric",children:this.renderLabelChoices([["milimeters","mm"],["centimeters","cm"],["meters","m"],["kilometers","km"]])}),e.jsx("optgroup",{label:"Imperial",children:this.renderLabelChoices([["inches","in"],["feet","ft"],["yards","yd"],["miles","mi"]])})]})]})}),e.jsx("div",{children:e.jsxs("label",{children:[" ","Ruler ticks:"," ",e.jsx("select",{onChange:t=>this.change("rulerTicks",+t.target.value),value:this.props.rulerTicks,children:p.map([1,2,4,8,10,16],function(t){return e.jsx("option",{value:t,children:t},t)})})]})}),e.jsx("div",{children:e.jsxs("label",{children:["Ruler pixels per unit:"," ",e.jsx(W,{placeholder:40,onChange:this.change("rulerPixels"),value:this.props.rulerPixels,useArrowKeys:!0})]})}),e.jsx("div",{children:e.jsxs("label",{children:["Ruler length in units:"," ",e.jsx(W,{placeholder:10,onChange:this.change("rulerLength"),value:this.props.rulerLength,useArrowKeys:!0})]})})]})]})}}a(S,"widgetName","measurer"),a(S,"propTypes",{...c,box:r.arrayOf(r.number),image:r.shape({url:r.string,top:r.number,left:r.number}),showProtractor:r.bool,showRuler:r.bool,rulerLabel:r.string,rulerTicks:r.number,rulerPixels:r.number,rulerLength:r.number}),a(S,"defaultProps",Me.defaultWidgetOptions);S.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"_changeUrl",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"_changeTop",docblock:null,modifiers:[],params:[{name:"newTop",optional:!1,type:null}],returns:null},{name:"_changeLeft",docblock:null,modifiers:[],params:[{name:"newLeft",optional:!1,type:null}],returns:null},{name:"_changeImage",docblock:null,modifiers:[],params:[{name:"subProp",optional:!1,type:null},{name:"newValue",optional:!1,type:null}],returns:null},{name:"renderLabelChoices",docblock:null,modifiers:[],params:[{name:"choices",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MeasurerEditor",props:{box:{defaultValue:{value:"[480, 480]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},image:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{url:{name:"string",required:!1},top:{name:"number",required:!1},left:{name:"number",required:!1}}},required:!1},showProtractor:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},showRuler:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},rulerLabel:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},rulerTicks:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},rulerPixels:{defaultValue:{value:"40",computed:!1},description:"",type:{name:"number"},required:!1},rulerLength:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1}},composes:["@khanacademy/perseus"]};const{NumberInput:Ds,TextInput:Ms}=b;class $ extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"updateMolecule",s=>{this.change({smiles:s})});a(this,"updateRotation",s=>{this.change({rotationAngle:s})});a(this,"serialize",()=>g.serialize.call(this))}render(){return e.jsxs("div",{children:[e.jsx("div",{children:e.jsxs("label",{children:["SMILES: ",e.jsx(Ms,{onChange:this.updateMolecule,value:this.props.smiles})]})}),e.jsx("div",{children:e.jsxs("label",{children:["Rotation (deg): ",e.jsx(Ds,{onChange:this.updateRotation,value:this.props.rotationAngle})]})})]})}}a($,"propTypes",{...c,rotationAngle:r.number,smiles:r.string}),a($,"widgetName","molecule-renderer");$.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"updateMolecule",docblock:null,modifiers:[],params:[{name:"newValue",optional:!1,type:null}],returns:null},{name:"updateRotation",docblock:null,modifiers:[],params:[{name:"newValue",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MoleculeWidgetEditor",props:{rotationAngle:{description:"",type:{name:"number"},required:!1},smiles:{description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:R,TextListEditor:ae}=b,te="normal",re="auto",ne="horizontal",ie="vertical",oe=(o,i,s,t)=>{const n={};s&&t!==void 0&&(n[s]=t.map(d=>({content:d})));const l=s==="correctOptions"?n.correctOptions:o,f=s==="otherOptions"?n.otherOptions:i,y=[...l,...f],m=[...new Set(y.map(d=>d.content))].filter(d=>d!=="").sort().sort((d,L)=>{const C=Q=>/\d/.test(Q)?0:/^\$?[a-zA-Z]+\$?$/.test(Q)?2:1;return C(d)-C(L)}).map(d=>({content:d}));return{...n,options:m}};class _ extends u.Component{constructor(){super(...arguments);a(this,"onOptionsChange",(s,t,n)=>{const l=oe(this.props.correctOptions||[],this.props.otherOptions||[],s,t);this.props.onChange(l,n)});a(this,"onLayoutChange",s=>{this.props.onChange({layout:s.target.value})});a(this,"onHeightChange",s=>{this.props.onChange({height:s.target.value})});a(this,"serialize",()=>{const{options:s}=oe(this.props.correctOptions||[],this.props.otherOptions||[]);return{options:s,correctOptions:this.props.correctOptions,otherOptions:this.props.otherOptions,height:this.props.height,layout:this.props.layout}})}render(){return e.jsxs("div",{className:"perseus-widget-orderer",children:[e.jsxs("div",{children:[" ","Correct answer:"," ",e.jsx(R,{children:e.jsx("p",{children:"Place the cards in the correct order. The same card can be used more than once in the answer but will only be displayed once at the top of a stack of identical cards."})})]}),e.jsx(ae,{options:p.pluck(this.props.correctOptions,"content"),onChange:this.onOptionsChange.bind(this,"correctOptions"),layout:this.props.layout}),e.jsxs("div",{children:[" ","Other cards:"," ",e.jsx(R,{children:e.jsx("p",{children:"Create cards that are not part of the answer."})})]}),e.jsx(ae,{options:p.pluck(this.props.otherOptions,"content"),onChange:this.onOptionsChange.bind(this,"otherOptions"),layout:this.props.layout}),e.jsxs("div",{children:[e.jsxs("label",{children:[" ","Layout:"," ",e.jsxs("select",{value:this.props.layout,onChange:this.onLayoutChange,children:[e.jsx("option",{value:ne,children:"Horizontal"}),e.jsx("option",{value:ie,children:"Vertical"})]})]}),e.jsx(R,{children:e.jsx("p",{children:"Use the horizontal layout for short text and small images. The vertical layout is best for longer text (e.g. proofs)."})})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[" ","Height:"," ",e.jsxs("select",{value:this.props.height,onChange:this.onHeightChange,children:[e.jsx("option",{value:te,children:"Normal"}),e.jsx("option",{value:re,children:"Automatic"})]})]}),e.jsx(R,{children:e.jsx("p",{children:'Use "Normal" for text, "Automatic" for images.'})})]})]})}}a(_,"propTypes",{correctOptions:r.array,otherOptions:r.array,height:r.oneOf([te,re]),layout:r.oneOf([ne,ie]),onChange:r.func.isRequired}),a(_,"widgetName","orderer"),a(_,"defaultProps",$e.defaultWidgetOptions);_.__docgenInfo={description:"",methods:[{name:"onOptionsChange",docblock:null,modifiers:[],params:[{name:"whichOptions",optional:!1,type:null},{name:"options",optional:!1,type:null},{name:"cb",optional:!1,type:null}],returns:null},{name:"onLayoutChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"onHeightChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"OrdererEditor",props:{correctOptions:{defaultValue:{value:'[{content: "$x$"}]',computed:!1},description:"",type:{name:"array"},required:!1},otherOptions:{defaultValue:{value:'[{content: "$y$"}]',computed:!1},description:"",type:{name:"array"},required:!1},height:{defaultValue:{value:'"normal"',computed:!1},description:"",type:{name:"enum",value:[{value:'"normal"',computed:!1},{value:'"auto"',computed:!1}]},required:!1},layout:{defaultValue:{value:'"horizontal"',computed:!1},description:"",type:{name:"enum",value:[{value:'"horizontal"',computed:!1},{value:'"vertical"',computed:!1}]},required:!1},onChange:{description:"",type:{name:"func"},required:!0}}};const{InfoTip:le}=b;class P extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"serialize",()=>g.serialize.call(this))}render(){const s=e.jsx(v,{ref:"passage-editor",apiOptions:this.props.apiOptions,content:this.props.passageText,widgetEnabled:!1,placeholder:"Type passage here...",onChange:n=>{this.change({passageText:n.content})},showWordCount:!0}),t=e.jsx(v,{ref:"passage-footnotes-editor",apiOptions:this.props.apiOptions,content:this.props.footnotes,widgetEnabled:!1,placeholder:"Type footnotes here...",onChange:n=>{this.change({footnotes:n.content})}});return e.jsxs("div",{className:"perseus-widget-passage-editor",children:[e.jsx("div",{className:"perseus-widget-row",children:e.jsx(j,{label:"Show line numbers",checked:this.props.showLineNumbers,onChange:n=>{this.props.onChange({showLineNumbers:n})}})}),e.jsxs("div",{children:["Passage title:",e.jsx(le,{children:e.jsx("p",{children:"An optional title that will appear directly above the passage in the same font style. (E.g. Passage 1)"})}),e.jsx("div",{children:e.jsx("input",{type:"text",defaultValue:this.props.passageTitle,onChange:n=>{this.change({passageTitle:n.target.value})}})})]}),e.jsxs("div",{children:["Passage Text:",s]}),e.jsxs("div",{children:["Footnotes:",e.jsx(le,{children:e.jsx("p",{children:"To add footnotes, add ^ characters where they belong in the passage. Then, add ^ in the footnotes area to reference the footnotes in the passage."})}),t]})]})}}a(P,"propTypes",{...c,passageTitle:r.string,passageText:r.string,footnotes:r.string,showLineNumbers:r.bool}),a(P,"widgetName","passage"),a(P,"defaultProps",Ue.defaultWidgetOptions);P.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageEditor",props:{passageTitle:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},passageText:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},footnotes:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},showLineNumbers:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:$s,NumberInput:pe,TextInput:Us}=b;class z extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"serialize",()=>g.serialize.call(this))}render(){return e.jsxs("div",{children:[e.jsx("div",{children:e.jsxs("label",{children:["Passage Number: ",e.jsx(pe,{value:this.props.passageNumber,onChange:this.change("passageNumber")})]})}),e.jsx("div",{children:e.jsxs("label",{children:["Reference Number: ",e.jsx(pe,{value:this.props.referenceNumber,onChange:this.change("referenceNumber")})]})}),e.jsx("div",{children:e.jsxs("label",{children:["Summary Text: ",e.jsx(Us,{value:this.props.summaryText,onChange:this.change("summaryText")}),e.jsxs($s,{children:[e.jsx("p",{children:"Short summary of the referenced section. This will be included in parentheses and quotes automatically."}),e.jsx("p",{children:"Ex: The start ... the end"})]})]})})]})}}a(z,"propTypes",{...c,passageNumber:r.number,referenceNumber:r.number,summaryText:r.string}),a(z,"widgetName","passage-ref"),a(z,"defaultProps",Be.defaultWidgetOptions);z.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageRefEditor",props:{passageNumber:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},referenceNumber:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},summaryText:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};class V extends u.Component{constructor(){super(...arguments);a(this,"change",(...s)=>h.apply(this,s));a(this,"handleContentChange",s=>{this.change({content:s.target.value})});a(this,"serialize",()=>g.serialize.call(this))}render(){return e.jsxs("div",{children:["Content:",e.jsx("input",{type:"text",value:this.props.content,onChange:this.handleContentChange})]})}}a(V,"propTypes",{...c,content:r.string}),a(V,"widgetName","passage-ref-target"),a(V,"defaultProps",Ge.defaultWidgetOptions);V.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleContentChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageRefTargetEditor",props:{content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:Bs,NumberInput:ue}=b,Gs=Ce.widget;class A extends u.Component{constructor(){super(...arguments);a(this,"numberOfColumns",u.createRef());a(this,"focus",()=>{var s;(s=this.numberOfColumns.current)==null||s.focus()});a(this,"onSizeInput",(s,t)=>{let n=+s||0,l=+t||0;n=Math.min(Math.max(1,n),30),l=Math.min(Math.max(1,l),6);const f=this.props.columns,y=this.props.rows,m=this.props.answers;n<=y?m.length=n:p(n-y).times(function(){m.push(Ke.stringArrayOfSize(f))});function d(C){l<=f?C.length=l:p(l-f).times(function(){C.push("")})}const L=this.props.headers;d(L),p.each(m,d),this.props.onChange({rows:n,columns:l,answers:m,headers:L})});a(this,"serialize",()=>{const s=p.pick(this.props,"headers","rows","columns");return p.extend({},s,{answers:p.map(this.props.answers,p.clone)})})}render(){return e.jsxs("div",{children:[e.jsx("div",{className:"perseus-widget-row",children:e.jsxs("label",{children:["Number of columns:"," ",e.jsx(ue,{ref:this.numberOfColumns,value:this.props.columns,onChange:s=>{s&&this.onSizeInput(this.props.rows,s)},useArrowKeys:!0})]})}),e.jsx("div",{className:"perseus-widget-row",children:e.jsxs("label",{children:["Number of rows:"," ",e.jsx(ue,{ref:"numberOfRows",value:this.props.rows,onChange:s=>{s&&this.onSizeInput(s,this.props.columns)},useArrowKeys:!0})]})}),e.jsxs("div",{children:[" ","Table of answers:"," ",e.jsx(Bs,{children:e.jsx("p",{children:"The student has to fill out all cells in the table. For partially filled tables create a table using the template, and insert text input boxes as desired."})})]}),e.jsx("div",{children:e.jsx(Gs,{headers:this.props.headers,answers:this.props.answers,onChange:this.props.onChange,apiOptions:this.props.apiOptions,editableHeaders:!0,onFocus:()=>{},onBlur:()=>{},trackInteraction:()=>{},Editor:v})})]})}}a(A,"propTypes",{rows:r.number,columns:r.number,headers:r.arrayOf(r.string),answers:r.arrayOf(r.arrayOf(r.string))}),a(A,"widgetName","table"),a(A,"defaultProps",fe.defaultWidgetOptions);A.__docgenInfo={description:"",methods:[{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"onSizeInput",docblock:null,modifiers:[],params:[{name:"numRawRows",optional:!1,type:null},{name:"numRawColumns",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"TableEditor",props:{headers:{defaultValue:{value:'[""]',computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},rows:{defaultValue:{value:"4",computed:!1},description:"",type:{name:"number"},required:!1},columns:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},answers:{defaultValue:{value:`new Array(defaultRows)
.fill(0)
.map(() => new Array(defaultColumns).fill(""))`,computed:!0},description:"",type:{name:"arrayOf",value:{name:"arrayOf",value:{name:"string"}}},required:!1}}};const{InfoTip:Ks}=b,Hs=/khanacademy\.org\/.*\/v\/(.*)$/;function Fs(o){const i=Hs.exec(o);return i?i[1]:o}class E extends u.Component{constructor(){super(...arguments);a(this,"_handleUrlChange",s=>{this.props.onChange({location:Fs(s)})});a(this,"change",(...s)=>h.apply(this,s));a(this,"serialize",()=>g.serialize.call(this))}render(){return e.jsx("div",{children:e.jsxs("label",{children:["KA Video Slug:"," ",e.jsx(x,{value:this.props.location,style:{width:290},onChange:this._handleUrlChange}),e.jsx(Ks,{children:"KA video URLs will be converted to just the slug."})]})})}}a(E,"propTypes",{...c,location:r.string,onChange:r.func}),a(E,"widgetName","video"),a(E,"defaultProps",He.defaultWidgetOptions);E.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"_handleUrlChange",docblock:null,modifiers:[],params:[{name:"url",optional:!1,type:null}],returns:null},{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"VideoEditor",props:{location:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},onChange:{description:"",type:{name:"func"},required:!1}},composes:["@khanacademy/perseus"]};const Js=[Je,q,Qe,Xe,Ye,es,ss,w,T,k,N,O,ns,is,os,ls,ps,us,I,S,$,ds,cs,_,P,z,V,hs,ms,gs,ys,A,E,fs,Z],ft=()=>{Fe(),Ne(qe),Oe(Js),Ie(),Se()};export{Js as A,xs as I,G as J,ft as r};
