import{j as fe}from"./jsx-runtime-BGVbfQ2Z.js";import{r as o}from"./index-qhcEwEpg.js";import{l as k}from"./index-awljIyHI.js";import{a as M,b as D,s as dt,L as Nt}from"./index-B3k62xyQ.js";import{C as Wt,a as Vt,c as Ht,g as qt}from"./index-TeOhC3cV.js";import{V as R,a as z,U as jt,I as ct}from"./index-oMd7J_hd.js";import{S as T}from"./index-KIBY7gd7.js";import{s as f,c as d,m as q,a as Kt,b as ee}from"./index-lUErx3pE.js";import{P as re}from"./index-O-KD2pfb.js";import{c as We,m as Ut}from"./minus-bold-ONmDo3Ve.js";import{r as J}from"./index-E09jvG0x.js";import{I as Gt,x as Xt,m as Zt}from"./index-1lR5LStt.js";import{w as ut}from"./index-JT1-kTlx.js";import{P as Yt,d as Jt}from"./Popper-uHddJoXq.js";import{u as Qt}from"./i18n-context-9-s9cJ--.js";import{R as en}from"./renderer-YMwVTw_k.js";function ht(l,t){if(l==null)return{};var e={},n=Object.keys(l),r,s;for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&(e[r]=l[r]);return e}function ce(){return ce=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},ce.apply(this,arguments)}const B={cellMinHeight:f.xxLarge_48,cellPadding:{paddingVertical:f.small_12,paddingHorizontal:f.medium_16},detailCellPadding:{paddingVertical:f.medium_16,paddingHorizontal:f.medium_16},accessoryHorizontalSpacing:f.medium_16},tn=l=>{switch(l){case"inset":return[Te.horizontalRule,Te.horizontalRuleInset];case"full-width":return Te.horizontalRule;case"none":return{}}},Te=k.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:f.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${d.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${B.cellPadding.paddingHorizontal}px)`}}}),nn=({leftAccessory:l,leftAccessoryStyle:t,disabled:e})=>l?o.createElement(o.Fragment,null,o.createElement(R,{style:[$.accessory,e&&$.accessoryDisabled,ce({},t)]},l),o.createElement(T,{size:B.accessoryHorizontalSpacing})):null,rn=({rightAccessory:l,rightAccessoryStyle:t,active:e,disabled:n})=>l?o.createElement(o.Fragment,null,o.createElement(T,{size:B.accessoryHorizontalSpacing}),o.createElement(R,{style:[$.accessory,$.accessoryRight,n&&$.accessoryDisabled,ce({},t),e&&$.accessoryActive]},l)):null;function Ge(l){const{active:t,children:e,disabled:n,horizontalRule:r="inset",contentStyle:s=void 0,leftAccessory:i=void 0,leftAccessoryStyle:c=void 0,rightAccessory:u=void 0,rightAccessoryStyle:h=void 0,style:p,testId:x,innerStyle:y}=l,S=tn(r);return o.createElement(R,{style:[$.innerWrapper,y,p,S]},o.createElement(nn,{leftAccessory:i,leftAccessoryStyle:c,disabled:n}),o.createElement(R,{style:[$.content,s],testId:x},e),o.createElement(rn,{rightAccessory:u,rightAccessoryStyle:h,active:t,disabled:n}))}const pt=l=>{const{active:t,disabled:e,href:n,onClick:r,"aria-label":s,"aria-selected":i,target:c,role:u,rootStyle:h}=l;return r||n?o.createElement(Wt,{disabled:e,onClick:r,href:n,hideDefaultFocusRing:!0,"aria-label":s||void 0,"aria-selected":i||void 0,role:u,target:c,style:[$.wrapper,$.clickable,h,t&&$.active,e&&$.disabled],"aria-current":t?"true":void 0},()=>o.createElement(Ge,l)):o.createElement(R,{style:[$.wrapper,h,t&&$.active],"aria-current":t?"true":void 0,role:u},o.createElement(Ge,l))},$=k.StyleSheet.create({wrapper:{background:d.white,color:d.offBlack,display:"flex",minHeight:B.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:B.cellMinHeight,padding:`${B.cellPadding.paddingVertical}px ${B.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${B.cellPadding.paddingVertical-2}px ${B.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:d.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:f.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${f.xxxSmall_4}px)`,height:`calc(100% - ${f.xxxSmall_4}px)`,border:`${f.xxxxSmall_2}px solid ${d.blue}`,borderRadius:f.xxxSmall_4},":hover[aria-disabled=false]":{background:d.offBlack8},":active[aria-disabled=false]":{background:d.offBlack16}},active:{background:d.fadedBlue8,color:d.blue,":hover[aria-disabled=false]":{background:d.fadedBlue16},":active[aria-disabled=false]":{background:d.fadedBlue24}},disabled:{color:d.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:d.blue},accessoryDisabled:{color:d.offBlack,opacity:.32}}),on=["title"],sn=function(t){const{title:e}=t,n=ht(t,on);return o.createElement(pt,n,typeof e=="string"?o.createElement(M,null,e):e)},ln=["title","subtitle1","subtitle2"],Xe=({subtitle:l,disabled:t})=>l?typeof l=="string"?o.createElement(D,{style:!t&&ft.subtitle},l):l:null,an=function(t){const{title:e,subtitle1:n,subtitle2:r}=t,s=ht(t,ln);return o.createElement(pt,ce({},s,{innerStyle:ft.innerWrapper}),o.createElement(Xe,{subtitle:n,disabled:s.disabled}),n&&o.createElement(T,{size:f.xxxxSmall_2}),typeof e=="string"?o.createElement(M,null,e):e,r&&o.createElement(T,{size:f.xxxxSmall_2}),o.createElement(Xe,{subtitle:r,disabled:s.disabled}))},ft=k.StyleSheet.create({subtitle:{color:d.offBlack64},innerWrapper:{padding:`${B.detailCellPadding.paddingVertical}px ${B.detailCellPadding.paddingHorizontal}px`}}),dn=""+new URL("magnifying-glass-IX5mxYeF.svg",import.meta.url).href;function P(){return P=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},P.apply(this,arguments)}function oe(l,t){if(l==null)return{};var e={},n=Object.keys(l),r,s;for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&(e[r]=l[r]);return e}const cn=["checked","disabled","error","groupName","id","testId"];function un(l){switch(l){case!0:return"true";case!1:return"false";default:return"mixed"}}const{blue:mt,red:gt,white:V,offWhite:hn,offBlack16:pn,offBlack32:fn,offBlack50:mn}=d,ie=f.medium_16,De=f.small_12,gn=z("input"),bn=o.forwardRef(function(t,e){const{checked:n,disabled:r,error:s,groupName:i,id:c,testId:u}=t,h=oe(t,cn),p=o.useRef(null);o.useEffect(()=>{p.current!=null&&(p.current.indeterminate=n==null)},[n,p]);const x=()=>{},y=Sn(n,s),S=[me.inputReset,me.default,!r&&y.default,r&&me.disabled],b=o.createElement(re,{color:r?fn:V,icon:n?We:Ut,size:"small",style:[me.checkboxIcon,{width:De,height:De}]}),a=un(n);return o.createElement(o.Fragment,null,o.createElement(gn,P({},h,{ref:m=>{p.current=m,typeof e=="function"?e(m):e!=null&&(e.current=m)},type:"checkbox","aria-checked":a,"aria-invalid":s,checked:n??void 0,disabled:r,id:c,name:i,onChange:x,style:S,"data-testid":u})),n||n==null?b:o.createElement(o.Fragment,null))}),me=k.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:ie,width:ie,minHeight:ie,minWidth:ie,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:1,borderRadius:3},disabled:{cursor:"auto",backgroundColor:hn,borderColor:pn,borderWidth:1},checkboxIcon:{position:"absolute",pointerEvents:"none",margin:(ie-De)/2}}),xn=q(d.fadedBlue16,V),yn=d.activeBlue,Ee=q(d.fadedRed8,V),bt=d.activeRed,Ze={default:{faded:xn,base:mt,active:yn},error:{faded:Ee,base:gt,active:bt}},ge={},Sn=(l,t)=>{const e=`${String(l)}-${String(t)}`;if(ge[e])return ge[e];const n=t?Ze.error:Ze.default;let r={};return l||l==null?r={default:{backgroundColor:n.base,borderWidth:0,":focus-visible":{boxShadow:`0 0 0 1px ${V}, 0 0 0 3px ${n.base}`},":hover":{boxShadow:`0 0 0 1px ${V}, 0 0 0 3px ${n.base}`},":active":{boxShadow:`0 0 0 1px ${V}, 0 0 0 3px ${n.active}`,background:n.active}}}:r={default:{backgroundColor:t?Ee:V,borderColor:t?gt:mn,":focus-visible":{backgroundColor:t?Ee:V,borderColor:n.base,borderWidth:2},":hover":{backgroundColor:t?Ee:V,borderColor:n.base,borderWidth:2},":active":{backgroundColor:n.faded,borderColor:t?bt:mt,borderWidth:2}}},ge[e]=k.StyleSheet.create(r),ge[e]},vn=["checked","disabled","error","groupName","id","testId"],{blue:xt,red:yt,white:W,offWhite:Cn,offBlack16:In,offBlack32:wn,offBlack50:kn}=d,En=z("input"),_n=o.forwardRef(function(t,e){const n=()=>{},{checked:r,disabled:s,error:i,groupName:c,id:u,testId:h}=t,p=oe(t,vn),x=$n(r,i),y=[Fe.inputReset,Fe.default,!s&&x.default,s&&Fe.disabled];return o.createElement(o.Fragment,null,o.createElement(En,P({},p,{type:"radio","aria-invalid":i,checked:r??void 0,disabled:s,id:u,name:c,onChange:n,style:y,"data-testid":h,ref:e})),s&&r&&o.createElement("span",{style:Rn}))}),H=16,Rn={position:"absolute",top:H/4,left:H/4,height:H/2,width:H/2,borderRadius:"50%",backgroundColor:wn},Fe=k.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:H,width:H,minHeight:H,minWidth:H,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:1,borderRadius:"50%"},disabled:{cursor:"auto",backgroundColor:Cn,borderColor:In,borderWidth:1}}),On=q(d.fadedBlue16,W),_e=q(d.fadedRed8,W),Ye={default:{faded:On,base:xt,active:d.activeBlue},error:{faded:_e,base:yt,active:d.activeRed}},be={},$n=(l,t)=>{const e=`${String(l)}-${String(t)}`;if(be[e])return be[e];const n=t?Ye.error:Ye.default;let r={};return l?r={default:{backgroundColor:W,borderColor:n.base,borderWidth:H/4,":focus-visible":{boxShadow:`0 0 0 1px ${W}, 0 0 0 3px ${n.base}`},":hover":{boxShadow:`0 0 0 1px ${W}, 0 0 0 3px ${n.base}`},":active":{boxShadow:`0 0 0 1px ${W}, 0 0 0 3px ${n.active}`,borderColor:n.active}}}:r={default:{backgroundColor:t?_e:W,borderColor:t?yt:kn,":focus-visible":{backgroundColor:t?_e:W,borderColor:n.base,borderWidth:2},":hover":{backgroundColor:t?_e:W,borderColor:n.base,borderWidth:2},":active":{backgroundColor:n.faded,borderColor:t?d.activeRed:xt,borderWidth:2}}},be[e]=k.StyleSheet.create(r),be[e]},Tn=["checked","description","disabled","error","id","label","onChange","style","className","variant"],St=o.forwardRef(function(t,e){const{checked:n,description:r,disabled:s=!1,error:i=!1,id:c,label:u,onChange:h,style:p,className:x,variant:y}=t,S=oe(t,Tn),b=()=>{y==="radio"&&n||h(!n)},a=()=>y==="radio"?_n:bn,m=C=>o.createElement(M,{style:[xe.label,s&&xe.disabledLabel]},o.createElement("label",{htmlFor:C},u)),g=C=>o.createElement(D,{style:xe.description,id:C},r),v=a();return o.createElement(jt,{mockOnFirstRender:!0,scope:"choice"},C=>{const w=c||C.get("main"),I=r?C.get("description"):void 0;return o.createElement(R,{style:p,className:x},o.createElement(R,{style:xe.wrapper,tabIndex:-1},o.createElement(v,P({},S,{id:w,checked:n,"aria-describedby":I,onClick:b,disabled:s,error:i,ref:e})),o.createElement(T,{size:f.xSmall_8}),u&&m(w)),r&&g(I))})}),xe=k.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"flex-start",outline:"none"},label:{marginTop:-2},disabledLabel:{color:d.offBlack32},description:{marginLeft:f.medium_16+f.xSmall_8,marginTop:f.xxxSmall_4,color:d.offBlack64}}),Fn=o.forwardRef(function(t,e){const{disabled:n=!1,error:r=!1}=t;return o.createElement(St,P({},t,{variant:"checkbox",disabled:n,error:r,ref:e}))}),zn=["disabled","error"],Bn=o.forwardRef(function(t,e){const{disabled:n=!1,error:r=!1}=t,s=oe(t,zn);return o.createElement(St,P({},s,{variant:"radio",disabled:n,error:r,ref:e}))}),Pn=["checked","disabled","onChange","value","variant"];o.forwardRef(function(t,e){const{checked:n=!1,disabled:r=!1,onChange:s=()=>{},variant:i}=t,c=oe(t,Pn),h=(p=>p==="checkbox"?Fn:Bn)(i);return o.createElement(h,P({},c,{checked:n,disabled:r,onChange:s,ref:e}))});const L=k.StyleSheet.create({fieldset:{border:"none",padding:0,margin:0},legend:{padding:0},description:{marginTop:f.xxxSmall_4,color:d.offBlack64},error:{marginTop:f.xxxSmall_4,color:d.red},defaultLineGap:{marginTop:f.xSmall_8}}),Ln=z("fieldset"),Dn=z("legend");o.forwardRef(function(t,e){const{children:n,label:r,description:s,errorMessage:i,groupName:c,onChange:u,selectedValues:h,style:p,testId:x}=t,y=(b,a)=>{if(a){const m=h.indexOf(b),g=[...h.slice(0,m),...h.slice(m+1)];u(g)}else u([...h,b])},S=o.Children.toArray(n).filter(Boolean);return o.createElement(Ln,{"data-testid":x,style:L.fieldset,ref:e},o.createElement(R,{style:p},r&&o.createElement(Dn,{style:L.legend},o.createElement(M,null,r)),s&&o.createElement(D,{style:L.description},s),i&&o.createElement(D,{style:L.error},i),(r||s||i)&&o.createElement(T,{size:f.small_12}),S.map((b,a)=>{const{style:m,value:g}=b.props,v=h.includes(g);return o.cloneElement(b,{checked:v,error:!!i,groupName:c,id:`${c}-${g}`,key:g,onChange:()=>y(g,v),style:[a>0&&L.defaultLineGap,m],variant:"checkbox"})})))});const Mn=z("fieldset"),An=z("legend");o.forwardRef(function(t,e){const{children:n,label:r,description:s,errorMessage:i,groupName:c,onChange:u,selectedValue:h,style:p,testId:x}=t,y=o.Children.toArray(n).filter(Boolean);return o.createElement(Mn,{"data-testid":x,style:L.fieldset,ref:e},o.createElement(R,{style:p},r&&o.createElement(An,{style:L.legend},o.createElement(M,null,r)),s&&o.createElement(D,{style:L.description},s),i&&o.createElement(D,{style:L.error},i),(r||s||i)&&o.createElement(T,{size:f.small_12}),y.map((S,b)=>{const{style:a,value:m}=S.props,g=h===m;return o.cloneElement(S,{checked:g,error:!!i,groupName:c,id:`${c}-${m}`,key:m,onChange:()=>u(m),style:[b>0&&L.defaultLineGap,a],variant:"radio"})})))});const Nn=["id","type","value","name","disabled","onKeyDown","placeholder","light","style","testId","readOnly","autoFocus","autoComplete","forwardedRef","onFocus","onBlur","onValidate","validate","onChange","required"],Wn="This field is required.",Vn=z("input");class vt extends o.Component{constructor(t){super(t),this.state={error:null,focused:!1},this.maybeValidate=e=>{const{validate:n,onValidate:r,required:s}=this.props;if(n){const i=n(e)||null;this.setState({error:i},()=>{r&&r(i)})}else if(s){const c=e?null:typeof s=="string"?s:Wn;this.setState({error:c},()=>{r&&r(c)})}},this.handleChange=e=>{const{onChange:n}=this.props,r=e.target.value;this.maybeValidate(r),n(r)},this.handleFocus=e=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(e)})},this.handleBlur=e=>{const{onBlur:n}=this.props;this.setState({focused:!1},()=>{n&&n(e)})},t.validate&&t.value!==""&&(this.state.error=t.validate(t.value)||null)}componentDidMount(){this.props.value!==""&&this.maybeValidate(this.props.value)}render(){const t=this.props,{id:e,type:n,value:r,name:s,disabled:i,onKeyDown:c,placeholder:u,light:h,style:p,testId:x,readOnly:y,autoFocus:S,autoComplete:b,forwardedRef:a}=t,m=oe(t,Nn);return o.createElement(Vn,P({style:[K.input,dt.LabelMedium,K.default,i?K.disabled:this.state.focused?[K.focused,h&&K.defaultLight]:!!this.state.error&&[K.error,h&&K.errorLight],!!this.state.error&&K.error,p&&p],id:e,type:n,placeholder:u,value:r,name:s,disabled:i,onChange:this.handleChange,onKeyDown:c,onFocus:this.handleFocus,onBlur:this.handleBlur,"data-testid":x,readOnly:y,autoFocus:S,autoComplete:b,ref:a},m,{"aria-invalid":this.state.error?"true":"false"}))}}vt.defaultProps={type:"text",disabled:!1,light:!1};const K=k.StyleSheet.create({input:{width:"100%",height:40,borderRadius:4,boxSizing:"border-box",paddingLeft:f.medium_16,margin:0,outline:"none",boxShadow:"none"},default:{background:d.white,border:`1px solid ${d.offBlack16}`,color:d.offBlack,"::placeholder":{color:d.offBlack64}},error:{background:`${q(d.fadedRed8,d.white)}`,border:`1px solid ${d.red}`,color:d.offBlack,"::placeholder":{color:d.offBlack64}},disabled:{background:d.offWhite,border:`1px solid ${d.offBlack16}`,color:d.offBlack64,"::placeholder":{color:d.offBlack32}},focused:{background:d.white,border:`1px solid ${d.blue}`,color:d.offBlack,"::placeholder":{color:d.offBlack64}},defaultLight:{boxShadow:`0px 0px 0px 1px ${d.blue}, 0px 0px 0px 2px ${d.white}`},errorLight:{boxShadow:`0px 0px 0px 1px ${d.red}, 0px 0px 0px 2px ${d.white}`}});var Ct=o.forwardRef((l,t)=>o.createElement(vt,P({},l,{forwardedRef:t})));const Hn=z("span");class qn extends o.Component{renderLabel(){const{label:t,id:e,required:n,testId:r}=this.props,s=o.createElement(Hn,{style:ye.required,"aria-hidden":!0}," ","*");return o.createElement(o.Fragment,null,o.createElement(M,{style:ye.label,tag:"label",htmlFor:e&&`${e}-field`,testId:r&&`${r}-label`},t,n&&s),o.createElement(T,{size:f.xxxSmall_4}))}maybeRenderDescription(){const{description:t,testId:e}=this.props;return t?o.createElement(o.Fragment,null,o.createElement(D,{style:ye.description,testId:e&&`${e}-description`},t),o.createElement(T,{size:f.xxxSmall_4})):null}maybeRenderError(){const{error:t,id:e,testId:n}=this.props;return t?o.createElement(o.Fragment,null,o.createElement(T,{size:f.small_12}),o.createElement(D,{style:ye.error,role:"alert",id:e&&`${e}-error`,testId:n&&`${n}-error`},t)):null}render(){const{field:t,style:e}=this.props;return o.createElement(R,{style:e},this.renderLabel(),this.maybeRenderDescription(),o.createElement(T,{size:f.xSmall_8}),t,this.maybeRenderError())}}const ye=k.StyleSheet.create({label:{color:d.offBlack},description:{color:d.offBlack64},error:{color:d.red},required:{color:d.red}});class It extends o.Component{constructor(t){super(t),this.handleValidate=e=>{const{onValidate:n}=this.props;this.setState({error:e},()=>{n&&n(e)})},this.handleFocus=e=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(e)})},this.handleBlur=e=>{const{onBlur:n}=this.props;this.setState({focused:!1},()=>{n&&n(e)})},this.state={error:null,focused:!1}}render(){const{id:t,type:e,label:n,description:r,value:s,disabled:i,required:c,validate:u,onChange:h,onKeyDown:p,placeholder:x,light:y,style:S,testId:b,readOnly:a,autoComplete:m,forwardedRef:g,ariaDescribedby:v}=this.props;return o.createElement(ct,{id:t,scope:"labeled-text-field"},C=>o.createElement(qn,{id:C,testId:b,style:S,field:o.createElement(Ct,{id:`${C}-field`,"aria-describedby":v||`${C}-error`,"aria-required":c?"true":"false",required:c,testId:b&&`${b}-field`,type:e,value:s,placeholder:x,disabled:i,validate:u,onValidate:this.handleValidate,onChange:h,onKeyDown:p,onFocus:this.handleFocus,onBlur:this.handleBlur,light:y,readOnly:a,autoComplete:m,ref:g}),label:n,description:r,required:!!c,error:!this.state.focused&&this.state.error||""}))}}It.defaultProps={type:"text",disabled:!1,light:!1};o.forwardRef((l,t)=>o.createElement(It,P({},l,{forwardedRef:t})));function Me(){return Me=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Me.apply(this,arguments)}function jn(l,t){if(l==null)return{};var e={},n=Object.keys(l),r,s;for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&(e[r]=l[r]);return e}const Kn={clearSearch:"Clear search"},Un=["clearAriaLabel","autoFocus","disabled","light","id","value","placeholder","style","testId","onClick","onChange","onFocus","onBlur"],Gn=o.forwardRef(function(t,e){const{clearAriaLabel:n=Kn.clearSearch,autoFocus:r,disabled:s=!1,light:i=!1,id:c,value:u,placeholder:h,style:p,testId:x,onClick:y,onChange:S,onFocus:b,onBlur:a}=t,m=jn(t,Un),g=o.useRef(null),v=()=>{var w;S(""),g==null||(w=g.current)==null||w.focus()},C=()=>u.length?o.createElement(Gt,{icon:Xt,kind:"tertiary",onClick:v,style:Se.dismissIcon,"aria-label":n}):null;return o.createElement(ct,{id:c,scope:"search-field"},w=>o.createElement(R,{onClick:y,style:[Se.inputContainer,p]},o.createElement(re,{icon:dn,size:"medium",color:d.offBlack64,style:Se.searchIcon,"aria-hidden":"true"}),o.createElement(Ct,Me({id:`${w}-field`,type:"text",autoFocus:r,disabled:s,light:i,onChange:S,onFocus:b,onBlur:a,placeholder:h,ref:I=>{e&&(e.current=I),g.current=I},value:u,style:[Se.inputStyleReset,dt.LabelMedium],testId:x},m)),C()))}),Se=k.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:f.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:f.xSmall_8,marginRight:f.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:0,":hover":{border:"none"}},inputStyleReset:{display:"flex",flex:1,"::placeholder":{color:d.offBlack64},width:"100%",color:"inherit",paddingLeft:f.large_24+f.medium_16,paddingRight:f.large_24+f.medium_16}});function Ae(){return Ae=Object.assign||function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},Ae.apply(this,arguments)}function Je(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Ne(l,t){return Ne=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ne(l,t)}function Xn(l,t){l.prototype=Object.create(t.prototype),l.prototype.constructor=l,Ne(l,t)}var Qe=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Zn(l,t){return!!(l===t||Qe(l)&&Qe(t))}function Yn(l,t){if(l.length!==t.length)return!1;for(var e=0;e<l.length;e++)if(!Zn(l[e],t[e]))return!1;return!0}function ze(l,t){t===void 0&&(t=Yn);var e,n=[],r,s=!1;function i(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return s&&e===this&&t(c,n)||(r=l.apply(this,c),s=!0,e=this,n=c),r}return i}var Jn=typeof performance=="object"&&typeof performance.now=="function",et=Jn?function(){return performance.now()}:function(){return Date.now()};function tt(l){cancelAnimationFrame(l.id)}function Qn(l,t){var e=et();function n(){et()-e>=t?l.call(null):r.id=requestAnimationFrame(n)}var r={id:requestAnimationFrame(n)};return r}var Q=null;function nt(l){if(l===void 0&&(l=!1),Q===null||l){var t=document.createElement("div"),e=t.style;e.width="50px",e.height="50px",e.overflow="scroll",e.direction="rtl";var n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Q="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Q="negative":Q="positive-ascending"),document.body.removeChild(t),Q}return Q}var er=150,tr=function(t,e){return t};function nr(l){var t,e=l.getItemOffset,n=l.getEstimatedTotalSize,r=l.getItemSize,s=l.getOffsetForIndexAndAlignment,i=l.getStartIndexForOffset,c=l.getStopIndexForStartIndex,u=l.initInstanceProps,h=l.shouldResetStyleCacheOnItemSizeChange,p=l.validateProps;return t=function(x){Xn(y,x);function y(b){var a;return a=x.call(this,b)||this,a._instanceProps=u(a.props,Je(a)),a._outerRef=void 0,a._resetIsScrollingTimeoutId=null,a.state={instance:Je(a),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof a.props.initialScrollOffset=="number"?a.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},a._callOnItemsRendered=void 0,a._callOnItemsRendered=ze(function(m,g,v,C){return a.props.onItemsRendered({overscanStartIndex:m,overscanStopIndex:g,visibleStartIndex:v,visibleStopIndex:C})}),a._callOnScroll=void 0,a._callOnScroll=ze(function(m,g,v){return a.props.onScroll({scrollDirection:m,scrollOffset:g,scrollUpdateWasRequested:v})}),a._getItemStyle=void 0,a._getItemStyle=function(m){var g=a.props,v=g.direction,C=g.itemSize,w=g.layout,I=a._getItemStyleCache(h&&C,h&&w,h&&v),_;if(I.hasOwnProperty(m))_=I[m];else{var O=e(a.props,m,a._instanceProps),A=r(a.props,m,a._instanceProps),N=v==="horizontal"||w==="horizontal",he=v==="rtl",pe=N?O:0;I[m]=_={position:"absolute",left:he?void 0:pe,right:he?pe:void 0,top:N?0:O,height:N?"100%":A,width:N?A:"100%"}}return _},a._getItemStyleCache=void 0,a._getItemStyleCache=ze(function(m,g,v){return{}}),a._onScrollHorizontal=function(m){var g=m.currentTarget,v=g.clientWidth,C=g.scrollLeft,w=g.scrollWidth;a.setState(function(I){if(I.scrollOffset===C)return null;var _=a.props.direction,O=C;if(_==="rtl")switch(nt()){case"negative":O=-C;break;case"positive-descending":O=w-v-C;break}return O=Math.max(0,Math.min(O,w-v)),{isScrolling:!0,scrollDirection:I.scrollOffset<C?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._onScrollVertical=function(m){var g=m.currentTarget,v=g.clientHeight,C=g.scrollHeight,w=g.scrollTop;a.setState(function(I){if(I.scrollOffset===w)return null;var _=Math.max(0,Math.min(w,C-v));return{isScrolling:!0,scrollDirection:I.scrollOffset<_?"forward":"backward",scrollOffset:_,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._outerRefSetter=function(m){var g=a.props.outerRef;a._outerRef=m,typeof g=="function"?g(m):g!=null&&typeof g=="object"&&g.hasOwnProperty("current")&&(g.current=m)},a._resetIsScrollingDebounced=function(){a._resetIsScrollingTimeoutId!==null&&tt(a._resetIsScrollingTimeoutId),a._resetIsScrollingTimeoutId=Qn(a._resetIsScrolling,er)},a._resetIsScrolling=function(){a._resetIsScrollingTimeoutId=null,a.setState({isScrolling:!1},function(){a._getItemStyleCache(-1,null)})},a}y.getDerivedStateFromProps=function(a,m){return rr(a,m),p(a),null};var S=y.prototype;return S.scrollTo=function(a){a=Math.max(0,a),this.setState(function(m){return m.scrollOffset===a?null:{scrollDirection:m.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},S.scrollToItem=function(a,m){m===void 0&&(m="auto");var g=this.props.itemCount,v=this.state.scrollOffset;a=Math.max(0,Math.min(a,g-1)),this.scrollTo(s(this.props,a,m,v,this._instanceProps))},S.componentDidMount=function(){var a=this.props,m=a.direction,g=a.initialScrollOffset,v=a.layout;if(typeof g=="number"&&this._outerRef!=null){var C=this._outerRef;m==="horizontal"||v==="horizontal"?C.scrollLeft=g:C.scrollTop=g}this._callPropsCallbacks()},S.componentDidUpdate=function(){var a=this.props,m=a.direction,g=a.layout,v=this.state,C=v.scrollOffset,w=v.scrollUpdateWasRequested;if(w&&this._outerRef!=null){var I=this._outerRef;if(m==="horizontal"||g==="horizontal")if(m==="rtl")switch(nt()){case"negative":I.scrollLeft=-C;break;case"positive-ascending":I.scrollLeft=C;break;default:var _=I.clientWidth,O=I.scrollWidth;I.scrollLeft=O-_-C;break}else I.scrollLeft=C;else I.scrollTop=C}this._callPropsCallbacks()},S.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&tt(this._resetIsScrollingTimeoutId)},S.render=function(){var a=this.props,m=a.children,g=a.className,v=a.direction,C=a.height,w=a.innerRef,I=a.innerElementType,_=a.innerTagName,O=a.itemCount,A=a.itemData,N=a.itemKey,he=N===void 0?tr:N,pe=a.layout,Ft=a.outerElementType,zt=a.outerTagName,Bt=a.style,Pt=a.useIsScrolling,Lt=a.width,qe=this.state.isScrolling,$e=v==="horizontal"||pe==="horizontal",Dt=$e?this._onScrollHorizontal:this._onScrollVertical,je=this._getRangeToRender(),Mt=je[0],At=je[1],Ke=[];if(O>0)for(var le=Mt;le<=At;le++)Ke.push(o.createElement(m,{data:A,key:he(le,A),index:le,isScrolling:Pt?qe:void 0,style:this._getItemStyle(le)}));var Ue=n(this.props,this._instanceProps);return o.createElement(Ft||zt||"div",{className:g,onScroll:Dt,ref:this._outerRefSetter,style:Ae({position:"relative",height:C,width:Lt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},Bt)},o.createElement(I||_||"div",{children:Ke,ref:w,style:{height:$e?"100%":Ue,pointerEvents:qe?"none":void 0,width:$e?Ue:"100%"}}))},S._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var a=this.props.itemCount;if(a>0){var m=this._getRangeToRender(),g=m[0],v=m[1],C=m[2],w=m[3];this._callOnItemsRendered(g,v,C,w)}}if(typeof this.props.onScroll=="function"){var I=this.state,_=I.scrollDirection,O=I.scrollOffset,A=I.scrollUpdateWasRequested;this._callOnScroll(_,O,A)}},S._getRangeToRender=function(){var a=this.props,m=a.itemCount,g=a.overscanCount,v=this.state,C=v.isScrolling,w=v.scrollDirection,I=v.scrollOffset;if(m===0)return[0,0,0,0];var _=i(this.props,I,this._instanceProps),O=c(this.props,_,I,this._instanceProps),A=!C||w==="backward"?Math.max(1,g):1,N=!C||w==="forward"?Math.max(1,g):1;return[Math.max(0,_-A),Math.max(0,Math.min(m-1,O+N)),_,O]},y}(o.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var rr=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},or=50,te=function(t,e,n){var r=t,s=r.itemSize,i=n.itemMetadataMap,c=n.lastMeasuredIndex;if(e>c){var u=0;if(c>=0){var h=i[c];u=h.offset+h.size}for(var p=c+1;p<=e;p++){var x=s(p);i[p]={offset:u,size:x},u+=x}n.lastMeasuredIndex=e}return i[e]},sr=function(t,e,n){var r=e.itemMetadataMap,s=e.lastMeasuredIndex,i=s>0?r[s].offset:0;return i>=n?wt(t,e,s,0,n):lr(t,e,Math.max(0,s),n)},wt=function(t,e,n,r,s){for(;r<=n;){var i=r+Math.floor((n-r)/2),c=te(t,i,e).offset;if(c===s)return i;c<s?r=i+1:c>s&&(n=i-1)}return r>0?r-1:0},lr=function(t,e,n,r){for(var s=t.itemCount,i=1;n<s&&te(t,n,e).offset<r;)n+=i,i*=2;return wt(t,e,Math.min(n,s-1),Math.floor(n/2),r)},rt=function(t,e){var n=t.itemCount,r=e.itemMetadataMap,s=e.estimatedItemSize,i=e.lastMeasuredIndex,c=0;if(i>=n&&(i=n-1),i>=0){var u=r[i];c=u.offset+u.size}var h=n-i-1,p=h*s;return c+p},ir=nr({getItemOffset:function(t,e,n){return te(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:rt,getOffsetForIndexAndAlignment:function(t,e,n,r,s){var i=t.direction,c=t.height,u=t.layout,h=t.width,p=i==="horizontal"||u==="horizontal",x=p?h:c,y=te(t,e,s),S=rt(t,s),b=Math.max(0,Math.min(S-x,y.offset)),a=Math.max(0,y.offset-x+y.size);switch(n==="smart"&&(r>=a-x&&r<=b+x?n="auto":n="center"),n){case"start":return b;case"end":return a;case"center":return Math.round(a+(b-a)/2);case"auto":default:return r>=a&&r<=b?r:r<a?a:b}},getStartIndexForOffset:function(t,e,n){return sr(t,n,e)},getStopIndexForStartIndex:function(t,e,n,r){for(var s=t.direction,i=t.height,c=t.itemCount,u=t.layout,h=t.width,p=s==="horizontal"||u==="horizontal",x=p?h:i,y=te(t,e,r),S=n+x,b=y.offset+y.size,a=e;a<c-1&&b<S;)a++,b+=te(t,a,r).size;return a},initInstanceProps:function(t,e){var n=t,r=n.estimatedItemSize,s={itemMetadataMap:{},estimatedItemSize:r||or,lastMeasuredIndex:-1};return e.resetAfterIndex=function(i,c){c===void 0&&(c=!0),s.lastMeasuredIndex=Math.min(s.lastMeasuredIndex,i-1),e._getItemStyleCache(-1),c&&e.forceUpdate()},s},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});const kt=""+new URL("caret-down-bold-NQKqym-e.svg",import.meta.url).href;function E(){return E=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},E.apply(this,arguments)}const Z={tab:9,enter:13,escape:27,space:32,up:38,down:40},Et={marginTop:f.xSmall_8,marginBottom:f.xSmall_8},_t={minHeight:100},X=40,Rt=9,Ot=9,F={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:l=>`Select all (${l})`,noneSelected:"0 items",someSelected:l=>l===1?"1 item":`${l} items`,allSelected:"All items"},{blue:ar,white:ot,offBlack:dr}=d;class ne extends o.Component{static isClassOf(t){return t&&t.type&&t.type.__IS_ACTION_ITEM__}render(){const{disabled:t,horizontalRule:e,href:n,target:r,indent:s,label:i,lang:c,leftAccessory:u,rightAccessory:h,onClick:p,role:x,style:y,testId:S}=this.props,b=[ae.wrapper,y],a=typeof i=="string"?o.createElement(M,{lang:c,style:ae.label},i):o.cloneElement(i,E({lang:c,style:ae.label},i.props));return o.createElement(sn,{disabled:t,horizontalRule:e,rootStyle:b,leftAccessory:u,rightAccessory:h,style:[ae.shared,s&&ae.indent],role:x,testId:S,title:a,href:n,target:r,onClick:p})}}ne.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};ne.__IS_ACTION_ITEM__=!0;const ae=k.StyleSheet.create({wrapper:{minHeight:X,touchAction:"manipulation",":focus":{borderRadius:f.xxxSmall_4,outline:`${f.xxxxSmall_2}px solid ${d.blue}`,outlineOffset:-f.xxxxSmall_2},":hover[aria-disabled=false]":{color:ot,background:ar},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:ot,background:dr}},":active[aria-disabled=false]":{color:d.fadedBlue,background:d.activeBlue}},shared:{minHeight:X,height:X},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:f.medium_16*2}});function se(l,t){if(l==null)return{};var e={},n=Object.keys(l),r,s;for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&(e[r]=l[r]);return e}const cr=function(t){const{selected:e}=t;return o.createElement(re,{icon:We,size:"small",style:[st.bounds,!e&&st.hide]})},st=k.StyleSheet.create({bounds:{alignSelf:"center",height:f.medium_16,minHeight:f.medium_16,minWidth:f.medium_16},hide:{visibility:"hidden"}}),{offBlack16:ur,offBlack50:hr,offWhite:pr}=d,fr=function(t){const{disabled:e,selected:n}=t;return o.createElement(R,{className:"checkbox",style:[ve.checkbox,n&&!e&&ve.noBorder,e&&ve.disabledCheckbox]},n&&o.createElement(re,{icon:We,size:"small",className:"check",style:[{width:f.small_12,height:f.small_12,margin:f.xxxxSmall_2},e&&n&&ve.disabledCheckFormatting]}))},ve=k.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:f.medium_16,minWidth:f.medium_16,height:f.medium_16,borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:hr},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:ur,backgroundColor:pr},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),mr=["disabled","label","selected","testId","leftAccessory","horizontalRule","parentComponent","rightAccessory","style","subtitle1","subtitle2","value","onClick","onToggle","variant","role"],gr=z("li");class Y extends o.Component{constructor(...t){super(...t),this.handleClick=()=>{const{onClick:e,onToggle:n,value:r}=this.props;n(r),e&&e()}}static isClassOf(t){return t&&t.type&&t.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?cr:fr}renderCell(){const t=this.props,{disabled:e,label:n,selected:r,testId:s,leftAccessory:i,horizontalRule:c,parentComponent:u,rightAccessory:h,style:p,subtitle1:x,subtitle2:y,role:S}=t,b=se(t,mr),a=this.getCheckComponent(),m=[U.item,p];return o.createElement(an,E({disabled:e,horizontalRule:c,rootStyle:u==="listbox"?U.listboxItem:m,style:U.itemContainer,"aria-selected":u!=="listbox"&&r?"true":"false",role:u!=="listbox"?S:void 0,testId:s,leftAccessory:o.createElement(o.Fragment,null,i?o.createElement(R,{style:{flexDirection:"row"}},o.createElement(a,{disabled:e,selected:r}),o.createElement(T,{size:f.xSmall_8}),i):o.createElement(a,{disabled:e,selected:r})),rightAccessory:h,subtitle1:x?o.createElement(D,{className:"subtitle"},x):void 0,title:o.createElement(M,{style:U.label},n),subtitle2:y?o.createElement(D,{className:"subtitle"},y):void 0,onClick:u!=="listbox"?this.handleClick:void 0},b))}render(){const{disabled:t,focused:e,parentComponent:n,role:r,selected:s}=this.props;return n==="listbox"?o.createElement(gr,{onMouseDown:i=>{i.preventDefault()},onClick:this.handleClick,style:[U.reset,U.item,e&&U.itemFocused,t&&U.itemDisabled],role:r,"aria-selected":s?"true":"false","aria-disabled":t?"true":"false",id:this.props.id,tabIndex:-1},this.renderCell()):this.renderCell()}}Y.defaultProps={disabled:!1,focused:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};Y.__IS_OPTION_ITEM__=!0;const{blue:Be,white:de,offBlack:br}=d,lt={borderRadius:f.xxxSmall_4,outline:`${f.xxxxSmall_2}px solid ${d.blue}`,outlineOffset:-f.xxxxSmall_2},U=k.StyleSheet.create({reset:{margin:0,padding:0,border:0,background:"none",outline:"none",fontSize:"100%",verticalAlign:"baseline",textAlign:"left",textDecoration:"none",listStyle:"none",cursor:"pointer"},listboxItem:{backgroundColor:"transparent",color:"inherit"},item:{backgroundColor:d.white,minHeight:"unset",":focus":lt,":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:de,background:Be},":active[aria-selected=false]":{},":hover[aria-disabled=true]":{cursor:"not-allowed"},":is([aria-disabled=true])":{color:d.offBlack32,":focus-visible":{outline:"none"}},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:de,background:br}},":active[aria-disabled=false]":{color:d.fadedBlue,background:d.activeBlue},":hover[aria-disabled=false] .checkbox":{background:de},":hover[aria-disabled=false] .check":{color:Be},":active[aria-disabled=false] .check":{color:d.activeBlue},":is([aria-selected=true]) .checkbox":{background:Be},":is([aria-selected=true]) .check":{color:de},":is([aria-disabled=false]) .subtitle":{color:d.offBlack64},":hover[aria-disabled=false] .subtitle":{color:d.offWhite},":active[aria-disabled=false] .subtitle":{color:q(d.fadedBlue16,de)}},itemFocused:lt,itemDisabled:{outlineColor:d.offBlack32},itemContainer:{minHeight:"unset",padding:`${f.xSmall_8+f.xxxxSmall_2}px ${f.xSmall_8}px`,paddingRight:f.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class j extends o.Component{static isClassOf(t){return t&&t.type&&t.type.__IS_SEPARATOR_ITEM__}render(){return o.createElement(R,{style:[xr.separator,this.props.style],"aria-hidden":"true"})}}j.__IS_SEPARATOR_ITEM__=!0;const xr=k.StyleSheet.create({separator:{boxShadow:`0 -1px ${d.offBlack16}`,height:1,minHeight:1,marginTop:f.xxxSmall_4,marginBottom:f.xxxSmall_4}});class Re extends o.Component{constructor(...t){super(...t),this.getTestIdFromProps=e=>e.testId||e["data-testid"]}renderAnchorChildren(t,e){const{disabled:n,testId:r,text:s,opened:i}=this.props,c=this.props.children(E({},t,{text:s,opened:i})),u=c.props,h=this.getTestIdFromProps(u);return o.cloneElement(c,E({},e,{disabled:n,onClick:u.onClick?p=>{u.onClick(p),e.onClick(p)}:e.onClick,"data-testid":h||r}))}render(){return o.createElement(Vt,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(t,e)=>this.renderAnchorChildren(t,e))}}Re.defaultProps={disabled:!1};class yr extends o.Component{render(){const{data:t,index:e,style:n}=this.props,r=t[e];if(j.isClassOf(r.component))return o.cloneElement(r.component,{style:n});{const{component:s,populatedProps:i,onClick:c,role:u,ref:h}=r;return o.cloneElement(s,E({style:n},i,{key:e,onClick:c,ref:r.focusable&&h,role:u}))}}}function it(l,t=0){return l.slice(0,Rt).reduce((e,n)=>j.isClassOf(n.component)?e+Ot:e+X,t)}class Sr extends o.Component{constructor(t){super(t),this.getItemSize=e=>{const n=this.props.data[e];return j.isClassOf(n.component)?Ot:X},this.state={height:it(t.data),width:t.width}}componentDidMount(){const{schedule:t}=this.props;t.animationFrame(()=>{this.setWidth()})}componentDidUpdate(t){const{data:e,listRef:n}=this.props;t.data.length!==e.length&&(this.setHeight(),n&&n.current&&n.current.resetAfterIndex(1))}setWidth(){const t=J.findDOMNode(this),e=t==null?void 0:t.parentElement;if(e){const n=e.getBoundingClientRect().width;this.setState({width:n})}}setHeight(){const t=it(this.props.data);this.setState({height:t})}renderInitialItems(){const{data:t}=this.props,e=t.map(r=>r.component);return o.Children.toArray(e).filter(Boolean).sort((r,s)=>s.props.label&&r.props.label?s.props.label.length-r.props.label.length:-1).slice(0,Rt).map(r=>o.cloneElement(r,{style:{visibility:"hidden"}}))}renderVirtualizedList(t,e){const{data:n,listRef:r}=this.props;return o.createElement(ir,{height:e,itemCount:n.length,itemSize:this.getItemSize,itemData:n,style:{overflowX:"hidden"},width:t,overscanCount:5,ref:r},yr)}render(){const{width:t,height:e}=this.state;return t==null?this.renderInitialItems():this.renderVirtualizedList(t,e)}}var vr=ut(Sr);function Cr({state:l,options:t}){const e=Jt(l,t),{y:n}=l.modifiersData.preventOverflow||{x:0,y:0},{height:r}=l.rects.popper,[s]=l.placement.split("-"),c=r-e[s==="top"?"top":"bottom"]-n;l.styles.popper=E({},l.styles.popper,{maxHeight:`${c}px`,"--popper-max-height":`${c}px`})}const Ir={name:"maxHeight",enabled:!0,phase:"main",options:{padding:X},requiresIfExists:["offset","preventOverflow","flip"],fn:Cr},wr=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},Ir],kr=function({children:t,alignment:e="left",onPopperElement:n,referenceElement:r}){const s=Zt(r)||document.querySelector("body");return s?J.createPortal(o.createElement(Yt,{innerRef:i=>{i&&n&&n(i)},referenceElement:r,strategy:"fixed",placement:e==="left"?"bottom-start":"bottom-end",modifiers:wr},({placement:i,ref:c,style:u,hasPopperEscaped:h,isReferenceHidden:p})=>{const x=!!(h||p);return o.createElement("div",{ref:c,style:u,"data-testid":"dropdown-popper","data-placement":i},t(x))}),s):null};function Er(l){return l.length===1||!/^[A-Z]/i.test(l)?l:""}function _r(l,t){let e;return function(...r){const s=()=>{clearTimeout(e),l(...r)};clearTimeout(e),e=setTimeout(s,t)}}function at(l){return typeof l=="string"}function ue(l){return at(l.label)?l.label:at(l.labelAsText)?l.labelAsText:""}const Rr=125,Or=z("span");class Oe extends o.Component{static sameItemsFocusable(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n].focusable!==e[n].focusable)return!1;return!0}static getDerivedStateFromProps(t,e){if(e.itemRefs.length===0&&t.open||!Oe.sameItemsFocusable(e.prevItems,t.items)){const n=[];for(let r=0;r<t.items.length;r++)if(t.items[r].focusable){const s=o.createRef();n.push({ref:s,originalIndex:r})}return{itemRefs:n,prevItems:t.items,sameItemsFocusable:!1}}else return{prevItems:t.items,sameItemsFocusable:!0}}constructor(t){super(t),this.focusedIndex=void 0,this.focusedOriginalIndex=void 0,this.itemsClicked=void 0,this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.searchFieldRef=o.createRef(),this.handleInteract=e=>{const{open:n,onOpenChanged:r}=this.props,s=e.target,i=J.findDOMNode(this);n&&i&&!i.contains(s)&&this.popperElement&&!this.popperElement.contains(s)&&r(!1)},this.handleKeyDown=e=>{const{enableTypeAhead:n,onOpenChanged:r,open:s,searchText:i}=this.props,c=e.which||e.keyCode;if(n&&Er(e.key)&&(e.stopPropagation(),this.textSuggestion+=e.key,this.handleKeyDownDebounced(this.textSuggestion)),!s){if(c===Z.down){e.preventDefault(),r(!0);return}return}switch(c){case Z.tab:if(this.isSearchFieldFocused()&&i)return;this.restoreTabOrder(),r(!1);return;case Z.space:if(this.isSearchFieldFocused())return;e.preventDefault();return;case Z.up:e.preventDefault(),this.focusPreviousItem();return;case Z.down:e.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=e=>{const{onOpenChanged:n,open:r}=this.props;switch(e.which||e.keyCode){case Z.space:if(this.isSearchFieldFocused())return;e.preventDefault();return;case Z.escape:r&&(e.stopPropagation(),this.restoreTabOrder(),n(!1));return}},this.handleKeyDownDebounceResult=e=>{const n=this.props.items.filter(r=>r.focusable).findIndex(({component:r})=>{if(j.isClassOf(r))return!1;if(Y.isClassOf(r)){const s=r.props;return ue(s).toLowerCase().startsWith(e.toLowerCase())}return!1});if(n>=0){const r=!this.props.open;r&&this.props.onOpenChanged(!0),this.focusedIndex=n,this.scheduleToFocusCurrentItem(s=>{this.props.selectionType==="single"&&r&&s&&(s.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=e=>{this.itemsClicked=!0,this.focusedIndex=e,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=e=>{e.nativeEvent.stopImmediatePropagation?e.nativeEvent.stopImmediatePropagation():e.stopPropagation()},this.handleItemClick=(e,n)=>{this.handleClickFocus(e),n.component.props.onClick&&n.component.props.onClick(),n.populatedProps.onClick&&n.populatedProps.onClick()},this.handleSearchTextChanged=e=>{const{onSearchTextChanged:n}=this.props;n&&n(e)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:E({noResults:F.noResults,someResults:F.someSelected},t.labels)},this.virtualizedListRef=o.createRef(),this.handleKeyDownDebounced=_r(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(t){const{open:e}=this.props;if(t.open!==e)this.updateEventListeners(),this.maybeFocusInitialItem();else if(e){const{itemRefs:n,sameItemsFocusable:r}=this.state;if(r)return;{const s=n.findIndex(i=>i.originalIndex===this.focusedOriginalIndex);s===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=s}this.props.labels!==t.labels&&this.setState({labels:E({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:t}=this.props;if(typeof t<"u")this.focusedIndex=t;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:t,open:e}=this.props;t&&(e?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):e||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(t){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(t)}):this.focusCurrentItem(t)}focusCurrentItem(t){const e=this.state.itemRefs[this.focusedIndex];if(e){this.virtualizedListRef.current&&this.virtualizedListRef.current.scrollToItem(e.originalIndex);const n=J.findDOMNode(e.ref.current);n&&(n.focus(),this.focusedOriginalIndex=e.originalIndex,t&&t(n))}}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.focusedIndex-=1;this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.focusedIndex+=1;this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:t}=this.props;switch(t){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${t}" instead.`)}}maybeRenderNoResults(){const{items:t,labels:{noResults:e}}=this.props;return t.length===0?o.createElement(M,{style:G.noResult,testId:"dropdown-core-no-results"},e):null}shouldVirtualizeList(){return this.props.items.length>Rr}renderList(){let t=0;const e=this.getItemRole();return this.props.items.map((n,r)=>{if(j.isClassOf(n.component))return n.component;const{component:s,focusable:i,populatedProps:c}=n;i&&(t+=1);const u=t-1,h=this.state.itemRefs[u]?this.state.itemRefs[u].ref:null;return o.cloneElement(s,E({},c,{key:r,onClick:()=>{this.handleItemClick(u,n)},ref:i?h:null,role:e}))})}parseVirtualizedItems(){let t=0;const e=this.getItemRole();return this.props.items.map((n,r)=>{!j.isClassOf(n.component)&&n.focusable&&(t+=1);const s=t-1;return E({},n,{role:e,ref:n.focusable&&this.state.itemRefs[s]?this.state.itemRefs[s].ref:null,onClick:()=>{this.handleItemClick(s,n)}})})}renderVirtualizedList(){const t=this.parseVirtualizedItems();return o.createElement(vr,{data:t,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:t}=this.props,{labels:e}=this.state;return o.createElement(Gn,{clearAriaLabel:e.clearSearch,onChange:this.handleSearchTextChanged,placeholder:e.filter,ref:this.searchFieldRef,style:G.searchInputStyle,value:t||""})}renderDropdownMenu(t,e){const{"aria-invalid":n,"aria-required":r,dropdownStyle:s,isFilterable:i,light:c,openerElement:u,role:h}=this.props,p=u&&window.getComputedStyle(u),x=p?p.getPropertyValue("width"):0;return o.createElement(R,{onMouseUp:this.handleDropdownMouseUp,style:[G.dropdown,c&&G.light,e&&G.hidden,s],testId:"dropdown-core-container"},i&&this.renderSearchField(),o.createElement(R,{role:h,style:[G.listboxOrMenu,{minWidth:x}],"aria-invalid":h==="listbox"?n:void 0,"aria-required":h==="listbox"?r:void 0},t),this.maybeRenderNoResults())}renderDropdown(){const{alignment:t,openerElement:e}=this.props,n=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return o.createElement(kr,{alignment:t,onPopperElement:r=>{this.popperElement=r},referenceElement:e},r=>this.renderDropdownMenu(n,r))}renderLiveRegion(){const{items:t,open:e}=this.props,{labels:n}=this.state,r=t.length;return o.createElement(Or,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:G.srOnly,"data-testid":"dropdown-live-region"},e&&n.someResults(r))}render(){const{open:t,opener:e,style:n,className:r}=this.props;return o.createElement(R,{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,style:[G.menuWrapper,n],className:r},this.renderLiveRegion(),e,t&&this.renderDropdown())}}Oe.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:F.clearSearch,filter:F.filter,noResults:F.noResults,someResults:F.someSelected},light:!1,selectionType:"single"};const G=k.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:d.white,borderRadius:4,paddingTop:f.xxxSmall_4,paddingBottom:f.xxxSmall_4,border:`solid 1px ${d.offBlack16}`,boxShadow:`0px 8px 8px 0px ${Kt(d.offBlack,.1)}`,maxHeight:"var(--popper-max-height)"},light:{border:"none"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:d.offBlack64,alignSelf:"center",marginTop:f.xxSmall_6},searchInputStyle:{margin:f.xSmall_8,marginTop:f.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var Ve=ut(Oe);const $r=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],Tr=z("button");class Fr extends o.Component{render(){const t=this.props,{children:e,disabled:n,focused:r,hovered:s,pressed:i,testId:c,opened:u,"aria-label":h}=t,p=se(t,$r),x=d.blue,y=zr(x),S=n,b=[Pe.shared,S&&Pe.disabled,y.default,S&&y.disabled,!S&&i&&y.active],a=o.createElement(Nt,{style:Pe.text},e);return o.createElement(Tr,E({"aria-expanded":u?"true":"false","aria-haspopup":"menu","aria-label":h,disabled:S,style:b,type:"button"},p,{"data-testid":c}),o.createElement(R,{style:!S&&(s||r)&&y.focus},a),o.createElement(T,{size:f.xxxSmall_4}),o.createElement(re,{size:"small",color:"currentColor",icon:kt,"aria-hidden":"true"}))}}const Pe=k.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:X,border:"none",borderRadius:f.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"auto"},small:{height:f.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"}}),Ce={},zr=l=>{const t=l;if(Ce[t])return Ce[t];const{offBlack32:e}=d,n=d.activeBlue;let r={};return r={default:{background:"none",color:l},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:2}},active:{color:n},disabled:{color:e,cursor:"default"}},Ce[t]=k.StyleSheet.create(r),Ce[t]},Br=["text","opened"];class Pr extends o.Component{constructor(...t){super(...t),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=e=>{this.setState({opened:e}),this.props.onToggle&&this.props.onToggle(e)},this.handleOptionSelected=e=>{const{onChange:n,selectedValues:r}=this.props;if(!(!n||!r)){if(r.includes(e)){const s=r.indexOf(e),i=[...r.slice(0,s),...r.slice(s+1)];n(i)}else n([...r,e]);this.handleItemSelected()}},this.handleOpenerRef=e=>{this.openerElement=J.findDOMNode(e)},this.handleClick=e=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(t,e){return{opened:typeof t.opened=="boolean"?t.opened:e.opened}}getMenuItems(){const{children:t,selectedValues:e}=this.props,n=o.Children.toArray(t).filter(Boolean),r=n.some(s=>Y.isClassOf(s));return n.map(s=>{const{value:i,disabled:c}=s.props,u={component:s,focusable:ne.isClassOf(s)||Y.isClassOf(s)?!c:!1,populatedProps:{}};return ne.isClassOf(s)?E({},u,{populatedProps:{indent:r,onClick:this.handleItemSelected}}):Y.isClassOf(s)?E({},u,{populatedProps:{onToggle:this.handleOptionSelected,selected:e?e.includes(i):!1,variant:"check"}}):u})}renderOpener(t){const{disabled:e,menuText:n,opener:r,testId:s}=this.props;return o.createElement(Re,{onClick:this.handleClick,disabled:t===0||e,text:n,ref:this.handleOpenerRef,testId:r?void 0:s,opened:this.state.opened},r||(i=>{const{opened:c}=i,u=se(i,Br);return o.createElement(Fr,E({},u,{disabled:e,opened:!!c,testId:s}),n)}))}render(){const{alignment:t,dropdownStyle:e,style:n,className:r}=this.props,s=this.getMenuItems(),i=this.renderOpener(s.length);return o.createElement(Ve,{role:"menu",style:n,className:r,opener:i,alignment:t,open:this.state.opened,items:s,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[Lr.menuTopSpace,e]})}}Pr.defaultProps={alignment:"left",disabled:!1};const Lr=k.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),Dr=["children","disabled","error","id","isPlaceholder","light","open","testId","onOpenChanged"],Mr=z("button");class He extends o.Component{constructor(...t){super(...t),this.handleClick=e=>{const{open:n}=this.props;this.props.onOpenChanged(!n)}}renderClickableBehavior(t){const e=this.props,{children:n,disabled:r,error:s,id:i,isPlaceholder:c,light:u,open:h,testId:p}=e,x=se(e,Dr),y=qt(t);return o.createElement(y,{disabled:r,onClick:this.handleClick},(S,b)=>{const a=Ar(u,c,s),{hovered:m,focused:g,pressed:v}=S,C=u?r||v?"currentColor":d.white:r?d.offBlack32:d.offBlack64,w=[Le.shared,a.default,r&&a.disabled,!r&&(v?a.active:(m||g)&&a.focus)];return o.createElement(Mr,E({},x,{"aria-expanded":h?"true":"false","aria-haspopup":"listbox","data-testid":p,disabled:r,id:i,style:w,type:"button"},b),o.createElement(M,{style:Le.text},n||""),o.createElement(re,{icon:kt,color:C,size:"small",style:Le.caret,"aria-hidden":"true"}))})}render(){return o.createElement(Ht.Consumer,null,t=>this.renderClickableBehavior(t))}}He.defaultProps={disabled:!1,error:!1,light:!1,isPlaceholder:!1};const Le=k.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:d.offBlack,height:X,paddingLeft:f.medium_16,paddingRight:f.small_12,borderWidth:0,borderRadius:ee.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:f.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),Ie=f.medium_16-1,we=f.small_12-1,ke={},Ar=(l,t,e)=>{const n=`${l}-${t}-${e}`;if(ke[n])return ke[n];let r={};return l?r={default:{background:e?d.fadedRed8:"transparent",color:t?d.white50:d.white,borderColor:e?d.red:d.white50,borderWidth:ee.width.hairline},focus:{borderColor:e?d.fadedRed8:d.white,borderWidth:f.xxxxSmall_2,paddingLeft:Ie,paddingRight:we},active:{paddingLeft:Ie,paddingRight:we,borderColor:e?d.red:d.fadedBlue,borderWidth:ee.width.thin,color:t?q(d.white32,d.blue):d.fadedBlue,backgroundColor:e?d.fadedRed:d.activeBlue},disabled:{background:"transparent",borderColor:q(d.white32,d.blue),color:q(d.white32,d.blue),cursor:"auto"}}:r={default:{background:e?d.fadedRed8:d.white,borderColor:e?d.red:d.offBlack16,borderWidth:ee.width.hairline,color:t?d.offBlack64:d.offBlack},focus:{borderColor:e?d.red:d.blue,borderWidth:ee.width.thin,paddingLeft:Ie,paddingRight:we},active:{background:e?d.fadedRed:d.fadedBlue,borderColor:e?d.red:d.activeBlue,borderWidth:ee.width.thin,paddingLeft:Ie,paddingRight:we},disabled:{background:d.offWhite,borderColor:d.offBlack16,color:d.offBlack64,cursor:"auto"}},ke[n]=k.StyleSheet.create(r),ke[n]},Nr=["children","disabled","error","id","light","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-invalid","aria-required"];class $t extends o.Component{constructor(t){super(t),this.selectedIndex=void 0,this.handleOpenChanged=e=>{this.setState({open:e,searchText:""}),this.props.onToggle&&this.props.onToggle(e)},this.handleToggle=e=>{e!==this.props.selectedValue&&this.props.onChange(e),this.state.open&&this.state.openerElement&&this.state.openerElement.focus(),this.setState({open:!1}),this.props.onToggle&&this.props.onToggle(!1)},this.mapOptionItemsToDropdownItems=e=>{let n=0;return this.selectedIndex=0,e.map(r=>{const{selectedValue:s}=this.props,{disabled:i,value:c}=r.props,u=s===c;return u&&(this.selectedIndex=n),i||(n+=1),{component:r,focusable:!i,populatedProps:{onToggle:this.handleToggle,selected:u,variant:"check"}}})},this.handleSearchTextChanged=e=>{this.setState({searchText:e})},this.handleOpenerRef=e=>{const n=J.findDOMNode(e);this.setState({openerElement:n})},this.handleClick=e=>{this.handleOpenChanged(!this.state.open)},this.selectedIndex=0,this.state={open:!1,searchText:""}}static getDerivedStateFromProps(t,e){return{open:typeof t.opened=="boolean"?t.opened:e.open}}filterChildren(t){const{searchText:e}=this.state,n=e.toLowerCase();return t.filter(({props:r})=>!e||ue(r).toLowerCase().indexOf(n)>-1)}getMenuItems(t){const{isFilterable:e}=this.props;return this.mapOptionItemsToDropdownItems(e?this.filterChildren(t):t)}renderOpener(t){const e=this.props,{children:n,disabled:r,error:s,id:i,light:c,opener:u,placeholder:h,selectedValue:p,testId:x}=e,y=se(e,Nr),b=o.Children.toArray(n).find(g=>g.props.value===p),a=b?ue(b.props):h;return u?o.createElement(Re,{onClick:this.handleClick,disabled:t===0||r,ref:this.handleOpenerRef,text:a,opened:this.state.open},u):o.createElement(He,E({},y,{disabled:t===0||r,id:i,error:s,isPlaceholder:!b,light:c,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:x}),a)}render(){const{alignment:t,autoFocus:e,children:n,className:r,dropdownStyle:s,enableTypeAhead:i,isFilterable:c,labels:u,light:h,style:p,"aria-invalid":x,"aria-required":y}=this.props,{searchText:S}=this.state,b=o.Children.toArray(n).filter(Boolean),a=this.getMenuItems(b),m=this.renderOpener(b.length);return o.createElement(Ve,{role:"listbox",selectionType:"single",alignment:t,autoFocus:e,enableTypeAhead:i,dropdownStyle:[c&&_t,Et,s],initialFocusedIndex:this.selectedIndex,items:a,light:h,onOpenChanged:this.handleOpenChanged,open:this.state.open,opener:m,openerElement:this.state.openerElement,style:p,className:r,isFilterable:c,onSearchTextChanged:c?this.handleSearchTextChanged:void 0,searchText:c?S:"",labels:u,"aria-invalid":x,"aria-required":y})}}$t.defaultProps={alignment:"left",autoFocus:!0,disabled:!1,enableTypeAhead:!0,error:!1,light:!1,labels:{clearSearch:F.clearSearch,filter:F.filter,noResults:F.noResults,someResults:F.someSelected}};const Wr=["disabled","id","light","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-invalid","aria-required"];class Tt extends o.Component{constructor(t){super(t),this.labels=void 0,this.handleOpenChanged=e=>{this.setState({open:e,searchText:"",lastSelectedValues:this.props.selectedValues}),this.props.onToggle&&this.props.onToggle(e)},this.handleToggle=e=>{const{onChange:n,selectedValues:r}=this.props;if(r.includes(e)){const s=r.indexOf(e),i=[...r.slice(0,s),...r.slice(s+1)];n(i)}else n([...r,e])},this.handleSelectAll=()=>{const{children:e,onChange:n}=this.props,s=o.Children.toArray(e).filter(i=>!!i&&!i.props.disabled).map(i=>i.props.value);n(s)},this.handleSelectNone=()=>{const{onChange:e}=this.props;e([])},this.mapOptionItemToDropdownItem=e=>{const{selectedValues:n}=this.props,{disabled:r,value:s}=e.props;return{component:e,focusable:!r,populatedProps:{onToggle:this.handleToggle,selected:n.includes(s),variant:"checkbox"}}},this.handleOpenerRef=e=>{const n=J.findDOMNode(e);this.setState({openerElement:n})},this.handleSearchTextChanged=e=>{this.setState({searchText:e})},this.handleClick=e=>{this.handleOpenChanged(!this.state.open)},this.state={open:!1,searchText:"",lastSelectedValues:[],labels:E({},F,t.labels)},this.labels=E({},F,t.labels)}static getDerivedStateFromProps(t,e){return{open:typeof t.opened=="boolean"?t.opened:e.open}}componentDidUpdate(t){this.props.labels!==t.labels&&this.setState({labels:E({},this.state.labels,this.props.labels)})}getMenuText(t){const{implicitAllEnabled:e,selectedValues:n}=this.props,{noneSelected:r,someSelected:s,allSelected:i}=this.state.labels,c=t.filter(h=>!h.props.disabled).length,u=e?i:r;switch(n.length){case 0:return u;case 1:const h=t.find(p=>p.props.value===n[0]);if(h){const p=ue(h==null?void 0:h.props);return p||s(1)}return u;case c:return i;default:return s(n.length)}}getShortcuts(t){const{selectedValues:e,shortcuts:n}=this.props,{selectAllLabel:r,selectNoneLabel:s}=this.state.labels;if(n&&!this.state.searchText){const i=t===e.length,c={component:o.createElement(ne,{disabled:i,label:r(t),indent:!0,onClick:this.handleSelectAll}),focusable:!i,populatedProps:{}},u=e.length===0,h={component:o.createElement(ne,{disabled:u,label:s,indent:!0,onClick:this.handleSelectNone}),focusable:!u,populatedProps:{}},p={component:o.createElement(j,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[c,h,p]}else return[]}getMenuItems(t){const{isFilterable:e}=this.props;if(!e)return t.map(this.mapOptionItemToDropdownItem);const{searchText:n,lastSelectedValues:r}=this.state,s=n.toLowerCase(),i=t.filter(({props:p})=>!n||ue(p).toLowerCase().indexOf(s)>-1),c=[],u=[];for(const p of i)r.includes(p.props.value)?c.push(p):u.push(p);const h=c.map(this.mapOptionItemToDropdownItem);return c.length&&u.length&&h.push({component:o.createElement(j,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...h,...u.map(this.mapOptionItemToDropdownItem)]}renderOpener(t){const e=this.props,{disabled:n,id:r,light:s,opener:i,testId:c}=e,u=se(e,Wr),{noneSelected:h}=this.state.labels,p=this.getMenuText(t),x=t.filter(S=>!S.props.disabled).length;return i?o.createElement(Re,{onClick:this.handleClick,disabled:x===0||n,ref:this.handleOpenerRef,text:p,opened:this.state.open},i):o.createElement(He,E({},u,{disabled:x===0||n,id:r,isPlaceholder:p===h,light:s,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:c}),p)}render(){const{alignment:t,light:e,style:n,className:r,dropdownStyle:s,children:i,isFilterable:c,"aria-invalid":u,"aria-required":h}=this.props,{open:p,searchText:x}=this.state,{clearSearch:y,filter:S,noResults:b,someSelected:a}=this.state.labels,m=o.Children.toArray(i).filter(Boolean),g=m.filter(w=>!w.props.disabled).length,v=this.getMenuItems(m),C=this.renderOpener(m);return o.createElement(Ve,{role:"listbox",alignment:t,dropdownStyle:[c&&_t,Et,s],isFilterable:c,items:[...this.getShortcuts(g),...v],light:e,onOpenChanged:this.handleOpenChanged,open:p,opener:C,openerElement:this.state.openerElement,selectionType:"multi",style:n,className:r,onSearchTextChanged:c?this.handleSearchTextChanged:void 0,searchText:c?x:"",labels:{clearSearch:y,filter:S,noResults:b,someResults:a},"aria-invalid":u,"aria-required":h})}}Tt.defaultProps={alignment:"left",disabled:!1,error:!1,light:!1,shortcuts:!1,selectedValues:[]};k.StyleSheet.create({listbox:{outline:"none"},disabled:{color:d.offBlack64}});const oo=l=>{const{strings:t}=Qt(),e=h=>{const{choices:p,onChange:x}=l;x(p.map(y=>h.includes(y.content)))},n=h=>h.map(({content:p})=>fe(Y,{value:p,label:fe(en,{content:p,strings:t,inline:!0})},p)),r=l.choices.filter(h=>h.checked).map(h=>h.content),{opener:s,onToggle:i,disabled:c}=l,u={style:{zIndex:"unset"},children:n(l.choices),opener:s,onToggle:i,disabled:c};return l.multipleSelect?fe(Tt,{...u,selectedValues:r,onChange:h=>e(h)}):fe($t,{...u,selectedValue:r[0],onChange:h=>e([h]),placeholder:l.choices[0].content})};try{answerchoices.displayName="answerchoices",answerchoices.__docgenInfo={description:"",displayName:"answerchoices",props:{choices:{defaultValue:null,description:"",name:"choices",required:!0,type:{name:"readonly AnswerType[]"}},multipleSelect:{defaultValue:null,description:"",name:"multipleSelect",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(selection: readonly boolean[]) => void"}},opener:{defaultValue:null,description:"",name:"opener",required:!0,type:{name:"((openerProps: OpenerProps) => ReactElement<any, string | JSXElementConstructor<any>>) | undefined"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"(opened: boolean) => unknown"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}}}catch{}export{oo as A,Y as O,$t as S,Pr as a,ne as b,kt as c};
