import{j as a}from"./jsx-runtime-BT65X5dW.js";import{r as S}from"./index-C6mWTJJr.js";import{n as N}from"./no-important-DlFk8a1I.js";import{V as k,a as U}from"./index-C0xJ1VDw.js";import{a as I,b as z,s as t,c as V}from"./index-BfjDPqC2.js";import{B as M,H as G}from"./index-gdjMQqRz.js";import{c as J}from"./answer-choices-CAW9m8Dd.js";import{C as Q}from"./index-BN1f3DJf.js";import{P as X}from"./index-BPL71wmx.js";import{V as F}from"./index-DyG-XbLr.js";const Y=U("ul"),Z=6;S.forwardRef(function(u,c){const{children:e,id:r,initialExpandedIndex:s,allowMultipleExpanded:f=!0,caretPosition:o,cornerKind:l="rounded",animated:h,style:$,...C}=u,_=Array(e.length).fill(!1);s!==void 0&&(_[s]=!0);const[w,R]=S.useState(_),p=Array(e.length).fill(null),T=e.length<=Z,E=(i,n)=>{const y=f?[...w]:Array(e.length).fill(!1),g=!w[i];y[i]=g,R(y),n&&n(g)},B=i=>{var y,g,A,W;const n=p.findIndex(x=>x.current===document.activeElement);if(n!==-1)switch(i.key){case"ArrowUp":i.preventDefault();const x=(n+e.length-1)%e.length;(y=p[x].current)==null||y.focus();break;case"ArrowDown":i.preventDefault();const v=(n+1)%e.length;(g=p[v].current)==null||g.focus();break;case"Home":i.preventDefault(),(A=p[0].current)==null||A.focus();break;case"End":i.preventDefault(),(W=p[e.length-1].current)==null||W.focus();break}};return a.jsx(Y,{style:[ee.wrapper,$],onKeyDown:B,...C,ref:c,children:e.map((i,n)=>{const{caretPosition:y,cornerKind:g,onToggle:A,animated:W}=i.props,x=S.createRef();p[n]=x;const P=n===0,v=n===e.length-1;return a.jsx("li",{id:r,children:S.cloneElement(i,{animated:W??h,caretPosition:y??o,cornerKind:g??l,expanded:w[n],onToggle:()=>E(n,A),isFirstSection:P,isLastSection:v,isRegion:T,ref:x})},n)})})});const ee=N.StyleSheet.create({wrapper:{boxSizing:"border-box",listStyle:"none",padding:0,width:"100%"}});function te(m,u,c,e){switch(m){case"rounded-per-section":return{roundedTop:!0,roundedBottom:!e};case"rounded":return{roundedTop:u,roundedBottom:c&&!e};default:return{roundedTop:!1,roundedBottom:!1}}}const ne=S.forwardRef(function(u,c){const{id:e,header:r,caretPosition:s,cornerKind:f,collapsible:o=!0,expanded:l,animated:h,onClick:$,sectionContentUniqueId:C,headerStyle:_,tag:w="h2",testId:R,isFirstSection:p,isLastSection:T}=u,E=typeof r=="string",{roundedTop:B,roundedBottom:i}=te(f,p,T,l);return a.jsx(G,{tag:w,style:d.heading,children:a.jsx(Q,{id:e,"aria-expanded":l,"aria-controls":C,onClick:$,disabled:!o,testId:R?`${R}-header`:void 0,style:[d.headerWrapper,h&&d.headerWrapperWithAnimation,s==="start"&&d.headerWrapperCaretStart,B&&d.roundedTop,i&&d.roundedBottom,_,!o&&d.disabled],ref:c,children:()=>a.jsxs(a.Fragment,{children:[a.jsx(k,{style:[d.headerContent,E&&d.headerString],children:E?a.jsx(k,{style:[s==="end"?d.headerStringCaretEnd:d.headerStringCaretStart],children:r}):r}),o&&a.jsx(X,{icon:J,color:I.icon.primary,size:"small",style:[h&&d.iconWithAnimation,s==="start"?d.iconStart:d.iconEnd,l&&d.iconExpanded],testId:R?`${R}-caret-icon`:void 0})]})})})}),q=t.small_12-1,K="300ms",d=N.StyleSheet.create({heading:{minWidth:0,marginTop:0},headerWrapper:{display:"flex",flexDirection:"row",alignItems:"center",overflow:"hidden",minWidth:"auto",width:"100%",position:"relative",zIndex:1,":active":{outline:`2px solid ${I.action.secondary.progressive.press.border}`},":hover":{outline:`2px solid ${I.action.secondary.progressive.hover.border}`},":focus-visible":{outline:`2px solid ${I.focus.outer}`}},headerWrapperWithAnimation:{transition:`border-radius ${K}`},headerWrapperCaretStart:{flexDirection:"row-reverse"},roundedTop:{borderStartStartRadius:q,borderStartEndRadius:q},roundedBottom:{borderEndStartRadius:q,borderEndEndRadius:q},headerContent:{flexGrow:1,textAlign:"start"},headerString:{paddingTop:t.medium_16,paddingBottom:t.medium_16},headerStringCaretEnd:{paddingInlineEnd:t.small_12,paddingInlineStart:t.medium_16},headerStringCaretStart:{paddingInlineEnd:t.medium_16,paddingInlineStart:t.small_12},iconWithAnimation:{transition:`transform ${K}`},iconExpanded:{transform:"rotate(180deg)"},iconStart:{marginInlineStart:t.medium_16},iconEnd:{marginInlineEnd:t.medium_16},disabled:{pointerEvents:"none",color:"inherit",":focus-visible":{outline:`2px solid ${I.focus.outer}`}}}),re=S.forwardRef(function(u,c){const{children:e,id:r,header:s,collapsible:f,expanded:o,animated:l=!1,onToggle:h,caretPosition:$="end",cornerKind:C="rounded",style:_,headerStyle:w,tag:R,testId:p,isFirstSection:T=!0,isLastSection:E=!0,isRegion:B=!0,...i}=u,[n,y]=S.useState(o??!1),g=o!==void 0&&h,A=S.useId(),W=r??A,x=S.useId(),P=r?`${r}-header`:x,v=S.useId(),H=oe(C,T,E),L=()=>{g?h(!o):(y(!n),h&&h(!n))};let j;return f===!1?j=!0:j=g?o:n,a.jsxs(k,{id:W,style:[b.wrapper,l&&b.wrapperWithAnimation,H.wrapper,j?b.wrapperExpanded:b.wrapperCollapsed,_],testId:p,...i,children:[a.jsx(ne,{id:P,header:s,caretPosition:$,cornerKind:C,collapsible:f,expanded:j,animated:l,onClick:L,sectionContentUniqueId:v,headerStyle:w,tag:R,testId:p,isFirstSection:T,isLastSection:E,ref:c}),a.jsx(k,{id:v,role:B?"region":void 0,"aria-labelledby":P,style:[b.contentWrapper,j?b.contentWrapperExpanded:b.conentWrapperCollapsed,H.contentWrapper],testId:p?`${p}-content-panel`:void 0,children:typeof e=="string"?a.jsx(M,{style:b.stringContent,children:e}):e})]})}),b=N.StyleSheet.create({wrapper:{display:"grid",position:"static",boxSizing:"border-box",backgroundColor:I.surface.primary},wrapperWithAnimation:{transition:"grid-template-rows 300ms"},wrapperCollapsed:{gridTemplateRows:"min-content 0fr"},wrapperExpanded:{gridTemplateRows:"min-content 1fr"},contentWrapper:{overflow:"hidden"},conentWrapperCollapsed:{visibility:"hidden"},contentWrapperExpanded:{visibility:"visible"},stringContent:{padding:t.medium_16}}),D={},oe=(m,u,c)=>{const e=`${m}-${u.toString()}-${c.toString()}`;if(D[e])return D[e];let r=Object.freeze({}),s=Object.freeze({}),f=Object.freeze({}),o=Object.freeze({});const l=`1px solid ${I.border.primary}`;m==="square"&&(r={border:l,borderBottom:"none",borderRadius:z.radius.radius_0},c&&(o={borderBottom:l})),m==="rounded"&&(r={border:l,borderBottom:"none"},u&&(f={borderStartStartRadius:t.small_12,borderStartEndRadius:t.small_12}),c&&(o={borderBottom:l,borderEndStartRadius:t.small_12,borderEndEndRadius:t.small_12},s={borderEndEndRadius:t.small_12,borderEndStartRadius:t.small_12})),m==="rounded-per-section"&&(r={border:l,borderRadius:z.radius.radius_120,marginBottom:t.medium_16},s={borderEndEndRadius:t.small_12,borderEndStartRadius:t.small_12});const h={wrapper:{...r,...f,...o},contentWrapper:s};return D[e]=N.StyleSheet.create(h),D[e]},ae=m=>{const{animated:u,children:c,header:e,expanded:r,containerStyle:s,panelStyle:f,onToggle:o}=m;return a.jsx(F,{className:"perseus-editor-accordion",children:a.jsx(re,{animated:u,expanded:r,onToggle:o,style:[O.container,s],headerStyle:O.accordionHeader,header:e,children:a.jsx(F,{style:[O.accordionPanel,f],children:c})})})},O=N.StyleSheet.create({container:{backgroundColor:V.fadedBlue8,marginTop:t.xSmall_8},accordionHeader:{padding:t.small_12,paddingInlineEnd:0,height:t.xxLarge_48},accordionPanel:{paddingTop:t.xxSmall_6,paddingBottom:t.xxxSmall_4,paddingLeft:t.small_12,paddingRight:t.small_12}});ae.__docgenInfo={description:"",methods:[],displayName:"PerseusEditorAccordion",props:{animated:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | React.ReactNode[]",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"}]},description:""},header:{required:!0,tsType:{name:"union",raw:"string | React.ReactElement",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},containerStyle:{required:!1,tsType:{name:"StyleType"},description:""},panelStyle:{required:!1,tsType:{name:"StyleType"},description:""},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:""}}};const ge=""+new URL("trash-bold-CtqTW1Dq.svg",import.meta.url).href;export{ae as P,ge as t};
