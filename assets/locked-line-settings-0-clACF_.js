import{a as u,j as o,F as q}from"./jsx-runtime-FVsy8kgq.js";import"./util-XcxTwqb0.js";import{e as Z}from"./svg-image-VUqtnnD6.js";import{B as G}from"./choice-E4eyMygy.js";import{V as L}from"./index-6h5t6F0w.js";import{S as H,O as S}from"./answer-choices-5nvZvzYC.js";import{S as h}from"./index-qUyqkRvh.js";import{s as g,c as k}from"./index-deFLJwr4.js";import{L as J,a as x}from"./index-h_CiYGGb.js";import{p as Q}from"./plus-circle-JCxQSzSv.js";import{l as X}from"./index-awljIyHI.js";import{v as f}from"./index-IIMKO4_x.js";import{P as Y,L as ee}from"./locked-figure-settings-actions-TC57zwzl.js";import{C as oe}from"./color-select-SbxlyK5m.js";import{L as ne}from"./line-stroke-select-1s6PdVOX.js";import{L as te}from"./line-swatch-64aYtSJE.js";import{L as R,a as re}from"./locked-point-settings-IltP5CDV.js";import{L as ae}from"./locked-label-settings-HgSqA--Z.js";import{g as ie}from"./util-u9mqoHuq.js";const C="The line cannot have length 0.",B=b=>{var z,_;const{flags:l,kind:y,points:m,color:w,lineStyle:T="solid",showPoint1:I,showPoint2:M,labels:n,ariaLabel:V,onChangeProps:a,onMove:j,onRemove:O}=b,[s,d]=m,$=y.charAt(0).toUpperCase()+y.slice(1),U=`${$} (${s.coord[0]},
        ${s.coord[1]}), (${d.coord[0]}, ${d.coord[1]})`,P=Z(s.coord,d.coord);function D(){let e=`${$} from (${s.coord[0]}, ${s.coord[1]}) to (${d.coord[0]}, ${d.coord[1]})`;return n&&n.length>0&&(e+=" with label",n.length>1&&(e+="s"),e+=` ${n.map(t=>t.text).join(", ")}`),e}function F(e,t){const r=[...m];r[t]={...m[t],...e};const p=f.midpoint(m[0].coord,m[1].coord),c=f.midpoint(r[0].coord,r[1].coord),A=[c[0]-p[0],c[1]-p[1]],W=n==null?void 0:n.map((v,le)=>({...v,coord:[v.coord[0]+A[0],v.coord[1]+A[1]]}));a({points:r,labels:W})}function E(e){var r,p;const t=n==null?void 0:n.map(c=>({...c,color:e}));a({color:e,points:[{...s,color:e,labels:(r=s.labels)==null?void 0:r.map(c=>({...c,color:e}))},{...d,color:e,labels:(p=d.labels)==null?void 0:p.map(c=>({...c,color:e}))}],labels:t})}function K(e,t){if(!n)return;const r=[...n];r[t]={...n[t],...e},a({labels:r})}function N(e){if(!n)return;const t=n.filter((r,p)=>p!==e);a({labels:t})}return u(Y,{expanded:b.expanded,onToggle:b.onToggle,header:u(L,{style:i.row,children:[o(J,{children:U}),o(h,{size:g.xSmall_8}),o(te,{color:w,lineStyle:T})]}),children:[u(x,{tag:"label",style:[i.row,i.spaceUnder],children:["kind",o(h,{size:g.xxxSmall_4}),u(H,{selectedValue:y,onChange:e=>a({kind:e}),placeholder:"",children:[o(S,{value:"line",label:"line"}),o(S,{value:"ray",label:"ray"}),o(S,{value:"segment",label:"segment"})]})]}),u(L,{style:i.row,children:[o(oe,{selectedValue:w,onChange:E}),o(h,{size:g.small_12}),o(ne,{selectedValue:T,onChange:e=>a({lineStyle:e})})]}),P&&o(x,{style:i.errorText,children:C}),o(R,{flags:l,headerLabel:"Point 1",expanded:!0,showPoint:I,error:P?C:null,...s,onTogglePoint:e=>a({showPoint1:e}),onChangeProps:e=>F(e,0)}),o(R,{flags:l,headerLabel:"Point 2",expanded:!0,showPoint:M,error:P?C:null,...d,onTogglePoint:e=>a({showPoint2:e}),onChangeProps:e=>F(e,1)}),((z=l==null?void 0:l.mafs)==null?void 0:z["locked-figures-aria"])&&u(q,{children:[o(h,{size:g.small_12}),o(L,{style:i.horizontalRule}),o(re,{ariaLabel:V,prePopulatedAriaLabel:D(),onChangeProps:e=>{a(e)}})]}),((_=l==null?void 0:l.mafs)==null?void 0:_["locked-line-labels"])&&u(q,{children:[o(h,{size:g.xxxSmall_4}),o(L,{style:i.horizontalRule}),o(h,{size:g.small_12}),o(x,{children:"Visible labels"}),n==null?void 0:n.map((e,t)=>o(ae,{...e,expanded:!0,onChangeProps:r=>{K(r,t)},onRemove:()=>{N(t)},containerStyle:i.labelContainer})),o(G,{kind:"tertiary",startIcon:Q,onClick:()=>{const e=[0,-1],t=f.add(f.scale(e,(n==null?void 0:n.length)??0),f.midpoint(m[0].coord,m[1].coord)),r={...ie("label"),coord:t,color:w};a({labels:[...n??[],r]})},style:i.addButton,children:"Add visible label"})]}),o(ee,{figureType:b.type,onMove:j,onRemove:O})]})},i=X.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:g.xSmall_8},errorText:{color:k.red},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:k.offBlack16},labelContainer:{backgroundColor:k.white}}),Te=B;B.__docgenInfo={description:"",methods:[],displayName:"LockedLineSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFigure>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedFigure"}],raw:"Partial<LockedFigure>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{Te as L};
