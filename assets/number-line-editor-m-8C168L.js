import{a as l,j as i}from"./jsx-runtime-FVsy8kgq.js";import{i as k}from"./util-XcxTwqb0.js";import"./article-renderer-CmTTDxky.js";import{_ as C}from"./jquery-yG1GhClm.js";import"./phet-simulation-fZpYIOCA.js";import"./version-akiLXZts.js";import"./dependencies-8XILypbq.js";import"./perseus-api-mOiZT07d.js";import"./multi-renderer-koixMmyr.js";import"./hints-renderer-bG4V0gxA.js";import"./renderer-HBee2ciR.js";import"./base-radio--qhjGj0P.js";import{c as w}from"./components-0kNWnYe6.js";import"./index-k-0mNqHS.js";import"./i18n-context-hxuRe8oU.js";import"./svg-image-Rjw-_QTV.js";import"./index-IIMKO4_x.js";import{E as R}from"./editor-jsonify-5wHDiRYO.js";import{C as m}from"./index-QCAhLhLD.js";import{P as a}from"./index-0C4KXdeC.js";import{r as S}from"./index-TT1qJ6UJ.js";const{ButtonGroup:q,InfoTip:p,NumberInput:r,RangeInput:T}=w,N=(b,e,n)=>Math.min(Math.max(b,e),n),V="–",c=class c extends S.Component{constructor(){super(...arguments),this.onRangeChange=e=>{this.props.onChange({range:e})},this.onLabelRangeChange=(e,n)=>{let s=this.props.labelRange.slice();const o=s[1-e];n==null||o==null?s[e]=n:s=[Math.min(n,o),Math.max(n,o)],this.props.onChange({labelRange:s})},this.onDivisionRangeChange=e=>{let n=this.props.numDivisions;n=N(n,e[0],e[1]),this.props.onChange({divisionRange:e,numDivisions:n})},this.onNumChange=(e,n)=>{const s={};s[e]=n,this.props.onChange(s)},this.onNumDivisionsChange=e=>{const n=this.props.divisionRange.slice();e=C.isFinite(e)?Math.round(e):0,e=e<0?e*-1:e,e&&(e=Math.min(n[1],Math.max(n[0],e)),this.props.onChange({tickStep:null,divisionRange:n,numDivisions:e}))},this.onTickStepChange=e=>{this.props.onChange({numDivisions:null,tickStep:e})},this.onChangeRelation=e=>{const n=e.target.value;this.props.onChange({correctRel:n,isInequality:n!=="eq"})},this.onLabelStyleChange=e=>{this.props.onChange({labelStyle:e})},this.serialize=()=>R.serialize.call(this)}render(){const e=this.props.range,n=this.props.labelRange,s=this.props.divisionRange;e[0]=+e[0],e[1]=+e[1];const o=e[1]-e[0],y=this.props.numDivisions,u=this.props.snapDivisions,g=this.props.tickStep,d=this.props.isTickCtrl;let h;d?h=null:h=g?g/u:o/y/u;const v=[{value:"decimal",content:"0.75",title:"Decimals"},{value:"improper",content:"⁷⁄₄",title:"Improper fractions"},{value:"mixed",content:"1¾",title:"Mixed numbers"},{value:"non-reduced",content:"⁸⁄₄",title:"Non-reduced"}];return l("div",{className:"perseus-widget-number-line-editor",children:[l("div",{className:"perseus-widget-row",children:["Correct x"," ",l("select",{value:this.props.correctRel,onChange:this.onChangeRelation,"aria-label":"Select relationship",children:[i("option",{value:"eq","aria-label":"Equal",children:"="}),i("option",{value:"lt","aria-label":"Less than",children:"<"}),i("option",{value:"gt","aria-label":"Greater than",children:">"}),i("option",{value:"le","aria-label":"Less than or equal",children:"≤"}),i("option",{value:"ge","aria-label":"Greater than or equal",children:"≥"})]})," ",i(r,{value:this.props.correctX,format:this.props.labelStyle,onChange:this.onNumChange.bind(this,"correctX"),checkValidity:t=>t>=e[0]&&t<=e[1]&&(!h||k((t-e[0])/h)),placeholder:"answer",size:"normal",useArrowKeys:!0}),i(p,{children:i("p",{children:"This is the correct answer. The answer is validated (as right or wrong) by using only the end position of the point and the relation (=, <, >, ≤, ≥)."})})]}),l("div",{className:"perseus-widget-row",children:[this.props.static?i("label",{children:"Range:"}):l("label",{children:["Position:"," ",i(r,{value:this.props.initialX,format:this.props.labelStyle,onChange:this.onNumChange.bind(this,"initialX"),placeholder:e[0],checkValidity:t=>t>=e[0]&&t<=e[1],useArrowKeys:!0})," ∈ "]}),i(T,{value:e,onChange:this.onRangeChange,format:this.props.labelStyle,useArrowKeys:!0}),l(p,{children:[l("p",{children:["This controls the initial position of the point along the number line and the",i("strong",{children:"range"}),", the position of the endpoints of the number line. Setting the range constrains the position of the answer and the labels."]}),i("p",{children:"In static mode, the initial position of the point is determined by Correct x instead of position."})]})]}),i("div",{className:"perseus-widget-row",children:l("div",{className:"perseus-widget-left-col",children:["Labels:"," ",i(r,{value:n[0],placeholder:e[0],format:this.props.labelStyle,checkValidity:t=>t>=e[0]&&t<=e[1],onChange:this.onLabelRangeChange.bind(this,0),useArrowKeys:!0}),i("span",{children:" & "}),i(r,{value:n[1],placeholder:e[1],format:this.props.labelStyle,checkValidity:t=>t>=e[0]&&t<=e[1],onChange:this.onLabelRangeChange.bind(this,1),useArrowKeys:!0}),i(p,{children:l("p",{children:["This controls the position of the left / right labels. By default, the labels are set by the range ",i("br",{}),i("strong",{children:"Note:"})," Ensure that the labels line up with the tick marks, or it may be confusing for users."]})})]})}),l("div",{className:"perseus-widget-row",children:["Style:"," ",i(q,{allowEmpty:!1,value:this.props.labelStyle,buttons:v,onChange:this.onLabelStyleChange}),i(p,{children:i("p",{children:"This controls the styling of the labels for the two main labels as well as all the tick mark labels, if applicable. Your choices are decimal, improper fractions, mixed fractions, and non-reduced fractions."})})]}),l("div",{className:"perseus-widget-row",children:[!this.props.static&&i("div",{className:"perseus-widget-left-col",children:i(m,{label:"Show tick controller",checked:this.props.isTickCtrl,onChange:t=>{this.props.onChange({isTickCtrl:t})}})}),i("div",{className:"perseus-widget-right-col",children:i(m,{label:"Show label ticks",checked:this.props.labelTicks,onChange:t=>{this.props.onChange({labelTicks:t})}})})]}),i("div",{className:"perseus-widget-row",children:!this.props.static&&i(m,{label:"Show tooltips",checked:this.props.showTooltips,onChange:t=>{this.props.onChange({showTooltips:t})}})}),l("div",{className:"perseus-widget-row",children:[d&&l("span",{children:[l("label",{children:["Start num divisions at"," ",i(r,{value:this.props.numDivisions||null,format:"decimal",onChange:this.onNumDivisionsChange,checkValidity:t=>t>=s[0]&&t<=s[1],placeholder:o/this.props.tickStep,useArrowKeys:!0})]}),i(p,{children:l("p",{children:["This controls the number (and position) of the tick marks. The number of divisions is constrained to"," "+s[0]+V+s[1],".",i("br",{}),i("strong",{children:"Note:"})," The user will be able to specify the number of divisions in a number input."]})})]}),!d&&l("span",{children:[l("label",{children:["Num divisions:"," ",i(r,{value:this.props.numDivisions||null,format:"decimal",onChange:this.onNumDivisionsChange,checkValidity:t=>t>=s[0]&&t<=s[1],placeholder:o/this.props.tickStep,useArrowKeys:!0})]})," ",l("label",{children:["or tick step:"," ",i(r,{value:this.props.tickStep||null,format:this.props.labelStyle,onChange:this.onTickStepChange,checkValidity:t=>t>0&&t<=o,placeholder:o/this.props.numDivisions,useArrowKeys:!0})]}),i(p,{children:l("p",{children:["This controls the number (and position) of the tick marks; you can either set the number of divisions (2 divisions would split the entire range in two halves), or the tick step (the distance between ticks) and the other value will be updated accordingly."," ",i("br",{}),i("strong",{children:"Note:"})," There is no check to see if labels coordinate with the tick marks, which may be confusing for users if the blue labels and black ticks are off-step."]})})]})]}),l("div",{className:"perseus-widget-row",children:[l("label",{children:["Snap increments per tick:"," ",i(r,{value:u,checkValidity:t=>t>0,format:this.props.labelStyle,onChange:this.onNumChange.bind(this,"snapDivisions"),useArrowKeys:!0})]}),i(p,{children:l("p",{children:["This determines the number of different places the point will snap between two adjacent tick marks."," ",i("br",{}),i("strong",{children:"Note:"}),"Ensure the required number of snap increments is provided to answer the question."]})})]})]})}};c.propTypes={range:a.arrayOf(a.number).isRequired,labelRange:a.arrayOf(a.number).isRequired,labelStyle:a.string.isRequired,labelTicks:a.bool,divisionRange:a.arrayOf(a.number).isRequired,numDivisions:a.number.isRequired,snapDivisions:a.number,tickStep:a.number,correctRel:a.oneOf(["lt","gt","le","ge","eq"]),correctX:a.number,initialX:a.number,isTickCtrl:a.bool,onChange:a.func.isRequired,static:a.bool,showTooltips:a.bool},c.widgetName="number-line",c.defaultProps={range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1};let f=c;f.__docgenInfo={description:"",methods:[{name:"onRangeChange",docblock:null,modifiers:[],params:[{name:"range",optional:!1,type:null}],returns:null},{name:"onLabelRangeChange",docblock:null,modifiers:[],params:[{name:"i",optional:!1,type:null},{name:"num",optional:!1,type:null}],returns:null},{name:"onDivisionRangeChange",docblock:null,modifiers:[],params:[{name:"divisionRange",optional:!1,type:null}],returns:null},{name:"onNumChange",docblock:null,modifiers:[],params:[{name:"key",optional:!1,type:null},{name:"value",optional:!1,type:null}],returns:null},{name:"onNumDivisionsChange",docblock:null,modifiers:[],params:[{name:"numDivisions",optional:!1,type:null}],returns:null},{name:"onTickStepChange",docblock:null,modifiers:[],params:[{name:"tickStep",optional:!1,type:null}],returns:null},{name:"onChangeRelation",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"onLabelStyleChange",docblock:null,modifiers:[],params:[{name:"labelStyle",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"NumberLineEditor",props:{range:{defaultValue:{value:"[0, 10]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},labelRange:{defaultValue:{value:"[null, null]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},labelStyle:{defaultValue:{value:'"decimal"',computed:!1},description:"",type:{name:"string"},required:!1},labelTicks:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},divisionRange:{defaultValue:{value:"[1, 12]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},numDivisions:{defaultValue:{value:"5",computed:!1},description:"",type:{name:"number"},required:!1},snapDivisions:{defaultValue:{value:"2",computed:!1},description:"",type:{name:"number"},required:!1},tickStep:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},correctRel:{defaultValue:{value:'"eq"',computed:!1},description:"",type:{name:"enum",value:[{value:'"lt"',computed:!1},{value:'"gt"',computed:!1},{value:'"le"',computed:!1},{value:'"ge"',computed:!1},{value:'"eq"',computed:!1}]},required:!1},correctX:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},initialX:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},showTooltips:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isTickCtrl:{description:"",type:{name:"bool"},required:!1},onChange:{description:"",type:{name:"func"},required:!0},static:{description:"",type:{name:"bool"},required:!1}}};export{f as N};
