import{r as s,a as w}from"./index-6oxdNXpR.js";import{l as y}from"./index-awljIyHI.js";function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l.apply(null,arguments)}function b(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function _(t){const e=[];if(t)if(Array.isArray(t))for(const r of t)e.push(..._(r));else e.push(t);else return e;return e}function E(t){const e=[],r=[];if(!t)return{style:{},className:""};const n=typeof global<"u"&&global.SNAPSHOT_INLINE_APHRODITE;_(t).forEach(a=>{const i=a._definition;if(i!=null)if(n){const d={};for(const[h,u]of Object.entries(i))d[h.replace(/-[a-z]/g,m=>m[1].toUpperCase())]=u;r.push(d)}else e.push(a);else r.push(a)});const o=Object.assign({},...r);if(r.length>0&&!n){const a=y.StyleSheet.create({inlineStyles:o});e.push(a.inlineStyles)}return{style:n?o:{},className:y.css(...e)}}const x=["children","style","tag","testId"],C=/^h[1-6]$/,I=y.StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}}),U=s.forwardRef(function(e,r){let{children:n,style:o,tag:a="span",testId:i}=e,d=b(e,x);const h=C.test(a),u=E([I.text,h&&I.header,o]),m=d.className?[d.className,u.className].join(" "):u.className;return s.createElement(a,l({},d,{style:u.style,className:m,"data-testid":i,ref:r}),n)}),N=["className","style"];function p(t,e){return s.forwardRef((r,n)=>{const o=r,{className:a,style:i}=o,d=b(o,N),h=typeof t=="string"?F[t]:null,{className:u,style:m}=E([h,e,i]);return s.createElement(t,l({},d,{ref:n,className:[u,a].filter(Boolean).join(" "),style:m}))})}const F=y.StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),O=["testId","tag"],S=y.StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),P=p("div",S.default),T=p("article",S.default),$=p("aside",S.default),D=p("nav",S.default),A=p("section",S.default),M=s.forwardRef(function(e,r){const{testId:n,tag:o="div"}=e,a=b(e,O),i=l({},a,{"data-testid":n});switch(o){case"article":return s.createElement(T,l({},i,{ref:r}));case"aside":return s.createElement($,l({},i,{ref:r}));case"nav":return s.createElement(D,l({},i,{ref:r}));case"section":return s.createElement(A,l({},i,{ref:r}));case"div":return s.createElement(P,l({},i,{ref:r}));default:throw Error(`${o} is not an allowed value for the 'tag' prop`)}});(function(t){return t.Initial="initial",t.Standard="standard",t})({});let c=function(t){return t.Root="root",t.Initial="initial",t.Standard="standard",t}({});const f=s.createContext(c.Root);f.displayName="RenderStateContext";class j extends s.Component{constructor(...e){super(...e),this.state={mounted:!1},this._isTheRootComponent=!1}componentDidMount(){this._isTheRootComponent&&this.setState({mounted:!0})}_renderAsRootComponent(){const{mounted:e}=this.state,{children:r,fallback:n}=this.props;return this._isTheRootComponent=!0,e?s.createElement(f.Provider,{value:c.Standard},r()):n?s.createElement(f.Provider,{value:c.Initial},n()):null}_maybeRender(e){const{children:r,fallback:n}=this.props;switch(e){case c.Root:return this._renderAsRootComponent();case c.Initial:return n?n():null;case c.Standard:return r()}{var o;return console.log(`We got a render state we don't understand: "${(o=JSON.stringify(e))!=null?o:""}"`),this._maybeRender(c.Root)}}render(){return s.createElement(f.Consumer,null,e=>this._maybeRender(e))}}class g{constructor(e){this._uniqueFactoryName=void 0,this.get=n=>{const o=n.toLowerCase();if(!this._hasValidIdChars(n))throw new Error(`Invalid identifier key: ${n}`);return`${this._uniqueFactoryName}-${o}`},e=typeof e=="string"?e:"";const r=e.toLowerCase();if(!this._hasValidIdChars(r))throw new Error(`Invalid factory scope: ${e}`);this._uniqueFactoryName=`uid-${r}-${g._factoryUniquenessCounter++}`}_hasValidIdChars(e){return typeof e=="string"?!/\s/.test(e):!1}}g._factoryUniquenessCounter=0;class R{get(e){return e}}R.Default=new R;var k=R.Default;class q extends s.Component{constructor(...e){super(...e),this._idFactory=void 0}_performRender(e){const{children:r,mockOnFirstRender:n,scope:o}=this.props;return e?n?r(k):null:(this._idFactory||(this._idFactory=new g(o)),r(this._idFactory))}render(){return s.createElement(j,{fallback:()=>this._performRender(!0)},()=>this._performRender(!1))}}class v extends s.Component{renderChildren(e){const{id:r,children:n}=this.props,o=e?e.get(v.defaultId):r;if(!o)throw new Error("Did not get an identifier factory nor a id prop");return n(o)}render(){const{id:e,scope:r}=this.props;return e?this.renderChildren():s.createElement(q,{scope:r,mockOnFirstRender:!0},n=>this.renderChildren(n))}}v.defaultId="wb-id";const B=({id:t,children:e})=>{const r=s.useId();return s.createElement(s.Fragment,null,e(t??r))};function K(t){const e=s.useRef(t);return e.current=t,e}const G=t=>{s.useEffect(t,[])},{useEffect:z,useState:L,useContext:V}=w,J=({children:t,throwIfNested:e=!0})=>{const[r,n]=L(!0),o=V(f);if(z(()=>{n(!1)},[]),o!==c.Root){if(e)throw new Error("There's already a <RenderStateRoot> above this instance in the render tree.  This instance should be removed.");return s.createElement(s.Fragment,null,t)}const a=r?c.Initial:c.Standard;return s.createElement(f.Provider,{value:a},t)};export{B as I,J as R,U as T,M as V,p as a,j as b,K as c,G as u};
