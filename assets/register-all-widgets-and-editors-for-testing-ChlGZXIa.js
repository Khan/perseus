import{r as e}from"./index-C6mWTJJr.js";import{_ as s}from"./underscore-U-AHniOr.js";import{o as xe,q as Ie,r as Oe,t as Se,c as o,p as u,G as ze,M as Ve,T as Ae,w as Pe}from"./all-widgets-tRlJWtrE.js";import"./phet-simulation-CRP1AVh1.js";import{D as Le,E as We,F as Re,G as De,H as Me,J as _e,K as $e,L as Be,M as Ke,N as Ue,O as He,Q as Fe,R as je,S as Ge,T as Je}from"./core-widget-registry-2tCIH_GM.js";import{L as Ne}from"./svg-image-DAYn0iDa.js";import{A as oe}from"./perseus-api-DmwU2RjF.js";import"./server-item-renderer-BYboQbOk.js";import"./article-renderer-BDBMlFVD.js";import"./hints-renderer-D7pIA0Cj.js";import{j as Ze,k as Qe,r as Xe,b as Ye,a as et,c as tt}from"./renderer-Dk-W13T9.js";import"./base-radio-_o7Aud29.js";import"./button-group-q129tbVV.js";import"./hud--52rQRjV.js";import"./icon-90vA-eeT.js";import"./index-CfM4f3_8.js";import"./inline-icon-olZqfQoG.js";import"./math-input-CYtrbsT8.js";import"./multi-button-group-CGE8ZIlq.js";import"./number-input-CDxfqmZD.js";import"./range-input-pvBjtf5m.js";import"./text-input-wa-toQ9v.js";import"./text-list-editor-Rb8EP659.js";import{g as at}from"./dependencies-BsVPGK1s.js";import"./i18n-context-glBZFVwC.js";import{f as rt,U as nt}from"./util-Cjm22Ttl.js";import{$ as st}from"./jquery-CkHB0_Mt.js";import"./index-Dd-cahjY.js";import{C as lt}from"./categorizer-editor-BBMURgyz.js";import{E as it}from"./perseus-error-UcbLzupY.js";import{c as d}from"./components-B7LnuaJz.js";import{E as m}from"./editor-jsonify-Ce5yzgxx.js";import{C as b}from"./index-DaA-XyhK.js";import{P as n}from"./index-CrGd2QqM.js";import{B as g}from"./blur-input-D5X8L8Bp.js";import{D as ot}from"./definition-editor-rOdZjD2-.js";import{D as ut}from"./dropdown-editor-Z874fA9Q.js";import{E as pt}from"./explanation-editor-B_8swkwH.js";import{E as ct}from"./expression-editor-DPF0x08x.js";import{i as mt}from"./icon-paths-C3bPmxpL.js";import{n as D}from"./no-important-DlFk8a1I.js";import{E as f}from"./editor-CQO2CBtg.js";import{i as dt}from"./icon-paths-Cfjy_uoj.js";import{G as ht}from"./graph-settings-DaPsMgSh.js";import{I as gt}from"./image-editor-8wdM1MMk.js";import{I as ft}from"./input-number-editor-BaF5leuQ.js";import{I as yt}from"./interaction-editor-WkUWB-BH.js";import{I as bt}from"./interactive-graph-editor-CVcxO33-.js";import{L as vt}from"./label-image-editor-ygrrSvTS.js";import{M as Et}from"./matcher-editor-Dn-X_oir.js";import{N as wt}from"./number-line-editor-Dfai9VMv.js";import{N as Ct}from"./numeric-input-editor-DKEh9qac.js";import{P as qt}from"./phet-simulation-editor-D2tjb2Gr.js";import{P as Tt}from"./plotter-editor-DoArZpXW.js";import{P as kt}from"./python-program-editor-DLxOMLcJ.js";import{R as Nt}from"./editor-C8tutCuL.js";import{S as xt}from"./sorter-editor-DYBY2RB4.js";const It={chooseType:xe,defaultPlotProps:Ie,getEquationString:Oe,typeToButton:Se},ue=class ue extends e.Component{constructor(t){super(t),this.state=this.getInitialState(),this.handleBlur=this.handleBlur.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}getInitialState(){return{currentValue:JSON.stringify(this.props.value,null,4),valid:!0}}UNSAFE_componentWillReceiveProps(t){(!this.state.valid||!s.isEqual(t.value,JSON.parse(this.state.currentValue?this.state.currentValue:"")))&&this.setState(this.getInitialState())}handleKeyDown(t){if(t.key==="Tab"){const a=t.target.selectionStart,r=t.target.value,l=r.substring(0,a),p=r.substring(a,r.length);t.target.value=l+"    "+p,t.target.selectionStart=l.length+4,t.target.selectionEnd=l.length+4,t.preventDefault(),this.handleChange(t)}}handleChange(t){const a=t.target.value;try{let r=JSON.parse(a);s.isString(r)&&(r=JSON.parse(r)),this.setState({currentValue:a,valid:!0},function(){this.props.onChange(r)})}catch{this.setState({currentValue:a,valid:!1})}}handleBlur(t){const a=t.target.value;try{let r=JSON.parse(a);s.isString(r)&&(r=JSON.parse(r)),this.setState({currentValue:JSON.stringify(r,null,4),valid:!0},function(){this.props.onChange(r)})}catch{this.setState({currentValue:JSON.stringify(this.props.value,null,4),valid:!0})}}render(){const t="perseus-json-editor "+(this.state.valid?"valid":"invalid");return e.createElement("textarea",{className:t,value:this.state.currentValue,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur})}};ue.defaultProps={value:{}};let re=ue;re.__docgenInfo={description:"",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleBlur",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null}],props:{multiLine:{required:!0,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"any"},description:"",defaultValue:{value:"{}",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newJson: any) => void",signature:{arguments:[{type:{name:"any"},name:"newJson"}],return:{name:"void"}}},description:""}}};let he=0;const ne={},se={};window.iframeDataStore={};window.addEventListener("message",i=>{if(typeof i.data=="string"){const t=ne[i.data];t&&t()}else i.data.id&&(i.data.height!==void 0?se[i.data.id](i.data.height):i.data.lintWarnings&&Ne.log("LINTER REPORT",{lintWarnings:JSON.stringify(i.data.lintWarnings)}))});class Ot extends e.Component{constructor(){super(...arguments),this.container=e.createRef()}componentDidMount(){this._isMounted=!0,this.iframeID=he,he++,this._prepareFrame(),ne[this.iframeID]=()=>{this.sendNewData(this._lastData)},se[this.iframeID]=t=>{this._lastHeight=t,this._isMounted&&this.props.seamless&&this.container.current&&(this.container.current.style.height=t+"px")}}shouldComponentUpdate(t){return t.datasetValue!==this.props.datasetValue||t.seamless!==this.props.seamless}componentDidUpdate(t){this.container.current&&(this.props.seamless?this.container.current.style.height=this._lastHeight+"px":this.container.current.style.height="100%"),t.datasetValue!==this.props.datasetValue&&this._prepareFrame()}componentWillUnmount(){ne[this.iframeID]=null,se[this.iframeID]=null,this._isMounted=!1}_prepareFrame(){var a,r;this._frame&&((a=this.container.current)==null||a.removeChild(this._frame));const t=document.createElement("iframe");t.style.width="100%",t.style.height="100%",t.src=this.props.url,this.props.datasetKey&&(t.dataset[this.props.datasetKey]=this.props.datasetValue),t.dataset.id=String(this.iframeID),this.props.seamless&&(t.dataset.lintGutter="true"),(r=this.container.current)==null||r.appendChild(t),this._frame=t}sendNewData(t){const a=this._frame;this._isMounted&&t&&(a!=null&&a.contentWindow)&&(this._lastData=t,window.iframeDataStore[this.iframeID]=t,a.contentWindow.postMessage(this.iframeID,"*"))}render(){return e.createElement("div",{ref:this.container,style:{width:"100%",height:"100%"}})}}Ot.__docgenInfo={description:"",methods:[{name:"_prepareFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"sendNewData",docblock:null,modifiers:[],params:[{name:"data",optional:!1,type:{name:"any"}}],returns:null}],displayName:"IframeContentRenderer",props:{url:{required:!0,tsType:{name:"string"},description:""},datasetKey:{required:!0,tsType:{name:"string"},description:""},datasetValue:{required:!0,tsType:{name:"any"},description:""},seamless:{required:!0,tsType:{name:"boolean"},description:""}}};const{InfoTip:ge}=d,St=400,zt=400;var E;let Vt=(E=class extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.serialize=()=>m.serialize.call(this)}render(){return e.createElement("fieldset",{className:"pair-editor"},e.createElement("label",null,"Name:"," ",e.createElement(g,{value:this.props.name,onChange:this.change("name")})),e.createElement("label",null," ","Value:"," ",e.createElement(g,{value:this.props.value,onChange:this.change("value")})))}},E.propTypes={...u,name:n.string,value:n.string},E.defaultProps={name:"",value:""},E);var L;let At=(L=class extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.handlePairChange=(t,a)=>{const r=this.props.pairs.slice();r[t]=a;const l=r[r.length-1];l.name&&l.value&&r.push({name:"",value:""}),this.change("pairs",r)},this.serialize=()=>m.serialize.call(this)}render(){const t=s.map(this.props.pairs,(a,r)=>e.createElement(Vt,{key:r,name:a.name,value:a.value,onChange:this.handlePairChange.bind(this,r)}));return e.createElement("div",null,t)}},L.propTypes={...u,pairs:n.arrayOf(n.shape({name:n.string,value:n.string})).isRequired},L);const Pt=/khanacademy\.org\/computer-programming\/[^\/]+\/(\d+)/;function Lt(i){const t=Pt.exec(i);return t&&(i=t[1]),i}const w=class w extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this._handleSettingsChange=t=>{this.change({settings:t.pairs})},this._handleProgramIDChange=t=>{t=Lt(t);const{isDevServer:a,InitialRequestUrl:r}=at(),p=`${a?r.origin:"https://www.khanacademy.org"}/api/internal/scratchpads/${t}`;st.getJSON(p).done(h=>{const c=h.userAuthoredContentType;this.change({width:h.width,height:h.height,programID:t,programType:c})}).fail((h,c,y)=>{Ne.error("Error retrieving scratchpad info for program ID ",it.TransientService,{cause:y,loggedMetadata:{textStatus:c,programID:t}}),this.change({width:St,height:zt,programID:t,programType:null})})},this.serialize=()=>m.serialize.call(this)}render(){return e.createElement("div",null,e.createElement("label",null,"Url or Program ID:"," ",e.createElement(g,{value:this.props.programID,onChange:this._handleProgramIDChange})),e.createElement("br",null),e.createElement(b,{label:"Show Editor",checked:this.props.showEditor,onChange:t=>{this.props.onChange({showEditor:t})}}),e.createElement(ge,null,'If you show the editor, you should use the "full-width" alignment to make room for the width of the editor.'),e.createElement("br",null),e.createElement(b,{label:"Show Buttons",checked:this.props.showButtons,onChange:t=>{this.props.onChange({showButtons:t})}}),e.createElement("br",null),e.createElement("label",null,"Settings:",e.createElement(At,{name:"settings",pairs:this.props.settings,onChange:this._handleSettingsChange}),e.createElement(ge,null,"Settings that you add here are available to the program as an object returned by ",e.createElement("code",null,"Program.settings()"))))}};w.propTypes={...u},w.widgetName="cs-program",w.defaultProps=Le.defaultWidgetOptions;let M=w;M.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"_handleSettingsChange",docblock:null,modifiers:[],params:[{name:"settings",optional:!1,type:null}],returns:null},{name:"_handleProgramIDChange",docblock:null,modifiers:[],params:[{name:"programID",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CSProgramEditor",props:{programID:{defaultValue:{value:'""',computed:!1},required:!1},programType:{defaultValue:{value:"null",computed:!1},required:!1},settings:{defaultValue:{value:'[{name: "", value: ""}]',computed:!1},required:!1},showEditor:{defaultValue:{value:"false",computed:!1},required:!1},showButtons:{defaultValue:{value:"false",computed:!1},required:!1},height:{defaultValue:{value:"400",computed:!1},required:!1}},composes:["@khanacademy/perseus"]};const pe=class pe extends e.Component{serialize(){return m.serialize.call(this)}render(){return e.createElement("div",null,e.createElement("p",null,"This widget has been deprecated and removed"),e.createElement("p",null,"Learners will see a message and they will not be graded on this part. Please replace this widget with a supported one."))}};pe.widgetName="deprecated-standin";let _=pe;_.__docgenInfo={description:"",methods:[{name:"serialize",docblock:null,modifiers:[],params:[],returns:{type:{name:"any"}}}],displayName:"DeprecatedStandinEditor",props:{onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(options: any) => void",signature:{arguments:[{type:{name:"any"},name:"options"}],return:{name:"void"}}},description:""}}};const{InlineIcon:fe,TextInput:Wt}=d,C=class C extends e.Component{constructor(){super(...arguments),this.editor=e.createRef(),this.hintEditor=e.createRef(),this.change=(...t)=>o.apply(this,t),this.handleAddHint=()=>{const t={content:""};this.props.onChange({hint:t},()=>{var a;(a=this.hintEditor.current)==null||a.focus()})},this.handleRemoveHint=t=>{this.props.onChange({hint:null})},this.getSaveWarnings=()=>{var t;return(t=this.editor.current)==null?void 0:t.getSaveWarnings()},this.serialize=()=>{var t,a;return{title:this.props.title,...(t=this.editor.current)==null?void 0:t.serialize(),hint:(a=this.hintEditor.current)==null?void 0:a.serialize()}}}render(){return e.createElement("div",{className:"perseus-group-editor"},e.createElement("div",{className:"perseus-widget-row"},e.createElement("label",{className:D.css(ae.title)},"Title:"," ",e.createElement(Wt,{value:this.props.title,className:D.css(ae.input),onChange:this.change("title")}))),e.createElement(f,{ref:this.editor,content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange,warnNoPrompt:!0,warnNoWidgets:!0}),!this.props.hint&&e.createElement("button",{type:"button",style:{marginTop:10},className:"add-hint simple-button orange",onClick:this.handleAddHint},e.createElement(fe,{...dt})," Add a hint"),this.props.hint&&e.createElement("div",{className:"perseus-hint-editor"},e.createElement("div",{className:D.css(ae.hintsTitle)},"Hint"),e.createElement(f,{ref:this.hintEditor,content:this.props.hint?this.props.hint.content:"",widgets:this.props.hint?this.props.hint.widgets:{},apiOptions:this.props.apiOptions,images:this.props.hint&&this.props.hint.images,widgetEnabled:!0,immutableWidgets:!1,onChange:t=>{this.change("hint",Object.assign({},this.props.hint,t))}}),e.createElement("button",{type:"button",className:"remove-hint simple-button orange",onClick:this.handleRemoveHint},e.createElement(fe,{...mt})," Remove this hint")))}};C.propTypes={...u,title:n.string,content:n.string,widgets:n.object,images:n.object,apiOptions:oe.propTypes},C.widgetName="graded-group",C.defaultProps=We.defaultWidgetOptions;let v=C;const ae=D.StyleSheet.create({title:{fontSize:18,fontWeight:"bold"},input:{fontSize:18},hintsTitle:{marginTop:10,fontSize:"110%",fontWeight:"bold"}});v.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleAddHint",docblock:null,modifiers:[],params:[],returns:null},{name:"handleRemoveHint",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GradedGroupEditor",props:{title:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},widgets:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},images:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},hint:{defaultValue:{value:"null",computed:!1},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0}},composes:["@khanacademy/perseus"]};const q=class q extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.getSaveWarnings=()=>[].concat(...this._editors.map(t=>t?t.getSaveWarnings():[])),this.serialize=()=>({gradedGroups:this.props.gradedGroups}),this.renderGroups=()=>this.props.gradedGroups?this.props.gradedGroups.map((t,a)=>e.createElement(v,{key:a,ref:r=>this._editors[a]=r,...t,apiOptions:this.props.apiOptions,widgetEnabled:!0,immutableWidgets:!1,onChange:r=>this.change("gradedGroups",Rt(this.props.gradedGroups,a,{...this.props.gradedGroups[a],...r}))})):null,this.addGroup=()=>{const t=this.props.gradedGroups||[];this.change("gradedGroups",t.concat([v.defaultProps]))}}UNSAFE_componentWillMount(){this._editors=[]}render(){return e.createElement("div",{className:"perseus-group-editor"},this.renderGroups(),e.createElement("button",{onClick:this.addGroup},"Add group"))}};q.propTypes={...u,apiOptions:oe.propTypes,gradedGroups:n.array,onChange:n.func.isRequired},q.widgetName="graded-group-set",q.defaultProps=Re.defaultWidgetOptions;let $=q;const Rt=(i,t,a)=>[...i.slice(0,t),a,...i.slice(t+1)];$.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null},{name:"renderGroups",docblock:null,modifiers:[],params:[],returns:null},{name:"addGroup",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GradedGroupSetEditor",props:{gradedGroups:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0},onChange:{description:"",type:{name:"func"},required:!0}},composes:["@khanacademy/perseus"]};const{InfoTip:Dt,MultiButtonGroup:Mt}=d,_t=ze.widget,{chooseType:$t,defaultPlotProps:Bt,getEquationString:Kt,typeToButton:Ut}=It,T=class T extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.handleAvailableTypesChange=t=>{let a=this.props.correct;if(!s.contains(t,this.props.correct.type)){const r=this.props.graph,l=$t(t);a=Bt(l,r)}this.props.onChange({availableTypes:t,correct:a})},this.serialize=()=>s.chain(this.props).pick("correct","availableTypes").extend({graph:s.omit(this.props.graph,"box")}).value()}render(){const t=Ze.SMALL;let a,r;if(this.props.graph.valid===!0){const l={graph:this.props.graph,plot:this.props.correct,availableTypes:this.props.availableTypes,onChange:(p,h)=>{var y;let c=this.props.correct;c.type===((y=p.plot)==null?void 0:y.type)?c=s.extend({},c,p.plot):c=p.plot,this.props.onChange({correct:c},h)},trackInteraction:function(){}};r=e.createElement(_t,{...l,apiOptions:this.props.apiOptions,containerSizeClass:t}),a=Kt(l)}else r=e.createElement("div",{className:"perseus-error"},this.props.graph.valid);return e.createElement("div",null,e.createElement("div",null,"Correct answer"," ",e.createElement(Dt,null,e.createElement("p",null,"Graph the correct answer in the graph below and ensure the equation or point coordinates displayed represent the correct answer."))," ",": ",a),e.createElement(ht,{editableSettings:["graph","snap","image"],box:Qe(t),range:this.props.graph.range,labels:this.props.graph.labels,step:this.props.graph.step,gridStep:this.props.graph.gridStep,snapStep:this.props.graph.snapStep,valid:this.props.graph.valid,backgroundImage:this.props.graph.backgroundImage,markings:this.props.graph.markings,rulerLabel:this.props.graph.rulerLabel,rulerTicks:this.props.graph.rulerTicks,showTooltips:this.props.graph.showTooltips,onChange:this.change("graph")}),e.createElement("div",{className:"perseus-widget-row"},e.createElement("label",null,"Available functions: "),e.createElement(Mt,{allowEmpty:!1,values:this.props.availableTypes,buttons:s.map(Me,Ut),onChange:this.handleAvailableTypesChange})),r)}};T.propTypes={...u},T.widgetName="grapher",T.defaultProps=De.defaultWidgetOptions;let B=T;B.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleAvailableTypesChange",docblock:null,modifiers:[],params:[{name:"newAvailableTypes",optional:!1,type:{name:"Array",elements:[{name:"any"}],raw:"Array<any>",alias:"Array"}}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GrapherEditor",props:{graph:{defaultValue:{value:`{
    labels: ["x", "y"],
    range: [
        [-10, 10],
        [-10, 10],
    ],
    step: [1, 1],
    backgroundImage: {
        url: null,
    },
    markings: "graph",
    rulerLabel: "",
    rulerTicks: 10,
    valid: true,
    showTooltips: false,
}`,computed:!1},required:!1},correct:{defaultValue:{value:`{
    type: "linear",
    coords: null,
}`,computed:!1},required:!1},availableTypes:{defaultValue:{value:'["linear"]',computed:!1},required:!1}},composes:["@khanacademy/perseus"]};const k=class k extends e.Component{constructor(){super(...arguments),this.editor=e.createRef(),this.change=(...t)=>o.apply(this,t),this.getSaveWarnings=()=>{var t;return(t=this.editor.current)==null?void 0:t.getSaveWarnings()},this.serialize=()=>{var t;return s.extend({},(t=this.editor.current)==null?void 0:t.serialize())}}render(){return e.createElement("div",{className:"perseus-group-editor"},e.createElement(f,{ref:this.editor,content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange}))}};k.propTypes={...u,content:n.string,widgets:n.object,images:n.object,apiOptions:oe.propTypes},k.widgetName="group",k.defaultProps=_e.defaultWidgetOptions;let K=k;K.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GroupEditor",props:{content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},widgets:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},images:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0}},composes:["@khanacademy/perseus"]};const ee=class ee extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.serialize=()=>m.serialize.call(this)}render(){return e.createElement("fieldset",null,e.createElement("label",null,"Name:",e.createElement(g,{value:this.props.name,onChange:this.change("name")})),e.createElement("label",null,"Value:",e.createElement(g,{value:this.props.value,onChange:this.change("value")})))}};ee.propTypes={...u,name:n.string,value:n.string},ee.defaultProps={name:"",value:""};let le=ee;const ce=class ce extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.handlePairChange=(t,a)=>{const r=this.props.pairs.slice();r[t]=a;const l=r[r.length-1];l.name&&l.value&&r.push({name:"",value:""}),this.change("pairs",r)},this.serialize=()=>m.serialize.call(this)}render(){const t=s.map(this.props.pairs,(a,r)=>e.createElement(le,{key:r,name:a.name,value:a.value,onChange:this.handlePairChange.bind(this,r)}));return e.createElement("div",null,t)}};ce.propTypes={...u,pairs:n.arrayOf(n.shape({name:n.string,value:n.string})).isRequired};let ie=ce;const N=class N extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.handleSettingsChange=t=>{this.change({settings:t.pairs})},this.serialize=()=>m.serialize.call(this)}render(){return e.createElement("div",null,e.createElement("div",{style:{fontWeight:"bold",textAlign:"center"}},"This widget is deprecated! ",e.createElement("br",null),"Try using the Video or CS Program widgets instead."),e.createElement("label",null,"Url or Program ID:",e.createElement(g,{value:this.props.url,onChange:this.change("url")})),e.createElement("br",null),e.createElement("label",null,"Settings:",e.createElement(ie,{name:"settings",pairs:this.props.settings,onChange:this.handleSettingsChange})),e.createElement("br",null),e.createElement("label",null,"Width:",e.createElement(g,{value:this.props.width,onChange:this.change("width")})),e.createElement("label",null,"Height:",e.createElement(g,{value:this.props.height,onChange:this.change("height")})),e.createElement(b,{label:"Allow full screen",checked:this.props.allowFullScreen,onChange:t=>{this.props.onChange({allowFullScreen:t})}}),e.createElement("br",null),e.createElement(b,{label:"Allow iframe content to redirect the page",checked:this.props.allowTopNavigation,onChange:t=>{this.props.onChange({allowTopNavigation:t})}}))}};N.propTypes={...u},N.widgetName="iframe",N.defaultProps=$e.defaultWidgetOptions;let U=N;U.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleSettingsChange",docblock:null,modifiers:[],params:[{name:"settings",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"IframeEditor",props:{url:{defaultValue:{value:'""',computed:!1},required:!1},settings:{defaultValue:{value:'[{name: "", value: ""}]',computed:!1},required:!1},width:{defaultValue:{value:'"400"',computed:!1},required:!1},height:{defaultValue:{value:'"400"',computed:!1},required:!1},allowFullScreen:{defaultValue:{value:"false",computed:!1},required:!1},allowTopNavigation:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["@khanacademy/perseus"]};const{RangeInput:Ht}=d,Ft=Ve.widget,ye=6,x=class x extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.onMatrixBoardSizeChange=t=>{const a=rt(this.props.answers);if(t[0]!==null&&t[1]!==null){t=[Math.round(Math.min(Math.max(t[0],1),ye)),Math.round(Math.min(Math.max(t[1],1),ye))];const r=s(Math.min(t[0],a[0])).times(l=>s(Math.min(t[1],a[1])).times(p=>this.props.answers[l][p]));this.props.onChange({matrixBoardSize:t,answers:r})}},this.serialize=()=>m.serialize.call(this)}render(){const t=s.extend({numericInput:!0,onBlur:()=>{},onFocus:()=>{},trackInteraction:()=>{}},this.props);return e.createElement("div",{className:"perseus-matrix-editor"},e.createElement("div",{className:"perseus-widget-row"}," ","Max matrix size:"," ",e.createElement(Ht,{value:this.props.matrixBoardSize,onChange:this.onMatrixBoardSizeChange,format:this.props.labelStyle,useArrowKeys:!0})),e.createElement("div",{className:"perseus-widget-row"},e.createElement(Ft,{...t})),e.createElement("div",{className:"perseus-widget-row"}," ","Matrix prefix:"," ",e.createElement(f,{ref:"prefix",apiOptions:this.props.apiOptions,content:this.props.prefix,widgetEnabled:!1,onChange:a=>{this.change({prefix:a.content})}})),e.createElement("div",{className:"perseus-widget-row"}," ","Matrix suffix:"," ",e.createElement(f,{ref:"suffix",apiOptions:this.props.apiOptions,content:this.props.suffix,widgetEnabled:!1,onChange:a=>{this.change({suffix:a.content})}})))}};x.propTypes={...u,matrixBoardSize:n.arrayOf(n.number).isRequired,answers:n.arrayOf(n.arrayOf(n.number)),prefix:n.string,suffix:n.string,cursorPosition:n.arrayOf(n.number)},x.widgetName="matrix",x.defaultProps=Be.defaultWidgetOptions;let H=x;H.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"onMatrixBoardSizeChange",docblock:null,modifiers:[],params:[{name:"range",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MatrixEditor",props:{matrixBoardSize:{defaultValue:{value:"[3, 3]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},answers:{defaultValue:{value:"[[]]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"arrayOf",value:{name:"number"}}},required:!1},prefix:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},suffix:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},cursorPosition:{defaultValue:{value:"[0, 0]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:jt,NumberInput:W,RangeInput:Gt}=d,Jt={url:null,top:0,left:0},I=class I extends e.Component{constructor(){super(...arguments),this.className="perseus-widget-measurer",this.change=(...t)=>o.apply(this,t),this._changeUrl=t=>{this._changeImage("url",t.target.value)},this._changeTop=t=>{this._changeImage("top",t)},this._changeLeft=t=>{this._changeImage("left",t)},this._changeImage=(t,a)=>{const r=s.clone(this.props.image);r[t]=a,this.change("image",r)},this.renderLabelChoices=t=>s.map(t,function(a){const[r,l]=a;return e.createElement("option",{key:l,value:l},r)}),this.serialize=()=>m.serialize.call(this)}render(){const t=s.extend({},Jt,this.props.image);return e.createElement("div",{className:"perseus-widget-measurer"},e.createElement("div",null,"Image displayed under protractor and/or ruler:"),e.createElement("div",null,"URL:"," ",e.createElement("input",{type:"text",className:"perseus-widget-measurer-url",ref:"image-url",defaultValue:t.url,onChange:this._changeUrl}),e.createElement(jt,null,e.createElement("p",null,'Create an image in graphie, or use the "Add image" function to create a background.'))),t.url&&e.createElement("div",{className:"perseus-widget-row"},e.createElement("label",{className:"perseus-widget-left-col"},"Pixels from top:"," ",e.createElement(W,{placeholder:0,onChange:this._changeTop,value:t.top,useArrowKeys:!0})),e.createElement("label",{className:"perseus-widget-right-col"},"Pixels from left:"," ",e.createElement(W,{placeholder:0,onChange:this._changeLeft,value:t.left,useArrowKeys:!0}))),e.createElement("div",null,"Containing area [width, height]:"," ",e.createElement(Gt,{onChange:this.change("box"),value:this.props.box,useArrowKeys:!0})),e.createElement("div",{className:"perseus-widget-row"},e.createElement("div",{className:"perseus-widget-left-col"},e.createElement(b,{label:"Show ruler",checked:this.props.showRuler,onChange:a=>{this.props.onChange({showRuler:a})}})),e.createElement("div",{className:"perseus-widget-right-col"},e.createElement(b,{label:"Show protractor",checked:this.props.showProtractor,onChange:a=>{this.props.onChange({showProtractor:a})}}))),this.props.showRuler&&e.createElement("div",null,e.createElement("div",null,e.createElement("label",null," ","Ruler label:"," ",e.createElement("select",{onChange:a=>this.change("rulerLabel",a.target.value),value:this.props.rulerLabel},e.createElement("option",{value:""},"None"),e.createElement("optgroup",{label:"Metric"},this.renderLabelChoices([["milimeters","mm"],["centimeters","cm"],["meters","m"],["kilometers","km"]])),e.createElement("optgroup",{label:"Imperial"},this.renderLabelChoices([["inches","in"],["feet","ft"],["yards","yd"],["miles","mi"]]))))),e.createElement("div",null,e.createElement("label",null," ","Ruler ticks:"," ",e.createElement("select",{onChange:a=>this.change("rulerTicks",+a.target.value),value:this.props.rulerTicks},s.map([1,2,4,8,10,16],function(a){return e.createElement("option",{key:a,value:a},a)})))),e.createElement("div",null,e.createElement("label",null,"Ruler pixels per unit:"," ",e.createElement(W,{placeholder:40,onChange:this.change("rulerPixels"),value:this.props.rulerPixels,useArrowKeys:!0}))),e.createElement("div",null,e.createElement("label",null,"Ruler length in units:"," ",e.createElement(W,{placeholder:10,onChange:this.change("rulerLength"),value:this.props.rulerLength,useArrowKeys:!0})))))}};I.widgetName="measurer",I.propTypes={...u,box:n.arrayOf(n.number),image:n.shape({url:n.string,top:n.number,left:n.number}),showProtractor:n.bool,showRuler:n.bool,rulerLabel:n.string,rulerTicks:n.number,rulerPixels:n.number,rulerLength:n.number},I.defaultProps=Ke.defaultWidgetOptions;let F=I;F.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"_changeUrl",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"_changeTop",docblock:null,modifiers:[],params:[{name:"newTop",optional:!1,type:null}],returns:null},{name:"_changeLeft",docblock:null,modifiers:[],params:[{name:"newLeft",optional:!1,type:null}],returns:null},{name:"_changeImage",docblock:null,modifiers:[],params:[{name:"subProp",optional:!1,type:null},{name:"newValue",optional:!1,type:null}],returns:null},{name:"renderLabelChoices",docblock:null,modifiers:[],params:[{name:"choices",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MeasurerEditor",props:{box:{defaultValue:{value:"[480, 480]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},image:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{url:{name:"string",required:!1},top:{name:"number",required:!1},left:{name:"number",required:!1}}},required:!1},showProtractor:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},showRuler:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},rulerLabel:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},rulerTicks:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},rulerPixels:{defaultValue:{value:"40",computed:!1},description:"",type:{name:"number"},required:!1},rulerLength:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1}},composes:["@khanacademy/perseus"]};const{NumberInput:Zt,TextInput:Qt}=d,te=class te extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.updateMolecule=t=>{this.change({smiles:t})},this.updateRotation=t=>{this.change({rotationAngle:t})},this.serialize=()=>m.serialize.call(this)}render(){return e.createElement("div",null,e.createElement("div",null,e.createElement("label",null,"SMILES: ",e.createElement(Qt,{onChange:this.updateMolecule,value:this.props.smiles}))),e.createElement("div",null,e.createElement("label",null,"Rotation (deg): ",e.createElement(Zt,{onChange:this.updateRotation,value:this.props.rotationAngle}))))}};te.propTypes={...u,rotationAngle:n.number,smiles:n.string},te.widgetName="molecule-renderer";let j=te;j.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"updateMolecule",docblock:null,modifiers:[],params:[{name:"newValue",optional:!1,type:null}],returns:null},{name:"updateRotation",docblock:null,modifiers:[],params:[{name:"newValue",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MoleculeWidgetEditor",props:{rotationAngle:{description:"",type:{name:"number"},required:!1},smiles:{description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:R,TextListEditor:be}=d,ve="normal",Ee="auto",we="horizontal",Ce="vertical",O=class O extends e.Component{constructor(){super(...arguments),this.onOptionsChange=(t,a,r)=>{const l={};l[t]=s.map(a,function(p){return{content:p}}),this.props.onChange(l,r)},this.onLayoutChange=t=>{this.props.onChange({layout:t.target.value})},this.onHeightChange=t=>{this.props.onChange({height:t.target.value})},this.serialize=()=>({options:s.chain(s.pluck(this.props.correctOptions,"content")).union(s.pluck(this.props.otherOptions,"content")).uniq().reject(function(a){return a===""}).sort().sortBy(function(a){return/\d/.test(a)?0:/^\$?[a-zA-Z]+\$?$/.test(a)?2:1}).map(function(a){return{content:a}}).value(),correctOptions:this.props.correctOptions,otherOptions:this.props.otherOptions,height:this.props.height,layout:this.props.layout})}render(){return e.createElement("div",{className:"perseus-widget-orderer"},e.createElement("div",null," ","Correct answer:"," ",e.createElement(R,null,e.createElement("p",null,"Place the cards in the correct order. The same card can be used more than once in the answer but will only be displayed once at the top of a stack of identical cards."))),e.createElement(be,{options:s.pluck(this.props.correctOptions,"content"),onChange:this.onOptionsChange.bind(this,"correctOptions"),layout:this.props.layout}),e.createElement("div",null," ","Other cards:"," ",e.createElement(R,null,e.createElement("p",null,"Create cards that are not part of the answer."))),e.createElement(be,{options:s.pluck(this.props.otherOptions,"content"),onChange:this.onOptionsChange.bind(this,"otherOptions"),layout:this.props.layout}),e.createElement("div",null,e.createElement("label",null," ","Layout:"," ",e.createElement("select",{value:this.props.layout,onChange:this.onLayoutChange},e.createElement("option",{value:we},"Horizontal"),e.createElement("option",{value:Ce},"Vertical"))),e.createElement(R,null,e.createElement("p",null,"Use the horizontal layout for short text and small images. The vertical layout is best for longer text (e.g. proofs)."))),e.createElement("div",null,e.createElement("label",null," ","Height:"," ",e.createElement("select",{value:this.props.height,onChange:this.onHeightChange},e.createElement("option",{value:ve},"Normal"),e.createElement("option",{value:Ee},"Automatic"))),e.createElement(R,null,e.createElement("p",null,'Use "Normal" for text, "Automatic" for images.'))))}};O.propTypes={correctOptions:n.array,otherOptions:n.array,height:n.oneOf([ve,Ee]),layout:n.oneOf([we,Ce]),onChange:n.func.isRequired},O.widgetName="orderer",O.defaultProps=Ue.defaultWidgetOptions;let G=O;G.__docgenInfo={description:"",methods:[{name:"onOptionsChange",docblock:null,modifiers:[],params:[{name:"whichOptions",optional:!1,type:null},{name:"options",optional:!1,type:null},{name:"cb",optional:!1,type:null}],returns:null},{name:"onLayoutChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"onHeightChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"OrdererEditor",props:{correctOptions:{defaultValue:{value:'[{content: "$x$"}]',computed:!1},description:"",type:{name:"array"},required:!1},otherOptions:{defaultValue:{value:'[{content: "$y$"}]',computed:!1},description:"",type:{name:"array"},required:!1},height:{defaultValue:{value:'"normal"',computed:!1},description:"",type:{name:"enum",value:[{value:'"normal"',computed:!1},{value:'"auto"',computed:!1}]},required:!1},layout:{defaultValue:{value:'"horizontal"',computed:!1},description:"",type:{name:"enum",value:[{value:'"horizontal"',computed:!1},{value:'"vertical"',computed:!1}]},required:!1},onChange:{description:"",type:{name:"func"},required:!0}}};const{InfoTip:qe}=d,S=class S extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.serialize=()=>m.serialize.call(this)}render(){const t=e.createElement(f,{ref:"passage-editor",apiOptions:this.props.apiOptions,content:this.props.passageText,widgetEnabled:!1,placeholder:"Type passage here...",onChange:r=>{this.change({passageText:r.content})},showWordCount:!0}),a=e.createElement(f,{ref:"passage-footnotes-editor",apiOptions:this.props.apiOptions,content:this.props.footnotes,widgetEnabled:!1,placeholder:"Type footnotes here...",onChange:r=>{this.change({footnotes:r.content})}});return e.createElement("div",{className:"perseus-widget-passage-editor"},e.createElement("div",{className:"perseus-widget-row"},e.createElement(b,{label:"Show line numbers",checked:this.props.showLineNumbers,onChange:r=>{this.props.onChange({showLineNumbers:r})}})),e.createElement("div",null,"Passage title:",e.createElement(qe,null,e.createElement("p",null,"An optional title that will appear directly above the passage in the same font style. (E.g. Passage 1)")),e.createElement("div",null,e.createElement("input",{type:"text",defaultValue:this.props.passageTitle,onChange:r=>{this.change({passageTitle:r.target.value})}}))),e.createElement("div",null,"Passage Text:",t),e.createElement("div",null,"Footnotes:",e.createElement(qe,null,e.createElement("p",null,"To add footnotes, add ^ characters where they belong in the passage. Then, add ^ in the footnotes area to reference the footnotes in the passage.")),a))}};S.propTypes={...u,passageTitle:n.string,passageText:n.string,footnotes:n.string,showLineNumbers:n.bool},S.widgetName="passage",S.defaultProps=He.defaultWidgetOptions;let J=S;J.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageEditor",props:{passageTitle:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},passageText:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},footnotes:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},showLineNumbers:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:Xt,NumberInput:Te,TextInput:Yt}=d,z=class z extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.serialize=()=>m.serialize.call(this)}render(){return e.createElement("div",null,e.createElement("div",null,e.createElement("label",null,"Passage Number: ",e.createElement(Te,{value:this.props.passageNumber,onChange:this.change("passageNumber")}))),e.createElement("div",null,e.createElement("label",null,"Reference Number: ",e.createElement(Te,{value:this.props.referenceNumber,onChange:this.change("referenceNumber")}))),e.createElement("div",null,e.createElement("label",null,"Summary Text: ",e.createElement(Yt,{value:this.props.summaryText,onChange:this.change("summaryText")}),e.createElement(Xt,null,e.createElement("p",null,"Short summary of the referenced section. This will be included in parentheses and quotes automatically."),e.createElement("p",null,"Ex: The start ... the end")))))}};z.propTypes={...u,passageNumber:n.number,referenceNumber:n.number,summaryText:n.string},z.widgetName="passage-ref",z.defaultProps=Fe.defaultWidgetOptions;let Z=z;Z.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageRefEditor",props:{passageNumber:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},referenceNumber:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},summaryText:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};const V=class V extends e.Component{constructor(){super(...arguments),this.change=(...t)=>o.apply(this,t),this.handleContentChange=t=>{this.change({content:t.target.value})},this.serialize=()=>m.serialize.call(this)}render(){return e.createElement("div",null,"Content:",e.createElement("input",{type:"text",value:this.props.content,onChange:this.handleContentChange}))}};V.propTypes={...u,content:n.string},V.widgetName="passage-ref-target",V.defaultProps=je.defaultWidgetOptions;let Q=V;Q.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleContentChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageRefTargetEditor",props:{content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:ea,NumberInput:ke}=d,ta=Ae.widget,A=class A extends e.Component{constructor(){super(...arguments),this.numberOfColumns=e.createRef(),this.focus=()=>{var t;(t=this.numberOfColumns.current)==null||t.focus()},this.onSizeInput=(t,a)=>{let r=+t||0,l=+a||0;r=Math.min(Math.max(1,r),30),l=Math.min(Math.max(1,l),6);const p=this.props.columns,h=this.props.rows,c=this.props.answers;r<=h?c.length=r:s(r-h).times(function(){c.push(nt.stringArrayOfSize(p))});function y(de){l<=p?de.length=l:s(l-p).times(function(){de.push("")})}const me=this.props.headers;y(me),s.each(c,y),this.props.onChange({rows:r,columns:l,answers:c,headers:me})},this.serialize=()=>{const t=s.pick(this.props,"headers","rows","columns");return s.extend({},t,{answers:s.map(this.props.answers,s.clone)})}}render(){return e.createElement("div",null,e.createElement("div",{className:"perseus-widget-row"},e.createElement("label",null,"Number of columns:"," ",e.createElement(ke,{ref:this.numberOfColumns,value:this.props.columns,onChange:t=>{t&&this.onSizeInput(this.props.rows,t)},useArrowKeys:!0}))),e.createElement("div",{className:"perseus-widget-row"},e.createElement("label",null,"Number of rows:"," ",e.createElement(ke,{ref:"numberOfRows",value:this.props.rows,onChange:t=>{t&&this.onSizeInput(t,this.props.columns)},useArrowKeys:!0}))),e.createElement("div",null," ","Table of answers:"," ",e.createElement(ea,null,e.createElement("p",null,"The student has to fill out all cells in the table. For partially filled tables create a table using the template, and insert text input boxes as desired."))),e.createElement("div",null,e.createElement(ta,{headers:this.props.headers,answers:this.props.answers,onChange:this.props.onChange,apiOptions:this.props.apiOptions,editableHeaders:!0,onFocus:()=>{},onBlur:()=>{},trackInteraction:()=>{},Editor:f})))}};A.propTypes={rows:n.number,columns:n.number,headers:n.arrayOf(n.string),answers:n.arrayOf(n.arrayOf(n.string))},A.widgetName="table",A.defaultProps=Ge.defaultWidgetOptions;let X=A;X.__docgenInfo={description:"",methods:[{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"onSizeInput",docblock:null,modifiers:[],params:[{name:"numRawRows",optional:!1,type:null},{name:"numRawColumns",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"TableEditor",props:{headers:{defaultValue:{value:'[""]',computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},rows:{defaultValue:{value:"4",computed:!1},description:"",type:{name:"number"},required:!1},columns:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},answers:{defaultValue:{value:`new Array(defaultRows)
.fill(0)
.map(() => new Array(defaultColumns).fill(""))`,computed:!0},description:"",type:{name:"arrayOf",value:{name:"arrayOf",value:{name:"string"}}},required:!1}}};const{InfoTip:aa}=d,ra=/khanacademy\.org\/.*\/v\/(.*)$/;function na(i){const t=ra.exec(i);return t?t[1]:i}const P=class P extends e.Component{constructor(){super(...arguments),this._handleUrlChange=t=>{this.props.onChange({location:na(t)})},this.change=(...t)=>o.apply(this,t),this.serialize=()=>m.serialize.call(this)}render(){return e.createElement("div",null,e.createElement("label",null,"KA Video Slug:"," ",e.createElement(g,{value:this.props.location,style:{width:290},onChange:this._handleUrlChange}),e.createElement(aa,null,"KA video URLs will be converted to just the slug.")))}};P.propTypes={...u,location:n.string,onChange:n.func},P.widgetName="video",P.defaultProps=Je.defaultWidgetOptions;let Y=P;Y.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"_handleUrlChange",docblock:null,modifiers:[],params:[{name:"url",optional:!1,type:null}],returns:null},{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"VideoEditor",props:{location:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},onChange:{description:"",type:{name:"func"},required:!1}},composes:["@khanacademy/perseus"]};const sa=[lt,M,ot,ut,pt,ct,v,$,B,K,U,gt,ft,yt,bt,vt,Et,H,F,j,wt,Ct,G,J,Z,Q,qt,Tt,kt,xt,X,Y,Nt,_],ur=()=>{Xe(Pe),Ye(sa),et(),tt()};export{sa as A,Ot as I,re as J,ur as r};
