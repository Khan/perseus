import{j as e,a as u}from"./jsx-runtime-BGVbfQ2Z.js";import{V as c,u as I}from"./index-4c2J3ov1.js";import{a as R,b as q,S as L,O as y}from"./answer-choices-dZYesy7J.js";import{s as o,c as v}from"./index-25YgVP-A.js";import{l as T}from"./index-awljIyHI.js";import{A as B,a as M,L as P,b as H}from"./locked-point-settings-AYas6MbJ.js";import{S as x}from"./index-BrnICqZg.js";import{b as O,L as F}from"./index-Fg8WJp4t.js";import{C as U}from"./color-select-cnUPg-iV.js";import{C as j}from"./color-swatch-M7Va_UaE.js";import{g as z}from"./util-Dgb5ja5A.js";const D=a=>{const{id:p,onChange:r}=a;return e(c,{style:$.container,children:e(R,{menuText:"Add locked figure",style:$.addElementSelect,children:[e(q,{label:"Point",onClick:()=>r("point"),children:"Point"},`${p}-point`),e(q,{label:"Line",onClick:()=>r("line"),children:"Line"},`${p}-line`)]})})},$=T.StyleSheet.create({container:{marginTop:o.xSmall_8},addElementSelect:{backgroundColor:v.fadedBlue8,borderRadius:o.xxxSmall_4}});try{lockedfigureselect.displayName="lockedfigureselect",lockedfigureselect.__docgenInfo={description:"",displayName:"lockedfigureselect",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}}}catch{}const W=a=>{const{kind:p,points:r,color:m,lineStyle:f="solid",showArrows:h,showStartPoint:k,showEndPoint:i,onChangeProps:l,onRemove:d}=a,[s,g]=r,S=I(),_=S.get("line-kind-select"),A=S.get("line-color-select"),w=S.get("line-style-select"),E=`Line (${s.coord[0]}, ${s.coord[1]}),
        (${g.coord[0]}, ${g.coord[1]})`;function b(n,V){const C=[...r];C[V]={...r[V],...n},l({points:C})}function N(n){l({color:n,points:[{...s,color:n},{...g,color:n}]})}return e(c,{className:"locked-figure-accordion",children:e(B,{style:t.container,headerStyle:t.accordionHeader,header:u(c,{style:t.row,children:[e(O,{children:E}),e(x,{size:o.xSmall_8}),e(j,{color:m})]}),children:u(c,{style:t.accordionPanel,children:[u(c,{style:[t.row,t.spaceUnder],children:[e(F,{htmlFor:_,style:t.label,tag:"label",children:"kind"}),u(L,{id:_,selectedValue:p,onChange:n=>l({kind:n}),placeholder:"",children:[e(y,{value:"line",label:"line"}),e(y,{value:"segment",label:"segment"}),e(y,{value:"ray",label:"ray"})]})]}),u(c,{style:[t.row,t.spaceUnder],children:[e(U,{id:A,selectedValue:m,onChange:N}),e(x,{size:o.small_12}),u(c,{style:t.row,children:[e(F,{htmlFor:w,style:t.label,tag:"label",children:"style"}),u(L,{id:w,selectedValue:f,onChange:n=>l({lineStyle:n}),placeholder:"",style:t.selectMarginOffset,children:[e(y,{value:"solid",label:"solid"}),e(y,{value:"dashed",label:"dashed"})]})]})]}),e(M,{label:"show arrows",checked:h,onChange:n=>l({showArrows:n})}),e(P,{label:"Start point",toggled:k,...s,onToggle:n=>l({showStartPoint:n}),onChangeProps:n=>b(n,0),style:t.lockedPointSettingsContainer}),e(P,{label:"End point",toggled:i,...g,onToggle:n=>l({showEndPoint:n}),onChangeProps:n=>b(n,1),style:t.lockedPointSettingsContainer}),e(H,{onRemove:d,figureAriaLabel:`locked line defined by
                    ${s.coord[0]}, ${s.coord[1]} and
                    ${g.coord[0]}, ${g.coord[1]}.`})]})})})},t=T.StyleSheet.create({container:{backgroundColor:v.fadedBlue8,marginTop:o.xSmall_8},accordionHeader:{padding:o.small_12,paddingInlineEnd:0},accordionPanel:{paddingTop:o.xxSmall_6,paddingBottom:o.xxxSmall_4,paddingLeft:o.small_12,paddingRight:o.small_12},lockedPointSettingsContainer:{marginTop:o.xSmall_8,marginBottom:0,marginLeft:-o.xxxSmall_4,marginRight:-o.xxxSmall_4,backgroundColor:v.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:o.xSmall_8},label:{marginInlineEnd:o.xxxSmall_4},selectMarginOffset:{marginInlineEnd:-o.xxxSmall_4}});try{lockedlinesettings.displayName="lockedlinesettings",lockedlinesettings.__docgenInfo={description:"",displayName:"lockedlinesettings",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"line"'}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[startPoint: LockedPointType, endPoint: LockedPointType]"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!0,type:{name:"boolean"}},showStartPoint:{defaultValue:null,description:"",name:"showStartPoint",required:!0,type:{name:"boolean"}},showEndPoint:{defaultValue:null,description:"",name:"showEndPoint",required:!0,type:{name:"boolean"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}},onChangeProps:{defaultValue:null,description:"",name:"onChangeProps",required:!0,type:{name:"(newProps: Partial<LockedFigure>) => void"}}}}}catch{}const G=a=>{switch(a.type){case"point":return e(P,{...a});case"line":return e(W,{...a})}return null};try{lockedfiguresettings.displayName="lockedfiguresettings",lockedfiguresettings.__docgenInfo={description:"",displayName:"lockedfiguresettings",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"point"'}]}},coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"Coord"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},filled:{defaultValue:null,description:"",name:"filled",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},toggled:{defaultValue:null,description:"",name:"toggled",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void) | (() => void)"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!1,type:{name:"((newValue: any) => void)"}},onChangeProps:{defaultValue:null,description:"",name:"onChangeProps",required:!0,type:{name:"((newProps: Partial<LockedPointType>) => void) | ((newProps: Partial<LockedFigure>) => void)"}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[startPoint: LockedPointType, endPoint: LockedPointType]"}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!0,type:{name:"boolean"}},showStartPoint:{defaultValue:null,description:"",name:"showStartPoint",required:!0,type:{name:"boolean"}},showEndPoint:{defaultValue:null,description:"",name:"showEndPoint",required:!0,type:{name:"boolean"}}}}}catch{}const J=a=>{const p=I().get("locked-figures-section"),{figures:r,onChange:m}=a;function f(i){const d={lockedFigures:[...r||[],z(i)]};m(d)}function h(i){if(window.confirm("Are you sure you want to delete this figure?")){const l=r||[];m({lockedFigures:[...l.slice(0,i),...l.slice(i+1)]})}}function k(i,l){const d=r||[],s={lockedFigures:[...d.slice(0,i),{...d[i],...l},...d.slice(i+1)]};m(s)}return u(c,{children:[r==null?void 0:r.map((i,l)=>e(G,{...i,onChangeProps:d=>k(l,d),onRemove:()=>h(l)},`${p}-locked-${i}-${l}`)),e(D,{id:`${p}-select`,onChange:f})]})},re=J;try{lockedfiguressection.displayName="lockedfiguressection",lockedfiguressection.__docgenInfo={description:"",displayName:"lockedfiguressection",props:{figures:{defaultValue:null,description:"",name:"figures",required:!1,type:{name:"LockedFigure[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(props: Partial<Props>) => void"}}}}}catch{}export{re as L};
