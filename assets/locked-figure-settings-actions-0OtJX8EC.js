import{j as R,a as J}from"./jsx-runtime-5BUNAZ9W.js";import{r as i}from"./index-4g5l5LRQ.js";import{l as P}from"./index-awljIyHI.js";import{a as X,V as _,u as Y}from"./index-e4P84RkC.js";import{c as m,s as a}from"./index-lUErx3pE.js";import{H as Z,B as ee}from"./index-_gf1hE8Y.js";import{c as K}from"./answer-choices-JUEhWr15.js";import{C as te}from"./index-EhcO8HWm.js";import{P as ne}from"./index-zE8cp1oq.js";import{c as re,s as x}from"./index-P2ailQd-.js";import{B as oe}from"./index-wpanrE2d.js";import{I as F}from"./index-P81MA4En.js";import{a as ae}from"./index-wjVcXLkf.js";function q(){return q=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])}return o},q.apply(this,arguments)}function V(o,t){if(o==null)return{};var n={},e=Object.keys(o),r,d;for(d=0;d<e.length;d++)r=e[d],!(t.indexOf(r)>=0)&&(n[r]=o[r]);return n}const ie=["children","id","initialExpandedIndex","allowMultipleExpanded","caretPosition","cornerKind","animated","style"],de=X("ul"),le=6;i.forwardRef(function(t,n){const{children:e,id:r,initialExpandedIndex:d,allowMultipleExpanded:f=!0,caretPosition:s,cornerKind:h="rounded",animated:y,style:D}=t,T=V(t,ie),$=Array(e.length).fill(!1);d!==void 0&&($[d]=!0);const[k,w]=i.useState($),u=Array(e.length).fill(null),B=e.length<=le,C=(c,l)=>{const S=f?[...k]:Array(e.length).fill(!1),g=!k[c];S[c]=g,w(S),l&&l(g)},O=c=>{var l,S,g,E;const v=u.findIndex(b=>b.current===document.activeElement);if(v!==-1)switch(c.key){case"ArrowUp":c.preventDefault();const b=(v+e.length-1)%e.length;(l=u[b].current)==null||l.focus();break;case"ArrowDown":c.preventDefault();const A=(v+1)%e.length;(S=u[A].current)==null||S.focus();break;case"Home":c.preventDefault(),(g=u[0].current)==null||g.focus();break;case"End":c.preventDefault(),(E=u[e.length-1].current)==null||E.focus();break}};return i.createElement(de,q({style:[se.wrapper,D],onKeyDown:O},T,{ref:n}),e.map((c,l)=>{const{caretPosition:S,cornerKind:g,onToggle:E,animated:v}=c.props,b=i.createRef();u[l]=b;const N=l===0,A=l===e.length-1;return i.createElement("li",{key:l,id:r},i.cloneElement(c,{animated:v??y,caretPosition:S??s,cornerKind:g??h,expanded:k[l],onToggle:()=>C(l,E),isFirstSection:N,isLastSection:A,isRegion:B,ref:b}))}))});const se=P.StyleSheet.create({wrapper:{boxSizing:"border-box",listStyle:"none",padding:0,width:"100%"}});function ce(o,t,n,e){switch(o){case"rounded-per-section":return{roundedTop:!0,roundedBottom:!e};case"rounded":return{roundedTop:t,roundedBottom:n&&!e};default:return{roundedTop:!1,roundedBottom:!1}}}const pe=i.forwardRef(function(t,n){const{id:e,header:r,caretPosition:d,cornerKind:f,collapsible:s=!0,expanded:h,animated:y,onClick:D,sectionContentUniqueId:T,headerStyle:$,tag:k="h2",testId:w,isFirstSection:u,isLastSection:B}=t,C=typeof r=="string",{roundedTop:O,roundedBottom:c}=ce(f,u,B,h);return i.createElement(Z,{tag:k,style:p.heading},i.createElement(te,{id:e,"aria-expanded":h,"aria-controls":T,onClick:D,disabled:!s,testId:w?`${w}-header`:void 0,style:[p.headerWrapper,y&&p.headerWrapperWithAnimation,d==="start"&&p.headerWrapperCaretStart,O&&p.roundedTop,c&&p.roundedBottom,$,!s&&p.disabled],ref:n},()=>i.createElement(i.Fragment,null,i.createElement(_,{style:[p.headerContent,C&&p.headerString]},C?i.createElement(_,{style:[d==="end"?p.headerStringCaretEnd:p.headerStringCaretStart]},r):r),s&&i.createElement(ne,{icon:K,color:m.offBlack64,size:"small",style:[y&&p.iconWithAnimation,d==="start"?p.iconStart:p.iconEnd,h&&p.iconExpanded],testId:w?`${w}-caret-icon`:void 0}))))}),H=a.small_12-1,z="300ms",p=P.StyleSheet.create({heading:{minWidth:0,marginTop:0},headerWrapper:{display:"flex",flexDirection:"row",alignItems:"center",overflow:"hidden",minWidth:"auto",width:"100%",position:"relative",zIndex:1,":active":{outline:`2px solid ${m.activeBlue}`},":hover":{outline:`2px solid ${m.blue}`},":focus":{boxShadow:`0 0 0 2px ${m.blue}`},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":{outline:`2px solid ${m.blue}`}},headerWrapperWithAnimation:{transition:`border-radius ${z}`},headerWrapperCaretStart:{flexDirection:"row-reverse"},roundedTop:{borderStartStartRadius:H,borderStartEndRadius:H},roundedBottom:{borderEndStartRadius:H,borderEndEndRadius:H},headerContent:{flexGrow:1,textAlign:"start"},headerString:{paddingTop:a.medium_16,paddingBottom:a.medium_16},headerStringCaretEnd:{paddingInlineEnd:a.small_12,paddingInlineStart:a.medium_16},headerStringCaretStart:{paddingInlineEnd:a.medium_16,paddingInlineStart:a.small_12},iconWithAnimation:{transition:`transform ${z}`},iconExpanded:{transform:"rotate(180deg)"},iconStart:{marginInlineStart:a.medium_16},iconEnd:{marginInlineEnd:a.medium_16},disabled:{pointerEvents:"none",color:"inherit",":focus":{boxShadow:`0 0 0 2px ${m.offBlack32}`},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":{outline:`2px solid ${m.offBlack32}`}}}),ue=["children","id","header","collapsible","expanded","animated","onToggle","caretPosition","cornerKind","style","headerStyle","tag","testId","isFirstSection","isLastSection","isRegion"],me=i.forwardRef(function(t,n){const{children:e,id:r,header:d,collapsible:f,expanded:s,animated:h=!1,onToggle:y,caretPosition:D="end",cornerKind:T="rounded",style:$,headerStyle:k,tag:w,testId:u,isFirstSection:B=!0,isLastSection:C=!0,isRegion:O=!0}=t,c=V(t,ue),[l,S]=i.useState(s??!1),g=s!==void 0&&y,E=Y(),v=r??E.get("accordion-section"),b=r?`${r}-header`:E.get("accordion-section-header"),N=E.get("accordion-section-content"),A=fe(T,B,C),j=()=>{g?y(!s):(S(!l),y&&y(!l))};let W;return f===!1?W=!0:W=g?s:l,i.createElement(_,q({id:v,style:[I.wrapper,h&&I.wrapperWithAnimation,A.wrapper,W?I.wrapperExpanded:I.wrapperCollapsed,$],testId:u},c),i.createElement(pe,{id:b,header:d,caretPosition:D,cornerKind:T,collapsible:f,expanded:W,animated:h,onClick:j,sectionContentUniqueId:N,headerStyle:k,tag:w,testId:u,isFirstSection:B,isLastSection:C,ref:n}),i.createElement(_,{id:N,role:O?"region":void 0,"aria-labelledby":b,style:[I.contentWrapper,W?I.contentWrapperExpanded:I.conentWrapperCollapsed,A.contentWrapper],testId:u?`${u}-content-panel`:void 0},typeof e=="string"?i.createElement(ee,{style:I.stringContent},e):e))}),I=P.StyleSheet.create({wrapper:{display:"grid",position:"static",boxSizing:"border-box",backgroundColor:m.white},wrapperWithAnimation:{transition:"grid-template-rows 300ms"},wrapperCollapsed:{gridTemplateRows:"min-content 0fr"},wrapperExpanded:{gridTemplateRows:"min-content 1fr"},contentWrapper:{overflow:"hidden"},conentWrapperCollapsed:{visibility:"hidden"},contentWrapperExpanded:{visibility:"visible"},stringContent:{padding:a.medium_16}}),M={},fe=(o,t,n)=>{const e=`${o}-${t.toString()}-${n.toString()}`;if(M[e])return M[e];let r=Object.freeze({}),d=Object.freeze({}),f=Object.freeze({}),s=Object.freeze({});o==="square"&&(r={border:`1px solid ${m.offBlack16}`,borderBottom:"none",borderRadius:0},n&&(s={borderBottom:`1px solid ${m.offBlack16}`})),o==="rounded"&&(r={border:`1px solid ${m.offBlack16}`,borderBottom:"none"},t&&(f={borderStartStartRadius:a.small_12,borderStartEndRadius:a.small_12}),n&&(s={borderBottom:`1px solid ${m.offBlack16}`,borderEndStartRadius:a.small_12,borderEndEndRadius:a.small_12},d={borderEndEndRadius:a.small_12,borderEndStartRadius:a.small_12})),o==="rounded-per-section"&&(r={border:`1px solid ${m.offBlack16}`,borderRadius:a.small_12,marginBottom:a.medium_16},d={borderEndEndRadius:a.small_12,borderEndStartRadius:a.small_12});const h={wrapper:q({},r,f,s),contentWrapper:d};return M[e]=P.StyleSheet.create(h),M[e]},Q=o=>{const{children:t,header:n,expanded:e,containerStyle:r,panelStyle:d,onToggle:f}=o;return R(_,{className:"perseus-editor-accordion",children:R(me,{expanded:e,onToggle:f,style:[U.container,r],headerStyle:U.accordionHeader,header:n,children:R(_,{style:[U.accordionPanel,d],children:t})})})},U=P.StyleSheet.create({container:{backgroundColor:re.fadedBlue8,marginTop:x.xSmall_8},accordionHeader:{padding:x.small_12,paddingInlineEnd:0,height:x.xxLarge_48},accordionPanel:{paddingTop:x.xxSmall_6,paddingBottom:x.xxxSmall_4,paddingLeft:x.small_12,paddingRight:x.small_12}}),We=Q;Q.__docgenInfo={description:"",methods:[],displayName:"PerseusEditorAccordion",props:{children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | React.ReactNode[]",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"}]},description:""},header:{required:!0,tsType:{name:"union",raw:"string | React.ReactElement",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},containerStyle:{required:!1,tsType:{name:"StyleType"},description:""},panelStyle:{required:!1,tsType:{name:"StyleType"},description:""},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:""}}};const ge=""+new URL("caret-double-down-bold-XepWuyCn.svg",import.meta.url).href,he=""+new URL("caret-double-up-bold-10VQDgxI.svg",import.meta.url).href,Se=""+new URL("caret-up-bold-0QYBH_hJ.svg",import.meta.url).href,ye=""+new URL("trash-bold-rak1tQ6r.svg",import.meta.url).href,G=o=>{const{figureType:t,onMove:n,onRemove:e}=o;return J(_,{style:L.container,children:[R(oe,{startIcon:ye,"aria-label":`Delete locked ${t}`,onClick:e,kind:"tertiary",style:L.deleteButton,children:"Delete"}),R(ae,{}),R(F,{icon:he,size:"small","aria-label":`Move locked ${t} to the back`,onClick:()=>n("back"),style:L.iconButton}),R(F,{icon:Se,size:"small","aria-label":`Move locked ${t} backward`,onClick:()=>n("backward"),style:L.iconButton}),R(F,{icon:K,size:"small","aria-label":`Move locked ${t} forward`,onClick:()=>n("forward"),style:L.iconButton}),R(F,{icon:ge,size:"small","aria-label":`Move locked ${t} to the front`,onClick:()=>n("front"),style:L.iconButton})]})},L=P.StyleSheet.create({container:{width:"100%",flexDirection:"row",alignItems:"center",marginTop:x.xxxSmall_4},deleteButton:{marginInlineStart:-x.xxxSmall_4},iconButton:{margin:0}}),Le=G;G.__docgenInfo={description:"",methods:[],displayName:"LockedFigureSettingsActions",props:{figureType:{required:!0,tsType:{name:"LockedFigureType"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:""},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{Le as L,We as P};
