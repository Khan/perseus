import{j as x,a as j}from"./jsx-runtime-BGVbfQ2Z.js";import"./article-renderer-6JCc712P.js";import{c as $n}from"./unit-kRJG92HA.js";import{a as T,V as C,U as Fn,I as St}from"./index-eZ2N530f.js";import"./index-V35CFGao.js";import{r as i}from"./index-qhcEwEpg.js";import"./fixed-to-responsive-X0KGwmEJ.js";import"./dependencies-fnqF3NiV.js";import"./video-transcript-link-ZVuMBlt5.js";import{_ as M}from"./index-default-4_ZsnO94.js";import"./perseus-api-Ly41NhN4.js";import"./multi-renderer-pNGYjWAw.js";import"./hints-renderer-J1paCLvZ.js";import"./renderer-to1cp2kB.js";import"./base-radio-00Opxgqk.js";import{c as Mn}from"./components-DMM1C0cm.js";import{U as De}from"./util-SCSEXrYR.js";import"./jquery-5v7aFUvu.js";import{i as Ft}from"./constants-5iWyYZaE.js";import{l as S}from"./index-awljIyHI.js";import{b as Z,L as W,s as Yt,d as Bn,a as Dn}from"./index-A0DvNMpb.js";import{w as wt,L as et,c as Fe}from"./index-4JcgVDnF.js";import{f as Ct,C as F,m as K}from"./index-hYQ6Pa3_.js";import{S as h}from"./index-SM3muJE2.js";import{P as he}from"./index-K7FSCCGN.js";import{c as kt,m as Ln}from"./index-N9PTEF-9.js";import{r as z}from"./index-E09jvG0x.js";import{a as Xt,c as Zt,u as Me,T as Qt,x as Jt,b as tt}from"./index-k69q8Cna.js";import{m as Nn,V as Pn,c as en}from"./answer-choices-e0wAGdHb.js";import{w as Et}from"./index-uu39Elyn.js";import{P as zn,d as Wn}from"./Popper-2p8US95Y.js";const N={radius:{xSmall_2:2,small_3:3,medium_4:4,large_6:6,xLarge_12:12,full:"50%"},width:{none:0,hairline:1,thin:2,thick:4}};function gt(){return gt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},gt.apply(this,arguments)}const D=(r,t)=>K(Ct(r,t),F.white),l=gt({},F,{white32:Ct(F.white,.32),activeBlue:K(F.offBlack32,F.blue),fadedBlue:D(F.blue,.32),fadedBlue24:D(F.blue,.24),fadedBlue16:D(F.blue,.16),fadedBlue8:D(F.blue,.08),activeRed:K(F.offBlack32,F.red),fadedRed:D(F.red,.32),fadedRed24:D(F.red,.24),fadedRed16:D(F.red,.16),fadedRed8:D(F.red,.08),fadedGreen24:D(F.green,.24),fadedGreen16:D(F.green,.16),fadedGold24:D(F.gold,.24),fadedGold16:D(F.gold,.16),fadedPurple24:D(F.purple,.24),fadedPurple16:D(F.purple,.16),eggplant:"#5f1e5c"});function An(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}function ee(){return ee=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ee.apply(this,arguments)}const Mt=r=>{switch(r){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},Un={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},fe={enter:13,space:32},Bt={hovered:!1,focused:!1,pressed:!1,waiting:!1};let It=class extends i.Component{static getDerivedStateFromProps(t,e){return t.disabled?ee({},Bt,{focused:e.focused}):null}constructor(t){super(t),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=e=>{const{onClick:n=void 0,beforeNav:s=void 0,safeWithNav:o=void 0}=this.props;this.enterClick||((n||s||o)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({pressed:!0})},this.handleMouseUp=e=>{this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown:n,role:s}=this.props;n&&n(e);const o=e.which||e.keyCode,{triggerOnEnter:a,triggerOnSpace:d}=Mt(s);a&&o===fe.enter||d&&o===fe.space?(e.preventDefault(),this.setState({pressed:!0})):!a&&o===fe.enter&&(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp:n,role:s}=this.props;n&&n(e);const o=e.which||e.keyCode,{triggerOnEnter:a,triggerOnSpace:d}=Mt(s);a&&o===fe.enter||d&&o===fe.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):!a&&o===fe.enter&&(this.enterClick=!1)},this.handleFocus=e=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(e)})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=Bt,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(t){if(t){const{history:e,href:n,skipClientNav:s,target:o=void 0}=this.props;n&&(o==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):e&&!s?(e.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(t,e){const{skipClientNav:n,history:s}=this.props;return s&&!n||this.props.target==="_blank"?(t(),this.navigateOrReset(e),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),t().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(o=>{}).finally(()=>{this.navigateOrReset(e)}))}runCallbackAndMaybeNavigate(t){const{onClick:e=void 0,beforeNav:n=void 0,safeWithNav:s=void 0,href:o,type:a}=this.props;let d=!0,c=!0;if(e&&e(t),t.defaultPrevented&&(d=!1,c=!1),t.preventDefault(),!o&&a==="submit"&&c){let u=t.currentTarget;for(;u;){if(u instanceof window.HTMLFormElement){const p=new window.Event("submit",{bubbles:!0,cancelable:!0});u.dispatchEvent(p);break}u=u.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>s?this.handleSafeWithNav(s,d):this.navigateOrReset(d)).catch(()=>{});else{if(s)return this.handleSafeWithNav(s,d);this.navigateOrReset(d)}}render(){const t=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),e=this.props.disabled?ee({},Un,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t},{children:n}=this.props;return n&&n(this.state,e)}};It.defaultProps={disabled:!1};const tn=r=>typeof r!="string"?!1:!/^(https?:)?\/\//i.test(r)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(r),Kn=wt(It);function Hn(r,t,e){return e&&t!==!0&&r&&tn(r)?Kn:It}const Vn=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],jn=T("a"),qn=T("button"),Gn=T(et),nn=i.forwardRef(function(t,e){const n=(o,a,d)=>{const c=t.href&&!t.disabled,u=a&&!t.skipClientNav&&tn(t.href||"");return c&&u&&t.href?i.createElement(Gn,ee({},d,{to:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(o)):c&&!u?i.createElement(jn,ee({},d,{href:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(o)):i.createElement(qn,ee({},d,{type:"button","aria-disabled":t.disabled,ref:e}),t.children(o))},s=o=>{const{href:a,onClick:d,skipClientNav:c,beforeNav:u=void 0,safeWithNav:p=void 0,style:y,target:g=void 0,testId:f,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,hideDefaultFocusRing:E,light:_,disabled:$,tabIndex:re}=t,ie=An(t,Vn),ae=Hn(a,c,o),le=I=>[xe.reset,xe.link,!E&&I.focused&&(_?xe.focusedLight:xe.focused),$&&xe.disabled,y];return u?i.createElement(ae,{href:a,onClick:d,beforeNav:u,safeWithNav:p,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,disabled:$,tabIndex:re},(I,H)=>n(I,o,ee({},ie,{"data-test-id":f,style:le(I)},H))):i.createElement(ae,{href:a,onClick:d,safeWithNav:p,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,target:g,disabled:$,tabIndex:re},(I,H)=>n(I,o,ee({},ie,{"data-test-id":f,style:le(I)},H)))};return i.createElement(Fe.Consumer,null,o=>s(o))});nn.defaultProps={light:!1,disabled:!1};const xe=S.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${l.blue}`}},focusedLight:{outline:`solid 2px ${l.white}`},disabled:{color:l.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${l.blue}`}}});function bt(){return bt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},bt.apply(this,arguments)}const Dt=h.large_24,sn={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:h.medium_16,marginWidth:h.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:h.xLarge_32,marginWidth:h.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:h.xLarge_32,marginWidth:Dt,maxWidth:1120+Dt*2}},Yn={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:h.xLarge_32,marginWidth:h.medium_16}},Xn={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:h.medium_16,marginWidth:h.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:h.xLarge_32,marginWidth:h.xxLarge_48}},Zn={ssrSize:"large",mediaSpec:sn},on=i.createContext(Zn);on.displayName="MediaLayoutContext";const Le={},Qn="large";class Jn extends i.Component{constructor(t){super(t),this.cleanupThunks=void 0,this.state={size:void 0},this.cleanupThunks=[]}componentDidMount(){const t=Object.entries(this.props.mediaSpec);for(const[e,n]of t){const s=Le[n.query];if(!s)continue;const o=a=>{a.matches&&this.setState({size:e})};s.addListener(o),this.cleanupThunks.push(()=>s.removeListener(o))}}componentWillUnmount(){this.cleanupThunks.forEach(t=>t())}getCurrentSize(t){if(this.state.size)return this.state.size;{const e=Object.entries(this.props.mediaSpec);for(const[n,s]of e)if(Le[s.query].matches)return n}return Qn}isServerSide(){return typeof window>"u"||!window.matchMedia}getMockStyleSheet(t){const{styleSheets:e}=this.props,n={};if(!e)return n;for(const s of Object.keys(e)){const o=e[s];if(o)for(const a of Object.keys(o))Object.prototype.hasOwnProperty.call(n,a)||(n[a]=[e.all&&e.all[a],t==="small"&&[e.mdOrSmaller&&e.mdOrSmaller[a],e.small&&e.small[a]],t==="medium"&&[e.mdOrSmaller&&e.mdOrSmaller[a],e.mdOrLarger&&e.mdOrLarger[a],e.medium&&e.medium[a]],t==="large"&&[e.mdOrLarger&&e.mdOrLarger[a],e.large&&e.large[a]]])}return n}render(){const{children:t,mediaSpec:e,ssrSize:n,overrideSize:s}=this.props,o=[...Object.values(sn).map(c=>c.query),...Object.values(Yn).map(c=>c.query),...Object.values(Xn).map(c=>c.query),...Object.values(e).map(c=>c.query)];if(!this.isServerSide())for(const c of o.filter(u=>!Le[u]))Le[c]=window.matchMedia(c);const a=s||this.isServerSide()&&n||this.getCurrentSize(e),d=this.getMockStyleSheet(a);return t({mediaSize:a,mediaSpec:e,styles:d})}}class es extends i.Component{render(){return i.createElement(on.Consumer,null,({overrideSize:t,ssrSize:e,mediaSpec:n})=>i.createElement(Jn,bt({},this.props,{overrideSize:t,ssrSize:e,mediaSpec:n})))}}S.StyleSheet.create({grow:{flexGrow:1}});class P extends i.Component{render(){const{size:t,style:e}=this.props;return i.createElement(C,{"aria-hidden":"true",style:[ts(t),e]})}}const ts=r=>({width:r,MsFlexBasis:r,MsFlexPreferredSize:r,WebkitFlexBasis:r,flexBasis:r,flexShrink:0});function rn(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}function Te(){return Te=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Te.apply(this,arguments)}const q={cellMinHeight:h.xxLarge_48,cellPadding:{paddingVertical:h.small_12,paddingHorizontal:h.medium_16},detailCellPadding:{paddingVertical:h.medium_16,paddingHorizontal:h.medium_16},accessoryHorizontalSpacing:h.medium_16},ns=r=>{switch(r){case"inset":return[at.horizontalRule,at.horizontalRuleInset];case"full-width":return at.horizontalRule;case"none":return{}}},at=S.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:h.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${l.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${q.cellPadding.paddingHorizontal}px)`}}}),ss=({leftAccessory:r,leftAccessoryStyle:t,disabled:e})=>r?i.createElement(i.Fragment,null,i.createElement(C,{style:[L.accessory,e&&L.accessoryDisabled,Te({},t)]},r),i.createElement(P,{size:q.accessoryHorizontalSpacing})):null,os=({rightAccessory:r,rightAccessoryStyle:t,active:e,disabled:n})=>r?i.createElement(i.Fragment,null,i.createElement(P,{size:q.accessoryHorizontalSpacing}),i.createElement(C,{style:[L.accessory,L.accessoryRight,n&&L.accessoryDisabled,Te({},t),e&&L.accessoryActive]},r)):null;function Lt(r){const{active:t,children:e,disabled:n,horizontalRule:s="inset",contentStyle:o=void 0,leftAccessory:a=void 0,leftAccessoryStyle:d=void 0,rightAccessory:c=void 0,rightAccessoryStyle:u=void 0,style:p,testId:y,innerStyle:g}=r,f=ns(s);return i.createElement(C,{style:[L.innerWrapper,g,p,f]},i.createElement(ss,{leftAccessory:a,leftAccessoryStyle:d,disabled:n}),i.createElement(C,{style:[L.content,o],testId:y},e),i.createElement(os,{rightAccessory:c,rightAccessoryStyle:u,active:t,disabled:n}))}const an=r=>{const{active:t,disabled:e,href:n,onClick:s,"aria-label":o,"aria-selected":a,target:d,role:c,rootStyle:u}=r;return s||n?i.createElement(nn,{disabled:e,onClick:s,href:n,hideDefaultFocusRing:!0,"aria-label":o||void 0,"aria-selected":a||void 0,role:c,target:d,style:[L.wrapper,L.clickable,u,t&&L.active,e&&L.disabled],"aria-current":t?"true":void 0},()=>i.createElement(Lt,r)):i.createElement(C,{style:[L.wrapper,u,t&&L.active],"aria-current":t?"true":void 0,role:c},i.createElement(Lt,r))},L=S.StyleSheet.create({wrapper:{background:l.white,color:l.offBlack,display:"flex",minHeight:q.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:q.cellMinHeight,padding:`${q.cellPadding.paddingVertical}px ${q.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${q.cellPadding.paddingVertical-2}px ${q.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:l.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:h.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${h.xxxSmall_4}px)`,height:`calc(100% - ${h.xxxSmall_4}px)`,border:`${h.xxxxSmall_2}px solid ${l.blue}`,borderRadius:h.xxxSmall_4},":hover[aria-disabled=false]":{background:l.offBlack8},":active[aria-disabled=false]":{background:l.offBlack16}},active:{background:l.fadedBlue8,color:l.blue,":hover[aria-disabled=false]":{background:l.fadedBlue16},":active[aria-disabled=false]":{background:l.fadedBlue24}},disabled:{color:l.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:l.blue},accessoryDisabled:{color:l.offBlack,opacity:.32}}),rs=["title"],is=function(t){const{title:e}=t,n=rn(t,rs);return i.createElement(an,n,typeof e=="string"?i.createElement(Z,null,e):e)},as=["title","subtitle1","subtitle2"],Nt=({subtitle:r,disabled:t})=>r?typeof r=="string"?i.createElement(W,{style:!t&&ln.subtitle},r):r:null,ls=function(t){const{title:e,subtitle1:n,subtitle2:s}=t,o=rn(t,as);return i.createElement(an,Te({},o,{innerStyle:ln.innerWrapper}),i.createElement(Nt,{subtitle:n,disabled:o.disabled}),n&&i.createElement(P,{size:h.xxxxSmall_2}),typeof e=="string"?i.createElement(Z,null,e):e,s&&i.createElement(P,{size:h.xxxxSmall_2}),i.createElement(Nt,{subtitle:s,disabled:o.disabled}))},ln=S.StyleSheet.create({subtitle:{color:l.offBlack64},innerWrapper:{padding:`${q.detailCellPadding.paddingVertical}px ${q.detailCellPadding.paddingHorizontal}px`}});function ds(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}function te(){return te=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},te.apply(this,arguments)}const Pt=r=>{switch(r){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},cs={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},me={enter:13,space:32},zt={hovered:!1,focused:!1,pressed:!1,waiting:!1};let nt=class extends i.Component{static getDerivedStateFromProps(t,e){return t.disabled?te({},zt,{focused:e.focused}):null}constructor(t){super(t),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=e=>{const{onClick:n=void 0,beforeNav:s=void 0,safeWithNav:o=void 0}=this.props;this.enterClick||((n||s||o)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({pressed:!0})},this.handleMouseUp=e=>{this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown:n,role:s}=this.props;n&&n(e);const o=e.which||e.keyCode,{triggerOnEnter:a,triggerOnSpace:d}=Pt(s);a&&o===me.enter||d&&o===me.space?(e.preventDefault(),this.setState({pressed:!0})):!a&&o===me.enter&&(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp:n,role:s}=this.props;n&&n(e);const o=e.which||e.keyCode,{triggerOnEnter:a,triggerOnSpace:d}=Pt(s);a&&o===me.enter||d&&o===me.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):!a&&o===me.enter&&(this.enterClick=!1)},this.handleFocus=e=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(e)})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=zt,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(t){if(t){const{history:e,href:n,skipClientNav:s,target:o=void 0}=this.props;n&&(o==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):e&&!s?(e.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(t,e){const{skipClientNav:n,history:s}=this.props;return s&&!n||this.props.target==="_blank"?(t(),this.navigateOrReset(e),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),t().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(o=>{}).finally(()=>{this.navigateOrReset(e)}))}runCallbackAndMaybeNavigate(t){const{onClick:e=void 0,beforeNav:n=void 0,safeWithNav:s=void 0,href:o,type:a}=this.props;let d=!0,c=!0;if(e&&e(t),t.defaultPrevented&&(d=!1,c=!1),t.preventDefault(),!o&&a==="submit"&&c){let u=t.currentTarget;for(;u;){if(u instanceof window.HTMLFormElement){const p=new window.Event("submit",{bubbles:!0,cancelable:!0});u.dispatchEvent(p);break}u=u.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>s?this.handleSafeWithNav(s,d):this.navigateOrReset(d)).catch(()=>{});else{if(s)return this.handleSafeWithNav(s,d);this.navigateOrReset(d)}}render(){const t=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),e=this.props.disabled?te({},cs,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t},{children:n}=this.props;return n&&n(this.state,e)}};nt.defaultProps={disabled:!1};const dn=r=>typeof r!="string"?!1:!/^(https?:)?\/\//i.test(r)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(r),us=wt(nt);function cn(r,t,e){return e&&t!==!0&&r&&dn(r)?us:nt}const hs=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],ps=T("a"),fs=T("button"),ms=T(et),gs=i.forwardRef(function(t,e){const n=(o,a,d)=>{const c=t.href&&!t.disabled,u=a&&!t.skipClientNav&&dn(t.href||"");return c&&u&&t.href?i.createElement(ms,te({},d,{to:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(o)):c&&!u?i.createElement(ps,te({},d,{href:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(o)):i.createElement(fs,te({},d,{type:"button","aria-disabled":t.disabled,ref:e}),t.children(o))},s=o=>{const{href:a,onClick:d,skipClientNav:c,beforeNav:u=void 0,safeWithNav:p=void 0,style:y,target:g=void 0,testId:f,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,hideDefaultFocusRing:E,light:_,disabled:$,tabIndex:re}=t,ie=ds(t,hs),ae=cn(a,c,o),le=I=>[Se.reset,Se.link,!E&&I.focused&&(_?Se.focusedLight:Se.focused),$&&Se.disabled,y];return u?i.createElement(ae,{href:a,onClick:d,beforeNav:u,safeWithNav:p,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,disabled:$,tabIndex:re},(I,H)=>n(I,o,te({},ie,{"data-test-id":f,style:le(I)},H))):i.createElement(ae,{href:a,onClick:d,safeWithNav:p,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,target:g,disabled:$,tabIndex:re},(I,H)=>n(I,o,te({},ie,{"data-test-id":f,style:le(I)},H)))};return i.createElement(Fe.Consumer,null,o=>s(o))});gs.defaultProps={light:!1,disabled:!1};const Se=S.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${l.blue}`}},focusedLight:{outline:`solid 2px ${l.white}`},disabled:{color:l.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${l.blue}`}}});function bs(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}function ne(){return ne=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ne.apply(this,arguments)}const Wt=r=>{switch(r){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},ys={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},ge={enter:13,space:32},At={hovered:!1,focused:!1,pressed:!1,waiting:!1};class Ot extends i.Component{static getDerivedStateFromProps(t,e){return t.disabled?ne({},At,{focused:e.focused}):null}constructor(t){super(t),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=e=>{const{onClick:n=void 0,beforeNav:s=void 0,safeWithNav:o=void 0}=this.props;this.enterClick||((n||s||o)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({pressed:!0})},this.handleMouseUp=e=>{this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown:n,role:s}=this.props;n&&n(e);const o=e.which||e.keyCode,{triggerOnEnter:a,triggerOnSpace:d}=Wt(s);a&&o===ge.enter||d&&o===ge.space?(e.preventDefault(),this.setState({pressed:!0})):!a&&o===ge.enter&&(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp:n,role:s}=this.props;n&&n(e);const o=e.which||e.keyCode,{triggerOnEnter:a,triggerOnSpace:d}=Wt(s);a&&o===ge.enter||d&&o===ge.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):!a&&o===ge.enter&&(this.enterClick=!1)},this.handleFocus=e=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(e)})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=At,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(t){if(t){const{history:e,href:n,skipClientNav:s,target:o=void 0}=this.props;n&&(o==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):e&&!s?(e.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(t,e){const{skipClientNav:n,history:s}=this.props;return s&&!n||this.props.target==="_blank"?(t(),this.navigateOrReset(e),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),t().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(o=>{}).finally(()=>{this.navigateOrReset(e)}))}runCallbackAndMaybeNavigate(t){const{onClick:e=void 0,beforeNav:n=void 0,safeWithNav:s=void 0,href:o,type:a}=this.props;let d=!0,c=!0;if(e&&e(t),t.defaultPrevented&&(d=!1,c=!1),t.preventDefault(),!o&&a==="submit"&&c){let u=t.currentTarget;for(;u;){if(u instanceof window.HTMLFormElement){const p=new window.Event("submit",{bubbles:!0,cancelable:!0});u.dispatchEvent(p);break}u=u.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>s?this.handleSafeWithNav(s,d):this.navigateOrReset(d)).catch(()=>{});else{if(s)return this.handleSafeWithNav(s,d);this.navigateOrReset(d)}}render(){const t=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),e=this.props.disabled?ne({},ys,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:t},{children:n}=this.props;return n&&n(this.state,e)}}Ot.defaultProps={disabled:!1};const Tt=r=>typeof r!="string"?!1:!/^(https?:)?\/\//i.test(r)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(r),vs=wt(Ot);function xs(r,t,e){return e&&t!==!0&&r&&Tt(r)?vs:Ot}const Ss=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],ws=T("a"),Cs=T("button"),ks=T(et),Es=i.forwardRef(function(t,e){const n=(o,a,d)=>{const c=t.href&&!t.disabled,u=a&&!t.skipClientNav&&Tt(t.href||"");return c&&u&&t.href?i.createElement(ks,ne({},d,{to:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(o)):c&&!u?i.createElement(ws,ne({},d,{href:t.href,role:t.role,target:t.target||void 0,"aria-disabled":t.disabled?"true":"false",ref:e}),t.children(o)):i.createElement(Cs,ne({},d,{type:"button","aria-disabled":t.disabled,ref:e}),t.children(o))},s=o=>{const{href:a,onClick:d,skipClientNav:c,beforeNav:u=void 0,safeWithNav:p=void 0,style:y,target:g=void 0,testId:f,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,hideDefaultFocusRing:E,light:_,disabled:$,tabIndex:re}=t,ie=bs(t,Ss),ae=xs(a,c,o),le=I=>[we.reset,we.link,!E&&I.focused&&(_?we.focusedLight:we.focused),$&&we.disabled,y];return u?i.createElement(ae,{href:a,onClick:d,beforeNav:u,safeWithNav:p,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,disabled:$,tabIndex:re},(I,H)=>n(I,o,ne({},ie,{"data-test-id":f,style:le(I)},H))):i.createElement(ae,{href:a,onClick:d,safeWithNav:p,onFocus:m,onKeyDown:b,onKeyUp:v,onMouseDown:w,onMouseUp:k,target:g,disabled:$,tabIndex:re},(I,H)=>n(I,o,ne({},ie,{"data-test-id":f,style:le(I)},H)))};return i.createElement(Fe.Consumer,null,o=>s(o))});Es.defaultProps={light:!1,disabled:!1};const we=S.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${l.blue}`}},focusedLight:{outline:`solid 2px ${l.white}`},disabled:{color:l.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${l.blue}`}}});function A(){return A=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},A.apply(this,arguments)}function un(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const Is=r=>{switch(r){case"xsmall":return"small";case"small":return"medium";case"medium":return"medium"}},Os=r=>({xsmall:24,small:32,medium:40})[r],st={color:{bg:{hovered:"transparent",active:"transparent",disabled:"transparent",filled:{action:{hovered:"transparent",active:"transparent"},critical:{hovered:"transparent",active:"transparent"}}},stroke:{disabled:{default:l.offBlack32,inverse:l.white50},inverse:l.white,action:{default:l.blue,active:l.activeBlue,inverse:l.fadedBlue},critical:{default:l.red,active:l.activeRed,inverse:l.fadedRed},primary:{action:{hovered:l.blue,active:l.activeBlue},critical:{hovered:l.red,active:l.activeRed},inverse:{default:l.white,hovered:l.white}},secondary:{default:l.offBlack},tertiary:{default:l.offBlack64},filled:{action:{hovered:l.blue,active:l.activeBlue},critical:{hovered:l.red,active:l.activeRed}}}},border:{width:{default:N.width.thin,active:N.width.none,hovered:N.width.thin,hoveredInverse:N.width.thin},radius:{default:N.radius.medium_4}}},Ts=Xt(st,{color:{bg:{hovered:l.white,active:l.white64,filled:{action:{hovered:l.blue,active:l.activeBlue},critical:{hovered:l.red,active:l.activeRed}}},stroke:{action:{inverse:l.eggplant},critical:{inverse:l.eggplant},primary:{action:{hovered:l.eggplant,active:l.eggplant},critical:{hovered:l.eggplant,active:l.eggplant},inverse:{hovered:l.eggplant}},filled:{action:{hovered:l.white,active:l.white},critical:{hovered:l.white,active:l.white}}}},border:{width:{hovered:N.width.none,hoveredInverse:N.width.none}}}),Rs={default:st,khanmigo:Ts},hn=Zt(st);function _s(r){var t;const e=i.useContext(Qt),n=(t=Rs[e])!=null?t:st;return i.createElement(hn.Provider,{value:n},r.children)}const $s=["color","disabled","href","icon","kind","light","size","skipClientNav","style","testId"];function Fs({icon:r,size:t}){switch(Is(t)){case"small":return i.createElement(he,{size:"small",color:"currentColor",icon:r});case"medium":default:return i.createElement(he,{size:"medium",color:"currentColor",icon:r})}}const Ms=T("a"),Bs=T("button"),Ds=T(et),Ls=i.forwardRef(function(t,e){const{color:n,disabled:s,href:o,icon:a,kind:d="primary",light:c=!1,size:u="medium",skipClientNav:p,style:y,testId:g}=t,f=un(t,$s),{theme:m,themeName:b}=Me(hn),v=w=>{const k=zs(n,d,c,u,m,b),E=[Ns.shared,k.default,s&&k.disabled],_=i.createElement(Fs,{size:u,icon:a}),$=A({"data-test-id":g,style:[E,y]},f);return o&&!s?w&&!p&&Tt(o)?i.createElement(Ds,A({},$,{to:o,ref:e}),_):i.createElement(Ms,A({},$,{href:o,ref:e}),_):i.createElement(Bs,A({type:"button"},$,{onClick:s?void 0:f.onClick,"aria-disabled":s,ref:e}),_)};return i.createElement(Fe.Consumer,null,w=>v(w))}),Ns=S.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:-8,touchAction:"manipulation"}}),Ne={};function Ps(r,t,e,n,s){switch(r){case"primary":const o=s==="destructive"?t.color.stroke.primary.critical.hovered:t.color.stroke.primary.action.hovered;return{":hover":{backgroundColor:t.color.bg.hovered,color:n?t.color.stroke.primary.inverse.hovered:o,outlineColor:n?t.color.stroke.inverse:e,outlineOffset:1,outlineStyle:"solid",outlineWidth:n?t.border.width.hoveredInverse:t.border.width.hovered},":active":{backgroundColor:t.color.bg.active}};case"secondary":case"tertiary":return{":hover":{backgroundColor:s==="destructive"?t.color.bg.filled.critical.hovered:t.color.bg.filled.action.hovered,color:s==="destructive"?t.color.stroke.filled.critical.hovered:t.color.stroke.filled.action.hovered,outlineWidth:t.border.width.active},":active":{backgroundColor:s==="destructive"?t.color.bg.filled.critical.active:t.color.bg.filled.action.active,color:s==="destructive"?t.color.stroke.filled.critical.active:t.color.stroke.filled.action.active,outlineWidth:t.border.width.active}};default:return{":focus-visible":{},":hover":{},":active":{}}}}const zs=(r="default",t,e,n,s,o)=>{const a=r==="destructive"?s.color.stroke.critical.default:s.color.stroke.action.default,d=`${a}-${t}-${e}-${n}-${o}`;if(Ne[d])return Ne[d];if(e&&t!=="primary")throw new Error("Light is only supported for primary IconButtons");const c=(()=>{switch(t){case"primary":return e?s.color.stroke.primary.inverse.default:a;case"secondary":return s.color.stroke.secondary.default;case"tertiary":return s.color.stroke.tertiary.default;default:throw new Error("IconButton kind not recognized")}})(),u=Os(n),p=Ps(t,s,a,e,r),y=r==="destructive"?s.color.stroke.critical.inverse:s.color.stroke.action.inverse,g=r==="destructive"?s.color.stroke.critical.active:s.color.stroke.action.active,f=e?s.color.stroke.inverse:a,m=e?s.color.stroke.disabled.inverse:s.color.stroke.disabled.default,b={backgroundColor:s.color.bg.disabled,color:m,outlineColor:m},v={default:{height:u,width:u,color:c,borderRadius:s.border.radius.default,":hover":A({boxShadow:"none",color:f,borderRadius:s.border.radius.default,outlineWidth:s.border.width.default},p[":hover"]),"@media not (hover: hover)":{":hover":{boxShadow:"none",color:c,borderRadius:s.border.radius.default,outline:"none",backgroundColor:"transparent"}},":focus":{boxShadow:`0 0 0 ${s.border.width.default}px ${f}`,borderRadius:s.border.radius.default},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":A({boxShadow:"none",outlineWidth:s.border.width.default,outlineColor:f,outlineOffset:1,outlineStyle:"solid",borderRadius:s.border.radius.default},p[":focus-visible"]),":active":A({color:e?y:g,outlineWidth:s.border.width.default,outlineColor:e?y:g,outlineOffset:1,outlineStyle:"solid",borderRadius:s.border.radius.default},p[":active"])},disabled:{color:m,cursor:"not-allowed",":hover":A({},b,{outline:"none"}),":active":A({},b,{outline:"none"}),":focus":{boxShadow:`0 0 0 ${s.border.width.default}px ${m}`,borderRadius:s.border.radius.default},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":b}};return Ne[d]=S.StyleSheet.create(v),Ne[d]},Ws=["color","disabled","href","kind","light","size","skipClientNav","tabIndex","target"],pn=i.forwardRef(function(t,e){const{color:n="default",disabled:s=!1,href:o,kind:a="primary",light:d=!1,size:c="medium",skipClientNav:u,tabIndex:p,target:y}=t,g=un(t,Ws);function f(b){const v=b.key;!o&&(v==="Enter"||v==="Space")&&b.preventDefault()}function m(b){const v=b.key;!o&&(v==="Enter"||v==="Space")&&g.onClick&&g.onClick(b)}return i.createElement(_s,null,i.createElement(Ls,A({},g,{color:n,disabled:s,href:o,kind:a,light:d,ref:e,skipClientNav:u,size:c,target:y,tabIndex:p,onKeyDown:f,onKeyUp:m})))});function G(){return G=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},G.apply(this,arguments)}function ye(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const As=["checked","disabled","error","groupName","id","testId"];function Us(r){switch(r){case!0:return"true";case!1:return"false";default:return"mixed"}}const{blue:fn,red:mn,white:J,offWhite:Ks,offBlack16:Hs,offBlack32:Vs,offBlack50:js}=l,Ce=h.medium_16,yt=h.small_12,qs=T("input"),Gs=i.forwardRef(function(t,e){const{checked:n,disabled:s,error:o,groupName:a,id:d,testId:c}=t,u=ye(t,As),p=i.useRef(null);i.useEffect(()=>{p.current!=null&&(p.current.indeterminate=n==null)},[n,p]);const y=()=>{},g=Zs(n,o),f=[Pe.inputReset,Pe.default,!s&&g.default,s&&Pe.disabled],m=i.createElement(he,{color:s?Vs:J,icon:n?kt:Ln,size:"small",style:[Pe.checkboxIcon,{width:yt,height:yt}]}),b=Us(n);return i.createElement(i.Fragment,null,i.createElement(qs,G({},u,{ref:v=>{p.current=v,typeof e=="function"?e(v):e!=null&&(e.current=v)},type:"checkbox","aria-checked":b,"aria-invalid":o,checked:n??void 0,disabled:s,id:d,name:a,onChange:y,style:f,"data-test-id":c})),n||n==null?m:i.createElement(i.Fragment,null))}),Pe=S.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:Ce,width:Ce,minHeight:Ce,minWidth:Ce,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:1,borderRadius:3},disabled:{cursor:"auto",backgroundColor:Ks,borderColor:Hs,borderWidth:1},checkboxIcon:{position:"absolute",pointerEvents:"none",margin:(Ce-yt)/2}}),Ys=K(l.fadedBlue16,J),Xs=l.activeBlue,Ye=K(l.fadedRed8,J),gn=l.activeRed,Ut={default:{faded:Ys,base:fn,active:Xs},error:{faded:Ye,base:mn,active:gn}},ze={},Zs=(r,t)=>{const e=`${String(r)}-${String(t)}`;if(ze[e])return ze[e];const n=t?Ut.error:Ut.default;let s={};return r||r==null?s={default:{backgroundColor:n.base,borderWidth:0,":focus-visible":{boxShadow:`0 0 0 1px ${J}, 0 0 0 3px ${n.base}`},":hover":{boxShadow:`0 0 0 1px ${J}, 0 0 0 3px ${n.base}`},":active":{boxShadow:`0 0 0 1px ${J}, 0 0 0 3px ${n.active}`,background:n.active}}}:s={default:{backgroundColor:t?Ye:J,borderColor:t?mn:js,":focus-visible":{backgroundColor:t?Ye:J,borderColor:n.base,borderWidth:2},":hover":{backgroundColor:t?Ye:J,borderColor:n.base,borderWidth:2},":active":{backgroundColor:n.faded,borderColor:t?gn:fn,borderWidth:2}}},ze[e]=S.StyleSheet.create(s),ze[e]},Qs=["checked","disabled","error","groupName","id","testId"],{blue:bn,red:yn,white:Q,offWhite:Js,offBlack16:eo,offBlack32:to,offBlack50:no}=l,so=T("input"),oo=i.forwardRef(function(t,e){const n=()=>{},{checked:s,disabled:o,error:a,groupName:d,id:c,testId:u}=t,p=ye(t,Qs),y=ao(s,a),g=[lt.inputReset,lt.default,!o&&y.default,o&&lt.disabled];return i.createElement(i.Fragment,null,i.createElement(so,G({},p,{type:"radio","aria-invalid":a,checked:s??void 0,disabled:o,id:c,name:d,onChange:n,style:g,"data-test-id":u,ref:e})),o&&s&&i.createElement("span",{style:ro}))}),se=16,ro={position:"absolute",top:se/4,left:se/4,height:se/2,width:se/2,borderRadius:"50%",backgroundColor:to},lt=S.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:se,width:se,minHeight:se,minWidth:se,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:1,borderRadius:"50%"},disabled:{cursor:"auto",backgroundColor:Js,borderColor:eo,borderWidth:1}}),io=K(l.fadedBlue16,Q),Xe=K(l.fadedRed8,Q),Kt={default:{faded:io,base:bn,active:l.activeBlue},error:{faded:Xe,base:yn,active:l.activeRed}},We={},ao=(r,t)=>{const e=`${String(r)}-${String(t)}`;if(We[e])return We[e];const n=t?Kt.error:Kt.default;let s={};return r?s={default:{backgroundColor:Q,borderColor:n.base,borderWidth:se/4,":focus-visible":{boxShadow:`0 0 0 1px ${Q}, 0 0 0 3px ${n.base}`},":hover":{boxShadow:`0 0 0 1px ${Q}, 0 0 0 3px ${n.base}`},":active":{boxShadow:`0 0 0 1px ${Q}, 0 0 0 3px ${n.active}`,borderColor:n.active}}}:s={default:{backgroundColor:t?Xe:Q,borderColor:t?yn:no,":focus-visible":{backgroundColor:t?Xe:Q,borderColor:n.base,borderWidth:2},":hover":{backgroundColor:t?Xe:Q,borderColor:n.base,borderWidth:2},":active":{backgroundColor:n.faded,borderColor:t?l.activeRed:bn,borderWidth:2}}},We[e]=S.StyleSheet.create(s),We[e]},lo=["checked","description","disabled","error","id","label","onChange","style","className","variant"],vn=i.forwardRef(function(t,e){const{checked:n,description:s,disabled:o=!1,error:a=!1,id:d,label:c,onChange:u,style:p,className:y,variant:g}=t,f=ye(t,lo),m=()=>{g==="radio"&&n||u(!n)},b=()=>g==="radio"?oo:Gs,v=E=>i.createElement(Z,{style:[Ae.label,o&&Ae.disabledLabel]},i.createElement("label",{htmlFor:E},c)),w=E=>i.createElement(W,{style:Ae.description,id:E},s),k=b();return i.createElement(Fn,{mockOnFirstRender:!0,scope:"choice"},E=>{const _=d||E.get("main"),$=s?E.get("description"):void 0;return i.createElement(C,{style:p,className:y},i.createElement(C,{style:Ae.wrapper,tabIndex:-1},i.createElement(k,G({},f,{id:_,checked:n,"aria-describedby":$,onClick:m,disabled:o,error:a,ref:e})),i.createElement(P,{size:h.xSmall_8}),c&&v(_)),s&&w($))})}),Ae=S.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"flex-start",outline:"none"},label:{marginTop:-2},disabledLabel:{color:l.offBlack32},description:{marginLeft:h.medium_16+h.xSmall_8,marginTop:h.xxxSmall_4,color:l.offBlack64}}),co=i.forwardRef(function(t,e){const{disabled:n=!1,error:s=!1}=t;return i.createElement(vn,G({},t,{variant:"checkbox",disabled:n,error:s,ref:e}))}),uo=["disabled","error"],ho=i.forwardRef(function(t,e){const{disabled:n=!1,error:s=!1}=t,o=ye(t,uo);return i.createElement(vn,G({},o,{variant:"radio",disabled:n,error:s,ref:e}))}),po=["checked","disabled","onChange","value","variant"];i.forwardRef(function(t,e){const{checked:n=!1,disabled:s=!1,onChange:o=()=>{},variant:a}=t,d=ye(t,po),u=(p=>p==="checkbox"?co:ho)(a);return i.createElement(u,G({},d,{checked:n,disabled:s,onChange:o,ref:e}))});const X=S.StyleSheet.create({fieldset:{border:"none",padding:0,margin:0},legend:{padding:0},description:{marginTop:h.xxxSmall_4,color:l.offBlack64},error:{marginTop:h.xxxSmall_4,color:l.red},defaultLineGap:{marginTop:h.xSmall_8}}),fo=T("fieldset"),mo=T("legend");i.forwardRef(function(t,e){const{children:n,label:s,description:o,errorMessage:a,groupName:d,onChange:c,selectedValues:u,style:p,testId:y}=t,g=(m,b)=>{if(b){const v=u.indexOf(m),w=[...u.slice(0,v),...u.slice(v+1)];c(w)}else c([...u,m])},f=i.Children.toArray(n).filter(Boolean);return i.createElement(fo,{"data-test-id":y,style:X.fieldset,ref:e},i.createElement(C,{style:p},s&&i.createElement(mo,{style:X.legend},i.createElement(Z,null,s)),o&&i.createElement(W,{style:X.description},o),a&&i.createElement(W,{style:X.error},a),(s||o||a)&&i.createElement(P,{size:h.small_12}),f.map((m,b)=>{const{style:v,value:w}=m.props,k=u.includes(w);return i.cloneElement(m,{checked:k,error:!!a,groupName:d,id:`${d}-${w}`,key:w,onChange:()=>g(w,k),style:[b>0&&X.defaultLineGap,v],variant:"checkbox"})})))});const go=T("fieldset"),bo=T("legend");i.forwardRef(function(t,e){const{children:n,label:s,description:o,errorMessage:a,groupName:d,onChange:c,selectedValue:u,style:p,testId:y}=t,g=i.Children.toArray(n).filter(Boolean);return i.createElement(go,{"data-test-id":y,style:X.fieldset,ref:e},i.createElement(C,{style:p},s&&i.createElement(bo,{style:X.legend},i.createElement(Z,null,s)),o&&i.createElement(W,{style:X.description},o),a&&i.createElement(W,{style:X.error},a),(s||o||a)&&i.createElement(P,{size:h.small_12}),g.map((f,m)=>{const{style:b,value:v}=f.props,w=u===v;return i.cloneElement(f,{checked:w,error:!!a,groupName:d,id:`${d}-${v}`,key:v,onChange:()=>c(v),style:[m>0&&X.defaultLineGap,b],variant:"radio"})})))});const yo=["id","type","value","name","disabled","onKeyDown","placeholder","light","style","testId","readOnly","autoFocus","autoComplete","forwardedRef","onFocus","onBlur","onValidate","validate","onChange","required"],vo="This field is required.",xo=T("input");class xn extends i.Component{constructor(t){super(t),this.state={error:null,focused:!1},this.maybeValidate=e=>{const{validate:n,onValidate:s,required:o}=this.props;if(n){const a=n(e)||null;this.setState({error:a},()=>{s&&s(a)})}else if(o){const d=e?null:typeof o=="string"?o:vo;this.setState({error:d},()=>{s&&s(d)})}},this.handleChange=e=>{const{onChange:n}=this.props,s=e.target.value;this.maybeValidate(s),n(s)},this.handleFocus=e=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(e)})},this.handleBlur=e=>{const{onBlur:n}=this.props;this.setState({focused:!1},()=>{n&&n(e)})},t.validate&&t.value!==""&&(this.state.error=t.validate(t.value)||null)}componentDidMount(){this.props.value!==""&&this.maybeValidate(this.props.value)}render(){const t=this.props,{id:e,type:n,value:s,name:o,disabled:a,onKeyDown:d,placeholder:c,light:u,style:p,testId:y,readOnly:g,autoFocus:f,autoComplete:m,forwardedRef:b}=t,v=ye(t,yo);return i.createElement(xo,G({style:[de.input,Yt.LabelMedium,de.default,a?de.disabled:this.state.focused?[de.focused,u&&de.defaultLight]:!!this.state.error&&[de.error,u&&de.errorLight],!!this.state.error&&de.error,p&&p],id:e,type:n,placeholder:c,value:s,name:o,disabled:a,onChange:this.handleChange,onKeyDown:d,onFocus:this.handleFocus,onBlur:this.handleBlur,"data-test-id":y,readOnly:g,autoFocus:f,autoComplete:m,ref:b},v))}}xn.defaultProps={type:"text",disabled:!1,light:!1};const de=S.StyleSheet.create({input:{width:"100%",height:40,borderRadius:4,boxSizing:"border-box",paddingLeft:h.medium_16,margin:0,outline:"none",boxShadow:"none"},default:{background:l.white,border:`1px solid ${l.offBlack16}`,color:l.offBlack,"::placeholder":{color:l.offBlack64}},error:{background:`${K(l.fadedRed8,l.white)}`,border:`1px solid ${l.red}`,color:l.offBlack,"::placeholder":{color:l.offBlack64}},disabled:{background:l.offWhite,border:`1px solid ${l.offBlack16}`,color:l.offBlack64,"::placeholder":{color:l.offBlack32}},focused:{background:l.white,border:`1px solid ${l.blue}`,color:l.offBlack,"::placeholder":{color:l.offBlack64}},defaultLight:{boxShadow:`0px 0px 0px 1px ${l.blue}, 0px 0px 0px 2px ${l.white}`},errorLight:{boxShadow:`0px 0px 0px 1px ${l.red}, 0px 0px 0px 2px ${l.white}`}});var Sn=i.forwardRef((r,t)=>i.createElement(xn,G({},r,{forwardedRef:t})));const So=T("span");class wo extends i.Component{renderLabel(){const{label:t,id:e,required:n,testId:s}=this.props,o=i.createElement(So,{style:Ue.required,"aria-hidden":!0}," ","*");return i.createElement(i.Fragment,null,i.createElement(Z,{style:Ue.label,tag:"label",htmlFor:e&&`${e}-field`,testId:s&&`${s}-label`},t,n&&o),i.createElement(P,{size:h.xxxSmall_4}))}maybeRenderDescription(){const{description:t,testId:e}=this.props;return t?i.createElement(i.Fragment,null,i.createElement(W,{style:Ue.description,testId:e&&`${e}-description`},t),i.createElement(P,{size:h.xxxSmall_4})):null}maybeRenderError(){const{error:t,id:e,testId:n}=this.props;return t?i.createElement(i.Fragment,null,i.createElement(P,{size:h.small_12}),i.createElement(W,{style:Ue.error,role:"alert",id:e&&`${e}-error`,testId:n&&`${n}-error`},t)):null}render(){const{field:t,style:e}=this.props;return i.createElement(C,{style:e},this.renderLabel(),this.maybeRenderDescription(),i.createElement(P,{size:h.xSmall_8}),t,this.maybeRenderError())}}const Ue=S.StyleSheet.create({label:{color:l.offBlack},description:{color:l.offBlack64},error:{color:l.red},required:{color:l.red}});class wn extends i.Component{constructor(t){super(t),this.handleValidate=e=>{const{onValidate:n}=this.props;this.setState({error:e},()=>{n&&n(e)})},this.handleFocus=e=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(e)})},this.handleBlur=e=>{const{onBlur:n}=this.props;this.setState({focused:!1},()=>{n&&n(e)})},this.state={error:null,focused:!1}}render(){const{id:t,type:e,label:n,description:s,value:o,disabled:a,required:d,validate:c,onChange:u,onKeyDown:p,placeholder:y,light:g,style:f,testId:m,readOnly:b,autoComplete:v,forwardedRef:w,ariaDescribedby:k}=this.props;return i.createElement(St,{id:t,scope:"labeled-text-field"},E=>i.createElement(wo,{id:E,testId:m,style:f,field:i.createElement(Sn,{id:`${E}-field`,"aria-describedby":k||`${E}-error`,"aria-invalid":this.state.error?"true":"false","aria-required":d?"true":"false",required:d,testId:m&&`${m}-field`,type:e,value:o,placeholder:y,disabled:a,validate:c,onValidate:this.handleValidate,onChange:u,onKeyDown:p,onFocus:this.handleFocus,onBlur:this.handleBlur,light:g,readOnly:b,autoComplete:v,ref:w}),label:n,description:s,required:!!d,error:!this.state.focused&&this.state.error||""}))}}wn.defaultProps={type:"text",disabled:!1,light:!1};i.forwardRef((r,t)=>i.createElement(wn,G({},r,{forwardedRef:t})));function vt(){return vt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},vt.apply(this,arguments)}function Co(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const ko={clearSearch:"Clear search"},Eo=["clearAriaLabel","autoFocus","disabled","light","id","value","placeholder","style","testId","onClick","onChange","onFocus","onBlur"],Io=i.forwardRef(function(t,e){const{clearAriaLabel:n=ko.clearSearch,autoFocus:s,disabled:o=!1,light:a=!1,id:d,value:c,placeholder:u,style:p,testId:y,onClick:g,onChange:f,onFocus:m,onBlur:b}=t,v=Co(t,Eo),w=i.useRef(null),k=()=>{var _;f(""),w==null||(_=w.current)==null||_.focus()},E=()=>c.length?i.createElement(pn,{icon:Jt,kind:"tertiary",onClick:k,style:Ke.dismissIcon,"aria-label":n}):null;return i.createElement(St,{id:d,scope:"search-field"},_=>i.createElement(C,{onClick:g,style:[Ke.inputContainer,p]},i.createElement(he,{icon:Nn,size:"medium",color:l.offBlack64,style:Ke.searchIcon,"aria-hidden":"true"}),i.createElement(Sn,vt({id:`${_}-field`,type:"text",autoFocus:s,disabled:o,light:a,onChange:f,onFocus:m,onBlur:b,placeholder:u,ref:$=>{e&&(e.current=$),w.current=$},value:c,style:[Ke.inputStyleReset,Yt.LabelMedium],testId:y},v)),E()))}),Ke=S.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:h.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:h.xSmall_8,marginRight:h.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:0,":hover":{border:"none"}},inputStyleReset:{display:"flex",flex:1,"::placeholder":{color:l.offBlack64},width:"100%",color:"inherit",paddingLeft:h.large_24+h.medium_16,paddingRight:h.large_24+h.medium_16}});function Qe(){return Qe=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Qe.apply(this,arguments)}const ot={color:{bg:{inverse:l.darkBlue},text:{inverse:l.white,secondary:l.offBlack64},shadow:{default:l.offBlack16}},border:{radius:N.radius.medium_4},spacing:{dialog:{small:h.medium_16},panel:{closeButton:h.medium_16,footer:h.xLarge_32},header:{xsmall:h.xSmall_8,small:h.medium_16,medium:h.large_24,large:h.xLarge_32}}},Oo=Xt(ot,{color:{bg:{inverse:l.eggplant}}}),To={default:ot,khanmigo:Oo},Be=Zt(ot);function Ro(r){const t=i.useContext(Qt),e=To[t]||ot;return i.createElement(Be.Provider,{value:e},r.children)}const _o=i.forwardRef(function(t,e){const{above:n,below:s,role:o="dialog",style:a,children:d,testId:c,"aria-labelledby":u,"aria-describedby":p}=t,{theme:y}=Me(Be),g=tt(Fo,y);return i.createElement(C,{style:[g.wrapper,a]},s&&i.createElement(C,{style:g.below},s),i.createElement(C,{role:o,"aria-modal":"true","aria-labelledby":u,"aria-describedby":p,ref:e,style:g.dialog,testId:c},d),n&&i.createElement(C,{style:g.above},n))}),Cn=i.forwardRef(function(t,e){return i.createElement(Ro,null,i.createElement(_o,Qe({},t,{ref:e})))}),$o="@media (max-width: 767px)",Fo=r=>({wrapper:{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",height:"100%",position:"relative",[$o]:{padding:r.spacing.dialog.small,flexDirection:"column"}},dialog:{width:"100%",height:"100%",borderRadius:r.border.radius,overflow:"hidden"},above:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},below:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:-1}});Cn.displayName="ModalDialog";function Je({children:r}){return i.createElement(C,{style:Mo.footer},r)}Je.__IS_MODAL_FOOTER__=!0;Je.isComponentOf=r=>r&&r.type&&r.type.__IS_MODAL_FOOTER__;const Mo=S.StyleSheet.create({footer:{flex:"0 0 auto",boxSizing:"border-box",minHeight:h.xxxLarge_64,paddingLeft:h.medium_16,paddingRight:h.medium_16,paddingTop:h.xSmall_8,paddingBottom:h.xSmall_8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px -1px 0px ${l.offBlack16}`}});function Ze(r){const{breadcrumbs:t=void 0,light:e,subtitle:n=void 0,testId:s,title:o,titleId:a}=r;if(n&&t)throw new Error("'subtitle' and 'breadcrumbs' can't be used together");const{theme:d}=Me(Be),c=tt(Bo,d);return i.createElement(C,{style:[c.header,!e&&c.dark],testId:s},t&&i.createElement(C,{style:c.breadcrumbs},t),i.createElement(Bn,{style:c.title,id:a,testId:s&&`${s}-title`},o),n&&i.createElement(W,{style:e&&c.subtitle,testId:s&&`${s}-subtitle`},n))}const Ht="@media (max-width: 767px)",Bo=r=>({header:{boxShadow:`0px 1px 0px ${r.color.shadow.default}`,display:"flex",flexDirection:"column",minHeight:66,padding:`${r.spacing.header.medium}px ${r.spacing.header.large}px`,position:"relative",width:"100%",[Ht]:{paddingLeft:r.spacing.header.small,paddingRight:r.spacing.header.small}},dark:{background:r.color.bg.inverse,color:r.color.text.inverse},breadcrumbs:{color:r.color.text.secondary,marginBottom:r.spacing.header.xsmall},title:{paddingRight:r.spacing.header.small,[Ht]:{paddingRight:r.spacing.header.large}},subtitle:{color:r.color.text.secondary,marginTop:r.spacing.header.xsmall}});Ze.defaultProps={light:!0};const Do='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';class Lo extends i.Component{constructor(...t){super(...t),this.modalRoot=void 0,this.getModalRoot=e=>{if(!e)return;const n=z.findDOMNode(e);if(!n)throw new Error("Assertion error: modal root should exist after mount");this.modalRoot=n},this.handleFocusMoveToLast=()=>{this.focusElementIn(!1)},this.handleFocusMoveToFirst=()=>{this.focusElementIn(!0)}}tryToFocus(t){if(t instanceof HTMLElement){try{t.focus()}catch{}return document.activeElement===t}}focusElementIn(t){const e=this.modalRoot,n=Array.from(e.querySelectorAll(Do)),s=t?0:n.length-1,o=n[s];this.tryToFocus(o)}render(){const{style:t}=this.props;return i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,className:"modal-focus-trap-first",onFocus:this.handleFocusMoveToLast,style:{position:"fixed"}}),i.createElement(C,{style:t,ref:this.getModalRoot},this.props.children),i.createElement("div",{tabIndex:0,className:"modal-focus-trap-last",onFocus:this.handleFocusMoveToFirst,style:{position:"fixed"}}))}}const kn="data-modal-launcher-portal",No='a[href], details, input, textarea, select, button:not([aria-label^="Close"])';function Po(r){return Array.from(r.querySelectorAll(No))}class zo extends i.Component{constructor(...t){super(...t),this._mousePressedOutside=!1,this.handleMouseDown=e=>{this._mousePressedOutside=e.target===e.currentTarget},this.handleMouseUp=e=>{e.target===e.currentTarget&&this._mousePressedOutside&&this.props.onCloseModal(),this._mousePressedOutside=!1}}componentDidMount(){const t=z.findDOMNode(this);if(!t)return;const e=this._getInitialFocusElement(t)||this._getFirstFocusableElement(t)||this._getDialogElement(t);setTimeout(()=>{e.focus()},0)}_getInitialFocusElement(t){const{initialFocusId:e}=this.props;return e?z.findDOMNode(t.querySelector(`#${e}`)):null}_getFirstFocusableElement(t){const e=Po(t);return e?e[0]:null}_getDialogElement(t){const e=z.findDOMNode(t.querySelector('[role="dialog"]'));return e.tabIndex=-1,e}render(){const{children:t,testId:e}=this.props,n={[kn]:!0};return i.createElement(C,Qe({style:Wo.modalPositioner,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,testId:e},n),t)}}const Wo=S.StyleSheet.create({modalPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",overflow:"auto",background:l.offBlack64}}),dt=(()=>{if(typeof window>"u")return!1;const r=window.navigator.userAgent;return r.indexOf("iPad")>-1||r.indexOf("iPhone")>-1})();class O extends i.Component{componentDidMount(){if(O.numModalsOpened===0){const t=document.body;if(!t)throw new Error("couldn't find document.body");O.oldOverflow=t.style.overflow,O.oldScrollY=window.scrollY,dt&&(O.oldPosition=t.style.position,O.oldWidth=t.style.width,O.oldTop=t.style.top),t.style.overflow="hidden",dt&&(t.style.position="fixed",t.style.width="100%",t.style.top=`${-O.oldScrollY}px`)}O.numModalsOpened++}componentWillUnmount(){if(O.numModalsOpened--,O.numModalsOpened===0){const t=document.body;if(!t)throw new Error("couldn't find document.body");t.style.overflow=O.oldOverflow,dt&&(t.style.position=O.oldPosition,t.style.width=O.oldWidth,t.style.top=O.oldTop),typeof window<"u"&&window.scrollTo&&window.scrollTo(0,O.oldScrollY)}}render(){return null}}O.oldOverflow=void 0;O.oldPosition=void 0;O.oldScrollY=void 0;O.oldWidth=void 0;O.oldTop=void 0;O.numModalsOpened=0;const Ao={closeModal:void 0},Rt=i.createContext(Ao);Rt.displayName="ModalContext";class En extends i.Component{constructor(...t){super(...t),this.lastElementFocusedOutsideModal=void 0,this.state={opened:!1},this._saveLastElementFocused=()=>{this.lastElementFocusedOutsideModal=document.activeElement},this._openModal=()=>{this._saveLastElementFocused(),this.setState({opened:!0})},this._returnFocus=()=>{const{closedFocusId:e,schedule:n}=this.props,s=this.lastElementFocusedOutsideModal;if(e){const o=z.findDOMNode(document.getElementById(e));if(o){n.animationFrame(()=>{o.focus()});return}}s!=null&&n.animationFrame(()=>{s.focus()})},this.handleCloseModal=()=>{this.setState({opened:!1},()=>{const{onClose:e}=this.props;e==null||e(),this._returnFocus()})}}static getDerivedStateFromProps(t,e){return typeof t.opened=="boolean"&&t.children&&console.warn("'children' and 'opened' can't be used together"),typeof t.opened=="boolean"&&!t.onClose&&console.warn("'onClose' should be used with 'opened'"),typeof t.opened!="boolean"&&!t.children&&console.warn("either 'children' or 'opened' must be set"),{opened:typeof t.opened=="boolean"?t.opened:e.opened}}componentDidUpdate(t){!t.opened&&this.props.opened&&this._saveLastElementFocused()}_renderModal(){return typeof this.props.modal=="function"?this.props.modal({closeModal:this.handleCloseModal}):this.props.modal}render(){const t=this.props.children?this.props.children({openModal:this._openModal}):null,{body:e}=document;return e?i.createElement(Rt.Provider,{value:{closeModal:this.handleCloseModal}},t,this.state.opened&&z.createPortal(i.createElement(Lo,{style:Ko.container},i.createElement(zo,{initialFocusId:this.props.initialFocusId,testId:this.props.testId,onCloseModal:this.props.backdropDismissEnabled?this.handleCloseModal:()=>{}},this._renderModal())),e),this.state.opened&&i.createElement(Uo,{onClose:this.handleCloseModal}),this.state.opened&&i.createElement(O,null)):null}}En.defaultProps={backdropDismissEnabled:!0};class Uo extends i.Component{constructor(...t){super(...t),this._handleKeyup=e=>{e.key==="Escape"&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup)}render(){return null}}const Ko=S.StyleSheet.create({container:{zIndex:1080}});Et(En);function Re(r){const{scrollOverflow:t,style:e,children:n}=r,{theme:s}=Me(Be),o=tt(Vo,s);return i.createElement(C,{style:[o.wrapper,t&&o.scrollOverflow]},i.createElement(C,{style:[o.content,e]},n))}Re.__IS_MODAL_CONTENT__=!0;Re.isComponentOf=r=>r&&r.type&&r.type.__IS_MODAL_CONTENT__;const Ho="@media (max-width: 767px)",Vo=r=>({wrapper:{flex:1,display:"block"},scrollOverflow:{overflow:"auto"},content:{flex:1,minHeight:"100%",padding:h.xLarge_32,boxSizing:"border-box",[Ho]:{padding:`${h.xLarge_32}px ${h.medium_16}px`}}});Re.defaultProps={scrollOverflow:!0};class jo extends i.Component{render(){const{light:t,onClick:e,style:n,testId:s}=this.props;return i.createElement(Rt.Consumer,null,({closeModal:o})=>{if(o&&e)throw new Error("You've specified 'onClose' on a modal when using ModalLauncher.  Please specify 'onClose' on the ModalLauncher instead");return i.createElement(pn,{icon:Jt,"aria-label":"Close modal",onClick:e||o,kind:t?"primary":"tertiary",light:t,style:n,testId:s})})}}function In({closeButtonVisible:r=!0,scrollOverflow:t=!0,light:e=!0,content:n,footer:s,header:o,onClose:a,style:d,testId:c}){const{theme:u}=Me(Be),p=tt(qo,u),g=i.useCallback(()=>{const f=Re.isComponentOf(n)?n:i.createElement(Re,null,n);return f&&i.cloneElement(f,{scrollOverflow:t,style:[!!s&&p.hasFooter,f.props.style]})},[n,s,t,p.hasFooter])();return i.createElement(C,{style:[p.wrapper,!e&&p.dark,d],testId:c&&`${c}-panel`},r&&i.createElement(jo,{light:!e,onClick:a,style:p.closeButton,testId:c&&`${c}-close`}),o,g,!s||Je.isComponentOf(s)?s:i.createElement(Je,null,s))}In.defaultProps={closeButtonVisible:!0,scrollOverflow:!0,light:!0};const qo=r=>({wrapper:{flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column",background:"white",boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%"},closeButton:{position:"absolute",right:r.spacing.panel.closeButton,top:r.spacing.panel.closeButton,zIndex:1},dark:{background:r.color.bg.inverse,color:r.color.text.inverse},hasFooter:{paddingBottom:r.spacing.panel.footer}});class Go extends i.Component{renderHeader(t){const{title:e,breadcrumbs:n=void 0,subtitle:s=void 0,testId:o}=this.props;return n?i.createElement(Ze,{title:e,breadcrumbs:n,titleId:t,testId:o&&`${o}-header`}):s?i.createElement(Ze,{title:e,subtitle:s,titleId:t,testId:o&&`${o}-header`}):i.createElement(Ze,{title:e,titleId:t,testId:o&&`${o}-header`})}render(){const{onClose:t,footer:e,content:n,above:s,below:o,style:a,closeButtonVisible:d,testId:c,titleId:u,role:p,"aria-describedby":y}=this.props;return i.createElement(es,{styleSheets:Yo},({styles:g})=>i.createElement(St,{id:u,scope:"modal"},f=>i.createElement(Cn,{style:[g.dialog,a],above:s,below:o,testId:c,"aria-labelledby":f,"aria-describedby":y,role:p},i.createElement(In,{onClose:t,header:this.renderHeader(f),content:n,footer:e,closeButtonVisible:d,testId:c}))))}}Go.defaultProps={closeButtonVisible:!0};const Yo={small:S.StyleSheet.create({dialog:{width:"100%",height:"100%",overflow:"hidden"}}),mdOrLarger:S.StyleSheet.create({dialog:{width:"93.75%",maxWidth:576,height:"81.25%",maxHeight:624}})};function Xo(r){let t=r&&r.parentElement;for(;t&&!t.hasAttribute(kn);)t=t.parentElement;return t}function Zo(r){return Xo(r)}function R(){return R=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},R.apply(this,arguments)}const pe={tab:9,enter:13,escape:27,space:32,up:38,down:40},On={marginTop:h.xSmall_8,marginBottom:h.xSmall_8},Tn={minHeight:100},ue=40,Rn=9,_n=9,U={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:r=>`Select all (${r})`,noneSelected:"0 items",someSelected:r=>r===1?"1 item":`${r} items`,allSelected:"All items"},{blue:Qo,white:Vt,offBlack:Jo}=l;class be extends i.Component{static isClassOf(t){return t&&t.type&&t.type.__IS_ACTION_ITEM__}render(){const{disabled:t,horizontalRule:e,href:n,target:s,indent:o,label:a,lang:d,leftAccessory:c,rightAccessory:u,onClick:p,role:y,style:g,testId:f}=this.props,m=[ke.wrapper,g],b=typeof a=="string"?i.createElement(Z,{lang:d,style:ke.label},a):i.cloneElement(a,R({lang:d,style:ke.label},a.props));return i.createElement(is,{disabled:t,horizontalRule:e,rootStyle:m,leftAccessory:c,rightAccessory:u,style:[ke.shared,o&&ke.indent],role:y,testId:f,title:b,href:n,target:s,onClick:p})}}be.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};be.__IS_ACTION_ITEM__=!0;const ke=S.StyleSheet.create({wrapper:{minHeight:ue,touchAction:"manipulation",":focus":{borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${l.blue}`,outlineOffset:-h.xxxxSmall_2},":hover[aria-disabled=false]":{color:Vt,background:Qo},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:Vt,background:Jo}},":active[aria-disabled=false]":{color:l.fadedBlue,background:l.activeBlue}},shared:{minHeight:ue,height:ue},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:h.medium_16*2}});function ve(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const er=function(t){const{selected:e}=t;return i.createElement(he,{icon:kt,size:"small",style:[jt.bounds,!e&&jt.hide]})},jt=S.StyleSheet.create({bounds:{alignSelf:"center",height:h.medium_16,minHeight:h.medium_16,minWidth:h.medium_16},hide:{visibility:"hidden"}}),{offBlack16:tr,offBlack50:nr,offWhite:sr}=l,or=function(t){const{disabled:e,selected:n}=t;return i.createElement(C,{className:"checkbox",style:[He.checkbox,n&&!e&&He.noBorder,e&&He.disabledCheckbox]},n&&i.createElement(he,{icon:kt,size:"small",className:"check",style:[{width:h.small_12,height:h.small_12,margin:h.xxxxSmall_2},e&&n&&He.disabledCheckFormatting]}))},He=S.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:h.medium_16,minWidth:h.medium_16,height:h.medium_16,borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:nr},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:tr,backgroundColor:sr},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),rr=["disabled","label","role","selected","testId","style","leftAccessory","horizontalRule","rightAccessory","subtitle1","subtitle2","value","onClick","onToggle","variant"];class B extends i.Component{constructor(...t){super(...t),this.handleClick=()=>{const{onClick:e,onToggle:n,value:s}=this.props;n(s),e&&e()}}static isClassOf(t){return t&&t.type&&t.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?er:or}render(){const t=this.props,{disabled:e,label:n,role:s,selected:o,testId:a,style:d,leftAccessory:c,horizontalRule:u,rightAccessory:p,subtitle1:y,subtitle2:g}=t,f=ve(t,rr),m=this.getCheckComponent(),b=[ut.item,d];return i.createElement(ls,R({disabled:e,horizontalRule:u,rootStyle:b,style:ut.itemContainer,"aria-selected":o?"true":"false",role:s,testId:a,leftAccessory:i.createElement(i.Fragment,null,c?i.createElement(C,{style:{flexDirection:"row"}},i.createElement(m,{disabled:e,selected:o}),i.createElement(P,{size:h.xSmall_8}),c):i.createElement(m,{disabled:e,selected:o})),rightAccessory:p,subtitle1:y?i.createElement(W,{className:"subtitle"},y):void 0,title:i.createElement(Z,{style:ut.label},n),subtitle2:g?i.createElement(W,{className:"subtitle"},g):void 0,onClick:this.handleClick},f))}}B.defaultProps={disabled:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};B.__IS_OPTION_ITEM__=!0;const{blue:ct,white:Ee,offBlack:ir}=l,ut=S.StyleSheet.create({item:{minHeight:"unset",":focus":{borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${l.blue}`,outlineOffset:-h.xxxxSmall_2},":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:Ee,background:ct},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:Ee,background:ir}},":active[aria-disabled=false]":{color:l.fadedBlue,background:l.activeBlue},":hover[aria-disabled=false] .checkbox":{background:Ee},":hover[aria-disabled=false] .check":{color:ct},":active[aria-disabled=false] .check":{color:l.activeBlue},":is([aria-selected=true]) .checkbox":{background:ct},":is([aria-selected=true]) .check":{color:Ee},":is([aria-disabled=false]) .subtitle":{color:l.offBlack64},":hover[aria-disabled=false] .subtitle":{color:l.offWhite},":active[aria-disabled=false] .subtitle":{color:K(l.fadedBlue16,Ee)}},itemContainer:{minHeight:"unset",padding:`${h.xSmall_8+h.xxxxSmall_2}px ${h.xSmall_8}px`,paddingRight:h.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class oe extends i.Component{static isClassOf(t){return t&&t.type&&t.type.__IS_SEPARATOR_ITEM__}render(){return i.createElement(C,{style:[ar.separator,this.props.style],"aria-hidden":"true"})}}oe.__IS_SEPARATOR_ITEM__=!0;const ar=S.StyleSheet.create({separator:{boxShadow:`0 -1px ${l.offBlack16}`,height:1,minHeight:1,marginTop:h.xxxSmall_4,marginBottom:h.xxxSmall_4}});class rt extends i.Component{constructor(...t){super(...t),this.getTestIdFromProps=e=>e.testId||e["data-test-id"]}renderAnchorChildren(t,e){const{disabled:n,testId:s,text:o,opened:a}=this.props,d=this.props.children(R({},t,{text:o,opened:a})),c=d.props,u=this.getTestIdFromProps(c);return i.cloneElement(d,R({},e,{disabled:n,onClick:c.onClick?p=>{c.onClick(p),e.onClick(p)}:e.onClick,"data-test-id":u||s}))}render(){return i.createElement(nt,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(t,e)=>this.renderAnchorChildren(t,e))}}rt.defaultProps={disabled:!1};class lr extends i.Component{render(){const{data:t,index:e,style:n}=this.props,s=t[e];if(oe.isClassOf(s.component))return i.cloneElement(s.component,{style:n});{const{component:o,populatedProps:a,onClick:d,role:c,ref:u}=s;return i.cloneElement(o,R({style:n},a,{key:e,onClick:d,ref:s.focusable&&u,role:c}))}}}function qt(r,t=0){return r.slice(0,Rn).reduce((e,n)=>oe.isClassOf(n.component)?e+_n:e+ue,t)}class dr extends i.Component{constructor(t){super(t),this.getItemSize=e=>{const n=this.props.data[e];return oe.isClassOf(n.component)?_n:ue},this.state={height:qt(t.data),width:t.width}}componentDidMount(){const{schedule:t}=this.props;t.animationFrame(()=>{this.setWidth()})}componentDidUpdate(t){const{data:e,listRef:n}=this.props;t.data.length!==e.length&&(this.setHeight(),n&&n.current&&n.current.resetAfterIndex(1))}setWidth(){const t=z.findDOMNode(this),e=t==null?void 0:t.parentElement;if(e){const n=e.getBoundingClientRect().width;this.setState({width:n})}}setHeight(){const t=qt(this.props.data);this.setState({height:t})}renderInitialItems(){const{data:t}=this.props,e=t.map(s=>s.component);return i.Children.toArray(e).filter(Boolean).sort((s,o)=>o.props.label&&s.props.label?o.props.label.length-s.props.label.length:-1).slice(0,Rn).map(s=>i.cloneElement(s,{style:{visibility:"hidden"}}))}renderVirtualizedList(t,e){const{data:n,listRef:s}=this.props;return i.createElement(Pn,{height:e,itemCount:n.length,itemSize:this.getItemSize,itemData:n,style:{overflowX:"hidden"},width:t,overscanCount:5,ref:s},lr)}render(){const{width:t,height:e}=this.state;return t==null?this.renderInitialItems():this.renderVirtualizedList(t,e)}}var cr=Et(dr);function ur({state:r,options:t}){const e=Wn(r,t),{y:n}=r.modifiersData.preventOverflow||{x:0,y:0},{height:s}=r.rects.popper,[o]=r.placement.split("-"),d=s-e[o==="top"?"top":"bottom"]-n;r.styles.popper=R({},r.styles.popper,{maxHeight:`${d}px`,"--popper-max-height":`${d}px`})}const hr={name:"maxHeight",enabled:!0,phase:"main",options:{padding:ue},requiresIfExists:["offset","preventOverflow","flip"],fn:ur},pr=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},hr],fr=function({children:t,alignment:e="left",onPopperElement:n,referenceElement:s}){const o=Zo(s)||document.querySelector("body");return o?z.createPortal(i.createElement(zn,{innerRef:a=>{a&&n&&n(a)},referenceElement:s,strategy:"fixed",placement:e==="left"?"bottom-start":"bottom-end",modifiers:pr},({placement:a,ref:d,style:c,hasPopperEscaped:u,isReferenceHidden:p})=>{const y=!!(u||p);return i.createElement("div",{ref:d,style:c,"data-test-id":"dropdown-popper","data-placement":a},t(y))}),o):null};function mr(r){return r.length===1||!/^[A-Z]/i.test(r)?r:""}function gr(r,t){let e;return function(...s){const o=()=>{clearTimeout(e),r(...s)};clearTimeout(e),e=setTimeout(o,t)}}function Gt(r){return typeof r=="string"}function _e(r){return Gt(r.label)?r.label:Gt(r.labelAsText)?r.labelAsText:""}const br=125,yr=T("span");class it extends i.Component{static sameItemsFocusable(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n].focusable!==e[n].focusable)return!1;return!0}static getDerivedStateFromProps(t,e){if(e.itemRefs.length===0&&t.open||!it.sameItemsFocusable(e.prevItems,t.items)){const n=[];for(let s=0;s<t.items.length;s++)if(t.items[s].focusable){const o=i.createRef();n.push({ref:o,originalIndex:s})}return{itemRefs:n,prevItems:t.items,sameItemsFocusable:!1}}else return{prevItems:t.items,sameItemsFocusable:!0}}constructor(t){super(t),this.focusedIndex=void 0,this.focusedOriginalIndex=void 0,this.itemsClicked=void 0,this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.searchFieldRef=i.createRef(),this.handleInteract=e=>{const{open:n,onOpenChanged:s}=this.props,o=e.target,a=z.findDOMNode(this);n&&a&&!a.contains(o)&&this.popperElement&&!this.popperElement.contains(o)&&s(!1)},this.handleKeyDown=e=>{const{enableTypeAhead:n,onOpenChanged:s,open:o,searchText:a}=this.props,d=e.which||e.keyCode;if(n&&mr(e.key)&&(e.stopPropagation(),this.textSuggestion+=e.key,this.handleKeyDownDebounced(this.textSuggestion)),!o){if(d===pe.down){e.preventDefault(),s(!0);return}return}switch(d){case pe.tab:if(this.isSearchFieldFocused()&&a)return;this.restoreTabOrder(),s(!1);return;case pe.space:if(this.isSearchFieldFocused())return;e.preventDefault();return;case pe.up:e.preventDefault(),this.focusPreviousItem();return;case pe.down:e.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=e=>{const{onOpenChanged:n,open:s}=this.props;switch(e.which||e.keyCode){case pe.space:if(this.isSearchFieldFocused())return;e.preventDefault();return;case pe.escape:s&&(e.stopPropagation(),this.restoreTabOrder(),n(!1));return}},this.handleKeyDownDebounceResult=e=>{const n=this.props.items.filter(s=>s.focusable).findIndex(({component:s})=>{if(oe.isClassOf(s))return!1;if(B.isClassOf(s)){const o=s.props;return _e(o).toLowerCase().startsWith(e.toLowerCase())}return!1});if(n>=0){const s=!this.props.open;s&&this.props.onOpenChanged(!0),this.focusedIndex=n,this.scheduleToFocusCurrentItem(o=>{this.props.selectionType==="single"&&s&&o&&(o.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=e=>{this.itemsClicked=!0,this.focusedIndex=e,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=e=>{e.nativeEvent.stopImmediatePropagation?e.nativeEvent.stopImmediatePropagation():e.stopPropagation()},this.handleItemClick=(e,n)=>{this.handleClickFocus(e),n.component.props.onClick&&n.component.props.onClick(),n.populatedProps.onClick&&n.populatedProps.onClick()},this.handleSearchTextChanged=e=>{const{onSearchTextChanged:n}=this.props;n&&n(e)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:R({noResults:U.noResults,someResults:U.someSelected},t.labels)},this.virtualizedListRef=i.createRef(),this.handleKeyDownDebounced=gr(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(t){const{open:e}=this.props;if(t.open!==e)this.updateEventListeners(),this.maybeFocusInitialItem();else if(e){const{itemRefs:n,sameItemsFocusable:s}=this.state;if(s)return;{const o=n.findIndex(a=>a.originalIndex===this.focusedOriginalIndex);o===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=o}this.props.labels!==t.labels&&this.setState({labels:R({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:t}=this.props;if(typeof t<"u")this.focusedIndex=t;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:t,open:e}=this.props;t&&(e?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):e||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(t){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(t)}):this.focusCurrentItem(t)}focusCurrentItem(t){const e=this.state.itemRefs[this.focusedIndex];if(e){this.virtualizedListRef.current&&this.virtualizedListRef.current.scrollToItem(e.originalIndex);const n=z.findDOMNode(e.ref.current);n&&(n.focus(),this.focusedOriginalIndex=e.originalIndex,t&&t(n))}}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.focusedIndex-=1;this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.focusedIndex+=1;this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:t}=this.props;switch(t){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${t}" instead.`)}}maybeRenderNoResults(){const{items:t,labels:{noResults:e}}=this.props;return t.length===0?i.createElement(Z,{style:ce.noResult,testId:"dropdown-core-no-results"},e):null}shouldVirtualizeList(){return this.props.items.length>br}renderList(){let t=0;const e=this.getItemRole();return this.props.items.map((n,s)=>{if(oe.isClassOf(n.component))return n.component;const{component:o,focusable:a,populatedProps:d}=n;a&&(t+=1);const c=t-1,u=this.state.itemRefs[c]?this.state.itemRefs[c].ref:null;return i.cloneElement(o,R({},d,{key:s,onClick:()=>{this.handleItemClick(c,n)},ref:a?u:null,role:e}))})}parseVirtualizedItems(){let t=0;const e=this.getItemRole();return this.props.items.map((n,s)=>{!oe.isClassOf(n.component)&&n.focusable&&(t+=1);const o=t-1;return R({},n,{role:e,ref:n.focusable&&this.state.itemRefs[o]?this.state.itemRefs[o].ref:null,onClick:()=>{this.handleItemClick(o,n)}})})}renderVirtualizedList(){const t=this.parseVirtualizedItems();return i.createElement(cr,{data:t,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:t}=this.props,{labels:e}=this.state;return i.createElement(Io,{clearAriaLabel:e.clearSearch,onChange:this.handleSearchTextChanged,placeholder:e.filter,ref:this.searchFieldRef,style:ce.searchInputStyle,value:t||""})}renderDropdownMenu(t,e){const{"aria-invalid":n,"aria-required":s,dropdownStyle:o,isFilterable:a,light:d,openerElement:c,role:u}=this.props,p=c&&window.getComputedStyle(c),y=p?p.getPropertyValue("width"):0;return i.createElement(C,{onMouseUp:this.handleDropdownMouseUp,style:[ce.dropdown,d&&ce.light,e&&ce.hidden,o],testId:"dropdown-core-container"},a&&this.renderSearchField(),i.createElement(C,{role:u,style:[ce.listboxOrMenu,{minWidth:y}],"aria-invalid":u==="listbox"?n:void 0,"aria-required":u==="listbox"?s:void 0},t),this.maybeRenderNoResults())}renderDropdown(){const{alignment:t,openerElement:e}=this.props,n=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return i.createElement(fr,{alignment:t,onPopperElement:s=>{this.popperElement=s},referenceElement:e},s=>this.renderDropdownMenu(n,s))}renderLiveRegion(){const{items:t,open:e}=this.props,{labels:n}=this.state,s=t.length;return i.createElement(yr,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:ce.srOnly,"data-test-id":"dropdown-live-region"},e&&n.someResults(s))}render(){const{open:t,opener:e,style:n,className:s}=this.props;return i.createElement(C,{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,style:[ce.menuWrapper,n],className:s},this.renderLiveRegion(),e,t&&this.renderDropdown())}}it.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:U.clearSearch,filter:U.filter,noResults:U.noResults,someResults:U.someSelected},light:!1,selectionType:"single"};const ce=S.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:l.white,borderRadius:4,paddingTop:h.xxxSmall_4,paddingBottom:h.xxxSmall_4,border:`solid 1px ${l.offBlack16}`,boxShadow:`0px 8px 8px 0px ${Ct(l.offBlack,.1)}`,maxHeight:"var(--popper-max-height)"},light:{border:"none"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:l.offBlack64,alignSelf:"center",marginTop:h.xxSmall_6},searchInputStyle:{margin:h.xSmall_8,marginTop:h.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var _t=Et(it);const vr=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],xr=T("button");class Sr extends i.Component{render(){const t=this.props,{children:e,disabled:n,focused:s,hovered:o,pressed:a,testId:d,opened:c,"aria-label":u}=t,p=ve(t,vr),y=l.blue,g=wr(y),f=n,m=[ht.shared,f&&ht.disabled,g.default,f&&g.disabled,!f&&a&&g.active],b=i.createElement(Dn,{style:ht.text},e);return i.createElement(xr,R({"aria-expanded":c?"true":"false","aria-haspopup":"menu","aria-label":u,disabled:f,style:m,type:"button"},p,{"data-test-id":d}),i.createElement(C,{style:!f&&(o||s)&&g.focus},b),i.createElement(P,{size:h.xxxSmall_4}),i.createElement(he,{size:"small",color:"currentColor",icon:en,"aria-hidden":"true"}))}}const ht=S.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:ue,border:"none",borderRadius:h.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"auto"},small:{height:h.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"}}),Ve={},wr=r=>{const t=r;if(Ve[t])return Ve[t];const{offBlack32:e}=l,n=l.activeBlue;let s={};return s={default:{background:"none",color:r},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:2}},active:{color:n},disabled:{color:e,cursor:"default"}},Ve[t]=S.StyleSheet.create(s),Ve[t]},Cr=["text","opened"];class kr extends i.Component{constructor(...t){super(...t),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=e=>{this.setState({opened:e}),this.props.onToggle&&this.props.onToggle(e)},this.handleOptionSelected=e=>{const{onChange:n,selectedValues:s}=this.props;if(!(!n||!s)){if(s.includes(e)){const o=s.indexOf(e),a=[...s.slice(0,o),...s.slice(o+1)];n(a)}else n([...s,e]);this.handleItemSelected()}},this.handleOpenerRef=e=>{this.openerElement=z.findDOMNode(e)},this.handleClick=e=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(t,e){return{opened:typeof t.opened=="boolean"?t.opened:e.opened}}getMenuItems(){const{children:t,selectedValues:e}=this.props,n=i.Children.toArray(t).filter(Boolean),s=n.some(o=>B.isClassOf(o));return n.map(o=>{const{value:a,disabled:d}=o.props,c={component:o,focusable:be.isClassOf(o)||B.isClassOf(o)?!d:!1,populatedProps:{}};return be.isClassOf(o)?R({},c,{populatedProps:{indent:s,onClick:this.handleItemSelected}}):B.isClassOf(o)?R({},c,{populatedProps:{onToggle:this.handleOptionSelected,selected:e?e.includes(a):!1,variant:"check"}}):c})}renderOpener(t){const{disabled:e,menuText:n,opener:s,testId:o}=this.props;return i.createElement(rt,{onClick:this.handleClick,disabled:t===0||e,text:n,ref:this.handleOpenerRef,testId:s?void 0:o,opened:this.state.opened},s||(a=>{const{opened:d}=a,c=ve(a,Cr);return i.createElement(Sr,R({},c,{disabled:e,opened:!!d,testId:o}),n)}))}render(){const{alignment:t,dropdownStyle:e,style:n,className:s}=this.props,o=this.getMenuItems(),a=this.renderOpener(o.length);return i.createElement(_t,{role:"menu",style:n,className:s,opener:a,alignment:t,open:this.state.opened,items:o,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[Er.menuTopSpace,e]})}}kr.defaultProps={alignment:"left",disabled:!1};const Er=S.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),Ir=["children","disabled","error","id","isPlaceholder","light","open","testId","onOpenChanged"],Or=T("button");class $t extends i.Component{constructor(...t){super(...t),this.handleClick=e=>{const{open:n}=this.props;this.props.onOpenChanged(!n)}}renderClickableBehavior(t){const e=this.props,{children:n,disabled:s,error:o,id:a,isPlaceholder:d,light:c,open:u,testId:p}=e,y=ve(e,Ir),g=cn(t);return i.createElement(g,{disabled:s,onClick:this.handleClick},(f,m)=>{const b=Tr(c,d,o),{hovered:v,focused:w,pressed:k}=f,E=c?s||k?"currentColor":l.white:s?l.offBlack32:l.offBlack64,_=[pt.shared,b.default,s&&b.disabled,!s&&(k?b.active:(v||w)&&b.focus)];return i.createElement(Or,R({},y,{"aria-expanded":u?"true":"false","aria-haspopup":"listbox","data-test-id":p,disabled:s,id:a,style:_,type:"button"},m),i.createElement(Z,{style:pt.text},n||" "),i.createElement(he,{icon:en,color:E,size:"small",style:pt.caret,"aria-hidden":"true"}))})}render(){return i.createElement(Fe.Consumer,null,t=>this.renderClickableBehavior(t))}}$t.defaultProps={disabled:!1,error:!1,light:!1,isPlaceholder:!1};const pt=S.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:l.offBlack,height:ue,paddingLeft:h.medium_16,paddingRight:h.small_12,borderWidth:0,borderRadius:N.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:h.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),je=h.medium_16-1,qe=h.small_12-1,Ge={},Tr=(r,t,e)=>{const n=`${r}-${t}-${e}`;if(Ge[n])return Ge[n];let s={};return r?s={default:{background:e?l.fadedRed8:"transparent",color:t?l.white50:l.white,borderColor:e?l.red:l.white50,borderWidth:N.width.hairline},focus:{borderColor:e?l.fadedRed8:l.white,borderWidth:h.xxxxSmall_2,paddingLeft:je,paddingRight:qe},active:{paddingLeft:je,paddingRight:qe,borderColor:e?l.red:l.fadedBlue,borderWidth:N.width.thin,color:t?K(l.white32,l.blue):l.fadedBlue,backgroundColor:e?l.fadedRed:l.activeBlue},disabled:{background:"transparent",borderColor:K(l.white32,l.blue),color:K(l.white32,l.blue),cursor:"auto"}}:s={default:{background:e?l.fadedRed8:l.white,borderColor:e?l.red:l.offBlack16,borderWidth:N.width.hairline,color:t?l.offBlack64:l.offBlack},focus:{borderColor:e?l.red:l.blue,borderWidth:N.width.thin,paddingLeft:je,paddingRight:qe},active:{background:e?l.fadedRed:l.fadedBlue,borderColor:e?l.red:l.activeBlue,borderWidth:N.width.thin,paddingLeft:je,paddingRight:qe},disabled:{background:l.offWhite,borderColor:l.offBlack16,color:l.offBlack64,cursor:"auto"}},Ge[n]=S.StyleSheet.create(s),Ge[n]},Rr=["children","disabled","error","id","light","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-invalid","aria-required"];class xt extends i.Component{constructor(t){super(t),this.selectedIndex=void 0,this.handleOpenChanged=e=>{this.setState({open:e,searchText:""}),this.props.onToggle&&this.props.onToggle(e)},this.handleToggle=e=>{e!==this.props.selectedValue&&this.props.onChange(e),this.state.open&&this.state.openerElement&&this.state.openerElement.focus(),this.setState({open:!1}),this.props.onToggle&&this.props.onToggle(!1)},this.mapOptionItemsToDropdownItems=e=>{let n=0;return this.selectedIndex=0,e.map(s=>{const{selectedValue:o}=this.props,{disabled:a,value:d}=s.props,c=o===d;return c&&(this.selectedIndex=n),a||(n+=1),{component:s,focusable:!a,populatedProps:{onToggle:this.handleToggle,selected:c,variant:"check"}}})},this.handleSearchTextChanged=e=>{this.setState({searchText:e})},this.handleOpenerRef=e=>{const n=z.findDOMNode(e);this.setState({openerElement:n})},this.handleClick=e=>{this.handleOpenChanged(!this.state.open)},this.selectedIndex=0,this.state={open:!1,searchText:""}}static getDerivedStateFromProps(t,e){return{open:typeof t.opened=="boolean"?t.opened:e.open}}filterChildren(t){const{searchText:e}=this.state,n=e.toLowerCase();return t.filter(({props:s})=>!e||_e(s).toLowerCase().indexOf(n)>-1)}getMenuItems(t){const{isFilterable:e}=this.props;return this.mapOptionItemsToDropdownItems(e?this.filterChildren(t):t)}renderOpener(t){const e=this.props,{children:n,disabled:s,error:o,id:a,light:d,opener:c,placeholder:u,selectedValue:p,testId:y}=e,g=ve(e,Rr),m=i.Children.toArray(n).find(w=>w.props.value===p),b=m?_e(m.props):u;return c?i.createElement(rt,{onClick:this.handleClick,disabled:t===0||s,ref:this.handleOpenerRef,text:b,opened:this.state.open},c):i.createElement($t,R({},g,{disabled:t===0||s,id:a,error:o,isPlaceholder:!m,light:d,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:y}),b)}render(){const{alignment:t,autoFocus:e,children:n,className:s,dropdownStyle:o,enableTypeAhead:a,isFilterable:d,labels:c,light:u,style:p,"aria-invalid":y,"aria-required":g}=this.props,{searchText:f}=this.state,m=i.Children.toArray(n).filter(Boolean),b=this.getMenuItems(m),v=this.renderOpener(m.length);return i.createElement(_t,{role:"listbox",selectionType:"single",alignment:t,autoFocus:e,enableTypeAhead:a,dropdownStyle:[d&&Tn,On,o],initialFocusedIndex:this.selectedIndex,items:b,light:u,onOpenChanged:this.handleOpenChanged,open:this.state.open,opener:v,openerElement:this.state.openerElement,style:p,className:s,isFilterable:d,onSearchTextChanged:d?this.handleSearchTextChanged:void 0,searchText:d?f:"",labels:c,"aria-invalid":y,"aria-required":g})}}xt.defaultProps={alignment:"left",autoFocus:!0,disabled:!1,enableTypeAhead:!0,error:!1,light:!1,labels:{clearSearch:U.clearSearch,filter:U.filter,noResults:U.noResults,someResults:U.someSelected}};const _r=["disabled","id","light","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-invalid","aria-required"];class $r extends i.Component{constructor(t){super(t),this.labels=void 0,this.handleOpenChanged=e=>{this.setState({open:e,searchText:"",lastSelectedValues:this.props.selectedValues}),this.props.onToggle&&this.props.onToggle(e)},this.handleToggle=e=>{const{onChange:n,selectedValues:s}=this.props;if(s.includes(e)){const o=s.indexOf(e),a=[...s.slice(0,o),...s.slice(o+1)];n(a)}else n([...s,e])},this.handleSelectAll=()=>{const{children:e,onChange:n}=this.props,o=i.Children.toArray(e).filter(a=>!!a&&!a.props.disabled).map(a=>a.props.value);n(o)},this.handleSelectNone=()=>{const{onChange:e}=this.props;e([])},this.mapOptionItemToDropdownItem=e=>{const{selectedValues:n}=this.props,{disabled:s,value:o}=e.props;return{component:e,focusable:!s,populatedProps:{onToggle:this.handleToggle,selected:n.includes(o),variant:"checkbox"}}},this.handleOpenerRef=e=>{const n=z.findDOMNode(e);this.setState({openerElement:n})},this.handleSearchTextChanged=e=>{this.setState({searchText:e})},this.handleClick=e=>{this.handleOpenChanged(!this.state.open)},this.state={open:!1,searchText:"",lastSelectedValues:[],labels:R({},U,t.labels)},this.labels=R({},U,t.labels)}static getDerivedStateFromProps(t,e){return{open:typeof t.opened=="boolean"?t.opened:e.open}}componentDidUpdate(t){this.props.labels!==t.labels&&this.setState({labels:R({},this.state.labels,this.props.labels)})}getMenuText(t){const{implicitAllEnabled:e,selectedValues:n}=this.props,{noneSelected:s,someSelected:o,allSelected:a}=this.state.labels,d=t.filter(u=>!u.props.disabled).length,c=e?a:s;switch(n.length){case 0:return c;case 1:const u=t.find(p=>p.props.value===n[0]);if(u){const p=_e(u==null?void 0:u.props);return p||o(1)}return c;case d:return a;default:return o(n.length)}}getShortcuts(t){const{selectedValues:e,shortcuts:n}=this.props,{selectAllLabel:s,selectNoneLabel:o}=this.state.labels;if(n&&!this.state.searchText){const a=t===e.length,d={component:i.createElement(be,{disabled:a,label:s(t),indent:!0,onClick:this.handleSelectAll}),focusable:!a,populatedProps:{}},c=e.length===0,u={component:i.createElement(be,{disabled:c,label:o,indent:!0,onClick:this.handleSelectNone}),focusable:!c,populatedProps:{}},p={component:i.createElement(oe,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[d,u,p]}else return[]}getMenuItems(t){const{isFilterable:e}=this.props;if(!e)return t.map(this.mapOptionItemToDropdownItem);const{searchText:n,lastSelectedValues:s}=this.state,o=n.toLowerCase(),a=t.filter(({props:p})=>!n||_e(p).toLowerCase().indexOf(o)>-1),d=[],c=[];for(const p of a)s.includes(p.props.value)?d.push(p):c.push(p);const u=d.map(this.mapOptionItemToDropdownItem);return d.length&&c.length&&u.push({component:i.createElement(oe,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...u,...c.map(this.mapOptionItemToDropdownItem)]}renderOpener(t){const e=this.props,{disabled:n,id:s,light:o,opener:a,testId:d}=e,c=ve(e,_r),{noneSelected:u}=this.state.labels,p=this.getMenuText(t),y=t.filter(f=>!f.props.disabled).length;return a?i.createElement(rt,{onClick:this.handleClick,disabled:y===0||n,ref:this.handleOpenerRef,text:p,opened:this.state.open},a):i.createElement($t,R({},c,{disabled:y===0||n,id:s,isPlaceholder:p===u,light:o,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:d}),p)}render(){const{alignment:t,light:e,style:n,className:s,dropdownStyle:o,children:a,isFilterable:d,"aria-invalid":c,"aria-required":u}=this.props,{open:p,searchText:y}=this.state,{clearSearch:g,filter:f,noResults:m,someSelected:b}=this.state.labels,v=i.Children.toArray(a).filter(Boolean),w=v.filter(_=>!_.props.disabled).length,k=this.getMenuItems(v),E=this.renderOpener(v);return i.createElement(_t,{role:"listbox",alignment:t,dropdownStyle:[d&&Tn,On,o],isFilterable:d,items:[...this.getShortcuts(w),...k],light:e,onOpenChanged:this.handleOpenChanged,open:p,opener:E,openerElement:this.state.openerElement,selectionType:"multi",style:n,className:s,onSearchTextChanged:d?this.handleSearchTextChanged:void 0,searchText:d?y:"",labels:{clearSearch:g,filter:f,noResults:m,someResults:b},"aria-invalid":c,"aria-required":u})}}$r.defaultProps={alignment:"left",disabled:!1,error:!1,light:!1,shortcuts:!1,selectedValues:[]};const V=r=>{const{children:t,label:e,labelSide:n="left",style:s}=r;return x("label",{children:j(C,{style:[ft.row,s],children:[n==="start"||x(W,{style:ft.spaceEnd,children:e}),t,n==="end"&&x(W,{style:ft.spaceStart,children:e})]})})},ft=S.StyleSheet.create({row:{flexDirection:"row",marginTop:h.xSmall_8,alignItems:"center"},spaceStart:{marginInlineStart:h.xSmall_8},spaceEnd:{marginInlineEnd:h.xSmall_8}});try{labeledrow.displayName="labeledrow",labeledrow.__docgenInfo={description:"",displayName:"labeledrow",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},labelSide:{defaultValue:null,description:"",name:"labelSide",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}}}catch{}const{ButtonGroup:Fr,InfoTip:Mr,PropCheckBox:mt,RangeInput:Ie}=Mn,Br={url:null,width:0,height:0};function Dr(r,t){return Math.floor((r[1]-r[0])/t)}const Oe=class Oe extends i.Component{constructor(t){super(t),this._isMounted=!1,this.bgUrlRef=i.createRef(),this.labelXRef=i.createRef(),this.labelYRef=i.createRef(),this.change=(...e)=>$n.apply(this,e),this.changeRulerLabel=e=>{this.change({rulerLabel:e.target.value})},this.changeRulerTicks=e=>{this.change({rulerTicks:+e.target.value})},this.changeBackgroundUrl=e=>{var o;if(e.type==="keypress"&&e.key!=="Enter")return;const n=(a,d,c)=>{const u={...this.props.backgroundImage};u.url=a,u.width=d,u.height=c,this.setState({backgroundImage:u},this.changeGraph)},s=(o=this.bgUrlRef.current)==null?void 0:o.value;s?De.getImageSize(s,(a,d)=>{this._isMounted&&n(s,a,d)}):n(null,0,0)},this.renderLabelChoices=e=>e.map(n=>x("option",{value:n[1],children:n[0]},n[1])),this.validRange=e=>M.every(e,function(s){return M.isFinite(s)})?e[0]>=e[1]?"Range must have a higher number on the right":!0:"Range must be a valid number",this.validateStepValue=e=>{const{step:n,range:s,name:o,minTicks:a,maxTicks:d}=e,c=Dr(s,n);return c<a?o+" is too large, there must be at least "+a+" ticks.":c>d?o+" is too small, there can be at most "+d+" ticks.":!0},this.validSnapStep=(e,n)=>this.validateStepValue({step:e,range:n,name:"Snap step",minTicks:5,maxTicks:60}),this.validGridStep=(e,n)=>this.validateStepValue({step:e,range:n,name:"Grid step",minTicks:3,maxTicks:60}),this.validStep=(e,n)=>this.validateStepValue({step:e,range:n,name:"Step",minTicks:3,maxTicks:20}),this.validBackgroundImageSize=e=>e.url?e.width<=450&&e.height<=450?!0:"Image must be smaller than 450px x 450px.":!0,this.validateGraphSettings=(e,n,s,o,a)=>{const d=this;let c;if(!M.every(e,function(m){return c=d.validRange(m),c===!0})||!M.every(n,function(m,b){return c=d.validStep(m,e[b]),c===!0})||!M.every(s,function(m,b){return c=d.validGridStep(m,e[b]),c===!0})||!M.every(o,function(m,b){return c=d.validSnapStep(m,e[b]),c===!0}))return c;const f=this.validBackgroundImageSize(a);return f!==!0?(c=f,c):!0},this.changeLabel=(e,n)=>{const s=n.target.value,o=this.state.labelsTextbox.slice();o[e]=s,this.setState({labelsTextbox:o},this.changeGraph)},this.changeRange=(e,n)=>{const s=this.state.rangeTextbox.slice();s[e]=n;const o=this.state.stepTextbox.slice(),a=this.state.gridStepTextbox.slice(),d=this.state.snapStepTextbox.slice(),c=De.scaleFromExtent(s[e],this.props.box[e]);if(this.validRange(s[e])===!0){o[e]=De.tickStepFromExtent(s[e],this.props.box[e]);const u=De.gridStepFromTickStep(o[e],c);u&&(a[e]=u),d[e]=a[e]/2}this.setState({stepTextbox:o,gridStepTextbox:a,snapStepTextbox:d,rangeTextbox:s},this.changeGraph)},this.changeStep=e=>{this.setState({stepTextbox:e},this.changeGraph)},this.changeSnapStep=e=>{this.setState({snapStepTextbox:e},this.changeGraph)},this.changeGridStep=e=>{this.setState({gridStepTextbox:e,snapStepTextbox:M.map(e,function(n){return n/2})},this.changeGraph)},this.changeGraph=()=>{const e=this.state.labelsTextbox,n=M.map(this.state.rangeTextbox,function(u){return M.map(u,Number)}),s=M.map(this.state.stepTextbox,Number),o=this.state.gridStepTextbox,a=this.state.snapStepTextbox,d=this.state.backgroundImage,c=this.validateGraphSettings(n,s,o,a,d);c===!0?this.change({valid:!0,labels:e,range:n,step:s,gridStep:o,snapStep:a,backgroundImage:d}):this.change({valid:c})},this.state=Oe.stateFromProps(t)}static stateFromProps(t){return{labelsTextbox:t.labels,gridStepTextbox:t.gridStep,snapStepTextbox:t.snapStep,stepTextbox:t.step,rangeTextbox:t.range,backgroundImage:{...t.backgroundImage}}}componentDidMount(){this._isMounted=!0,this.changeGraph=M.debounce(this.changeGraph,300)}UNSAFE_componentWillReceiveProps(t){(!M.isEqual(this.props.labels,t.labels)||!M.isEqual(this.props.gridStep,t.gridStep)||!M.isEqual(this.props.snapStep,t.snapStep)||!M.isEqual(this.props.step,t.step)||!M.isEqual(this.props.range,t.range)||!M.isEqual(this.props.backgroundImage,t.backgroundImage))&&this.setState(Oe.stateFromProps(t))}componentWillUnmount(){this._isMounted=!1}render(){return j("div",{children:[j("div",{className:"graph-settings",children:[j("div",{className:"perseus-widget-row",children:[x("div",{className:"perseus-widget-left-col",children:x(V,{label:"x Label",children:x("input",{type:"text",className:"graph-settings-axis-label",ref:this.labelXRef,onChange:t=>this.changeLabel(0,t),value:this.state.labelsTextbox[0]||""})})}),x("div",{className:"perseus-widget-right-col",children:x(V,{label:"y Label",children:x("input",{type:"text",className:"graph-settings-axis-label",ref:this.labelYRef,onChange:t=>this.changeLabel(1,t),value:this.state.labelsTextbox[1]||""})})})]}),j("div",{className:"perseus-widget-row",children:[x("div",{className:"perseus-widget-left-col",children:x(V,{label:"x Range",children:x(Ie,{value:this.state.rangeTextbox[0],onChange:t=>this.changeRange(0,t)})})}),x("div",{className:"perseus-widget-right-col",children:x(V,{label:"y Range",children:x(Ie,{value:this.state.rangeTextbox[1],onChange:t=>this.changeRange(1,t)})})})]}),j("div",{className:"perseus-widget-row",children:[x("div",{className:"perseus-widget-left-col",children:x(V,{label:"Tick Step",children:x(Ie,{value:this.state.stepTextbox,onChange:this.changeStep})})}),x("div",{className:"perseus-widget-right-col",children:x(V,{label:"Grid Step",children:x(Ie,{value:this.state.gridStepTextbox,onChange:this.changeGridStep})})})]}),x("div",{className:"perseus-widget-row",children:x("div",{className:"perseus-widget-left-col",children:x(V,{label:"Snap Step",children:x(Ie,{value:this.state.snapStepTextbox,onChange:this.changeSnapStep})})})}),x("div",{className:"perseus-widget-row",children:x(V,{label:"Markings:",children:x(Fr,{value:this.props.markings,allowEmpty:!1,buttons:[{value:"graph",content:"Graph"},{value:"grid",content:"Grid"},{value:"none",content:"None"}],onChange:this.change("markings")})})}),x("div",{className:"perseus-widget-left-col",children:x(mt,{label:"Show tooltips",showTooltips:this.props.showTooltips,onChange:this.change})})]}),j(V,{label:"Background image URL:",style:Y.resetSpaceTop,children:[x("input",{type:"text",className:S.css(Y.backgroundUrlInput),ref:this.bgUrlRef,value:this.state.backgroundImage.url||"",onChange:t=>{const e={...this.props.backgroundImage};e.url=t.target.value,this.setState({backgroundImage:e})},onKeyPress:this.changeBackgroundUrl,onBlur:this.changeBackgroundUrl}),x(Mr,{children:x("p",{children:'Create an image in graphie, or use the "Add image" function to create a background.'})})]}),j(C,{style:Y.rulerSection,children:[j(C,{style:Y.checkboxRow,children:[x(mt,{label:"Show ruler",showRuler:this.props.showRuler,onChange:this.change,style:Y.resetSpaceTop}),x(mt,{label:"Show protractor",showProtractor:this.props.showProtractor,onChange:this.change,style:Y.resetSpaceTop})]}),this.props.showRuler&&j(C,{style:Y.spaceTop,children:[x(V,{label:"Ruler label:",style:Y.resetSpaceTop,children:j(xt,{id:"ruler-label-select",selectedValue:this.props.rulerLabel,onChange:t=>{this.change({rulerLabel:t})},placeholder:"None",style:Y.singleSelectShort,children:[x(B,{value:"",label:"None",horizontalRule:"full-width"}),x(B,{value:"mm",label:"Milimeters"}),x(B,{value:"cm",label:"Centimeters"}),x(B,{value:"m",label:"Meters"}),x(B,{value:"km",label:"Kilometers",horizontalRule:"full-width"}),x(B,{value:"in",label:"Inches"}),x(B,{value:"ft",label:"Feet"}),x(B,{value:"yd",label:"Yards"}),x(B,{value:"mi",label:"Miles"})]})}),x(V,{label:"Ruler ticks:",children:x(xt,{id:"ruler-ticks-select",selectedValue:`${this.props.rulerTicks}`,onChange:t=>{this.change({rulerTicks:t})},placeholder:"10",style:Y.singleSelectShort,children:[1,2,4,8,10,16].map(t=>x(B,{value:`${t}`,label:`${t}`},t))})})]})]})]})}};Oe.defaultProps={box:[Ft.defaultBoxSizeSmall,Ft.defaultBoxSizeSmall],labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],snapStep:[1,1],valid:!0,backgroundImage:Br,markings:"graph",showProtractor:!1,showRuler:!1,showTooltips:!1,rulerLabel:"",rulerTicks:10};let $e=Oe;const Y=S.StyleSheet.create({resetSpaceTop:{marginTop:0},spaceTop:{marginTop:h.xSmall_8},singleSelectShort:{height:26},backgroundUrlInput:{border:`1px solid ${l.offBlack32}`,borderRadius:h.xxxSmall_4,padding:h.xxxSmall_4},checkboxRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},rulerSection:{marginTop:h.xSmall_8,borderTop:`1px solid ${l.offBlack16}`,paddingTop:h.xSmall_8,paddingBottom:h.xSmall_8,borderBottom:`1px solid ${l.offBlack16}`}}),mi=$e;try{$e.displayName="InteractiveGraphSettings",$e.__docgenInfo={description:"",displayName:"InteractiveGraphSettings",props:{box:{defaultValue:{value:`[
            interactiveSizes.defaultBoxSizeSmall,
            interactiveSizes.defaultBoxSizeSmall,
        ]`},description:"The size of the graph area in pixels.",name:"box",required:!1,type:{name:"[x: number, y: number]"}},labels:{defaultValue:{value:'["x", "y"]'},description:"The labels for the x and y axes.",name:"labels",required:!1,type:{name:"readonly string[]"}},range:{defaultValue:{value:`[
            [-10, 10],
            [-10, 10],
        ]`},description:"The range of the graph.",name:"range",required:!1,type:{name:"[x: Range, y: Range]"}},step:{defaultValue:{value:"[1, 1]"},description:`How far apart the tick marks on the axes are in the x and y
directions.`,name:"step",required:!1,type:{name:"[x: number, y: number]"}},gridStep:{defaultValue:{value:"[1, 1]"},description:"How far apart the grid lines are in the x and y directions.",name:"gridStep",required:!1,type:{name:"[x: number, y: number]"}},snapStep:{defaultValue:{value:"[1, 1]"},description:"How far apart the snap-to points are in the x and y directions.",name:"snapStep",required:!1,type:{name:"[x: number, y: number]"}},valid:{defaultValue:{value:"true"},description:`An error message to display in the graph area, or true if the
graph is valid.`,name:"valid",required:!1,type:{name:"string | boolean"}},backgroundImage:{defaultValue:{value:`{
    url: null,
    width: 0,
    height: 0,
} as const`},description:"The background image to display in the graph area and its properties.",name:"backgroundImage",required:!1,type:{name:"PerseusImageBackground"}},markings:{defaultValue:{value:"graph"},description:`The type of markings to display on the graph.
- graph: shows the axes and the grid lines
- grid: shows only the grid lines
- none: shows no markings`,name:"markings",required:!1,type:{name:"enum",value:[{value:'"graph"'},{value:'"grid"'},{value:'"none"'}]}},showProtractor:{defaultValue:{value:"false"},description:"Whether to show the protractor on the graph.",name:"showProtractor",required:!1,type:{name:"boolean"}},showRuler:{defaultValue:{value:"false"},description:"Whether to show the ruler on the graph.",name:"showRuler",required:!1,type:{name:"boolean"}},showTooltips:{defaultValue:{value:"false"},description:"Whether to show tooltips on the graph.",name:"showTooltips",required:!1,type:{name:"boolean"}},rulerLabel:{defaultValue:{value:""},description:"The label to display on the ruler, if any.",name:"rulerLabel",required:!1,type:{name:"string"}},rulerTicks:{defaultValue:{value:"10"},description:"The number of ticks to display on the ruler.",name:"rulerTicks",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(arg1: Partial<Props>) => void"}}}}}catch{}export{co as C,mi as I,V as L,B as O,xt as S};
