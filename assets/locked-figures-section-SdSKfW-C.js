import{j as l,a as f}from"./jsx-runtime-BGVbfQ2Z.js";import{B as _}from"./choice-I7vspaEF.js";import{V as m,u as b}from"./index-oMd7J_hd.js";import{S as C}from"./index-D5BWnz-K.js";import{s as d,c as P}from"./index-lUErx3pE.js";import{l as k}from"./index-awljIyHI.js";import{r as L}from"./index-qhcEwEpg.js";import{a as x,b as M}from"./answer-choices-pUTJh6qw.js";import{L as E}from"./locked-ellipse-settings--ubXFXnG.js";import{L as T}from"./locked-line-settings-EdDc0BlC.js";import{L as $}from"./locked-point-settings-sQfh2X0y.js";import{L as A}from"./locked-polygon-settings-UlqS2m8X.js";import{L as I}from"./locked-vector-settings-u4kUApeQ.js";import{g as N}from"./util-RicqMZ0C.js";const B=e=>{const{id:c,onChange:r}=e,u=e.showM2Features?["point","line","vector","ellipse","polygon"]:["point","line"];return l(m,{style:y.container,children:l(x,{menuText:"Add locked figure",style:y.addElementSelect,children:u.map(i=>l(M,{label:i,onClick:()=>r(i),children:i},`${c}-${i}`))})})},y=k.StyleSheet.create({container:{marginTop:d.xSmall_8},addElementSelect:{backgroundColor:P.fadedBlue8,borderRadius:d.xxxSmall_4}});try{lockedfigureselect.displayName="lockedfigureselect",lockedfigureselect.__docgenInfo={description:"",displayName:"lockedfigureselect",props:{showM2Features:{defaultValue:null,description:"",name:"showM2Features",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}}}catch{}const R=e=>{switch(e.type){case"point":return l($,{...e});case"line":return l(T,{...e});case"vector":if(e.showM2Features)return l(I,{...e});break;case"ellipse":if(e.showM2Features)return l(E,{...e});break;case"polygon":if(e.showM2Features)return l(A,{...e})}return null};try{lockedfiguresettings.displayName="lockedfiguresettings",lockedfiguresettings.__docgenInfo={description:"",displayName:"lockedfiguresettings",props:{showM2Features:{defaultValue:null,description:"",name:"showM2Features",required:!1,type:{name:"boolean"}},expanded:{defaultValue:null,description:"Whether this accordion is expanded.",name:"expanded",required:!1,type:{name:"boolean"}},onToggle:{defaultValue:null,description:"Called when the accordion is expanded or collapsed.",name:"onToggle",required:!1,type:{name:"((expanded: boolean) => void)"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"polygon"'},{value:'"ellipse"'},{value:'"vector"'},{value:'"line"'},{value:'"point"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"readonly Coord[] | [tail: Coord, tip: Coord] | [point1: LockedPointType, point2: LockedPointType]"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"blue"'},{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"orange"'},{value:'"red"'}]}},showVertices:{defaultValue:null,description:"",name:"showVertices",required:!0,type:{name:"boolean"}},fillStyle:{defaultValue:null,description:"",name:"fillStyle",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"solid"'},{value:'"translucent"'}]}},strokeStyle:{defaultValue:null,description:"",name:"strokeStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},onRemove:{defaultValue:null,description:"Called when the delete button is pressed.",name:"onRemove",required:!0,type:{name:"(() => void) | (() => void) | (() => void) | (() => void) | (() => void)"}},onChangeProps:{defaultValue:null,description:`Called when the props (coords, color, etc.) are updated.
Called when the props (points, color, etc.) are updated.`,name:"onChangeProps",required:!0,type:{name:"((newProps: Partial<LockedPolygonType>) => void) | ((newProps: Partial<LockedEllipseType>) => void) | ((newProps: Partial<LockedFigure>) => void) | ((newProps: Partial<...>) => void) | ((newProps: Partial<...>) => void)"}},center:{defaultValue:null,description:"",name:"center",required:!0,type:{name:"Coord"}},radius:{defaultValue:null,description:"",name:"radius",required:!0,type:{name:"[x: number, y: number]"}},angle:{defaultValue:null,description:"",name:"angle",required:!0,type:{name:"number"}},coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"Coord"}},filled:{defaultValue:null,description:"",name:"filled",required:!0,type:{name:"boolean"}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showPoint1:{defaultValue:null,description:"",name:"showPoint1",required:!0,type:{name:"boolean"}},showPoint2:{defaultValue:null,description:"",name:"showPoint2",required:!0,type:{name:"boolean"}}}}}catch{}const j=e=>{const c=Array((e.figures??[]).length).fill(!1),[r,u]=L.useState(c),i=b().get("locked-figures-section"),{figures:o,onChange:p}=e;function v(t){const n={lockedFigures:[...o||[],N(t)]};p(n),u([...r,!0])}function w(t){if(window.confirm("Are you sure you want to delete this figure?")){const a=o||[];p({lockedFigures:[...a.slice(0,t),...a.slice(t+1)]});const n=[...r];n.splice(t,1),u(n)}}function F(t,a){const n=o||[],s={lockedFigures:[...n.slice(0,t),{...n[t],...a},...n.slice(t+1)]};p(s)}function S(t){u(Array(o==null?void 0:o.length).fill(t))}const g=r.every(t=>!t),V=g?"Expand all":"Collapse all",q=!!(o!=null&&o.length);return f(m,{children:[o==null?void 0:o.map((t,a)=>l(R,{showM2Features:e.showM2Features,expanded:r[a],onToggle:n=>{const s=[...r];s[a]=n,u(s)},...t,onChangeProps:n=>F(a,n),onRemove:()=>w(a)},`${i}-locked-${t}-${a}`)),f(m,{style:h.buttonContainer,children:[l(B,{showM2Features:e.showM2Features,id:`${i}-select`,onChange:v}),l(C,{size:d.small_12}),q&&l(_,{kind:"secondary",onClick:()=>S(g),style:h.button,children:V})]})]})},h=k.StyleSheet.create({buttonContainer:{flexDirection:"row",alignItems:"center"},button:{marginTop:d.xSmall_8,flexGrow:1}}),te=j;try{lockedfiguressection.displayName="lockedfiguressection",lockedfiguressection.__docgenInfo={description:"",displayName:"lockedfiguressection",props:{showM2Features:{defaultValue:null,description:"",name:"showM2Features",required:!0,type:{name:"boolean"}},figures:{defaultValue:null,description:"",name:"figures",required:!1,type:{name:"LockedFigure[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(props: Partial<Props>) => void"}}}}}catch{}export{te as L};
