import{j as r,a as f}from"./jsx-runtime-BGVbfQ2Z.js";import{B as q}from"./choice-Cuuk71zx.js";import{V as c,u as V}from"./index-4c2J3ov1.js";import{S as b}from"./index-h47zdzUa.js";import{s,c as x}from"./index-lUErx3pE.js";import{l as v}from"./index-awljIyHI.js";import{r as F}from"./index-qhcEwEpg.js";import{a as E,b as y}from"./answer-choices-Omi0MrWW.js";import{L as T}from"./locked-line-settings-S-eAW8d7.js";import{L as $}from"./locked-point-settings-Hw-6fJJy.js";import{g as I}from"./util-cblgOEF4.js";const A=t=>{const{id:a,onChange:i}=t;return r(c,{style:h.container,children:r(E,{menuText:"Add locked figure",style:h.addElementSelect,children:[r(y,{label:"Point",onClick:()=>i("point"),children:"Point"},`${a}-point`),r(y,{label:"Line",onClick:()=>i("line"),children:"Line"},`${a}-line`)]})})},h=v.StyleSheet.create({container:{marginTop:s.xSmall_8},addElementSelect:{backgroundColor:x.fadedBlue8,borderRadius:s.xxxSmall_4}});try{lockedfigureselect.displayName="lockedfigureselect",lockedfigureselect.__docgenInfo={description:"",displayName:"lockedfigureselect",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}}}catch{}const N=t=>{switch(t.type){case"point":return r($,{...t});case"line":return r(T,{...t})}return null};try{lockedfiguresettings.displayName="lockedfiguresettings",lockedfiguresettings.__docgenInfo={description:"",displayName:"lockedfiguresettings",props:{expanded:{defaultValue:null,description:"Whether this accordion is expanded.",name:"expanded",required:!1,type:{name:"boolean"}},onToggle:{defaultValue:null,description:"Called when the accordion is expanded or collapsed.",name:"onToggle",required:!1,type:{name:"((expanded: boolean) => void)"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"point"'},{value:'"line"'}]}},coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"Coord"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},filled:{defaultValue:null,description:"",name:"filled",required:!0,type:{name:"boolean"}},onRemove:{defaultValue:null,description:"Called when the delete button is pressed.",name:"onRemove",required:!0,type:{name:"(() => void) | (() => void)"}},onChangeProps:{defaultValue:null,description:`Called when the props (coords, color, etc.) are updated.
Called when the props (points, color, etc.) are updated.`,name:"onChangeProps",required:!0,type:{name:"((newProps: Partial<LockedPointType>) => void) | ((newProps: Partial<LockedFigure>) => void)"}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[point1: LockedPointType, point2: LockedPointType]"}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showPoint1:{defaultValue:null,description:"",name:"showPoint1",required:!0,type:{name:"boolean"}},showPoint2:{defaultValue:null,description:"",name:"showPoint2",required:!0,type:{name:"boolean"}}}}}catch{}const B=t=>{var g;const[a,i]=F.useState(Array((g=t.figures)==null?void 0:g.length).fill(!1)),p=V().get("locked-figures-section"),{figures:n,onChange:u}=t;function _(e){const o={lockedFigures:[...n||[],I(e)]};u(o),i([...a,!0])}function C(e){if(window.confirm("Are you sure you want to delete this figure?")){const l=n||[];u({lockedFigures:[...l.slice(0,e),...l.slice(e+1)]});const o=[...a];o.splice(e,1),i(o)}}function S(e,l){const o=n||[],d={lockedFigures:[...o.slice(0,e),{...o[e],...l},...o.slice(e+1)]};u(d)}function w(e){i(Array(n==null?void 0:n.length).fill(e))}const m=a.every(e=>!e),P=m?"Expand all":"Collapse all",L=!!(n!=null&&n.length);return f(c,{children:[n==null?void 0:n.map((e,l)=>r(N,{expanded:a[l],onToggle:o=>{const d=[...a];d[l]=o,i(d)},...e,onChangeProps:o=>S(l,o),onRemove:()=>C(l)},`${p}-locked-${e}-${l}`)),f(c,{style:k.buttonContainer,children:[r(A,{id:`${p}-select`,onChange:_}),r(b,{size:s.small_12}),L&&r(q,{kind:"secondary",onClick:()=>w(m),style:k.button,children:P})]})]})},k=v.StyleSheet.create({buttonContainer:{flexDirection:"row",alignItems:"center"},button:{marginTop:s.xSmall_8,flexGrow:1}}),O=B;try{lockedfiguressection.displayName="lockedfiguressection",lockedfiguressection.__docgenInfo={description:"",displayName:"lockedfiguressection",props:{figures:{defaultValue:null,description:"",name:"figures",required:!1,type:{name:"LockedFigure[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(props: Partial<Props>) => void"}}}}}catch{}export{O as L};
