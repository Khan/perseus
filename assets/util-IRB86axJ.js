import{a as lt}from"./index-sg7rMpMn.js";import{_ as ue}from"./index-default-4_ZsnO94.js";import{c as ot,g as ft}from"./_commonjsHelpers-4gQjN7DL.js";import{P as je,E as et}from"./perseus-error-l3K_anoI.js";import{$ as he}from"./jquery-5v7aFUvu.js";const wt="@khanacademy/kas",xt="__lib_version__";lt(wt,xt);var He={exports:{}};(function(u,t){(function(){var n=this,a=n._,o={},l=Array.prototype,f=Object.prototype,v=Function.prototype,E=l.push,p=l.slice,d=l.concat,g=f.toString,m=f.hasOwnProperty,R=l.forEach,I=l.map,_=l.reduce,k=l.reduceRight,D=l.filter,H=l.every,X=l.some,re=l.indexOf,de=l.lastIndexOf,J=Array.isArray,j=Object.keys,ie=v.bind,i=function(e){if(e instanceof i)return e;if(!(this instanceof i))return new i(e);this._wrapped=e};u.exports&&(t=u.exports=i),t._=i,i.VERSION="1.4.4";var L=i.each=i.forEach=function(e,r,s){if(e!=null){if(R&&e.forEach===R)e.forEach(r,s);else if(e.length===+e.length){for(var c=0,h=e.length;c<h;c++)if(r.call(s,e[c],c,e)===o)return}else for(var x in e)if(i.has(e,x)&&r.call(s,e[x],x,e)===o)return}};i.map=i.collect=function(e,r,s){var c=[];return e==null?c:I&&e.map===I?e.map(r,s):(L(e,function(h,x,w){c[c.length]=r.call(s,h,x,w)}),c)};var ge="Reduce of empty array with no initial value";i.reduce=i.foldl=i.inject=function(e,r,s,c){var h=arguments.length>2;if(e==null&&(e=[]),_&&e.reduce===_)return c&&(r=i.bind(r,c)),h?e.reduce(r,s):e.reduce(r);if(L(e,function(x,w,b){h?s=r.call(c,s,x,w,b):(s=x,h=!0)}),!h)throw new TypeError(ge);return s},i.reduceRight=i.foldr=function(e,r,s,c){var h=arguments.length>2;if(e==null&&(e=[]),k&&e.reduceRight===k)return c&&(r=i.bind(r,c)),h?e.reduceRight(r,s):e.reduceRight(r);var x=e.length;if(x!==+x){var w=i.keys(e);x=w.length}if(L(e,function(b,P,W){P=w?w[--x]:--x,h?s=r.call(c,s,e[P],P,W):(s=e[P],h=!0)}),!h)throw new TypeError(ge);return s},i.find=i.detect=function(e,r,s){var c;return Z(e,function(h,x,w){if(r.call(s,h,x,w))return c=h,!0}),c},i.filter=i.select=function(e,r,s){var c=[];return e==null?c:D&&e.filter===D?e.filter(r,s):(L(e,function(h,x,w){r.call(s,h,x,w)&&(c[c.length]=h)}),c)},i.reject=function(e,r,s){return i.filter(e,function(c,h,x){return!r.call(s,c,h,x)},s)},i.every=i.all=function(e,r,s){r||(r=i.identity);var c=!0;return e==null?c:H&&e.every===H?e.every(r,s):(L(e,function(h,x,w){if(!(c=c&&r.call(s,h,x,w)))return o}),!!c)};var Z=i.some=i.any=function(e,r,s){r||(r=i.identity);var c=!1;return e==null?c:X&&e.some===X?e.some(r,s):(L(e,function(h,x,w){if(c||(c=r.call(s,h,x,w)))return o}),!!c)};i.contains=i.include=function(e,r){return e==null?!1:re&&e.indexOf===re?e.indexOf(r)!=-1:Z(e,function(s){return s===r})},i.invoke=function(e,r){var s=p.call(arguments,2),c=i.isFunction(r);return i.map(e,function(h){return(c?r:h[r]).apply(h,s)})},i.pluck=function(e,r){return i.map(e,function(s){return s[r]})},i.where=function(e,r,s){return i.isEmpty(r)?s?null:[]:i[s?"find":"filter"](e,function(c){for(var h in r)if(r[h]!==c[h])return!1;return!0})},i.findWhere=function(e,r){return i.where(e,r,!0)},i.max=function(e,r,s){if(!r&&i.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!r&&i.isEmpty(e))return-1/0;var c={computed:-1/0,value:-1/0};return L(e,function(h,x,w){var b=r?r.call(s,h,x,w):h;b>=c.computed&&(c={value:h,computed:b})}),c.value},i.min=function(e,r,s){if(!r&&i.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!r&&i.isEmpty(e))return 1/0;var c={computed:1/0,value:1/0};return L(e,function(h,x,w){var b=r?r.call(s,h,x,w):h;b<c.computed&&(c={value:h,computed:b})}),c.value},i.shuffle=function(e){var r,s=0,c=[];return L(e,function(h){r=i.random(s++),c[s-1]=c[r],c[r]=h}),c};var Q=function(e){return i.isFunction(e)?e:function(r){return r[e]}};i.sortBy=function(e,r,s){var c=Q(r);return i.pluck(i.map(e,function(h,x,w){return{value:h,index:x,criteria:c.call(s,h,x,w)}}).sort(function(h,x){var w=h.criteria,b=x.criteria;if(w!==b){if(w>b||w===void 0)return 1;if(w<b||b===void 0)return-1}return h.index<x.index?-1:1}),"value")};var A=function(e,r,s,c){var h={},x=Q(r||i.identity);return L(e,function(w,b){var P=x.call(s,w,b,e);c(h,P,w)}),h};i.groupBy=function(e,r,s){return A(e,r,s,function(c,h,x){(i.has(c,h)?c[h]:c[h]=[]).push(x)})},i.countBy=function(e,r,s){return A(e,r,s,function(c,h){i.has(c,h)||(c[h]=0),c[h]++})},i.sortedIndex=function(e,r,s,c){s=s==null?i.identity:Q(s);for(var h=s.call(c,r),x=0,w=e.length;x<w;){var b=x+w>>>1;s.call(c,e[b])<h?x=b+1:w=b}return x},i.toArray=function(e){return e?i.isArray(e)?p.call(e):e.length===+e.length?i.map(e,i.identity):i.values(e):[]},i.size=function(e){return e==null?0:e.length===+e.length?e.length:i.keys(e).length},i.first=i.head=i.take=function(e,r,s){if(e!=null)return r!=null&&!s?p.call(e,0,r):e[0]},i.initial=function(e,r,s){return p.call(e,0,e.length-(r==null||s?1:r))},i.last=function(e,r,s){if(e!=null)return r!=null&&!s?p.call(e,Math.max(e.length-r,0)):e[e.length-1]},i.rest=i.tail=i.drop=function(e,r,s){return p.call(e,r==null||s?1:r)},i.compact=function(e){return i.filter(e,i.identity)};var C=function(e,r,s){return L(e,function(c){i.isArray(c)?r?E.apply(s,c):C(c,r,s):s.push(c)}),s};i.flatten=function(e,r){return C(e,r,[])},i.without=function(e){return i.difference(e,p.call(arguments,1))},i.uniq=i.unique=function(e,r,s,c){i.isFunction(r)&&(c=s,s=r,r=!1);var h=s?i.map(e,s,c):e,x=[],w=[];return L(h,function(b,P){(r?!P||w[w.length-1]!==b:!i.contains(w,b))&&(w.push(b),x.push(e[P]))}),x},i.union=function(){return i.uniq(d.apply(l,arguments))},i.intersection=function(e){var r=p.call(arguments,1);return i.filter(i.uniq(e),function(s){return i.every(r,function(c){return i.indexOf(c,s)>=0})})},i.difference=function(e){var r=d.apply(l,p.call(arguments,1));return i.filter(e,function(s){return!i.contains(r,s)})},i.zip=function(){for(var e=p.call(arguments),r=i.max(i.pluck(e,"length")),s=new Array(r),c=0;c<r;c++)s[c]=i.pluck(e,""+c);return s},i.object=function(e,r){if(e==null)return{};for(var s={},c=0,h=e.length;c<h;c++)r?s[e[c]]=r[c]:s[e[c][0]]=e[c][1];return s},i.indexOf=function(e,r,s){if(e==null)return-1;var c=0,h=e.length;if(s)if(typeof s=="number")c=s<0?Math.max(0,h+s):s;else return c=i.sortedIndex(e,r),e[c]===r?c:-1;if(re&&e.indexOf===re)return e.indexOf(r,s);for(;c<h;c++)if(e[c]===r)return c;return-1},i.lastIndexOf=function(e,r,s){if(e==null)return-1;var c=s!=null;if(de&&e.lastIndexOf===de)return c?e.lastIndexOf(r,s):e.lastIndexOf(r);for(var h=c?s:e.length;h--;)if(e[h]===r)return h;return-1},i.range=function(e,r,s){arguments.length<=1&&(r=e||0,e=0),s=arguments[2]||1;for(var c=Math.max(Math.ceil((r-e)/s),0),h=0,x=new Array(c);h<c;)x[h++]=e,e+=s;return x},i.bind=function(e,r){if(e.bind===ie&&ie)return ie.apply(e,p.call(arguments,1));var s=p.call(arguments,2);return function(){return e.apply(r,s.concat(p.call(arguments)))}},i.partial=function(e){var r=p.call(arguments,1);return function(){return e.apply(this,r.concat(p.call(arguments)))}},i.bindAll=function(e){var r=p.call(arguments,1);return r.length===0&&(r=i.functions(e)),L(r,function(s){e[s]=i.bind(e[s],e)}),e},i.memoize=function(e,r){var s={};return r||(r=i.identity),function(){var c=r.apply(this,arguments);return i.has(s,c)?s[c]:s[c]=e.apply(this,arguments)}},i.delay=function(e,r){var s=p.call(arguments,2);return setTimeout(function(){return e.apply(null,s)},r)},i.defer=function(e){return i.delay.apply(i,[e,1].concat(p.call(arguments,1)))},i.throttle=function(e,r){var s,c,h,x,w=0,b=function(){w=new Date,h=null,x=e.apply(s,c)};return function(){var P=new Date,W=r-(P-w);return s=this,c=arguments,W<=0?(clearTimeout(h),h=null,w=P,x=e.apply(s,c)):h||(h=setTimeout(b,W)),x}},i.debounce=function(e,r,s){var c,h;return function(){var x=this,w=arguments,b=function(){c=null,s||(h=e.apply(x,w))},P=s&&!c;return clearTimeout(c),c=setTimeout(b,r),P&&(h=e.apply(x,w)),h}},i.once=function(e){var r=!1,s;return function(){return r||(r=!0,s=e.apply(this,arguments),e=null),s}},i.wrap=function(e,r){return function(){var s=[e];return E.apply(s,arguments),r.apply(this,s)}},i.compose=function(){var e=arguments;return function(){for(var r=arguments,s=e.length-1;s>=0;s--)r=[e[s].apply(this,r)];return r[0]}},i.after=function(e,r){return e<=0?r():function(){if(--e<1)return r.apply(this,arguments)}},i.keys=j||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var r=[];for(var s in e)i.has(e,s)&&(r[r.length]=s);return r},i.values=function(e){var r=[];for(var s in e)i.has(e,s)&&r.push(e[s]);return r},i.pairs=function(e){var r=[];for(var s in e)i.has(e,s)&&r.push([s,e[s]]);return r},i.invert=function(e){var r={};for(var s in e)i.has(e,s)&&(r[e[s]]=s);return r},i.functions=i.methods=function(e){var r=[];for(var s in e)i.isFunction(e[s])&&r.push(s);return r.sort()},i.extend=function(e){return L(p.call(arguments,1),function(r){if(r)for(var s in r)e[s]=r[s]}),e},i.pick=function(e){var r={},s=d.apply(l,p.call(arguments,1));return L(s,function(c){c in e&&(r[c]=e[c])}),r},i.omit=function(e){var r={},s=d.apply(l,p.call(arguments,1));for(var c in e)i.contains(s,c)||(r[c]=e[c]);return r},i.defaults=function(e){return L(p.call(arguments,1),function(r){if(r)for(var s in r)e[s]==null&&(e[s]=r[s])}),e},i.clone=function(e){return i.isObject(e)?i.isArray(e)?e.slice():i.extend({},e):e},i.tap=function(e,r){return r(e),e};var O=function(e,r,s,c){if(e===r)return e!==0||1/e==1/r;if(e==null||r==null)return e===r;e instanceof i&&(e=e._wrapped),r instanceof i&&(r=r._wrapped);var h=g.call(e);if(h!=g.call(r))return!1;switch(h){case"[object String]":return e==String(r);case"[object Number]":return e!=+e?r!=+r:e==0?1/e==1/r:e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object RegExp]":return e.source==r.source&&e.global==r.global&&e.multiline==r.multiline&&e.ignoreCase==r.ignoreCase}if(typeof e!="object"||typeof r!="object")return!1;for(var x=s.length;x--;)if(s[x]==e)return c[x]==r;s.push(e),c.push(r);var w=0,b=!0;if(h=="[object Array]"){if(w=e.length,b=w==r.length,b)for(;w--&&(b=O(e[w],r[w],s,c)););}else{var P=e.constructor,W=r.constructor;if(P!==W&&!(i.isFunction(P)&&P instanceof P&&i.isFunction(W)&&W instanceof W))return!1;for(var Y in e)if(i.has(e,Y)&&(w++,!(b=i.has(r,Y)&&O(e[Y],r[Y],s,c))))break;if(b){for(Y in r)if(i.has(r,Y)&&!w--)break;b=!w}}return s.pop(),c.pop(),b};i.isEqual=function(e,r){return O(e,r,[],[])},i.isEmpty=function(e){if(e==null)return!0;if(i.isArray(e)||i.isString(e))return e.length===0;for(var r in e)if(i.has(e,r))return!1;return!0},i.isElement=function(e){return!!(e&&e.nodeType===1)},i.isArray=J||function(e){return g.call(e)=="[object Array]"},i.isObject=function(e){return e===Object(e)},L(["Arguments","Function","String","Number","Date","RegExp"],function(e){i["is"+e]=function(r){return g.call(r)=="[object "+e+"]"}}),i.isArguments(arguments)||(i.isArguments=function(e){return!!(e&&i.has(e,"callee"))}),typeof/./!="function"&&(i.isFunction=function(e){return typeof e=="function"}),i.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},i.isNaN=function(e){return i.isNumber(e)&&e!=+e},i.isBoolean=function(e){return e===!0||e===!1||g.call(e)=="[object Boolean]"},i.isNull=function(e){return e===null},i.isUndefined=function(e){return e===void 0},i.has=function(e,r){return m.call(e,r)},i.noConflict=function(){return n._=a,this},i.identity=function(e){return e},i.times=function(e,r,s){for(var c=Array(e),h=0;h<e;h++)c[h]=r.call(s,h);return c},i.random=function(e,r){return r==null&&(r=e,e=0),e+Math.floor(Math.random()*(r-e+1))};var S={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};S.unescape=i.invert(S.escape);var G={escape:new RegExp("["+i.keys(S.escape).join("")+"]","g"),unescape:new RegExp("("+i.keys(S.unescape).join("|")+")","g")};i.each(["escape","unescape"],function(e){i[e]=function(r){return r==null?"":(""+r).replace(G[e],function(s){return S[e][s]})}}),i.result=function(e,r){if(e==null)return null;var s=e[r];return i.isFunction(s)?s.call(e):s},i.mixin=function(e){L(i.functions(e),function(r){var s=i[r]=e[r];i.prototype[r]=function(){var c=[this._wrapped];return E.apply(c,arguments),me.call(this,s.apply(i,c))}})};var q=0;i.uniqueId=function(e){var r=++q+"";return e?e+r:r},i.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var le=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},fe=/\\|'|\r|\n|\t|\u2028|\u2029/g;i.template=function(e,r,s){var c;s=i.defaults({},s,i.templateSettings);var h=new RegExp([(s.escape||le).source,(s.interpolate||le).source,(s.evaluate||le).source].join("|")+"|$","g"),x=0,w="__p+='";e.replace(h,function(P,W,Y,ye,pe){return w+=e.slice(x,pe).replace(fe,function(Ie){return"\\"+V[Ie]}),W&&(w+=`'+
((__t=(`+W+`))==null?'':_.escape(__t))+
'`),Y&&(w+=`'+
((__t=(`+Y+`))==null?'':__t)+
'`),ye&&(w+=`';
`+ye+`
__p+='`),x=pe+P.length,P}),w+=`';
`,s.variable||(w=`with(obj||{}){
`+w+`}
`),w=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+w+`return __p;
`;try{c=new Function(s.variable||"obj","_",w)}catch(P){throw P.source=w,P}if(r)return c(r,i);var b=function(P){return c.call(this,P,i)};return b.source="function("+(s.variable||"obj")+`){
`+w+"}",b},i.chain=function(e){return i(e).chain()};var me=function(e){return this._chain?i(e).chain():e};i.mixin(i),L(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var r=l[e];i.prototype[e]=function(){var s=this._wrapped;return r.apply(s,arguments),(e=="shift"||e=="splice")&&s.length===0&&delete s[0],me.call(this,s)}}),L(["concat","join","slice"],function(e){var r=l[e];i.prototype[e]=function(){return me.call(this,r.apply(this._wrapped,arguments))}}),i.extend(i.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(ot)})(He,He.exports);var Et=He.exports;const y=ft(Et);(function(){var u=function(p,d,g,m){for(g=g||{},m=p.length;m--;g[p[m]]=d);return g},t=[1,11],n=[1,9],a=[8,17],o=[6,11],l=[6,11,13,17],f={trace:function(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function(d,g,m,R,I,_,k){var D=_.length-1;switch(I){case 1:return{type:"unitMagnitude",magnitude:_[D-2],unit:_[D-1]};case 2:return{type:"unitStandalone",unit:_[D-1]};case 3:this.$=_[D-2]+"e"+_[D];break;case 4:case 13:case 14:case 15:case 17:this.$=_[D];break;case 5:this.$={num:_[D-2],denom:_[D]};break;case 6:this.$={num:_[D],denom:null};break;case 7:this.$=[_[D-2]].concat(_[D]);break;case 8:this.$=[_[D-1]].concat(_[D]);break;case 9:this.$=[_[D]];break;case 10:this.$={name:_[D-2],pow:_[D]};break;case 11:this.$={name:_[D],pow:1};break;case 12:this.$=d;break;case 16:this.$="-"+_[D];break}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:t,18:[1,6],19:n},{1:[3]},{5:12,10:5,12:8,14:10,17:t},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},u(a,[2,13]),u(a,[2,14]),u(o,[2,9],{12:8,14:10,10:17,13:[1,16],17:t}),u([6,8,11,13,17],[2,15]),u(l,[2,11],{15:[1,18]}),u([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:t},{10:24,12:8,14:10,17:t},u(o,[2,8]),{16:25,19:n},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},u(o,[2,7]),u(l,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function(d,g){if(g.recoverable)this.trace(d);else throw new Error(d)},parse:function(d){var g=this,m=[0],R=[null],I=[],_=this.table,k="",D=0,H=0,X=2,re=1,de=I.slice.call(arguments,1),J=Object.create(this.lexer),j={yy:{}};for(var ie in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ie)&&(j.yy[ie]=this.yy[ie]);J.setInput(d,j.yy),j.yy.lexer=J,j.yy.parser=this,typeof J.yylloc>"u"&&(J.yylloc={});var i=J.yylloc;I.push(i);var L=J.options&&J.options.ranges;typeof j.yy.parseError=="function"?this.parseError=j.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(){var fe;return fe=J.lex()||re,typeof fe!="number"&&(fe=g.symbols_[fe]||fe),fe}for(var Z,Q,A,C,O={},S,G,q,le;;){if(Q=m[m.length-1],this.defaultActions[Q]?A=this.defaultActions[Q]:((Z===null||typeof Z>"u")&&(Z=ge()),A=_[Q]&&_[Q][Z]),typeof A>"u"||!A.length||!A[0]){var V="";le=[];for(S in _[Q])this.terminals_[S]&&S>X&&le.push("'"+this.terminals_[S]+"'");J.showPosition?V="Parse error on line "+(D+1)+`:
`+J.showPosition()+`
Expecting `+le.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":V="Parse error on line "+(D+1)+": Unexpected "+(Z==re?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(V,{text:J.match,token:this.terminals_[Z]||Z,line:J.yylineno,loc:i,expected:le})}if(A[0]instanceof Array&&A.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Q+", token: "+Z);switch(A[0]){case 1:m.push(Z),R.push(J.yytext),I.push(J.yylloc),m.push(A[1]),Z=null,H=J.yyleng,k=J.yytext,D=J.yylineno,i=J.yylloc;break;case 2:if(G=this.productions_[A[1]][1],O.$=R[R.length-G],O._$={first_line:I[I.length-(G||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(G||1)].first_column,last_column:I[I.length-1].last_column},L&&(O._$.range=[I[I.length-(G||1)].range[0],I[I.length-1].range[1]]),C=this.performAction.apply(O,[k,H,D,j.yy,A[1],R,I].concat(de)),typeof C<"u")return C;G&&(m=m.slice(0,-1*G*2),R=R.slice(0,-1*G),I=I.slice(0,-1*G)),m.push(this.productions_[A[1]][0]),R.push(O.$),I.push(O._$),q=_[m[m.length-2]][m[m.length-1]],m.push(q);break;case 3:return!0}}return!0}},v=function(){var p={EOF:1,parseError:function(g,m){if(this.yy.parser)this.yy.parser.parseError(g,m);else throw new Error(g)},setInput:function(d,g){return this.yy=g||this.yy||{},this._input=d,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var g=d.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),d},unput:function(d){var g=d.length,m=d.split(/(?:\r\n?|\n)/g);this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===R.length?this.yylloc.first_column:0)+R[R.length-m.length].length-m[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(d){this.unput(this.match.slice(d))},pastInput:function(){var d=this.matched.substr(0,this.matched.length-this.match.length);return(d.length>20?"...":"")+d.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var d=this.match;return d.length<20&&(d+=this._input.substr(0,20-d.length)),(d.substr(0,20)+(d.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var d=this.pastInput(),g=new Array(d.length+1).join("-");return d+this.upcomingInput()+`
`+g+"^"},test_match:function(d,g){var m,R,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),R=d[0].match(/(?:\r\n?|\n).*/g),R&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+d[0].length},this.yytext+=d[0],this.match+=d[0],this.matches=d,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(d[0].length),this.matched+=d[0],m=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var _ in I)this[_]=I[_];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var d,g,m,R;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),_=0;_<I.length;_++)if(m=this._input.match(this.rules[I[_]]),m&&(!g||m[0].length>g[0].length)){if(g=m,R=_,this.options.backtrack_lexer){if(d=this.test_match(m,I[_]),d!==!1)return d;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(d=this.test_match(g,I[R]),d!==!1?d:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var g=this.next();return g||this.lex()},begin:function(g){this.conditionStack.push(g)},popState:function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},pushState:function(g){this.begin(g)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(g,m,R,I){switch(R){case 0:return 11;case 1:return"(";case 2:return")";case 3:return 8;case 4:return 15;case 5:return 13;case 6:return 18;case 7:return 19;case 8:return 20;case 9:return 17;case 10:return 17;case 11:return 17;case 12:break;case 13:return 6}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return p}();f.lexer=v;function E(){this.yy={}}return E.prototype=f,f.Parser=E,new E})();var Te=function(){var u=function(Q,A,C,O){for(C=C||{},O=Q.length;O--;C[Q[O]]=A);return C},t=[1,7],n=[1,17],a=[1,13],o=[1,14],l=[1,15],f=[1,32],v=[1,22],E=[1,23],p=[1,24],d=[1,25],g=[1,26],m=[1,33],R=[1,27],I=[1,28],_=[1,29],k=[1,30],D=[1,20],H=[1,36],X=[1,37],re=[5,6,8,10,33,35,41,43,45],de=[1,39],J=[1,40],j=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],ie=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],i=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],L={trace:function(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function(A,C,O,S,G,q,le){var V=q.length-1;switch(G){case 1:return new S.Eq(q[V-3],q[V-2],q[V-1]);case 2:return q[V-1];case 3:return new S.Add([]);case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=q[V];break;case 5:this.$=S.Add.createOrAppend(q[V-2],q[V]);break;case 6:this.$=S.Add.createOrAppend(q[V-2],S.Mul.handleNegative(q[V],"subtract"));break;case 8:this.$=S.Mul.fold(S.Mul.createOrAppend(q[V-1],q[V]));break;case 9:this.$=S.Mul.fold(S.Mul.createOrAppend(q[V-2],q[V]));break;case 10:this.$=S.Mul.fold(S.Mul.handleDivide(q[V-2],q[V]));break;case 12:this.$=S.Mul.handleNegative(q[V]);break;case 14:case 17:this.$=[A];break;case 16:this.$=q[V-2].concat(q[V]);break;case 18:this.$=S.Log.natural();break;case 19:this.$=S.Log.common();break;case 21:this.$=S.Trig.create(q[V-1],q[V]);break;case 22:this.$=S.Log.create(q[V-1],q[V]);break;case 24:this.$=new S.Pow(q[V-2],q[V]);break;case 26:case 34:this.$=A;break;case 27:this.$=new S.Var(q[V-2],q[V]);break;case 28:this.$=new S.Var(q[V]);break;case 29:this.$=new S.Const(A.toLowerCase());break;case 30:this.$=S.Int.create(Number(A));break;case 31:this.$=S.Float.create(Number(A));break;case 32:this.$=q[V-1].completeParse();break;case 33:this.$=q[V-1].completeParse().addHint("parens");break;case 35:case 36:this.$=S.Pow.sqrt(q[V-1]);break;case 37:this.$=new S.Pow.nthroot(q[V-1],q[V-4]);break;case 38:case 39:case 40:this.$=new S.Abs(q[V-1]);break;case 41:this.$=new S.Func(q[V-3],q[V-1]);break;case 44:this.$=S.Mul.handleDivide(q[V-4],q[V-1]);break}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},u([5,6],[2,4],{8:H,10:X}),u(re,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:de,14:J,16:n,19:a,21:o,22:l,28:f,29:v,30:E,31:p,32:d,34:g,37:m,39:R,42:I,44:k,46:D}),u(j,[2,11]),{10:t,11:8,13:41,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},u(j,[2,13]),{10:t,11:8,13:42,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{10:t,11:8,13:43,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},u(j,[2,23]),u(ie,[2,15],{18:[1,44]}),u(ie,[2,17]),u(ie,[2,18]),u(ie,[2,19],{23:[1,45]}),u(j,[2,25],{18:[1,46]}),u([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),u(i,[2,42]),u(i,[2,43]),{32:[1,47]},u(i,[2,28],{23:[1,48]}),u(i,[2,29]),u(i,[2,30]),u(i,[2,31]),{7:49,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{7:50,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{7:56,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{34:[1,57]},u([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{1:[2,2]},{9:59,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{9:60,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},u(j,[2,8]),{10:t,11:8,13:61,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{10:t,11:8,13:62,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},u(j,[2,12]),u(j,[2,21]),u(j,[2,22]),{10:t,11:8,13:63,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{24:64,27:21,28:f,29:v,30:E,31:p,32:d,34:g},{10:t,11:8,13:65,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{7:66,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{24:67,27:21,28:f,29:v,30:E,31:p,32:d,34:g},{8:H,10:X,33:[1,68]},{8:H,10:X,35:[1,69]},{7:70,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{7:71,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{7:72,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{7:73,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{8:H,10:X,43:[1,74]},{8:H,10:X,45:[1,75]},{7:76,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{6:[1,77]},u(re,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:de,14:J,16:n,19:a,21:o,22:l,28:f,29:v,30:E,31:p,32:d,34:g,37:m,39:R,42:I,44:k,46:D}),u(re,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:de,14:J,16:n,19:a,21:o,22:l,28:f,29:v,30:E,31:p,32:d,34:g,37:m,39:R,42:I,44:k,46:D}),u(j,[2,9]),u(j,[2,10]),u(ie,[2,16]),u(ie,[2,20]),u(j,[2,24]),{8:H,10:X,33:[1,78]},u(i,[2,27]),u(i,[2,32]),u(i,[2,33]),{8:H,10:X,35:[1,79]},{8:H,10:X,33:[1,80]},{8:H,10:X,41:[1,81]},{8:H,10:X,35:[1,82]},u(i,[2,39]),u(i,[2,40]),{8:H,10:X,35:[1,83]},{1:[2,1]},{32:[1,84]},u(i,[2,35]),u(i,[2,36]),{32:[1,85]},u(i,[2,38]),u(i,[2,41]),{7:86,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{7:87,9:5,10:t,11:8,13:6,15:12,16:n,17:9,19:a,20:10,21:o,22:l,24:18,25:11,26:16,27:21,28:f,29:v,30:E,31:p,32:d,34:g,36:31,37:m,38:19,39:R,42:I,43:_,44:k,46:D},{8:H,10:X,33:[1,88]},{8:H,10:X,33:[1,89]},u(i,[2,44]),u(i,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function(A,C){if(C.recoverable)this.trace(A);else throw new Error(A)},parse:function(A){var C=this,O=[0],S=[null],G=[],q=this.table,le="",V=0,fe=0,me=2,e=1,r=G.slice.call(arguments,1),s=Object.create(this.lexer),c={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(c.yy[h]=this.yy[h]);s.setInput(A,c.yy),c.yy.lexer=s,c.yy.parser=this,typeof s.yylloc>"u"&&(s.yylloc={});var x=s.yylloc;G.push(x);var w=s.options&&s.options.ranges;typeof c.yy.parseError=="function"?this.parseError=c.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function b(){var ke;return ke=s.lex()||e,typeof ke!="number"&&(ke=C.symbols_[ke]||ke),ke}for(var P,W,Y,ye,pe={},Ie,we,Qe,Ve;;){if(W=O[O.length-1],this.defaultActions[W]?Y=this.defaultActions[W]:((P===null||typeof P>"u")&&(P=b()),Y=q[W]&&q[W][P]),typeof Y>"u"||!Y.length||!Y[0]){var Be="";Ve=[];for(Ie in q[W])this.terminals_[Ie]&&Ie>me&&Ve.push("'"+this.terminals_[Ie]+"'");s.showPosition?Be="Parse error on line "+(V+1)+`:
`+s.showPosition()+`
Expecting `+Ve.join(", ")+", got '"+(this.terminals_[P]||P)+"'":Be="Parse error on line "+(V+1)+": Unexpected "+(P==e?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(Be,{text:s.match,token:this.terminals_[P]||P,line:s.yylineno,loc:x,expected:Ve})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+W+", token: "+P);switch(Y[0]){case 1:O.push(P),S.push(s.yytext),G.push(s.yylloc),O.push(Y[1]),P=null,fe=s.yyleng,le=s.yytext,V=s.yylineno,x=s.yylloc;break;case 2:if(we=this.productions_[Y[1]][1],pe.$=S[S.length-we],pe._$={first_line:G[G.length-(we||1)].first_line,last_line:G[G.length-1].last_line,first_column:G[G.length-(we||1)].first_column,last_column:G[G.length-1].last_column},w&&(pe._$.range=[G[G.length-(we||1)].range[0],G[G.length-1].range[1]]),ye=this.performAction.apply(pe,[le,fe,V,c.yy,Y[1],S,G].concat(r)),typeof ye<"u")return ye;we&&(O=O.slice(0,-1*we*2),S=S.slice(0,-1*we),G=G.slice(0,-1*we)),O.push(this.productions_[Y[1]][0]),S.push(pe.$),G.push(pe._$),Qe=q[O[O.length-2]][O[O.length-1]],O.push(Qe);break;case 3:return!0}}return!0}},ge=function(){var Q={EOF:1,parseError:function(C,O){if(this.yy.parser)this.yy.parser.parseError(C,O);else throw new Error(C)},setInput:function(A,C){return this.yy=C||this.yy||{},this._input=A,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var A=this._input[0];this.yytext+=A,this.yyleng++,this.offset++,this.match+=A,this.matched+=A;var C=A.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),A},unput:function(A){var C=A.length,O=A.split(/(?:\r\n?|\n)/g);this._input=A+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var S=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1&&(this.yylineno-=O.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===S.length?this.yylloc.first_column:0)+S[S.length-O.length].length-O[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(A){this.unput(this.match.slice(A))},pastInput:function(){var A=this.matched.substr(0,this.matched.length-this.match.length);return(A.length>20?"...":"")+A.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var A=this.match;return A.length<20&&(A+=this._input.substr(0,20-A.length)),(A.substr(0,20)+(A.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var A=this.pastInput(),C=new Array(A.length+1).join("-");return A+this.upcomingInput()+`
`+C+"^"},test_match:function(A,C){var O,S,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),S=A[0].match(/(?:\r\n?|\n).*/g),S&&(this.yylineno+=S.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-S[S.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+A[0].length},this.yytext+=A[0],this.match+=A[0],this.matches=A,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(A[0].length),this.matched+=A[0],O=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var q in G)this[q]=G[q];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var A,C,O,S;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),q=0;q<G.length;q++)if(O=this._input.match(this.rules[G[q]]),O&&(!C||O[0].length>C[0].length)){if(C=O,S=q,this.options.backtrack_lexer){if(A=this.test_match(O,G[q]),A!==!1)return A;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(A=this.test_match(C,G[S]),A!==!1?A:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var C=this.next();return C||this.lex()},begin:function(C){this.conditionStack.push(C)},popState:function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},pushState:function(C){this.begin(C)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(C,O,S,G){switch(S){case 0:break;case 1:break;case 2:break;case 3:return"INT";case 4:return"FLOAT";case 5:return"^";case 6:return"*";case 7:return"*";case 8:return"*";case 9:return"*";case 10:return"/";case 11:return"/";case 12:return"-";case 13:return"-";case 14:return"+";case 15:return"^";case 16:return"(";case 17:return")";case 18:return"(";case 19:return")";case 20:return"[";case 21:return"]";case 22:return"{";case 23:return"}";case 24:return"{";case 25:return"}";case 26:return"_";case 27:return"|";case 28:return"LEFT|";case 29:return"RIGHT|";case 30:return"!";case 31:return"SIGN";case 32:return O.yytext="<=","SIGN";case 33:return O.yytext=">=","SIGN";case 34:return O.yytext="<=","SIGN";case 35:return O.yytext=">=","SIGN";case 36:return O.yytext="<>","SIGN";case 37:return O.yytext="<>","SIGN";case 38:return O.yytext="<>","SIGN";case 39:return O.yytext="<>","SIGN";case 40:return O.yytext="<=","SIGN";case 41:return O.yytext=">=","SIGN";case 42:return"FRAC";case 43:return"FRAC";case 44:return"sqrt";case 45:return"abs";case 46:return"ln";case 47:return"log";case 48:return"TRIG";case 49:return"TRIG";case 50:return"TRIG";case 51:return"TRIG";case 52:return O.yytext="sin","TRIG";case 53:return O.yytext="cos","TRIG";case 54:return O.yytext="tan","TRIG";case 55:return O.yytext="csc","TRIG";case 56:return O.yytext="sec","TRIG";case 57:return O.yytext="cot","TRIG";case 58:return O.yytext="arcsin","TRIG";case 59:return O.yytext="arccos","TRIG";case 60:return O.yytext="arctan","TRIG";case 61:return O.yytext="arccsc","TRIG";case 62:return O.yytext="arcsec","TRIG";case 63:return O.yytext="arccot","TRIG";case 64:return"TRIGINV";case 65:return"TRIGINV";case 66:return O.yytext="sinh","TRIG";case 67:return O.yytext="cosh","TRIG";case 68:return O.yytext="tanh","TRIG";case 69:return O.yytext="csch","TRIG";case 70:return O.yytext="sech","TRIG";case 71:return O.yytext="tanh","TRIG";case 72:return"CONST";case 73:return O.yytext="pi","CONST";case 74:return O.yytext="pi","CONST";case 75:return"VAR";case 76:return O.yytext="theta","VAR";case 77:return O.yytext="theta","VAR";case 78:return"VAR";case 79:return O.yytext="phi","VAR";case 80:return O.yytext="phi","VAR";case 81:return C.symbolLexer(O.yytext);case 82:return"EOF";case 83:return"INVALID";case 84:console.log(O.yytext);break}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|·)/,/^(?:\\times|×)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|÷)/,/^(?:-)/,/^(?:−)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:≠)/,/^(?:≤)/,/^(?:≥)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:π)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:θ)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:φ)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0}}};return Q}();L.lexer=ge;function Z(){this.yy={}}return Z.prototype=L,L.Parser=Z,new Z}();const tt=function(u){return u!==u},It=function(u,t){var n=t-u;return Math.random()*n+u};var nt=12,rt=9;function Se(u,t){const n=[],a=[];return y.forEach(u,(o,l,f)=>{t(o,l,f)?n.push(o):a.push(o)}),[n,a]}function Rt(u){return u instanceof ve}const Ge=function(u){return u instanceof ne};function Mt(u){return u instanceof U}function Ue(u){return u instanceof N?u.terms:[u]}class ve{constructor(){this.hints={parens:!1}}construct(t){const n=this.func,a=new n(...t);if(typeof a>"u")throw new Error("constructor function returning undefined");return a}recurse(t,...n){var a=this.args().map(function(o){return y.isString(o)||y.isNumber(o)?o:o==null?void 0:o[t].apply(o,n)});return this.construct(a)}eval(t={},n){throw new Error("Abstract method - must override for expr: "+this.print())}codegen(){throw new Error("Abstract method - must override for expr: "+this.print())}compile(){var t=this.codegen();try{return new Function("vars","return "+t+";")}catch{throw new Error("Function did not compile: "+t)}}asTex(t){t=t||{},y.defaults(t,{display:!0,dynamic:!0,times:!1});let n=this.tex();return t.display&&(n="\\displaystyle "+n),t.dynamic&&(n=n.replace(/\(/g,"\\left("),n=n.replace(/\)/g,"\\right)")),t.times&&(n=n.replace(/\\cdot/g,"\\times")),n}name(){return this.func.name}repr(){return this.name()+"("+this.args().map(function(t){return y.isString(t)||y.isNumber(t)?t:t==null?void 0:t.repr()}).join(",")+")"}strip(){return this.recurse("strip")}normalize(){return this.recurse("normalize")}expand(){return this.recurse("expand")}factor(t){return this.recurse("factor",t)}collect(t){return this.recurse("collect",t)}equals(t){return this.normalize().print()===t.normalize().print()}simplify(t){t={once:!1,...t};var n=this.factor(t),a=n.collect(t);n.equals(a)&&(a=this.collect(t));var o=a.expand(),l=o.collect(t);o.equals(l)&&(l=a.collect(t));var f=l;return t.once||this.equals(f)?f:f.simplify(t)}isSimplified(){return this.equals(this.simplify())}exprArgs(){return this.args().filter(Rt)}getVars(t){return y.uniq(y.flatten(y.invoke(this.exprArgs(),"getVars",t))).sort()}getConsts(){return y.uniq(y.flatten(y.invoke(this.exprArgs(),"getConsts"))).sort()}getUnits(){return y.flatten(y.invoke(this.exprArgs(),"getUnits"))}is(t){return this instanceof t}has(t){return this instanceof t?!0:y.any(this.exprArgs(),function(n){return n.has(t)})}raiseToThe(t,n){return new B(this,t)}isSubtract(){return!1}isDivide(){return!1}isRoot(){return!1}needsExplicitMul(){return this.exprArgs()[0].needsExplicitMul()}sameVars(t){var n=this.getVars(),a=t.getVars(),o=function(E,p){return!y.difference(E,p).length},l=function(E){return y.uniq(y.invoke(E,"toLowerCase")).sort()},f=o(n,a),v=o(l(n),l(a));return{equal:f,equalIgnoringCase:v}}compare(t){if(t instanceof Pe)return!1;var n=y.union(this.getVars(!0),t.getVars(!0)),a=function(R,I){return Math.abs(R)<1||Math.abs(I)<1?Math.abs(R-I):Math.abs(1-R/I)},o=function(R,I){var _=a(R,I);return R===I||tt(R)&&tt(I)||_<Math.pow(10,-rt)};if(!n.length&&!this.has(oe)&&!t.has(oe))return o(this.eval(),t.eval());var l=this.collect(),f=t.collect(),v=this.getUnits(),E=t.getUnits();if(!y.isEqual(v,E))return!1;for(var p=0;p<nt;p++){var d={},g=Math.pow(10,1+Math.floor(3*p/nt)),m=p%2===0;y.each(n,function(I){d[I]=m?It(-g,g):y.random(-g,g)});let R;if(l.has(Re)||f.has(Re)||l.has(oe)||f.has(oe)){const I=l.partialEval(d),_=f.partialEval(d);R=I.simplify().equals(_.simplify())}else{const I=l.eval(d),_=f.eval(d);R=o(I,_)}if(!R)return!1}return!0}partialEval(t){return this instanceof oe?this:this.has(Re)?this instanceof Re?new Re(this.symbol,this.arg.partialEval(t)):this.recurse("partialEval",t):new ae(+this.eval(t).toFixed(rt)).collect()}sameForm(t){return this.strip().equals(t.strip())}findGCD(t){return this.equals(t)?t:te}getDenominator(){return te}asMul(){return new N(te,this)}isPositive(){throw new Error("Abstract method - must override for expr: "+this.print())}isNegative(){return!1}asPositiveFactor(){return this.isPositive()?this:te}addHint(t){if(!t)return this;var n=this.construct(this.args());return n.hints=y.clone(this.hints),n.hints[t]=!0,n}completeParse(){return this.recurse("completeParse")}abs(){throw new Error("Abstract method - must override for expr: "+this.print())}negate(){return new N(Ee,this)}}class Le extends ve{constructor(...t){super(),t.length===1?this.terms=t[0]:this.terms=t}args(){return this.terms}normalize(){var t=y.sortBy(y.invoke(this.terms,"normalize"),n=>n.print());return new this.func(t)}expand(){return this.recurse("expand").flatten()}partition(){var[t,n]=Se(this.terms,a=>a instanceof z);return[new this.func(t),new this.func(n)]}flatten(){var t=this,n=y.reject(this.terms,f=>f.equals(t.identity));if(n.length===0)return t.identity;if(n.length===1)return n[0];const[a,o]=Se(n,f=>f instanceof t.func);var l=o.concat(y.flatten(y.pluck(a,"terms"),!0));return new t.func(l)}isPositive(){var t=y.invoke(this.terms,"collect");return y.all(y.invoke(t,"isPositive"))}replace(t,n){const a=t instanceof ve?y.indexOf(this.terms,t):t;var o=[];Array.isArray(n)?o=n:n&&(o=[n]);var l=this.terms.slice(0,a).concat(o).concat(this.terms.slice(a+1));return new this.func(l)}remove(t){return this.replace(t)}getDenominator(){return new N(y.invoke(this.terms,"getDenominator")).flatten()}}class ne extends Le{constructor(){super(...arguments),this.identity=De,this.func=ne}eval(t={},n){return y.reduce(this.terms,(a,o)=>a+o.eval(t,n),0)}codegen(){return y.map(this.terms,t=>"("+t.codegen()+")").join(" + ")||"0"}print(){return y.invoke(this.terms,"print").join("+")}tex(){let t="";return y.each(this.terms,n=>{!t||n.isSubtract()?t+=n.tex():t+="+"+n.tex()}),t}collect(t){var n=y.invoke(this.terms,"collect",t),a=[];y.each(n,f=>{if(f instanceof N){var v=f.partition();a.push([v[1].flatten(),v[0].reduce(t)])}else f instanceof z?a.push([te,f]):a.push([f,te])});var o=y.groupBy(a,f=>f[0].normalize().print()),l=y.compact(y.map(o,f=>{var v=f[0][0],E=new ne(y.zip.apply(y,f)[1]),p=E.reduce(t);return new N(p,v).collect(t)}));return new ne(l).flatten()}factor(t={keepNegative:!1}){const n=this.terms.map(v=>v.collect());let a;n[0]instanceof N?a=n[0].terms:a=[n[0]],y.each(y.rest(this.terms),v=>{a=y.map(a,E=>v.findGCD(E))}),!t.keepNegative&&this.isNegative()&&a.push(Ee);const o=new N(a).flatten().collect(),l=n.map(v=>N.handleDivide(v,o).simplify()),f=new ne(l).flatten();return N.createOrAppend(o,f).flatten()}reduce(t){return y.reduce(this.terms,(n,a)=>n.add(a,t),this.identity)}needsExplicitMul(){return!1}isNegative(){var t=y.invoke(this.terms,"collect");return y.all(y.invoke(t,"isNegative"))}negate(){return new ne(y.invoke(this.terms,"negate"))}static createOrAppend(t,n){return t instanceof ne?new ne(t.terms.concat(n)):new ne(t,n)}}class N extends Le{constructor(){super(...arguments),this.identity=te,this.func=N}eval(t={},n){return y.reduce(this.terms,(a,o)=>a*o.eval(t,n),1)}codegen(){return y.map(this.terms,t=>"("+t.codegen()+")").join(" * ")||"0"}print(){return y.map(this.terms,t=>t instanceof ne?"("+t.print()+")":t.print()).join("*")}getUnits(){var t=y(this.terms).chain().map(n=>n.getUnits()).flatten().value();return t.sort((n,a)=>n.unit.localeCompare(a.unit)),t}tex(){for(var t=" \\cdot ",n=y.groupBy(this.terms,I=>I.isDivide()?"inverse":I instanceof z?"number":"other"),a=n.inverse||[],o=n.number||[],l=n.other||[],f="",v,E=0;E<o.length;E++){var p=o[E]instanceof U&&!(o[E]instanceof F);if(p&&l.length>0&&a.length>0){var d=o.slice();d.splice(E,1);var g=d.concat(a).concat(l);return o[E].tex()+new N(g).tex()}}if(o=y.compact(y.map(o,I=>{var _=!I.hints.fraction||a.length>0;if(I instanceof U&&!(I instanceof F)&&_){a.push(new B(new F(I.d),Me));var k=new F(I.n);return k.hints=I.hints,y.any(I.hints)?k:null}else return I})),o.length===0&&l.length===1)v=l[0].tex();else{var m="";y.each(o,I=>{I.hints.subtract&&I.hints.entered?(f+="-",m+=(m?t:"")+I.abs().tex()):I instanceof F&&I.n===-1&&(I.hints.negate||I.hints.subtract)?f+="-":m+=(m?t:"")+I.tex()}),y.each(l,I=>{I.needsExplicitMul()?m+=(m?t:"")+I.tex():I instanceof ne?m+="("+I.tex()+")":m+=I.tex()}),v=m||"1"}if(a.length){var R=new N(y.invoke(a,"asDivide")).flatten().tex();return f+"\\frac{"+v+"}{"+R+"}"}else return f+v}strip(){var t=y.map(this.terms,n=>n instanceof z?n.abs():n.strip());return new N(t).flatten()}expand(){const t=function(p){return p instanceof B&&p.exp.isNegative()},n=function(p){return t(p)&&Ge(p.base)},a=this.recurse("expand").flatten(),o=Ue(a),l=y.any(o,Ge),f=y.any(o,n);if(!(l||f))return a;let[v,E]=Se(o,t);if(l){const[p,d]=Se(E,Ge),g=y.reduce(p,function(R,I){return y.reduce(R,function(_,k){return _.concat(y.map(I.terms,D=>k.concat(D)))},[])},[[]]),m=y.map(g,function(R){return new N(d.concat(R)).flatten()});E=[new ne(m)]}if(f){const p=new N(y.invoke(v,"getDenominator")).flatten();v=[new B(p.expand(),Me)]}return new N(E.concat(v)).flatten()}factor(t){var n=this.recurse("factor",t).flatten();if(!(n instanceof N))return n;var[a,o]=Se(n.terms,v=>v instanceof U);const l=y.reduce(a,(v,E)=>({n:v.n*E.n,d:v.d*E.d}),{n:1,d:1}),f=l.d===1?new F(l.n):new U(l.n,l.d);return new N(o.concat(f)).flatten()}collect(t){var n=this.recurse("collect",t).partition(),a=n[0].reduce(t);if(a.eval()===0)return De;const o=n[1].flatten();if(!(o instanceof N))return new N(a,o).flatten();const l=o.terms;var f=[];y.each(l,k=>{k instanceof B?f.push([k.base,k.exp]):f.push([k,te])});var v=y.groupBy(f,k=>k[0].normalize().print()),E=y.compact(y.map(v,k=>{var D=k[0][0],H=new ne(y.zip.apply(y,k)[1]),X=H.collect(t);return X instanceof z&&X.eval()===0?null:[D,X]}));const p=y.groupBy(E,k=>k[0]instanceof $&&k[0].isBasic()?"trig":k[0]instanceof ce?"log":"expr");let d=p.trig||[],g=p.log||[];const m=p.expr||[];if(d.length>1){var R=y.groupBy(d,k=>k[0].arg.normalize().print());d=[],y.each(R,k=>{const D=k[0][0].arg;let H={sin:De,cos:De};y.each(k,X=>{H[X[0].type]=X[1]}),N.handleNegative(H.sin).collect(t).equals(H.cos)&&(H.cos.isNegative()?H={tan:H.sin}:H={cot:H.cos}),y.each(H,(X,re)=>{d.push([new $(re,D),X])})})}if(g.length>1){var I=y.groupBy(g,k=>k[0].base.normalize().print());g=[],y.each(I,k=>{k.length===2&&N.handleNegative(k[0][1]).collect(t).equals(k[1][1])?k[0][1].isNegative()?g.push([new ce(k[0][0].power,k[1][0].power),k[1][1]]):g.push([new ce(k[1][0].power,k[0][0].power),k[0][1]]):g=g.concat(k)})}var _=y.map([...d,...g,...m],k=>new B(k[0],k[1]).collect(t));return new N([a].concat(_)).flatten()}isSubtract(){return y.any(this.terms,t=>t instanceof z&&!!t.hints.subtract)}factorIn(t){var n=this.partition(),a=n[0].terms,o=a.length&&y.all(a,f=>f.n>0);if(o){var l=a[0].negate();return l.hints=a[0].hints,this.replace(a[0],l.addHint(t))}else return new N([z.negativeOne(t)].concat(this.terms))}factorOut(){var t=!1,n=y.compact(y.map(this.terms,a=>!t&&a instanceof z&&a.hints.divide?(t=!0,a.n!==-1?a.negate():null):a));return n.length===1?n[0]:new N(n)}reduce(t){return y.reduce(this.terms,(n,a)=>n.mul(a,t),this.identity)}findGCD(t){return new N(y.invoke(this.terms,"findGCD",t)).flatten()}asMul(){return this}asPositiveFactor(){if(this.isPositive())return this;{const t=Ue(this.collect()).map(n=>n.asPositiveFactor());return new N(t).flatten()}}isNegative(){const t=Ue(this.collect()).map(n=>n.isNegative());return y.any(t)}fold(){return N.fold(this)}negate(){var t=a=>a instanceof z;const n=y.find(this.terms,t);return n?this.replace(n,n.negate()):new N([Ee].concat(this.terms))}static handleNegative(t,n){if(t instanceof z&&t.n>0){var a=t.negate();return a.hints=t.hints,a.addHint(n)}else return t instanceof N?t.factorIn(n):new N(z.negativeOne(n),t)}static handleDivide(t,n){if(n instanceof N){var a=N.handleDivide(t,n.terms[0]),o=new N(y.rest(n.terms)).flatten();return N.handleDivide(a,o)}var l=m=>m instanceof F,f=m=>m instanceof U;if(l(n)&&t instanceof N&&y.any(t.terms,l)){var v=t.terms.slice().reverse(),E=v.find(f);if(!l(E))return new N(t.terms.concat([new U(1,n.n).addHint("fraction")]));var p=new U(E.n,n.n);return p.hints=E.hints,E===v[0]&&(p=p.addHint("fraction")),E.n<0&&n.n<0?(p.d=-p.d,t.replace(E,[Ee,p])):t.replace(E,p)}var d=(m,R)=>{if(R instanceof F){if(m instanceof F)return m.n<0&&R.n<0?[Ee,new U(m.n,-R.n).addHint("fraction")]:[new U(m.n,R.n).addHint("fraction")];var I=new U(1,R.eval());return R.eval()<0?[m,I.addHint("negate")]:[m,I]}else{var _;if(R instanceof $&&R.exp){var k=R.exp;R.exp=void 0,R=new B(R,k)}return R instanceof B?_=new B(R.base,N.handleNegative(R.exp,"divide")):_=new B(R,Me),m instanceof F&&m.n===1?[_]:[m,_]}};if(t instanceof N){var g=d(y.last(t.terms),n);return new N(y.initial(t.terms).concat(g))}else{var g=d(t,n);return new N(g).flatten()}}static fold(t){if(t instanceof N){var n=y.find(y.initial(t.terms),m=>(m instanceof $||m instanceof ce)&&!!m.hints.open);if(n){const m=y.last(t.terms);if(n.hints.parens||m.hints.parens||m.has($)||m.has(ce))n.hints.open=!1;else{const R=n instanceof $?$.create([n.type,n.exp],N.createOrAppend(n.arg,m).fold()):ce.create(n.base,N.createOrAppend(n.power,m).fold()),I=y.indexOf(t.terms,n);return I===0?R:new N(t.terms.slice(0,I).concat(R)).fold()}}var a=t.partition(),o=a[0].terms,l=m=>m.n>0,f=m=>m.n===-1&&!!m.hints.negate,v=function(m){return l(m)||f(m)};const d=o.find(l),g=o.find(f);if(o.length>1&&g&&d&&y.every(o,v)){var E=y.indexOf(t.terms,g),p=y.indexOf(t.terms,d);if(E<p)return t.replace(p,t.terms[p].negate()).remove(E)}}return t}static createOrAppend(t,n){return t instanceof N?new N(t.terms.concat(n)):new N(t,n)}}const K=class K extends ve{constructor(t,n){super(),this.func=K,this.base=t,this.exp=n}args(){return[this.base,this.exp]}eval(t={},n){var a=this.base.eval(t,n),o=this.exp.eval(t,n);if(a<0){var l=this.exp.simplify();if(l instanceof ae){var f=l.n,v=(f-+f.toFixed()).toString().length-2,E=Math.pow(10,v),p=new U(f*E,E);l=p.simplify()}if(l instanceof U){var d=Math.abs(l.d)%2===1;if(d){var g=Math.abs(l.n)%2===1,m=g?-1:1;return m*Math.pow(-1*a,o)}}}return Math.pow(a,o)}getUnits(){return this.base.getUnits().map(t=>({unit:t.unit,pow:t.pow*this.exp.n}))}codegen(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"}print(){var t=this.base.print();return(this.base instanceof Le||this.base instanceof K)&&(t="("+t+")"),t+"^("+this.exp.print()+")"}tex(){if(this.isDivide())return"\\frac{1}{"+this.asDivide().tex()+"}";if(this.isRoot()&&Mt(this.exp)){if(this.exp.n!==1)throw new Error("Node marked with hint 'root' does not have exponent of form 1/x.");return this.exp.d===2?"\\sqrt{"+this.base.tex()+"}":"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}"}else if(this.base instanceof $&&!this.base.isInverse()&&this.exp instanceof z&&this.exp.isSimple()&&this.exp.eval()>=0){var t=this.base.texSplit();return t[0]+"^{"+this.exp.tex()+"}"+t[1]}else{var n=this.base.tex();return this.base instanceof Le||this.base instanceof K||this.base instanceof z&&!this.base.isSimple()?n="("+n+")":(this.base instanceof $||this.base instanceof ce)&&(n="["+n+"]"),n+"^{"+this.exp.tex()+"}"}}needsExplicitMul(){return this.isRoot()?!1:this.base.needsExplicitMul()}expand(){var t=this.recurse("expand");if(t.base instanceof N){var n=y.map(t.base.terms,v=>new K(v,t.exp));return new N(n).expand()}else if(t.base instanceof ne&&t.exp instanceof F&&t.exp.abs().eval()>1){var a=t.exp.eval()>0,o=t.exp.abs().eval(),l=function(g){return a?g:new K(g,Me)};const v={1:t.base};for(var f=2;f<=o;f*=2){const g=new N(v[f/2],v[f/2]);v[f]=g.expand().collect()}if(o in v)return l(v[o]);let E=y.map(o.toString(2).split(""),function(g,m,R){return Number(g)*Math.pow(2,R.length-m-1)});E=y.without(E,0);const p=[];for(const g of E)g in v&&p.push(v[g]);const d=new N(p).expand().collect();return l(d)}else if(t.exp instanceof ne){const v=y.map(t.exp.terms,E=>new K(t.base,E).expand());return new N(v).expand()}else return t}factor(){var t=this.recurse("factor");if(t.base instanceof N){var n=y.map(t.base.terms,a=>a instanceof F&&t.exp.equals(Me)?new U(1,a.n):new K(a,t.exp));return new N(n)}else return t}collect(t){if(this.base instanceof K){const o=this.base.base,l=N.createOrAppend(this.base.exp,this.exp);return new K(o,l).collect(t)}const n=this.recurse("collect",t),a=function(o){return o instanceof ce&&o.base.equals(n.base)};if(n.exp instanceof z&&n.exp.eval()===0)return te;if(n.exp instanceof z&&n.exp.eval()===1)return n.base;if(a(n.exp))return n.exp.power;if(n.exp instanceof N&&y.any(n.exp.terms,a)){const o=n.exp.terms.find(a),l=o.power,f=n.exp.remove(o).flatten();return new K(l,f).collect(t)}else if(n.base instanceof z&&n.exp instanceof z){if(t&&t.preciseFloats){const o=n.exp.asRational(),l=n.base.getDecimalPlaces();if(new K(n.base,new U(1,o.d)).collect().getDecimalPlaces()>l){const E=new K(n.base,new F(o.n)).collect();return new K(E,new U(1,o.d))}}return n.base.raiseToThe(n.exp,t)}else return n}isDivide(){var t=function(n){return n instanceof z&&!!n.hints.divide};return t(this.exp)||this.exp instanceof N&&y.any(this.exp.terms,t)}asDivide(){if(this.exp instanceof z){if(this.exp.eval()===-1)return this.base;var t=this.exp.negate();return t.hints=y.clone(this.exp.hints),t.hints.divide=!1,new K(this.base,t)}else{if(this.exp instanceof N)return new K(this.base,this.exp.factorOut());throw new Error("called asDivide() on an Expr that wasn't a Num or Mul")}}isRoot(){return this.exp instanceof U&&!!this.exp.hints.root}isSquaredTrig(){return this.base instanceof $&&!this.base.isInverse()&&this.exp instanceof z&&this.exp.eval()===2}getDenominator(){if(this.exp instanceof z&&this.exp.eval()===-1)return N.createOrAppend(this.base,this.base.getDenominator()).flatten();if(this.exp.isNegative()){var t=new K(this.base,N.handleNegative(this.exp).collect());return N.createOrAppend(t,t.collect().getDenominator()).flatten()}else return this.base instanceof z?new K(this.base.getDenominator(),this.exp).collect():te}findGCD(t){const[n,a]=t instanceof K?[t.base,t.exp]:[t,te];if(this.base.equals(n)){if(this.exp.equals(a))return this;if(this.exp instanceof z&&a instanceof z)return new K(this.base,z.min(this.exp,a)).collect();if(this.exp instanceof z||a instanceof z)return te;var o=this.exp.asMul().partition(),l=a.asMul().partition();if(o[1].equals(l[1])){var f=z.min(o[0].reduce(),l[0].reduce()),v=new N(f,o[1].flatten()).flatten();return new K(n,v).collect()}}return te}isPositive(){if(this.base.isPositive())return!0;var t=this.exp.simplify();return t instanceof F&&t.eval()%2===0}asPositiveFactor(){if(this.isPositive())return this;var t=this.exp.simplify();if(t instanceof F){var n=t.eval();if(n>2)return new K(this.base,new F(n-1));if(n<-2)return new K(this.base,new F(n+1))}return te}static sqrt(t){return new K(t,Ot)}};K.nthroot=function(t,n){var a=N.fold(N.handleDivide(new F(1),n));return new K(t,a.addHint("root"))};let B=K;class ce extends ve{constructor(t,n){super(),this.func=ce,this.base=t,this.power=n,this.hints={...this.hints,open:!1}}args(){return[this.base,this.power]}eval(t={},n){return Math.log(this.power.eval(t,n))/Math.log(this.base.eval(t,n))}codegen(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"}print(){var t="("+this.power.print()+")";return this.isNatural()?"ln"+t:"log_("+this.base.print()+") "+t}tex(){var t="("+this.power.tex()+")";return this.isNatural()?"\\ln"+t:"\\log_{"+this.base.tex()+"}"+t}collect(t){var n=this.recurse("collect",t);return n.power instanceof z&&n.power.eval()===1?De:n.base.equals(n.power)?te:n.power instanceof B&&n.power.base.equals(n.base)?n.power.exp:n}expand(){var t=this.recurse("expand");if(t.power instanceof N){var n=y.map(t.power.terms,a=>new ce(t.base,a).expand());return new ne(n)}else return t.power instanceof B?new N(t.power.exp,new ce(t.base,t.power.base).expand()).flatten():t.isNatural()?t:N.handleDivide(new ce(_e.e,t.power),new ce(_e.e,t.base))}isPositive(){var t=this.collect();return t instanceof ce&&t.base instanceof z&&t.power instanceof z?this.eval()>0:!1}needsExplicitMul(){return!1}isNatural(){return this.base.equals(_e.e)}static natural(){return _e.e}static common(){return _t}static create(t,n){var a=new ce(t,n);return n.hints.parens||(a=a.addHint("open")),a}}class $ extends ve{constructor(t,n){super(),this.func=$,this.functions={sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:()=>this},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:()=>this},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:()=>N.handleDivide($.sin(this.arg),$.cos(this.arg))},csc:{eval:a=>1/Math.sin(a),codegen:"(1/Math.sin(",tex:"\\csc",expand:()=>N.handleDivide(te,$.sin(this.arg))},sec:{eval:a=>1/Math.cos(a),codegen:"(1/Math.cos(",tex:"\\sec",expand:()=>N.handleDivide(te,$.cos(this.arg))},cot:{eval:a=>1/Math.tan(a),codegen:"(1/Math.tan(",tex:"\\cot",expand:()=>N.handleDivide($.cos(this.arg),$.sin(this.arg))},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:a=>Math.asin(1/a),codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:a=>Math.acos(1/a),codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:a=>Math.atan(1/a),codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:a=>(Math.exp(a)-Math.exp(-a))/2,codegen:a=>"((Math.exp("+a+") - Math.exp(-("+a+"))) / 2)",tex:"\\sinh",expand:()=>this},cosh:{eval:a=>(Math.exp(a)+Math.exp(-a))/2,codegen:a=>"((Math.exp("+a+") + Math.exp(-("+a+"))) / 2)",tex:"\\cosh",expand:()=>this},tanh:{eval:a=>(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a)),codegen:a=>"((Math.exp("+a+") - Math.exp(-("+a+"))) / (Math.exp("+a+") + Math.exp(-("+a+"))))",tex:"\\tanh",expand:()=>N.handleDivide($.sinh(this.arg),$.cosh(this.arg))},csch:{eval:a=>2/(Math.exp(a)-Math.exp(-a)),codegen:a=>"(2 / (Math.exp("+a+") - Math.exp(-("+a+"))))",tex:"\\csch",expand:()=>N.handleDivide(te,$.sinh(this.arg))},sech:{eval:a=>2/(Math.exp(a)+Math.exp(-a)),codegen:a=>"(2 / (Math.exp("+a+") + Math.exp(-("+a+"))))",tex:"\\sech",expand:()=>N.handleDivide(te,$.cosh(this.arg))},coth:{eval:a=>(Math.exp(a)+Math.exp(-a))/(Math.exp(a)-Math.exp(-a)),codegen:a=>"((Math.exp("+a+") + Math.exp(-("+a+"))) / (Math.exp("+a+") - Math.exp(-("+a+"))))",tex:"\\coth",expand:()=>N.handleDivide($.cosh(this.arg),$.sinh(this.arg))}},this.type=t,this.arg=n,this.hints={...this.hints,open:!1}}args(){return[this.type,this.arg]}isEven(){return y.contains(["cos","sec"],this.type)}isInverse(){return this.type.indexOf("arc")===0}isBasic(){return y.contains(["sin","cos"],this.type)}eval(t={},n){var a=this.functions[this.type].eval,o=this.arg.eval(t,n);return a(o)}codegen(){var t=this.functions[this.type].codegen;if(typeof t=="function")return t(this.arg.codegen());if(typeof t=="string")return t+this.arg.codegen()+"))";throw new Error("codegen not implemented for "+this.type)}print(){return this.type+"("+this.arg.print()+")"}tex(){var t=this.functions[this.type].tex,n="("+this.arg.tex()+")";return t+n}texSplit(){var t=this.functions[this.type].tex,n="("+this.arg.tex()+")";return[t,n]}isPositive(){var t=this.collect();return t instanceof $&&t.arg instanceof z?this.eval()>0:!1}completeParse(){if(this.exp){var t=new B(this,this.exp);return this.exp=void 0,t}else return this}needsExplicitMul(){return!1}expand(){var t=this.recurse("expand");if(t.isInverse())return t;var n=t.functions[t.type].expand;return y.bind(n,t)()}collect(t){var n=this.recurse("collect",t);if(!n.isInverse()&&n.arg.isNegative()){const a=n.arg instanceof z?n.arg.abs():N.handleDivide(n.arg,Ee).collect(t);return n.isEven()?new $(n.type,a):new N(Ee,new $(n.type,a))}else return n}static create(t,n){var a=t[0],o=t[1];o&&o.equals(Ee)&&(a="arc"+a,o=void 0);var l=new $(a,n);return n.hints.parens||(l=l.addHint("open")),o&&(l.exp=o),l}static sin(t){return new $("sin",t)}static cos(t){return new $("cos",t)}static sinh(t){return new $("sinh",t)}static cosh(t){return new $("cosh",t)}}class Fe extends ve{constructor(t){super(),this.func=Fe,this.arg=t}args(){return[this.arg]}eval(t={},n){return Math.abs(this.arg.eval(t,n))}codegen(){return"Math.abs("+this.arg.codegen()+")"}print(){return"abs("+this.arg.print()+")"}tex(){return"\\left|"+this.arg.tex()+"\\right|"}collect(t){var n=this.recurse("collect",t);if(n.arg.isPositive())return n.arg;if(n.arg instanceof z)return n.arg.abs();if(n.arg instanceof N){var a=y.groupBy(n.arg.terms,l=>l.isPositive()?"positive":l instanceof z?"number":"other"),o=a.positive.concat(y.invoke(a.number,"abs"));return a.other.length&&o.push(new Fe(new N(a.other).flatten())),new N(o).flatten()}else return n}expand(){var t=this.recurse("expand");if(t.arg instanceof N){var n=y.map(t.arg.terms,a=>new Fe(a));return new N(n)}else return t}isPositive(){return!0}}class Pe extends ve{constructor(t,n,a){super(),this.func=Pe,this.signs={"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},this.left=t,this.type=n,this.right=a}args(){return[this.left,this.type,this.right]}needsExplicitMul(){return!1}print(){return this.left.print()+this.type+this.right.print()}tex(){return this.left.tex()+this.signs[this.type]+this.right.tex()}normalize(){var t=this.recurse("normalize");return y.contains([">",">="],t.type)?new Pe(t.right,t.type.replace(">","<"),t.left):t}asExpr(t=!1){var n=E=>E instanceof z&&E.isSimple()&&E.eval()===0;let a=[];this.left instanceof ne?a=y.clone(this.left.terms):n(this.left)||(a=[this.left]),this.right instanceof ne?a=a.concat(this.right.negate().terms):n(this.right)||a.push(this.right.negate());var o=!this.isEquality();a=y.invoke(a,"collect",{preciseFloats:!0});for(var l=0;l<a.length;l++){var f=a[l].getDenominator();o&&!f.isPositive()&&(f=f.asPositiveFactor()),f.equals(te)||(a=y.map(a,E=>N.createOrAppend(E,f).simplify({once:!0,preciseFloats:!0})))}var v=new ne(a).flatten();return t?v:this.divideThrough(v)}divideThrough(t){const n=!this.isEquality(),a=t.simplify({once:!0}),o=a.factor({keepNegative:n});if(!(o instanceof N))return t;const l=o.terms,f=m=>!!m.getVars().length,v=m=>m.equals(te),[E,p]=Se(l,Ge);if(E.length&&this.isEquality())return new N(E).flatten();let d=p;E.length||(d=y.reject(d,f)),n&&(d=y.invoke(d,"asPositiveFactor")),d=y.reject(d,v),d=y.map(d,m=>new B(m,Me));const g=new N(l.concat(d)).collect();return g.equals(o)?a:g}isEquality(){return y.contains(["=","<>"],this.type)}compare(t){if(!(t instanceof Pe))return!1;var n=this.normalize(),a=t.normalize();if(n.type!==a.type)return!1;var o=n.divideThrough(n.asExpr(!0).collect()),l=a.divideThrough(a.asExpr(!0).collect());return n.isEquality()?o.compare(l)||o.compare(N.handleNegative(l)):o.compare(l)}sameForm(t){var n=this.normalize(),a=t.normalize(),o=n.left.sameForm(a.left)&&n.right.sameForm(a.right);return n.isEquality()?o||n.left.sameForm(a.right)&&n.right.sameForm(a.left):o}isSimplified(){var t=this.asExpr(!0),n=this.divideThrough(t).simplify();return t.equals(n)&&this.left.isSimplified()&&this.right.isSimplified()}solveLinearEquationForVariable(t){var n=this.asExpr();if(!(n instanceof ne)||n.terms.length!==2)throw new Error("Can only handle linear equations of the form a + bx (= 0)");var a=v=>v.has(ze)&&y.contains(v.getVars(),t.symbol);const o=a(n.terms[0]),l=o?N.handleNegative(n.terms[1]):N.handleNegative(n.terms[0]),f=o?N.handleDivide(n.terms[0],t):N.handleDivide(n.terms[1],t);return N.handleDivide(l,f).simplify()}}class Ae extends ve{needsExplicitMul(){return!1}findGCD(t){return t instanceof Ae||t instanceof z?this.equals(t)?this:te:t.findGCD(this)}}class Re extends Ae{constructor(t,n){super(),this.func=Re,this.symbol=t,this.arg=n}args(){return[this.symbol,this.arg]}print(){return this.symbol+"("+this.arg.print()+")"}tex(){return this.symbol+"("+this.arg.tex()+")"}eval(t={},n){var a=this.arg,o=t[this.symbol],l=y.extend(y.clone(t),{x:a.eval(t,n)}),f=qe(o,n);return f.parsed?f.expr.eval(l,n):f}codegen(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"}getUnits(){return this.arg.getUnits()}getVars(t){return t?this.arg.getVars():y.union(this.arg.getVars(),[this.symbol]).sort()}getConsts(){return this.arg.getConsts()}}class ze extends Ae{constructor(t,n){super(),this.func=ze,this.symbol=t,this.subscript=n}args(){return[this.symbol,this.subscript]}exprArgs(){return[]}recurse(){return this}print(){var t="";return this.subscript&&(t="_("+this.subscript.print()+")"),this.symbol+t}prettyPrint(){var t=this.subscript;return t&&(t instanceof z||t instanceof Ae)?this.symbol+"_"+t.print():this.print()}tex(){var t="";this.subscript&&(t="_{"+this.subscript.tex()+"}");var n=this.symbol.length>1?"\\":"";return n+this.symbol+t}repr(){return"Var("+this.print()+")"}eval(t={},n){return t[this.prettyPrint()]}codegen(){return'vars["'+this.prettyPrint()+'"]'}getVars(){return[this.prettyPrint()]}isPositive(){return!1}}const Oe=class Oe extends Ae{constructor(t){super(),this.func=Oe,this.symbol=t}args(){return[this.symbol]}recurse(){return this}eval(t={},n){return this.symbol==="pi"?Math.PI:this.symbol==="e"?Math.E:void 0}codegen(){return this.symbol==="pi"?"Math.PI":this.symbol==="e"?"Math.E":void 0}print(){return this.symbol}tex(){return this.symbol==="pi"?"\\pi ":this.symbol==="e"?"e":void 0}isPositive(){return this.eval()>0}abs(){return this.eval()>0?this:N.handleNegative(this)}getConsts(){return[this.print()]}};Oe.e=new Oe("e"),Oe.pi=new Oe("pi");let _e=Oe;class z extends ve{constructor(){super(),this.n=0,this.hints={...this.hints,negate:!1,subtract:!1,divide:!1,root:!1,fraction:!1,entered:!1}}repr(){return this.print()}strip(){return this.abs()}recurse(){return this}codegen(){return this.print()}isSubtract(){return!!this.hints.subtract}needsExplicitMul(){return!0}isPositive(){return this.eval()>0}isNegative(){return this.eval()<0}asPositiveFactor(){return this.isPositive()?this:this.abs()}getDecimalPlaces(){var t=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}static negativeOne(t){return t==="subtract"?Nt:t==="divide"?Me:Ee}static findGCD(t,n){var a;if(t=Math.abs(t),n=Math.abs(n),t!==Math.floor(t)||n!==Math.floor(n))return 1;for(;n;)a=t%n,t=n,n=a;return t}static min(...t){return y.min(t,n=>n.eval())}static max(...t){return y.max(t,n=>n.eval())}}class U extends z{constructor(t,n){super(),this.func=U;var a=t,o=n;o<0&&(a=-a,o=-o),this.n=a,this.d=o}args(){return[this.n,this.d]}eval(){return this.n/this.d}print(){return this.n.toString()+"/"+this.d.toString()}tex(){var t="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+t:t}add(t,n){return t instanceof U?new U(this.n*t.d+this.d*t.n,this.d*t.d).collect():t.add(this,n)}mul(t,n){return t instanceof U?new U(this.n*t.n,this.d*t.d).collect():t.mul(this,n)}collect(){var t=z.findGCD(this.n,this.d),n=this.n/t,a=this.d/t;return a===1?new F(n):new U(n,a)}negate(){return new U(-this.n,this.d)}abs(){return new U(Math.abs(this.n),this.d)}findGCD(t){if(t instanceof U){var n=z.findGCD(this.n*t.d,t.n*this.d),a=this.d*t.d;return new U(n,a).collect()}else return t instanceof F?new U(z.findGCD(this.n,t.n),this.d):t.findGCD(this)}raiseToThe(t){if(t instanceof F){var n=t.eval()>0,a=t.abs().eval(),o=Math.pow(this.n,a),l=Math.pow(this.d,a);return n?new U(o,l).collect():new U(l,o).collect()}else return new ae(this.eval()).raiseToThe(t)}getDenominator(){return new F(this.d)}isSimple(){return!1}asRational(){return this}}class F extends U{constructor(t){super(t,1),this.func=F}args(){return[this.n]}print(){return this.n.toString()}tex(){return this.n.toString()}negate(){return new F(-this.n)}abs(){return new F(Math.abs(this.n))}isSimple(){return!0}findGCD(t){return t instanceof F?new F(z.findGCD(this.n,t.n)):t.findGCD(this)}static create(t){return new F(t).addHint("entered")}}class ae extends z{constructor(t){super(),this.func=ae,this.n=t}args(){return[this.n]}eval(){return this.n}print(){return this.n.toString()}tex(){return this.n.toString()}add(t,n){return n&&n.preciseFloats?ae.toDecimalPlaces(this.n+t.eval(),Math.max(this.getDecimalPlaces(),t.getDecimalPlaces())):new ae(this.n+t.eval()).collect()}mul(t,n){return n&&n.preciseFloats?ae.toDecimalPlaces(this.n*t.eval(),this.getDecimalPlaces()+t.getDecimalPlaces()):new ae(this.n*t.eval()).collect()}collect(t){return this}negate(){return new ae(-this.n)}abs(){return new ae(Math.abs(this.n))}findGCD(t){return t instanceof z?new ae(z.findGCD(this.eval(),t.eval())).collect():t.findGCD(this)}raiseToThe(t,n){return n&&n.preciseFloats&&t instanceof F&&t.n>1?ae.toDecimalPlaces(new B(this,t).eval(),this.getDecimalPlaces()*t.n):new ae(new B(this,t).eval()).collect()}asRational(){var t=this.n.toString().split(".");if(t.length===1)return new U(this.n,1);var n=Number(t.join("")),a=Math.pow(10,t[1].length);return new U(n,a).collect()}getDenominator(){return this.asRational().getDenominator()}isSimple(){return!0}static create(t){return new ae(t).addHint("entered")}static toDecimalPlaces(t,n){return new ae(+t.toFixed(Math.min(n,20))).collect()}}const Ee=new F(-1).addHint("negate"),Nt=new F(-1).addHint("subtract"),Me=new F(-1).addHint("divide"),Ot=new U(1,2).addHint("root"),De=new F(0),te=new F(1),_t=new F(10);var At=function(u,t){throw new Error(t.loc.first_column)};Te.yy={Add:ne,Mul:N,Pow:B,Log:ce,Trig:$,Eq:Pe,Abs:Fe,Func:Re,Const:_e,Var:ze,Int:F,Float:ae,parseError:At,constants:["e"],symbolLexer:function(u){return y.contains(Te.yy.constants,u)?"CONST":y.contains(Te.yy.functions,u)?"FUNC":"VAR"}};const qe=function(u,t){try{t&&t.functions?Te.yy.functions=y.without(t.functions,"i"):Te.yy.functions=[],t&&t.decimal_separator&&(u=u.split(t.decimal_separator).join("."));var n=Te.parse(u).completeParse();return{parsed:!0,expr:n}}catch(a){return{parsed:!1,error:a.message}}};class oe extends Ae{constructor(t){super(),this.func=oe,this.symbol=t}args(){return[this.symbol]}recurse(){return this}eval(t={},n){return 1}getUnits(){return[{unit:this.symbol,pow:1}]}codegen(){return"1"}print(){return this.symbol}tex(){return this.symbol}collect(t){if(y(kt).has(this.symbol))return this;if(y(it).has(this.symbol))return it[this.symbol].conversion;throw new Error("could not understand unit: "+this.symbol)}}var kt={m:new oe("m"),g:new oe("g"),s:new oe("s"),A:new oe("A"),K:new oe("K"),mol:new oe("mol"),cd:new oe("cd")};new B(new F(10),new F(-18)),new B(new F(10),new F(-15)),new B(new F(10),new F(-12)),new B(new F(10),new F(-9)),new B(new F(10),new F(-6)),new B(new F(10),new F(-3)),new B(new F(10),new F(-2)),new B(new F(10),new F(-1)),new F(10),new B(new F(10),new F(2)),new B(new F(10),new F(3)),new B(new F(10),new F(6)),new B(new F(10),new F(9)),new B(new F(10),new F(12)),new B(new F(10),new F(15)),new B(new F(10),new F(18)),new B(new F(10),new F(27));const ee="hasPrefixes",T="hasntPrefixes",M=function(u,t){var n=u.split("|"),a=n[0].trim(),o=n[1].trim(),l=te;a!==""&&(l=qe(a).expr);var f=o.split("/"),v=[l];return f[0]&&f[0].split(" ").filter(E=>E!=="").forEach(E=>v.push(new oe(E))),f[1]&&f[1].split(" ").filter(E=>E!=="").forEach(E=>v.push(new B(new oe(E),Me))),{conversion:new N(v),prefixes:t}};var it={Da:M("1.6605388628 x 10^-24 | g",ee),u:M("| Da",T),meter:M("| m",T),meters:M("| m",T),in:M("254 / 10000 | m",T),ft:M("3048  / 10000 | m",T),yd:M("9144  / 10000 | m",T),mi:M("1609344 / 1000 | m",T),ly:M("9.4607 x 10^15 | m",T),nmi:M("1852 | m",T),Å:M("10^-10 | m",T),pc:M("3.0857 x 10^16 | m",T),min:M("60 | s",T),hr:M("3600 | s",T),sec:M("| s",T),day:M("86400 | s",T),wk:M("604800 | s",T),fortnight:M("14 | day",T),shake:M("10^-8 | s",T),olympiad:M("126200000 | s",T),"°C":M("1 | K",T),"°F":M("5/9 | K",T),"°R":M("5/9 | K",T),e:M("1.6021765314 x 10^-19 | C",T),c:M("299792458 | m / s",T),kn:M("514/1000 | m / s",T),kt:M("| kn",T),knot:M("| kn",T),J:M("| N m",ee),BTU:M("1060 | J",T),cal:M("4184 / 1000 | J",ee),eV:M("1.602176514 x 10^-19 | J",ee),erg:M("10^−7 | J",ee),W:M("| J / s",ee),"H-e":M("80 | W",T),N:M("1000 | g m / s s",ee),lb:M("4448221615 / 1000000000 | N",T),dyn:M("10^-5 | N",T),Pa:M("1 | N / m m m",ee),bar:M("10^5 | Pa",ee),"㏔":M("1/1000 | bar",T),"㍴":M("| bar",T),atm:M("101325 | Pa",T),Torr:M("1/760 | atm",T),mmHg:M("| Torr",T),ha:M("10^4 | m m",T),b:M("10^−28 | m m",ee),barn:M("| b",ee),acre:M("4046.87 | m m",T),skilodge:M("10^-31 | m m",T),outhouse:M("10^-34 | m m",T),shed:M("10^-52 | m m",T),L:M("1/1000 | m m m",ee),gal:M("3785/1000 | L",ee),cup:M("1/16 | gal",T),qt:M("1/4 | gal",T),quart:M("| qt",T),p:M("1/8 | gal",T),pt:M("| p",T),pint:M("| p",T),"fl oz":M("1/8 | cup",T),"fl. oz.":M("1/8 | cup",T),tbsp:M("1/16 | cup",T),tsp:M("1/3 | tbsp",T),rev:M("2 pi | rad",T),deg:M("180 pi | rad",T),"°":M("| deg",T),arcminute:M("1/60 | deg",T),arcsec:M("1/3600 | deg",T),Hu:M("1000 | dB",ee),dozen:M("12 |",T),mol:M("6.0221412927 x 10^23 |",ee),"%":M("1/100 |",T),percent:M("| %",T),ppm:M("1/1000000 |",T),V:M("1000 | g m m / s s C",ee),C:M("| A s",ee),ampere:M("| A",T),Ω:M("| V / A",ee),ohm:M("| Ω",T),F:M("| C / V",ee),H:M("| ohm s",ee),T:M("1000 | g / C s",ee),Wb:M("1000 | g m m / C s",ee),lm:M("pi x 10^4 | cd / m m",T),lx:M("| lm / m m",T),nit:M("| cd / m m",T),sb:M("10^4 | cd / m m",T),stilb:M("1 | sb",T),apostilb:M("1 / pi x 10^(-4) | sb",T),blondel:M("| apostilb",T),asb:M("| apostilb",T),la:M("| lm",T),Lb:M("| lm",T),sk:M("10^-7 | lm",T),skot:M("| sk",T),bril:M("10^-11 | lm",T),Hz:M("| / s",ee)};const st=function(u,t,n={}){const o={...{form:!1,simplify:!1},...n},l=u.sameVars(t);if(!l.equal){let f;return l.equalIgnoringCase?f="Check your variables; one or more are using the wrong case (upper or lower).":f="Check your variables; you may have used the wrong letter for one or more of them.",{equal:!1,wrongVariableCase:l.equalIgnoringCase,wrongVariableNames:!l.equalIgnoringCase,message:f}}return u.compare(t)?o.form&&!u.sameForm(t)?{equal:!1,message:"Your answer is not in the correct form."}:o.simplify&&!u.isSimplified()?{equal:!1,message:"Your answer is not fully expanded and simplified."}:{equal:!0,message:null}:{equal:!1,message:null}},bt="@khanacademy/kmath",Tt="__lib_version__";lt(bt,Tt);var We={exports:{}};(function(u,t){(function(){var n=this,a=n._,o={},l=Array.prototype,f=Object.prototype,v=Function.prototype,E=l.push,p=l.slice,d=l.concat,g=f.toString,m=f.hasOwnProperty,R=l.forEach,I=l.map,_=l.reduce,k=l.reduceRight,D=l.filter,H=l.every,X=l.some,re=l.indexOf,de=l.lastIndexOf,J=Array.isArray,j=Object.keys,ie=v.bind,i=function(e){if(e instanceof i)return e;if(!(this instanceof i))return new i(e);this._wrapped=e};u.exports&&(t=u.exports=i),t._=i,i.VERSION="1.4.4";var L=i.each=i.forEach=function(e,r,s){if(e!=null){if(R&&e.forEach===R)e.forEach(r,s);else if(e.length===+e.length){for(var c=0,h=e.length;c<h;c++)if(r.call(s,e[c],c,e)===o)return}else for(var x in e)if(i.has(e,x)&&r.call(s,e[x],x,e)===o)return}};i.map=i.collect=function(e,r,s){var c=[];return e==null?c:I&&e.map===I?e.map(r,s):(L(e,function(h,x,w){c[c.length]=r.call(s,h,x,w)}),c)};var ge="Reduce of empty array with no initial value";i.reduce=i.foldl=i.inject=function(e,r,s,c){var h=arguments.length>2;if(e==null&&(e=[]),_&&e.reduce===_)return c&&(r=i.bind(r,c)),h?e.reduce(r,s):e.reduce(r);if(L(e,function(x,w,b){h?s=r.call(c,s,x,w,b):(s=x,h=!0)}),!h)throw new TypeError(ge);return s},i.reduceRight=i.foldr=function(e,r,s,c){var h=arguments.length>2;if(e==null&&(e=[]),k&&e.reduceRight===k)return c&&(r=i.bind(r,c)),h?e.reduceRight(r,s):e.reduceRight(r);var x=e.length;if(x!==+x){var w=i.keys(e);x=w.length}if(L(e,function(b,P,W){P=w?w[--x]:--x,h?s=r.call(c,s,e[P],P,W):(s=e[P],h=!0)}),!h)throw new TypeError(ge);return s},i.find=i.detect=function(e,r,s){var c;return Z(e,function(h,x,w){if(r.call(s,h,x,w))return c=h,!0}),c},i.filter=i.select=function(e,r,s){var c=[];return e==null?c:D&&e.filter===D?e.filter(r,s):(L(e,function(h,x,w){r.call(s,h,x,w)&&(c[c.length]=h)}),c)},i.reject=function(e,r,s){return i.filter(e,function(c,h,x){return!r.call(s,c,h,x)},s)},i.every=i.all=function(e,r,s){r||(r=i.identity);var c=!0;return e==null?c:H&&e.every===H?e.every(r,s):(L(e,function(h,x,w){if(!(c=c&&r.call(s,h,x,w)))return o}),!!c)};var Z=i.some=i.any=function(e,r,s){r||(r=i.identity);var c=!1;return e==null?c:X&&e.some===X?e.some(r,s):(L(e,function(h,x,w){if(c||(c=r.call(s,h,x,w)))return o}),!!c)};i.contains=i.include=function(e,r){return e==null?!1:re&&e.indexOf===re?e.indexOf(r)!=-1:Z(e,function(s){return s===r})},i.invoke=function(e,r){var s=p.call(arguments,2),c=i.isFunction(r);return i.map(e,function(h){return(c?r:h[r]).apply(h,s)})},i.pluck=function(e,r){return i.map(e,function(s){return s[r]})},i.where=function(e,r,s){return i.isEmpty(r)?s?null:[]:i[s?"find":"filter"](e,function(c){for(var h in r)if(r[h]!==c[h])return!1;return!0})},i.findWhere=function(e,r){return i.where(e,r,!0)},i.max=function(e,r,s){if(!r&&i.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!r&&i.isEmpty(e))return-1/0;var c={computed:-1/0,value:-1/0};return L(e,function(h,x,w){var b=r?r.call(s,h,x,w):h;b>=c.computed&&(c={value:h,computed:b})}),c.value},i.min=function(e,r,s){if(!r&&i.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!r&&i.isEmpty(e))return 1/0;var c={computed:1/0,value:1/0};return L(e,function(h,x,w){var b=r?r.call(s,h,x,w):h;b<c.computed&&(c={value:h,computed:b})}),c.value},i.shuffle=function(e){var r,s=0,c=[];return L(e,function(h){r=i.random(s++),c[s-1]=c[r],c[r]=h}),c};var Q=function(e){return i.isFunction(e)?e:function(r){return r[e]}};i.sortBy=function(e,r,s){var c=Q(r);return i.pluck(i.map(e,function(h,x,w){return{value:h,index:x,criteria:c.call(s,h,x,w)}}).sort(function(h,x){var w=h.criteria,b=x.criteria;if(w!==b){if(w>b||w===void 0)return 1;if(w<b||b===void 0)return-1}return h.index<x.index?-1:1}),"value")};var A=function(e,r,s,c){var h={},x=Q(r||i.identity);return L(e,function(w,b){var P=x.call(s,w,b,e);c(h,P,w)}),h};i.groupBy=function(e,r,s){return A(e,r,s,function(c,h,x){(i.has(c,h)?c[h]:c[h]=[]).push(x)})},i.countBy=function(e,r,s){return A(e,r,s,function(c,h){i.has(c,h)||(c[h]=0),c[h]++})},i.sortedIndex=function(e,r,s,c){s=s==null?i.identity:Q(s);for(var h=s.call(c,r),x=0,w=e.length;x<w;){var b=x+w>>>1;s.call(c,e[b])<h?x=b+1:w=b}return x},i.toArray=function(e){return e?i.isArray(e)?p.call(e):e.length===+e.length?i.map(e,i.identity):i.values(e):[]},i.size=function(e){return e==null?0:e.length===+e.length?e.length:i.keys(e).length},i.first=i.head=i.take=function(e,r,s){if(e!=null)return r!=null&&!s?p.call(e,0,r):e[0]},i.initial=function(e,r,s){return p.call(e,0,e.length-(r==null||s?1:r))},i.last=function(e,r,s){if(e!=null)return r!=null&&!s?p.call(e,Math.max(e.length-r,0)):e[e.length-1]},i.rest=i.tail=i.drop=function(e,r,s){return p.call(e,r==null||s?1:r)},i.compact=function(e){return i.filter(e,i.identity)};var C=function(e,r,s){return L(e,function(c){i.isArray(c)?r?E.apply(s,c):C(c,r,s):s.push(c)}),s};i.flatten=function(e,r){return C(e,r,[])},i.without=function(e){return i.difference(e,p.call(arguments,1))},i.uniq=i.unique=function(e,r,s,c){i.isFunction(r)&&(c=s,s=r,r=!1);var h=s?i.map(e,s,c):e,x=[],w=[];return L(h,function(b,P){(r?!P||w[w.length-1]!==b:!i.contains(w,b))&&(w.push(b),x.push(e[P]))}),x},i.union=function(){return i.uniq(d.apply(l,arguments))},i.intersection=function(e){var r=p.call(arguments,1);return i.filter(i.uniq(e),function(s){return i.every(r,function(c){return i.indexOf(c,s)>=0})})},i.difference=function(e){var r=d.apply(l,p.call(arguments,1));return i.filter(e,function(s){return!i.contains(r,s)})},i.zip=function(){for(var e=p.call(arguments),r=i.max(i.pluck(e,"length")),s=new Array(r),c=0;c<r;c++)s[c]=i.pluck(e,""+c);return s},i.object=function(e,r){if(e==null)return{};for(var s={},c=0,h=e.length;c<h;c++)r?s[e[c]]=r[c]:s[e[c][0]]=e[c][1];return s},i.indexOf=function(e,r,s){if(e==null)return-1;var c=0,h=e.length;if(s)if(typeof s=="number")c=s<0?Math.max(0,h+s):s;else return c=i.sortedIndex(e,r),e[c]===r?c:-1;if(re&&e.indexOf===re)return e.indexOf(r,s);for(;c<h;c++)if(e[c]===r)return c;return-1},i.lastIndexOf=function(e,r,s){if(e==null)return-1;var c=s!=null;if(de&&e.lastIndexOf===de)return c?e.lastIndexOf(r,s):e.lastIndexOf(r);for(var h=c?s:e.length;h--;)if(e[h]===r)return h;return-1},i.range=function(e,r,s){arguments.length<=1&&(r=e||0,e=0),s=arguments[2]||1;for(var c=Math.max(Math.ceil((r-e)/s),0),h=0,x=new Array(c);h<c;)x[h++]=e,e+=s;return x},i.bind=function(e,r){if(e.bind===ie&&ie)return ie.apply(e,p.call(arguments,1));var s=p.call(arguments,2);return function(){return e.apply(r,s.concat(p.call(arguments)))}},i.partial=function(e){var r=p.call(arguments,1);return function(){return e.apply(this,r.concat(p.call(arguments)))}},i.bindAll=function(e){var r=p.call(arguments,1);return r.length===0&&(r=i.functions(e)),L(r,function(s){e[s]=i.bind(e[s],e)}),e},i.memoize=function(e,r){var s={};return r||(r=i.identity),function(){var c=r.apply(this,arguments);return i.has(s,c)?s[c]:s[c]=e.apply(this,arguments)}},i.delay=function(e,r){var s=p.call(arguments,2);return setTimeout(function(){return e.apply(null,s)},r)},i.defer=function(e){return i.delay.apply(i,[e,1].concat(p.call(arguments,1)))},i.throttle=function(e,r){var s,c,h,x,w=0,b=function(){w=new Date,h=null,x=e.apply(s,c)};return function(){var P=new Date,W=r-(P-w);return s=this,c=arguments,W<=0?(clearTimeout(h),h=null,w=P,x=e.apply(s,c)):h||(h=setTimeout(b,W)),x}},i.debounce=function(e,r,s){var c,h;return function(){var x=this,w=arguments,b=function(){c=null,s||(h=e.apply(x,w))},P=s&&!c;return clearTimeout(c),c=setTimeout(b,r),P&&(h=e.apply(x,w)),h}},i.once=function(e){var r=!1,s;return function(){return r||(r=!0,s=e.apply(this,arguments),e=null),s}},i.wrap=function(e,r){return function(){var s=[e];return E.apply(s,arguments),r.apply(this,s)}},i.compose=function(){var e=arguments;return function(){for(var r=arguments,s=e.length-1;s>=0;s--)r=[e[s].apply(this,r)];return r[0]}},i.after=function(e,r){return e<=0?r():function(){if(--e<1)return r.apply(this,arguments)}},i.keys=j||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var r=[];for(var s in e)i.has(e,s)&&(r[r.length]=s);return r},i.values=function(e){var r=[];for(var s in e)i.has(e,s)&&r.push(e[s]);return r},i.pairs=function(e){var r=[];for(var s in e)i.has(e,s)&&r.push([s,e[s]]);return r},i.invert=function(e){var r={};for(var s in e)i.has(e,s)&&(r[e[s]]=s);return r},i.functions=i.methods=function(e){var r=[];for(var s in e)i.isFunction(e[s])&&r.push(s);return r.sort()},i.extend=function(e){return L(p.call(arguments,1),function(r){if(r)for(var s in r)e[s]=r[s]}),e},i.pick=function(e){var r={},s=d.apply(l,p.call(arguments,1));return L(s,function(c){c in e&&(r[c]=e[c])}),r},i.omit=function(e){var r={},s=d.apply(l,p.call(arguments,1));for(var c in e)i.contains(s,c)||(r[c]=e[c]);return r},i.defaults=function(e){return L(p.call(arguments,1),function(r){if(r)for(var s in r)e[s]==null&&(e[s]=r[s])}),e},i.clone=function(e){return i.isObject(e)?i.isArray(e)?e.slice():i.extend({},e):e},i.tap=function(e,r){return r(e),e};var O=function(e,r,s,c){if(e===r)return e!==0||1/e==1/r;if(e==null||r==null)return e===r;e instanceof i&&(e=e._wrapped),r instanceof i&&(r=r._wrapped);var h=g.call(e);if(h!=g.call(r))return!1;switch(h){case"[object String]":return e==String(r);case"[object Number]":return e!=+e?r!=+r:e==0?1/e==1/r:e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object RegExp]":return e.source==r.source&&e.global==r.global&&e.multiline==r.multiline&&e.ignoreCase==r.ignoreCase}if(typeof e!="object"||typeof r!="object")return!1;for(var x=s.length;x--;)if(s[x]==e)return c[x]==r;s.push(e),c.push(r);var w=0,b=!0;if(h=="[object Array]"){if(w=e.length,b=w==r.length,b)for(;w--&&(b=O(e[w],r[w],s,c)););}else{var P=e.constructor,W=r.constructor;if(P!==W&&!(i.isFunction(P)&&P instanceof P&&i.isFunction(W)&&W instanceof W))return!1;for(var Y in e)if(i.has(e,Y)&&(w++,!(b=i.has(r,Y)&&O(e[Y],r[Y],s,c))))break;if(b){for(Y in r)if(i.has(r,Y)&&!w--)break;b=!w}}return s.pop(),c.pop(),b};i.isEqual=function(e,r){return O(e,r,[],[])},i.isEmpty=function(e){if(e==null)return!0;if(i.isArray(e)||i.isString(e))return e.length===0;for(var r in e)if(i.has(e,r))return!1;return!0},i.isElement=function(e){return!!(e&&e.nodeType===1)},i.isArray=J||function(e){return g.call(e)=="[object Array]"},i.isObject=function(e){return e===Object(e)},L(["Arguments","Function","String","Number","Date","RegExp"],function(e){i["is"+e]=function(r){return g.call(r)=="[object "+e+"]"}}),i.isArguments(arguments)||(i.isArguments=function(e){return!!(e&&i.has(e,"callee"))}),typeof/./!="function"&&(i.isFunction=function(e){return typeof e=="function"}),i.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},i.isNaN=function(e){return i.isNumber(e)&&e!=+e},i.isBoolean=function(e){return e===!0||e===!1||g.call(e)=="[object Boolean]"},i.isNull=function(e){return e===null},i.isUndefined=function(e){return e===void 0},i.has=function(e,r){return m.call(e,r)},i.noConflict=function(){return n._=a,this},i.identity=function(e){return e},i.times=function(e,r,s){for(var c=Array(e),h=0;h<e;h++)c[h]=r.call(s,h);return c},i.random=function(e,r){return r==null&&(r=e,e=0),e+Math.floor(Math.random()*(r-e+1))};var S={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};S.unescape=i.invert(S.escape);var G={escape:new RegExp("["+i.keys(S.escape).join("")+"]","g"),unescape:new RegExp("("+i.keys(S.unescape).join("|")+")","g")};i.each(["escape","unescape"],function(e){i[e]=function(r){return r==null?"":(""+r).replace(G[e],function(s){return S[e][s]})}}),i.result=function(e,r){if(e==null)return null;var s=e[r];return i.isFunction(s)?s.call(e):s},i.mixin=function(e){L(i.functions(e),function(r){var s=i[r]=e[r];i.prototype[r]=function(){var c=[this._wrapped];return E.apply(c,arguments),me.call(this,s.apply(i,c))}})};var q=0;i.uniqueId=function(e){var r=++q+"";return e?e+r:r},i.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var le=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},fe=/\\|'|\r|\n|\t|\u2028|\u2029/g;i.template=function(e,r,s){var c;s=i.defaults({},s,i.templateSettings);var h=new RegExp([(s.escape||le).source,(s.interpolate||le).source,(s.evaluate||le).source].join("|")+"|$","g"),x=0,w="__p+='";e.replace(h,function(P,W,Y,ye,pe){return w+=e.slice(x,pe).replace(fe,function(Ie){return"\\"+V[Ie]}),W&&(w+=`'+
((__t=(`+W+`))==null?'':_.escape(__t))+
'`),Y&&(w+=`'+
((__t=(`+Y+`))==null?'':__t)+
'`),ye&&(w+=`';
`+ye+`
__p+='`),x=pe+P.length,P}),w+=`';
`,s.variable||(w=`with(obj||{}){
`+w+`}
`),w=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+w+`return __p;
`;try{c=new Function(s.variable||"obj","_",w)}catch(P){throw P.source=w,P}if(r)return c(r,i);var b=function(P){return c.call(this,P,i)};return b.source="function("+(s.variable||"obj")+`){
`+w+"}",b},i.chain=function(e){return i(e).chain()};var me=function(e){return this._chain?i(e).chain():e};i.mixin(i),L(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var r=l[e];i.prototype[e]=function(){var s=this._wrapped;return r.apply(s,arguments),(e=="shift"||e=="splice")&&s.length===0&&delete s[0],me.call(this,s)}}),L(["concat","join","slice"],function(e){var r=l[e];i.prototype[e]=function(){return me.call(this,r.apply(this._wrapped,arguments))}}),i.extend(i.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(ot)})(We,We.exports);var St=We.exports;const $e=ft(St),Pt=1e-9,Ft=Math.pow(2,-42);function kn(u){return $e.isNumber(u)&&!$e.isNaN(u)}function Ce(u,t,n){return u==null||t==null?u===t:u===t?!0:(n==null&&(n=Pt),Math.abs(u-t)<n)}function bn(u,t){return Ce(u,0,t)?0:Math.abs(u)/u}function Dt(u,t){return Ce(Math.round(u),u,t)}function Tn(u,t){const n=Math.pow(10,t);return Math.round(u*n)/n}function Sn(u,t){return Math.round(u/t)*t}function Pn(u,t){return Math.floor(u/t)*t}function Fn(u,t){return Math.ceil(u/t)*t}function at(u,t=Ft,n=1e3){let a=[1,0],o=[0,1],l=Math.floor(u),f=u-l;for(;o[0]<=n;){if(Ce(a[0]/o[0],u,t))return[a[0],o[0]];a=[l*a[0]+a[1],a[0]],o=[l*o[0]+o[1],o[0]],l=Math.floor(1/f),f=1/f-l}return[u,1]}const se={cleanMath:function(u){return typeof u=="string"?u.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):u},bound:function(u){return u===0?u:u<0?-se.bound(-u):Math.max(1e-6,Math.min(u,1e20))},factorial:function(u){return u<=1?u:u*se.factorial(u-1)},getGCD:function(u,t){if(arguments.length>2){const a=[].slice.call(arguments,1);return se.getGCD(u,se.getGCD(...a))}let n;for(u=Math.abs(u),t=Math.abs(t);t;)n=u%t,u=t,t=n;return u},getLCM:function(u,t){if(arguments.length>2){const n=[].slice.call(arguments,1);return se.getLCM(u,se.getLCM(...n))}return Math.abs(u*t)/se.getGCD(u,t)},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function(u){if(u<=1)return!1;if(u<101)return!!he.grep(se.primes,function(t,n){return Math.abs(t-u)<=.5}).length;if(u<=1||u>2&&u%2===0)return!1;for(let t=3,n=Math.sqrt(u);t<=n;t+=2)if(u%t===0)return!1;return!0},getPrimeFactorization:function(u){if(u===1)return[];if(se.isPrime(u))return[u];const t=Math.sqrt(u);for(let n=2;n<=t;n++)if(u%n===0)return he.merge(se.getPrimeFactorization(n),se.getPrimeFactorization(u/n))},roundToNearest:function(u,t){return Math.round(t/u)*u},roundTo:function(u,t){const n=Math.pow(10,u).toFixed(5);return Math.round((t*n).toFixed(5))/n},toFixedApprox:function(u,t){const n=u.toFixed(t);return Ce(+n,u)?n:"\\approx "+n},roundToApprox:function(u,t){const n=se.roundTo(t,u);return Ce(n,u)?String(n):se.toFixedApprox(u,t)},toFraction:function(u,t){if(t==null&&(t=Math.pow(2,-46)),u<0||u>1){let E=u%1;E+=E<0?1:0;const p=se.toFraction(E,t);return p[0]+=Math.round(u-E)*p[1],p}if(Math.abs(Math.round(Number(u))-u)<=t)return[Math.round(u),1];let n=0,a=1,o=1,l=1,f=1,v=2;for(;;){if(Math.abs(Number(f/v)-u)<=t)return[f,v];f/v<u?(n=f,a=v):(o=f,l=v),f=n+o,v=a+l}},getNumericFormat:function(u){if(u=he.trim(u),u=u.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1"),u.match(/^[+-]?\d+$/))return"integer";if(u.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/))return"mixed";const t=u.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/);return t?parseFloat(t[1])>parseFloat(t[2])?"improper":"proper":u.replace(/[,. ]/g,"").match(/^\d+$/)?"decimal":u.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)?"pi":null},toNumericString:function(u,t){if(u==null)return"";if(u===0)return"0";if(t==="percent")return u*100+"%";if(t==="pi"){const n=at(u/Math.PI),a=Math.abs(n[0]),o=n[1];if(Dt(a))return(u<0?"-":"")+(a===1?"":a)+"π"+(o===1?"":"/"+o)}if($e(["proper","improper","mixed","fraction"]).contains(t)){const n=at(u),a=Math.abs(n[0]),o=n[1],l=u<0?"-":"";if(o===1)return l+a;if(t==="mixed"){const f=a%o,v=(a-f)/o;return l+(v?v+" ":"")+f+"/"+o}return l+a+"/"+o}return String(u)}};function Dn(u){return u.reduce(qt,0)}function qt(u,t){return u+t}const Ct="MISSING_PERCENT_ERROR",Vt="NEEDS_TO_BE_SIMPLIFIED_ERROR",Gt="APPROXIMATED_PI_ERROR",Lt="EXTRA_SYMBOLS_ERROR",zt="WRONG_CASE_ERROR",Bt="WRONG_LETTER_ERROR",Ut="MULTIPLICATION_SIGN_ERROR",Ht="INVALID_SELECTION_ERROR",Wt="CHOOSE_CORRECT_NUM_ERROR",$t="NOT_NONE_ABOVE_ERROR",Yt="FILL_ALL_CELLS_ERROR",Ne={MISSING_PERCENT_ERROR:Ct,NEEDS_TO_BE_SIMPLIFIED_ERROR:Vt,APPROXIMATED_PI_ERROR:Gt,EXTRA_SYMBOLS_ERROR:Lt,WRONG_CASE_ERROR:zt,WRONG_LETTER_ERROR:Bt,MULTIPLICATION_SIGN_ERROR:Ut,INVALID_SELECTION_ERROR:Ht,CHOOSE_CORRECT_NUM_ERROR:Wt,NOT_NONE_ABOVE_ERROR:$t,FILL_ALL_CELLS_ERROR:Yt},Xt=Math.pow(2,-42),be={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function(u,t){t=ue.extend({simplify:"required",ratio:!1,forms:be.predicate.defaultForms},t);let n;ue.isArray(t.forms)?n=t.forms:n=t.forms.split(/\s*,\s*/),t.inexact===void 0&&(t.maxError=0),t.maxError=+t.maxError+Xt,ue.contains(n,"percent")&&(n=ue.without(n,"percent"),n.push("percent"));const a=function(l){l=l.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"");const f=l.match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/),v=l.match(/^([+-]?)\\frac\{([+-]?\d+)\}\{([+-]?\d+)\}$/),E=parseInt(l,10);if(f||v){let p,d,g=!0;return f?(p=parseFloat(f[1]),d=parseFloat(f[2])):(p=parseFloat(v[2]),v[1]==="-"&&(p<0&&(g=!1),p=-p),d=parseFloat(v[3])),g=g&&d>0&&(t.ratio||d!==1)&&se.getGCD(p,d)===1,[{value:p/d,exact:g}]}return!isNaN(E)&&""+E===l?[{value:E,exact:!0}]:[]},o={integer:function(l){const f=o.decimal(l),v=o.decimal(l,1);return f[0].value!=null&&f[0].value===v[0].value||f[1].value!=null&&f[1].value===v[1].value?f:[]},proper:function(l){return he.map(a(l),function(f){return Math.abs(f.value)<1?[f]:[]})},improper:function(l){return he.map(a(l),function(f){return Math.abs(f.value)>=1?[f]:[]})},pi:function(l){let f,v=[];if(l=l.replace(/\u2212/,"-"),f=l.match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))v=[{value:parseFloat(f[1]+"1"),exact:!0}];else if(f=l.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))v=a(f[1]);else if(f=l.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){const p=parseFloat(f[1]+"1"),d=parseFloat(f[2]),g=parseFloat(f[3]),m=parseFloat(f[4]),R=g<m&&se.getGCD(g,m)===1;v=[{value:p*(d+g/m),exact:R}]}else if(f=l.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i))v=a(f[1]+"/"+f[3]);else if(f=l.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i))v=a(f[1]+"1/"+f[3]);else if(l==="0")v=[{value:0,exact:!0}];else if(f=l.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))v=o.decimal(f[1]);else{v=ue.reduce(be.predicate.defaultForms.split(/\s*,\s*/),function(g,m){return g.concat(o[m](l))},[]);let p=!1;const d=parseFloat(l);if(!isNaN(d)&&d!==parseInt(l)){const g=Math.PI/12,m=g*Math.round(d/g);Math.abs(d-m)<.01&&(p=!0)}else l.match(/\/\s*7/)&&(p=!0);return p&&ue.each(v,function(g){g.piApprox=!0}),v}let E=Math.PI;return l.match(/\\?tau|t|\u03c4/)&&(E=Math.PI*2),l.match(/pau/)&&(E=Math.PI*1.5),he.each(v,function(p,d){d.value*=E}),v},coefficient:function(l){let f=[];return l=l.replace(/\u2212/,"-"),l===""?f=[{value:1,exact:!0}]:l==="-"&&(f=[{value:-1,exact:!0}]),f},log:function(l){let f,v=[];return l=l.replace(/\u2212/,"-"),l=l.replace(/[ \(\)]/g,""),(f=l.match(/^log\s*(\S+)\s*$/i))?v=o.decimal(f[1]):l==="0"&&(v=[{value:0,exact:!0}]),v},percent:function(l){l=he.trim(l);let f=!1;l.indexOf("%")===l.length-1&&(l=he.trim(l.substring(0,l.length-1)),f=!0);const v=o.decimal(l);return he.each(v,function(E,p){p.exact=f,p.value=p.value/100}),v},mixed:function(l){const f=l.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/);if(f){const v=parseFloat(f[1]+"1"),E=parseFloat(f[2]),p=parseFloat(f[3]),d=parseFloat(f[4]),g=p<d&&se.getGCD(p,d)===1;return[{value:v*(E+p/d),exact:g}]}return[]},decimal:function(l,f=1e10){const v=function(p){p=he.trim(p);const d=p.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/),g=p.match(/^0[0,]*,/);if(d&&!g){let m=parseFloat(d[1].replace(/[, ]/g,""));return t.inexact===void 0&&(m=Math.round(m*f)/f),m}},E=function(p){return p=p.replace(/([\.,])/g,function(d,g){return g==="."?",":"."}),v(p)};return[{value:v(l),exact:!0},{value:E(l),exact:!0}]}};return function(l){const f=t.fallback!=null?""+t.fallback:"";l=he.trim(l)||f;const v={empty:l==="",correct:!1,message:null,guess:l};if(he.each(n,function(E,p){const d=o[p](l);for(let g=0,m=d.length;g<m;g++){const R=d[g].value,I=d[g].exact,_=d[g].piApprox;if(u(R,t.maxError))return I||t.simplify==="optional"?(v.correct=!0,v.message=t.message||null,v.empty=!1):p==="percent"?(v.empty=!0,v.message=Ne.MISSING_PERCENT_ERROR):(t.simplify!=="enforced"&&(v.empty=!0),v.message=Ne.NEEDS_TO_BE_SIMPLIFIED_ERROR),!1;_&&u(R,Math.abs(R*.001))&&(v.empty=!0,v.message=Ne.APPROXIMATED_PI_ERROR)}}),v.correct===!1){let E=!1;if(ue.each(o,function(p){ue.any(p(l),function(g){return g.value!=null&&!ue.isNaN(g.value)})&&(E=!0)}),!E)return v.empty=!0,v.message=Ne.EXTRA_SYMBOLS_ERROR,v}return v}}},number:{convertToPredicate:function(u,t){const n=parseFloat(u);return[function(a,o){return Math.abs(a-n)<o},he.extend({},t,{type:"predicate"})]},createValidatorFunctional:function(u,t){return be.predicate.createValidatorFunctional(...be.number.convertToPredicate(u,t))}},expression:{parseSolution:function(u,t){let n=qe(u,t);if(n.parsed){if(t.simplified&&!n.expr.isSimplified())throw new je("The provided solution ("+u+") isn't fully expanded and simplified.",et.InvalidInput);n=n.expr}else throw new je("The provided solution ("+u+") didn't parse.",et.InvalidInput);return n},createValidatorFunctional:function(u,t){return function(n){const a={empty:!1,correct:!1,message:null,guess:n,ungraded:!1};if(!n)return a.empty=!0,a;const o=qe(n,t);if(!o.parsed)return a.empty=!0,a;typeof u=="string"&&(u=be.expression.parseSolution(u,t));const l=st(o.expr,u,t);if(l.equal)a.correct=!0;else if(l.wrongVariableNames||l.wrongVariableCase)a.ungraded=!0,a.message=l.wrongVariableCase?Ne.WRONG_CASE_ERROR:Ne.WRONG_LETTER_ERROR,a.suppressAlmostThere=!0;else if(l.message)a.message=l.message;else{const f=qe(n.replace(/[xX]/g,"*"),t);if(f.parsed){const v=st(f.expr,u,t);v.equal?(a.ungraded=!0,a.message=Ne.MULTIPLICATION_SIGN_ERROR):v.message&&(a.message=v.message+" Also, I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign.")}}return a}}}},ht=/^web\+graphie:/,pt=/^file\+graphie:/;function Ye(u){return dt(u)?vt(u):u}function dt(u){return ht.test(u)||pt.test(u)}function Xe(u){return u.replace(ht,"https:").replace(pt,"file:")}function vt(u){return Xe(u)+".svg"}function Kt(u){return Xe(u)+"-data.json"}async function Jt(u){const t=new Image;return new Promise((n,a)=>{t.onload=()=>{n([t.naturalWidth,t.naturalHeight])},t.onerror=a,t.src=Ye(u)})}let ut=!1;const gt=function(u,t,n){return Array.isArray(u)?ue.map(u,function(a){return gt(a,t)}):t.call(n,u)};function Zt(u,t){return u==null||t==null?u==null==(t==null):u.length===t.length&&u.every((n,a)=>t[a]===n)}const mt=/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,Qt=/^([a-z-]+) ([0-9]+)$/,jt=new RegExp(mt.source+"$"),en="☃",Ke=function(u){let t=u;return function(){let n=t;return n=n+2127912214+(n<<12)&4294967295,n=(n^3345072700^n>>>19)&4294967295,n=n+374761393+(n<<5)&4294967295,n=(n+3550635116^n<<9)&4294967295,n=n+4251993797+(n<<3)&4294967295,n=(n^3042594569^n>>>16)&4294967295,(t=n&268435455)/268435456}};function tn(u,t,n=!1){const a=ue.clone(u);if(!a.length||ue.all(a,function(l){return ue.isEqual(l,a[0])}))return a;let o;typeof t=="function"?o=t:o=Ke(t);do for(let l=a.length;l>0;l--){const f=Math.floor(o()*l),v=a[f];a[f]=a[l-1],a[l-1]=v}while(n&&ue.isEqual(u,a));return a}const nn="x".split(/(.)/g).length?function(u,t){return u.split(t)}:function(u,t){const n=[];let a=t.lastIndex=0,o;for(;o=t.exec(u);){const l=o;n.push(u.slice(a,l.index)),n.push(...l.slice(1)),a=l.index+l[0].length}return n.push(u.slice(a)),n};function rn(u,t){let n;return be.predicate.createValidatorFunctional(function(o){return n=o,!0},{simplify:"optional",inexact:!0,forms:"integer, proper, improper, pi, log, mixed, decimal"})(u),n}function sn(u){return ue(u).times(function(){return""})}function an(u,t,n,a){const o=Je(t,n),f=u*o>30;return{scale:o,tickStep:u/a,unityLabel:f}}function un(u,t,n){return ue(2).times(function(a){const o=Je(u[a],n);return yt(t[a],o)})}function cn(u){return[u[0]/2,u[1]/2]}function yt(u,t){const n=u*t,a=u,o=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),l=Math.floor(a/o);if(n<25)return u;if(n<50)return l===5?u:u/2;if(l===1)return u/2;if(l===2)return u/4;if(l===5)return u/5}function Je(u,t){const n=u[1]-u[0];return t/n}function ln(u,t){const n=u[1]-u[0];let a;15<n&&n<=20?a=23:n>100||n<5?a=10:a=16;const o=t/500,l=a*o;return Ze(n,l)}function Ze(u,t){let n=Math.pow(10,Math.floor(Math.log(u/t)/Math.LN10));const a=t/u*n;return a<=.15?n*=10:a<=.35?n*=5:a<=.75&&(n*=2),n}const ct=(u,t)=>{const n=t[1]-t[0],a=n/u;return a<=10?u:a<=20?u*2:Ze(n,10)};function on(u,t){return[ct(u[0],t[0]),ct(u[1],t[1])]}function fn(u){u=u||window.location.search.substring(1);const t={},n=/\+/g,a=/([^&=]+)=?([^&]*)/g,o=function(f){return decodeURIComponent(f.replace(n," "))};let l;for(;l=a.exec(u);){const f=l;t[o(f[1])]=o(f[2])}return t}function hn(u,t,n){n=encodeURIComponent(n);const a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=u.indexOf("?")!==-1?"&":"?";return u.match(a)?u.replace(a,"$1"+t+"="+n+"$2"):u+o+t+"="+n}function pn(u){return encodeURIComponent(u).replace(/['()!]/g,window.escape).replace(/\*/g,"%2A")}const xe={pointerDown:!1,currentTouchIdentifier:null};function dn(){Object.assign(xe,{pointerDown:!1,currentTouchIdentifier:null})}function vn(u){let t;if(xe.pointerDown){if(xe.currentTouchIdentifier!=null){const a=u.changedTouches?u.changedTouches.length:0;for(let o=0;o<a;o++)u.changedTouches[o].identifier===xe.currentTouchIdentifier&&(t=u.changedTouches[o])}else t=u;const n=u.type==="touchend"||u.type==="touchcancel";t&&n&&(xe.pointerDown=!1,xe.currentTouchIdentifier=null)}else xe.pointerDown=!0,u.changedTouches?(t=u.changedTouches[0],xe.currentTouchIdentifier=t.identifier):t=u;if(t)return{left:t.pageX,top:t.pageY}}const gn=()=>{try{const u=Object.defineProperty({},"passive",{get:function(){ut=!0}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch{}return ut};function mn(u){u.stopPropagation()}function yn(u,t){const n=new Image;n.onload=function(){var a;n.width===0&&n.height===0?((a=document.body)==null||a.appendChild(n),ue.defer(function(){var o;t(n.clientWidth,n.clientHeight),(o=document.body)==null||o.removeChild(n)})):t(n.width,n.height)},n.src=Ye(u)}function wn(u){const t=u.value,n=u.selectionStart-1,a=Math.max(t.lastIndexOf(`
`,n),t.lastIndexOf(" ",n))+1;return{string:t.substring(a,n+1),pos:{start:a,end:n}}}function xn(u,t){u.selectionStart=t,u.selectionEnd=t}const En={getWordBeforeCursor:wn,moveCursor:xn},In=u=>u.startsWith("$")&&u.endsWith("$")?u.slice(1,-1):u,Rn=Ke(new Date().getTime()&4294967295),qn={inputPathsEqual:Zt,nestedMap:gt,rWidgetRule:mt,rTypeFromWidgetId:Qt,rWidgetParts:jt,snowman:en,seededRNG:Ke,shuffle:tn,split:nn,firstNumericalParse:rn,stringArrayOfSize:sn,gridDimensionConfig:an,getGridStep:un,snapStepFromGridStep:cn,scaleFromExtent:Je,tickStepFromExtent:ln,gridStepFromTickStep:yt,tickStepFromNumTicks:Ze,constrainedTickStepsFromTickSteps:on,parseQueryString:fn,updateQueryString:hn,strongEncodeURIComponent:pn,touchHandlers:xe,resetTouchHandlers:dn,extractPointerLocation:vn,supportsPassiveEvents:gn,captureScratchpadTouchStart:mn,getImageSize:yn,getImageSizeModern:Jt,getRealImageUrl:Ye,isLabeledSVG:dt,getBaseUrl:Xe,getSvgUrl:vt,getDataUrl:Kt,textarea:En,unescapeMathMode:In,random:Rn};export{Pt as D,Ne as E,se as K,qn as U,$e as _,kn as a,Sn as b,Fn as c,be as d,Ce as e,Pn as f,bn as g,Dt as i,qe as p,Tn as r,Dn as s,at as t};
