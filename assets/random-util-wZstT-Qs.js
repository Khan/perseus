import{_ as y}from"./underscore-885MUNGo.js";function le(e,t){return typeof e=="number"&&typeof t=="number"?Math.abs(e-t)<1e-9:e===t}function _(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!_(e[n],t[n]))return!1;return!0}return Array.isArray(e)||Array.isArray(t)?!1:typeof e=="function"&&typeof t=="function"?le(e,t):typeof e=="function"||typeof t=="function"?!1:typeof e=="object"&&typeof t=="object"&&e&&t?e===t||y.all(e,function(n,r){return _(t[r],n)})&&y.all(t,function(n,r){return _(e[r],n)}):typeof e=="object"&&e||typeof t=="object"&&t?!1:le(e,t)}const ne={PLOT:"PLOT",PARABOLA:"PARABOLA",SINUSOID:"SINUSOID"};function ue(e){let t=e[0],n=e[1],r=e[2];const o=e[3];t<0&&(t*=-1,n*=-1,r*=-1);const c=2*Math.PI;for(n<0&&(n*=-1,r*=-1,r+=c/2);r>0;)r-=c;for(;r<0;)r+=c;return[t,n,r,o]}function pe(e){let t=e[0],n=e[1],r=e[2];const o=e[3];t<0&&(t*=-1,n*=-1,r*=-1);const c=Math.PI;for(n<0&&(n*=-1,r*=-1,r+=c/2);r>0;)r-=c;for(;r<0;)r+=c;return[t,n,r,o]}const B={areEqual:function(e,t){return _(e,t)},movable:ne.PLOT,getPropsForCoeffs:function(e){return{fn:y.partial(this.getFunctionForCoeffs,e)}}},Le=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],r=n[0]-t[0],o=n[1]-t[1];if(r===0)return;const c=o/r,u=n[1]-c*n[0];return[c,u]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1];return n*t+r},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1];return"y = "+n.toFixed(3)+"x + "+r.toFixed(3)}}),$e=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],movable:ne.PARABOLA,getCoefficients:function(e){const t=e[0],n=e[1],r=t[0],o=t[1],c=(n[1]-o)/((n[0]-r)*(n[0]-r)),u=-2*r*c,d=c*r*r+o;return[c,u,d]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2];return(n*t+r)*t+o},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2]}},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2];return"y = "+n.toFixed(3)+"x^2 + "+r.toFixed(3)+"x + "+o.toFixed(3)}}),Se=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],movable:ne.SINUSOID,getCoefficients:function(e){const t=e[0],n=e[1],r=n[1]-t[1],o=Math.PI/(2*(n[0]-t[0])),c=t[0]*o,u=t[1];return[r,o,c,u]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2],c=e[3];return n*Math.sin(r*t-o)+c},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2],d:e[3]}},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2],c=t[3];return"y = "+n.toFixed(3)+" sin("+r.toFixed(3)+"x - "+o.toFixed(3)+") + "+c.toFixed(3)},areEqual:function(e,t){return _(ue(e),ue(t))}}),ke=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],r=n[1]-t[1],o=Math.PI/(4*(n[0]-t[0])),c=t[0]*o,u=t[1];return[r,o,c,u]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2],c=e[3];return n*Math.tan(r*t-o)+c},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2],c=t[3];return"y = "+n.toFixed(3)+" sin("+r.toFixed(3)+"x - "+o.toFixed(3)+") + "+c.toFixed(3)},areEqual:function(e,t){return _(pe(e),pe(t))}}),fe=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(e,t,n,r,o){const c=r[0][1];return y.all(n,u=>u[1]!==c)},extraAsymptoteConstraint:function(e,t,n,r,o){const c=e[1];if(y.all(n,w=>w[1]>c)||y.all(n,w=>w[1]<c))return[t[0],c];const d=t[1];if(y.all(n,w=>w[1]>d)){const w=y.min(y.map(n,Z=>Z[1]));return[t[0],w-o.snapStep[1]]}const k=y.max(y.map(n,w=>w[1]));return[t[0],k+o.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const n=e[0],r=e[1],o=t[0][1],c=Math.log((n[1]-o)/(r[1]-o))/(n[0]-r[0]);return[(n[1]-o)/Math.exp(c*n[0]),c,o]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2];return n*Math.exp(r*t)+o},getEquationString:function(e,t){if(!t)return null;const n=this.getCoefficients(e,t),r=n[0],o=n[1],c=n[2];return"y = "+r.toFixed(3)+"e^("+o.toFixed(3)+"x) + "+c.toFixed(3)}}),Ae=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(e,t,n,r,o){const c=r[0][0];return y.all(n,u=>u[0]!==c)&&n[0][1]!==n[1][1]},extraAsymptoteConstraint:function(e,t,n,r,o){const c=e[0];if(y.all(n,w=>w[0]>c)||y.all(n,w=>w[0]<c))return[c,t[1]];const d=t[0];return y.all(n,w=>w[0]>d)?[y.min(y.map(n,Z=>Z[0]))-o.snapStep[0],t[1]]:[y.max(y.map(n,w=>w[0]))+o.snapStep[0],t[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const n=o=>[o[1],o[0]],r=fe.getCoefficients(y.map(e,n),y.map(t,n));if(r){const o=-r[2]/r[0],c=1/r[0];return[1/r[1],c,o]}},getFunctionForCoeffs:function(e,t,n){const r=e[0],o=e[1],c=e[2];return r*Math.log(o*t+c)},getEquationString:function(e,t){if(!t)return null;const n=this.getCoefficients(e,t),r=n[0],o=n[1],c=n[2];return"y = ln("+r.toFixed(3)+"x + "+o.toFixed(3)+") + "+c.toFixed(3)}}),xe=y.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],r=n[0]-t[0],o=n[1]-t[1];if(r===0)return;let c=Math.abs(o/r);n[1]<t[1]&&(c*=-1);const u=t[0],d=t[1];return[c,u,d]},getFunctionForCoeffs:function(e,t){const n=e[0],r=e[1],o=e[2];return n*Math.abs(t-r)+o},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2];return"y = "+n.toFixed(3)+"| x - "+r.toFixed(3)+"| + "+o.toFixed(3)}}),me={linear:Le,quadratic:$e,sinusoid:Se,tangent:ke,exponential:fe,logarithm:Ae,absolute_value:xe},rs=y.keys(me);function ss(e){return me[e]}function he(e){return{type:"success",value:e}}function re(e){return{type:"failure",detail:e}}function L(e){return e.type==="failure"}function X(e){return e.type==="success"}function Ce(e,t=n=>n){const n=[],r=[];for(const o of e)o.type==="success"?n.push(o.value):r.push(o.detail);return r.length>0?re(r.reduce(t)):he(n)}const D=(e,t)=>t.success(e);function f(e){return(t,n)=>{if(!Array.isArray(t))return n.failure("array",t);const r=t.map((o,c)=>e(o,n.forSubtree(c)));return Ce(r,Fe)}}function Fe(e,t){return[...e,...t]}function g(e,t){return typeof e=="boolean"?t.success(e):t.failure("boolean",e)}function p(e){return(t,n)=>t!==e?n.failure(String(JSON.stringify(e)),t):n.success(e)}function v(...e){return(t,n)=>{if(typeof t=="string"){const o=e.indexOf(t);if(o>-1)return n.success(e[o])}const r=e.map(o=>JSON.stringify(o));return n.failure(r,t)}}function R(e){return e!=null&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return(t,n)=>t===null?n.success(t):e(t,n)}const l=(e,t)=>typeof e=="number"?t.success(e):t.failure("number",e);function a(e){return(t,n)=>{if(!R(t))return n.failure("object",t);const r={...t},o=[];for(const[c,u]of Object.entries(e)){const d=u(t[c],n.forSubtree(c));X(d)?(d.value!==void 0||c in t)&&(r[c]=d.value):o.push(...d.detail)}return o.length>0?re(o):n.success(r)}}function s(e){return(t,n)=>t===void 0?n.success(t):e(t,n)}function T(e,t){return(n,r)=>{if(!Array.isArray(n))return r.failure("array",n);if(n.length!==2)return r.failure("array of length 2",n);const[o,c]=n,u=e(o,r.forSubtree(0));if(L(u))return u;const d=t(c,r.forSubtree(1));return L(d)?d:r.success([u.value,d.value])}}function $(e){return new se(e)}class se{constructor(t){this.parser=t}then(t){return new se(Me(this.parser,t))}}function Me(e,t){return(n,r)=>{const o=e(n,r);return L(o)?o:t(o.value,r)}}function be(e,t){return(n,r)=>{if(!R(n))return r.failure("object",n);const o={},c=[];for(const[u,d]of Object.entries(n)){const S=r.forSubtree(u),k=e(u,S);L(k)&&c.push(...k.detail);const w=t(d,S);L(w)&&c.push(...w.detail),X(k)&&X(w)&&(o[k.value]=w.value)}return c.length>0?re(c):r.success(o)}}const i=(e,t)=>typeof e=="string"?t.success(e):t.failure("string",e);function Y(e,t,n){return(r,o)=>{if(!Array.isArray(r))return o.failure("array",r);if(r.length!==3)return o.failure("array of length 3",r);const c=e(r[0],o.forSubtree(0));if(L(c))return c;const u=t(r[1],o.forSubtree(1));if(L(u))return u;const d=n(r[2],o.forSubtree(2));return L(d)?d:o.success([c.value,u.value,d.value])}}function P(e){return new ie(e)}class ie{constructor(t){this.parser=t}or(t){return new ie(Be(this.parser,t))}}function Be(e,t){return(n,r)=>{const o=e(n,r);return X(o)?o:t(n,r)}}function h(e,t){return(n,r)=>n==null?he(t(n)):e(n,r)}const Ie=h(be(i,a({width:l,height:l})),()=>({}));function W(e,t){return a({type:e,static:s(g),graded:s(g),alignment:s(i),options:t,key:s(b(l)),version:s(a({major:l,minor:l}))})}function ye(e,t,n){return a({type:t,static:s(g),graded:s(g),alignment:s(i),options:n,key:s(l),version:e})}const Ee=W(p("categorizer"),a({items:f(i),categories:f(i),randomizeItems:h(g,()=>!1),static:h(g,()=>!1),values:f(h(l,()=>0)),highlightLint:s(g),linterContext:s(a({contentType:i,paths:f(i),stack:f(i)}))})),ze=W(p("cs-program"),a({programID:i,programType:D,settings:f(a({name:i,value:i})),showEditor:g,showButtons:g,height:l,static:h(g,()=>!1)})),Ne=W(p("definition"),a({togglePrompt:i,definition:i,static:h(g,()=>!1)})),_e=W(p("dropdown"),a({placeholder:h(i,()=>""),ariaLabel:s(i),visibleLabel:s(i),static:h(g,()=>!1),choices:f(a({content:i,correct:g}))})),Re=W(p("explanation"),a({showPrompt:i,hidePrompt:i,explanation:i,widgets:h((e,t)=>Q(e,t),()=>({})),static:h(g,()=>!1)}));function x(e){return(t,n)=>n.success(e(t))}const De=v("basic","basic+div","trig","prealgebra","logarithms","basic relations","advanced relations","scientific"),We=h(f(De),()=>["basic","trig","prealgebra","logarithms"]);function qe(e,t){return new oe(e,t,n=>n,(n,r)=>r.failure("widget options with a known version number",n))}class oe{constructor(t,n,r,o){this.migrateToLatest=r,this.parseOtherVersions=o;const c=$(n).then(x(this.migrateToLatest)).parser;this.parser=(u,d)=>{if(!R(u))return d.failure("object",u);const S=Ge(u,d);return L(S)?S:S.value.version.major!==t?this.parseOtherVersions(u,d):c(u,d)}}withMigrationFrom(t,n,r){const o=this.parser,c=u=>this.migrateToLatest(r(u));return new oe(t,n,c,o)}}const Ge=a({version:h(a({major:l,minor:l}),()=>({major:0,minor:0}))}),je=P(i).or(l).or(p(null)).or(p(void 0)).parser,Ue=a({value:s(i),form:h(g,()=>!1),simplify:h(g,()=>!1),considered:v("correct","wrong","ungraded"),key:$(je).then(x(String)).parser});function Xe(e){const t=[];for(const n of e){const{value:r}=n;r!=null&&t.push({...n,value:r})}return t}const Ye=a({major:p(1),minor:l}),He=ye(Ye,p("expression"),a({answerForms:$(f(Ue)).then(x(Xe)).parser,functions:f(i),times:g,visibleLabel:s(i),ariaLabel:s(i),buttonSets:We,buttonsVisible:s(v("always","never","focused"))})),Ke=s(a({major:p(0),minor:l})),Je=ye(Ke,p("expression"),a({functions:f(i),times:g,visibleLabel:s(i),ariaLabel:s(i),form:g,simplify:g,value:i,buttonSets:We,buttonsVisible:s(v("always","never","focused"))}));function Qe(e){const{options:t}=e;return{...e,version:{major:1,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:[{considered:"correct",form:t.form,simplify:t.simplify,value:t.value}]}}}const Ze=qe(1,He).withMigrationFrom(0,Je,Qe).parser,Ve=$(p(!1)).then(x(()=>null)).parser,Oe=a({title:h(i,()=>""),hasHint:s(b(g)),hint:P(Ve).or(p(null)).or(p(void 0)).or((e,t)=>q(e,t)).parser,content:i,widgets:(e,t)=>Q(e,t),widgetEnabled:s(b(g)),immutableWidgets:s(b(g)),images:be(i,a({width:l,height:l}))}),et=W(p("graded-group"),Oe),tt=W(p("graded-group-set"),a({gradedGroups:f(Oe)}));function H(e){const t=(n,r)=>R(n)?r.forSubtree(e).failure("a valid value",n[e]):r.failure("object",n);return new ae(e,t)}class ae{constructor(t,n){this.discriminantKey=t,this.parser=n}withBranch(t,n){const r=nt(this.discriminantKey,t,n,this.parser);return new ae(this.discriminantKey,r)}}function nt(e,t,n,r){return(o,c)=>R(o)?o[e]===t?n(o,c):r(o,c):c.failure("object",o)}const C=T(l,l),A=T(C,C),rt=W(p("grapher"),a({availableTypes:f(v("absolute_value","exponential","linear","logarithm","quadratic","sinusoid","tangent")),correct:H("type").withBranch("absolute_value",a({type:p("absolute_value"),coords:b(A)})).withBranch("exponential",a({type:p("exponential"),asymptote:A,coords:b(A)})).withBranch("linear",a({type:p("linear"),coords:b(A)})).withBranch("logarithm",a({type:p("logarithm"),asymptote:A,coords:b(A)})).withBranch("quadratic",a({type:p("quadratic"),coords:b(A)})).withBranch("sinusoid",a({type:p("sinusoid"),coords:b(A)})).withBranch("tangent",a({type:p("tangent"),coords:b(A)})).parser,graph:a({backgroundImage:a({bottom:s(l),height:s(l),left:s(l),scale:s(l),url:s(b(i)),width:s(l)}),box:s(C),editableSettings:s(f(v("graph","snap","image","measure"))),gridStep:s(C),labels:T(i,i),markings:v("graph","none","grid"),range:T(C,C),rulerLabel:p(""),rulerTicks:l,showProtractor:s(g),showRuler:s(g),showTooltips:s(g),snapStep:s(C),step:C,valid:s(P(g).or(i).parser)})})),st=W(p("group"),(e,t)=>q(e,t)),it=W(p("iframe"),a({url:i,settings:s(f(a({name:i,value:i}))),width:P(l).or(i).parser,height:P(l).or(i).parser,allowFullScreen:h(g,()=>!1),allowTopNavigation:s(g),static:h(g,()=>!1)})),ve=(e,t)=>{if(typeof e=="number")return t.success(e);const n=+e;return e===""||isNaN(n)?t.failure("a number or numeric string",e):t.success(n)};function ot(e){return e===""?0:e}const at=$(P(l).or(i).parser).then(x(ot)).then(ve).parser,z=h(at,()=>{}),K=a({url:s(b(i)),width:z,height:z,top:z,left:z,bottom:z,scale:z}),V=T(l,l),ct=W(p("image"),a({title:s(i),caption:s(i),alt:s(i),backgroundImage:K,static:s(g),labels:s(f(a({content:i,alignment:i,coordinates:f(l)}))),range:s(T(V,V)),box:s(V)})),lt=(e,t)=>typeof e=="boolean"?t.success(String(e)):t.failure("boolean",e),ut=W(p("input-number"),a({answerType:s(v("number","decimal","integer","rational","improper","mixed","percent","pi")),inexact:s(g),maxError:s(P(l).or(i).parser),rightAlign:s(g),simplify:v("required","optional","enforced"),size:v("normal","small"),value:P(l).or(i).or(lt).parser,customKeypad:s(g)})),N=T(l,l),j=h(i,()=>""),F=$(s(i)).then(x(String)).parser,pt=a({type:p("function"),key:F,options:a({value:i,funcName:i,rangeMin:i,rangeMax:i,color:i,strokeDasharray:i,strokeWidth:l})}),gt=a({type:p("label"),key:F,options:a({label:i,color:i,coordX:i,coordY:i})}),dt=a({type:p("line"),key:F,options:a({color:i,startX:i,startY:i,endX:i,endY:i,strokeDasharray:i,strokeWidth:l,arrows:i})}),ft=a({type:p("movable-line"),key:F,options:a({startX:i,startY:i,startSubscript:l,endX:i,endY:i,endSubscript:l,constraint:i,snap:l,constraintFn:i,constraintXMin:i,constraintXMax:i,constraintYMin:i,constraintYMax:i})}),mt=a({type:p("movable-point"),key:F,options:a({startX:i,startY:i,varSubscript:l,constraint:i,snap:l,constraintFn:i,constraintXMin:j,constraintXMax:j,constraintYMin:j,constraintYMax:j})}),ht=a({type:p("parametric"),key:F,options:a({x:i,y:i,rangeMin:i,rangeMax:i,color:i,strokeDasharray:i,strokeWidth:l})}),bt=a({type:p("point"),key:F,options:a({color:i,coordX:i,coordY:i})}),yt=a({type:p("rectangle"),key:F,options:a({color:i,coordX:i,coordY:i,width:i,height:i})}),Wt=W(p("interaction"),a({static:h(g,()=>!1),graph:a({editableSettings:s(f(v("canvas","graph"))),box:N,labels:f(i),range:T(N,N),gridStep:N,markings:v("graph","grid","none"),snapStep:s(N),valid:s(P(g).or(i).parser),backgroundImage:s(K),showProtractor:s(g),showRuler:s(g),rulerLabel:s(i),rulerTicks:s(l),tickStep:N}),elements:f(H("type").withBranch("function",pt).withBranch("label",gt).withBranch("line",dt).withBranch("movable-line",ft).withBranch("movable-point",mt).withBranch("parametric",ht).withBranch("point",bt).withBranch("rectangle",yt).parser)})),is=["calculator","chi2Table","financialCalculatorMonthlyPayment","financialCalculatorTotalAmount","financialCalculatorTimeToPayOff","periodicTable","periodicTableWithKey","tTable","zTable"],os=["correct","wrong","ungraded"],Ot=["blue","green","grayH","purple","pink","orange","red"],as={blue:"#3D7586",green:"#447A53",grayH:"#3B3D45",purple:"#594094",pink:"#B25071",red:"#D92916",orange:"#946700"},cs={none:0,white:1,translucent:.4,solid:1},vt=["bar","line","pic","histogram","dotplot"],m=T(l,l),wt=a({type:p("angle"),showAngles:s(g),allowReflexAngles:s(g),angleOffsetDeg:s(l),snapDegrees:s(l),match:s(p("congruent")),coords:s(Y(m,m,m)),startCoords:s(Y(m,m,m))}),Tt=a({type:p("circle"),center:s(m),radius:s(l),startCoords:s(a({center:m,radius:l})),coord:s(m)}),Pt=a({type:p("linear"),coords:s(b(T(m,m))),startCoords:s(T(m,m)),coord:s(m)}),Lt=a({type:p("linear-system"),coords:s(b(f(T(m,m)))),startCoords:s(f(T(m,m))),coord:s(m)}),$t=a({type:p("none")}),St=a({type:p("point"),numPoints:s(P(l).or(p("unlimited")).parser),coords:s(b(f(m))),startCoords:s(f(m)),coord:s(m)}),kt=a({type:p("polygon"),numSides:s(P(l).or(p("unlimited")).parser),showAngles:s(g),showSides:s(g),snapTo:s(v("grid","angles","sides")),match:s(v("similar","congruent","approx","exact")),startCoords:s(f(m)),coord:s(m)}),At=a({type:p("quadratic"),coords:s(b(Y(m,m,m))),startCoords:s(Y(m,m,m)),coord:s(m)}),xt=a({type:p("ray"),coords:s(b(T(m,m))),startCoords:s(T(m,m)),coord:s(m)}),Ct=a({type:p("segment"),numSegments:s(l),coords:s(b(f(T(m,m)))),startCoords:s(f(T(m,m))),coord:s(m)}),Ft=a({type:p("sinusoid"),coords:s(b(f(m))),startCoords:s(f(m)),coord:s(m)}),ge=H("type").withBranch("angle",wt).withBranch("circle",Tt).withBranch("linear",Pt).withBranch("linear-system",Lt).withBranch("none",$t).withBranch("point",St).withBranch("polygon",kt).withBranch("quadratic",At).withBranch("ray",xt).withBranch("segment",Ct).withBranch("sinusoid",Ft).parser,I=v(...Ot),we=v("none","white","translucent","solid"),J=v("solid","dashed"),E=a({type:p("label"),coord:m,text:i,color:I,size:v("small","medium","large")}),te=a({type:p("point"),coord:m,color:I,filled:g,labels:s(f(E)),ariaLabel:s(i)}),Mt=a({type:p("line"),kind:v("line","ray","segment"),points:T(te,te),color:I,lineStyle:J,showPoint1:h(g,()=>!1),showPoint2:h(g,()=>!1),labels:s(f(E)),ariaLabel:s(i)}),Bt=a({type:p("vector"),points:T(m,m),color:I,labels:s(f(E)),ariaLabel:s(i)}),It=a({type:p("ellipse"),center:m,radius:m,angle:l,color:I,fillStyle:we,strokeStyle:J,labels:s(f(E)),ariaLabel:s(i)}),Et=a({type:p("polygon"),points:f(m),color:I,showVertices:g,fillStyle:we,strokeStyle:J,labels:s(f(E)),ariaLabel:s(i)}),zt=a({type:p("function"),color:I,strokeStyle:J,equation:i,directionalAxis:v("x","y"),domain:s(m),labels:s(f(E)),ariaLabel:s(i)}),Nt=H("type").withBranch("point",te).withBranch("line",Mt).withBranch("vector",Bt).withBranch("ellipse",It).withBranch("polygon",Et).withBranch("function",zt).withBranch("label",E).parser,_t=W(p("interactive-graph"),a({step:m,gridStep:s(m),snapStep:s(m),backgroundImage:s(K),markings:v("graph","grid","none"),labels:s(f(i)),showProtractor:g,showRuler:s(g),showTooltips:s(g),rulerLabel:s(i),rulerTicks:s(l),range:T(m,m),graph:h(ge,()=>({type:"linear"})),correct:ge,lockedFigures:s(f(Nt)),fullGraphLabel:s(i),fullGraphAriaDescription:s(i)})),Rt=W(p("label-image"),a({choices:f(i),imageUrl:i,imageAlt:i,imageHeight:l,imageWidth:l,markers:f(a({answers:f(i),label:i,x:l,y:l})),hideChoicesFromInstructions:g,multipleAnswers:g,static:h(g,()=>!1)})),Dt=W(p("matcher"),a({labels:f(i),left:f(i),right:f(i),orderMatters:g,padding:g})),qt=P(l).or(i).parser,Gt=$(h(qt,()=>NaN)).then(ve).parser,jt=W(h(p("matrix"),()=>"matrix"),a({prefix:s(i),suffix:s(i),answers:f(f(Gt)),cursorPosition:s(f(l)),matrixBoardSize:f(l),static:s(g)})),Ut=W(p("measurer"),a({image:h(K,()=>({url:null,top:0,left:0})),showProtractor:g,showRuler:g,rulerLabel:i,rulerTicks:l,rulerPixels:l,rulerLength:l,box:T(l,l),static:h(g,()=>!1)})),Xt=W(p("molecule-renderer"),a({widgetId:i,rotationAngle:s(l),smiles:s(i)})),Yt=$(p("")).then(x(()=>null)).parser,Ht=W(p("number-line"),a({range:f(l),labelRange:f(b(P(l).or(Yt).parser)),labelStyle:i,labelTicks:g,isTickCtrl:s(b(g)),divisionRange:f(l),numDivisions:s(b(l)),snapDivisions:h(l,()=>2),tickStep:s(b(l)),correctRel:s(b(i)),correctX:b(l),initialX:s(b(l)),showTooltips:s(g),static:h(g,()=>!1)})),de=v("integer","mixed","improper","proper","decimal","percent","pi"),Kt=v("required","correct","enforced","optional"),Jt=W(p("numeric-input"),a({answers:f(a({message:i,value:s(b(l)),status:i,answerForms:h(f(de),()=>{}),strict:g,maxError:s(b(l)),simplify:s(b(P(Kt).or($(g).then(x(e=>typeof e=="boolean"?e?"required":"optional":e)).parser).parser))})),labelText:s(i),size:i,coefficient:h(g,()=>!1),rightAlign:s(g),static:h(g,()=>!1),answerForms:s(f(a({name:de,simplify:s(b(v("required","correct","enforced","optional")))})))}));function ee(e,t){return q(e,t)}const Qt=(e,t)=>e==="large"?t.success("auto"):t.success(e),Zt=W(p("orderer"),a({options:h(f(ee),()=>[]),correctOptions:f(ee),otherOptions:f(ee),height:$(v("normal","auto","large")).then(Qt).parser,layout:h(v("horizontal","vertical"),()=>"horizontal")})),Vt=W(p("passage-ref"),a({passageNumber:l,referenceNumber:l,summaryText:s(i)})),en=W(p("passage"),a({footnotes:h(i,()=>""),passageText:i,passageTitle:h(i,()=>""),showLineNumbers:g,static:h(g,()=>!1)})),tn=W(p("phet-simulation"),a({url:i,description:i})),nn=W(p("plotter"),a({labels:f(i),categories:f(i),type:v(...vt),maxY:l,scaleY:h(l,()=>1),labelInterval:s(b(l)),snapsPerLine:h(l,()=>2),starting:f(l),correct:f(l),picUrl:s(b(i)),picSize:s(b(l)),picBoxHeight:s(b(l)),plotDimensions:h(f(l),()=>[380,300])})),rn=W(p("python-program"),a({programID:i,height:l})),sn=W(p("radio"),a({choices:f(a({content:h(i,()=>""),clue:s(i),correct:s(g),isNoneOfTheAbove:s(g),widgets:h((e,t)=>Q(e,t),()=>{})})),hasNoneOfTheAbove:s(g),countChoices:s(g),randomize:s(g),multipleSelect:s(g),deselectEnabled:s(g),onePerLine:s(g),displayCount:s(D),noneOfTheAbove:s(p(!1))})),on=W(p("sorter"),a({correct:f(i),padding:g,layout:v("horizontal","vertical")})),an=W(p("table"),a({headers:f(i),rows:l,columns:l,answers:f(f(i))})),cn=W(p("video"),a({location:i,static:s(g)})),Q=(e,t)=>{if(!R(e))return t.failure("PerseusWidgetsMap",e);const n={};for(const r of Object.keys(e)){const o=ln([r,e[r]],n,t.forSubtree(r));if(L(o))return o}return t.success(n)},ln=([e,t],n,r)=>{const o=pn(e.split(" "),r.forSubtree("(widget ID)"));if(L(o))return o;const[c,u]=o.value;function d(S,k){const w=k(t,r);return L(w)?w:(n[S]=w.value,r.success(void 0))}switch(c){case"categorizer":return d(`categorizer ${u}`,Ee);case"cs-program":return d(`cs-program ${u}`,ze);case"definition":return d(`definition ${u}`,Ne);case"dropdown":return d(`dropdown ${u}`,_e);case"explanation":return d(`explanation ${u}`,Re);case"expression":return d(`expression ${u}`,Ze);case"grapher":return d(`grapher ${u}`,rt);case"group":return d(`group ${u}`,st);case"graded-group":return d(`graded-group ${u}`,et);case"graded-group-set":return d(`graded-group-set ${u}`,tt);case"iframe":return d(`iframe ${u}`,it);case"image":return d(`image ${u}`,ct);case"input-number":return d(`input-number ${u}`,ut);case"interaction":return d(`interaction ${u}`,Wt);case"interactive-graph":return d(`interactive-graph ${u}`,_t);case"label-image":return d(`label-image ${u}`,Rt);case"matcher":return d(`matcher ${u}`,Dt);case"matrix":return d(`matrix ${u}`,jt);case"measurer":return d(`measurer ${u}`,Ut);case"molecule-renderer":return d(`molecule-renderer ${u}`,Xt);case"number-line":return d(`number-line ${u}`,Ht);case"numeric-input":return d(`numeric-input ${u}`,Jt);case"orderer":return d(`orderer ${u}`,Zt);case"passage":return d(`passage ${u}`,en);case"passage-ref":return d(`passage-ref ${u}`,Vt);case"passage-ref-target":return d(`passage-ref-target ${u}`,D);case"phet-simulation":return d(`phet-simulation ${u}`,tn);case"plotter":return d(`plotter ${u}`,nn);case"python-program":return d(`python-program ${u}`,rn);case"radio":return d(`radio ${u}`,sn);case"sorter":return d(`sorter ${u}`,on);case"table":return d(`table ${u}`,an);case"video":return d(`video ${u}`,cn);case"sequence":return d(`sequence ${u}`,U);case"lights-puzzle":return d(`lights-puzzle ${u}`,U);case"simulator":return d(`simulator ${u}`,U);case"transformer":return d(`transformer ${u}`,U);default:return d(`${c} ${u}`,W(p(c),D))}},U=W((e,t)=>t.success("deprecated-standin"),a({})),un=(e,t)=>typeof e!="string"||!/^(0|[1-9][0-9]*)$/.test(e)?t.failure("a string representing a non-negative integer",e):t.success(+e),pn=T(i,un),q=h(a({content:h(i,()=>""),widgets:h((e,t)=>Q(e,t),()=>({})),images:Ie,metadata:D}),()=>({content:"",widgets:{},images:{}}));P(q).or(f(q)).parser;$(h(a({}),()=>({}))).then(x(gn)).parser;function gn(e){return{zTable:!!e.zTable,calculator:!!e.calculator,chi2Table:!!e.chi2Table,financialCalculatorMonthlyPayment:!!e.financialCalculatorMonthlyPayment,financialCalculatorTotalAmount:!!e.financialCalculatorTotalAmount,financialCalculatorTimeToPayOff:!!e.financialCalculatorTimeToPayOff,periodicTable:!!e.periodicTable,periodicTableWithKey:!!e.periodicTableWithKey,tTable:!!e.tTable}}const dn=(e,t)=>{let n="v";t==="__lib_version__"&&(n="");const r=`${n}${t}`;if(typeof globalThis<"u"){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const o=globalThis.__perseus_debug__[e];if(o){if(o!==r){const c=Array.isArray(o)?o:[o];c.push(r),globalThis.__perseus_debug__[e]=c,console.warn(`Multiple versions of ${e} loaded on this page: ${c.sort().join(", ")}`)}}else globalThis.__perseus_debug__[e]=r}else console.warn(`globalThis not found found (${r})`)},fn="@khanacademy/perseus-core",mn="__lib_version__";dn(fn,mn);function hn(e){return{items:e.items,categories:e.categories,randomizeItems:e.randomizeItems,static:e.static}}const bn={items:[],categories:[],values:[],randomizeItems:!1},yn={name:"categorizer",defaultWidgetOptions:bn,getPublicWidgetOptions:hn};function Wn(e){return e}const On=400,vn={programID:"",programType:null,settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,height:On},wn={name:"cs-program",defaultWidgetOptions:vn,supportedAlignments:["block","full-width"],getPublicWidgetOptions:Wn},Tn={togglePrompt:"",definition:""},Pn={name:"definition",defaultWidgetOptions:Tn,defaultAlignment:"inline"};function Ln(e){return{choices:e.choices.map(t=>({content:t.content})),placeholder:e.placeholder,static:e.static,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel}}const $n={placeholder:"",choices:[{content:"",correct:!1}]},Sn={name:"definition",defaultWidgetOptions:$n,defaultAlignment:"inline-block",getPublicWidgetOptions:Ln},kn={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:`explanation goes here

more explanation`,widgets:{}},An={name:"explanation",defaultWidgetOptions:kn,defaultAlignment:"inline"},xn={major:1,minor:0},Cn={1:e=>({times:e.times,buttonSets:e.buttonSets,functions:e.functions,buttonsVisible:e.buttonsVisible,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,answerForms:[{considered:"correct",form:e.form,simplify:e.simplify,value:e.value}]})},Fn={answerForms:[],times:!1,buttonSets:["basic"],functions:["f","g","h"]};function Mn(e){return{buttonSets:e.buttonSets,functions:e.functions,times:e.times,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,buttonsVisible:e.buttonsVisible}}const Bn={name:"expression",version:xn,widgetOptionsUpgrades:Cn,defaultWidgetOptions:Fn,defaultAlignment:"inline-block",getPublicWidgetOptions:Mn},In={title:"",content:"",widgets:{},images:{},hint:null},En={name:"graded-group",defaultWidgetOptions:In},zn={gradedGroups:[]},Nn={name:"graded-group-set",defaultWidgetOptions:zn};function _n(e){const{correct:t,...n}=e;return n}const Rn={graph:{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},correct:{type:"linear",coords:null},availableTypes:["linear"]},Dn={name:"grapher",defaultWidgetOptions:Rn,getPublicWidgetOptions:_n},qn={content:"",widgets:{},images:{}},Gn={name:"group",defaultWidgetOptions:qn};function jn(e){return e}const Un={url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1,allowTopNavigation:!1},Xn={name:"iframe",defaultWidgetOptions:Un,getPublicWidgetOptions:jn},Yn={title:"",range:[[0,10],[0,10]],box:[400,400],backgroundImage:{url:null,width:0,height:0},labels:[],alt:"",caption:""},Hn={name:"image",defaultWidgetOptions:Yn,supportedAlignments:["block","full-width"],defaultAlignment:"block"},Kn={value:0,simplify:"required",size:"normal",inexact:!1,maxError:.1,answerType:"number",rightAlign:!1},Jn={name:"input-number",defaultWidgetOptions:Kn,defaultAlignment:"inline-block"},Qn={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},Zn={name:"interaction",defaultWidgetOptions:Qn};function Vn(e){const{correct:t,...n}=e;return n}const er={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",showTooltips:!1,showProtractor:!1,graph:{type:"linear"},correct:{type:"linear",coords:null}},tr={name:"interactive-graph",defaultWidgetOptions:er,getPublicWidgetOptions:Vn};function nr(e){return{...e,markers:e.markers.map(rr)}}function rr(e){const{answers:t,...n}=e;return n}const sr={choices:[],imageAlt:"",imageUrl:"",imageWidth:0,imageHeight:0,markers:[],multipleAnswers:!1,hideChoicesFromInstructions:!1},ir={name:"label-image",defaultWidgetOptions:sr,getPublicWidgetOptions:nr},ls=e=>{const t=ce(e.problemNum);let n;e.orderMatters?n=G(e.left,t,!0):n=e.left;const r=G(e.right,t,!0);return{left:n,right:r}};function or(e){let t;e.orderMatters?t=G(e.left,Math.random,!0):t=e.left;const n=G(e.right,Math.random,!0);return{left:t,right:n}}function ar(e){const{left:t,right:n}=or(e);return{...e,left:t,right:n}}const cr={left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0},lr={name:"matcher",defaultWidgetOptions:cr,getPublicWidgetOptions:ar};function ur(e){const{answers:t,...n}=e;return n}const pr={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]},gr={name:"matrix",defaultWidgetOptions:pr,getPublicWidgetOptions:ur},dr={major:1,minor:0},fr={1:e=>{const{imageUrl:t,imageTop:n,imageLeft:r,...o}=e;return{...o,image:{url:t,top:n,left:r}}}},mr={box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10},hr={name:"measurer",version:dr,widgetOptionsUpgrades:fr,defaultWidgetOptions:mr};function br(e){const{correctX:t,correctRel:n,...r}=e;return r}const yr={range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1},Wr={name:"number-line",defaultWidgetOptions:yr,getPublicWidgetOptions:br};function Or(e){const{answerForms:t,simplify:n,status:r}=e;return{answerForms:t,simplify:n,status:r}}function vr(e){const{answers:t,...n}=e;return{...n,answers:t.map(Or)}}const wr={answers:[{value:null,status:"correct",message:"",simplify:"required",answerForms:[],strict:!1,maxError:null}],size:"normal",coefficient:!1,labelText:"",rightAlign:!1},Tr={name:"numeric-input",defaultWidgetOptions:wr,defaultAlignment:"inline-block",getPublicWidgetOptions:vr};function Pr(e){return{options:e.options,height:e.height,layout:e.layout}}const Lr={correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:"normal",layout:"horizontal"},$r={name:"orderer",defaultWidgetOptions:Lr,getPublicWidgetOptions:Pr},Sr={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0},kr={name:"passage",defaultWidgetOptions:Sr},Ar={major:0,minor:1},xr={passageNumber:1,referenceNumber:1,summaryText:""},Cr={name:"passageRef",version:Ar,defaultWidgetOptions:xr,defaultAlignment:"inline"},Fr={content:""},Mr={name:"passageRefTarget",defaultWidgetOptions:Fr,defaultAlignment:"inline"},Br={url:"",description:""},Ir={name:"phet-simulation",defaultWidgetOptions:Br};function Er(e){const{correct:t,...n}=e;return n}const zr={scaleY:1,maxY:10,snapsPerLine:2,correct:[1],starting:[1],type:"bar",labels:["",""],categories:[""],picSize:30,picBoxHeight:36,plotDimensions:[275,200],labelInterval:1,picUrl:null},Nr={name:"plotter",defaultWidgetOptions:zr,getPublicWidgetOptions:Er},_r={programID:"",height:400},Rr={name:"python-program",defaultWidgetOptions:_r},Dr={major:1,minor:0},qr={1:e=>{const{noneOfTheAbove:t,...n}=e;if(t)throw new Error("radio widget v0 no longer supports auto noneOfTheAbove");return{...n,hasNoneOfTheAbove:!1}}},Gr={choices:[{},{},{},{}],displayCount:null,randomize:!1,hasNoneOfTheAbove:!1,multipleSelect:!1,countChoices:!1,deselectEnabled:!1};function jr(e){const{content:t,isNoneOfTheAbove:n,widgets:r}=e;return{content:t,isNoneOfTheAbove:n,widgets:r}}function Ur(e){return{...e,choices:e.choices.map(jr)}}const Xr={name:"radio",version:Dr,widgetOptionsUpgrades:qr,defaultWidgetOptions:Gr,getPublicWidgetOptions:Ur};function Yr(e){const t=G(e.correct,Math.random,!0);return{...e,correct:t,isCorrectShuffled:!0}}const Hr={correct:["$x$","$y$","$z$"],layout:"horizontal",padding:!0},Kr={name:"sorter",defaultWidgetOptions:Hr,getPublicWidgetOptions:Yr};function Jr(e){const{answers:t,...n}=e;return n}const Te=4,Pe=1,Qr=new Array(Te).fill(0).map(()=>new Array(Pe).fill("")),Zr={headers:[""],rows:Te,columns:Pe,answers:Qr},Vr={name:"table",defaultWidgetOptions:Zr,getPublicWidgetOptions:Jr},es={location:""},ts={name:"video",defaultWidgetOptions:es,supportedAlignments:["block","float-left","float-right","full-width"],defaultAlignment:"block"},M={};function O(e,t){M[e]=t}function us(e){return!!M[e]}function ps(e){const t=M[e];return(t==null?void 0:t.version)||{major:0,minor:0}}const gs=e=>{var t;return((t=M[e])==null?void 0:t.getPublicWidgetOptions)??(n=>n)};function ds(e){const t=M[e];return(t==null?void 0:t.widgetOptionsUpgrades)||{}}function fs(e){const t=M[e];return(t==null?void 0:t.defaultWidgetOptions)||{}}const ms=e=>{var n;const t=M[e];return(n=t==null?void 0:t.supportedAlignments)!=null&&n[0]?t==null?void 0:t.supportedAlignments:["default"]},hs=e=>{const t=M[e];return t!=null&&t.defaultAlignment?t.defaultAlignment:"block"};O("categorizer",yn);O("cs-program",wn);O("definition",Pn);O("dropdown",Sn);O("explanation",An);O("expression",Bn);O("graded-group",En);O("graded-group-set",Nn);O("grapher",Dn);O("group",Gn);O("iframe",Xn);O("image",Hn);O("input-number",Jn);O("interaction",Zn);O("interactive-graph",tr);O("label-image",ir);O("matcher",lr);O("matrix",gr);O("measurer",hr);O("number-line",Wr);O("numeric-input",Tr);O("orderer",$r);O("passage",kr);O("passage-ref",Cr);O("passage-ref-target",Mr);O("phet-simulation",Ir);O("plotter",Nr);O("python-program",Rr);O("radio",Xr);O("sorter",Kr);O("table",Vr);O("video",ts);const ce=function(e){let t=e;return function(){let n=t;return n=n+2127912214+(n<<12)&4294967295,n=(n^3345072700^n>>>19)&4294967295,n=n+374761393+(n<<5)&4294967295,n=(n+3550635116^n<<9)&4294967295,n=n+4251993797+(n<<3)&4294967295,n=(n^3042594569^n>>>16)&4294967295,(t=n&268435455)/268435456}};function G(e,t,n=!1){const r=y.clone(e);if(!r.length||y.all(r,function(c){return y.isEqual(c,r[0])}))return r;let o;typeof t=="function"?o=t:o=ce(t);do for(let c=r.length;c>0;c--){const u=Math.floor(o()*c),d=r[u];r[u]=r[c-1],r[c-1]=d}while(n&&y.isEqual(e,r));return r}const bs=ce(new Date().getTime()&4294967295);export{En as A,Nn as B,Dn as C,rs as D,Gn as E,Xn as F,gr as G,hr as H,is as I,$r as J,kr as K,Cr as L,Mr as M,Vr as N,ts as O,os as P,_ as Q,us as R,ps as S,ds as T,fs as U,le as V,ss as W,G as X,bs as Y,ls as Z,Sn as a,Jn as b,yn as c,Pn as d,An as e,Tr as f,Nr as g,vt as h,Hn as i,Rr as j,as as k,ir as l,lr as m,Wr as n,gs as o,Ir as p,Bn as q,Xr as r,Kr as s,cs as t,dn as u,ms as v,hs as w,Zn as x,tr as y,wn as z};
