import{j as e,a as c}from"./jsx-runtime-BGVbfQ2Z.js";import{V as m,u as x}from"./index-4c2J3ov1.js";import{a as R,b as C,S as q,O as g}from"./answer-choices-dZYesy7J.js";import{s as d,c as $}from"./index-25YgVP-A.js";import{l as I}from"./index-awljIyHI.js";import{S as w}from"./index-BrnICqZg.js";import{b as E,L}from"./index-Fg8WJp4t.js";import{C as M}from"./color-select-asH3t_I-.js";import{C as U}from"./color-swatch-ArFC1ikR.js";import{a as z,L as v,b as O}from"./locked-point-settings-KP11yy8W.js";import{g as j}from"./util-cblgOEF4.js";const B=t=>{const{id:s,onChange:i}=t;return e(m,{style:F.container,children:e(R,{menuText:"Add locked figure",style:F.addElementSelect,children:[e(C,{label:"Point",onClick:()=>i("point"),children:"Point"},`${s}-point`),e(C,{label:"Line",onClick:()=>i("line"),children:"Line"},`${s}-line`)]})})},F=I.StyleSheet.create({container:{marginTop:d.xSmall_8},addElementSelect:{backgroundColor:$.fadedBlue8,borderRadius:d.xxxSmall_4}});try{lockedfigureselect.displayName="lockedfigureselect",lockedfigureselect.__docgenInfo={description:"",displayName:"lockedfigureselect",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}}}catch{}const D=t=>{const{kind:s,points:i,color:p,lineStyle:y="solid",showPoint1:f,showPoint2:h,onChangeProps:n,onRemove:a}=t,[o,u]=i,k=x(),P=k.get("line-kind-select"),T=k.get("line-color-select"),S=k.get("line-style-select"),A=`${s.charAt(0).toUpperCase()+s.slice(1)} (${o.coord[0]},
        ${o.coord[1]}), (${u.coord[0]}, ${u.coord[1]})`;function _(l,b){const V=[...i];V[b]={...i[b],...l},n({points:V})}function N(l){n({color:l,points:[{...o,color:l},{...u,color:l}]})}return c(z,{header:c(m,{style:r.row,children:[e(E,{children:A}),e(w,{size:d.xSmall_8}),e(U,{color:p})]}),children:[c(m,{style:[r.row,r.spaceUnder],children:[e(L,{htmlFor:P,style:r.label,tag:"label",children:"kind"}),c(q,{id:P,selectedValue:s,onChange:l=>n({kind:l}),placeholder:"",children:[e(g,{value:"line",label:"line"}),e(g,{value:"segment",label:"segment"}),e(g,{value:"ray",label:"ray"})]})]}),c(m,{style:[r.row,r.spaceUnder],children:[e(M,{id:T,selectedValue:p,onChange:N}),e(w,{size:d.small_12}),c(m,{style:r.row,children:[e(L,{htmlFor:S,style:r.label,tag:"label",children:"style"}),c(q,{id:S,selectedValue:y,onChange:l=>n({lineStyle:l}),placeholder:"",style:r.selectMarginOffset,children:[e(g,{value:"solid",label:"solid"}),e(g,{value:"dashed",label:"dashed"})]})]})]}),e(v,{label:"Point 1",toggled:f,...o,onToggle:l=>n({showPoint1:l}),onChangeProps:l=>_(l,0),style:r.lockedPointSettingsContainer}),e(v,{label:"Point 2",toggled:h,...u,onToggle:l=>n({showPoint2:l}),onChangeProps:l=>_(l,1),style:r.lockedPointSettingsContainer}),e(O,{onRemove:a,figureAriaLabel:`locked line defined by
                    ${o.coord[0]}, ${o.coord[1]} and
                    ${u.coord[0]}, ${u.coord[1]}.`})]})},r=I.StyleSheet.create({lockedPointSettingsContainer:{marginTop:d.xSmall_8,marginBottom:0,marginLeft:-d.xxxSmall_4,marginRight:-d.xxxSmall_4,backgroundColor:$.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:d.xSmall_8},label:{marginInlineEnd:d.xxxSmall_4},selectMarginOffset:{marginInlineEnd:-d.xxxSmall_4}});try{lockedlinesettings.displayName="lockedlinesettings",lockedlinesettings.__docgenInfo={description:"",displayName:"lockedlinesettings",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"line"'}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[point1: LockedPointType, point2: LockedPointType]"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showPoint1:{defaultValue:null,description:"",name:"showPoint1",required:!0,type:{name:"boolean"}},showPoint2:{defaultValue:null,description:"",name:"showPoint2",required:!0,type:{name:"boolean"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}},onChangeProps:{defaultValue:null,description:"",name:"onChangeProps",required:!0,type:{name:"(newProps: Partial<LockedFigure>) => void"}}}}}catch{}const H=t=>{switch(t.type){case"point":return e(v,{...t});case"line":return e(D,{...t})}return null};try{lockedfiguresettings.displayName="lockedfiguresettings",lockedfiguresettings.__docgenInfo={description:"",displayName:"lockedfiguresettings",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"point"'}]}},coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"Coord"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},filled:{defaultValue:null,description:"",name:"filled",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},toggled:{defaultValue:null,description:"",name:"toggled",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void) | (() => void)"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!1,type:{name:"((newValue: any) => void)"}},onChangeProps:{defaultValue:null,description:"",name:"onChangeProps",required:!0,type:{name:"((newProps: Partial<LockedPointType>) => void) | ((newProps: Partial<LockedFigure>) => void)"}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[point1: LockedPointType, point2: LockedPointType]"}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showPoint1:{defaultValue:null,description:"",name:"showPoint1",required:!0,type:{name:"boolean"}},showPoint2:{defaultValue:null,description:"",name:"showPoint2",required:!0,type:{name:"boolean"}}}}}catch{}const K=t=>{const s=x().get("locked-figures-section"),{figures:i,onChange:p}=t;function y(n){const o={lockedFigures:[...i||[],j(n)]};p(o)}function f(n){if(window.confirm("Are you sure you want to delete this figure?")){const a=i||[];p({lockedFigures:[...a.slice(0,n),...a.slice(n+1)]})}}function h(n,a){const o=i||[],u={lockedFigures:[...o.slice(0,n),{...o[n],...a},...o.slice(n+1)]};p(u)}return c(m,{children:[i==null?void 0:i.map((n,a)=>e(H,{...n,onChangeProps:o=>h(a,o),onRemove:()=>f(a)},`${s}-locked-${n}-${a}`)),e(B,{id:`${s}-select`,onChange:y})]})},ie=K;try{lockedfiguressection.displayName="lockedfiguressection",lockedfiguressection.__docgenInfo={description:"",displayName:"lockedfiguressection",props:{figures:{defaultValue:null,description:"",name:"figures",required:!1,type:{name:"LockedFigure[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(props: Partial<Props>) => void"}}}}}catch{}export{ie as L};
