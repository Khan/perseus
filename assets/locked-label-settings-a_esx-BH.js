import{j as u}from"./jsx-runtime-63Ea5SlK.js";import{l as We}from"./article-renderer-WoCYTwF2.js";import"./index-default-4_ZsnO94.js";import"./util-2syipbj1.js";import"./phet-simulation-g2aHiJ1p.js";import"./version-akiLXZts.js";import"./dependencies-CP7Uh8Kq.js";import"./perseus-api-_PWPZoDE.js";import"./perseus-item-P2La09QH.js";import"./hints-renderer-afBxvL-y.js";import"./renderer-n8YmCmN6.js";import"./base-radio-5xn6_AyP.js";import{c as ze}from"./components-uskMLr5p.js";import"./i18n-context-ZsCIuvHO.js";import"./svg-image-VmGDkkAk.js";import"./error-codes-gX8KeF4H.js";import"./jquery-5v7aFUvu.js";import"./index-smZ6iCr_.js";import{V as G}from"./index-wtbtsH8q.js";import{c as Be,S as Ae,O as fe}from"./answer-choices-zqC3RZU7.js";import{T as Ue}from"./index-i3rSs_ir.js";import{S as H,a as qe}from"./index-9DZEhZp8.js";import{s as w,c as ie}from"./index-P2ailQd-.js";import{a as se,L as we}from"./index-vvS-NDPJ.js";import{l as T}from"./index-awljIyHI.js";import{r as d}from"./index-6oxdNXpR.js";import{S as xe}from"./scrollless-number-text-field-B-xR8iJD.js";import{a as Ke,V as le,c as j,s as E}from"./index-GoufVIe2.js";import{H as He,B as Ge}from"./index-Pc_lv_ia.js";import{C as Ve}from"./index-RZgwH1-W.js";import{P as Xe}from"./index-I-Vn3Q8r.js";import{C as Qe}from"./color-select-kF5-acfd.js";import{B as Je}from"./choice-jsuHk1nN.js";import{_ as V,a as m}from"./extends-wRoo2ExD.js";import{w as Ye,c as Te,L as _e}from"./react-router-dom-ycXmd4R1.js";import{m as Ze,c as et,u as tt,T as rt}from"./index-q_kBGkiq.js";const Ne=n=>{const{coord:e,labels:t,error:r,style:o,onChange:a}=n,[l,s]=d.useState([e[0].toString(),e[1].toString()]);d.useEffect(()=>{s([e[0].toString(),e[1].toString()])},[e]);function f(c,p){const v=[...l];if(v[p]=c,s(v),isNaN(+c)||c==="")return;const h=[...e];h[p]=+c,a(h)}return u.jsxs(G,{style:[q.row,o],children:[u.jsxs(se,{tag:"label",style:q.row,children:[t?t[0]:"x coord",u.jsx(H,{size:w.xxSmall_6}),u.jsx(xe,{value:l[0],onChange:c=>f(c,0),style:[q.textField,r?q.errorField:void 0]})]}),u.jsx(H,{size:w.medium_16}),u.jsxs(se,{tag:"label",style:q.row,children:[t?t[1]:"y coord",u.jsx(H,{size:w.xxSmall_6}),u.jsx(xe,{value:l[1],onChange:c=>f(c,1),style:[q.textField,r?q.errorField:void 0]})]})]})},q=T.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{width:w.xxxLarge_64},errorField:{borderColor:ie.red,backgroundColor:ie.fadedRed8}}),nt=Ne;Ne.__docgenInfo={description:"",methods:[],displayName:"CoordinatePairInput",props:{coord:{required:!0,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},labels:{required:!1,tsType:{name:"tuple",raw:"[string, string]",elements:[{name:"string"},{name:"string"}]},description:""},error:{required:!1,tsType:{name:"boolean"},description:""},style:{required:!1,tsType:{name:"StyleType"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newCoord: Coord) => void",signature:{arguments:[{type:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},name:"newCoord"}],return:{name:"void"}}},description:""}}};function Z(){return Z=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Z.apply(this,arguments)}function je(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}const ot=["children","id","initialExpandedIndex","allowMultipleExpanded","caretPosition","cornerKind","animated","style"],at=Ke("ul"),it=6;d.forwardRef(function(e,t){const{children:r,id:o,initialExpandedIndex:a,allowMultipleExpanded:l=!0,caretPosition:s,cornerKind:f="rounded",animated:c,style:p}=e,v=je(e,ot),h=Array(r.length).fill(!1);a!==void 0&&(h[a]=!0);const[S,x]=d.useState(h),g=Array(r.length).fill(null),R=r.length<=it,I=(k,C)=>{const $=l?[...S]:Array(r.length).fill(!1),B=!S[k];$[k]=B,x($),C&&C(B)},O=k=>{var C,$,B,z;const P=g.findIndex(L=>L.current===document.activeElement);if(P!==-1)switch(k.key){case"ArrowUp":k.preventDefault();const L=(P+r.length-1)%r.length;(C=g[L].current)==null||C.focus();break;case"ArrowDown":k.preventDefault();const D=(P+1)%r.length;($=g[D].current)==null||$.focus();break;case"Home":k.preventDefault(),(B=g[0].current)==null||B.focus();break;case"End":k.preventDefault(),(z=g[r.length-1].current)==null||z.focus();break}};return d.createElement(at,Z({style:[st.wrapper,p],onKeyDown:O},v,{ref:t}),r.map((k,C)=>{const{caretPosition:$,cornerKind:B,onToggle:z,animated:P}=k.props,L=d.createRef();g[C]=L;const N=C===0,D=C===r.length-1;return d.createElement("li",{key:C,id:o},d.cloneElement(k,{animated:P??c,caretPosition:$??s,cornerKind:B??f,expanded:S[C],onToggle:()=>I(C,z),isFirstSection:N,isLastSection:D,isRegion:R,ref:L}))}))});const st=T.StyleSheet.create({wrapper:{boxSizing:"border-box",listStyle:"none",padding:0,width:"100%"}});function lt(n,e,t,r){switch(n){case"rounded-per-section":return{roundedTop:!0,roundedBottom:!r};case"rounded":return{roundedTop:e,roundedBottom:t&&!r};default:return{roundedTop:!1,roundedBottom:!1}}}const dt=d.forwardRef(function(e,t){const{id:r,header:o,caretPosition:a,cornerKind:l,collapsible:s=!0,expanded:f,animated:c,onClick:p,sectionContentUniqueId:v,headerStyle:h,tag:S="h2",testId:x,isFirstSection:g,isLastSection:R}=e,I=typeof o=="string",{roundedTop:O,roundedBottom:k}=lt(l,g,R,f);return d.createElement(He,{tag:S,style:_.heading},d.createElement(Ve,{id:r,"aria-expanded":f,"aria-controls":v,onClick:p,disabled:!s,testId:x?`${x}-header`:void 0,style:[_.headerWrapper,c&&_.headerWrapperWithAnimation,a==="start"&&_.headerWrapperCaretStart,O&&_.roundedTop,k&&_.roundedBottom,h,!s&&_.disabled],ref:t},()=>d.createElement(d.Fragment,null,d.createElement(le,{style:[_.headerContent,I&&_.headerString]},I?d.createElement(le,{style:[a==="end"?_.headerStringCaretEnd:_.headerStringCaretStart]},o):o),s&&d.createElement(Xe,{icon:Be,color:j.offBlack64,size:"small",style:[c&&_.iconWithAnimation,a==="start"?_.iconStart:_.iconEnd,f&&_.iconExpanded],testId:x?`${x}-caret-icon`:void 0}))))}),te=E.small_12-1,ke="300ms",_=T.StyleSheet.create({heading:{minWidth:0,marginTop:0},headerWrapper:{display:"flex",flexDirection:"row",alignItems:"center",overflow:"hidden",minWidth:"auto",width:"100%",position:"relative",zIndex:1,":active":{outline:`2px solid ${j.activeBlue}`},":hover":{outline:`2px solid ${j.blue}`},":focus":{boxShadow:`0 0 0 2px ${j.blue}`},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":{outline:`2px solid ${j.blue}`}},headerWrapperWithAnimation:{transition:`border-radius ${ke}`},headerWrapperCaretStart:{flexDirection:"row-reverse"},roundedTop:{borderStartStartRadius:te,borderStartEndRadius:te},roundedBottom:{borderEndStartRadius:te,borderEndEndRadius:te},headerContent:{flexGrow:1,textAlign:"start"},headerString:{paddingTop:E.medium_16,paddingBottom:E.medium_16},headerStringCaretEnd:{paddingInlineEnd:E.small_12,paddingInlineStart:E.medium_16},headerStringCaretStart:{paddingInlineEnd:E.medium_16,paddingInlineStart:E.small_12},iconWithAnimation:{transition:`transform ${ke}`},iconExpanded:{transform:"rotate(180deg)"},iconStart:{marginInlineStart:E.medium_16},iconEnd:{marginInlineEnd:E.medium_16},disabled:{pointerEvents:"none",color:"inherit",":focus":{boxShadow:`0 0 0 2px ${j.offBlack32}`},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":{outline:`2px solid ${j.offBlack32}`}}}),ct=["children","id","header","collapsible","expanded","animated","onToggle","caretPosition","cornerKind","style","headerStyle","tag","testId","isFirstSection","isLastSection","isRegion"],ut=d.forwardRef(function(e,t){const{children:r,id:o,header:a,collapsible:l,expanded:s,animated:f=!1,onToggle:c,caretPosition:p="end",cornerKind:v="rounded",style:h,headerStyle:S,tag:x,testId:g,isFirstSection:R=!0,isLastSection:I=!0,isRegion:O=!0}=e,k=je(e,ct),[C,$]=d.useState(s??!1),B=s!==void 0&&c,z=d.useId(),P=o??z,L=d.useId(),N=o?`${o}-header`:L,D=d.useId(),ue=ft(v,R,I),Se=()=>{B?c(!s):($(!C),c&&c(!C))};let X;return l===!1?X=!0:X=B?s:C,d.createElement(le,Z({id:P,style:[U.wrapper,f&&U.wrapperWithAnimation,ue.wrapper,X?U.wrapperExpanded:U.wrapperCollapsed,h],testId:g},k),d.createElement(dt,{id:N,header:a,caretPosition:p,cornerKind:v,collapsible:l,expanded:X,animated:f,onClick:Se,sectionContentUniqueId:D,headerStyle:S,tag:x,testId:g,isFirstSection:R,isLastSection:I,ref:t}),d.createElement(le,{id:D,role:O?"region":void 0,"aria-labelledby":N,style:[U.contentWrapper,X?U.contentWrapperExpanded:U.conentWrapperCollapsed,ue.contentWrapper],testId:g?`${g}-content-panel`:void 0},typeof r=="string"?d.createElement(Ge,{style:U.stringContent},r):r))}),U=T.StyleSheet.create({wrapper:{display:"grid",position:"static",boxSizing:"border-box",backgroundColor:j.white},wrapperWithAnimation:{transition:"grid-template-rows 300ms"},wrapperCollapsed:{gridTemplateRows:"min-content 0fr"},wrapperExpanded:{gridTemplateRows:"min-content 1fr"},contentWrapper:{overflow:"hidden"},conentWrapperCollapsed:{visibility:"hidden"},contentWrapperExpanded:{visibility:"visible"},stringContent:{padding:E.medium_16}}),re={},ft=(n,e,t)=>{const r=`${n}-${e.toString()}-${t.toString()}`;if(re[r])return re[r];let o=Object.freeze({}),a=Object.freeze({}),l=Object.freeze({}),s=Object.freeze({});n==="square"&&(o={border:`1px solid ${j.offBlack16}`,borderBottom:"none",borderRadius:0},t&&(s={borderBottom:`1px solid ${j.offBlack16}`})),n==="rounded"&&(o={border:`1px solid ${j.offBlack16}`,borderBottom:"none"},e&&(l={borderStartStartRadius:E.small_12,borderStartEndRadius:E.small_12}),t&&(s={borderBottom:`1px solid ${j.offBlack16}`,borderEndStartRadius:E.small_12,borderEndEndRadius:E.small_12},a={borderEndEndRadius:E.small_12,borderEndStartRadius:E.small_12})),n==="rounded-per-section"&&(o={border:`1px solid ${j.offBlack16}`,borderRadius:E.small_12,marginBottom:E.medium_16},a={borderEndEndRadius:E.small_12,borderEndStartRadius:E.small_12});const f={wrapper:Z({},o,l,s),contentWrapper:a};return re[r]=T.StyleSheet.create(f),re[r]},Oe=n=>{const{children:e,header:t,expanded:r,containerStyle:o,panelStyle:a,onToggle:l}=n;return u.jsx(G,{className:"perseus-editor-accordion",children:u.jsx(ut,{expanded:r,onToggle:l,style:[pe.container,o],headerStyle:pe.accordionHeader,header:t,children:u.jsx(G,{style:[pe.accordionPanel,a],children:e})})})},pe=T.StyleSheet.create({container:{backgroundColor:ie.fadedBlue8,marginTop:w.xSmall_8},accordionHeader:{padding:w.small_12,paddingInlineEnd:0,height:w.xxLarge_48},accordionPanel:{paddingTop:w.xxSmall_6,paddingBottom:w.xxxSmall_4,paddingLeft:w.small_12,paddingRight:w.small_12}}),pt=Oe;Oe.__docgenInfo={description:"",methods:[],displayName:"PerseusEditorAccordion",props:{children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | React.ReactNode[]",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"}]},description:""},header:{required:!0,tsType:{name:"union",raw:"string | React.ReactElement",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},containerStyle:{required:!1,tsType:{name:"StyleType"},description:""},panelStyle:{required:!1,tsType:{name:"StyleType"},description:""},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:""}}};function Fe(n){const e=[];if(n)if(Array.isArray(n))for(const t of n)e.push(...Fe(t));else e.push(n);else return e;return e}function Pe(n){const e=[],t=[];if(!n)return{style:{},className:""};const r=typeof global<"u"&&global.SNAPSHOT_INLINE_APHRODITE;Fe(n).forEach(a=>{const l=a._definition;if(l!=null)if(r){const s={};for(const[f,c]of Object.entries(l))s[f.replace(/-[a-z]/g,p=>p[1].toUpperCase())]=c;t.push(s)}else e.push(a);else t.push(a)});const o=Object.assign({},...t);if(t.length>0&&!r){const a=T.StyleSheet.create({inlineStyles:o});e.push(a.inlineStyles)}return{style:r?o:{},className:T.css(...e)}}const ht=["children","style","tag","testId"],mt=/^h[1-6]$/,Ce=T.StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}});d.forwardRef(function(e,t){let{children:r,style:o,tag:a="span",testId:l}=e,s=V(e,ht);const f=mt.test(a),c=Pe([Ce.text,f&&Ce.header,o]),p=s.className?[s.className,c.className].join(" "):c.className;return d.createElement(a,m({},s,{style:c.style,className:p,"data-testid":l,ref:t}),r)});const gt=["className","style"];function F(n,e){return d.forwardRef((t,r)=>{const o=t,{className:a,style:l}=o,s=V(o,gt),f=typeof n=="string"?yt[n]:null,{className:c,style:p}=Pe([f,e,l]);return d.createElement(n,m({},s,{ref:r,className:[c,a].filter(Boolean).join(" "),style:p}))})}const yt=T.StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),bt=["testId","tag"],ee=T.StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),vt=F("div",ee.default),St=F("article",ee.default),wt=F("aside",ee.default),xt=F("nav",ee.default),kt=F("section",ee.default);d.forwardRef(function(e,t){const{testId:r,tag:o="div"}=e,a=V(e,bt),l=m({},a,{"data-testid":r});switch(o){case"article":return d.createElement(St,m({},l,{ref:t}));case"aside":return d.createElement(wt,m({},l,{ref:t}));case"nav":return d.createElement(xt,m({},l,{ref:t}));case"section":return d.createElement(kt,m({},l,{ref:t}));case"div":return d.createElement(vt,m({},l,{ref:t}));default:throw Error(`${o} is not an allowed value for the 'tag' prop`)}});(function(n){return n.Initial="initial",n.Standard="standard",n})({});let Ct=function(n){return n.Root="root",n.Initial="initial",n.Standard="standard",n}({});const Et=d.createContext(Ct.Root);Et.displayName="RenderStateContext";const K={radius:{xSmall_2:2,small_3:3,medium_4:4,large_6:6,xLarge_12:12,full:"50%"},width:{none:0,hairline:1,thin:2,thick:4}};function de(){return de=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},de.apply(this,arguments)}const Rt=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,It=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,$t=/^rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)$/i,he=n=>{if(typeof n!="string")throw new Error(`Failed to parse color: ${n}`);const e=n.match(It);if(e)return{r:parseInt(`${e[1]}${e[1]}`,16),g:parseInt(`${e[2]}${e[2]}`,16),b:parseInt(`${e[3]}${e[3]}`,16),a:1};const t=n.match(Rt);if(t)return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:1};const r=n.match($t);if(r)return{r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3]),a:r[4]?parseFloat(r[4]):1};throw new Error(`Failed to parse color: ${n}`)},Le=n=>{const e=Math.round(n.r),t=Math.round(n.g),r=Math.round(n.b);if(n.a===1){const o=a=>{const l=a.toString(16);return l.length===1?`0${l}`:l};return`#${o(e)}${o(t)}${o(r)}`}else return`rgba(${e},${t},${r},${n.a.toFixed(2)})`},A=(n,e)=>{if(e<0||e>1)throw new Error("Percentage must be between 0 and 1");const t=he(n);return Le(de({},t,{a:t.a*e}))},me=(n,e)=>{const t=he(n),r=he(e);return Le({r:t.r*t.a+r.r*(1-t.a),g:t.g*t.a+r.g*(1-t.a),b:t.b*t.a+r.b*(1-t.a),a:r.a})},M="#21242c",ne="#ffffff",Ee="#5f1e5c",b={blue:"#1865f2",purple:"#9059ff",green:"#00a60e",gold:"#ffb100",red:"#d92916",offBlack:M,offBlack64:A(M,.64),offBlack50:A(M,.5),offBlack32:A(M,.32),offBlack16:A(M,.16),offBlack8:A(M,.08),offWhite:"#f7f8fa",white:ne,white64:A(ne,.64),white50:A(ne,.5),white32:A(ne,.32),darkBlue:"#0b2149",teal:"#14bf96"},y=(n,e)=>me(A(n,e),b.white),i=de({},b,{activeBlue:me(b.offBlack32,b.blue),fadedBlue:y(b.blue,.32),fadedBlue24:y(b.blue,.24),fadedBlue16:y(b.blue,.16),fadedBlue8:y(b.blue,.08),activeRed:me(b.offBlack32,b.red),fadedRed:y(b.red,.32),fadedRed24:y(b.red,.24),fadedRed16:y(b.red,.16),fadedRed8:y(b.red,.08),fadedGreen24:y(b.green,.24),fadedGreen16:y(b.green,.16),fadedGreen8:y(b.green,.08),fadedGold24:y(b.gold,.24),fadedGold16:y(b.gold,.16),fadedGold8:y(b.gold,.08),fadedPurple24:y(b.purple,.24),fadedPurple16:y(b.purple,.16),fadedPurple8:y(b.purple,.08),eggplant:Ee,fadedEggplant8:y(Ee,.08),fadedOffBlack64:y(M,.64),fadedOffBlack50:y(M,.5),fadedOffBlack32:y(M,.32),fadedOffBlack16:y(M,.16),fadedOffBlack8:y(M,.08)});i.blue,i.activeBlue,i.red,i.activeRed,i.fadedOffBlack32,i.offWhite,i.fadedRed8,i.red,i.fadedGold8,i.gold,i.fadedGreen8,i.green,i.fadedBlue8,i.blue,i.fadedOffBlack8,i.offBlack,i.white,i.offWhite,i.blue,i.darkBlue,i.offBlack64,i.offBlack,i.fadedOffBlack64,i.fadedOffBlack32,i.white,i.fadedOffBlack16,i.fadedOffBlack8,i.fadedOffBlack50,i.white,i.fadedOffBlack64,i.offBlack,i.white,i.blue,i.red,i.eggplant,i.fadedEggplant8,i.purple;const Re=n=>{switch(n){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},Bt={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},Q={enter:13,space:32},Ie={hovered:!1,focused:!1,pressed:!1,waiting:!1};class be extends d.Component{static getDerivedStateFromProps(e,t){return e.disabled?m({},Ie,{focused:t.focused}):null}constructor(e){super(e),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=t=>{const{onClick:r=void 0,beforeNav:o=void 0,safeWithNav:a=void 0}=this.props;this.enterClick||((r||o||a)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(t))},this.handleMouseEnter=t=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=t=>{this.props.onMouseDown&&this.props.onMouseDown(t),this.setState({pressed:!0})},this.handleMouseUp=t=>{this.props.onMouseUp&&this.props.onMouseUp(t),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=t=>{const{onKeyDown:r,role:o}=this.props;r&&r(t);const a=t.which||t.keyCode,{triggerOnEnter:l,triggerOnSpace:s}=Re(o);l&&a===Q.enter||s&&a===Q.space?(t.preventDefault(),this.setState({pressed:!0})):!l&&a===Q.enter&&(this.enterClick=!0)},this.handleKeyUp=t=>{const{onKeyUp:r,role:o}=this.props;r&&r(t);const a=t.which||t.keyCode,{triggerOnEnter:l,triggerOnSpace:s}=Re(o);l&&a===Q.enter||s&&a===Q.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(t)):!l&&a===Q.enter&&(this.enterClick=!1)},this.handleFocus=t=>{const{onFocus:r}=this.props;this.setState({focused:!0},()=>{r&&r(t)})},this.handleBlur=t=>{this.setState({focused:!1,pressed:!1})},this.state=Ie,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(e){if(e){const{history:t,href:r,skipClientNav:o,target:a=void 0}=this.props;r&&(a==="_blank"?(window.open(r,"_blank"),this.setState({waiting:!1})):t&&!o?(t.push(r),this.setState({waiting:!1})):window.location.assign(r))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:r,history:o}=this.props;return o&&!r||this.props.target==="_blank"?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(a=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t=void 0,beforeNav:r=void 0,safeWithNav:o=void 0,href:a,type:l}=this.props;let s=!0,f=!0;if(t&&t(e),e.defaultPrevented&&(s=!1,f=!1),e.preventDefault(),!a&&l==="submit"&&f){let c=e.currentTarget;for(;c;){if(c instanceof window.HTMLFormElement){const p=new window.Event("submit",{bubbles:!0,cancelable:!0});c.dispatchEvent(p);break}c=c.parentElement}}if(r)this.setState({waiting:!0}),r().then(()=>o?this.handleSafeWithNav(o,s):this.navigateOrReset(s)).catch(()=>{});else{if(o)return this.handleSafeWithNav(o,s);this.navigateOrReset(s)}}render(){const e=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),t=this.props.disabled?m({},Bt,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:r}=this.props;return r&&r(this.state,t)}}be.defaultProps={disabled:!1};const ve=n=>typeof n!="string"?!1:!/^(https?:)?\/\//i.test(n)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(n),Tt=Ye(be);function _t(n,e,t){return t&&e!==!0&&n&&ve(n)?Tt:be}const Nt=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],jt=F("a"),Ot=F("button"),Ft=F(_e),Pt=d.forwardRef(function(e,t){const r=(a,l,s)=>{const f=e.href&&!e.disabled,c=l&&!e.skipClientNav&&ve(e.href||"");return f&&c&&e.href?d.createElement(Ft,m({},s,{to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(a)):f&&!c?d.createElement(jt,m({},s,{href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(a)):d.createElement(Ot,m({},s,{type:"button","aria-disabled":e.disabled,ref:t}),e.children(a))},o=a=>{const{href:l,onClick:s,skipClientNav:f,beforeNav:c=void 0,safeWithNav:p=void 0,style:v,target:h=void 0,testId:S,onFocus:x,onKeyDown:g,onKeyUp:R,onMouseDown:I,onMouseUp:O,hideDefaultFocusRing:k,light:C,disabled:$,tabIndex:B}=e,z=V(e,Nt),P=_t(l,f,a),L=N=>[Y.reset,Y.link,!k&&N.focused&&(C?Y.focusedLight:Y.focused),$&&Y.disabled,v];return c?d.createElement(P,{href:l,onClick:s,beforeNav:c,safeWithNav:p,onFocus:x,onKeyDown:g,onKeyUp:R,onMouseDown:I,onMouseUp:O,disabled:$,tabIndex:B},(N,D)=>r(N,a,m({},z,{"data-testid":S,style:L(N)},D))):d.createElement(P,{href:l,onClick:s,safeWithNav:p,onFocus:x,onKeyDown:g,onKeyUp:R,onMouseDown:I,onMouseUp:O,target:h,disabled:$,tabIndex:B},(N,D)=>r(N,a,m({},z,{"data-testid":S,style:L(N)},D)))};return d.createElement(Te.Consumer,null,a=>o(a))});Pt.defaultProps={light:!1,disabled:!1};const Y=T.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${i.blue}`}},focusedLight:{outline:`solid 2px ${i.white}`},disabled:{color:i.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${i.blue}`}}}),Lt=n=>({small:16,medium:24,large:48,xlarge:96})[n],Mt=["color","icon","size","style","testId","className","role"],Dt=F("span"),ge=d.forwardRef(function(e,t){const{color:r="currentColor",icon:o,size:a="small",style:l,testId:s,className:f,role:c}=e,p=V(e,Mt),v=Lt(a),h=`${f??""}`,S=Wt(r,v);return d.createElement(Dt,m({},p,{className:h,style:[ye.svg,S.icon,{maskImage:`url(${o})`},l],"data-testid":s,ref:t,role:c??p["aria-label"]?"img":void 0}))}),$e={},Wt=(n,e)=>{const t=`${n}-${e}`;if(ye[t])return ye[t];const r={icon:{backgroundColor:n,width:e,height:e}};return $e[t]=T.StyleSheet.create(r),$e[t]},ye=T.StyleSheet.create({svg:{display:"inline-block",verticalAlign:"text-bottom",flexShrink:0,flexGrow:0,maskSize:"100%",maskRepeat:"no-repeat",maskPosition:"center"}});ge.displayName="PhosphorIcon";const zt=n=>{switch(n){case"xsmall":return"small";case"small":return"medium";case"medium":return"medium";case"large":return"medium"}},At=n=>({xsmall:24,small:32,medium:40,large:48})[n],ce={color:{bg:{hovered:"transparent",active:"transparent",disabled:"transparent",filled:{action:{hovered:"transparent",active:"transparent"},critical:{hovered:"transparent",active:"transparent"}}},stroke:{disabled:{default:i.offBlack32,inverse:i.white50},inverse:i.white,action:{default:i.blue,active:i.activeBlue,inverse:i.fadedBlue},critical:{default:i.red,active:i.activeRed,inverse:i.fadedRed},primary:{action:{hovered:i.blue,active:i.activeBlue},critical:{hovered:i.red,active:i.activeRed},inverse:{default:i.white,hovered:i.white}},secondary:{default:i.offBlack},tertiary:{default:i.offBlack64},filled:{action:{hovered:i.blue,active:i.activeBlue},critical:{hovered:i.red,active:i.activeRed}}}},border:{width:{default:K.width.thin,active:K.width.none,hovered:K.width.thin,hoveredInverse:K.width.thin},radius:{default:K.radius.medium_4}}},Ut=Ze(ce,{color:{bg:{hovered:i.white,active:i.white64,filled:{action:{hovered:i.blue,active:i.activeBlue},critical:{hovered:i.red,active:i.activeRed}}},stroke:{action:{inverse:i.eggplant},critical:{inverse:i.eggplant},primary:{action:{hovered:i.eggplant,active:i.eggplant},critical:{hovered:i.eggplant,active:i.eggplant},inverse:{hovered:i.eggplant}},filled:{action:{hovered:i.white,active:i.white},critical:{hovered:i.white,active:i.white}}}},border:{width:{hovered:K.width.none,hoveredInverse:K.width.none}}}),qt={default:ce,khanmigo:Ut},Me=et(ce);function Kt(n){var e;const t=d.useContext(rt),r=(e=qt[t])!=null?e:ce;return d.createElement(Me.Provider,{value:r},n.children)}const Ht=["color","disabled","href","icon","kind","light","size","skipClientNav","style","testId","type"];function Gt({icon:n,size:e}){switch(zt(e)){case"small":return d.createElement(ge,{size:"small",color:"currentColor",icon:n});case"medium":default:return d.createElement(ge,{size:"medium",color:"currentColor",icon:n})}}const Vt=F("a"),Xt=F("button"),Qt=F(_e),Jt=d.forwardRef(function(e,t){const{color:r,disabled:o,href:a,icon:l,kind:s="primary",light:f=!1,size:c="medium",skipClientNav:p,style:v,testId:h,type:S="button"}=e,x=V(e,Ht),{theme:g,themeName:R}=tt(Me),I=O=>{const k=er(r,s,f,c,g,R),C=[Yt.shared,k.default,o&&k.disabled],$=d.createElement(Gt,{size:c,icon:l}),B=m({"data-testid":h,style:[C,v]},x);return a&&!o?O&&!p&&ve(a)?d.createElement(Qt,m({},B,{to:a,ref:t}),$):d.createElement(Vt,m({},B,{href:a,ref:t}),$):d.createElement(Xt,m({type:S},B,{onClick:o?void 0:x.onClick,"aria-disabled":o,ref:t}),$)};return d.createElement(Te.Consumer,null,O=>I(O))}),Yt=T.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:-8,touchAction:"manipulation"}}),oe={};function Zt(n,e,t,r,o){switch(n){case"primary":const a=o==="destructive"?e.color.stroke.primary.critical.hovered:e.color.stroke.primary.action.hovered;return{":hover":{backgroundColor:e.color.bg.hovered,color:r?e.color.stroke.primary.inverse.hovered:a,outlineColor:r?e.color.stroke.inverse:t,outlineOffset:1,outlineStyle:"solid",outlineWidth:r?e.border.width.hoveredInverse:e.border.width.hovered},":active":{backgroundColor:e.color.bg.active}};case"secondary":case"tertiary":return{":hover":{backgroundColor:o==="destructive"?e.color.bg.filled.critical.hovered:e.color.bg.filled.action.hovered,color:o==="destructive"?e.color.stroke.filled.critical.hovered:e.color.stroke.filled.action.hovered,outlineWidth:e.border.width.active},":active":{backgroundColor:o==="destructive"?e.color.bg.filled.critical.active:e.color.bg.filled.action.active,color:o==="destructive"?e.color.stroke.filled.critical.active:e.color.stroke.filled.action.active,outlineWidth:e.border.width.active}};default:return{":focus-visible":{},":hover":{},":active":{}}}}const er=(n="default",e,t,r,o,a)=>{const l=n==="destructive"?o.color.stroke.critical.default:o.color.stroke.action.default,s=`${l}-${e}-${t}-${r}-${a}`;if(oe[s])return oe[s];if(t&&e!=="primary")throw new Error("Light is only supported for primary IconButtons");const f=(()=>{switch(e){case"primary":return t?o.color.stroke.primary.inverse.default:l;case"secondary":return o.color.stroke.secondary.default;case"tertiary":return o.color.stroke.tertiary.default;default:throw new Error("IconButton kind not recognized")}})(),c=At(r),p=Zt(e,o,l,t,n),v=n==="destructive"?o.color.stroke.critical.inverse:o.color.stroke.action.inverse,h=n==="destructive"?o.color.stroke.critical.active:o.color.stroke.action.active,S=t?o.color.stroke.inverse:l,x=t?o.color.stroke.disabled.inverse:o.color.stroke.disabled.default,g={backgroundColor:o.color.bg.disabled,color:x,outlineColor:x},R={default:{height:c,width:c,color:f,borderRadius:o.border.radius.default,":hover":m({boxShadow:"none",color:S,borderRadius:o.border.radius.default,outlineWidth:o.border.width.default},p[":hover"]),"@media not (hover: hover)":{":hover":{boxShadow:"none",color:f,borderRadius:o.border.radius.default,outline:"none",backgroundColor:"transparent"}},":focus-visible":m({outlineWidth:o.border.width.default,outlineColor:S,outlineOffset:1,outlineStyle:"solid",borderRadius:o.border.radius.default},p[":focus-visible"]),":active":m({color:t?v:h,outlineWidth:o.border.width.default,outlineColor:t?v:h,outlineOffset:1,outlineStyle:"solid",borderRadius:o.border.radius.default},p[":active"])},disabled:{color:x,cursor:"not-allowed",":hover":m({},g,{outline:"none"}),":active":m({},g,{outline:"none"}),":focus-visible":g}};return oe[s]=T.StyleSheet.create(R),oe[s]},tr=["color","disabled","href","kind","light","size","skipClientNav","tabIndex","target","type"],ae=d.forwardRef(function(e,t){const{color:r="default",disabled:o=!1,href:a,kind:l="primary",light:s=!1,size:f="medium",skipClientNav:c,tabIndex:p,target:v,type:h}=e,S=V(e,tr);function x(R){const I=R.key;!a&&(I==="Enter"||I==="Space")&&R.preventDefault()}function g(R){const I=R.key;!a&&(I==="Enter"||I==="Space")&&S.onClick&&S.onClick(R)}return d.createElement(Kt,null,d.createElement(Jt,m({},S,{color:r,disabled:o,href:a,kind:l,light:s,ref:t,skipClientNav:c,size:f,target:v,tabIndex:p,onKeyDown:x,onKeyUp:g,type:h})))}),rr=""+new URL("caret-double-down-bold-XepWuyCn.svg",import.meta.url).href,nr=""+new URL("caret-double-up-bold-10VQDgxI.svg",import.meta.url).href,or=""+new URL("caret-up-bold-0QYBH_hJ.svg",import.meta.url).href,ar=""+new URL("trash-bold-rak1tQ6r.svg",import.meta.url).href,De=n=>{const{figureType:e,onMove:t,onRemove:r}=n;return u.jsxs(G,{style:J.container,children:[u.jsx(Je,{startIcon:ar,"aria-label":`Delete locked ${e}`,onClick:r,kind:"tertiary",style:J.deleteButton,children:"Delete"}),t&&u.jsxs(u.Fragment,{children:[u.jsx(qe,{}),u.jsx(ae,{icon:nr,size:"small","aria-label":`Move locked ${e} to the back`,onClick:()=>t("back"),style:J.iconButton}),u.jsx(ae,{icon:or,size:"small","aria-label":`Move locked ${e} backward`,onClick:()=>t("backward"),style:J.iconButton}),u.jsx(ae,{icon:Be,size:"small","aria-label":`Move locked ${e} forward`,onClick:()=>t("forward"),style:J.iconButton}),u.jsx(ae,{icon:rr,size:"small","aria-label":`Move locked ${e} to the front`,onClick:()=>t("front"),style:J.iconButton})]})]})},J=T.StyleSheet.create({container:{width:"100%",flexDirection:"row",alignItems:"center",marginTop:w.xxxSmall_4},deleteButton:{marginInlineStart:-w.xxxSmall_4},iconButton:{margin:0}}),ir=De;De.__docgenInfo={description:"",methods:[],displayName:"LockedFigureSettingsActions",props:{figureType:{required:!0,tsType:{name:'union["type"]',raw:'LockedFigure["type"]'},description:""},onMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:""},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const{InfoTip:sr}=ze;function lr(n){const{type:e,coord:t,color:r,size:o,text:a,expanded:l,onChangeProps:s,onMove:f,onRemove:c,onToggle:p,containerStyle:v}=n;return u.jsxs(pt,{expanded:l,onToggle:p,header:u.jsxs(G,{style:[W.row,W.accordionHeaderContainer],children:[u.jsxs(we,{children:["Label (",t[0],", ",t[1],")"]}),u.jsx(H,{size:w.xSmall_8}),a!==""&&u.jsx(we,{style:[{backgroundColor:ie.white,color:We[r]},W.accordionHeader],children:a})]}),containerStyle:v,children:[u.jsx(nt,{coord:t,onChange:h=>{s({coord:h})},style:W.spaceUnder}),u.jsxs(G,{style:W.row,children:[u.jsxs(se,{tag:"label",style:[W.row,W.spaceUnder,{flexGrow:1}],children:["text",u.jsx(H,{size:w.xSmall_8}),u.jsx(Ue,{value:a,placeholder:"ex. $x^2$ or $\\frac{1}{2}$",onChange:h=>s({text:h})})]}),u.jsxs(sr,{children:["Surround your text with $ for TeX.",u.jsx("br",{}),"Example: ","This circle has radius $\\frac{1}{2}$ units.",u.jsx("br",{}),u.jsx("br",{}),'It is important to use TeX when appropriate for accessibility. The above example would be read as "This circle has radius one-half units" by screen readers.']})]}),u.jsxs(G,{style:W.row,children:[u.jsx(Qe,{selectedValue:r,onChange:h=>{s({color:h})},style:W.spaceUnder}),u.jsx(H,{size:w.medium_16}),u.jsxs(se,{tag:"label",style:W.row,children:["size",u.jsx(H,{size:w.xSmall_8}),u.jsxs(Ae,{selectedValue:o,onChange:h=>s({size:h}),placeholder:"",children:[u.jsx(fe,{value:"small",label:"small"}),u.jsx(fe,{value:"medium",label:"medium"}),u.jsx(fe,{value:"large",label:"large"})]})]})]}),u.jsx(ir,{figureType:e,onMove:f,onRemove:c})]})}const W=T.StyleSheet.create({accordionHeaderContainer:{whiteSpace:"nowrap"},accordionHeader:{padding:w.xxxSmall_4,marginInlineEnd:w.xSmall_8,borderRadius:w.xxxSmall_4,textOverflow:"ellipsis",overflow:"hidden"},row:{display:"flex",flexDirection:"row",alignItems:"center",minWidth:0},spaceUnder:{marginBottom:w.xSmall_8}});lr.__docgenInfo={description:"",methods:[],displayName:"LockedLabelSettings",props:{type:{required:!0,tsType:{name:"literal",value:'"label"'},description:""},coord:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},text:{required:!0,tsType:{name:"string"},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},size:{required:!0,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:""},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedLabelType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"Partial<LockedLabelType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coord, color, etc.) are updated."},onMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:`Called when a movement button (top, up, down, bottom) is pressed.
This is also used to indicate that this LockedLabelSettings component
is for a standalone label, not part of a larger locked figure.`},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},containerStyle:{required:!1,tsType:{name:"StyleType"},description:""}}};export{nt as C,ae as I,lr as L,pt as P,ir as a};
