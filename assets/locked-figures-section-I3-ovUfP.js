import{j as r,a as y}from"./jsx-runtime-BGVbfQ2Z.js";import{B as L}from"./choice-gorLtsnE.js";import{V as m,u as P}from"./index-4c2J3ov1.js";import{S as b}from"./index-h47zdzUa.js";import{s as u,c as q}from"./index-lUErx3pE.js";import{l as v}from"./index-awljIyHI.js";import{r as x}from"./index-qhcEwEpg.js";import{a as E,b as p}from"./answer-choices-Vhk_V8Ax.js";import{L as T}from"./locked-line-settings-Zb0IWqZF.js";import{L as $}from"./locked-point-settings--xj1l7Or.js";import{L as M}from"./locked-vector-settings-uJOtRrhS.js";import{g as A}from"./util-A8__x2qa.js";const I=t=>{const{id:i,onChange:a}=t;return r(m,{style:h.container,children:r(E,{menuText:"Add locked figure",style:h.addElementSelect,children:[r(p,{label:"Point",onClick:()=>a("point"),children:"Point"},`${i}-point`),r(p,{label:"Line",onClick:()=>a("line"),children:"Line"},`${i}-line`),r(p,{label:"Vector",onClick:()=>a("vector"),children:"Vector"},`${i}-vector`)]})})},h=v.StyleSheet.create({container:{marginTop:u.xSmall_8},addElementSelect:{backgroundColor:q.fadedBlue8,borderRadius:u.xxxSmall_4}});try{lockedfigureselect.displayName="lockedfigureselect",lockedfigureselect.__docgenInfo={description:"",displayName:"lockedfigureselect",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}}}catch{}const N=t=>{switch(t.type){case"point":return r($,{...t});case"line":return r(T,{...t});case"vector":return r(M,{...t})}return null};try{lockedfiguresettings.displayName="lockedfiguresettings",lockedfiguresettings.__docgenInfo={description:"",displayName:"lockedfiguresettings",props:{showM2Features:{defaultValue:null,description:"",name:"showM2Features",required:!1,type:{name:"boolean"}},expanded:{defaultValue:null,description:"Whether this accordion is expanded.",name:"expanded",required:!1,type:{name:"boolean"}},onToggle:{defaultValue:null,description:"Called when the accordion is expanded or collapsed.",name:"onToggle",required:!1,type:{name:"((expanded: boolean) => void)"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"vector"'},{value:'"line"'},{value:'"point"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[tail: Coord, tip: Coord] | [point1: LockedPointType, point2: LockedPointType]"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},onRemove:{defaultValue:null,description:"Called when the delete button is pressed.",name:"onRemove",required:!0,type:{name:"(() => void) | (() => void) | (() => void)"}},onChangeProps:{defaultValue:null,description:`Called when the props (points, color, etc.) are updated.
Called when the props (coords, color, etc.) are updated.`,name:"onChangeProps",required:!0,type:{name:"((newProps: Partial<LockedFigure>) => void) | ((newProps: Partial<LockedPointType>) => void) | ((newProps: Partial<LockedFigure>) => void)"}},coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"Coord"}},filled:{defaultValue:null,description:"",name:"filled",required:!0,type:{name:"boolean"}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showPoint1:{defaultValue:null,description:"",name:"showPoint1",required:!0,type:{name:"boolean"}},showPoint2:{defaultValue:null,description:"",name:"showPoint2",required:!0,type:{name:"boolean"}}}}}catch{}const B=t=>{const i=Array((t.figures??[]).length).fill(!1),[a,d]=x.useState(i),g=P().get("locked-figures-section"),{figures:o,onChange:c}=t;function w(e){const n={lockedFigures:[...o||[],A(e)]};c(n),d([...a,!0])}function _(e){if(window.confirm("Are you sure you want to delete this figure?")){const l=o||[];c({lockedFigures:[...l.slice(0,e),...l.slice(e+1)]});const n=[...a];n.splice(e,1),d(n)}}function C(e,l){const n=o||[],s={lockedFigures:[...n.slice(0,e),{...n[e],...l},...n.slice(e+1)]};c(s)}function F(e){d(Array(o==null?void 0:o.length).fill(e))}const f=a.every(e=>!e),S=f?"Expand all":"Collapse all",V=!!(o!=null&&o.length);return y(m,{children:[o==null?void 0:o.map((e,l)=>{if(e.type!=="circle")return r(N,{showM2Features:t.showM2Features,expanded:a[l],onToggle:n=>{const s=[...a];s[l]=n,d(s)},...e,onChangeProps:n=>C(l,n),onRemove:()=>_(l)},`${g}-locked-${e}-${l}`)}),y(m,{style:k.buttonContainer,children:[r(I,{id:`${g}-select`,onChange:w}),r(b,{size:u.small_12}),V&&r(L,{kind:"secondary",onClick:()=>F(f),style:k.button,children:S})]})]})},k=v.StyleSheet.create({buttonContainer:{flexDirection:"row",alignItems:"center"},button:{marginTop:u.xSmall_8,flexGrow:1}}),X=B;try{lockedfiguressection.displayName="lockedfiguressection",lockedfiguressection.__docgenInfo={description:"",displayName:"lockedfiguressection",props:{showM2Features:{defaultValue:null,description:"",name:"showM2Features",required:!1,type:{name:"boolean"}},figures:{defaultValue:null,description:"",name:"figures",required:!1,type:{name:"LockedFigure[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(props: Partial<Props>) => void"}}}}}catch{}export{X as L};
