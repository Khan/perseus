import{_ as v}from"./index-default-4_ZsnO94.js";const $e=(t,e)=>{let n="v";e==="__lib_version__"&&(n="");const o=`${n}${e}`;if(typeof globalThis<"u"){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const i=globalThis.__perseus_debug__[t];if(i){if(i!==o){const l=Array.isArray(i)?i:[i];l.push(o),globalThis.__perseus_debug__[t]=l,console.warn(`Multiple versions of ${t} loaded on this page: ${l.sort().join(", ")}`)}}else globalThis.__perseus_debug__[t]=o}else console.warn(`globalThis not found found (${o})`)};function ce(t,e){return typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<1e-9:t===e}function N(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!N(t[n],e[n]))return!1;return!0}return Array.isArray(t)||Array.isArray(e)?!1:typeof t=="function"&&typeof e=="function"?ce(t,e):typeof t=="function"||typeof e=="function"?!1:typeof t=="object"&&typeof e=="object"&&t&&e?t===e||v.all(t,function(n,o){return N(e[o],n)})&&v.all(e,function(n,o){return N(t[o],n)}):typeof t=="object"&&t||typeof e=="object"&&e?!1:ce(t,e)}const te={PLOT:"PLOT",PARABOLA:"PARABOLA",SINUSOID:"SINUSOID"};function le(t){let e=t[0],n=t[1],o=t[2];const i=t[3];e<0&&(e*=-1,n*=-1,o*=-1);const l=2*Math.PI;for(n<0&&(n*=-1,o*=-1,o+=l/2);o>0;)o-=l;for(;o<0;)o+=l;return[e,n,o,i]}function ue(t){let e=t[0],n=t[1],o=t[2];const i=t[3];e<0&&(e*=-1,n*=-1,o*=-1);const l=Math.PI;for(n<0&&(n*=-1,o*=-1,o+=l/2);o>0;)o-=l;for(;o<0;)o+=l;return[e,n,o,i]}const B={areEqual:function(t,e){return N(t,e)},movable:te.PLOT,getPropsForCoeffs:function(t){return{fn:v.partial(this.getFunctionForCoeffs,t)}}},Le=v.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(t){const e=t[0],n=t[1],o=n[0]-e[0],i=n[1]-e[1];if(o===0)return;const l=i/o,g=n[1]-l*n[0];return[l,g]},getFunctionForCoeffs:function(t,e){const n=t[0],o=t[1];return n*e+o},getEquationString:function(t){const e=this.getCoefficients(t),n=e[0],o=e[1];return"y = "+n.toFixed(3)+"x + "+o.toFixed(3)}}),Se=v.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],movable:te.PARABOLA,getCoefficients:function(t){const e=t[0],n=t[1],o=e[0],i=e[1],l=(n[1]-i)/((n[0]-o)*(n[0]-o)),g=-2*o*l,f=l*o*o+i;return[l,g,f]},getFunctionForCoeffs:function(t,e){const n=t[0],o=t[1],i=t[2];return(n*e+o)*e+i},getPropsForCoeffs:function(t){return{a:t[0],b:t[1],c:t[2]}},getEquationString:function(t){const e=this.getCoefficients(t),n=e[0],o=e[1],i=e[2];return"y = "+n.toFixed(3)+"x^2 + "+o.toFixed(3)+"x + "+i.toFixed(3)}}),ke=v.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],movable:te.SINUSOID,getCoefficients:function(t){const e=t[0],n=t[1],o=n[1]-e[1],i=Math.PI/(2*(n[0]-e[0])),l=e[0]*i,g=e[1];return[o,i,l,g]},getFunctionForCoeffs:function(t,e){const n=t[0],o=t[1],i=t[2],l=t[3];return n*Math.sin(o*e-i)+l},getPropsForCoeffs:function(t){return{a:t[0],b:t[1],c:t[2],d:t[3]}},getEquationString:function(t){const e=this.getCoefficients(t),n=e[0],o=e[1],i=e[2],l=e[3];return"y = "+n.toFixed(3)+" sin("+o.toFixed(3)+"x - "+i.toFixed(3)+") + "+l.toFixed(3)},areEqual:function(t,e){return N(le(t),le(e))}}),Ae=v.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(t){const e=t[0],n=t[1],o=n[1]-e[1],i=Math.PI/(4*(n[0]-e[0])),l=e[0]*i,g=e[1];return[o,i,l,g]},getFunctionForCoeffs:function(t,e){const n=t[0],o=t[1],i=t[2],l=t[3];return n*Math.tan(o*e-i)+l},getEquationString:function(t){const e=this.getCoefficients(t),n=e[0],o=e[1],i=e[2],l=e[3];return"y = "+n.toFixed(3)+" sin("+o.toFixed(3)+"x - "+i.toFixed(3)+") + "+l.toFixed(3)},areEqual:function(t,e){return N(ue(t),ue(e))}}),de=v.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(t,e,n,o,i){const l=o[0][1];return v.all(n,g=>g[1]!==l)},extraAsymptoteConstraint:function(t,e,n,o,i){const l=t[1];if(v.all(n,w=>w[1]>l)||v.all(n,w=>w[1]<l))return[e[0],l];const f=e[1];if(v.all(n,w=>w[1]>f)){const w=v.min(v.map(n,Q=>Q[1]));return[e[0],w-i.snapStep[1]]}const A=v.max(v.map(n,w=>w[1]));return[e[0],A+i.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(t,e){const n=t[0],o=t[1],i=e[0][1],l=Math.log((n[1]-i)/(o[1]-i))/(n[0]-o[0]);return[(n[1]-i)/Math.exp(l*n[0]),l,i]},getFunctionForCoeffs:function(t,e){const n=t[0],o=t[1],i=t[2];return n*Math.exp(o*e)+i},getEquationString:function(t,e){if(!e)return null;const n=this.getCoefficients(t,e),o=n[0],i=n[1],l=n[2];return"y = "+o.toFixed(3)+"e^("+i.toFixed(3)+"x) + "+l.toFixed(3)}}),xe=v.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(t,e,n,o,i){const l=o[0][0];return v.all(n,g=>g[0]!==l)&&n[0][1]!==n[1][1]},extraAsymptoteConstraint:function(t,e,n,o,i){const l=t[0];if(v.all(n,w=>w[0]>l)||v.all(n,w=>w[0]<l))return[l,e[1]];const f=e[0];return v.all(n,w=>w[0]>f)?[v.min(v.map(n,Q=>Q[0]))-i.snapStep[0],e[1]]:[v.max(v.map(n,w=>w[0]))+i.snapStep[0],e[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(t,e){const n=i=>[i[1],i[0]],o=de.getCoefficients(v.map(t,n),v.map(e,n));if(o){const i=-o[2]/o[0],l=1/o[0];return[1/o[1],l,i]}},getFunctionForCoeffs:function(t,e,n){const o=t[0],i=t[1],l=t[2];return o*Math.log(i*e+l)},getEquationString:function(t,e){if(!e)return null;const n=this.getCoefficients(t,e),o=n[0],i=n[1],l=n[2];return"y = ln("+o.toFixed(3)+"x + "+i.toFixed(3)+") + "+l.toFixed(3)}}),Pe=v.extend({},B,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(t){const e=t[0],n=t[1],o=n[0]-e[0],i=n[1]-e[1];if(o===0)return;let l=Math.abs(i/o);n[1]<e[1]&&(l*=-1);const g=e[0],f=e[1];return[l,g,f]},getFunctionForCoeffs:function(t,e){const n=t[0],o=t[1],i=t[2];return n*Math.abs(e-o)+i},getEquationString:function(t){const e=this.getCoefficients(t),n=e[0],o=e[1],i=e[2];return"y = "+n.toFixed(3)+"| x - "+o.toFixed(3)+"| + "+i.toFixed(3)}}),fe={linear:Le,quadratic:Se,sinusoid:ke,tangent:Ae,exponential:de,logarithm:xe,absolute_value:Pe},Br=v.keys(fe);function Mr(t){return fe[t]}function me(t){return{type:"success",value:t}}function ne(t){return{type:"failure",detail:t}}function L(t){return t.type==="failure"}function X(t){return t.type==="success"}function Fe(t,e=n=>n){const n=[],o=[];for(const i of t)i.type==="success"?n.push(i.value):o.push(i.detail);return o.length>0?ne(o.reduce(e)):me(n)}const j=(t,e)=>e.success(t);function d(t){return(e,n)=>{if(!Array.isArray(e))return n.failure("array",e);const o=e.map((i,l)=>t(i,n.forSubtree(l)));return Fe(o,Ce)}}function Ce(t,e){return[...t,...e]}function u(t,e){return typeof t=="boolean"?e.success(t):e.failure("boolean",t)}function p(t){return(e,n)=>e!==t?n.failure(String(JSON.stringify(t)),e):n.success(t)}function O(...t){return(e,n)=>{if(typeof e=="string"){const i=t.indexOf(e);if(i>-1)return n.success(t[i])}const o=t.map(i=>JSON.stringify(i));return n.failure(o,e)}}function D(t){return t!=null&&Object.getPrototypeOf(t)===Object.prototype}function b(t){return(e,n)=>e===null?n.success(e):t(e,n)}const c=(t,e)=>typeof t=="number"?e.success(t):e.failure("number",t);function a(t){return(e,n)=>{if(!D(e))return n.failure("object",e);const o={...e},i=[];for(const[l,g]of Object.entries(t)){const f=g(e[l],n.forSubtree(l));X(f)?(f.value!==void 0||l in e)&&(o[l]=f.value):i.push(...f.detail)}return i.length>0?ne(i):n.success(o)}}function r(t){return(e,n)=>e===void 0?n.success(e):t(e,n)}function T(t,e){return(n,o)=>{if(!Array.isArray(n))return o.failure("array",n);if(n.length!==2)return o.failure("array of length 2",n);const[i,l]=n,g=t(i,o.forSubtree(0));if(L(g))return g;const f=e(l,o.forSubtree(1));return L(f)?f:o.success([g.value,f.value])}}function S(t){return new re(t)}class re{constructor(e){this.parser=e}then(e){return new re(Be(this.parser,e))}}function Be(t,e){return(n,o)=>{const i=t(n,o);return L(i)?i:e(i.value,o)}}function se(t,e){return(n,o)=>{if(!D(n))return o.failure("object",n);const i={},l=[];for(const[g,f]of Object.entries(n)){const k=o.forSubtree(g),A=t(g,k);L(A)&&l.push(...A.detail);const w=e(f,k);L(w)&&l.push(...w.detail),X(A)&&X(w)&&(i[A.value]=w.value)}return l.length>0?ne(l):o.success(i)}}const s=(t,e)=>typeof t=="string"?e.success(t):e.failure("string",t);function Y(t,e,n){return(o,i)=>{if(!Array.isArray(o))return i.failure("array",o);if(o.length!==3)return i.failure("array of length 3",o);const l=t(o[0],i.forSubtree(0));if(L(l))return l;const g=e(o[1],i.forSubtree(1));if(L(g))return g;const f=n(o[2],i.forSubtree(2));return L(f)?f:i.success([l.value,g.value,f.value])}}function $(t){return new oe(t)}class oe{constructor(e){this.parser=e}or(e){return new oe(Me(this.parser,e))}}function Me(t,e){return(n,o)=>{const i=t(n,o);return X(i)?i:e(n,o)}}function h(t,e){return(n,o)=>n==null?me(e(n)):t(n,o)}const he=h(se(s,a({width:c,height:c})),()=>({}));function y(t,e){return a({type:t,static:r(u),graded:r(u),alignment:r(s),options:e,key:r(c),version:r(a({major:c,minor:c}))})}function be(t,e,n){return a({type:e,static:r(u),graded:r(u),alignment:r(s),options:n,key:r(c),version:t})}const Ie=y(p("categorizer"),a({items:d(s),categories:d(s),randomizeItems:h(u,()=>!1),static:h(u,()=>!1),values:d(h(c,()=>0)),highlightLint:r(u),linterContext:r(a({contentType:s,paths:d(s),stack:d(s)}))})),Ee=y(p("cs-program"),a({programID:s,programType:j,settings:d(a({name:s,value:s})),showEditor:u,showButtons:u,height:c,static:h(u,()=>!1)})),ze=y(p("definition"),a({togglePrompt:s,definition:s,static:h(u,()=>!1)})),_e=y(p("dropdown"),a({placeholder:h(s,()=>""),ariaLabel:r(s),visibleLabel:r(s),static:h(u,()=>!1),choices:d(a({content:s,correct:u}))})),Ne=y(p("explanation"),a({showPrompt:s,hidePrompt:s,explanation:s,widgets:h((t,e)=>q(t,e),()=>({})),static:h(u,()=>!1)}));function F(t){return(e,n)=>n.success(t(e))}function Re(t,e){return new ie(t,e,n=>n,(n,o)=>o.failure("widget options with a known version number",n))}class ie{constructor(e,n,o,i){this.migrateToLatest=o,this.parseOtherVersions=i;const l=S(n).then(F(this.migrateToLatest)).parser;this.parser=(g,f)=>{if(!D(g))return f.failure("object",g);const k=De(g,f);return L(k)?k:k.value.version.major!==e?this.parseOtherVersions(g,f):l(g,f)}}withMigrationFrom(e,n,o){const i=this.parser,l=g=>this.migrateToLatest(o(g));return new ie(e,n,l,i)}}const De=a({version:h(a({major:c,minor:c}),()=>({major:0,minor:0}))}),je=$(s).or(c).or(p(null)).or(p(void 0)).parser,qe=a({value:r(s),form:h(u,()=>!1),simplify:h(u,()=>!1),considered:O("correct","wrong","ungraded"),key:S(je).then(F(String)).parser});function Ge(t){const e=[];for(const n of t){const{value:o}=n;o!=null&&e.push({...n,value:o})}return e}const ye=h(d(O("basic","basic+div","trig","prealgebra","logarithms","basic relations","advanced relations")),()=>["basic","trig","prealgebra","logarithms"]),Ue=a({major:p(1),minor:c}),Xe=be(Ue,p("expression"),a({answerForms:S(d(qe)).then(F(Ge)).parser,functions:d(s),times:u,visibleLabel:r(s),ariaLabel:r(s),buttonSets:ye,buttonsVisible:r(O("always","never","focused"))})),Ye=r(a({major:p(0),minor:c})),He=be(Ye,p("expression"),a({functions:d(s),times:u,visibleLabel:r(s),ariaLabel:r(s),form:u,simplify:u,value:s,buttonSets:ye,buttonsVisible:r(O("always","never","focused"))}));function Ke(t){const{options:e}=t;return{...t,version:{major:1,minor:0},options:{times:e.times,buttonSets:e.buttonSets,functions:e.functions,buttonsVisible:e.buttonsVisible,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,answerForms:[{considered:"correct",form:e.form,simplify:e.simplify,value:e.value}]}}}const Je=Re(1,Xe).withMigrationFrom(0,He,Ke).parser,Qe=S(p(!1)).then(F(()=>null)).parser,We=a({title:h(s,()=>""),hasHint:r(b(u)),hint:$(Qe).or(p(null)).or(p(void 0)).or((t,e)=>R(t,e)).parser,content:s,widgets:(t,e)=>q(t,e),widgetEnabled:r(b(u)),immutableWidgets:r(b(u)),images:se(s,a({width:c,height:c}))}),Ze=y(p("graded-group"),We),Ve=y(p("graded-group-set"),a({gradedGroups:d(We)}));function H(t){const e=(n,o)=>D(n)?o.forSubtree(t).failure("a valid value",n[t]):o.failure("object",n);return new ae(t,e)}class ae{constructor(e,n){this.discriminantKey=e,this.parser=n}withBranch(e,n){const o=et(this.discriminantKey,e,n,this.parser);return new ae(this.discriminantKey,o)}}function et(t,e,n,o){return(i,l)=>D(i)?i[t]===e?n(i,l):o(i,l):l.failure("object",i)}const P=T(c,c),x=T(P,P),tt=y(p("grapher"),a({availableTypes:d(O("absolute_value","exponential","linear","logarithm","quadratic","sinusoid","tangent")),correct:H("type").withBranch("absolute_value",a({type:p("absolute_value"),coords:b(x)})).withBranch("exponential",a({type:p("exponential"),asymptote:x,coords:b(x)})).withBranch("linear",a({type:p("linear"),coords:b(x)})).withBranch("logarithm",a({type:p("logarithm"),asymptote:x,coords:b(x)})).withBranch("quadratic",a({type:p("quadratic"),coords:b(x)})).withBranch("sinusoid",a({type:p("sinusoid"),coords:b(x)})).withBranch("tangent",a({type:p("tangent"),coords:b(x)})).parser,graph:a({backgroundImage:a({bottom:r(c),height:r(c),left:r(c),scale:r(c),url:r(b(s)),width:r(c)}),box:r(P),editableSettings:r(d(O("graph","snap","image","measure"))),gridStep:r(P),labels:T(s,s),markings:O("graph","none","grid"),range:T(P,P),rulerLabel:p(""),rulerTicks:c,showProtractor:r(u),showRuler:r(u),showTooltips:r(u),snapStep:r(P),step:P,valid:r($(u).or(s).parser)})})),nt=y(p("group"),(t,e)=>R(t,e)),rt=y(p("iframe"),a({url:s,settings:r(d(a({name:s,value:s}))),width:$(c).or(s).parser,height:$(c).or(s).parser,allowFullScreen:h(u,()=>!1),allowTopNavigation:r(u),static:h(u,()=>!1)})),ve=(t,e)=>{if(typeof t=="number")return e.success(t);const n=+t;return t===""||isNaN(n)?e.failure("a number or numeric string",t):e.success(n)};function st(t){return t===""?0:t}const z=S($(c).or(s).parser).then(F(st)).then(ve).parser,K=a({url:r(b(s)),width:r(z),height:r(z),top:r(z),left:r(z),bottom:r(z),scale:r(z)}),Z=T(c,c),ot=y(p("image"),a({title:r(s),caption:r(s),alt:r(s),backgroundImage:K,static:r(u),labels:r(d(a({content:s,alignment:s,coordinates:d(c)}))),range:r(T(Z,Z)),box:r(Z)})),it=(t,e)=>typeof t=="boolean"?e.success(String(t)):e.failure("boolean",t),at=y(p("input-number"),a({answerType:r(O("number","decimal","integer","rational","improper","mixed","percent","pi")),inexact:r(u),maxError:r($(c).or(s).parser),rightAlign:r(u),simplify:O("required","optional","enforced"),size:O("normal","small"),value:$(c).or(s).or(it).parser,customKeypad:r(u)})),_=T(c,c),G=h(s,()=>""),C=S(r(s)).then(F(String)).parser,ct=a({type:p("function"),key:C,options:a({value:s,funcName:s,rangeMin:s,rangeMax:s,color:s,strokeDasharray:s,strokeWidth:c})}),lt=a({type:p("label"),key:C,options:a({label:s,color:s,coordX:s,coordY:s})}),ut=a({type:p("line"),key:C,options:a({color:s,startX:s,startY:s,endX:s,endY:s,strokeDasharray:s,strokeWidth:c,arrows:s})}),pt=a({type:p("movable-line"),key:C,options:a({startX:s,startY:s,startSubscript:c,endX:s,endY:s,endSubscript:c,constraint:s,snap:c,constraintFn:s,constraintXMin:s,constraintXMax:s,constraintYMin:s,constraintYMax:s})}),gt=a({type:p("movable-point"),key:C,options:a({startX:s,startY:s,varSubscript:c,constraint:s,snap:c,constraintFn:s,constraintXMin:G,constraintXMax:G,constraintYMin:G,constraintYMax:G})}),dt=a({type:p("parametric"),key:C,options:a({x:s,y:s,rangeMin:s,rangeMax:s,color:s,strokeDasharray:s,strokeWidth:c})}),ft=a({type:p("point"),key:C,options:a({color:s,coordX:s,coordY:s})}),mt=a({type:p("rectangle"),key:C,options:a({color:s,coordX:s,coordY:s,width:s,height:s})}),ht=y(p("interaction"),a({static:h(u,()=>!1),graph:a({editableSettings:r(d(O("canvas","graph"))),box:_,labels:d(s),range:T(_,_),gridStep:_,markings:O("graph","grid","none"),snapStep:r(_),valid:r($(u).or(s).parser),backgroundImage:r(K),showProtractor:r(u),showRuler:r(u),rulerLabel:r(s),rulerTicks:r(c),tickStep:_}),elements:d(H("type").withBranch("function",ct).withBranch("label",lt).withBranch("line",ut).withBranch("movable-line",pt).withBranch("movable-point",gt).withBranch("parametric",dt).withBranch("point",ft).withBranch("rectangle",mt).parser)})),bt=["calculator","chi2Table","financialCalculatorMonthlyPayment","financialCalculatorTotalAmount","financialCalculatorTimeToPayOff","periodicTable","periodicTableWithKey","tTable","zTable"],Ir=["correct","wrong","ungraded"],yt=["blue","green","grayH","purple","pink","orange","red"],Er={blue:"#3D7586",green:"#447A53",grayH:"#3B3D45",purple:"#594094",pink:"#B25071",red:"#D92916",orange:"#946700"},zr={none:0,white:1,translucent:.4,solid:1},Wt=["bar","line","pic","histogram","dotplot"],m=T(c,c),vt=a({type:p("angle"),showAngles:r(u),allowReflexAngles:r(u),angleOffsetDeg:r(c),snapDegrees:r(c),match:r(p("congruent")),coords:r(Y(m,m,m)),startCoords:r(Y(m,m,m))}),Ot=a({type:p("circle"),center:r(m),radius:r(c),startCoords:r(a({center:m,radius:c})),coord:r(m)}),wt=a({type:p("linear"),coords:r(b(T(m,m))),startCoords:r(T(m,m)),coord:r(m)}),Tt=a({type:p("linear-system"),coords:r(b(d(T(m,m)))),startCoords:r(d(T(m,m))),coord:r(m)}),$t=a({type:p("none")}),Lt=a({type:p("point"),numPoints:r($(c).or(p("unlimited")).parser),coords:r(b(d(m))),startCoords:r(d(m)),coord:r(m)}),St=a({type:p("polygon"),numSides:r($(c).or(p("unlimited")).parser),showAngles:r(u),showSides:r(u),snapTo:r(O("grid","angles","sides")),match:r(O("similar","congruent","approx","exact")),startCoords:r(d(m)),coord:r(m)}),kt=a({type:p("quadratic"),coords:r(b(Y(m,m,m))),startCoords:r(Y(m,m,m)),coord:r(m)}),At=a({type:p("ray"),coords:r(b(T(m,m))),startCoords:r(T(m,m)),coord:r(m)}),xt=a({type:p("segment"),numSegments:r(c),coords:r(b(d(T(m,m)))),startCoords:r(d(T(m,m))),coord:r(m)}),Pt=a({type:p("sinusoid"),coords:r(b(d(m))),startCoords:r(d(m)),coord:r(m)}),pe=H("type").withBranch("angle",vt).withBranch("circle",Ot).withBranch("linear",wt).withBranch("linear-system",Tt).withBranch("none",$t).withBranch("point",Lt).withBranch("polygon",St).withBranch("quadratic",kt).withBranch("ray",At).withBranch("segment",xt).withBranch("sinusoid",Pt).parser,M=O(...yt),Oe=O("none","white","translucent","solid"),J=O("solid","dashed"),I=a({type:p("label"),coord:m,text:s,color:M,size:O("small","medium","large")}),ee=a({type:p("point"),coord:m,color:M,filled:u,labels:r(d(I)),ariaLabel:r(s)}),Ft=a({type:p("line"),kind:O("line","ray","segment"),points:T(ee,ee),color:M,lineStyle:J,showPoint1:h(u,()=>!1),showPoint2:h(u,()=>!1),labels:r(d(I)),ariaLabel:r(s)}),Ct=a({type:p("vector"),points:T(m,m),color:M,labels:r(d(I)),ariaLabel:r(s)}),Bt=a({type:p("ellipse"),center:m,radius:m,angle:c,color:M,fillStyle:Oe,strokeStyle:J,labels:r(d(I)),ariaLabel:r(s)}),Mt=a({type:p("polygon"),points:d(m),color:M,showVertices:u,fillStyle:Oe,strokeStyle:J,labels:r(d(I)),ariaLabel:r(s)}),It=a({type:p("function"),color:M,strokeStyle:J,equation:s,directionalAxis:O("x","y"),domain:r(m),labels:r(d(I)),ariaLabel:r(s)}),Et=H("type").withBranch("point",ee).withBranch("line",Ft).withBranch("vector",Ct).withBranch("ellipse",Bt).withBranch("polygon",Mt).withBranch("function",It).withBranch("label",I).parser,zt=y(p("interactive-graph"),a({step:m,gridStep:r(m),snapStep:r(m),backgroundImage:r(K),markings:O("graph","grid","none"),labels:r(d(s)),showProtractor:u,showRuler:r(u),showTooltips:r(u),rulerLabel:r(s),rulerTicks:r(c),range:T(m,m),graph:h(pe,()=>({type:"linear"})),correct:pe,lockedFigures:r(d(Et)),fullGraphLabel:r(s),fullGraphAriaDescription:r(s)})),_t=y(p("label-image"),a({choices:d(s),imageUrl:s,imageAlt:s,imageHeight:c,imageWidth:c,markers:d(a({answers:d(s),label:s,x:c,y:c})),hideChoicesFromInstructions:u,multipleAnswers:u,static:h(u,()=>!1)})),Nt=y(p("matcher"),a({labels:d(s),left:d(s),right:d(s),orderMatters:u,padding:u})),Rt=$(c).or(s).parser,Dt=S(h(Rt,()=>NaN)).then(ve).parser,jt=y(h(p("matrix"),()=>"matrix"),a({prefix:r(s),suffix:r(s),answers:d(d(Dt)),cursorPosition:r(d(c)),matrixBoardSize:d(c),static:r(u)})),qt=y(p("measurer"),a({image:h(K,()=>({url:null,top:0,left:0})),showProtractor:u,showRuler:u,rulerLabel:s,rulerTicks:c,rulerPixels:c,rulerLength:c,box:T(c,c),static:h(u,()=>!1)})),Gt=y(p("molecule-renderer"),a({widgetId:s,rotationAngle:r(c),smiles:r(s)})),Ut=S(p("")).then(F(()=>null)).parser,Xt=y(p("number-line"),a({range:d(c),labelRange:d(b($(c).or(Ut).parser)),labelStyle:s,labelTicks:u,isTickCtrl:r(b(u)),divisionRange:d(c),numDivisions:r(b(c)),snapDivisions:h(c,()=>2),tickStep:r(b(c)),correctRel:r(b(s)),correctX:b(c),initialX:r(b(c)),showTooltips:r(u),static:h(u,()=>!1)})),ge=O("integer","mixed","improper","proper","decimal","percent","pi"),Yt=y(p("numeric-input"),a({answers:d(a({message:s,value:r(b(c)),status:s,answerForms:r(d(ge)),strict:u,maxError:r(b(c)),simplify:r(b($(s).or(S(u).then(F(String)).parser).parser))})),labelText:r(s),size:s,coefficient:h(u,()=>!1),rightAlign:r(u),static:h(u,()=>!1),answerForms:r(d(a({name:ge,simplify:r(b(O("required","correct","enforced","optional")))})))}));function V(t,e){return R(t,e)}const Ht=(t,e)=>t==="large"?e.success("auto"):e.success(t),Kt=y(p("orderer"),a({options:h(d(V),()=>[]),correctOptions:d(V),otherOptions:d(V),height:S(O("normal","auto","large")).then(Ht).parser,layout:h(O("horizontal","vertical"),()=>"horizontal")})),Jt=y(p("passage-ref"),a({passageNumber:c,referenceNumber:c,summaryText:r(s)})),Qt=y(p("passage"),a({footnotes:h(s,()=>""),passageText:s,passageTitle:h(s,()=>""),showLineNumbers:u,static:h(u,()=>!1)})),Zt=y(p("phet-simulation"),a({url:s,description:s})),Vt=y(p("plotter"),a({labels:d(s),categories:d(s),type:O(...Wt),maxY:c,scaleY:h(c,()=>1),labelInterval:r(b(c)),snapsPerLine:h(c,()=>2),starting:d(c),correct:d(c),picUrl:r(b(s)),picSize:r(b(c)),picBoxHeight:r(b(c)),plotDimensions:h(d(c),()=>[380,300])})),en=y(p("python-program"),a({programID:s,height:c})),tn=y(p("radio"),a({choices:d(a({content:h(s,()=>""),clue:r(s),correct:r(u),isNoneOfTheAbove:r(u),widgets:r((t,e)=>q(t,e))})),hasNoneOfTheAbove:r(u),countChoices:r(u),randomize:r(u),multipleSelect:r(u),deselectEnabled:r(u),onePerLine:r(u),displayCount:r(j),noneOfTheAbove:r(p(!1))})),nn=y(p("sorter"),a({correct:d(s),padding:u,layout:O("horizontal","vertical")})),rn=y(p("table"),a({headers:d(s),rows:c,columns:c,answers:d(d(s))})),sn=y(p("video"),a({location:s,static:r(u)})),q=(t,e)=>{if(!D(t))return e.failure("PerseusWidgetsMap",t);const n={};for(const o of Object.keys(t)){const i=on([o,t[o]],n,e.forSubtree(o));if(L(i))return i}return e.success(n)},on=([t,e],n,o)=>{const i=cn(t.split(" "),o.forSubtree("(widget ID)"));if(L(i))return i;const[l,g]=i.value;function f(k,A){const w=A(e,o);return L(w)?w:(n[k]=w.value,o.success(void 0))}switch(l){case"categorizer":return f(`categorizer ${g}`,Ie);case"cs-program":return f(`cs-program ${g}`,Ee);case"definition":return f(`definition ${g}`,ze);case"dropdown":return f(`dropdown ${g}`,_e);case"explanation":return f(`explanation ${g}`,Ne);case"expression":return f(`expression ${g}`,Je);case"grapher":return f(`grapher ${g}`,tt);case"group":return f(`group ${g}`,nt);case"graded-group":return f(`graded-group ${g}`,Ze);case"graded-group-set":return f(`graded-group-set ${g}`,Ve);case"iframe":return f(`iframe ${g}`,rt);case"image":return f(`image ${g}`,ot);case"input-number":return f(`input-number ${g}`,at);case"interaction":return f(`interaction ${g}`,ht);case"interactive-graph":return f(`interactive-graph ${g}`,zt);case"label-image":return f(`label-image ${g}`,_t);case"matcher":return f(`matcher ${g}`,Nt);case"matrix":return f(`matrix ${g}`,jt);case"measurer":return f(`measurer ${g}`,qt);case"molecule-renderer":return f(`molecule-renderer ${g}`,Gt);case"number-line":return f(`number-line ${g}`,Xt);case"numeric-input":return f(`numeric-input ${g}`,Yt);case"orderer":return f(`orderer ${g}`,Kt);case"passage":return f(`passage ${g}`,Qt);case"passage-ref":return f(`passage-ref ${g}`,Jt);case"passage-ref-target":return f(`passage-ref-target ${g}`,j);case"phet-simulation":return f(`phet-simulation ${g}`,Zt);case"plotter":return f(`plotter ${g}`,Vt);case"python-program":return f(`python-program ${g}`,en);case"radio":return f(`radio ${g}`,tn);case"sorter":return f(`sorter ${g}`,nn);case"table":return f(`table ${g}`,rn);case"video":return f(`video ${g}`,sn);case"sequence":return f(`sequence ${g}`,U);case"lights-puzzle":return f(`lights-puzzle ${g}`,U);case"simulator":return f(`simulator ${g}`,U);case"transformer":return f(`transformer ${g}`,U);default:return f(`${l} ${g}`,y(p(l),j))}},U=y((t,e)=>e.success("deprecated-standin"),a({})),an=(t,e)=>typeof t!="string"||!/^[1-9][0-9]*$/.test(t)?e.failure("a string representing a positive integer",t):e.success(+t),cn=T(s,an),R=h(a({content:h(s,()=>""),widgets:h((t,e)=>q(t,e),()=>({})),metadata:r(d(s)),images:he}),()=>({content:"",widgets:{},images:{}}));$(R).or(d(R)).parser;const ln=a({replace:r(u),content:s,widgets:h(q,()=>({})),metadata:r(d(s)),images:he});a({question:R,hints:h(d(ln),()=>[]),answerArea:S(h(a({}),()=>({}))).then(un).then(se(O(...bt),u)).parser,itemDataVersion:r(a({major:c,minor:c})),answer:j});function un(t,e){const{type:n,options:o,...i}=t;return e.success(i)}const pn="@khanacademy/perseus-core",gn="__lib_version__";$e(pn,gn);const dn={items:[],categories:[],values:[],randomizeItems:!1},fn={name:"categorizer",defaultWidgetOptions:dn},mn=400,hn={programID:"",programType:null,settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,height:mn},bn={name:"cs-program",defaultWidgetOptions:hn,supportedAlignments:["block","full-width"]},yn={togglePrompt:"",definition:""},Wn={name:"definition",defaultWidgetOptions:yn,defaultAlignment:"inline"},vn={placeholder:"",choices:[{content:"",correct:!1}]},On={name:"definition",defaultWidgetOptions:vn,defaultAlignment:"inline-block"},wn={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:`explanation goes here

more explanation`,widgets:{}},Tn={name:"explanation",defaultWidgetOptions:wn,defaultAlignment:"inline"},$n={major:1,minor:0},Ln={1:t=>({times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:[{considered:"correct",form:t.form,simplify:t.simplify,value:t.value}]})},Sn={answerForms:[],times:!1,buttonSets:["basic"],functions:["f","g","h"]},kn={name:"expression",version:$n,widgetOptionsUpgrades:Ln,defaultWidgetOptions:Sn,defaultAlignment:"inline-block"},An={title:"",content:"",widgets:{},images:{},hint:null},xn={name:"graded-group",defaultWidgetOptions:An},Pn={gradedGroups:[]},Fn={name:"graded-group-set",defaultWidgetOptions:Pn},Cn={graph:{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},correct:{type:"linear",coords:null},availableTypes:["linear"]},Bn={name:"grapher",defaultWidgetOptions:Cn},Mn={content:"",widgets:{},images:{},metadata:void 0},In={name:"group",defaultWidgetOptions:Mn},En={url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1,allowTopNavigation:!1},zn={name:"iframe",defaultWidgetOptions:En},_n={title:"",range:[[0,10],[0,10]],box:[400,400],backgroundImage:{url:null,width:0,height:0},labels:[],alt:"",caption:""},Nn={name:"image",defaultWidgetOptions:_n,supportedAlignments:["block","full-width"],defaultAlignment:"block"},Rn={value:0,simplify:"required",size:"normal",inexact:!1,maxError:.1,answerType:"number",rightAlign:!1},Dn={name:"input-number",defaultWidgetOptions:Rn,defaultAlignment:"inline-block"},jn={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},qn={name:"interaction",defaultWidgetOptions:jn},Gn={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",showTooltips:!1,showProtractor:!1,graph:{type:"linear"},correct:{type:"linear",coords:null}},Un={name:"interactive-graph",defaultWidgetOptions:Gn},Xn={choices:[],imageAlt:"",imageUrl:"",imageWidth:0,imageHeight:0,markers:[],multipleAnswers:!1,hideChoicesFromInstructions:!1},Yn={name:"label-image",defaultWidgetOptions:Xn},Hn={left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0},Kn={name:"matcher",defaultWidgetOptions:Hn},Jn={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]},Qn={name:"matrix",defaultWidgetOptions:Jn},Zn={major:1,minor:0},Vn={1:t=>{const{imageUrl:e,imageTop:n,imageLeft:o,...i}=t;return{...i,image:{url:e,top:n,left:o}}}},er={box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10},tr={name:"measurer",version:Zn,widgetOptionsUpgrades:Vn,defaultWidgetOptions:er},nr={range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1},rr={name:"number-line",defaultWidgetOptions:nr},sr={answers:[{value:null,status:"correct",message:"",simplify:"required",answerForms:[],strict:!1,maxError:null}],size:"normal",coefficient:!1,labelText:"",rightAlign:!1},or={name:"numeric-input",defaultWidgetOptions:sr,defaultAlignment:"inline-block"},ir={correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:"normal",layout:"horizontal"},ar={name:"orderer",defaultWidgetOptions:ir},cr={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0},lr={name:"passage",defaultWidgetOptions:cr},ur={major:0,minor:1},pr={passageNumber:1,referenceNumber:1,summaryText:""},gr={name:"passageRef",version:ur,defaultWidgetOptions:pr,defaultAlignment:"inline"},dr={content:""},fr={name:"passageRefTarget",defaultWidgetOptions:dr,defaultAlignment:"inline"},mr={url:"",description:""},hr={name:"phet-simulation",defaultWidgetOptions:mr},br={scaleY:1,maxY:10,snapsPerLine:2,correct:[1],starting:[1],type:"bar",labels:["",""],categories:[""],picSize:30,picBoxHeight:36,plotDimensions:[275,200],labelInterval:1,picUrl:null},yr={name:"plotter",defaultWidgetOptions:br},Wr={programID:"",height:400},vr={name:"python-program",defaultWidgetOptions:Wr},Or={major:1,minor:0},wr={1:t=>{const{noneOfTheAbove:e,...n}=t;if(e)throw new Error("radio widget v0 no longer supports auto noneOfTheAbove");return{...n,hasNoneOfTheAbove:!1}}},Tr={choices:[{},{},{},{}],displayCount:null,randomize:!1,hasNoneOfTheAbove:!1,multipleSelect:!1,countChoices:!1,deselectEnabled:!1},$r={name:"radio",version:Or,widgetOptionsUpgrades:wr,defaultWidgetOptions:Tr},Lr={correct:["$x$","$y$","$z$"],layout:"horizontal",padding:!0},Sr={name:"sorter",defaultWidgetOptions:Lr},we=4,Te=1,kr=new Array(we).fill(0).map(()=>new Array(Te).fill("")),Ar={headers:[""],rows:we,columns:Te,answers:kr},xr={name:"table",defaultWidgetOptions:Ar},Pr={location:""},Fr={name:"video",defaultWidgetOptions:Pr,supportedAlignments:["block","float-left","float-right","full-width"],defaultAlignment:"block"},E={};function W(t,e){E[t]=e}function _r(t){return!!E[t]}function Nr(t){const e=E[t];return(e==null?void 0:e.version)||{major:0,minor:0}}function Rr(t){const e=E[t];return(e==null?void 0:e.widgetOptionsUpgrades)||{}}function Dr(t){const e=E[t];return(e==null?void 0:e.defaultWidgetOptions)||{}}const jr=t=>{var n;const e=E[t];return(n=e==null?void 0:e.supportedAlignments)!=null&&n[0]?e==null?void 0:e.supportedAlignments:["default"]},qr=t=>{const e=E[t];return e!=null&&e.defaultAlignment?e.defaultAlignment:"block"};W("categorizer",fn);W("cs-program",bn);W("definition",Wn);W("dropdown",On);W("explanation",Tn);W("expression",kn);W("graded-group",xn);W("graded-group-set",Fn);W("grapher",Bn);W("group",In);W("iframe",zn);W("image",Nn);W("input-number",Dn);W("interaction",qn);W("interactive-graph",Un);W("label-image",Yn);W("matcher",Kn);W("matrix",Qn);W("measurer",tr);W("number-line",rr);W("numeric-input",or);W("orderer",ar);W("passage",lr);W("passage-ref",gr);W("passage-ref-target",fr);W("phet-simulation",hr);W("plotter",yr);W("python-program",vr);W("radio",$r);W("sorter",Sr);W("table",xr);W("video",Fr);export{Fn as A,Bn as B,Br as C,In as D,zn as E,Qn as F,tr as G,ar as H,bt as I,lr as J,gr as K,fr as L,xr as M,Fr as N,N as O,Ir as P,_r as Q,Nr as R,Rr as S,Dr as T,ce as U,Mr as V,On as a,Dn as b,fn as c,Wn as d,Tn as e,or as f,yr as g,Wt as h,Nn as i,vr as j,Er as k,Yn as l,Kn as m,rr as n,kn as o,hr as p,zr as q,$r as r,Sr as s,$e as t,jr as u,qr as v,qn as w,Un as x,bn as y,xn as z};
