import{j as t,a as m,F as R}from"./jsx-runtime-BGVbfQ2Z.js";import{B as mt}from"./article-renderer-y0W7DBo_.js";import{B as F}from"./choice-U2lXOTna.js";import{V as p}from"./index-oMd7J_hd.js";import{I as Y}from"./index-1lR5LStt.js";import{S as x}from"./index-KIBY7gd7.js";import{L as pt}from"./video-transcript-link-BKfVoN1g.js";import{a as dt,S as gt}from"./index-JT1-kTlx.js";import{c as S,s as c}from"./index-lUErx3pE.js";import{r as a}from"./index-qhcEwEpg.js";import{l as K}from"./index-awljIyHI.js";import{b as ht,L as ft,H as yt}from"./index-B3k62xyQ.js";import{b as X}from"./index-JK7f6wub.js";import{w as St}from"./index-J2t_5nK1.js";import"./index-default-4_ZsnO94.js";import{a as Rt}from"./util-WvQWLN3r.js";import"./unit-uxf7imOh.js";import"./dependencies-fnqF3NiV.js";import"./perseus-api-BF68z3pH.js";import"./multi-renderer-BzGhVPdX.js";import"./hints-renderer-F0cDQFsr.js";import{R as qt}from"./renderer-z9rWSR-h.js";import"./base-radio-X4yVNRMy.js";import"./button-group-eBTrRsKy.js";import"./graph-cl_EfieJ.js";import{S as kt}from"./svg-image-xT-AdWRe.js";import"./hud-Q7Km3N9P.js";import"./icon-HbAIhp4d.js";import"./info-tip-_E95qi8X.js";import"./inline-icon-MJBS_-2U.js";import"./math-input-lgAGkFTu.js";import"./multi-button-group-rHU9dGVb.js";import"./number-input-QmtkIb5a.js";import"./prop-check-box-Z3f7giBx.js";import"./range-input-IMzA4hKn.js";import"./text-input-yDsqFbe3.js";import"./text-list-editor-bJphcq85.js";import"./jquery-5v7aFUvu.js";import"./i18n-context-9-s9cJ--.js";import{m as xt}from"./strings-YJ61eiUN.js";import{R as n}from"./renderer-with-debug-ui-YEVoXzZJ.js";import{a as bt,c as Lt,l as It,b as wt,d as Wt,p as Ct,e as at,r as Et,f as At,g as Qt,h as vt,i as _t,j as Dt,k as Ot,m as Pt,n as Ut,o as Bt,q as Nt}from"./interactive-graph.testdata-52sUMV_D.js";import"./compare-VLxlEkSV.js";import"./version-akiLXZts.js";import"./prop-types-3U8aPQU9.js";import"./index-E09jvG0x.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-AMPNwp1g.js";import"./tabbar-RiuhgrwC.js";import"./item-UPBCIzra.js";import"./index-TeOhC3cV.js";import"./index-tvtfaFq4.js";import"./button-assets-cmoMUwP4.js";import"./keypad-button-41QiUrLb.js";import"./operators-page-jZhMvB4n.js";import"./navigation-pad-GvGLKm0w.js";import"./key-translator-LscBjx_B.js";import"./_commonjs-dynamic-modules-h-SxKiO4.js";import"./enums-x5qaTru7.js";import"./index-dnMhQZ-1.js";import"./perseus-error-OpXxk17X.js";import"./input-with-examples-vUMb1LNk.js";import"./math-output-xqbS761x.js";import"./tooltip-K2JbXmT6.js";import"./simple-keypad-input-ioObjG0H.js";import"./icon-paths-AuJwhOz7.js";import"./media-queries-MaBBbpNq.js";import"./constants-I_nlPaPx.js";import"./shared-3pf9YZIg.js";import"./index-_6fd2Dz3.js";import"./index-O-KD2pfb.js";import"./answer-choices-TmPiLQ8g.js";import"./minus-bold-ONmDo3Ve.js";import"./Popper-uHddJoXq.js";import"./asset-context-pmjKTqqL.js";import"./tiny-invariant-bHgPayXn.js";import"./bundle.esm-3RuEOGQS.js";import"./marker-HYWYvCk-.js";import"./answer-pill-yTPXaj9l.js";import"./index-TymzEsVR.js";import"./sortable-OgepMx9Y.js";import"./fixed-to-responsive-ybwlrogx.js";import"./choice-icon-8EqwF5gf.js";import"./focus-ring-SGFL5fpl.js";import"./option-status-atX5Qolq.js";import"./stub-tag-editor-CaJYfBue.js";import"./tex-SwZEYYPF.js";import"./zoomable-QW77xrsT.js";import"./zoomable-tex-LJgLrbXQ.js";import"./lint-4QkP-VXi.js";import"./choice-none-above-YN5vr-lD.js";import"./image-loader-BrzYBUzY.js";import"./index-ZObC1LzG.js";import"./side-by-side-i2t30iRr.js";import"./register-all-widgets-for-testing-az9p9vA_.js";import"./interactive-graph-question-builder-X6-KIkWV.js";class G extends a.Component{render(){const{color:r,leftContent:s,rightContent:i,size:u,subtitle:g,title:d}=this.props,y=g?ft:yt;return a.createElement(p,{style:[l.container,r==="dark"&&l.dark,u==="small"&&l.small]},a.createElement(p,{style:[l.column,l.leftColumn,d?l.withTitle:null]},s),d&&a.createElement(p,{style:[l.column,l.wideColumn]},a.createElement(p,{style:[l.titles,l.center]},a.createElement(y,{id:"wb-toolbar-title"},d),g&&a.createElement(ht,{style:r==="light"&&l.subtitle},g))),a.createElement(p,{style:[l.column,l.rightColumn,d?l.withTitle:null]},i))}}G.defaultProps={color:"light",leftContent:null,rightContent:null,size:"medium"};const l=K.StyleSheet.create({container:{border:`1px solid ${S.offBlack16}`,flex:1,flexDirection:"row",justifyContent:"space-between",minHeight:66,paddingLeft:c.medium_16,paddingRight:c.medium_16,width:"100%"},small:{minHeight:50},dark:{backgroundColor:S.darkBlue,boxShadow:`0 1px 0 0 ${S.white64}`,color:"white"},column:{justifyContent:"center"},withTitle:{flex:1},wideColumn:{flex:1,flexBasis:"50%"},leftColumn:{alignItems:"center",flexDirection:"row",flexShrink:0,justifyContent:"flex-start"},rightColumn:{alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},center:{textAlign:"center"},subtitle:{color:S.offBlack64},titles:{padding:c.small_12}}),Tt=""+new URL("camera-slash-Oge78uaV.svg",import.meta.url).href,Vt=""+new URL("graph-RU2fqeKx.svg",import.meta.url).href,jt=""+new URL("image-PFUjt3DK.svg",import.meta.url).href,Ft=["segment","linear","linear-system","ray","polygon","point","circle","quadratic","sinusoid"],Gt=Ft.reduce((e,r)=>(e[r]=!0,e),{});function H(e){const{value:r,onInput:s,...i}=e,[u,g]=a.useState(!1),[d,y]=a.useState("");return t("input",{...i,value:u?d:r,onChange:h=>{y(h.target.value),s(h.target.value)},onFocus:()=>{y(r),g(!0)},onBlur:()=>{g(!1)}})}try{H.displayName="EditableControlledInput",H.__docgenInfo={description:"",displayName:"EditableControlledInput",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onInput:{defaultValue:null,description:"",name:"onInput",required:!0,type:{name:"(newValue: string) => unknown"}}}}}catch{}function q(e){let r;return s=>((r==null||s!==r.arg)&&(r={arg:s,result:e(s)}),r.result)}const Mt={type:"next"},zt={type:"previous"},Ht=e=>rr(e)?{type:"jump-to-index",index:parseInt(e,10)-1}:{type:"noop"};function Jt(e){return{type:"set-questions",questions:e}}function Kt(e){return{type:"load-questions-from-storage",questions:e}}const $t={type:"remove-current-question"};function Yt(e,r){switch(r.type){case"next":return z(e,s=>s+1);case"previous":return z(e,s=>s-1);case"jump-to-index":return z(e,()=>r.index);case"set-questions":return{...e,questions:r.questions};case"load-questions-from-storage":return e.questions||!r.questions?e:{...e,questions:r.questions};case"remove-current-question":{const s=k(e);return{...e,questions:e.questions.split(`
`).filter((i,u)=>u!==s).join(`
`)}}}return e}function z(e,r){const s=k(e),i=M(e);return{...e,requestedIndex:ct(r(s),i)}}function ct(e,r){return r.length===0||e<0?0:e>=r.length?r.length-1:e}const lt=q(e=>e.questions.split(`
`).map(r=>r.trim()).filter(Boolean)),M=q(e=>lt(e).map(tr)),Xt=q(e=>M(e)[k(e)]??null),Zt=q(e=>lt(e)[k(e)]??null),er=q(e=>M(e).length),k=e=>ct(e.requestedIndex,M(e));function tr(e){try{return JSON.parse(e)}catch{return{content:"**Could not parse the JSON for this question.**\n\n```\n"+e+"\n```",widgets:{},images:{}}}}function rr(e){return/^\d+$/.test(e)&&+e>0}const or=K.StyleSheet.create({header:{display:"flex",alignItems:"center",boxShadow:"0 0 10px #0002",borderBlockEnd:`1px solid ${S.offBlack32}`,background:S.offBlack8,padding:c.small_12,justifyContent:"space-between",flexDirection:"row-reverse",flexWrap:"wrap"}}),J=({children:e})=>t("header",{className:K.css(or.header),children:e});try{J.displayName="Header",J.__docgenInfo={description:"",displayName:"Header",props:{}}}catch{}const sr=`
# copy all questions
cat data/questions/*/*/* | pbcopy

# copy all segment questions
grep -rl '"type":"segment"' data/questions/ | xargs cat | pbcopy
`.trim(),Z="FLIPBOOK-QUESTIONS-JSON";function nr(e){return e.type==="interactive-graph"}function ut(e){return e.startsWith("web+graphie://")}function ir(){const[e,r]=a.useReducer(Yt,{questions:"",requestedIndex:0}),s=Zt(e),i=Xt(e),u=er(e),g=k(e),d=e.questions.trim(),y=d==="",h=a.useMemo(()=>Object.values((i==null?void 0:i.widgets)??{}).filter(nr).map(o=>{var $;return(($=o.options.backgroundImage)==null?void 0:$.url)??""}).filter(o=>o.length>0),[i]);return a.useEffect(()=>{const o=localStorage.getItem(Z)||"";r(Kt(o))},[]),a.useEffect(()=>{localStorage.setItem(Z,d)},[d]),m(R,{children:[t(J,{children:t(p,{style:{flexDirection:"row",alignItems:"center",flexBasis:"max-content"},children:t("nav",{children:t("a",{href:"/",children:"Gallery"})})})}),m(p,{style:{padding:c.medium_16},children:[t("textarea",{wrap:"off",rows:10,style:{width:"100%"},value:e.questions,onChange:o=>r(Jt(o.target.value))}),t(G,{leftContent:m(R,{children:[t(F,{kind:"secondary",onClick:()=>r(zt),children:"Previous"}),t(x,{size:c.xxSmall_6}),t(F,{kind:"secondary",onClick:()=>r(Mt),children:"Next"}),t(x,{size:c.medium_16}),t(cr,{zeroBasedIndex:g,total:u,onIndexChanged:o=>r(Ht(o))}),t(x,{size:c.medium_16}),t(F,{kind:"tertiary",onClick:()=>r($t),children:"Discard question"})]}),rightContent:m(p,{children:[h==null?void 0:h.map(o=>t(X,{placement:"right",content:t(lr,{url:o}),children:t(Y,{icon:ut(o)?Vt:jt})},o)),((h==null?void 0:h.length)??0)===0&&t(X,{placement:"right",content:"This graph does not specify a background image",children:t(Y,{icon:Tt})})]})}),t(x,{size:c.small_12}),m("div",{style:{display:y?"block":"none"},children:[t("h2",{children:"Instructions"}),m("ol",{children:[m("li",{children:[t("p",{children:"Run a command like one of the following to copy question data to your clipboard."}),t("code",{children:t("pre",{children:sr})})]}),t("li",{children:t("p",{children:"Paste the data in the box above."})})]})]}),i!=null&&t(ar,{question:i},s)]})]})}function ar({question:e,apiOptions:r={}}){return m(R,{children:[m(p,{className:"framework-perseus",style:{flexDirection:"row",padding:c.medium_16,gap:c.medium_16,background:"#f8f8f8"},children:[t(ee,{question:e,apiOptions:{...r,flags:{mafs:!1}}}),t(ee,{question:e,apiOptions:{...r,flags:{mafs:Gt}}})]}),t("div",{children:t("pre",{style:{whiteSpace:"pre-wrap"},children:t("code",{children:JSON.stringify(e)})})})]})}function ee(e){const{question:r,apiOptions:s}=e,i=a.useRef(null),[u,g]=a.useState(),d=dt(()=>g(void 0),2500,{schedulePolicy:gt.OnDemand});function y(o){switch(o.type){case"invalid":return"You didn't answer the question.";case"points":return Rt(o)?"Correct!":"Incorrect."}}function h(o){switch(o.type){case"invalid":return"critical";case"points":return o.earned===o.total?"success":"warning";default:throw new St(o)}}return m(p,{style:{alignItems:"flex-start",overflow:"hidden",background:S.white,padding:c.medium_16},children:[t(qt,{ref:i,content:r.content,images:r.images,widgets:r.widgets,problemNum:0,apiOptions:{...s},strings:xt}),t(G,{leftContent:t(F,{onClick:()=>{var o;g((o=i.current)==null?void 0:o.score()),d.set()},children:"Check answer"})}),u&&t(p,{style:{position:"absolute",alignSelf:"center",width:"60%",top:"150px",zIndex:"1000"},children:t(mt,{layout:"full-width",text:y(u),kind:h(u)})})]})}function cr(e){const{zeroBasedIndex:r,total:s,onIndexChanged:i}=e,u=Math.min(s,r+1);return m("div",{children:[t(H,{value:String(u),onInput:i,style:{width:"4em",textAlign:"right"}})," of ",s]})}function lr({url:e}){return m(R,{children:[t(G,{leftContent:m(p,{style:{display:"flex",flexDirection:"row"},children:["This question uses a",ut(e)?t(pt,{href:`http://graphie-to-png.khanacademy.systems?preload=${encodeURIComponent(e)}`,target:"_blank",style:{marginLeft:c.xxSmall_6,marginRight:c.xxSmall_6},children:"Graphie"}):" regular image ","background."]}),rightContent:t(R,{})}),t(p,{className:"framework-perseus",style:{margin:c.medium_16,border:"solid 1px grey"},children:t(kt,{alt:"The background image for this graph question",src:e})})]})}const Zo={title:"Perseus/Widgets/Interactive Graph"},f={apiOptions:{flags:{mafs:{segment:!0,polygon:!0}}}},b=e=>t(ir,{}),L=e=>t(n,{question:bt}),I=e=>t(n,{question:Lt}),w=e=>t(n,{question:It}),W=e=>t(n,{question:wt}),C=e=>t(n,{question:Wt}),E=e=>t(n,{question:Ct}),A=e=>t(n,{question:at}),Q=e=>t(n,{...f,question:at}),v=e=>t(n,{question:Et}),_=e=>t(n,{question:At}),D=e=>t(n,{...f,question:Qt}),O=e=>t(n,{...f,question:vt}),P=e=>t(n,{...f,question:_t}),U=e=>t(n,{...f,question:Dt}),B=e=>t(n,{...f,question:Ot}),N=e=>t(n,{...f,question:Pt}),T=e=>t(n,{...f,question:Ut}),V=e=>t(n,{...f,question:Bt}),j=e=>t(n,{question:Nt});var te,re,oe;b.parameters={...b.parameters,docs:{...(te=b.parameters)==null?void 0:te.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <Flipbook />",...(oe=(re=b.parameters)==null?void 0:re.docs)==null?void 0:oe.source}}};var se,ne,ie;L.parameters={...L.parameters,docs:{...(se=L.parameters)==null?void 0:se.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={angleQuestion} />",...(ie=(ne=L.parameters)==null?void 0:ne.docs)==null?void 0:ie.source}}};var ae,ce,le;I.parameters={...I.parameters,docs:{...(ae=I.parameters)==null?void 0:ae.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={circleQuestion} />",...(le=(ce=I.parameters)==null?void 0:ce.docs)==null?void 0:le.source}}};var ue,me,pe;w.parameters={...w.parameters,docs:{...(ue=w.parameters)==null?void 0:ue.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={linearQuestion} />",...(pe=(me=w.parameters)==null?void 0:me.docs)==null?void 0:pe.source}}};var de,ge,he;W.parameters={...W.parameters,docs:{...(de=W.parameters)==null?void 0:de.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={linearQuestionWithLockedPoints} />",...(he=(ge=W.parameters)==null?void 0:ge.docs)==null?void 0:he.source}}};var fe,ye,Se;C.parameters={...C.parameters,docs:{...(fe=C.parameters)==null?void 0:fe.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={linearSystemQuestion} />",...(Se=(ye=C.parameters)==null?void 0:ye.docs)==null?void 0:Se.source}}};var Re,qe,ke;E.parameters={...E.parameters,docs:{...(Re=E.parameters)==null?void 0:Re.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={pointQuestion} />",...(ke=(qe=E.parameters)==null?void 0:qe.docs)==null?void 0:ke.source}}};var xe,be,Le;A.parameters={...A.parameters,docs:{...(xe=A.parameters)==null?void 0:xe.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={polygonQuestion} />",...(Le=(be=A.parameters)==null?void 0:be.docs)==null?void 0:Le.source}}};var Ie,we,We;Q.parameters={...Q.parameters,docs:{...(Ie=Q.parameters)==null?void 0:Ie.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={polygonQuestion} />",...(We=(we=Q.parameters)==null?void 0:we.docs)==null?void 0:We.source}}};var Ce,Ee,Ae;v.parameters={...v.parameters,docs:{...(Ce=v.parameters)==null?void 0:Ce.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={rayQuestion} />",...(Ae=(Ee=v.parameters)==null?void 0:Ee.docs)==null?void 0:Ae.source}}};var Qe,ve,_e;_.parameters={..._.parameters,docs:{...(Qe=_.parameters)==null?void 0:Qe.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={segmentQuestion} />",...(_e=(ve=_.parameters)==null?void 0:ve.docs)==null?void 0:_e.source}}};var De,Oe,Pe;D.parameters={...D.parameters,docs:{...(De=D.parameters)==null?void 0:De.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={segmentWithLockedPointsQuestion} />",...(Pe=(Oe=D.parameters)==null?void 0:Oe.docs)==null?void 0:Pe.source}}};var Ue,Be,Ne;O.parameters={...O.parameters,docs:{...(Ue=O.parameters)==null?void 0:Ue.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={segmentWithLockedLineQuestion} />",...(Ne=(Be=O.parameters)==null?void 0:Be.docs)==null?void 0:Ne.source}}};var Te,Ve,je;P.parameters={...P.parameters,docs:{...(Te=P.parameters)==null?void 0:Te.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={segmentWithAllLockedLineSegmentVariations} />",...(je=(Ve=P.parameters)==null?void 0:Ve.docs)==null?void 0:je.source}}};var Fe,Ge,Me;U.parameters={...U.parameters,docs:{...(Fe=U.parameters)==null?void 0:Fe.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={segmentWithAllLockedLineVariations} />",...(Me=(Ge=U.parameters)==null?void 0:Ge.docs)==null?void 0:Me.source}}};var ze,He,Je;B.parameters={...B.parameters,docs:{...(ze=B.parameters)==null?void 0:ze.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={segmentWithAllLockedRayVariations} />",...(Je=(He=B.parameters)==null?void 0:He.docs)==null?void 0:Je.source}}};var Ke,$e,Ye;N.parameters={...N.parameters,docs:{...(Ke=N.parameters)==null?void 0:Ke.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={segmentWithLockedVectors} />",...(Ye=($e=N.parameters)==null?void 0:$e.docs)==null?void 0:Ye.source}}};var Xe,Ze,et;T.parameters={...T.parameters,docs:{...(Xe=T.parameters)==null?void 0:Xe.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={segmentWithLockedEllipses} />",...(et=(Ze=T.parameters)==null?void 0:Ze.docs)==null?void 0:et.source}}};var tt,rt,ot;V.parameters={...V.parameters,docs:{...(tt=V.parameters)==null?void 0:tt.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI {...mafsOptions} question={segmentWithLockedPolygons} />",...(ot=(rt=V.parameters)==null?void 0:rt.docs)==null?void 0:ot.source}}};var st,nt,it;j.parameters={...j.parameters,docs:{...(st=j.parameters)==null?void 0:st.docs,source:{originalSource:"(args: StoryArgs): React.ReactElement => <RendererWithDebugUI question={sinusoidQuestion} />",...(it=(nt=j.parameters)==null?void 0:nt.docs)==null?void 0:it.source}}};const es=["SideBySideFlipbook","Angle","Circle","Linear","LinearWithLockedPoints","LinearSystem","Point","Polygon","PolygonWithMafs","Ray","Segment","SegmentWithMafsAndLockedPoints","SegmentWithMafsAndLockedLines","AllLockedLineSegments","AllLockedLines","AllLockedRays","LockedVector","LockedEllipse","LockedPolygon","Sinusoid"];export{P as AllLockedLineSegments,U as AllLockedLines,B as AllLockedRays,L as Angle,I as Circle,w as Linear,C as LinearSystem,W as LinearWithLockedPoints,T as LockedEllipse,V as LockedPolygon,N as LockedVector,E as Point,A as Polygon,Q as PolygonWithMafs,v as Ray,_ as Segment,O as SegmentWithMafsAndLockedLines,D as SegmentWithMafsAndLockedPoints,b as SideBySideFlipbook,j as Sinusoid,es as __namedExportsOrder,Zo as default};
