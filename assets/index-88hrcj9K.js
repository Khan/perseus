import{r as n}from"./index-4g5l5LRQ.js";import{a as j,V as y,I as oe}from"./index-e4P84RkC.js";import{l as k}from"./index-awljIyHI.js";import{c as s,b as C,s as m}from"./index-lUErx3pE.js";import{d as re,b as ne}from"./index-Nvrg7yVC.js";import{r as M}from"./index-jmm5gWkb.js";import{w as ie}from"./index-FsYHUvK_.js";import{c as le,L as se,i as ae}from"./index-AFG5vh6r.js";import{P as V}from"./index-zE8cp1oq.js";import{M as de}from"./index-wjVcXLkf.js";function A(){return A=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i])}return o},A.apply(this,arguments)}function H(o,e){const t=A({},o,e),i=Object.keys(t);for(const r of i){const l=o[r],c=e[r];t[r]=typeof c=="object"&&typeof l=="object"?H(l,c):t[r]}return t}function G(o){return n.createContext(o)}const U=n.createContext("default");function I(o){var e;const t=n.useContext(o),i=(e=n.useContext(U))!=null?e:"default";return{theme:t,themeName:i}}function L(o,e){return n.useMemo(()=>k.StyleSheet.create(o(e)),[o,e])}const ce=""+new URL("x-UBETHtof.svg",import.meta.url).href;function v(){return v=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i])}return o},v.apply(this,arguments)}function q(o,e){if(o==null)return{};var t={},i=Object.keys(o),r,l;for(l=0;l<i.length;l++)r=i[l],!(e.indexOf(r)>=0)&&(t[r]=o[r]);return t}const ue=o=>{switch(o){case"xsmall":return"small";case"small":return"medium";case"medium":return"medium"}},fe=o=>({xsmall:24,small:32,medium:40})[o],P={color:{bg:{hovered:"transparent",active:"transparent",disabled:"transparent",filled:{action:{hovered:"transparent",active:"transparent"},critical:{hovered:"transparent",active:"transparent"}}},stroke:{disabled:{default:s.offBlack32,inverse:s.white50},inverse:s.white,action:{default:s.blue,active:s.activeBlue,inverse:s.fadedBlue},critical:{default:s.red,active:s.activeRed,inverse:s.fadedRed},primary:{action:{hovered:s.blue,active:s.activeBlue},critical:{hovered:s.red,active:s.activeRed},inverse:{default:s.white,hovered:s.white}},secondary:{default:s.offBlack},tertiary:{default:s.offBlack64},filled:{action:{hovered:s.blue,active:s.activeBlue},critical:{hovered:s.red,active:s.activeRed}}}},border:{width:{default:C.width.thin,active:C.width.none,hovered:C.width.thin,hoveredInverse:C.width.thin},radius:{default:C.radius.medium_4}}},he=H(P,{color:{bg:{hovered:s.white,active:s.white64,filled:{action:{hovered:s.blue,active:s.activeBlue},critical:{hovered:s.red,active:s.activeRed}}},stroke:{action:{inverse:s.eggplant},critical:{inverse:s.eggplant},primary:{action:{hovered:s.eggplant,active:s.eggplant},critical:{hovered:s.eggplant,active:s.eggplant},inverse:{hovered:s.eggplant}},filled:{action:{hovered:s.white,active:s.white},critical:{hovered:s.white,active:s.white}}}},border:{width:{hovered:C.width.none,hoveredInverse:C.width.none}}}),pe={default:P,khanmigo:he},J=G(P);function me(o){var e;const t=n.useContext(U),i=(e=pe[t])!=null?e:P;return n.createElement(J.Provider,{value:i},o.children)}const be=["color","disabled","href","icon","kind","light","size","skipClientNav","style","testId"];function ve({icon:o,size:e}){switch(ue(e)){case"small":return n.createElement(V,{size:"small",color:"currentColor",icon:o});case"medium":default:return n.createElement(V,{size:"medium",color:"currentColor",icon:o})}}const ye=j("a"),ge=j("button"),we=j(se),xe=n.forwardRef(function(e,t){const{color:i,disabled:r,href:l,icon:c,kind:h="primary",light:d=!1,size:b="medium",skipClientNav:u,style:g,testId:f}=e,p=q(e,be),{theme:E,themeName:w}=I(J),x=R=>{const K=ke(i,h,d,b,E,w),te=[Ee.shared,K.default,r&&K.disabled],D=n.createElement(ve,{size:b,icon:c}),N=v({"data-testid":f,style:[te,g]},p);return l&&!r?R&&!u&&ae(l)?n.createElement(we,v({},N,{to:l,ref:t}),D):n.createElement(ye,v({},N,{href:l,ref:t}),D):n.createElement(ge,v({type:"button"},N,{onClick:r?void 0:p.onClick,"aria-disabled":r,ref:t}),D)};return n.createElement(le.Consumer,null,R=>x(R))}),Ee=k.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:-8,touchAction:"manipulation"}}),_={};function Ce(o,e,t,i,r){switch(o){case"primary":const l=r==="destructive"?e.color.stroke.primary.critical.hovered:e.color.stroke.primary.action.hovered;return{":hover":{backgroundColor:e.color.bg.hovered,color:i?e.color.stroke.primary.inverse.hovered:l,outlineColor:i?e.color.stroke.inverse:t,outlineOffset:1,outlineStyle:"solid",outlineWidth:i?e.border.width.hoveredInverse:e.border.width.hovered},":active":{backgroundColor:e.color.bg.active}};case"secondary":case"tertiary":return{":hover":{backgroundColor:r==="destructive"?e.color.bg.filled.critical.hovered:e.color.bg.filled.action.hovered,color:r==="destructive"?e.color.stroke.filled.critical.hovered:e.color.stroke.filled.action.hovered,outlineWidth:e.border.width.active},":active":{backgroundColor:r==="destructive"?e.color.bg.filled.critical.active:e.color.bg.filled.action.active,color:r==="destructive"?e.color.stroke.filled.critical.active:e.color.stroke.filled.action.active,outlineWidth:e.border.width.active}};default:return{":focus-visible":{},":hover":{},":active":{}}}}const ke=(o="default",e,t,i,r,l)=>{const c=o==="destructive"?r.color.stroke.critical.default:r.color.stroke.action.default,h=`${c}-${e}-${t}-${i}-${l}`;if(_[h])return _[h];if(t&&e!=="primary")throw new Error("Light is only supported for primary IconButtons");const d=(()=>{switch(e){case"primary":return t?r.color.stroke.primary.inverse.default:c;case"secondary":return r.color.stroke.secondary.default;case"tertiary":return r.color.stroke.tertiary.default;default:throw new Error("IconButton kind not recognized")}})(),b=fe(i),u=Ce(e,r,c,t,o),g=o==="destructive"?r.color.stroke.critical.inverse:r.color.stroke.action.inverse,f=o==="destructive"?r.color.stroke.critical.active:r.color.stroke.action.active,p=t?r.color.stroke.inverse:c,E=t?r.color.stroke.disabled.inverse:r.color.stroke.disabled.default,w={backgroundColor:r.color.bg.disabled,color:E,outlineColor:E},x={default:{height:b,width:b,color:d,borderRadius:r.border.radius.default,":hover":v({boxShadow:"none",color:p,borderRadius:r.border.radius.default,outlineWidth:r.border.width.default},u[":hover"]),"@media not (hover: hover)":{":hover":{boxShadow:"none",color:d,borderRadius:r.border.radius.default,outline:"none",backgroundColor:"transparent"}},":focus":{boxShadow:`0 0 0 ${r.border.width.default}px ${p}`,borderRadius:r.border.radius.default},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":v({boxShadow:"none",outlineWidth:r.border.width.default,outlineColor:p,outlineOffset:1,outlineStyle:"solid",borderRadius:r.border.radius.default},u[":focus-visible"]),":active":v({color:t?g:f,outlineWidth:r.border.width.default,outlineColor:t?g:f,outlineOffset:1,outlineStyle:"solid",borderRadius:r.border.radius.default},u[":active"])},disabled:{color:E,cursor:"not-allowed",":hover":v({},w,{outline:"none"}),":active":v({},w,{outline:"none"}),":focus":{boxShadow:`0 0 0 ${r.border.width.default}px ${E}`,borderRadius:r.border.radius.default},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":w}};return _[h]=k.StyleSheet.create(x),_[h]},Me=["color","disabled","href","kind","light","size","skipClientNav","tabIndex","target"],Se=n.forwardRef(function(e,t){const{color:i="default",disabled:r=!1,href:l,kind:c="primary",light:h=!1,size:d="medium",skipClientNav:b,tabIndex:u,target:g}=e,f=q(e,Me);function p(w){const x=w.key;!l&&(x==="Enter"||x==="Space")&&w.preventDefault()}function E(w){const x=w.key;!l&&(x==="Enter"||x==="Space")&&f.onClick&&f.onClick(w)}return n.createElement(me,null,n.createElement(xe,v({},f,{color:i,disabled:r,href:l,kind:c,light:h,ref:t,skipClientNav:b,size:d,target:g,tabIndex:u,onKeyDown:p,onKeyUp:E})))});function B(){return B=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i])}return o},B.apply(this,arguments)}const T={color:{bg:{inverse:s.darkBlue},text:{inverse:s.white,secondary:s.offBlack64},shadow:{default:s.offBlack16}},border:{radius:C.radius.medium_4},spacing:{dialog:{small:m.medium_16},panel:{closeButton:m.medium_16,footer:m.xLarge_32},header:{xsmall:m.xSmall_8,small:m.medium_16,medium:m.large_24,large:m.xLarge_32}}},Ie=H(T,{color:{bg:{inverse:s.eggplant}}}),Oe={default:T,khanmigo:Ie},O=G(T);function _e(o){const e=n.useContext(U),t=Oe[e]||T;return n.createElement(O.Provider,{value:t},o.children)}const Fe=n.forwardRef(function(e,t){const{above:i,below:r,role:l="dialog",style:c,children:h,testId:d,"aria-labelledby":b,"aria-describedby":u}=e,{theme:g}=I(O),f=L($e,g);return n.createElement(y,{style:[f.wrapper,c]},r&&n.createElement(y,{style:f.below},r),n.createElement(y,{role:l,"aria-modal":"true","aria-labelledby":b,"aria-describedby":u,ref:t,style:f.dialog,testId:d},h),i&&n.createElement(y,{style:f.above},i))}),Q=n.forwardRef(function(e,t){return n.createElement(_e,null,n.createElement(Fe,B({},e,{ref:t})))}),Be="@media (max-width: 767px)",$e=o=>({wrapper:{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",height:"100%",position:"relative",[Be]:{padding:o.spacing.dialog.small,flexDirection:"column"}},dialog:{width:"100%",height:"100%",borderRadius:o.border.radius,overflow:"hidden"},above:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},below:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:-1}});Q.displayName="ModalDialog";function $({children:o}){return n.createElement(y,{style:Le.footer},o)}$.__IS_MODAL_FOOTER__=!0;$.isComponentOf=o=>o&&o.type&&o.type.__IS_MODAL_FOOTER__;const Le=k.StyleSheet.create({footer:{flex:"0 0 auto",boxSizing:"border-box",minHeight:m.xxxLarge_64,paddingLeft:m.medium_16,paddingRight:m.medium_16,paddingTop:m.xSmall_8,paddingBottom:m.xSmall_8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px -1px 0px ${s.offBlack16}`}});function F(o){const{breadcrumbs:e=void 0,light:t,subtitle:i=void 0,testId:r,title:l,titleId:c}=o;if(i&&e)throw new Error("'subtitle' and 'breadcrumbs' can't be used together");const{theme:h}=I(O),d=L(Pe,h);return n.createElement(y,{style:[d.header,!t&&d.dark],testId:r},e&&n.createElement(y,{style:d.breadcrumbs},e),n.createElement(re,{style:d.title,id:c,testId:r&&`${r}-title`},l),i&&n.createElement(ne,{style:t&&d.subtitle,testId:r&&`${r}-subtitle`},i))}const Y="@media (max-width: 767px)",Pe=o=>({header:{boxShadow:`0px 1px 0px ${o.color.shadow.default}`,display:"flex",flexDirection:"column",minHeight:66,padding:`${o.spacing.header.medium}px ${o.spacing.header.large}px`,position:"relative",width:"100%",[Y]:{paddingLeft:o.spacing.header.small,paddingRight:o.spacing.header.small}},dark:{background:o.color.bg.inverse,color:o.color.text.inverse},breadcrumbs:{color:o.color.text.secondary,marginBottom:o.spacing.header.xsmall},title:{paddingRight:o.spacing.header.small,[Y]:{paddingRight:o.spacing.header.large}},subtitle:{color:o.color.text.secondary,marginTop:o.spacing.header.xsmall}});F.defaultProps={light:!0};const Te='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';class Re extends n.Component{constructor(...e){super(...e),this.modalRoot=void 0,this.getModalRoot=t=>{if(!t)return;const i=M.findDOMNode(t);if(!i)throw new Error("Assertion error: modal root should exist after mount");this.modalRoot=i},this.handleFocusMoveToLast=()=>{this.focusElementIn(!1)},this.handleFocusMoveToFirst=()=>{this.focusElementIn(!0)}}tryToFocus(e){if(e instanceof HTMLElement){try{e.focus()}catch{}return document.activeElement===e}}focusElementIn(e){const t=this.modalRoot,i=Array.from(t.querySelectorAll(Te)),r=e?0:i.length-1,l=i[r];this.tryToFocus(l)}render(){const{style:e}=this.props;return n.createElement(n.Fragment,null,n.createElement("div",{tabIndex:0,className:"modal-focus-trap-first",onFocus:this.handleFocusMoveToLast,style:{position:"fixed"}}),n.createElement(y,{style:e,ref:this.getModalRoot},this.props.children),n.createElement("div",{tabIndex:0,className:"modal-focus-trap-last",onFocus:this.handleFocusMoveToFirst,style:{position:"fixed"}}))}}const X="data-modal-launcher-portal",De='a[href], details, input, textarea, select, button:not([aria-label^="Close"])';function Ne(o){return Array.from(o.querySelectorAll(De))}class ze extends n.Component{constructor(...e){super(...e),this._mousePressedOutside=!1,this.handleMouseDown=t=>{this._mousePressedOutside=t.target===t.currentTarget},this.handleMouseUp=t=>{t.target===t.currentTarget&&this._mousePressedOutside&&this.props.onCloseModal(),this._mousePressedOutside=!1}}componentDidMount(){const e=M.findDOMNode(this);if(!e)return;const t=this._getInitialFocusElement(e)||this._getFirstFocusableElement(e)||this._getDialogElement(e);setTimeout(()=>{t.focus()},0)}_getInitialFocusElement(e){const{initialFocusId:t}=this.props;return t?M.findDOMNode(e.querySelector(`#${t}`)):null}_getFirstFocusableElement(e){const t=Ne(e);return t?t[0]:null}_getDialogElement(e){const t=M.findDOMNode(e.querySelector('[role="dialog"]'));return t.tabIndex=-1,t}render(){const{children:e,testId:t}=this.props,i={[X]:!0};return n.createElement(y,B({style:Ae.modalPositioner,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,testId:t},i),e)}}const Ae=k.StyleSheet.create({modalPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",overflow:"auto",background:s.offBlack64}}),z=(()=>{if(typeof window>"u")return!1;const o=window.navigator.userAgent;return o.indexOf("iPad")>-1||o.indexOf("iPhone")>-1})();class a extends n.Component{componentDidMount(){if(a.numModalsOpened===0){const e=document.body;if(!e)throw new Error("couldn't find document.body");a.oldOverflow=e.style.overflow,a.oldScrollY=window.scrollY,z&&(a.oldPosition=e.style.position,a.oldWidth=e.style.width,a.oldTop=e.style.top),e.style.overflow="hidden",z&&(e.style.position="fixed",e.style.width="100%",e.style.top=`${-a.oldScrollY}px`)}a.numModalsOpened++}componentWillUnmount(){if(a.numModalsOpened--,a.numModalsOpened===0){const e=document.body;if(!e)throw new Error("couldn't find document.body");e.style.overflow=a.oldOverflow,z&&(e.style.position=a.oldPosition,e.style.width=a.oldWidth,e.style.top=a.oldTop),typeof window<"u"&&window.scrollTo&&window.scrollTo(0,a.oldScrollY)}}render(){return null}}a.oldOverflow=void 0;a.oldPosition=void 0;a.oldScrollY=void 0;a.oldWidth=void 0;a.oldTop=void 0;a.numModalsOpened=0;const je={closeModal:void 0},W=n.createContext(je);W.displayName="ModalContext";class Z extends n.Component{constructor(...e){super(...e),this.lastElementFocusedOutsideModal=void 0,this.state={opened:!1},this._saveLastElementFocused=()=>{this.lastElementFocusedOutsideModal=document.activeElement},this._openModal=()=>{this._saveLastElementFocused(),this.setState({opened:!0})},this._returnFocus=()=>{const{closedFocusId:t,schedule:i}=this.props,r=this.lastElementFocusedOutsideModal;if(t){const l=M.findDOMNode(document.getElementById(t));if(l){i.animationFrame(()=>{l.focus()});return}}r!=null&&i.animationFrame(()=>{r.focus()})},this.handleCloseModal=()=>{this.setState({opened:!1},()=>{const{onClose:t}=this.props;t==null||t(),this._returnFocus()})}}static getDerivedStateFromProps(e,t){return typeof e.opened=="boolean"&&e.children&&console.warn("'children' and 'opened' can't be used together"),typeof e.opened=="boolean"&&!e.onClose&&console.warn("'onClose' should be used with 'opened'"),typeof e.opened!="boolean"&&!e.children&&console.warn("either 'children' or 'opened' must be set"),{opened:typeof e.opened=="boolean"?e.opened:t.opened}}componentDidUpdate(e){!e.opened&&this.props.opened&&this._saveLastElementFocused()}_renderModal(){return typeof this.props.modal=="function"?this.props.modal({closeModal:this.handleCloseModal}):this.props.modal}render(){const e=this.props.children?this.props.children({openModal:this._openModal}):null,{body:t}=document;return t?n.createElement(W.Provider,{value:{closeModal:this.handleCloseModal}},e,this.state.opened&&M.createPortal(n.createElement(Re,{style:Ue.container},n.createElement(ze,{initialFocusId:this.props.initialFocusId,testId:this.props.testId,onCloseModal:this.props.backdropDismissEnabled?this.handleCloseModal:()=>{}},this._renderModal())),t),this.state.opened&&n.createElement(He,{onClose:this.handleCloseModal}),this.state.opened&&n.createElement(a,null)):null}}Z.defaultProps={backdropDismissEnabled:!0};class He extends n.Component{constructor(...e){super(...e),this._handleKeyup=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup)}render(){return null}}const Ue=k.StyleSheet.create({container:{zIndex:1080}});ie(Z);function S(o){const{scrollOverflow:e,style:t,children:i}=o,{theme:r}=I(O),l=L(Ke,r);return n.createElement(y,{style:[l.wrapper,e&&l.scrollOverflow]},n.createElement(y,{style:[l.content,t]},i))}S.__IS_MODAL_CONTENT__=!0;S.isComponentOf=o=>o&&o.type&&o.type.__IS_MODAL_CONTENT__;const We="@media (max-width: 767px)",Ke=o=>({wrapper:{flex:1,display:"block"},scrollOverflow:{overflow:"auto"},content:{flex:1,minHeight:"100%",padding:m.xLarge_32,boxSizing:"border-box",[We]:{padding:`${m.xLarge_32}px ${m.medium_16}px`}}});S.defaultProps={scrollOverflow:!0};class Ve extends n.Component{render(){const{light:e,onClick:t,style:i,testId:r}=this.props;return n.createElement(W.Consumer,null,({closeModal:l})=>{if(l&&t)throw new Error("You've specified 'onClose' on a modal when using ModalLauncher.  Please specify 'onClose' on the ModalLauncher instead");return n.createElement(Se,{icon:ce,"aria-label":"Close modal",onClick:t||l,kind:e?"primary":"tertiary",light:e,style:i,testId:r})})}}function ee({closeButtonVisible:o=!0,scrollOverflow:e=!0,light:t=!0,content:i,footer:r,header:l,onClose:c,style:h,testId:d}){const{theme:b}=I(O),u=L(Ye,b),f=n.useCallback(()=>{const p=S.isComponentOf(i)?i:n.createElement(S,null,i);return p&&n.cloneElement(p,{scrollOverflow:e,style:[!!r&&u.hasFooter,p.props.style]})},[i,r,e,u.hasFooter])();return n.createElement(y,{style:[u.wrapper,!t&&u.dark,h],testId:d&&`${d}-panel`},o&&n.createElement(Ve,{light:!t,onClick:c,style:u.closeButton,testId:d&&`${d}-close`}),l,f,!r||$.isComponentOf(r)?r:n.createElement($,null,r))}ee.defaultProps={closeButtonVisible:!0,scrollOverflow:!0,light:!0};const Ye=o=>({wrapper:{flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column",background:"white",boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%"},closeButton:{position:"absolute",right:o.spacing.panel.closeButton,top:o.spacing.panel.closeButton,zIndex:1},dark:{background:o.color.bg.inverse,color:o.color.text.inverse},hasFooter:{paddingBottom:o.spacing.panel.footer}});class Ge extends n.Component{renderHeader(e){const{title:t,breadcrumbs:i=void 0,subtitle:r=void 0,testId:l}=this.props;return i?n.createElement(F,{title:t,breadcrumbs:i,titleId:e,testId:l&&`${l}-header`}):r?n.createElement(F,{title:t,subtitle:r,titleId:e,testId:l&&`${l}-header`}):n.createElement(F,{title:t,titleId:e,testId:l&&`${l}-header`})}render(){const{onClose:e,footer:t,content:i,above:r,below:l,style:c,closeButtonVisible:h,testId:d,titleId:b,role:u,"aria-describedby":g}=this.props;return n.createElement(de,{styleSheets:qe},({styles:f})=>n.createElement(oe,{id:b,scope:"modal"},p=>n.createElement(Q,{style:[f.dialog,c],above:r,below:l,testId:d,"aria-labelledby":p,"aria-describedby":g,role:u},n.createElement(ee,{onClose:e,header:this.renderHeader(p),content:i,footer:t,closeButtonVisible:h,testId:d}))))}}Ge.defaultProps={closeButtonVisible:!0};const qe={small:k.StyleSheet.create({dialog:{width:"100%",height:"100%",overflow:"hidden"}}),mdOrLarger:k.StyleSheet.create({dialog:{width:"93.75%",maxWidth:576,height:"81.25%",maxHeight:624}})};function Je(o){let e=o&&o.parentElement;for(;e&&!e.hasAttribute(X);)e=e.parentElement;return e}function st(o){return Je(o)}export{Se as I,U as T,H as a,L as b,G as c,st as m,I as u,ce as x};
