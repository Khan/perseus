import{r as i}from"./index-qhcEwEpg.js";import{l as S}from"./index-awljIyHI.js";import{L as X,a as q,s as Jt,d as Tn,b as Bn}from"./index-tMKG4RaL.js";import{w as et,L as xe,c as he}from"./index-FSlvaNFm.js";import{a as O,V as k,U as Dn,I as yt}from"./index-eZ2N530f.js";import{c as u,b as L}from"./index-a3cmqwki.js";import{S as h}from"./index-SM3muJE2.js";import{f as xt,C as R,m as z}from"./index-hYQ6Pa3_.js";import{P as Z}from"./index-K7FSCCGN.js";import{c as Ct,m as Ln}from"./index-lQzT3gLW.js";import{r as P}from"./index-E09jvG0x.js";import{a as St,c as wt,u as Ce,T as kt,x as en,b as tt}from"./index-Nu3-Yboj.js";import{m as Pn,V as Nn,c as tn}from"./answer-choices-ngtaRiXp.js";import{w as Et}from"./index-uu39Elyn.js";import{P as Wn,d as An}from"./Popper-2p8US95Y.js";function zn(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}function ee(){return ee=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},ee.apply(this,arguments)}const Bt=s=>{switch(s){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},Kn={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},fe={enter:13,space:32},Dt={hovered:!1,focused:!1,pressed:!1,waiting:!1};let It=class extends i.Component{static getDerivedStateFromProps(e,t){return e.disabled?ee({},Dt,{focused:t.focused}):null}constructor(e){super(e),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=t=>{const{onClick:n=void 0,beforeNav:o=void 0,safeWithNav:r=void 0}=this.props;this.enterClick||((n||o||r)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(t))},this.handleMouseEnter=t=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=t=>{this.props.onMouseDown&&this.props.onMouseDown(t),this.setState({pressed:!0})},this.handleMouseUp=t=>{this.props.onMouseUp&&this.props.onMouseUp(t),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=t=>{const{onKeyDown:n,role:o}=this.props;n&&n(t);const r=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=Bt(o);a&&r===fe.enter||l&&r===fe.space?(t.preventDefault(),this.setState({pressed:!0})):!a&&r===fe.enter&&(this.enterClick=!0)},this.handleKeyUp=t=>{const{onKeyUp:n,role:o}=this.props;n&&n(t);const r=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=Bt(o);a&&r===fe.enter||l&&r===fe.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(t)):!a&&r===fe.enter&&(this.enterClick=!1)},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{this.setState({focused:!1,pressed:!1})},this.state=Dt,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(e){if(e){const{history:t,href:n,skipClientNav:o,target:r=void 0}=this.props;n&&(r==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):t&&!o?(t.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:n,history:o}=this.props;return o&&!n||this.props.target==="_blank"?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(r=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t=void 0,beforeNav:n=void 0,safeWithNav:o=void 0,href:r,type:a}=this.props;let l=!0,d=!0;if(t&&t(e),e.defaultPrevented&&(l=!1,d=!1),e.preventDefault(),!r&&a==="submit"&&d){let c=e.currentTarget;for(;c;){if(c instanceof window.HTMLFormElement){const f=new window.Event("submit",{bubbles:!0,cancelable:!0});c.dispatchEvent(f);break}c=c.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>o?this.handleSafeWithNav(o,l):this.navigateOrReset(l)).catch(()=>{});else{if(o)return this.handleSafeWithNav(o,l);this.navigateOrReset(l)}}render(){const e=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),t=this.props.disabled?ee({},Kn,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:n}=this.props;return n&&n(this.state,t)}};It.defaultProps={disabled:!1};const nn=s=>typeof s!="string"?!1:!/^(https?:)?\/\//i.test(s)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(s),Un=et(It);function jn(s,e,t){return t&&e!==!0&&s&&nn(s)?Un:It}const Hn=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],Vn=O("a"),qn=O("button"),Gn=O(xe),on=i.forwardRef(function(e,t){const n=(r,a,l)=>{const d=e.href&&!e.disabled,c=a&&!e.skipClientNav&&nn(e.href||"");return d&&c&&e.href?i.createElement(Gn,ee({},l,{to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(r)):d&&!c?i.createElement(Vn,ee({},l,{href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(r)):i.createElement(qn,ee({},l,{type:"button","aria-disabled":e.disabled,ref:t}),e.children(r))},o=r=>{const{href:a,onClick:l,skipClientNav:d,beforeNav:c=void 0,safeWithNav:f=void 0,style:y,target:b=void 0,testId:m,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,hideDefaultFocusRing:$,light:M,disabled:I,tabIndex:K}=e,U=zn(e,Hn),j=jn(a,d,r),H=E=>[ke.reset,ke.link,!$&&E.focused&&(M?ke.focusedLight:ke.focused),I&&ke.disabled,y];return c?i.createElement(j,{href:a,onClick:l,beforeNav:c,safeWithNav:f,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,disabled:I,tabIndex:K},(E,T)=>n(E,r,ee({},U,{"data-test-id":m,style:H(E)},T))):i.createElement(j,{href:a,onClick:l,safeWithNav:f,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,target:b,disabled:I,tabIndex:K},(E,T)=>n(E,r,ee({},U,{"data-test-id":m,style:H(E)},T)))};return i.createElement(he.Consumer,null,r=>o(r))});on.defaultProps={light:!1,disabled:!1};const ke=S.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${u.blue}`}},focusedLight:{outline:`solid 2px ${u.white}`},disabled:{color:u.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${u.blue}`}}});function mt(){return mt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},mt.apply(this,arguments)}const Lt=h.large_24,rn={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:h.medium_16,marginWidth:h.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:h.xLarge_32,marginWidth:h.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:h.xLarge_32,marginWidth:Lt,maxWidth:1120+Lt*2}},Yn={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:h.xLarge_32,marginWidth:h.medium_16}},Zn={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:h.medium_16,marginWidth:h.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:h.xLarge_32,marginWidth:h.xxLarge_48}},Xn={ssrSize:"large",mediaSpec:rn},sn=i.createContext(Xn);sn.displayName="MediaLayoutContext";const De={},Qn="large";class Jn extends i.Component{constructor(e){super(e),this.cleanupThunks=void 0,this.state={size:void 0},this.cleanupThunks=[]}componentDidMount(){const e=Object.entries(this.props.mediaSpec);for(const[t,n]of e){const o=De[n.query];if(!o)continue;const r=a=>{a.matches&&this.setState({size:t})};o.addListener(r),this.cleanupThunks.push(()=>o.removeListener(r))}}componentWillUnmount(){this.cleanupThunks.forEach(e=>e())}getCurrentSize(e){if(this.state.size)return this.state.size;{const t=Object.entries(this.props.mediaSpec);for(const[n,o]of t)if(De[o.query].matches)return n}return Qn}isServerSide(){return typeof window>"u"||!window.matchMedia}getMockStyleSheet(e){const{styleSheets:t}=this.props,n={};if(!t)return n;for(const o of Object.keys(t)){const r=t[o];if(r)for(const a of Object.keys(r))Object.prototype.hasOwnProperty.call(n,a)||(n[a]=[t.all&&t.all[a],e==="small"&&[t.mdOrSmaller&&t.mdOrSmaller[a],t.small&&t.small[a]],e==="medium"&&[t.mdOrSmaller&&t.mdOrSmaller[a],t.mdOrLarger&&t.mdOrLarger[a],t.medium&&t.medium[a]],e==="large"&&[t.mdOrLarger&&t.mdOrLarger[a],t.large&&t.large[a]]])}return n}render(){const{children:e,mediaSpec:t,ssrSize:n,overrideSize:o}=this.props,r=[...Object.values(rn).map(d=>d.query),...Object.values(Yn).map(d=>d.query),...Object.values(Zn).map(d=>d.query),...Object.values(t).map(d=>d.query)];if(!this.isServerSide())for(const d of r.filter(c=>!De[c]))De[d]=window.matchMedia(d);const a=o||this.isServerSide()&&n||this.getCurrentSize(t),l=this.getMockStyleSheet(a);return e({mediaSize:a,mediaSpec:t,styles:l})}}class eo extends i.Component{render(){return i.createElement(sn.Consumer,null,({overrideSize:e,ssrSize:t,mediaSpec:n})=>i.createElement(Jn,mt({},this.props,{overrideSize:e,ssrSize:t,mediaSpec:n})))}}S.StyleSheet.create({grow:{flexGrow:1}});let ve=class extends i.Component{render(){const{size:e,style:t}=this.props;return i.createElement(k,{"aria-hidden":"true",style:[to(e),t]})}};const to=s=>({width:s,MsFlexBasis:s,MsFlexPreferredSize:s,WebkitFlexBasis:s,flexBasis:s,flexShrink:0});function an(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}function Fe(){return Fe=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Fe.apply(this,arguments)}const V={cellMinHeight:h.xxLarge_48,cellPadding:{paddingVertical:h.small_12,paddingHorizontal:h.medium_16},detailCellPadding:{paddingVertical:h.medium_16,paddingHorizontal:h.medium_16},accessoryHorizontalSpacing:h.medium_16},no=s=>{switch(s){case"inset":return[lt.horizontalRule,lt.horizontalRuleInset];case"full-width":return lt.horizontalRule;case"none":return{}}},lt=S.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:h.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${u.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${V.cellPadding.paddingHorizontal}px)`}}}),oo=({leftAccessory:s,leftAccessoryStyle:e,disabled:t})=>s?i.createElement(i.Fragment,null,i.createElement(k,{style:[D.accessory,t&&D.accessoryDisabled,Fe({},e)]},s),i.createElement(ve,{size:V.accessoryHorizontalSpacing})):null,ro=({rightAccessory:s,rightAccessoryStyle:e,active:t,disabled:n})=>s?i.createElement(i.Fragment,null,i.createElement(ve,{size:V.accessoryHorizontalSpacing}),i.createElement(k,{style:[D.accessory,D.accessoryRight,n&&D.accessoryDisabled,Fe({},e),t&&D.accessoryActive]},s)):null;function Pt(s){const{active:e,children:t,disabled:n,horizontalRule:o="inset",contentStyle:r=void 0,leftAccessory:a=void 0,leftAccessoryStyle:l=void 0,rightAccessory:d=void 0,rightAccessoryStyle:c=void 0,style:f,testId:y,innerStyle:b}=s,m=no(o);return i.createElement(k,{style:[D.innerWrapper,b,f,m]},i.createElement(oo,{leftAccessory:a,leftAccessoryStyle:l,disabled:n}),i.createElement(k,{style:[D.content,r],testId:y},t),i.createElement(ro,{rightAccessory:d,rightAccessoryStyle:c,active:e,disabled:n}))}const ln=s=>{const{active:e,disabled:t,href:n,onClick:o,"aria-label":r,"aria-selected":a,target:l,role:d,rootStyle:c}=s;return o||n?i.createElement(on,{disabled:t,onClick:o,href:n,hideDefaultFocusRing:!0,"aria-label":r||void 0,"aria-selected":a||void 0,role:d,target:l,style:[D.wrapper,D.clickable,c,e&&D.active,t&&D.disabled],"aria-current":e?"true":void 0},()=>i.createElement(Pt,s)):i.createElement(k,{style:[D.wrapper,c,e&&D.active],"aria-current":e?"true":void 0,role:d},i.createElement(Pt,s))},D=S.StyleSheet.create({wrapper:{background:u.white,color:u.offBlack,display:"flex",minHeight:V.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:V.cellMinHeight,padding:`${V.cellPadding.paddingVertical}px ${V.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${V.cellPadding.paddingVertical-2}px ${V.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:u.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:h.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${h.xxxSmall_4}px)`,height:`calc(100% - ${h.xxxSmall_4}px)`,border:`${h.xxxxSmall_2}px solid ${u.blue}`,borderRadius:h.xxxSmall_4},":hover[aria-disabled=false]":{background:u.offBlack8},":active[aria-disabled=false]":{background:u.offBlack16}},active:{background:u.fadedBlue8,color:u.blue,":hover[aria-disabled=false]":{background:u.fadedBlue16},":active[aria-disabled=false]":{background:u.fadedBlue24}},disabled:{color:u.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:u.blue},accessoryDisabled:{color:u.offBlack,opacity:.32}}),so=["title"],io=function(e){const{title:t}=e,n=an(e,so);return i.createElement(ln,n,typeof t=="string"?i.createElement(X,null,t):t)},ao=["title","subtitle1","subtitle2"],Nt=({subtitle:s,disabled:e})=>s?typeof s=="string"?i.createElement(q,{style:!e&&dn.subtitle},s):s:null,lo=function(e){const{title:t,subtitle1:n,subtitle2:o}=e,r=an(e,ao);return i.createElement(ln,Fe({},r,{innerStyle:dn.innerWrapper}),i.createElement(Nt,{subtitle:n,disabled:r.disabled}),n&&i.createElement(ve,{size:h.xxxxSmall_2}),typeof t=="string"?i.createElement(X,null,t):t,o&&i.createElement(ve,{size:h.xxxxSmall_2}),i.createElement(Nt,{subtitle:o,disabled:r.disabled}))},dn=S.StyleSheet.create({subtitle:{color:u.offBlack64},innerWrapper:{padding:`${V.detailCellPadding.paddingVertical}px ${V.detailCellPadding.paddingHorizontal}px`}});function co(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}function te(){return te=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},te.apply(this,arguments)}const Wt=s=>{switch(s){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},uo={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},pe={enter:13,space:32},At={hovered:!1,focused:!1,pressed:!1,waiting:!1};let nt=class extends i.Component{static getDerivedStateFromProps(e,t){return e.disabled?te({},At,{focused:t.focused}):null}constructor(e){super(e),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=t=>{const{onClick:n=void 0,beforeNav:o=void 0,safeWithNav:r=void 0}=this.props;this.enterClick||((n||o||r)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(t))},this.handleMouseEnter=t=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=t=>{this.props.onMouseDown&&this.props.onMouseDown(t),this.setState({pressed:!0})},this.handleMouseUp=t=>{this.props.onMouseUp&&this.props.onMouseUp(t),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=t=>{const{onKeyDown:n,role:o}=this.props;n&&n(t);const r=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=Wt(o);a&&r===pe.enter||l&&r===pe.space?(t.preventDefault(),this.setState({pressed:!0})):!a&&r===pe.enter&&(this.enterClick=!0)},this.handleKeyUp=t=>{const{onKeyUp:n,role:o}=this.props;n&&n(t);const r=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=Wt(o);a&&r===pe.enter||l&&r===pe.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(t)):!a&&r===pe.enter&&(this.enterClick=!1)},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{this.setState({focused:!1,pressed:!1})},this.state=At,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(e){if(e){const{history:t,href:n,skipClientNav:o,target:r=void 0}=this.props;n&&(r==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):t&&!o?(t.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:n,history:o}=this.props;return o&&!n||this.props.target==="_blank"?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(r=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t=void 0,beforeNav:n=void 0,safeWithNav:o=void 0,href:r,type:a}=this.props;let l=!0,d=!0;if(t&&t(e),e.defaultPrevented&&(l=!1,d=!1),e.preventDefault(),!r&&a==="submit"&&d){let c=e.currentTarget;for(;c;){if(c instanceof window.HTMLFormElement){const f=new window.Event("submit",{bubbles:!0,cancelable:!0});c.dispatchEvent(f);break}c=c.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>o?this.handleSafeWithNav(o,l):this.navigateOrReset(l)).catch(()=>{});else{if(o)return this.handleSafeWithNav(o,l);this.navigateOrReset(l)}}render(){const e=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),t=this.props.disabled?te({},uo,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:n}=this.props;return n&&n(this.state,t)}};nt.defaultProps={disabled:!1};const cn=s=>typeof s!="string"?!1:!/^(https?:)?\/\//i.test(s)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(s),ho=et(nt);function un(s,e,t){return t&&e!==!0&&s&&cn(s)?ho:nt}const fo=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],po=O("a"),mo=O("button"),bo=O(xe),go=i.forwardRef(function(e,t){const n=(r,a,l)=>{const d=e.href&&!e.disabled,c=a&&!e.skipClientNav&&cn(e.href||"");return d&&c&&e.href?i.createElement(bo,te({},l,{to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(r)):d&&!c?i.createElement(po,te({},l,{href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(r)):i.createElement(mo,te({},l,{type:"button","aria-disabled":e.disabled,ref:t}),e.children(r))},o=r=>{const{href:a,onClick:l,skipClientNav:d,beforeNav:c=void 0,safeWithNav:f=void 0,style:y,target:b=void 0,testId:m,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,hideDefaultFocusRing:$,light:M,disabled:I,tabIndex:K}=e,U=co(e,fo),j=un(a,d,r),H=E=>[Ee.reset,Ee.link,!$&&E.focused&&(M?Ee.focusedLight:Ee.focused),I&&Ee.disabled,y];return c?i.createElement(j,{href:a,onClick:l,beforeNav:c,safeWithNav:f,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,disabled:I,tabIndex:K},(E,T)=>n(E,r,te({},U,{"data-test-id":m,style:H(E)},T))):i.createElement(j,{href:a,onClick:l,safeWithNav:f,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,target:b,disabled:I,tabIndex:K},(E,T)=>n(E,r,te({},U,{"data-test-id":m,style:H(E)},T)))};return i.createElement(he.Consumer,null,r=>o(r))});go.defaultProps={light:!1,disabled:!1};const Ee=S.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${u.blue}`}},focusedLight:{outline:`solid 2px ${u.white}`},disabled:{color:u.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${u.blue}`}}}),ce={radius:{xSmall_2:2,small_3:3,medium_4:4,large_6:6,xLarge_12:12,full:"50%"},width:{none:0,hairline:1,thin:2,thick:4}};function bt(){return bt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},bt.apply(this,arguments)}const B=(s,e)=>z(xt(s,e),R.white),p=bt({},R,{white32:xt(R.white,.32),activeBlue:z(R.offBlack32,R.blue),fadedBlue:B(R.blue,.32),fadedBlue24:B(R.blue,.24),fadedBlue16:B(R.blue,.16),fadedBlue8:B(R.blue,.08),activeRed:z(R.offBlack32,R.red),fadedRed:B(R.red,.32),fadedRed24:B(R.red,.24),fadedRed16:B(R.red,.16),fadedRed8:B(R.red,.08),fadedGreen24:B(R.green,.24),fadedGreen16:B(R.green,.16),fadedGold24:B(R.gold,.24),fadedGold16:B(R.gold,.16),fadedPurple24:B(R.purple,.24),fadedPurple16:B(R.purple,.16),eggplant:"#5f1e5c"});function vo(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}function ne(){return ne=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},ne.apply(this,arguments)}const zt=s=>{switch(s){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},yo={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},me={enter:13,space:32},Kt={hovered:!1,focused:!1,pressed:!1,waiting:!1};let Ot=class extends i.Component{static getDerivedStateFromProps(e,t){return e.disabled?ne({},Kt,{focused:t.focused}):null}constructor(e){super(e),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=t=>{const{onClick:n=void 0,beforeNav:o=void 0,safeWithNav:r=void 0}=this.props;this.enterClick||((n||o||r)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(t))},this.handleMouseEnter=t=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=t=>{this.props.onMouseDown&&this.props.onMouseDown(t),this.setState({pressed:!0})},this.handleMouseUp=t=>{this.props.onMouseUp&&this.props.onMouseUp(t),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=t=>{const{onKeyDown:n,role:o}=this.props;n&&n(t);const r=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=zt(o);a&&r===me.enter||l&&r===me.space?(t.preventDefault(),this.setState({pressed:!0})):!a&&r===me.enter&&(this.enterClick=!0)},this.handleKeyUp=t=>{const{onKeyUp:n,role:o}=this.props;n&&n(t);const r=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=zt(o);a&&r===me.enter||l&&r===me.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(t)):!a&&r===me.enter&&(this.enterClick=!1)},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{this.setState({focused:!1,pressed:!1})},this.state=Kt,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(e){if(e){const{history:t,href:n,skipClientNav:o,target:r=void 0}=this.props;n&&(r==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):t&&!o?(t.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:n,history:o}=this.props;return o&&!n||this.props.target==="_blank"?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(r=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t=void 0,beforeNav:n=void 0,safeWithNav:o=void 0,href:r,type:a}=this.props;let l=!0,d=!0;if(t&&t(e),e.defaultPrevented&&(l=!1,d=!1),e.preventDefault(),!r&&a==="submit"&&d){let c=e.currentTarget;for(;c;){if(c instanceof window.HTMLFormElement){const f=new window.Event("submit",{bubbles:!0,cancelable:!0});c.dispatchEvent(f);break}c=c.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>o?this.handleSafeWithNav(o,l):this.navigateOrReset(l)).catch(()=>{});else{if(o)return this.handleSafeWithNav(o,l);this.navigateOrReset(l)}}render(){const e=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),t=this.props.disabled?ne({},yo,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:n}=this.props;return n&&n(this.state,t)}};Ot.defaultProps={disabled:!1};const $t=s=>typeof s!="string"?!1:!/^(https?:)?\/\//i.test(s)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(s),xo=et(Ot);function Co(s,e,t){return t&&e!==!0&&s&&$t(s)?xo:Ot}const So=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],wo=O("a"),ko=O("button"),Eo=O(xe),Io=i.forwardRef(function(e,t){const n=(r,a,l)=>{const d=e.href&&!e.disabled,c=a&&!e.skipClientNav&&$t(e.href||"");return d&&c&&e.href?i.createElement(Eo,ne({},l,{to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(r)):d&&!c?i.createElement(wo,ne({},l,{href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(r)):i.createElement(ko,ne({},l,{type:"button","aria-disabled":e.disabled,ref:t}),e.children(r))},o=r=>{const{href:a,onClick:l,skipClientNav:d,beforeNav:c=void 0,safeWithNav:f=void 0,style:y,target:b=void 0,testId:m,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,hideDefaultFocusRing:$,light:M,disabled:I,tabIndex:K}=e,U=vo(e,So),j=Co(a,d,r),H=E=>[Ie.reset,Ie.link,!$&&E.focused&&(M?Ie.focusedLight:Ie.focused),I&&Ie.disabled,y];return c?i.createElement(j,{href:a,onClick:l,beforeNav:c,safeWithNav:f,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,disabled:I,tabIndex:K},(E,T)=>n(E,r,ne({},U,{"data-test-id":m,style:H(E)},T))):i.createElement(j,{href:a,onClick:l,safeWithNav:f,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,target:b,disabled:I,tabIndex:K},(E,T)=>n(E,r,ne({},U,{"data-test-id":m,style:H(E)},T)))};return i.createElement(he.Consumer,null,r=>o(r))});Io.defaultProps={light:!1,disabled:!1};const Ie=S.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${p.blue}`}},focusedLight:{outline:`solid 2px ${p.white}`},disabled:{color:p.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${p.blue}`}}});function N(){return N=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},N.apply(this,arguments)}function hn(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}const Oo=s=>{switch(s){case"xsmall":return"small";case"small":return"medium";case"medium":return"medium"}},$o=s=>({xsmall:24,small:32,medium:40})[s],ot={color:{bg:{hovered:"transparent",active:"transparent",disabled:"transparent",filled:{action:{hovered:"transparent",active:"transparent"},critical:{hovered:"transparent",active:"transparent"}}},stroke:{disabled:{default:p.offBlack32,inverse:p.white50},inverse:p.white,action:{default:p.blue,active:p.activeBlue,inverse:p.fadedBlue},critical:{default:p.red,active:p.activeRed,inverse:p.fadedRed},primary:{action:{hovered:p.blue,active:p.activeBlue},critical:{hovered:p.red,active:p.activeRed},inverse:{default:p.white,hovered:p.white}},secondary:{default:p.offBlack},tertiary:{default:p.offBlack64},filled:{action:{hovered:p.blue,active:p.activeBlue},critical:{hovered:p.red,active:p.activeRed}}}},border:{width:{default:ce.width.thin,active:ce.width.none,hovered:ce.width.thin,hoveredInverse:ce.width.thin},radius:{default:ce.radius.medium_4}}},Mo=St(ot,{color:{bg:{hovered:p.white,active:p.white64,filled:{action:{hovered:p.blue,active:p.activeBlue},critical:{hovered:p.red,active:p.activeRed}}},stroke:{action:{inverse:p.eggplant},critical:{inverse:p.eggplant},primary:{action:{hovered:p.eggplant,active:p.eggplant},critical:{hovered:p.eggplant,active:p.eggplant},inverse:{hovered:p.eggplant}},filled:{action:{hovered:p.white,active:p.white},critical:{hovered:p.white,active:p.white}}}},border:{width:{hovered:ce.width.none,hoveredInverse:ce.width.none}}}),_o={default:ot,khanmigo:Mo},fn=wt(ot);function Fo(s){var e;const t=i.useContext(kt),n=(e=_o[t])!=null?e:ot;return i.createElement(fn.Provider,{value:n},s.children)}const Ro=["color","disabled","href","icon","kind","light","size","skipClientNav","style","testId"];function To({icon:s,size:e}){switch(Oo(e)){case"small":return i.createElement(Z,{size:"small",color:"currentColor",icon:s});case"medium":default:return i.createElement(Z,{size:"medium",color:"currentColor",icon:s})}}const Bo=O("a"),Do=O("button"),Lo=O(xe),Po=i.forwardRef(function(e,t){const{color:n,disabled:o,href:r,icon:a,kind:l="primary",light:d=!1,size:c="medium",skipClientNav:f,style:y,testId:b}=e,m=hn(e,Ro),{theme:v,themeName:g}=Ce(fn),x=C=>{const w=Ao(n,l,d,c,v,g),$=[No.shared,w.default,o&&w.disabled],M=i.createElement(To,{size:c,icon:a}),I=N({"data-test-id":b,style:[$,y]},m);return r&&!o?C&&!f&&$t(r)?i.createElement(Lo,N({},I,{to:r,ref:t}),M):i.createElement(Bo,N({},I,{href:r,ref:t}),M):i.createElement(Do,N({type:"button"},I,{onClick:o?void 0:m.onClick,"aria-disabled":o,ref:t}),M)};return i.createElement(he.Consumer,null,C=>x(C))}),No=S.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:-8,touchAction:"manipulation"}}),Le={};function Wo(s,e,t,n,o){switch(s){case"primary":const r=o==="destructive"?e.color.stroke.primary.critical.hovered:e.color.stroke.primary.action.hovered;return{":hover":{backgroundColor:e.color.bg.hovered,color:n?e.color.stroke.primary.inverse.hovered:r,outlineColor:n?e.color.stroke.inverse:t,outlineOffset:1,outlineStyle:"solid",outlineWidth:n?e.border.width.hoveredInverse:e.border.width.hovered},":active":{backgroundColor:e.color.bg.active}};case"secondary":case"tertiary":return{":hover":{backgroundColor:o==="destructive"?e.color.bg.filled.critical.hovered:e.color.bg.filled.action.hovered,color:o==="destructive"?e.color.stroke.filled.critical.hovered:e.color.stroke.filled.action.hovered,outlineWidth:e.border.width.active},":active":{backgroundColor:o==="destructive"?e.color.bg.filled.critical.active:e.color.bg.filled.action.active,color:o==="destructive"?e.color.stroke.filled.critical.active:e.color.stroke.filled.action.active,outlineWidth:e.border.width.active}};default:return{":focus-visible":{},":hover":{},":active":{}}}}const Ao=(s="default",e,t,n,o,r)=>{const a=s==="destructive"?o.color.stroke.critical.default:o.color.stroke.action.default,l=`${a}-${e}-${t}-${n}-${r}`;if(Le[l])return Le[l];if(t&&e!=="primary")throw new Error("Light is only supported for primary IconButtons");const d=(()=>{switch(e){case"primary":return t?o.color.stroke.primary.inverse.default:a;case"secondary":return o.color.stroke.secondary.default;case"tertiary":return o.color.stroke.tertiary.default;default:throw new Error("IconButton kind not recognized")}})(),c=$o(n),f=Wo(e,o,a,t,s),y=s==="destructive"?o.color.stroke.critical.inverse:o.color.stroke.action.inverse,b=s==="destructive"?o.color.stroke.critical.active:o.color.stroke.action.active,m=t?o.color.stroke.inverse:a,v=t?o.color.stroke.disabled.inverse:o.color.stroke.disabled.default,g={backgroundColor:o.color.bg.disabled,color:v,outlineColor:v},x={default:{height:c,width:c,color:d,borderRadius:o.border.radius.default,":hover":N({boxShadow:"none",color:m,borderRadius:o.border.radius.default,outlineWidth:o.border.width.default},f[":hover"]),"@media not (hover: hover)":{":hover":{boxShadow:"none",color:d,borderRadius:o.border.radius.default,outline:"none",backgroundColor:"transparent"}},":focus":{boxShadow:`0 0 0 ${o.border.width.default}px ${m}`,borderRadius:o.border.radius.default},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":N({boxShadow:"none",outlineWidth:o.border.width.default,outlineColor:m,outlineOffset:1,outlineStyle:"solid",borderRadius:o.border.radius.default},f[":focus-visible"]),":active":N({color:t?y:b,outlineWidth:o.border.width.default,outlineColor:t?y:b,outlineOffset:1,outlineStyle:"solid",borderRadius:o.border.radius.default},f[":active"])},disabled:{color:v,cursor:"not-allowed",":hover":N({},g,{outline:"none"}),":active":N({},g,{outline:"none"}),":focus":{boxShadow:`0 0 0 ${o.border.width.default}px ${v}`,borderRadius:o.border.radius.default},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":g}};return Le[l]=S.StyleSheet.create(x),Le[l]},zo=["color","disabled","href","kind","light","size","skipClientNav","tabIndex","target"],Ko=i.forwardRef(function(e,t){const{color:n="default",disabled:o=!1,href:r,kind:a="primary",light:l=!1,size:d="medium",skipClientNav:c,tabIndex:f,target:y}=e,b=hn(e,zo);function m(g){const x=g.key;!r&&(x==="Enter"||x==="Space")&&g.preventDefault()}function v(g){const x=g.key;!r&&(x==="Enter"||x==="Space")&&b.onClick&&b.onClick(g)}return i.createElement(Fo,null,i.createElement(Po,N({},b,{color:n,disabled:o,href:r,kind:a,light:l,ref:t,skipClientNav:c,size:d,target:y,tabIndex:f,onKeyDown:m,onKeyUp:v})))}),Ut=h.large_24,Uo={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:h.medium_16,marginWidth:h.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:h.xLarge_32,marginWidth:h.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:h.xLarge_32,marginWidth:Ut,maxWidth:1120+Ut*2}},jo={ssrSize:"large",mediaSpec:Uo},Ho=i.createContext(jo);Ho.displayName="MediaLayoutContext";S.StyleSheet.create({grow:{flexGrow:1}});class ue extends i.Component{render(){const{size:e,style:t}=this.props;return i.createElement(k,{"aria-hidden":"true",style:[Vo(e),t]})}}const Vo=s=>({width:s,MsFlexBasis:s,MsFlexPreferredSize:s,WebkitFlexBasis:s,flexBasis:s,flexShrink:0});function G(){return G=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},G.apply(this,arguments)}function Se(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}const qo=["checked","disabled","error","groupName","id","testId"];function Go(s){switch(s){case!0:return"true";case!1:return"false";default:return"mixed"}}const{blue:pn,red:mn,white:J,offWhite:Yo,offBlack16:Zo,offBlack32:Xo,offBlack50:Qo}=p,Oe=h.medium_16,gt=h.small_12,Jo=O("input"),er=i.forwardRef(function(e,t){const{checked:n,disabled:o,error:r,groupName:a,id:l,testId:d}=e,c=Se(e,qo),f=i.useRef(null);i.useEffect(()=>{f.current!=null&&(f.current.indeterminate=n==null)},[n,f]);const y=()=>{},b=or(n,r),m=[Pe.inputReset,Pe.default,!o&&b.default,o&&Pe.disabled],v=i.createElement(Z,{color:o?Xo:J,icon:n?Ct:Ln,size:"small",style:[Pe.checkboxIcon,{width:gt,height:gt}]}),g=Go(n);return i.createElement(i.Fragment,null,i.createElement(Jo,G({},c,{ref:x=>{f.current=x,typeof t=="function"?t(x):t!=null&&(t.current=x)},type:"checkbox","aria-checked":g,"aria-invalid":r,checked:n??void 0,disabled:o,id:l,name:a,onChange:y,style:m,"data-test-id":d})),n||n==null?v:i.createElement(i.Fragment,null))}),Pe=S.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:Oe,width:Oe,minHeight:Oe,minWidth:Oe,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:1,borderRadius:3},disabled:{cursor:"auto",backgroundColor:Yo,borderColor:Zo,borderWidth:1},checkboxIcon:{position:"absolute",pointerEvents:"none",margin:(Oe-gt)/2}}),tr=z(p.fadedBlue16,J),nr=p.activeBlue,Ye=z(p.fadedRed8,J),bn=p.activeRed,jt={default:{faded:tr,base:pn,active:nr},error:{faded:Ye,base:mn,active:bn}},Ne={},or=(s,e)=>{const t=`${String(s)}-${String(e)}`;if(Ne[t])return Ne[t];const n=e?jt.error:jt.default;let o={};return s||s==null?o={default:{backgroundColor:n.base,borderWidth:0,":focus-visible":{boxShadow:`0 0 0 1px ${J}, 0 0 0 3px ${n.base}`},":hover":{boxShadow:`0 0 0 1px ${J}, 0 0 0 3px ${n.base}`},":active":{boxShadow:`0 0 0 1px ${J}, 0 0 0 3px ${n.active}`,background:n.active}}}:o={default:{backgroundColor:e?Ye:J,borderColor:e?mn:Qo,":focus-visible":{backgroundColor:e?Ye:J,borderColor:n.base,borderWidth:2},":hover":{backgroundColor:e?Ye:J,borderColor:n.base,borderWidth:2},":active":{backgroundColor:n.faded,borderColor:e?bn:pn,borderWidth:2}}},Ne[t]=S.StyleSheet.create(o),Ne[t]},rr=["checked","disabled","error","groupName","id","testId"],{blue:gn,red:vn,white:Q,offWhite:sr,offBlack16:ir,offBlack32:ar,offBlack50:lr}=p,dr=O("input"),cr=i.forwardRef(function(e,t){const n=()=>{},{checked:o,disabled:r,error:a,groupName:l,id:d,testId:c}=e,f=Se(e,rr),y=fr(o,a),b=[dt.inputReset,dt.default,!r&&y.default,r&&dt.disabled];return i.createElement(i.Fragment,null,i.createElement(dr,G({},f,{type:"radio","aria-invalid":a,checked:o??void 0,disabled:r,id:d,name:l,onChange:n,style:b,"data-test-id":c,ref:t})),r&&o&&i.createElement("span",{style:ur}))}),re=16,ur={position:"absolute",top:re/4,left:re/4,height:re/2,width:re/2,borderRadius:"50%",backgroundColor:ar},dt=S.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:re,width:re,minHeight:re,minWidth:re,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:1,borderRadius:"50%"},disabled:{cursor:"auto",backgroundColor:sr,borderColor:ir,borderWidth:1}}),hr=z(p.fadedBlue16,Q),Ze=z(p.fadedRed8,Q),Ht={default:{faded:hr,base:gn,active:p.activeBlue},error:{faded:Ze,base:vn,active:p.activeRed}},We={},fr=(s,e)=>{const t=`${String(s)}-${String(e)}`;if(We[t])return We[t];const n=e?Ht.error:Ht.default;let o={};return s?o={default:{backgroundColor:Q,borderColor:n.base,borderWidth:re/4,":focus-visible":{boxShadow:`0 0 0 1px ${Q}, 0 0 0 3px ${n.base}`},":hover":{boxShadow:`0 0 0 1px ${Q}, 0 0 0 3px ${n.base}`},":active":{boxShadow:`0 0 0 1px ${Q}, 0 0 0 3px ${n.active}`,borderColor:n.active}}}:o={default:{backgroundColor:e?Ze:Q,borderColor:e?vn:lr,":focus-visible":{backgroundColor:e?Ze:Q,borderColor:n.base,borderWidth:2},":hover":{backgroundColor:e?Ze:Q,borderColor:n.base,borderWidth:2},":active":{backgroundColor:n.faded,borderColor:e?p.activeRed:gn,borderWidth:2}}},We[t]=S.StyleSheet.create(o),We[t]},pr=["checked","description","disabled","error","id","label","onChange","style","className","variant"],yn=i.forwardRef(function(e,t){const{checked:n,description:o,disabled:r=!1,error:a=!1,id:l,label:d,onChange:c,style:f,className:y,variant:b}=e,m=Se(e,pr),v=()=>{b==="radio"&&n||c(!n)},g=()=>b==="radio"?cr:er,x=$=>i.createElement(X,{style:[Ae.label,r&&Ae.disabledLabel]},i.createElement("label",{htmlFor:$},d)),C=$=>i.createElement(q,{style:Ae.description,id:$},o),w=g();return i.createElement(Dn,{mockOnFirstRender:!0,scope:"choice"},$=>{const M=l||$.get("main"),I=o?$.get("description"):void 0;return i.createElement(k,{style:f,className:y},i.createElement(k,{style:Ae.wrapper,tabIndex:-1},i.createElement(w,G({},m,{id:M,checked:n,"aria-describedby":I,onClick:v,disabled:r,error:a,ref:t})),i.createElement(ue,{size:h.xSmall_8}),d&&x(M)),o&&C(I))})}),Ae=S.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"flex-start",outline:"none"},label:{marginTop:-2},disabledLabel:{color:p.offBlack32},description:{marginLeft:h.medium_16+h.xSmall_8,marginTop:h.xxxSmall_4,color:p.offBlack64}}),mr=i.forwardRef(function(e,t){const{disabled:n=!1,error:o=!1}=e;return i.createElement(yn,G({},e,{variant:"checkbox",disabled:n,error:o,ref:t}))}),br=["disabled","error"],gr=i.forwardRef(function(e,t){const{disabled:n=!1,error:o=!1}=e,r=Se(e,br);return i.createElement(yn,G({},r,{variant:"radio",disabled:n,error:o,ref:t}))}),vr=["checked","disabled","onChange","value","variant"];i.forwardRef(function(e,t){const{checked:n=!1,disabled:o=!1,onChange:r=()=>{},variant:a}=e,l=Se(e,vr),c=(f=>f==="checkbox"?mr:gr)(a);return i.createElement(c,G({},l,{checked:n,disabled:o,onChange:r,ref:t}))});const Y=S.StyleSheet.create({fieldset:{border:"none",padding:0,margin:0},legend:{padding:0},description:{marginTop:h.xxxSmall_4,color:p.offBlack64},error:{marginTop:h.xxxSmall_4,color:p.red},defaultLineGap:{marginTop:h.xSmall_8}}),yr=O("fieldset"),xr=O("legend");i.forwardRef(function(e,t){const{children:n,label:o,description:r,errorMessage:a,groupName:l,onChange:d,selectedValues:c,style:f,testId:y}=e,b=(v,g)=>{if(g){const x=c.indexOf(v),C=[...c.slice(0,x),...c.slice(x+1)];d(C)}else d([...c,v])},m=i.Children.toArray(n).filter(Boolean);return i.createElement(yr,{"data-test-id":y,style:Y.fieldset,ref:t},i.createElement(k,{style:f},o&&i.createElement(xr,{style:Y.legend},i.createElement(X,null,o)),r&&i.createElement(q,{style:Y.description},r),a&&i.createElement(q,{style:Y.error},a),(o||r||a)&&i.createElement(ue,{size:h.small_12}),m.map((v,g)=>{const{style:x,value:C}=v.props,w=c.includes(C);return i.cloneElement(v,{checked:w,error:!!a,groupName:l,id:`${l}-${C}`,key:C,onChange:()=>b(C,w),style:[g>0&&Y.defaultLineGap,x],variant:"checkbox"})})))});const Cr=O("fieldset"),Sr=O("legend");i.forwardRef(function(e,t){const{children:n,label:o,description:r,errorMessage:a,groupName:l,onChange:d,selectedValue:c,style:f,testId:y}=e,b=i.Children.toArray(n).filter(Boolean);return i.createElement(Cr,{"data-test-id":y,style:Y.fieldset,ref:t},i.createElement(k,{style:f},o&&i.createElement(Sr,{style:Y.legend},i.createElement(X,null,o)),r&&i.createElement(q,{style:Y.description},r),a&&i.createElement(q,{style:Y.error},a),(o||r||a)&&i.createElement(ue,{size:h.small_12}),b.map((m,v)=>{const{style:g,value:x}=m.props,C=c===x;return i.cloneElement(m,{checked:C,error:!!a,groupName:l,id:`${l}-${x}`,key:x,onChange:()=>d(x),style:[v>0&&Y.defaultLineGap,g],variant:"radio"})})))});const wr=["id","type","value","name","disabled","onKeyDown","placeholder","light","style","testId","readOnly","autoFocus","autoComplete","forwardedRef","onFocus","onBlur","onValidate","validate","onChange","required"],kr="This field is required.",Er=O("input");class xn extends i.Component{constructor(e){super(e),this.state={error:null,focused:!1},this.maybeValidate=t=>{const{validate:n,onValidate:o,required:r}=this.props;if(n){const a=n(t)||null;this.setState({error:a},()=>{o&&o(a)})}else if(r){const l=t?null:typeof r=="string"?r:kr;this.setState({error:l},()=>{o&&o(l)})}},this.handleChange=t=>{const{onChange:n}=this.props,o=t.target.value;this.maybeValidate(o),n(o)},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{const{onBlur:n}=this.props;this.setState({focused:!1},()=>{n&&n(t)})},e.validate&&e.value!==""&&(this.state.error=e.validate(e.value)||null)}componentDidMount(){this.props.value!==""&&this.maybeValidate(this.props.value)}render(){const e=this.props,{id:t,type:n,value:o,name:r,disabled:a,onKeyDown:l,placeholder:d,light:c,style:f,testId:y,readOnly:b,autoFocus:m,autoComplete:v,forwardedRef:g}=e,x=Se(e,wr);return i.createElement(Er,G({style:[ie.input,Jt.LabelMedium,ie.default,a?ie.disabled:this.state.focused?[ie.focused,c&&ie.defaultLight]:!!this.state.error&&[ie.error,c&&ie.errorLight],!!this.state.error&&ie.error,f&&f],id:t,type:n,placeholder:d,value:o,name:r,disabled:a,onChange:this.handleChange,onKeyDown:l,onFocus:this.handleFocus,onBlur:this.handleBlur,"data-test-id":y,readOnly:b,autoFocus:m,autoComplete:v,ref:g},x))}}xn.defaultProps={type:"text",disabled:!1,light:!1};const ie=S.StyleSheet.create({input:{width:"100%",height:40,borderRadius:4,boxSizing:"border-box",paddingLeft:h.medium_16,margin:0,outline:"none",boxShadow:"none"},default:{background:p.white,border:`1px solid ${p.offBlack16}`,color:p.offBlack,"::placeholder":{color:p.offBlack64}},error:{background:`${z(p.fadedRed8,p.white)}`,border:`1px solid ${p.red}`,color:p.offBlack,"::placeholder":{color:p.offBlack64}},disabled:{background:p.offWhite,border:`1px solid ${p.offBlack16}`,color:p.offBlack64,"::placeholder":{color:p.offBlack32}},focused:{background:p.white,border:`1px solid ${p.blue}`,color:p.offBlack,"::placeholder":{color:p.offBlack64}},defaultLight:{boxShadow:`0px 0px 0px 1px ${p.blue}, 0px 0px 0px 2px ${p.white}`},errorLight:{boxShadow:`0px 0px 0px 1px ${p.red}, 0px 0px 0px 2px ${p.white}`}});var Cn=i.forwardRef((s,e)=>i.createElement(xn,G({},s,{forwardedRef:e})));const Ir=O("span");class Or extends i.Component{renderLabel(){const{label:e,id:t,required:n,testId:o}=this.props,r=i.createElement(Ir,{style:ze.required,"aria-hidden":!0}," ","*");return i.createElement(i.Fragment,null,i.createElement(X,{style:ze.label,tag:"label",htmlFor:t&&`${t}-field`,testId:o&&`${o}-label`},e,n&&r),i.createElement(ue,{size:h.xxxSmall_4}))}maybeRenderDescription(){const{description:e,testId:t}=this.props;return e?i.createElement(i.Fragment,null,i.createElement(q,{style:ze.description,testId:t&&`${t}-description`},e),i.createElement(ue,{size:h.xxxSmall_4})):null}maybeRenderError(){const{error:e,id:t,testId:n}=this.props;return e?i.createElement(i.Fragment,null,i.createElement(ue,{size:h.small_12}),i.createElement(q,{style:ze.error,role:"alert",id:t&&`${t}-error`,testId:n&&`${n}-error`},e)):null}render(){const{field:e,style:t}=this.props;return i.createElement(k,{style:t},this.renderLabel(),this.maybeRenderDescription(),i.createElement(ue,{size:h.xSmall_8}),e,this.maybeRenderError())}}const ze=S.StyleSheet.create({label:{color:p.offBlack},description:{color:p.offBlack64},error:{color:p.red},required:{color:p.red}});class Sn extends i.Component{constructor(e){super(e),this.handleValidate=t=>{const{onValidate:n}=this.props;this.setState({error:t},()=>{n&&n(t)})},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{const{onBlur:n}=this.props;this.setState({focused:!1},()=>{n&&n(t)})},this.state={error:null,focused:!1}}render(){const{id:e,type:t,label:n,description:o,value:r,disabled:a,required:l,validate:d,onChange:c,onKeyDown:f,placeholder:y,light:b,style:m,testId:v,readOnly:g,autoComplete:x,forwardedRef:C,ariaDescribedby:w}=this.props;return i.createElement(yt,{id:e,scope:"labeled-text-field"},$=>i.createElement(Or,{id:$,testId:v,style:m,field:i.createElement(Cn,{id:`${$}-field`,"aria-describedby":w||`${$}-error`,"aria-invalid":this.state.error?"true":"false","aria-required":l?"true":"false",required:l,testId:v&&`${v}-field`,type:t,value:r,placeholder:y,disabled:a,validate:d,onValidate:this.handleValidate,onChange:c,onKeyDown:f,onFocus:this.handleFocus,onBlur:this.handleBlur,light:b,readOnly:g,autoComplete:x,ref:C}),label:n,description:o,required:!!l,error:!this.state.focused&&this.state.error||""}))}}Sn.defaultProps={type:"text",disabled:!1,light:!1};i.forwardRef((s,e)=>i.createElement(Sn,G({},s,{forwardedRef:e})));function vt(){return vt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},vt.apply(this,arguments)}function $r(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}const Mr={clearSearch:"Clear search"},_r=["clearAriaLabel","autoFocus","disabled","light","id","value","placeholder","style","testId","onClick","onChange","onFocus","onBlur"],Fr=i.forwardRef(function(e,t){const{clearAriaLabel:n=Mr.clearSearch,autoFocus:o,disabled:r=!1,light:a=!1,id:l,value:d,placeholder:c,style:f,testId:y,onClick:b,onChange:m,onFocus:v,onBlur:g}=e,x=$r(e,_r),C=i.useRef(null),w=()=>{var M;m(""),C==null||(M=C.current)==null||M.focus()},$=()=>d.length?i.createElement(Ko,{icon:en,kind:"tertiary",onClick:w,style:Ke.dismissIcon,"aria-label":n}):null;return i.createElement(yt,{id:l,scope:"search-field"},M=>i.createElement(k,{onClick:b,style:[Ke.inputContainer,f]},i.createElement(Z,{icon:Pn,size:"medium",color:p.offBlack64,style:Ke.searchIcon,"aria-hidden":"true"}),i.createElement(Cn,vt({id:`${M}-field`,type:"text",autoFocus:o,disabled:r,light:a,onChange:m,onFocus:v,onBlur:g,placeholder:c,ref:I=>{t&&(t.current=I),C.current=I},value:d,style:[Ke.inputStyleReset,Jt.LabelMedium],testId:y},x)),$()))}),Ke=S.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:h.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:h.xSmall_8,marginRight:h.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:0,":hover":{border:"none"}},inputStyleReset:{display:"flex",flex:1,"::placeholder":{color:p.offBlack64},width:"100%",color:"inherit",paddingLeft:h.large_24+h.medium_16,paddingRight:h.large_24+h.medium_16}});function Rr(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}function oe(){return oe=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},oe.apply(this,arguments)}const Vt=s=>{switch(s){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};case"button":case"menuitem":case"menu":case"option":default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},Tr={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},be={enter:13,space:32},qt={hovered:!1,focused:!1,pressed:!1,waiting:!1};class Mt extends i.Component{static getDerivedStateFromProps(e,t){return e.disabled?oe({},qt,{focused:t.focused}):null}constructor(e){super(e),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=t=>{const{onClick:n=void 0,beforeNav:o=void 0,safeWithNav:r=void 0}=this.props;this.enterClick||((n||o||r)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(t))},this.handleMouseEnter=t=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=t=>{this.props.onMouseDown&&this.props.onMouseDown(t),this.setState({pressed:!0})},this.handleMouseUp=t=>{this.props.onMouseUp&&this.props.onMouseUp(t),this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=t=>{const{onKeyDown:n,role:o}=this.props;n&&n(t);const r=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=Vt(o);a&&r===be.enter||l&&r===be.space?(t.preventDefault(),this.setState({pressed:!0})):!a&&r===be.enter&&(this.enterClick=!0)},this.handleKeyUp=t=>{const{onKeyUp:n,role:o}=this.props;n&&n(t);const r=t.which||t.keyCode,{triggerOnEnter:a,triggerOnSpace:l}=Vt(o);a&&r===be.enter||l&&r===be.space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(t)):!a&&r===be.enter&&(this.enterClick=!1)},this.handleFocus=t=>{const{onFocus:n}=this.props;this.setState({focused:!0},()=>{n&&n(t)})},this.handleBlur=t=>{this.setState({focused:!1,pressed:!1})},this.state=qt,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(e){if(e){const{history:t,href:n,skipClientNav:o,target:r=void 0}=this.props;n&&(r==="_blank"?(window.open(n,"_blank"),this.setState({waiting:!1})):t&&!o?(t.push(n),this.setState({waiting:!1})):window.location.assign(n))}else this.setState({waiting:!1})}handleSafeWithNav(e,t){const{skipClientNav:n,history:o}=this.props;return o&&!n||this.props.target==="_blank"?(e(),this.navigateOrReset(t),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),e().then(()=>{this.state.waiting||this.setState({waiting:!0})}).catch(r=>{}).finally(()=>{this.navigateOrReset(t)}))}runCallbackAndMaybeNavigate(e){const{onClick:t=void 0,beforeNav:n=void 0,safeWithNav:o=void 0,href:r,type:a}=this.props;let l=!0,d=!0;if(t&&t(e),e.defaultPrevented&&(l=!1,d=!1),e.preventDefault(),!r&&a==="submit"&&d){let c=e.currentTarget;for(;c;){if(c instanceof window.HTMLFormElement){const f=new window.Event("submit",{bubbles:!0,cancelable:!0});c.dispatchEvent(f);break}c=c.parentElement}}if(n)this.setState({waiting:!0}),n().then(()=>o?this.handleSafeWithNav(o,l):this.navigateOrReset(l)).catch(()=>{});else{if(o)return this.handleSafeWithNav(o,l);this.navigateOrReset(l)}}render(){const e=this.props.rel||(this.props.target==="_blank"?"noopener noreferrer":void 0),t=this.props.disabled?oe({},Tr,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex,rel:e},{children:n}=this.props;return n&&n(this.state,t)}}Mt.defaultProps={disabled:!1};const _t=s=>typeof s!="string"?!1:!/^(https?:)?\/\//i.test(s)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(s),Br=et(Mt);function Dr(s,e,t){return t&&e!==!0&&s&&_t(s)?Br:Mt}const Lr=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","hideDefaultFocusRing","light","disabled","tabIndex"],Pr=O("a"),Nr=O("button"),Wr=O(xe),Ar=i.forwardRef(function(e,t){const n=(r,a,l)=>{const d=e.href&&!e.disabled,c=a&&!e.skipClientNav&&_t(e.href||"");return d&&c&&e.href?i.createElement(Wr,oe({},l,{to:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(r)):d&&!c?i.createElement(Pr,oe({},l,{href:e.href,role:e.role,target:e.target||void 0,"aria-disabled":e.disabled?"true":"false",ref:t}),e.children(r)):i.createElement(Nr,oe({},l,{type:"button","aria-disabled":e.disabled,ref:t}),e.children(r))},o=r=>{const{href:a,onClick:l,skipClientNav:d,beforeNav:c=void 0,safeWithNav:f=void 0,style:y,target:b=void 0,testId:m,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,hideDefaultFocusRing:$,light:M,disabled:I,tabIndex:K}=e,U=Rr(e,Lr),j=Dr(a,d,r),H=E=>[$e.reset,$e.link,!$&&E.focused&&(M?$e.focusedLight:$e.focused),I&&$e.disabled,y];return c?i.createElement(j,{href:a,onClick:l,beforeNav:c,safeWithNav:f,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,disabled:I,tabIndex:K},(E,T)=>n(E,r,oe({},U,{"data-test-id":m,style:H(E)},T))):i.createElement(j,{href:a,onClick:l,safeWithNav:f,onFocus:v,onKeyDown:g,onKeyUp:x,onMouseDown:C,onMouseUp:w,target:b,disabled:I,tabIndex:K},(E,T)=>n(E,r,oe({},U,{"data-test-id":m,style:H(E)},T)))};return i.createElement(he.Consumer,null,r=>o(r))});Ar.defaultProps={light:!1,disabled:!1};const $e=S.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${u.blue}`}},focusedLight:{outline:`solid 2px ${u.white}`},disabled:{color:u.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${u.blue}`}}});function W(){return W=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},W.apply(this,arguments)}function wn(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}const zr=s=>{switch(s){case"xsmall":return"small";case"small":return"medium";case"medium":return"medium"}},Kr=s=>({xsmall:24,small:32,medium:40})[s],rt={color:{bg:{hovered:"transparent",active:"transparent",disabled:"transparent",filled:{action:{hovered:"transparent",active:"transparent"},critical:{hovered:"transparent",active:"transparent"}}},stroke:{disabled:{default:u.offBlack32,inverse:u.white50},inverse:u.white,action:{default:u.blue,active:u.activeBlue,inverse:u.fadedBlue},critical:{default:u.red,active:u.activeRed,inverse:u.fadedRed},primary:{action:{hovered:u.blue,active:u.activeBlue},critical:{hovered:u.red,active:u.activeRed},inverse:{default:u.white,hovered:u.white}},secondary:{default:u.offBlack},tertiary:{default:u.offBlack64},filled:{action:{hovered:u.blue,active:u.activeBlue},critical:{hovered:u.red,active:u.activeRed}}}},border:{width:{default:L.width.thin,active:L.width.none,hovered:L.width.thin,hoveredInverse:L.width.thin},radius:{default:L.radius.medium_4}}},Ur=St(rt,{color:{bg:{hovered:u.white,active:u.white64,filled:{action:{hovered:u.blue,active:u.activeBlue},critical:{hovered:u.red,active:u.activeRed}}},stroke:{action:{inverse:u.eggplant},critical:{inverse:u.eggplant},primary:{action:{hovered:u.eggplant,active:u.eggplant},critical:{hovered:u.eggplant,active:u.eggplant},inverse:{hovered:u.eggplant}},filled:{action:{hovered:u.white,active:u.white},critical:{hovered:u.white,active:u.white}}}},border:{width:{hovered:L.width.none,hoveredInverse:L.width.none}}}),jr={default:rt,khanmigo:Ur},kn=wt(rt);function Hr(s){var e;const t=i.useContext(kt),n=(e=jr[t])!=null?e:rt;return i.createElement(kn.Provider,{value:n},s.children)}const Vr=["color","disabled","href","icon","kind","light","size","skipClientNav","style","testId"];function qr({icon:s,size:e}){switch(zr(e)){case"small":return i.createElement(Z,{size:"small",color:"currentColor",icon:s});case"medium":default:return i.createElement(Z,{size:"medium",color:"currentColor",icon:s})}}const Gr=O("a"),Yr=O("button"),Zr=O(xe),Xr=i.forwardRef(function(e,t){const{color:n,disabled:o,href:r,icon:a,kind:l="primary",light:d=!1,size:c="medium",skipClientNav:f,style:y,testId:b}=e,m=wn(e,Vr),{theme:v,themeName:g}=Ce(kn),x=C=>{const w=es(n,l,d,c,v,g),$=[Qr.shared,w.default,o&&w.disabled],M=i.createElement(qr,{size:c,icon:a}),I=W({"data-test-id":b,style:[$,y]},m);return r&&!o?C&&!f&&_t(r)?i.createElement(Zr,W({},I,{to:r,ref:t}),M):i.createElement(Gr,W({},I,{href:r,ref:t}),M):i.createElement(Yr,W({type:"button"},I,{onClick:o?void 0:m.onClick,"aria-disabled":o,ref:t}),M)};return i.createElement(he.Consumer,null,C=>x(C))}),Qr=S.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:-8,touchAction:"manipulation"}}),Ue={};function Jr(s,e,t,n,o){switch(s){case"primary":const r=o==="destructive"?e.color.stroke.primary.critical.hovered:e.color.stroke.primary.action.hovered;return{":hover":{backgroundColor:e.color.bg.hovered,color:n?e.color.stroke.primary.inverse.hovered:r,outlineColor:n?e.color.stroke.inverse:t,outlineOffset:1,outlineStyle:"solid",outlineWidth:n?e.border.width.hoveredInverse:e.border.width.hovered},":active":{backgroundColor:e.color.bg.active}};case"secondary":case"tertiary":return{":hover":{backgroundColor:o==="destructive"?e.color.bg.filled.critical.hovered:e.color.bg.filled.action.hovered,color:o==="destructive"?e.color.stroke.filled.critical.hovered:e.color.stroke.filled.action.hovered,outlineWidth:e.border.width.active},":active":{backgroundColor:o==="destructive"?e.color.bg.filled.critical.active:e.color.bg.filled.action.active,color:o==="destructive"?e.color.stroke.filled.critical.active:e.color.stroke.filled.action.active,outlineWidth:e.border.width.active}};default:return{":focus-visible":{},":hover":{},":active":{}}}}const es=(s="default",e,t,n,o,r)=>{const a=s==="destructive"?o.color.stroke.critical.default:o.color.stroke.action.default,l=`${a}-${e}-${t}-${n}-${r}`;if(Ue[l])return Ue[l];if(t&&e!=="primary")throw new Error("Light is only supported for primary IconButtons");const d=(()=>{switch(e){case"primary":return t?o.color.stroke.primary.inverse.default:a;case"secondary":return o.color.stroke.secondary.default;case"tertiary":return o.color.stroke.tertiary.default;default:throw new Error("IconButton kind not recognized")}})(),c=Kr(n),f=Jr(e,o,a,t,s),y=s==="destructive"?o.color.stroke.critical.inverse:o.color.stroke.action.inverse,b=s==="destructive"?o.color.stroke.critical.active:o.color.stroke.action.active,m=t?o.color.stroke.inverse:a,v=t?o.color.stroke.disabled.inverse:o.color.stroke.disabled.default,g={backgroundColor:o.color.bg.disabled,color:v,outlineColor:v},x={default:{height:c,width:c,color:d,borderRadius:o.border.radius.default,":hover":W({boxShadow:"none",color:m,borderRadius:o.border.radius.default,outlineWidth:o.border.width.default},f[":hover"]),"@media not (hover: hover)":{":hover":{boxShadow:"none",color:d,borderRadius:o.border.radius.default,outline:"none",backgroundColor:"transparent"}},":focus":{boxShadow:`0 0 0 ${o.border.width.default}px ${m}`,borderRadius:o.border.radius.default},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":W({boxShadow:"none",outlineWidth:o.border.width.default,outlineColor:m,outlineOffset:1,outlineStyle:"solid",borderRadius:o.border.radius.default},f[":focus-visible"]),":active":W({color:t?y:b,outlineWidth:o.border.width.default,outlineColor:t?y:b,outlineOffset:1,outlineStyle:"solid",borderRadius:o.border.radius.default},f[":active"])},disabled:{color:v,cursor:"not-allowed",":hover":W({},g,{outline:"none"}),":active":W({},g,{outline:"none"}),":focus":{boxShadow:`0 0 0 ${o.border.width.default}px ${v}`,borderRadius:o.border.radius.default},":focus:not(:focus-visible)":{boxShadow:"none"},":focus-visible":g}};return Ue[l]=S.StyleSheet.create(x),Ue[l]},ts=["color","disabled","href","kind","light","size","skipClientNav","tabIndex","target"],ns=i.forwardRef(function(e,t){const{color:n="default",disabled:o=!1,href:r,kind:a="primary",light:l=!1,size:d="medium",skipClientNav:c,tabIndex:f,target:y}=e,b=wn(e,ts);function m(g){const x=g.key;!r&&(x==="Enter"||x==="Space")&&g.preventDefault()}function v(g){const x=g.key;!r&&(x==="Enter"||x==="Space")&&b.onClick&&b.onClick(g)}return i.createElement(Hr,null,i.createElement(Xr,W({},b,{color:n,disabled:o,href:r,kind:a,light:l,ref:t,skipClientNav:c,size:d,target:y,tabIndex:f,onKeyDown:m,onKeyUp:v})))});function Qe(){return Qe=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Qe.apply(this,arguments)}const st={color:{bg:{inverse:u.darkBlue},text:{inverse:u.white,secondary:u.offBlack64},shadow:{default:u.offBlack16}},border:{radius:L.radius.medium_4},spacing:{dialog:{small:h.medium_16},panel:{closeButton:h.medium_16,footer:h.xLarge_32},header:{xsmall:h.xSmall_8,small:h.medium_16,medium:h.large_24,large:h.xLarge_32}}},os=St(st,{color:{bg:{inverse:u.eggplant}}}),rs={default:st,khanmigo:os},Be=wt(st);function ss(s){const e=i.useContext(kt),t=rs[e]||st;return i.createElement(Be.Provider,{value:t},s.children)}const is=i.forwardRef(function(e,t){const{above:n,below:o,role:r="dialog",style:a,children:l,testId:d,"aria-labelledby":c,"aria-describedby":f}=e,{theme:y}=Ce(Be),b=tt(ls,y);return i.createElement(k,{style:[b.wrapper,a]},o&&i.createElement(k,{style:b.below},o),i.createElement(k,{role:r,"aria-modal":"true","aria-labelledby":c,"aria-describedby":f,ref:t,style:b.dialog,testId:d},l),n&&i.createElement(k,{style:b.above},n))}),En=i.forwardRef(function(e,t){return i.createElement(ss,null,i.createElement(is,Qe({},e,{ref:t})))}),as="@media (max-width: 767px)",ls=s=>({wrapper:{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",height:"100%",position:"relative",[as]:{padding:s.spacing.dialog.small,flexDirection:"column"}},dialog:{width:"100%",height:"100%",borderRadius:s.border.radius,overflow:"hidden"},above:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},below:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:-1}});En.displayName="ModalDialog";function Je({children:s}){return i.createElement(k,{style:ds.footer},s)}Je.__IS_MODAL_FOOTER__=!0;Je.isComponentOf=s=>s&&s.type&&s.type.__IS_MODAL_FOOTER__;const ds=S.StyleSheet.create({footer:{flex:"0 0 auto",boxSizing:"border-box",minHeight:h.xxxLarge_64,paddingLeft:h.medium_16,paddingRight:h.medium_16,paddingTop:h.xSmall_8,paddingBottom:h.xSmall_8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px -1px 0px ${u.offBlack16}`}});function Xe(s){const{breadcrumbs:e=void 0,light:t,subtitle:n=void 0,testId:o,title:r,titleId:a}=s;if(n&&e)throw new Error("'subtitle' and 'breadcrumbs' can't be used together");const{theme:l}=Ce(Be),d=tt(cs,l);return i.createElement(k,{style:[d.header,!t&&d.dark],testId:o},e&&i.createElement(k,{style:d.breadcrumbs},e),i.createElement(Tn,{style:d.title,id:a,testId:o&&`${o}-title`},r),n&&i.createElement(q,{style:t&&d.subtitle,testId:o&&`${o}-subtitle`},n))}const Gt="@media (max-width: 767px)",cs=s=>({header:{boxShadow:`0px 1px 0px ${s.color.shadow.default}`,display:"flex",flexDirection:"column",minHeight:66,padding:`${s.spacing.header.medium}px ${s.spacing.header.large}px`,position:"relative",width:"100%",[Gt]:{paddingLeft:s.spacing.header.small,paddingRight:s.spacing.header.small}},dark:{background:s.color.bg.inverse,color:s.color.text.inverse},breadcrumbs:{color:s.color.text.secondary,marginBottom:s.spacing.header.xsmall},title:{paddingRight:s.spacing.header.small,[Gt]:{paddingRight:s.spacing.header.large}},subtitle:{color:s.color.text.secondary,marginTop:s.spacing.header.xsmall}});Xe.defaultProps={light:!0};const us='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';class hs extends i.Component{constructor(...e){super(...e),this.modalRoot=void 0,this.getModalRoot=t=>{if(!t)return;const n=P.findDOMNode(t);if(!n)throw new Error("Assertion error: modal root should exist after mount");this.modalRoot=n},this.handleFocusMoveToLast=()=>{this.focusElementIn(!1)},this.handleFocusMoveToFirst=()=>{this.focusElementIn(!0)}}tryToFocus(e){if(e instanceof HTMLElement){try{e.focus()}catch{}return document.activeElement===e}}focusElementIn(e){const t=this.modalRoot,n=Array.from(t.querySelectorAll(us)),o=e?0:n.length-1,r=n[o];this.tryToFocus(r)}render(){const{style:e}=this.props;return i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,className:"modal-focus-trap-first",onFocus:this.handleFocusMoveToLast,style:{position:"fixed"}}),i.createElement(k,{style:e,ref:this.getModalRoot},this.props.children),i.createElement("div",{tabIndex:0,className:"modal-focus-trap-last",onFocus:this.handleFocusMoveToFirst,style:{position:"fixed"}}))}}const In="data-modal-launcher-portal",fs='a[href], details, input, textarea, select, button:not([aria-label^="Close"])';function ps(s){return Array.from(s.querySelectorAll(fs))}class ms extends i.Component{constructor(...e){super(...e),this._mousePressedOutside=!1,this.handleMouseDown=t=>{this._mousePressedOutside=t.target===t.currentTarget},this.handleMouseUp=t=>{t.target===t.currentTarget&&this._mousePressedOutside&&this.props.onCloseModal(),this._mousePressedOutside=!1}}componentDidMount(){const e=P.findDOMNode(this);if(!e)return;const t=this._getInitialFocusElement(e)||this._getFirstFocusableElement(e)||this._getDialogElement(e);setTimeout(()=>{t.focus()},0)}_getInitialFocusElement(e){const{initialFocusId:t}=this.props;return t?P.findDOMNode(e.querySelector(`#${t}`)):null}_getFirstFocusableElement(e){const t=ps(e);return t?t[0]:null}_getDialogElement(e){const t=P.findDOMNode(e.querySelector('[role="dialog"]'));return t.tabIndex=-1,t}render(){const{children:e,testId:t}=this.props,n={[In]:!0};return i.createElement(k,Qe({style:bs.modalPositioner,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,testId:t},n),e)}}const bs=S.StyleSheet.create({modalPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",overflow:"auto",background:u.offBlack64}}),ct=(()=>{if(typeof window>"u")return!1;const s=window.navigator.userAgent;return s.indexOf("iPad")>-1||s.indexOf("iPhone")>-1})();class _ extends i.Component{componentDidMount(){if(_.numModalsOpened===0){const e=document.body;if(!e)throw new Error("couldn't find document.body");_.oldOverflow=e.style.overflow,_.oldScrollY=window.scrollY,ct&&(_.oldPosition=e.style.position,_.oldWidth=e.style.width,_.oldTop=e.style.top),e.style.overflow="hidden",ct&&(e.style.position="fixed",e.style.width="100%",e.style.top=`${-_.oldScrollY}px`)}_.numModalsOpened++}componentWillUnmount(){if(_.numModalsOpened--,_.numModalsOpened===0){const e=document.body;if(!e)throw new Error("couldn't find document.body");e.style.overflow=_.oldOverflow,ct&&(e.style.position=_.oldPosition,e.style.width=_.oldWidth,e.style.top=_.oldTop),typeof window<"u"&&window.scrollTo&&window.scrollTo(0,_.oldScrollY)}}render(){return null}}_.oldOverflow=void 0;_.oldPosition=void 0;_.oldScrollY=void 0;_.oldWidth=void 0;_.oldTop=void 0;_.numModalsOpened=0;const gs={closeModal:void 0},Ft=i.createContext(gs);Ft.displayName="ModalContext";class On extends i.Component{constructor(...e){super(...e),this.lastElementFocusedOutsideModal=void 0,this.state={opened:!1},this._saveLastElementFocused=()=>{this.lastElementFocusedOutsideModal=document.activeElement},this._openModal=()=>{this._saveLastElementFocused(),this.setState({opened:!0})},this._returnFocus=()=>{const{closedFocusId:t,schedule:n}=this.props,o=this.lastElementFocusedOutsideModal;if(t){const r=P.findDOMNode(document.getElementById(t));if(r){n.animationFrame(()=>{r.focus()});return}}o!=null&&n.animationFrame(()=>{o.focus()})},this.handleCloseModal=()=>{this.setState({opened:!1},()=>{const{onClose:t}=this.props;t==null||t(),this._returnFocus()})}}static getDerivedStateFromProps(e,t){return typeof e.opened=="boolean"&&e.children&&console.warn("'children' and 'opened' can't be used together"),typeof e.opened=="boolean"&&!e.onClose&&console.warn("'onClose' should be used with 'opened'"),typeof e.opened!="boolean"&&!e.children&&console.warn("either 'children' or 'opened' must be set"),{opened:typeof e.opened=="boolean"?e.opened:t.opened}}componentDidUpdate(e){!e.opened&&this.props.opened&&this._saveLastElementFocused()}_renderModal(){return typeof this.props.modal=="function"?this.props.modal({closeModal:this.handleCloseModal}):this.props.modal}render(){const e=this.props.children?this.props.children({openModal:this._openModal}):null,{body:t}=document;return t?i.createElement(Ft.Provider,{value:{closeModal:this.handleCloseModal}},e,this.state.opened&&P.createPortal(i.createElement(hs,{style:ys.container},i.createElement(ms,{initialFocusId:this.props.initialFocusId,testId:this.props.testId,onCloseModal:this.props.backdropDismissEnabled?this.handleCloseModal:()=>{}},this._renderModal())),t),this.state.opened&&i.createElement(vs,{onClose:this.handleCloseModal}),this.state.opened&&i.createElement(_,null)):null}}On.defaultProps={backdropDismissEnabled:!0};class vs extends i.Component{constructor(...e){super(...e),this._handleKeyup=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup)}render(){return null}}const ys=S.StyleSheet.create({container:{zIndex:1080}});Et(On);function Re(s){const{scrollOverflow:e,style:t,children:n}=s,{theme:o}=Ce(Be),r=tt(Cs,o);return i.createElement(k,{style:[r.wrapper,e&&r.scrollOverflow]},i.createElement(k,{style:[r.content,t]},n))}Re.__IS_MODAL_CONTENT__=!0;Re.isComponentOf=s=>s&&s.type&&s.type.__IS_MODAL_CONTENT__;const xs="@media (max-width: 767px)",Cs=s=>({wrapper:{flex:1,display:"block"},scrollOverflow:{overflow:"auto"},content:{flex:1,minHeight:"100%",padding:h.xLarge_32,boxSizing:"border-box",[xs]:{padding:`${h.xLarge_32}px ${h.medium_16}px`}}});Re.defaultProps={scrollOverflow:!0};class Ss extends i.Component{render(){const{light:e,onClick:t,style:n,testId:o}=this.props;return i.createElement(Ft.Consumer,null,({closeModal:r})=>{if(r&&t)throw new Error("You've specified 'onClose' on a modal when using ModalLauncher.  Please specify 'onClose' on the ModalLauncher instead");return i.createElement(ns,{icon:en,"aria-label":"Close modal",onClick:t||r,kind:e?"primary":"tertiary",light:e,style:n,testId:o})})}}function $n({closeButtonVisible:s=!0,scrollOverflow:e=!0,light:t=!0,content:n,footer:o,header:r,onClose:a,style:l,testId:d}){const{theme:c}=Ce(Be),f=tt(ws,c),b=i.useCallback(()=>{const m=Re.isComponentOf(n)?n:i.createElement(Re,null,n);return m&&i.cloneElement(m,{scrollOverflow:e,style:[!!o&&f.hasFooter,m.props.style]})},[n,o,e,f.hasFooter])();return i.createElement(k,{style:[f.wrapper,!t&&f.dark,l],testId:d&&`${d}-panel`},s&&i.createElement(Ss,{light:!t,onClick:a,style:f.closeButton,testId:d&&`${d}-close`}),r,b,!o||Je.isComponentOf(o)?o:i.createElement(Je,null,o))}$n.defaultProps={closeButtonVisible:!0,scrollOverflow:!0,light:!0};const ws=s=>({wrapper:{flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column",background:"white",boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%"},closeButton:{position:"absolute",right:s.spacing.panel.closeButton,top:s.spacing.panel.closeButton,zIndex:1},dark:{background:s.color.bg.inverse,color:s.color.text.inverse},hasFooter:{paddingBottom:s.spacing.panel.footer}});class ks extends i.Component{renderHeader(e){const{title:t,breadcrumbs:n=void 0,subtitle:o=void 0,testId:r}=this.props;return n?i.createElement(Xe,{title:t,breadcrumbs:n,titleId:e,testId:r&&`${r}-header`}):o?i.createElement(Xe,{title:t,subtitle:o,titleId:e,testId:r&&`${r}-header`}):i.createElement(Xe,{title:t,titleId:e,testId:r&&`${r}-header`})}render(){const{onClose:e,footer:t,content:n,above:o,below:r,style:a,closeButtonVisible:l,testId:d,titleId:c,role:f,"aria-describedby":y}=this.props;return i.createElement(eo,{styleSheets:Es},({styles:b})=>i.createElement(yt,{id:c,scope:"modal"},m=>i.createElement(En,{style:[b.dialog,a],above:o,below:r,testId:d,"aria-labelledby":m,"aria-describedby":y,role:f},i.createElement($n,{onClose:e,header:this.renderHeader(m),content:n,footer:t,closeButtonVisible:l,testId:d}))))}}ks.defaultProps={closeButtonVisible:!0};const Es={small:S.StyleSheet.create({dialog:{width:"100%",height:"100%",overflow:"hidden"}}),mdOrLarger:S.StyleSheet.create({dialog:{width:"93.75%",maxWidth:576,height:"81.25%",maxHeight:624}})};function Is(s){let e=s&&s.parentElement;for(;e&&!e.hasAttribute(In);)e=e.parentElement;return e}function Os(s){return Is(s)}function F(){return F=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},F.apply(this,arguments)}const de={tab:9,enter:13,escape:27,space:32,up:38,down:40},Mn={marginTop:h.xSmall_8,marginBottom:h.xSmall_8},_n={minHeight:100},le=40,Fn=9,Rn=9,A={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:s=>`Select all (${s})`,noneSelected:"0 items",someSelected:s=>s===1?"1 item":`${s} items`,allSelected:"All items"},{blue:$s,white:Yt,offBlack:Ms}=u;class ye extends i.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_ACTION_ITEM__}render(){const{disabled:e,horizontalRule:t,href:n,target:o,indent:r,label:a,lang:l,leftAccessory:d,rightAccessory:c,onClick:f,role:y,style:b,testId:m}=this.props,v=[Me.wrapper,b],g=typeof a=="string"?i.createElement(X,{lang:l,style:Me.label},a):i.cloneElement(a,F({lang:l,style:Me.label},a.props));return i.createElement(io,{disabled:e,horizontalRule:t,rootStyle:v,leftAccessory:d,rightAccessory:c,style:[Me.shared,r&&Me.indent],role:y,testId:m,title:g,href:n,target:o,onClick:f})}}ye.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};ye.__IS_ACTION_ITEM__=!0;const Me=S.StyleSheet.create({wrapper:{minHeight:le,touchAction:"manipulation",":focus":{borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${u.blue}`,outlineOffset:-h.xxxxSmall_2},":hover[aria-disabled=false]":{color:Yt,background:$s},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:Yt,background:Ms}},":active[aria-disabled=false]":{color:u.fadedBlue,background:u.activeBlue}},shared:{minHeight:le,height:le},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:h.medium_16*2}});function we(s,e){if(s==null)return{};var t={},n=Object.keys(s),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=s[o]);return t}const _s=function(e){const{selected:t}=e;return i.createElement(Z,{icon:Ct,size:"small",style:[Zt.bounds,!t&&Zt.hide]})},Zt=S.StyleSheet.create({bounds:{alignSelf:"center",height:h.medium_16,minHeight:h.medium_16,minWidth:h.medium_16},hide:{visibility:"hidden"}}),{offBlack16:Fs,offBlack50:Rs,offWhite:Ts}=u,Bs=function(e){const{disabled:t,selected:n}=e;return i.createElement(k,{className:"checkbox",style:[je.checkbox,n&&!t&&je.noBorder,t&&je.disabledCheckbox]},n&&i.createElement(Z,{icon:Ct,size:"small",className:"check",style:[{width:h.small_12,height:h.small_12,margin:h.xxxxSmall_2},t&&n&&je.disabledCheckFormatting]}))},je=S.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:h.medium_16,minWidth:h.medium_16,height:h.medium_16,borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:Rs},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:Fs,backgroundColor:Ts},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),Ds=["disabled","label","role","selected","testId","style","leftAccessory","horizontalRule","rightAccessory","subtitle1","subtitle2","value","onClick","onToggle","variant"];class ge extends i.Component{constructor(...e){super(...e),this.handleClick=()=>{const{onClick:t,onToggle:n,value:o}=this.props;n(o),t&&t()}}static isClassOf(e){return e&&e.type&&e.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?_s:Bs}render(){const e=this.props,{disabled:t,label:n,role:o,selected:r,testId:a,style:l,leftAccessory:d,horizontalRule:c,rightAccessory:f,subtitle1:y,subtitle2:b}=e,m=we(e,Ds),v=this.getCheckComponent(),g=[ht.item,l];return i.createElement(lo,F({disabled:t,horizontalRule:c,rootStyle:g,style:ht.itemContainer,"aria-selected":r?"true":"false",role:o,testId:a,leftAccessory:i.createElement(i.Fragment,null,d?i.createElement(k,{style:{flexDirection:"row"}},i.createElement(v,{disabled:t,selected:r}),i.createElement(ve,{size:h.xSmall_8}),d):i.createElement(v,{disabled:t,selected:r})),rightAccessory:f,subtitle1:y?i.createElement(q,{className:"subtitle"},y):void 0,title:i.createElement(X,{style:ht.label},n),subtitle2:b?i.createElement(q,{className:"subtitle"},b):void 0,onClick:this.handleClick},m))}}ge.defaultProps={disabled:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};ge.__IS_OPTION_ITEM__=!0;const{blue:ut,white:_e,offBlack:Ls}=u,ht=S.StyleSheet.create({item:{minHeight:"unset",":focus":{borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${u.blue}`,outlineOffset:-h.xxxxSmall_2},":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:_e,background:ut},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:_e,background:Ls}},":active[aria-disabled=false]":{color:u.fadedBlue,background:u.activeBlue},":hover[aria-disabled=false] .checkbox":{background:_e},":hover[aria-disabled=false] .check":{color:ut},":active[aria-disabled=false] .check":{color:u.activeBlue},":is([aria-selected=true]) .checkbox":{background:ut},":is([aria-selected=true]) .check":{color:_e},":is([aria-disabled=false]) .subtitle":{color:u.offBlack64},":hover[aria-disabled=false] .subtitle":{color:u.offWhite},":active[aria-disabled=false] .subtitle":{color:z(u.fadedBlue16,_e)}},itemContainer:{minHeight:"unset",padding:`${h.xSmall_8+h.xxxxSmall_2}px ${h.xSmall_8}px`,paddingRight:h.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class se extends i.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_SEPARATOR_ITEM__}render(){return i.createElement(k,{style:[Ps.separator,this.props.style],"aria-hidden":"true"})}}se.__IS_SEPARATOR_ITEM__=!0;const Ps=S.StyleSheet.create({separator:{boxShadow:`0 -1px ${u.offBlack16}`,height:1,minHeight:1,marginTop:h.xxxSmall_4,marginBottom:h.xxxSmall_4}});class it extends i.Component{constructor(...e){super(...e),this.getTestIdFromProps=t=>t.testId||t["data-test-id"]}renderAnchorChildren(e,t){const{disabled:n,testId:o,text:r,opened:a}=this.props,l=this.props.children(F({},e,{text:r,opened:a})),d=l.props,c=this.getTestIdFromProps(d);return i.cloneElement(l,F({},t,{disabled:n,onClick:d.onClick?f=>{d.onClick(f),t.onClick(f)}:t.onClick,"data-test-id":c||o}))}render(){return i.createElement(nt,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(e,t)=>this.renderAnchorChildren(e,t))}}it.defaultProps={disabled:!1};class Ns extends i.Component{render(){const{data:e,index:t,style:n}=this.props,o=e[t];if(se.isClassOf(o.component))return i.cloneElement(o.component,{style:n});{const{component:r,populatedProps:a,onClick:l,role:d,ref:c}=o;return i.cloneElement(r,F({style:n},a,{key:t,onClick:l,ref:o.focusable&&c,role:d}))}}}function Xt(s,e=0){return s.slice(0,Fn).reduce((t,n)=>se.isClassOf(n.component)?t+Rn:t+le,e)}class Ws extends i.Component{constructor(e){super(e),this.getItemSize=t=>{const n=this.props.data[t];return se.isClassOf(n.component)?Rn:le},this.state={height:Xt(e.data),width:e.width}}componentDidMount(){const{schedule:e}=this.props;e.animationFrame(()=>{this.setWidth()})}componentDidUpdate(e){const{data:t,listRef:n}=this.props;e.data.length!==t.length&&(this.setHeight(),n&&n.current&&n.current.resetAfterIndex(1))}setWidth(){const e=P.findDOMNode(this),t=e==null?void 0:e.parentElement;if(t){const n=t.getBoundingClientRect().width;this.setState({width:n})}}setHeight(){const e=Xt(this.props.data);this.setState({height:e})}renderInitialItems(){const{data:e}=this.props,t=e.map(o=>o.component);return i.Children.toArray(t).filter(Boolean).sort((o,r)=>r.props.label&&o.props.label?r.props.label.length-o.props.label.length:-1).slice(0,Fn).map(o=>i.cloneElement(o,{style:{visibility:"hidden"}}))}renderVirtualizedList(e,t){const{data:n,listRef:o}=this.props;return i.createElement(Nn,{height:t,itemCount:n.length,itemSize:this.getItemSize,itemData:n,style:{overflowX:"hidden"},width:e,overscanCount:5,ref:o},Ns)}render(){const{width:e,height:t}=this.state;return e==null?this.renderInitialItems():this.renderVirtualizedList(e,t)}}var As=Et(Ws);function zs({state:s,options:e}){const t=An(s,e),{y:n}=s.modifiersData.preventOverflow||{x:0,y:0},{height:o}=s.rects.popper,[r]=s.placement.split("-"),l=o-t[r==="top"?"top":"bottom"]-n;s.styles.popper=F({},s.styles.popper,{maxHeight:`${l}px`,"--popper-max-height":`${l}px`})}const Ks={name:"maxHeight",enabled:!0,phase:"main",options:{padding:le},requiresIfExists:["offset","preventOverflow","flip"],fn:zs},Us=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},Ks],js=function({children:e,alignment:t="left",onPopperElement:n,referenceElement:o}){const r=Os(o)||document.querySelector("body");return r?P.createPortal(i.createElement(Wn,{innerRef:a=>{a&&n&&n(a)},referenceElement:o,strategy:"fixed",placement:t==="left"?"bottom-start":"bottom-end",modifiers:Us},({placement:a,ref:l,style:d,hasPopperEscaped:c,isReferenceHidden:f})=>{const y=!!(c||f);return i.createElement("div",{ref:l,style:d,"data-test-id":"dropdown-popper","data-placement":a},e(y))}),r):null};function Hs(s){return s.length===1||!/^[A-Z]/i.test(s)?s:""}function Vs(s,e){let t;return function(...o){const r=()=>{clearTimeout(t),s(...o)};clearTimeout(t),t=setTimeout(r,e)}}function Qt(s){return typeof s=="string"}function Te(s){return Qt(s.label)?s.label:Qt(s.labelAsText)?s.labelAsText:""}const qs=125,Gs=O("span");class at extends i.Component{static sameItemsFocusable(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n].focusable!==t[n].focusable)return!1;return!0}static getDerivedStateFromProps(e,t){if(t.itemRefs.length===0&&e.open||!at.sameItemsFocusable(t.prevItems,e.items)){const n=[];for(let o=0;o<e.items.length;o++)if(e.items[o].focusable){const r=i.createRef();n.push({ref:r,originalIndex:o})}return{itemRefs:n,prevItems:e.items,sameItemsFocusable:!1}}else return{prevItems:e.items,sameItemsFocusable:!0}}constructor(e){super(e),this.focusedIndex=void 0,this.focusedOriginalIndex=void 0,this.itemsClicked=void 0,this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.searchFieldRef=i.createRef(),this.handleInteract=t=>{const{open:n,onOpenChanged:o}=this.props,r=t.target,a=P.findDOMNode(this);n&&a&&!a.contains(r)&&this.popperElement&&!this.popperElement.contains(r)&&o(!1)},this.handleKeyDown=t=>{const{enableTypeAhead:n,onOpenChanged:o,open:r,searchText:a}=this.props,l=t.which||t.keyCode;if(n&&Hs(t.key)&&(t.stopPropagation(),this.textSuggestion+=t.key,this.handleKeyDownDebounced(this.textSuggestion)),!r){if(l===de.down){t.preventDefault(),o(!0);return}return}switch(l){case de.tab:if(this.isSearchFieldFocused()&&a)return;this.restoreTabOrder(),o(!1);return;case de.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case de.up:t.preventDefault(),this.focusPreviousItem();return;case de.down:t.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=t=>{const{onOpenChanged:n,open:o}=this.props;switch(t.which||t.keyCode){case de.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case de.escape:o&&(t.stopPropagation(),this.restoreTabOrder(),n(!1));return}},this.handleKeyDownDebounceResult=t=>{const n=this.props.items.filter(o=>o.focusable).findIndex(({component:o})=>{if(se.isClassOf(o))return!1;if(ge.isClassOf(o)){const r=o.props;return Te(r).toLowerCase().startsWith(t.toLowerCase())}return!1});if(n>=0){const o=!this.props.open;o&&this.props.onOpenChanged(!0),this.focusedIndex=n,this.scheduleToFocusCurrentItem(r=>{this.props.selectionType==="single"&&o&&r&&(r.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=t=>{this.itemsClicked=!0,this.focusedIndex=t,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=t=>{t.nativeEvent.stopImmediatePropagation?t.nativeEvent.stopImmediatePropagation():t.stopPropagation()},this.handleItemClick=(t,n)=>{this.handleClickFocus(t),n.component.props.onClick&&n.component.props.onClick(),n.populatedProps.onClick&&n.populatedProps.onClick()},this.handleSearchTextChanged=t=>{const{onSearchTextChanged:n}=this.props;n&&n(t)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:F({noResults:A.noResults,someResults:A.someSelected},e.labels)},this.virtualizedListRef=i.createRef(),this.handleKeyDownDebounced=Vs(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(e){const{open:t}=this.props;if(e.open!==t)this.updateEventListeners(),this.maybeFocusInitialItem();else if(t){const{itemRefs:n,sameItemsFocusable:o}=this.state;if(o)return;{const r=n.findIndex(a=>a.originalIndex===this.focusedOriginalIndex);r===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=r}this.props.labels!==e.labels&&this.setState({labels:F({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:e}=this.props;if(typeof e<"u")this.focusedIndex=e;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:e,open:t}=this.props;e&&(t?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):t||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(e){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(e)}):this.focusCurrentItem(e)}focusCurrentItem(e){const t=this.state.itemRefs[this.focusedIndex];if(t){this.virtualizedListRef.current&&this.virtualizedListRef.current.scrollToItem(t.originalIndex);const n=P.findDOMNode(t.ref.current);n&&(n.focus(),this.focusedOriginalIndex=t.originalIndex,e&&e(n))}}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.focusedIndex-=1;this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.focusedIndex+=1;this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:e}=this.props;switch(e){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${e}" instead.`)}}maybeRenderNoResults(){const{items:e,labels:{noResults:t}}=this.props;return e.length===0?i.createElement(X,{style:ae.noResult,testId:"dropdown-core-no-results"},t):null}shouldVirtualizeList(){return this.props.items.length>qs}renderList(){let e=0;const t=this.getItemRole();return this.props.items.map((n,o)=>{if(se.isClassOf(n.component))return n.component;const{component:r,focusable:a,populatedProps:l}=n;a&&(e+=1);const d=e-1,c=this.state.itemRefs[d]?this.state.itemRefs[d].ref:null;return i.cloneElement(r,F({},l,{key:o,onClick:()=>{this.handleItemClick(d,n)},ref:a?c:null,role:t}))})}parseVirtualizedItems(){let e=0;const t=this.getItemRole();return this.props.items.map((n,o)=>{!se.isClassOf(n.component)&&n.focusable&&(e+=1);const r=e-1;return F({},n,{role:t,ref:n.focusable&&this.state.itemRefs[r]?this.state.itemRefs[r].ref:null,onClick:()=>{this.handleItemClick(r,n)}})})}renderVirtualizedList(){const e=this.parseVirtualizedItems();return i.createElement(As,{data:e,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:e}=this.props,{labels:t}=this.state;return i.createElement(Fr,{clearAriaLabel:t.clearSearch,onChange:this.handleSearchTextChanged,placeholder:t.filter,ref:this.searchFieldRef,style:ae.searchInputStyle,value:e||""})}renderDropdownMenu(e,t){const{"aria-invalid":n,"aria-required":o,dropdownStyle:r,isFilterable:a,light:l,openerElement:d,role:c}=this.props,f=d&&window.getComputedStyle(d),y=f?f.getPropertyValue("width"):0;return i.createElement(k,{onMouseUp:this.handleDropdownMouseUp,style:[ae.dropdown,l&&ae.light,t&&ae.hidden,r],testId:"dropdown-core-container"},a&&this.renderSearchField(),i.createElement(k,{role:c,style:[ae.listboxOrMenu,{minWidth:y}],"aria-invalid":c==="listbox"?n:void 0,"aria-required":c==="listbox"?o:void 0},e),this.maybeRenderNoResults())}renderDropdown(){const{alignment:e,openerElement:t}=this.props,n=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return i.createElement(js,{alignment:e,onPopperElement:o=>{this.popperElement=o},referenceElement:t},o=>this.renderDropdownMenu(n,o))}renderLiveRegion(){const{items:e,open:t}=this.props,{labels:n}=this.state,o=e.length;return i.createElement(Gs,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:ae.srOnly,"data-test-id":"dropdown-live-region"},t&&n.someResults(o))}render(){const{open:e,opener:t,style:n,className:o}=this.props;return i.createElement(k,{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,style:[ae.menuWrapper,n],className:o},this.renderLiveRegion(),t,e&&this.renderDropdown())}}at.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:A.clearSearch,filter:A.filter,noResults:A.noResults,someResults:A.someSelected},light:!1,selectionType:"single"};const ae=S.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:u.white,borderRadius:4,paddingTop:h.xxxSmall_4,paddingBottom:h.xxxSmall_4,border:`solid 1px ${u.offBlack16}`,boxShadow:`0px 8px 8px 0px ${xt(u.offBlack,.1)}`,maxHeight:"var(--popper-max-height)"},light:{border:"none"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:u.offBlack64,alignSelf:"center",marginTop:h.xxSmall_6},searchInputStyle:{margin:h.xSmall_8,marginTop:h.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var Rt=Et(at);const Ys=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],Zs=O("button");class Xs extends i.Component{render(){const e=this.props,{children:t,disabled:n,focused:o,hovered:r,pressed:a,testId:l,opened:d,"aria-label":c}=e,f=we(e,Ys),y=u.blue,b=Qs(y),m=n,v=[ft.shared,m&&ft.disabled,b.default,m&&b.disabled,!m&&a&&b.active],g=i.createElement(Bn,{style:ft.text},t);return i.createElement(Zs,F({"aria-expanded":d?"true":"false","aria-haspopup":"menu","aria-label":c,disabled:m,style:v,type:"button"},f,{"data-test-id":l}),i.createElement(k,{style:!m&&(r||o)&&b.focus},g),i.createElement(ve,{size:h.xxxSmall_4}),i.createElement(Z,{size:"small",color:"currentColor",icon:tn,"aria-hidden":"true"}))}}const ft=S.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:le,border:"none",borderRadius:h.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"auto"},small:{height:h.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"}}),He={},Qs=s=>{const e=s;if(He[e])return He[e];const{offBlack32:t}=u,n=u.activeBlue;let o={};return o={default:{background:"none",color:s},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:2}},active:{color:n},disabled:{color:t,cursor:"default"}},He[e]=S.StyleSheet.create(o),He[e]},Js=["text","opened"];class ei extends i.Component{constructor(...e){super(...e),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=t=>{this.setState({opened:t}),this.props.onToggle&&this.props.onToggle(t)},this.handleOptionSelected=t=>{const{onChange:n,selectedValues:o}=this.props;if(!(!n||!o)){if(o.includes(t)){const r=o.indexOf(t),a=[...o.slice(0,r),...o.slice(r+1)];n(a)}else n([...o,t]);this.handleItemSelected()}},this.handleOpenerRef=t=>{this.openerElement=P.findDOMNode(t)},this.handleClick=t=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(e,t){return{opened:typeof e.opened=="boolean"?e.opened:t.opened}}getMenuItems(){const{children:e,selectedValues:t}=this.props,n=i.Children.toArray(e).filter(Boolean),o=n.some(r=>ge.isClassOf(r));return n.map(r=>{const{value:a,disabled:l}=r.props,d={component:r,focusable:ye.isClassOf(r)||ge.isClassOf(r)?!l:!1,populatedProps:{}};return ye.isClassOf(r)?F({},d,{populatedProps:{indent:o,onClick:this.handleItemSelected}}):ge.isClassOf(r)?F({},d,{populatedProps:{onToggle:this.handleOptionSelected,selected:t?t.includes(a):!1,variant:"check"}}):d})}renderOpener(e){const{disabled:t,menuText:n,opener:o,testId:r}=this.props;return i.createElement(it,{onClick:this.handleClick,disabled:e===0||t,text:n,ref:this.handleOpenerRef,testId:o?void 0:r,opened:this.state.opened},o||(a=>{const{opened:l}=a,d=we(a,Js);return i.createElement(Xs,F({},d,{disabled:t,opened:!!l,testId:r}),n)}))}render(){const{alignment:e,dropdownStyle:t,style:n,className:o}=this.props,r=this.getMenuItems(),a=this.renderOpener(r.length);return i.createElement(Rt,{role:"menu",style:n,className:o,opener:a,alignment:e,open:this.state.opened,items:r,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[ti.menuTopSpace,t]})}}ei.defaultProps={alignment:"left",disabled:!1};const ti=S.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),ni=["children","disabled","error","id","isPlaceholder","light","open","testId","onOpenChanged"],oi=O("button");class Tt extends i.Component{constructor(...e){super(...e),this.handleClick=t=>{const{open:n}=this.props;this.props.onOpenChanged(!n)}}renderClickableBehavior(e){const t=this.props,{children:n,disabled:o,error:r,id:a,isPlaceholder:l,light:d,open:c,testId:f}=t,y=we(t,ni),b=un(e);return i.createElement(b,{disabled:o,onClick:this.handleClick},(m,v)=>{const g=ri(d,l,r),{hovered:x,focused:C,pressed:w}=m,$=d?o||w?"currentColor":u.white:o?u.offBlack32:u.offBlack64,M=[pt.shared,g.default,o&&g.disabled,!o&&(w?g.active:(x||C)&&g.focus)];return i.createElement(oi,F({},y,{"aria-expanded":c?"true":"false","aria-haspopup":"listbox","data-test-id":f,disabled:o,id:a,style:M,type:"button"},v),i.createElement(X,{style:pt.text},n||" "),i.createElement(Z,{icon:tn,color:$,size:"small",style:pt.caret,"aria-hidden":"true"}))})}render(){return i.createElement(he.Consumer,null,e=>this.renderClickableBehavior(e))}}Tt.defaultProps={disabled:!1,error:!1,light:!1,isPlaceholder:!1};const pt=S.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:u.offBlack,height:le,paddingLeft:h.medium_16,paddingRight:h.small_12,borderWidth:0,borderRadius:L.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:h.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),Ve=h.medium_16-1,qe=h.small_12-1,Ge={},ri=(s,e,t)=>{const n=`${s}-${e}-${t}`;if(Ge[n])return Ge[n];let o={};return s?o={default:{background:t?u.fadedRed8:"transparent",color:e?u.white50:u.white,borderColor:t?u.red:u.white50,borderWidth:L.width.hairline},focus:{borderColor:t?u.fadedRed8:u.white,borderWidth:h.xxxxSmall_2,paddingLeft:Ve,paddingRight:qe},active:{paddingLeft:Ve,paddingRight:qe,borderColor:t?u.red:u.fadedBlue,borderWidth:L.width.thin,color:e?z(u.white32,u.blue):u.fadedBlue,backgroundColor:t?u.fadedRed:u.activeBlue},disabled:{background:"transparent",borderColor:z(u.white32,u.blue),color:z(u.white32,u.blue),cursor:"auto"}}:o={default:{background:t?u.fadedRed8:u.white,borderColor:t?u.red:u.offBlack16,borderWidth:L.width.hairline,color:e?u.offBlack64:u.offBlack},focus:{borderColor:t?u.red:u.blue,borderWidth:L.width.thin,paddingLeft:Ve,paddingRight:qe},active:{background:t?u.fadedRed:u.fadedBlue,borderColor:t?u.red:u.activeBlue,borderWidth:L.width.thin,paddingLeft:Ve,paddingRight:qe},disabled:{background:u.offWhite,borderColor:u.offBlack16,color:u.offBlack64,cursor:"auto"}},Ge[n]=S.StyleSheet.create(o),Ge[n]},si=["children","disabled","error","id","light","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-invalid","aria-required"];class ii extends i.Component{constructor(e){super(e),this.selectedIndex=void 0,this.handleOpenChanged=t=>{this.setState({open:t,searchText:""}),this.props.onToggle&&this.props.onToggle(t)},this.handleToggle=t=>{t!==this.props.selectedValue&&this.props.onChange(t),this.state.open&&this.state.openerElement&&this.state.openerElement.focus(),this.setState({open:!1}),this.props.onToggle&&this.props.onToggle(!1)},this.mapOptionItemsToDropdownItems=t=>{let n=0;return this.selectedIndex=0,t.map(o=>{const{selectedValue:r}=this.props,{disabled:a,value:l}=o.props,d=r===l;return d&&(this.selectedIndex=n),a||(n+=1),{component:o,focusable:!a,populatedProps:{onToggle:this.handleToggle,selected:d,variant:"check"}}})},this.handleSearchTextChanged=t=>{this.setState({searchText:t})},this.handleOpenerRef=t=>{const n=P.findDOMNode(t);this.setState({openerElement:n})},this.handleClick=t=>{this.handleOpenChanged(!this.state.open)},this.selectedIndex=0,this.state={open:!1,searchText:""}}static getDerivedStateFromProps(e,t){return{open:typeof e.opened=="boolean"?e.opened:t.open}}filterChildren(e){const{searchText:t}=this.state,n=t.toLowerCase();return e.filter(({props:o})=>!t||Te(o).toLowerCase().indexOf(n)>-1)}getMenuItems(e){const{isFilterable:t}=this.props;return this.mapOptionItemsToDropdownItems(t?this.filterChildren(e):e)}renderOpener(e){const t=this.props,{children:n,disabled:o,error:r,id:a,light:l,opener:d,placeholder:c,selectedValue:f,testId:y}=t,b=we(t,si),v=i.Children.toArray(n).find(C=>C.props.value===f),g=v?Te(v.props):c;return d?i.createElement(it,{onClick:this.handleClick,disabled:e===0||o,ref:this.handleOpenerRef,text:g,opened:this.state.open},d):i.createElement(Tt,F({},b,{disabled:e===0||o,id:a,error:r,isPlaceholder:!v,light:l,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:y}),g)}render(){const{alignment:e,autoFocus:t,children:n,className:o,dropdownStyle:r,enableTypeAhead:a,isFilterable:l,labels:d,light:c,style:f,"aria-invalid":y,"aria-required":b}=this.props,{searchText:m}=this.state,v=i.Children.toArray(n).filter(Boolean),g=this.getMenuItems(v),x=this.renderOpener(v.length);return i.createElement(Rt,{role:"listbox",selectionType:"single",alignment:e,autoFocus:t,enableTypeAhead:a,dropdownStyle:[l&&_n,Mn,r],initialFocusedIndex:this.selectedIndex,items:g,light:c,onOpenChanged:this.handleOpenChanged,open:this.state.open,opener:x,openerElement:this.state.openerElement,style:f,className:o,isFilterable:l,onSearchTextChanged:l?this.handleSearchTextChanged:void 0,searchText:l?m:"",labels:d,"aria-invalid":y,"aria-required":b})}}ii.defaultProps={alignment:"left",autoFocus:!0,disabled:!1,enableTypeAhead:!0,error:!1,light:!1,labels:{clearSearch:A.clearSearch,filter:A.filter,noResults:A.noResults,someResults:A.someSelected}};const ai=["disabled","id","light","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-invalid","aria-required"];class li extends i.Component{constructor(e){super(e),this.labels=void 0,this.handleOpenChanged=t=>{this.setState({open:t,searchText:"",lastSelectedValues:this.props.selectedValues}),this.props.onToggle&&this.props.onToggle(t)},this.handleToggle=t=>{const{onChange:n,selectedValues:o}=this.props;if(o.includes(t)){const r=o.indexOf(t),a=[...o.slice(0,r),...o.slice(r+1)];n(a)}else n([...o,t])},this.handleSelectAll=()=>{const{children:t,onChange:n}=this.props,r=i.Children.toArray(t).filter(a=>!!a&&!a.props.disabled).map(a=>a.props.value);n(r)},this.handleSelectNone=()=>{const{onChange:t}=this.props;t([])},this.mapOptionItemToDropdownItem=t=>{const{selectedValues:n}=this.props,{disabled:o,value:r}=t.props;return{component:t,focusable:!o,populatedProps:{onToggle:this.handleToggle,selected:n.includes(r),variant:"checkbox"}}},this.handleOpenerRef=t=>{const n=P.findDOMNode(t);this.setState({openerElement:n})},this.handleSearchTextChanged=t=>{this.setState({searchText:t})},this.handleClick=t=>{this.handleOpenChanged(!this.state.open)},this.state={open:!1,searchText:"",lastSelectedValues:[],labels:F({},A,e.labels)},this.labels=F({},A,e.labels)}static getDerivedStateFromProps(e,t){return{open:typeof e.opened=="boolean"?e.opened:t.open}}componentDidUpdate(e){this.props.labels!==e.labels&&this.setState({labels:F({},this.state.labels,this.props.labels)})}getMenuText(e){const{implicitAllEnabled:t,selectedValues:n}=this.props,{noneSelected:o,someSelected:r,allSelected:a}=this.state.labels,l=e.filter(c=>!c.props.disabled).length,d=t?a:o;switch(n.length){case 0:return d;case 1:const c=e.find(f=>f.props.value===n[0]);if(c){const f=Te(c==null?void 0:c.props);return f||r(1)}return d;case l:return a;default:return r(n.length)}}getShortcuts(e){const{selectedValues:t,shortcuts:n}=this.props,{selectAllLabel:o,selectNoneLabel:r}=this.state.labels;if(n&&!this.state.searchText){const a=e===t.length,l={component:i.createElement(ye,{disabled:a,label:o(e),indent:!0,onClick:this.handleSelectAll}),focusable:!a,populatedProps:{}},d=t.length===0,c={component:i.createElement(ye,{disabled:d,label:r,indent:!0,onClick:this.handleSelectNone}),focusable:!d,populatedProps:{}},f={component:i.createElement(se,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[l,c,f]}else return[]}getMenuItems(e){const{isFilterable:t}=this.props;if(!t)return e.map(this.mapOptionItemToDropdownItem);const{searchText:n,lastSelectedValues:o}=this.state,r=n.toLowerCase(),a=e.filter(({props:f})=>!n||Te(f).toLowerCase().indexOf(r)>-1),l=[],d=[];for(const f of a)o.includes(f.props.value)?l.push(f):d.push(f);const c=l.map(this.mapOptionItemToDropdownItem);return l.length&&d.length&&c.push({component:i.createElement(se,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...c,...d.map(this.mapOptionItemToDropdownItem)]}renderOpener(e){const t=this.props,{disabled:n,id:o,light:r,opener:a,testId:l}=t,d=we(t,ai),{noneSelected:c}=this.state.labels,f=this.getMenuText(e),y=e.filter(m=>!m.props.disabled).length;return a?i.createElement(it,{onClick:this.handleClick,disabled:y===0||n,ref:this.handleOpenerRef,text:f,opened:this.state.open},a):i.createElement(Tt,F({},d,{disabled:y===0||n,id:o,isPlaceholder:f===c,light:r,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:l}),f)}render(){const{alignment:e,light:t,style:n,className:o,dropdownStyle:r,children:a,isFilterable:l,"aria-invalid":d,"aria-required":c}=this.props,{open:f,searchText:y}=this.state,{clearSearch:b,filter:m,noResults:v,someSelected:g}=this.state.labels,x=i.Children.toArray(a).filter(Boolean),C=x.filter(M=>!M.props.disabled).length,w=this.getMenuItems(x),$=this.renderOpener(x);return i.createElement(Rt,{role:"listbox",alignment:e,dropdownStyle:[l&&_n,Mn,r],isFilterable:l,items:[...this.getShortcuts(C),...w],light:t,onOpenChanged:this.handleOpenChanged,open:f,opener:$,openerElement:this.state.openerElement,selectionType:"multi",style:n,className:o,onSearchTextChanged:l?this.handleSearchTextChanged:void 0,searchText:l?y:"",labels:{clearSearch:b,filter:m,noResults:v,someResults:g},"aria-invalid":d,"aria-required":c})}}li.defaultProps={alignment:"left",disabled:!1,error:!1,light:!1,shortcuts:!1,selectedValues:[]};export{ei as A,ns as I,ge as O,ii as S,ye as a,ve as b};
