import{j as b,a as G}from"./jsx-runtime-BGVbfQ2Z.js";import{a as z,V as _,T as H}from"./index-eZ2N530f.js";import{_ as D}from"./index-V35CFGao.js";import{S as J}from"./index-G0tWdZ0L.js";import{r as a}from"./index-qhcEwEpg.js";import{c as W,L as M,i as Q,g as X}from"./index-FSlvaNFm.js";import{l as T}from"./index-awljIyHI.js";import{m as j,f as K}from"./index-hYQ6Pa3_.js";import{P as Z}from"./index-K7FSCCGN.js";import{c as B}from"./index-ACL0N2lY.js";import{S as A}from"./index-SM3muJE2.js";import{g as ee}from"./dependencies-fnqF3NiV.js";const te=""+new URL("arrow-square-out-bold-l20YoqzN.svg",import.meta.url).href;function $(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function i(){return i=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i.apply(this,arguments)}function q(n,t){if(n==null)return{};var e={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(e[o]=n[o]);return e}const ne=["children","skipClientNav","focused","hovered","href","inline","kind","light","visitable","pressed","style","testId","waiting","target","startIcon","endIcon"],re=z("a"),oe=z(M),R=a.forwardRef(function(t,e){const r=o=>{const{children:s,skipClientNav:c,focused:l,hovered:h,href:u,inline:v=!1,kind:w="primary",light:y=!1,visitable:I=!1,pressed:g,style:k,testId:E,target:S,startIcon:f,endIcon:m}=t,L=q(t,ne),p=se(v,w,y,I),d=v?p.restingInline:p.resting,x=[ie.shared,d,g&&p.active,!g&&h&&p.hover,!g&&l&&p.focus],N=i({"data-test-id":E,style:[x,k],target:S},L),F=new URL(u,window.location.origin).origin!==window.location.origin,Y=a.createElement(Z,{icon:te,size:"small",style:[C.endIcon,C.centered],testId:"external-icon"});let O,P;f&&(O=a.cloneElement(f,i({style:[C.startIcon,C.centered],testId:"start-icon","aria-hidden":"true"},f.props))),m&&(P=a.cloneElement(m,i({style:[C.endIcon,C.centered],testId:"end-icon","aria-hidden":"true"},m.props)));const V=a.createElement(a.Fragment,null,f&&O,s,m?P:F&&S==="_blank"&&Y);return o&&!c&&Q(u)?a.createElement(oe,i({},N,{to:u,ref:e}),V):a.createElement(re,i({},N,{href:u,ref:e}),V)};return a.createElement(W.Consumer,null,o=>r(o))}),U={},C=T.StyleSheet.create({startIcon:{marginInlineEnd:A.xxxSmall_4},endIcon:{marginInlineStart:A.xxxSmall_4},centered:{verticalAlign:"-10%"}}),ie=T.StyleSheet.create({shared:{cursor:"pointer",textDecoration:"none",outline:"none",alignItems:"center"}}),se=(n,t,e,r)=>{const o=`${t}-${n.toString()}-${e.toString()}-${r.toString()}`;if(U[o])return U[o];if(t==="secondary"&&e)throw new Error("Secondary Light links are not supported");if(r&&t!=="primary")throw new Error("Only primary link is visitable");const{blue:s,pink:c,purple:l,white:h,offBlack:u,offBlack32:v,offBlack64:w}=B,y=j(K(u,.08),l),I=B.fadedBlue,g=j(K(h,.32),c),k=B.activeBlue,f=t==="primary"?e?h:s:n?u:w,p=t==="primary"?e?I:k:n?k:u,d=r?{":visited":{color:e?c:y}}:Object.freeze({}),x=r?{":visited":{color:e?g:j(v,y)}}:Object.freeze({}),N={resting:i({color:f},d),restingInline:i({color:f,textDecoration:"underline currentcolor solid",textUnderlineOffset:2},d),hover:i({textDecoration:"underline currentcolor solid",color:f},d),focus:{":focus-visible":i({color:f,outline:`1px solid ${e?h:s}`,borderRadius:3},d)},active:i({color:p,textDecoration:"underline currentcolor solid"},x)};return U[o]=T.StyleSheet.create(N),U[o]},ae=["onClick","beforeNav","safeWithNav","href","skipClientNav","children","tabIndex","onKeyDown","onKeyUp","target","inline","kind","light","visitable"],le=a.forwardRef(function(t,e){const{onClick:r,beforeNav:o=void 0,safeWithNav:s,href:c,skipClientNav:l,children:h,tabIndex:u,onKeyDown:v,onKeyUp:w,target:y=void 0,inline:I=!1,kind:g="primary",light:k=!1,visitable:E=!1}=t,S=q(t,ae),f=m=>{const L=X(c,l,m);return o?a.createElement(L,{disabled:!1,href:c,role:"link",onClick:r,beforeNav:o,safeWithNav:s,onKeyDown:v,onKeyUp:w},(p,d)=>{let x=i({},($(d),d));return a.createElement(R,i({},S,p,x,{skipClientNav:l,href:c,target:y,tabIndex:u,inline:I,kind:g,light:k,visitable:E,ref:e}),h)}):a.createElement(L,{disabled:!1,href:c,role:"link",onClick:r,safeWithNav:s,target:y,onKeyDown:v,onKeyUp:w},(p,d)=>{let x=i({},($(d),d));return a.createElement(R,i({},S,p,x,{skipClientNav:l,href:c,target:y,tabIndex:u,inline:I,kind:g,light:k,visitable:E,ref:e}),h)})};return a.createElement(W.Consumer,null,m=>f(m))}),ce=/^https?:\/\//,de=n=>{const t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,e=n.match(t);return e&&e[7].length===11?e[7]:"videoNotFound"},Ce=n=>{var c;const{location:t}=n,{useVideo:e}=ee(),[r,o]=ce.test(t)?[de(t),"YOUTUBE_ID"]:[t,"READABLE_ID"],s=e(r,o);switch(s.status){case"loading":return b(_,{children:D("Loading...")});case"success":{const l=(c=s.data)==null?void 0:c.video;return G(_,{style:ue.transcriptLink,children:[b(H,{children:l==null?void 0:l.title}),b(J,{size:10}),b(le,{href:"/transcript/"+((l==null?void 0:l.contentId)||"videoNotFound"),target:"_blank",className:"visited-no-recolor",children:D("See video transcript")})]})}case"error":return b(_,{children:D("Something went wrong.")});case"aborted":return b(_,{children:D("Something went wrong.")});default:return b(_,{children:D("Something went wrong.")})}},ue=T.StyleSheet.create({transcriptLink:{flexDirection:"row",width:"100%",justifyContent:"center"}});try{videotranscriptlink.displayName="videotranscriptlink",videotranscriptlink.__docgenInfo={description:"Video Transcript Link Component.",displayName:"videotranscriptlink",props:{location:{defaultValue:null,description:"",name:"location",required:!0,type:{name:"string"}}}}}catch{}export{Ce as V,te as e};
