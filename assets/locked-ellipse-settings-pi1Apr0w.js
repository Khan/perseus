import{j as e}from"./jsx-runtime-63Ea5SlK.js";import{r as $}from"./index-6oxdNXpR.js";import{c as F}from"./util-BtPxNFcx.js";import"./index-default-4_ZsnO94.js";import{k as L,q as _}from"./core-widget-registry-uiKfW1Am.js";import"./jquery-5v7aFUvu.js";import"./article-renderer-1RxjCKGQ.js";import"./phet-simulation--DntLPhv.js";import"./dependencies-CP7Uh8Kq.js";import"./perseus-api-DO0X8arb.js";import"./server-item-renderer-IFPxFtWe.js";import"./hints-renderer-bbLMg98a.js";import"./renderer-sKOnMOkh.js";import"./base-radio-pX3PPP3a.js";import{c as X}from"./components-h0DOkThn.js";import"./i18n-context-dE2bX2K_.js";import"./svg-image-gIyesq-y.js";import"./index-smZ6iCr_.js";import{B as V}from"./index-_CVl-B2F.js";import{V as c}from"./index-_3CKOwHy.js";import{S as Y,O as G}from"./answer-choices-vH6uYZE4.js";import{S as m}from"./index-o999uk82.js";import{s as i,c as b}from"./index-QHkT31Yt.js";import{a as S,L as H}from"./index-4dAUYsag.js";import{L as J,p as K}from"./locked-figure-aria-qsgkuDNj.js";import{n as C}from"./no-important-xCWWYXQR.js";import{S as Q}from"./scrollless-number-text-field-WjEg5ORt.js";import{C as j,L as Z,a as ee}from"./locked-label-settings-mbdZ4TY_.js";import{P as re}from"./trash-bold-O-dTai6t.js";import{C as ne}from"./color-select-YC5qozq8.js";import{L as te}from"./line-stroke-select-YhsCx3FP.js";import{g as ae,j as le,a as v,b as oe}from"./util-NeexYzbC.js";const{convertDegreesToRadians:ie,convertRadiansToDegrees:se}=F,z=p=>{const{angle:t,onChange:l}=p,[d,w]=$.useState(se(t).toString());function n(y){w(y),!(isNaN(+y)||y==="")&&l(ie(y))}return e.jsxs(S,{tag:"label",style:q.row,children:["angle (degrees)",e.jsx(m,{size:i.xxSmall_6}),e.jsx(Q,{value:d,onChange:n,style:q.textField}),e.jsx(m,{size:i.xxSmall_6})]})},q=C.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{width:i.xxxLarge_64}});z.__docgenInfo={description:"",methods:[],displayName:"AngleInput",props:{angle:{required:!0,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(angle: number) => void",signature:{arguments:[{type:{name:"number"},name:"angle"}],return:{name:"void"}}},description:""}}};const P=p=>{const{color:t,fillStyle:l,strokeStyle:d}=p;return e.jsx(c,{"aria-label":`${t}, stroke ${d}, fill ${l}`,style:[T.container,{border:`4px ${d} ${L[t]}`}],children:e.jsx(c,{style:[T.innerCircle,{backgroundColor:L[t],opacity:l==="white"?0:_[l]}]})})},T=C.StyleSheet.create({container:{outline:`2px solid ${b.offWhite}`,borderRadius:"50%",width:i.xLarge_32,height:i.large_24,backgroundColor:b.white,alignItems:"center",justifyContent:"center"},innerCircle:{width:28,height:20,borderRadius:"50%"}});P.__docgenInfo={description:"",methods:[],displayName:"EllipseSwatch",props:{color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""}}};const{convertRadiansToDegrees:ue}=F,{InfoTip:me}=X,R=p=>{const{center:t,radius:l,angle:d,color:w,labels:n,ariaLabel:y,fillStyle:f,strokeStyle:x,expanded:A,onToggle:E,onChangeProps:u,onMove:I,onRemove:N}=p;async function D(){const r=await le(n),a=await v(`$${t[0]}$`),s=await v(`$${t[1]}$`),g=await v(`$${ue(d)}$`),h=l[0]===l[1];let k="";h?k+=`Circle${r} with radius ${l[0]}`:k+=`Ellipse${r} with x radius ${l[0]} and y radius ${l[1]}`,k+=`, centered at ${a} comma ${s}`,!h&&d!==0&&(k+=`, rotated by ${g} degrees`);const W=oe(w,x,f);return k+=W,k}function B(r){const a=r[0]-t[0],s=r[1]-t[1],g={center:r};g.labels=n==null?void 0:n.map(h=>({...h,coord:[h.coord[0]+a,h.coord[1]+s]})),u(g)}function M(r){const a={color:r};a.labels=n==null?void 0:n.map(s=>({...s,color:r})),u(a)}function O(r,a){if(!n)return;const s=[...n];s[a]={...n[a],...r},u({labels:s})}function U(r){if(!n)return;const a=n.filter((s,g)=>g!==r);u({labels:a})}return e.jsxs(re,{expanded:A,onToggle:E,header:e.jsxs(c,{style:o.row,children:[e.jsx(H,{children:`Ellipse (${t[0]}, ${t[1]}), radius ${l[0]}, ${l[1]}`}),e.jsx(m,{size:i.xSmall_8}),e.jsx(P,{color:p.color,fillStyle:f,strokeStyle:x})]}),children:[e.jsxs(c,{style:o.row,children:[e.jsx(j,{coord:t,style:o.spaceUnder,onChange:B}),e.jsx(c,{style:o.spaceUnder,children:e.jsx(me,{children:"The coordinates for the center of the ellipse."})})]}),e.jsx(j,{coord:l,labels:["x radius","y radius"],style:o.spaceUnder,onChange:r=>u({radius:r})}),e.jsx(z,{angle:d,onChange:r=>u({angle:r})}),e.jsx(m,{size:i.xSmall_8}),e.jsxs(c,{style:[o.row,o.spaceUnder],children:[e.jsx(ne,{selectedValue:w,onChange:M}),e.jsx(m,{size:i.medium_16}),e.jsxs(S,{tag:"label",style:[o.row,o.truncatedWidth],children:["fill",e.jsx(m,{size:i.xxSmall_6}),e.jsx(Y,{selectedValue:f,onChange:r=>u({fillStyle:r}),placeholder:"",children:Object.keys(_).map(r=>e.jsx(G,{value:r,label:r},r))})]})]}),e.jsx(te,{selectedValue:x,onChange:r=>u({strokeStyle:r})}),e.jsx(m,{size:i.small_12}),e.jsx(c,{style:o.horizontalRule}),e.jsx(J,{ariaLabel:y,getPrepopulatedAriaLabel:D,onChangeProps:r=>{u(r)}}),e.jsx(m,{size:i.xxxSmall_4}),e.jsx(c,{style:o.horizontalRule}),e.jsx(m,{size:i.small_12}),e.jsx(S,{children:"Visible labels"}),n==null?void 0:n.map((r,a)=>$.createElement(Z,{...r,key:a,expanded:!0,onChangeProps:s=>{O(s,a)},onRemove:()=>{U(a)},containerStyle:o.labelContainer})),e.jsx(V,{kind:"tertiary",startIcon:K,onClick:()=>{const r={...ae("label"),coord:[t[0],t[1]-((n==null?void 0:n.length)??0)],color:w};u({labels:[...n??[],r]})},style:o.addButton,children:"Add visible label"}),e.jsx(ee,{figureType:p.type,onMove:I,onRemove:N})]})},o=C.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:i.xSmall_8},truncatedWidth:{minWidth:0},addButton:{alignSelf:"start"},labelContainer:{backgroundColor:b.white},horizontalRule:{height:1,backgroundColor:b.offBlack16}}),Ue=R;R.__docgenInfo={description:"",methods:[],displayName:"LockedEllipseSettings",props:{onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},type:{required:!0,tsType:{name:"literal",value:'"ellipse"'},description:""},center:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},radius:{required:!0,tsType:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}]},description:""},angle:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]"},description:""},fillStyle:{required:!0,tsType:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}]},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""},labels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedEllipseType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
    type: "ellipse";
    center: Coord;
    radius: [x: number, y: number];
    angle: number;
    color: LockedFigureColor;
    fillStyle: LockedFigureFillType;
    strokeStyle: LockedLineStyle;
    labels?: LockedLabelType[];
    ariaLabel?: string;
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"ellipse"',required:!0}},{key:"center",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"radius",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"angle",value:{name:"number",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"fillStyle",value:{name:"union",raw:'"none" | "white" | "translucent" | "solid"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"white"'},{name:"literal",value:'"translucent"'},{name:"literal",value:'"solid"'}],required:!0}},{key:"strokeStyle",value:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}],required:!0}},{key:"labels",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    type: "label";
    coord: Coord;
    // TeX-supported string
    text: string;
    color: LockedFigureColor;
    size: "small" | "medium" | "large";
}`,signature:{properties:[{key:"type",value:{name:"literal",value:'"label"',required:!0}},{key:"coord",value:{name:"tuple",raw:"[x: number, y: number]",elements:[{name:"unknown"},{name:"unknown"}],required:!0}},{key:"text",value:{name:"string",required:!0}},{key:"color",value:{name:"unknown[number]",raw:"(typeof lockedFigureColorNames)[number]",required:!0}},{key:"size",value:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}],required:!0}}]}}],raw:"LockedLabelType[]",required:!1}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Partial<LockedEllipseType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."}}};export{Ue as L};
