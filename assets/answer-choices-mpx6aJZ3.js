import{j as Be}from"./jsx-runtime-63Ea5SlK.js";import{r as i}from"./index-6oxdNXpR.js";import{l as T}from"./index-awljIyHI.js";import{c as ke,b as dt,s as qt,L as Ut}from"./index-6ID5EQ9c.js";import{C as jt,_ as Kt,a as Gt,b as Xt}from"./index-NVT999Ia.js";import{V as $,I as he,a as Le,u as Zt}from"./index-CgfdZoMj.js";import{S as Ce}from"./index-C1N8lBvx.js";import{s as h,c as d,d as ft,m as je,a as Yt,b as j,f as Qt}from"./index-dmcq622U.js";import{P as Ee}from"./index-XlX4hVME.js";import{T as Jt,c as Ot}from"./index-n_qhmlFr.js";import{r as pe}from"./index-9gkyvru-.js";import{I as en,x as Tt}from"./index-fsOXV5-c.js";import{w as Ft}from"./index-7-BESUpx.js";import{_ as mt}from"./assertThisInitialized-4q6YPdh3.js";import{P as tn,d as nn}from"./Popper-Y5KDXl-P.js";import{m as rn}from"./index-sJx7e_Q7.js";import{P as on}from"./index-hgFKmD12.js";import{u as sn}from"./i18n-context-6Q5amFh5.js";import{R as ln}from"./renderer-lG_lF8bI.js";function O(){return O=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},O.apply(null,arguments)}function zt(o,e){if(o==null)return{};var t={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(e.includes(n))continue;t[n]=o[n]}return t}function Ae(){return Ae=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},Ae.apply(null,arguments)}const V={cellMinHeight:h.xxLarge_48,cellPadding:{paddingVertical:h.small_12,paddingHorizontal:h.medium_16},detailCellPadding:{paddingVertical:h.medium_16,paddingHorizontal:h.medium_16},accessoryHorizontalSpacing:h.medium_16},an=o=>{switch(o){case"inset":return[nt.horizontalRule,nt.horizontalRuleInset];case"full-width":return nt.horizontalRule;case"none":return{}}},nt=T.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:h.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${d.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${V.cellPadding.paddingHorizontal}px)`}}}),dn=({leftAccessory:o,leftAccessoryStyle:e,disabled:t})=>o?i.createElement(i.Fragment,null,i.createElement($,{style:[M.accessory,t&&M.accessoryDisabled,Ae({},e)]},o),i.createElement(Ce,{size:V.accessoryHorizontalSpacing})):null,cn=({rightAccessory:o,rightAccessoryStyle:e,active:t,disabled:n})=>o?i.createElement(i.Fragment,null,i.createElement(Ce,{size:V.accessoryHorizontalSpacing}),i.createElement($,{style:[M.accessory,M.accessoryRight,n&&M.accessoryDisabled,Ae({},e),t&&M.accessoryActive]},o)):null;function gt(o){const{active:e,children:t,disabled:n,horizontalRule:r="inset",contentStyle:s=void 0,leftAccessory:a=void 0,leftAccessoryStyle:c=void 0,rightAccessory:u=void 0,rightAccessoryStyle:p=void 0,style:g,testId:S,innerStyle:x}=o,f=an(r);return i.createElement($,{style:[M.innerWrapper,x,g,f]},i.createElement(dn,{leftAccessory:a,leftAccessoryStyle:c,disabled:n}),i.createElement($,{style:[M.content,s],testId:S},t),i.createElement(cn,{rightAccessory:u,rightAccessoryStyle:p,active:e,disabled:n}))}const At=o=>{const{active:e,disabled:t,href:n,onClick:r,"aria-label":s,"aria-selected":a,"aria-checked":c,target:u,role:p,rootStyle:g}=o;return r||n?i.createElement(jt,{disabled:t,onClick:r,href:n,hideDefaultFocusRing:!0,"aria-label":s||void 0,"aria-selected":a||void 0,"aria-checked":c,role:p,target:u,style:[M.wrapper,M.clickable,g,e&&M.active,t&&M.disabled],"aria-current":e?"true":void 0},()=>i.createElement(gt,o)):i.createElement($,{style:[M.wrapper,g,e&&M.active],"aria-current":e?"true":void 0,role:p},i.createElement(gt,o))},M=T.StyleSheet.create({wrapper:{background:d.white,color:d.offBlack,display:"flex",minHeight:V.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:V.cellMinHeight,padding:`${V.cellPadding.paddingVertical}px ${V.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${V.cellPadding.paddingVertical-2}px ${V.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:d.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:h.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${h.xxxSmall_4}px)`,height:`calc(100% - ${h.xxxSmall_4}px)`,border:`${h.xxxxSmall_2}px solid ${d.blue}`,borderRadius:h.xxxSmall_4},":hover[aria-disabled=false]":{background:d.offBlack8},":active[aria-disabled=false]":{background:d.offBlack16}},active:{background:d.fadedBlue8,color:d.blue,":hover[aria-disabled=false]":{background:d.fadedBlue16},":active[aria-disabled=false]":{background:d.fadedBlue24}},disabled:{color:d.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:d.blue},accessoryDisabled:{color:d.offBlack,opacity:.32}}),un=["title"],hn=function(e){const{title:t}=e,n=zt(e,un);return i.createElement(At,n,typeof t=="string"?i.createElement(ke,null,t):t)},pn=["title","subtitle1","subtitle2"],bt=({subtitle:o,disabled:e})=>o?typeof o=="string"?i.createElement(dt,{style:!e&&Lt.subtitle},o):o:null,fn=function(e){const{title:t,subtitle1:n,subtitle2:r}=e,s=zt(e,pn);return i.createElement(At,Ae({},s,{innerStyle:Lt.innerWrapper}),i.createElement(bt,{subtitle:n,disabled:s.disabled}),n&&i.createElement(Ce,{size:h.xxxxSmall_2}),typeof t=="string"?i.createElement(ke,null,t):t,r&&i.createElement(Ce,{size:h.xxxxSmall_2}),i.createElement(bt,{subtitle:r,disabled:s.disabled}))},Lt=T.StyleSheet.create({subtitle:{color:d.offBlack64},innerWrapper:{padding:`${V.detailCellPadding.paddingVertical}px ${V.detailCellPadding.paddingHorizontal}px`}});function _e(o,e){if(o==null)return{};var t={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(e.includes(n))continue;t[n]=o[n]}return t}function ct(){return ct=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},ct.apply(null,arguments)}function mn(o,e){if(o==null)return{};var t={};for(var n in o)if({}.hasOwnProperty.call(o,n)){if(e.includes(n))continue;t[n]=o[n]}return t}const gn=""+new URL("magnifying-glass-bold-uhjCfR64.svg",import.meta.url).href,bn={clearSearch:"Clear search"},xn=["clearAriaLabel","autoFocus","disabled","light","id","value","placeholder","style","testId","error","instantValidation","validate","onValidate","onClick","onChange","onFocus","onBlur"],Sn=i.forwardRef(function(e,t){const{clearAriaLabel:n=bn.clearSearch,autoFocus:r,disabled:s=!1,light:a=!1,id:c,value:u,placeholder:p,style:g,testId:S,error:x,instantValidation:f=!0,validate:y,onValidate:l,onClick:m,onChange:b,onFocus:I,onBlur:C}=e,R=mn(e,xn),v=i.useRef(null),k=()=>{var F;b(""),v==null||(F=v.current)==null||F.focus()},_=()=>!u.length||s?null:i.createElement(en,{icon:Tt,size:"small",kind:"tertiary",onClick:k,style:We.dismissIcon,"aria-label":n});return i.createElement(he,{id:c},F=>i.createElement($,{onClick:m,style:[We.inputContainer,g]},i.createElement(Ee,{icon:gn,size:"small",color:s?a?d.white32:ft.action.disabled.default:ft.icon.primary,style:We.searchIcon,"aria-hidden":"true"}),i.createElement(Jt,ct({id:F,type:"text",autoFocus:r,disabled:s,light:a,instantValidation:f,validate:y,onValidate:l,onChange:b,onFocus:I,onBlur:C,placeholder:p,error:x,ref:L=>{t&&(t.current=L),v.current=L},value:u,style:[We.inputStyleReset,qt.LabelMedium],testId:S},R)),_()))}),We=T.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:h.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:h.xSmall_8,marginRight:h.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:h.xxxSmall_4},inputStyleReset:{display:"flex",flex:1,width:"100%",paddingLeft:h.xLarge_32,paddingRight:h.large_24+h.medium_16}});var xt=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function yn(o,e){return!!(o===e||xt(o)&&xt(e))}function vn(o,e){if(o.length!==e.length)return!1;for(var t=0;t<o.length;t++)if(!yn(o[t],e[t]))return!1;return!0}function rt(o,e){e===void 0&&(e=vn);var t,n=[],r,s=!1;function a(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return s&&t===this&&e(c,n)||(r=o.apply(this,c),s=!0,t=this,n=c),r}return a}var In=typeof performance=="object"&&typeof performance.now=="function",St=In?function(){return performance.now()}:function(){return Date.now()};function yt(o){cancelAnimationFrame(o.id)}function Cn(o,e){var t=St();function n(){St()-t>=e?o.call(null):r.id=requestAnimationFrame(n)}var r={id:requestAnimationFrame(n)};return r}var ot=-1;function vt(o){if(o===void 0&&(o=!1),ot===-1||o){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),ot=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ot}var ve=null;function It(o){if(o===void 0&&(o=!1),ve===null||o){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?ve="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?ve="negative":ve="positive-ascending"),document.body.removeChild(e),ve}return ve}var wn=150,kn=function(e,t){return e};function En(o){var e,t=o.getItemOffset,n=o.getEstimatedTotalSize,r=o.getItemSize,s=o.getOffsetForIndexAndAlignment,a=o.getStartIndexForOffset,c=o.getStopIndexForStartIndex,u=o.initInstanceProps,p=o.shouldResetStyleCacheOnItemSizeChange,g=o.validateProps;return e=function(S){Kt(x,S);function x(y){var l;return l=S.call(this,y)||this,l._instanceProps=u(l.props,mt(l)),l._outerRef=void 0,l._resetIsScrollingTimeoutId=null,l.state={instance:mt(l),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof l.props.initialScrollOffset=="number"?l.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},l._callOnItemsRendered=void 0,l._callOnItemsRendered=rt(function(m,b,I,C){return l.props.onItemsRendered({overscanStartIndex:m,overscanStopIndex:b,visibleStartIndex:I,visibleStopIndex:C})}),l._callOnScroll=void 0,l._callOnScroll=rt(function(m,b,I){return l.props.onScroll({scrollDirection:m,scrollOffset:b,scrollUpdateWasRequested:I})}),l._getItemStyle=void 0,l._getItemStyle=function(m){var b=l.props,I=b.direction,C=b.itemSize,R=b.layout,v=l._getItemStyleCache(p&&C,p&&R,p&&I),k;if(v.hasOwnProperty(m))k=v[m];else{var _=t(l.props,m,l._instanceProps),F=r(l.props,m,l._instanceProps),L=I==="horizontal"||R==="horizontal",Y=I==="rtl",Q=L?_:0;v[m]=k={position:"absolute",left:Y?void 0:Q,right:Y?Q:void 0,top:L?0:_,height:L?"100%":F,width:L?F:"100%"}}return k},l._getItemStyleCache=void 0,l._getItemStyleCache=rt(function(m,b,I){return{}}),l._onScrollHorizontal=function(m){var b=m.currentTarget,I=b.clientWidth,C=b.scrollLeft,R=b.scrollWidth;l.setState(function(v){if(v.scrollOffset===C)return null;var k=l.props.direction,_=C;if(k==="rtl")switch(It()){case"negative":_=-C;break;case"positive-descending":_=R-I-C;break}return _=Math.max(0,Math.min(_,R-I)),{isScrolling:!0,scrollDirection:v.scrollOffset<_?"forward":"backward",scrollOffset:_,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._onScrollVertical=function(m){var b=m.currentTarget,I=b.clientHeight,C=b.scrollHeight,R=b.scrollTop;l.setState(function(v){if(v.scrollOffset===R)return null;var k=Math.max(0,Math.min(R,C-I));return{isScrolling:!0,scrollDirection:v.scrollOffset<k?"forward":"backward",scrollOffset:k,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._outerRefSetter=function(m){var b=l.props.outerRef;l._outerRef=m,typeof b=="function"?b(m):b!=null&&typeof b=="object"&&b.hasOwnProperty("current")&&(b.current=m)},l._resetIsScrollingDebounced=function(){l._resetIsScrollingTimeoutId!==null&&yt(l._resetIsScrollingTimeoutId),l._resetIsScrollingTimeoutId=Cn(l._resetIsScrolling,wn)},l._resetIsScrolling=function(){l._resetIsScrollingTimeoutId=null,l.setState({isScrolling:!1},function(){l._getItemStyleCache(-1,null)})},l}x.getDerivedStateFromProps=function(l,m){return _n(l,m),g(l),null};var f=x.prototype;return f.scrollTo=function(l){l=Math.max(0,l),this.setState(function(m){return m.scrollOffset===l?null:{scrollDirection:m.scrollOffset<l?"forward":"backward",scrollOffset:l,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},f.scrollToItem=function(l,m){m===void 0&&(m="auto");var b=this.props,I=b.itemCount,C=b.layout,R=this.state.scrollOffset;l=Math.max(0,Math.min(l,I-1));var v=0;if(this._outerRef){var k=this._outerRef;C==="vertical"?v=k.scrollWidth>k.clientWidth?vt():0:v=k.scrollHeight>k.clientHeight?vt():0}this.scrollTo(s(this.props,l,m,R,this._instanceProps,v))},f.componentDidMount=function(){var l=this.props,m=l.direction,b=l.initialScrollOffset,I=l.layout;if(typeof b=="number"&&this._outerRef!=null){var C=this._outerRef;m==="horizontal"||I==="horizontal"?C.scrollLeft=b:C.scrollTop=b}this._callPropsCallbacks()},f.componentDidUpdate=function(){var l=this.props,m=l.direction,b=l.layout,I=this.state,C=I.scrollOffset,R=I.scrollUpdateWasRequested;if(R&&this._outerRef!=null){var v=this._outerRef;if(m==="horizontal"||b==="horizontal")if(m==="rtl")switch(It()){case"negative":v.scrollLeft=-C;break;case"positive-ascending":v.scrollLeft=C;break;default:var k=v.clientWidth,_=v.scrollWidth;v.scrollLeft=_-k-C;break}else v.scrollLeft=C;else v.scrollTop=C}this._callPropsCallbacks()},f.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&yt(this._resetIsScrollingTimeoutId)},f.render=function(){var l=this.props,m=l.children,b=l.className,I=l.direction,C=l.height,R=l.innerRef,v=l.innerElementType,k=l.innerTagName,_=l.itemCount,F=l.itemData,L=l.itemKey,Y=L===void 0?kn:L,Q=l.layout,J=l.outerElementType,K=l.outerTagName,D=l.style,B=l.useIsScrolling,ee=l.width,te=this.state.isScrolling,G=I==="horizontal"||Q==="horizontal",Re=G?this._onScrollHorizontal:this._onScrollVertical,fe=this._getRangeToRender(),me=fe[0],ge=fe[1],be=[];if(_>0)for(var U=me;U<=ge;U++)be.push(i.createElement(m,{data:F,key:Y(U,F),index:U,isScrolling:B?te:void 0,style:this._getItemStyle(U)}));var ne=n(this.props,this._instanceProps);return i.createElement(J||K||"div",{className:b,onScroll:Re,ref:this._outerRefSetter,style:Gt({position:"relative",height:C,width:ee,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:I},D)},i.createElement(v||k||"div",{children:be,ref:R,style:{height:G?"100%":ne,pointerEvents:te?"none":void 0,width:G?ne:"100%"}}))},f._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var l=this.props.itemCount;if(l>0){var m=this._getRangeToRender(),b=m[0],I=m[1],C=m[2],R=m[3];this._callOnItemsRendered(b,I,C,R)}}if(typeof this.props.onScroll=="function"){var v=this.state,k=v.scrollDirection,_=v.scrollOffset,F=v.scrollUpdateWasRequested;this._callOnScroll(k,_,F)}},f._getRangeToRender=function(){var l=this.props,m=l.itemCount,b=l.overscanCount,I=this.state,C=I.isScrolling,R=I.scrollDirection,v=I.scrollOffset;if(m===0)return[0,0,0,0];var k=a(this.props,v,this._instanceProps),_=c(this.props,k,v,this._instanceProps),F=!C||R==="backward"?Math.max(1,b):1,L=!C||R==="forward"?Math.max(1,b):1;return[Math.max(0,k-F),Math.max(0,Math.min(m-1,_+L)),k,_]},x}(i.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var _n=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Rn=50,Ie=function(e,t,n){var r=e,s=r.itemSize,a=n.itemMetadataMap,c=n.lastMeasuredIndex;if(t>c){var u=0;if(c>=0){var p=a[c];u=p.offset+p.size}for(var g=c+1;g<=t;g++){var S=s(g);a[g]={offset:u,size:S},u+=S}n.lastMeasuredIndex=t}return a[t]},On=function(e,t,n){var r=t.itemMetadataMap,s=t.lastMeasuredIndex,a=s>0?r[s].offset:0;return a>=n?Pt(e,t,s,0,n):Tn(e,t,Math.max(0,s),n)},Pt=function(e,t,n,r,s){for(;r<=n;){var a=r+Math.floor((n-r)/2),c=Ie(e,a,t).offset;if(c===s)return a;c<s?r=a+1:c>s&&(n=a-1)}return r>0?r-1:0},Tn=function(e,t,n,r){for(var s=e.itemCount,a=1;n<s&&Ie(e,n,t).offset<r;)n+=a,a*=2;return Pt(e,t,Math.min(n,s-1),Math.floor(n/2),r)},Ct=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,s=t.estimatedItemSize,a=t.lastMeasuredIndex,c=0;if(a>=n&&(a=n-1),a>=0){var u=r[a];c=u.offset+u.size}var p=n-a-1,g=p*s;return c+g},Fn=En({getItemOffset:function(e,t,n){return Ie(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:Ct,getOffsetForIndexAndAlignment:function(e,t,n,r,s,a){var c=e.direction,u=e.height,p=e.layout,g=e.width,S=c==="horizontal"||p==="horizontal",x=S?g:u,f=Ie(e,t,s),y=Ct(e,s),l=Math.max(0,Math.min(y-x,f.offset)),m=Math.max(0,f.offset-x+f.size+a);switch(n==="smart"&&(r>=m-x&&r<=l+x?n="auto":n="center"),n){case"start":return l;case"end":return m;case"center":return Math.round(m+(l-m)/2);case"auto":default:return r>=m&&r<=l?r:r<m?m:l}},getStartIndexForOffset:function(e,t,n){return On(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var s=e.direction,a=e.height,c=e.itemCount,u=e.layout,p=e.width,g=s==="horizontal"||u==="horizontal",S=g?p:a,x=Ie(e,t,r),f=n+S,y=x.offset+x.size,l=t;l<c-1&&y<f;)l++,y+=Ie(e,l,r).size;return l},initInstanceProps:function(e,t){var n=e,r=n.estimatedItemSize,s={itemMetadataMap:{},estimatedItemSize:r||Rn,lastMeasuredIndex:-1};return t.resetAfterIndex=function(a,c){c===void 0&&(c=!0),s.lastMeasuredIndex=Math.min(s.lastMeasuredIndex,a-1),t._getItemStyleCache(-1),c&&t.forceUpdate()},s},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const Mt=""+new URL("caret-down-bold-NQKqym-e.svg",import.meta.url).href,ce={escape:"Escape",tab:"Tab",space:" ",up:"ArrowUp",down:"ArrowDown"},$t={marginTop:h.xSmall_8,marginBottom:h.xSmall_8},Dt={minHeight:100},se=40,Bt=9,Wt=9,q={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:o=>`Select all (${o})`,noneSelected:"0 items",someSelected:o=>o===1?"1 item":`${o} items`,allSelected:"All items"},{blue:zn,white:wt,offBlack:An}=d;class we extends i.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_ACTION_ITEM__}render(){const{disabled:e,horizontalRule:t,href:n,target:r,indent:s,label:a,lang:c,leftAccessory:u,rightAccessory:p,onClick:g,role:S,style:x,testId:f}=this.props,y=[Te.wrapper,x],l=typeof a=="string"?i.createElement(ke,{lang:c,style:Te.label},a):i.cloneElement(a,O({lang:c,style:Te.label},a.props));return i.createElement(hn,{disabled:e,horizontalRule:t,rootStyle:y,leftAccessory:u,rightAccessory:p,style:[Te.shared,s&&Te.indent],role:S,testId:f,title:l,href:n,target:r,onClick:g})}}we.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};we.__IS_ACTION_ITEM__=!0;const Te=T.StyleSheet.create({wrapper:{minHeight:se,touchAction:"manipulation",":focus":{borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${d.blue}`,outlineOffset:-h.xxxxSmall_2},":hover[aria-disabled=false]":{color:wt,background:zn},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:wt,background:An}},":active[aria-disabled=false]":{color:d.fadedBlue,background:d.activeBlue}},shared:{minHeight:se,height:se},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:h.medium_16*2}}),Ln=function(e){const{selected:t}=e;return i.createElement(Ee,{icon:Ot,size:"small",style:[kt.bounds,!t&&kt.hide]})},kt=T.StyleSheet.create({bounds:{alignSelf:"center",height:h.medium_16,minHeight:h.medium_16,minWidth:h.medium_16},hide:{visibility:"hidden"}}),{offBlack16:Pn,offBlack50:Mn,offWhite:$n}=d,Dn=function(e){const{disabled:t,selected:n}=e;return i.createElement($,{className:"checkbox",style:[Ne.checkbox,n&&!t&&Ne.noBorder,t&&Ne.disabledCheckbox]},n&&i.createElement(Ee,{icon:Ot,size:"small",className:"check",style:[{width:h.small_12,height:h.small_12,margin:h.xxxxSmall_2},t&&n&&Ne.disabledCheckFormatting]}))},Ne=T.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:h.medium_16,minWidth:h.medium_16,height:h.medium_16,borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:Mn},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:Pn,backgroundColor:$n},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),Bn=["disabled","label","selected","testId","leftAccessory","horizontalRule","parentComponent","rightAccessory","style","subtitle1","subtitle2","value","onClick","onToggle","variant","role"],Wn=Le("li");class ue extends i.Component{constructor(...e){super(...e),this.handleClick=()=>{const{onClick:t,onToggle:n,value:r}=this.props;n(r),t&&t()}}static isClassOf(e){return e&&e.type&&e.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?Ln:Dn}renderCell(){const e=this.props,{disabled:t,label:n,selected:r,testId:s,leftAccessory:a,horizontalRule:c,parentComponent:u,rightAccessory:p,style:g,subtitle1:S,subtitle2:x,role:f}=e,y=_e(e,Bn),l=this.getCheckComponent(),m=[oe.item,g];return i.createElement(fn,O({disabled:t,horizontalRule:c,rootStyle:u==="listbox"?oe.listboxItem:m,style:oe.itemContainer,"aria-selected":u!=="listbox"&&r?"true":"false",role:u!=="listbox"?f:void 0,testId:s,leftAccessory:i.createElement(i.Fragment,null,a?i.createElement($,{style:{flexDirection:"row"}},i.createElement(l,{disabled:t,selected:r}),i.createElement(Ce,{size:h.xSmall_8}),a):i.createElement(l,{disabled:t,selected:r})),rightAccessory:p,subtitle1:S?i.createElement(dt,{className:"subtitle"},S):void 0,title:i.createElement(ke,{style:oe.label},n),subtitle2:x?i.createElement(dt,{className:"subtitle"},x):void 0,onClick:u!=="listbox"?this.handleClick:void 0},y))}render(){const{disabled:e,focused:t,parentComponent:n,role:r,selected:s}=this.props;return n==="listbox"?i.createElement(Wn,{onMouseDown:a=>{a.preventDefault()},onClick:this.handleClick,style:[oe.reset,oe.item,t&&oe.itemFocused,e&&oe.itemDisabled],role:r,"aria-selected":s?"true":"false","aria-disabled":e?"true":"false",id:this.props.id,tabIndex:-1},this.renderCell()):this.renderCell()}}ue.defaultProps={disabled:!1,focused:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};ue.__IS_OPTION_ITEM__=!0;const{blue:it,white:Fe,offBlack:Nn}=d,Et={borderRadius:h.xxxSmall_4,outline:`${h.xxxxSmall_2}px solid ${d.blue}`,outlineOffset:-h.xxxxSmall_2},oe=T.StyleSheet.create({reset:{margin:0,padding:0,border:0,background:"none",outline:"none",fontSize:"100%",verticalAlign:"baseline",textAlign:"left",textDecoration:"none",listStyle:"none",cursor:"pointer"},listboxItem:{backgroundColor:"transparent",color:"inherit"},item:{backgroundColor:d.white,minHeight:"unset",":focus":Et,":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:Fe,background:it},":active[aria-selected=false]":{},":hover[aria-disabled=true]":{cursor:"not-allowed"},":is([aria-disabled=true])":{color:d.offBlack32,":focus-visible":{outline:"none"}},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:Fe,background:Nn}},":active[aria-disabled=false]":{color:d.fadedBlue,background:d.activeBlue},":hover[aria-disabled=false] .checkbox":{background:Fe},":hover[aria-disabled=false] .check":{color:it},":active[aria-disabled=false] .check":{color:d.activeBlue},":is([aria-selected=true]) .checkbox":{background:it},":is([aria-selected=true]) .check":{color:Fe},":is([aria-disabled=false]) .subtitle":{color:d.offBlack64},":hover[aria-disabled=false] .subtitle":{color:d.offWhite},":active[aria-disabled=false] .subtitle":{color:je(d.fadedBlue16,Fe)}},itemFocused:Et,itemDisabled:{outlineColor:d.offBlack32},itemContainer:{minHeight:"unset",padding:`${h.xSmall_8+h.xxxxSmall_2}px ${h.xSmall_8}px`,paddingRight:h.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class Z extends i.Component{static isClassOf(e){return e&&e.type&&e.type.__IS_SEPARATOR_ITEM__}render(){return i.createElement($,{style:[Hn.separator,this.props.style],"aria-hidden":"true"})}}Z.__IS_SEPARATOR_ITEM__=!0;const Hn=T.StyleSheet.create({separator:{boxShadow:`0 -1px ${d.offBlack16}`,height:1,minHeight:1,marginTop:h.xxxSmall_4,marginBottom:h.xxxSmall_4}});class Ke extends i.Component{constructor(...e){super(...e),this.getTestIdFromProps=t=>t.testId||t["data-testid"]}renderAnchorChildren(e,t){const{disabled:n,testId:r,text:s,opened:a,"aria-controls":c,"aria-haspopup":u,"aria-required":p,id:g,onBlur:S}=this.props,x=this.props.children(O({},e,{text:s,opened:a})),f=x.props,y=this.getTestIdFromProps(f);return i.cloneElement(x,O({},t,{"aria-invalid":this.props.error,disabled:n,"aria-controls":c,id:g,"aria-expanded":a?"true":"false","aria-haspopup":u,"aria-required":p,onClick:f.onClick?l=>{f.onClick(l),t.onClick(l)}:t.onClick,"data-testid":y||r,onBlur:S}))}render(){return i.createElement(Xt,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(e,t)=>this.renderAnchorChildren(e,t))}}Ke.defaultProps={disabled:!1};class Vn extends i.Component{render(){const{data:e,index:t,style:n}=this.props,r=e[t];if(Z.isClassOf(r.component))return i.cloneElement(r.component,{style:n});{const{component:s,populatedProps:a,onClick:c,role:u,ref:p}=r;return i.cloneElement(s,O({style:n},a,{key:t,onClick:c,ref:r.focusable&&p,role:u}))}}}function _t(o,e=0){return o.slice(0,Bt).reduce((t,n)=>Z.isClassOf(n.component)?t+Wt:t+se,e)}class qn extends i.Component{constructor(e){super(e),this.getItemSize=t=>{const n=this.props.data[t];return Z.isClassOf(n.component)?Wt:se},this.state={height:_t(e.data),width:e.width}}componentDidMount(){const{schedule:e}=this.props;e.animationFrame(()=>{this.setWidth()})}componentDidUpdate(e){const{data:t,listRef:n}=this.props;e.data.length!==t.length&&(this.setHeight(),n&&n.current&&n.current.resetAfterIndex(1))}setWidth(){const e=pe.findDOMNode(this),t=e==null?void 0:e.parentElement;if(t){const n=t.getBoundingClientRect().width;this.setState({width:n})}}setHeight(){const e=_t(this.props.data);this.setState({height:e})}renderInitialItems(){const{data:e}=this.props,t=e.map(r=>r.component);return i.Children.toArray(t).filter(Boolean).sort((r,s)=>s.props.label&&r.props.label?s.props.label.length-r.props.label.length:-1).slice(0,Bt).map(r=>i.cloneElement(r,{style:{visibility:"hidden"}}))}renderVirtualizedList(e,t){const{data:n,listRef:r}=this.props;return i.createElement(Fn,{height:t,itemCount:n.length,itemSize:this.getItemSize,itemData:n,style:{overflowX:"hidden"},width:e,overscanCount:5,ref:r},Vn)}render(){const{width:e,height:t}=this.state;return e==null?this.renderInitialItems():this.renderVirtualizedList(e,t)}}var Un=Ft(qn);function jn({state:o,options:e}){const t=nn(o,e),{y:n}=o.modifiersData.preventOverflow||{x:0,y:0},{height:r}=o.rects.popper,[s]=o.placement.split("-"),c=r-t[s==="top"?"top":"bottom"]-n;o.styles.popper=O({},o.styles.popper,{maxHeight:`${c}px`,"--popper-max-height":`${c}px`})}const Kn={name:"maxHeight",enabled:!0,phase:"main",options:{padding:se},requiresIfExists:["offset","preventOverflow","flip"],fn:jn},Gn=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},Kn],Xn=function({children:e,alignment:t="left",onPopperElement:n,referenceElement:r}){const s=rn(r)||document.querySelector("body");return s?pe.createPortal(i.createElement(tn,{innerRef:a=>{a&&n&&n(a)},referenceElement:r,strategy:"fixed",placement:t==="left"?"bottom-start":"bottom-end",modifiers:Gn},({placement:a,ref:c,style:u,hasPopperEscaped:p,isReferenceHidden:g})=>{const S=!!(p||g);return i.createElement("div",{ref:c,style:u,"data-testid":"dropdown-popper","data-placement":a},e(S))}),s):null};function Zn(o){return o.length===1||!/^[A-Z]/i.test(o)?o:""}function Yn(o,e){let t;return function(...r){const s=()=>{clearTimeout(t),o(...r)};clearTimeout(t),t=setTimeout(s,e)}}function Rt(o){return typeof o=="string"}function Ge(o){return Rt(o.label)?o.label:Rt(o.labelAsText)?o.labelAsText:""}function Nt(o,e){return o?Ge(e):e.label}const Qn=125,Jn=Le("span");class Xe extends i.Component{static sameItemsFocusable(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n].focusable!==t[n].focusable)return!1;return!0}static getDerivedStateFromProps(e,t){if(t.itemRefs.length===0&&e.open||!Xe.sameItemsFocusable(t.prevItems,e.items)){const n=[];for(let r=0;r<e.items.length;r++)if(e.items[r].focusable){const s=i.createRef();n.push({ref:s,originalIndex:r})}return{itemRefs:n,prevItems:e.items,sameItemsFocusable:!1}}else return{prevItems:e.items,sameItemsFocusable:!0}}constructor(e){super(e),this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.focusedIndex=-1,this.focusedOriginalIndex=-1,this.itemsClicked=!1,this.searchFieldRef=i.createRef(),this.handleInteract=t=>{const{open:n,onOpenChanged:r}=this.props,s=t.target,a=pe.findDOMNode(this);n&&a&&!a.contains(s)&&this.popperElement&&!this.popperElement.contains(s)&&r(!1)},this.handleKeyDown=t=>{const{enableTypeAhead:n,onOpenChanged:r,open:s,searchText:a}=this.props,c=t.key;if(n&&Zn(c)&&(t.stopPropagation(),this.textSuggestion+=c,this.handleKeyDownDebounced(this.textSuggestion)),!s){if(c===ce.down){t.preventDefault(),r(!0);return}return}switch(c){case ce.tab:if(this.isSearchFieldFocused()&&a)return;this.restoreTabOrder(),r(!1);return;case ce.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case ce.up:t.preventDefault(),this.focusPreviousItem();return;case ce.down:t.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=t=>{const{onOpenChanged:n,open:r}=this.props;switch(t.key){case ce.space:if(this.isSearchFieldFocused())return;t.preventDefault();return;case ce.escape:r&&(t.stopPropagation(),this.restoreTabOrder(),n(!1));return}},this.handleKeyDownDebounceResult=t=>{const n=this.props.items.filter(r=>r.focusable).findIndex(({component:r})=>{if(Z.isClassOf(r))return!1;if(ue.isClassOf(r)){const s=r.props;return Ge(s).toLowerCase().startsWith(t.toLowerCase())}return!1});if(n>=0){const r=!this.props.open;r&&this.props.onOpenChanged(!0),this.focusedIndex=n,this.scheduleToFocusCurrentItem(s=>{this.props.selectionType==="single"&&r&&s&&(s.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=t=>{this.itemsClicked=!0,this.focusedIndex=t,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=t=>{t.nativeEvent.stopImmediatePropagation?t.nativeEvent.stopImmediatePropagation():t.stopPropagation()},this.handleItemClick=(t,n)=>{this.handleClickFocus(t),n.component.props.onClick&&n.component.props.onClick(),n.populatedProps.onClick&&n.populatedProps.onClick()},this.handleSearchTextChanged=t=>{const{onSearchTextChanged:n}=this.props;n&&n(t)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:O({noResults:q.noResults,someResults:q.someSelected},e.labels)},this.virtualizedListRef=i.createRef(),this.handleKeyDownDebounced=Yn(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(e){const{open:t,searchText:n}=this.props;if(e.open!==t)this.updateEventListeners(),this.maybeFocusInitialItem();else if(t){const{itemRefs:r,sameItemsFocusable:s}=this.state;if(s||e.searchText!==n)return;{const a=r.findIndex(c=>c.originalIndex===this.focusedOriginalIndex);a===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=a}this.props.labels!==e.labels&&this.setState({labels:O({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:e}=this.props;if(typeof e<"u")this.focusedIndex=e;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:e,open:t}=this.props;e&&(t?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):t||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(e){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(e)}):this.focusCurrentItem(e)}focusCurrentItem(e){const t=this.state.itemRefs[this.focusedIndex];if(!t)return;const{current:n}=this.virtualizedListRef;n&&n.scrollToItem(t.originalIndex);const r=()=>{if(!this.props.open)return;const s=this.state.itemRefs[this.focusedIndex],a=pe.findDOMNode(s.ref.current);if(!a&&this.shouldVirtualizeList()){this.props.schedule.animationFrame(r);return}a&&(a.focus(),this.focusedOriginalIndex=s.originalIndex,e&&e(a))};this.shouldVirtualizeList()?this.props.schedule.animationFrame(r):r()}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.isSearchFieldFocused()||(this.focusedIndex-=1);this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1||this.isSearchFieldFocused()&&!this.props.enableTypeAhead){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.isSearchFieldFocused()||(this.focusedIndex+=1);this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:e}=this.props;switch(e){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${e}" instead.`)}}maybeRenderNoResults(){const{items:e,labels:{noResults:t}}=this.props;return e.length===0?i.createElement(ke,{style:ie.noResult,testId:"dropdown-core-no-results"},t):null}shouldVirtualizeList(){return this.props.items.length>Qn}renderList(){let e=0;const t=this.getItemRole();return this.props.items.map((n,r)=>{if(Z.isClassOf(n.component))return n.component;const{component:s,focusable:a,populatedProps:c}=n;a&&(e+=1);const u=e-1,p=this.state.itemRefs[u]?this.state.itemRefs[u].ref:null;return i.cloneElement(s,O({},c,{key:r,onClick:()=>{this.handleItemClick(u,n)},ref:a?p:null,role:c.role||t}))})}parseVirtualizedItems(){let e=0;const t=this.getItemRole();return this.props.items.map((n,r)=>{const{populatedProps:s}=n;!Z.isClassOf(n.component)&&n.focusable&&(e+=1);const a=e-1;return O({},n,{role:s.role||t,ref:n.focusable&&this.state.itemRefs[a]?this.state.itemRefs[a].ref:null,onClick:()=>{this.handleItemClick(a,n)}})})}renderVirtualizedList(){const e=this.parseVirtualizedItems();return i.createElement(Un,{data:e,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:e}=this.props,{labels:t}=this.state;return i.createElement(Sn,{clearAriaLabel:t.clearSearch,onChange:this.handleSearchTextChanged,placeholder:t.filter,ref:this.searchFieldRef,style:ie.searchInputStyle,value:e||""})}renderDropdownMenu(e,t){const{"aria-invalid":n,"aria-required":r,dropdownStyle:s,isFilterable:a,light:c,openerElement:u,role:p,id:g}=this.props,S=u&&window.getComputedStyle(u),x=S?S.getPropertyValue("width"):0;return i.createElement($,{onMouseUp:this.handleDropdownMouseUp,style:[ie.dropdown,c&&ie.light,t&&ie.hidden,s],testId:"dropdown-core-container"},a&&this.renderSearchField(),i.createElement($,{id:g,role:p,style:[ie.listboxOrMenu,{minWidth:x}],"aria-invalid":p==="listbox"?n:void 0,"aria-required":p==="listbox"?r:void 0},e),this.maybeRenderNoResults())}renderDropdown(){const{alignment:e,openerElement:t}=this.props,n=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return i.createElement(Xn,{alignment:e,onPopperElement:r=>{this.popperElement=r},referenceElement:t},r=>this.renderDropdownMenu(n,r))}renderLiveRegion(){const{items:e,open:t}=this.props,{labels:n}=this.state,r=e.length;return i.createElement(Jn,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:ie.srOnly,"data-testid":"dropdown-live-region"},t&&n.someResults(r))}render(){const{open:e,opener:t,style:n,className:r,disabled:s}=this.props;return i.createElement($,{onKeyDown:s?void 0:this.handleKeyDown,onKeyUp:s?void 0:this.handleKeyUp,style:[ie.menuWrapper,n],className:r},this.renderLiveRegion(),t,e&&this.renderDropdown())}}Xe.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:q.clearSearch,filter:q.filter,noResults:q.noResults,someResults:q.someSelected},light:!1,selectionType:"single"};const ie=T.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:d.white,borderRadius:4,paddingTop:h.xxxSmall_4,paddingBottom:h.xxxSmall_4,border:`solid 1px ${d.offBlack16}`,boxShadow:`0px 8px 8px 0px ${Yt(d.offBlack,.1)}`,maxHeight:"var(--popper-max-height)"},light:{border:"none"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:d.offBlack64,alignSelf:"center",marginTop:h.xxSmall_6},searchInputStyle:{margin:h.xSmall_8,marginTop:h.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var ut=Ft(Xe);const er=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],tr=Le("button");class nr extends i.Component{render(){const e=this.props,{children:t,disabled:n,focused:r,hovered:s,pressed:a,testId:c,opened:u,"aria-label":p}=e,g=_e(e,er),S=d.blue,x=rr(S),f=n,y=[st.shared,f&&st.disabled,x.default,f&&x.disabled,!f&&a&&x.active],l=i.createElement(Ut,{style:st.text},t);return i.createElement(tr,O({"aria-expanded":u?"true":"false","aria-haspopup":"menu","aria-label":p,disabled:f,style:y,type:"button"},g,{"data-testid":c}),i.createElement($,{style:!f&&(s||r)&&x.focus},l),i.createElement(Ce,{size:h.xxxSmall_4}),i.createElement(Ee,{size:"small",color:"currentColor",icon:Mt,"aria-hidden":"true"}))}}const st=T.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:se,border:"none",borderRadius:h.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"auto"},small:{height:h.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"}}),He={},rr=o=>{const e=o;if(He[e])return He[e];const{offBlack32:t}=d,n=d.activeBlue;let r={};return r={default:{background:"none",color:o},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:2}},active:{color:n},disabled:{color:t,cursor:"default"}},He[e]=T.StyleSheet.create(r),He[e]},or=["text","opened"];class ir extends i.Component{constructor(...e){super(...e),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=t=>{this.setState({opened:t}),this.props.onToggle&&this.props.onToggle(t)},this.handleOptionSelected=t=>{const{onChange:n,selectedValues:r}=this.props;if(!(!n||!r)){if(r.includes(t)){const s=r.indexOf(t),a=[...r.slice(0,s),...r.slice(s+1)];n(a)}else n([...r,t]);this.handleItemSelected()}},this.handleOpenerRef=t=>{this.openerElement=pe.findDOMNode(t)},this.handleClick=t=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(e,t){return{opened:typeof e.opened=="boolean"?e.opened:t.opened}}getMenuItems(){const{children:e,selectedValues:t}=this.props,n=i.Children.toArray(e).filter(Boolean),r=n.some(s=>ue.isClassOf(s));return n.map(s=>{const{value:a,disabled:c}=s.props,u={component:s,focusable:we.isClassOf(s)||ue.isClassOf(s)?!c:!1,populatedProps:{}};if(we.isClassOf(s))return O({},u,{populatedProps:{indent:r,onClick:this.handleItemSelected}});if(ue.isClassOf(s)){const p=t?t.includes(a):!1;return O({},u,{populatedProps:{onToggle:this.handleOptionSelected,selected:p,variant:"check",role:"menuitemcheckbox","aria-checked":p,"aria-selected":void 0}})}else return u})}renderOpener(e,t){const{disabled:n,menuText:r,opener:s,testId:a,id:c}=this.props;return i.createElement(he,{id:c},u=>i.createElement(Ke,{id:u,"aria-controls":t,"aria-haspopup":"menu",onClick:this.handleClick,disabled:e===0||n,text:r,ref:this.handleOpenerRef,testId:s?void 0:a,opened:this.state.opened},s||(p=>{const{opened:g}=p,S=_e(p,or);return i.createElement(nr,O({},S,{disabled:n,opened:!!g,testId:a}),r)})))}render(){const{alignment:e,dropdownStyle:t,style:n,className:r,dropdownId:s}=this.props,a=this.getMenuItems();return i.createElement(he,{id:s},c=>i.createElement(ut,{id:c,role:"menu",style:n,className:r,opener:this.renderOpener(a.length,c),alignment:e,open:this.state.opened,items:a,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[sr.menuTopSpace,t]}))}}ir.defaultProps={alignment:"left",disabled:!1};const sr=T.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),lr=["children","disabled","error","id","isPlaceholder","light","open","testId","aria-required","onBlur","onOpenChanged"],ar=Le("button");class ht extends i.Component{constructor(e){super(e),this.handleClick=t=>{const{open:n}=this.props;this.props.onOpenChanged(!n)},this.handleKeyDown=t=>{const n=t.key;(n==="Enter"||n===" ")&&(this.setState({pressed:!0}),t.preventDefault())},this.handleKeyUp=t=>{const n=t.key;(n==="Enter"||n===" ")&&(this.setState({pressed:!1}),this.handleClick(t))},this.state={pressed:!1}}render(){const e=this.props,{children:t,disabled:n,error:r,id:s,isPlaceholder:a,light:c,open:u,testId:p,"aria-required":g,onBlur:S}=e,x=_e(e,lr),f=dr(c,a,r),y=c?n||r?"currentColor":d.white:n?d.offBlack32:d.offBlack64,l=[lt.shared,f.default,n&&f.disabled,!n&&this.state.pressed&&f.pressed];return i.createElement(ar,O({},x,{"aria-disabled":n,"aria-expanded":u?"true":"false","aria-invalid":r,"aria-required":g,"aria-haspopup":"listbox","data-testid":p,id:s,style:l,type:"button",onClick:n?void 0:this.handleClick,onKeyDown:n?void 0:this.handleKeyDown,onKeyUp:n?void 0:this.handleKeyUp,onBlur:S}),i.createElement(ke,{style:lt.text},t||" "),i.createElement(Ee,{icon:Mt,color:y,size:"small",style:lt.caret,"aria-hidden":"true"}))}}ht.defaultProps={disabled:!1,error:!1,light:!1,isPlaceholder:!1};const lt=T.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:d.offBlack,height:se,paddingLeft:h.medium_16,paddingRight:h.small_12,borderWidth:0,borderRadius:j.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:h.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),Ve=h.medium_16-1,qe=h.small_12-1,Ue={},dr=(o,e,t)=>{const n=`${o}-${e}-${t}`;if(Ue[n])return Ue[n];let r={};if(o){const s={borderColor:t?d.red:d.white,borderWidth:h.xxxxSmall_2,paddingLeft:Ve,paddingRight:qe},a={paddingLeft:Ve,paddingRight:qe,borderColor:t?d.red:d.fadedBlue,borderWidth:j.width.thin,color:t?d.offBlack64:e?je(d.white32,d.blue):d.fadedBlue,backgroundColor:t?d.fadedRed:d.activeBlue};r={default:{background:t?d.fadedRed8:"transparent",color:t?d.offBlack64:e?d.white50:d.white,borderColor:t?d.red:d.white50,borderWidth:j.width.hairline,":hover:not([aria-disabled=true])":s,"@media not (hover: hover)":{":hover:not([aria-disabled=true])":{borderColor:t?d.red:d.white50,borderWidth:j.width.hairline,paddingLeft:h.medium_16,paddingRight:h.small_12}},":focus-visible:not([aria-disabled=true])":s,":active:not([aria-disabled=true])":a},disabled:{background:"transparent",borderColor:je(d.white32,d.blue),color:je(d.white32,d.blue),cursor:"not-allowed",":focus-visible":{boxShadow:`0 0 0 1px ${d.offBlack32}, 0 0 0 3px ${d.fadedBlue}`}},pressed:a}}else{const s={borderColor:t?d.red:d.blue,borderWidth:j.width.thin,paddingLeft:Ve,paddingRight:qe},a={background:t?d.fadedRed:d.fadedBlue,borderColor:t?d.red:d.activeBlue,borderWidth:j.width.thin,paddingLeft:Ve,paddingRight:qe};r={default:{background:t?d.fadedRed8:d.white,borderColor:t?d.red:d.offBlack50,borderWidth:j.width.hairline,color:e?d.offBlack64:d.offBlack,":hover:not([aria-disabled=true])":s,"@media not (hover: hover)":{":hover:not([aria-disabled=true])":{borderColor:t?d.red:d.offBlack50,borderWidth:j.width.hairline,paddingLeft:h.medium_16,paddingRight:h.small_12}},":focus-visible:not([aria-disabled=true])":s,":active:not([aria-disabled=true])":a},disabled:{background:d.offWhite,borderColor:d.offBlack16,color:d.offBlack64,cursor:"not-allowed",":focus-visible":{boxShadow:`0 0 0 1px ${d.white}, 0 0 0 3px ${d.offBlack32}`}},pressed:a}}return Ue[n]=T.StyleSheet.create(r),Ue[n]},cr="This field is required.";function ze(o){return o?o.length>0:!1}function Ht({value:o,disabled:e=!1,validate:t,onValidate:n,required:r,open:s}){const[a,c]=i.useState(()=>t&&ze(o)&&!e&&t(o)||null),u=i.useCallback(f=>{if(!e){if(t){const y=f!==void 0&&t(f)||null;if(c(y),n&&n(y),y)return}if(r){const y=typeof r=="string"?r:cr,l=ze(f)?null:y;c(l),n&&n(l)}}},[e,t,c,n,r]);Zt(()=>{ze(o)&&u(o)});function p(){!s&&r&&!ze(o)&&u(o)}return{errorMessage:a,onOpenerBlurValidation:p,onDropdownClosedValidation:()=>{r&&!ze(o)&&u(o)},onSelectionValidation:f=>{u(f)},onSelectedValuesChangeValidation:()=>{c(null),n&&n(null)}}}const ur=["children","error","id","opener","light","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-invalid","aria-required","disabled","dropdownId","validate","onValidate","required","showOpenerLabelAsText"],hr=o=>{const e=i.useRef(0),{children:t,error:n=!1,id:r,opener:s,light:a=!1,placeholder:c,selectedValue:u,testId:p,alignment:g="left",autoFocus:S=!0,dropdownStyle:x,enableTypeAhead:f=!0,isFilterable:y,labels:l={clearSearch:q.clearSearch,filter:q.filter,noResults:q.noResults,someResults:q.someSelected},onChange:m,onToggle:b,opened:I,style:C,className:R,"aria-invalid":v,"aria-required":k,disabled:_=!1,dropdownId:F,validate:L,onValidate:Y,required:Q,showOpenerLabelAsText:J=!0}=o,K=_e(o,ur),[D,B]=i.useState(!1),[ee,te]=i.useState(""),[G,Re]=i.useState(),{errorMessage:fe,onOpenerBlurValidation:me,onDropdownClosedValidation:ge,onSelectionValidation:be}=Ht({value:u,disabled:_,validate:L,onValidate:Y,required:Q,open:D}),U=n||!!fe;i.useEffect(()=>{_?B(!1):typeof I=="boolean"&&B(I)},[_,I]);const ne=E=>{B(E),te(""),b&&b(E),E||ge()},Pe=E=>{E!==u&&m(E),D&&G&&G.focus(),B(!1),b&&b(!1),be(E)},Oe=E=>{let W=0;return e.current=0,E.map(le=>{const{disabled:re,value:Se}=le.props,ae=u===Se;return ae&&(e.current=W),re||(W+=1),{component:le,focusable:!re,populatedProps:{onToggle:Pe,selected:ae,variant:"check"}}})},Ze=E=>{const W=ee.toLowerCase();return E.filter(({props:le})=>!ee||Ge(le).toLowerCase().indexOf(W)>-1)},Ye=E=>Oe(y?Ze(E):E),Qe=E=>{te(E)},Me=E=>{const W=pe.findDOMNode(E);Re(W)},Je=E=>{ne(!D)},et=(E,W)=>{const re=i.Children.toArray(t).find(de=>de.props.value===u),Se=re?Nt(J,re.props):c;return i.createElement(he,{id:r},de=>s?i.createElement(Ke,{id:de,"aria-controls":W,"aria-haspopup":"listbox",onClick:Je,disabled:E,ref:Me,text:Se,opened:D,error:U,onBlur:me},s):i.createElement(ht,O({},K,{"aria-controls":W,disabled:E,id:de,error:U,isPlaceholder:!re,light:a,onOpenChanged:ne,open:D,ref:Me,testId:p,onBlur:me}),Se))},xe=i.Children.toArray(t).filter(Boolean),$e=xe.filter(E=>!E.props.disabled).length,tt=Ye(xe),De=$e===0||_;return i.createElement(he,{id:F},E=>i.createElement(ut,{id:E,role:"listbox",selectionType:"single",alignment:g,autoFocus:S,enableTypeAhead:f,dropdownStyle:[y&&Dt,$t,x],initialFocusedIndex:e.current,items:tt,light:a,onOpenChanged:ne,open:D,opener:et(De,E),openerElement:G,style:C,className:R,isFilterable:y,onSearchTextChanged:y?Qe:void 0,searchText:y?ee:"",labels:l,"aria-invalid":v,"aria-required":k,disabled:De}))},pr=["id","light","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-invalid","aria-required","disabled","error","children","dropdownId","showOpenerLabelAsText","validate","onValidate","required"],fr=o=>{const{id:e,light:t=!1,opener:n,testId:r,alignment:s="left",dropdownStyle:a,implicitAllEnabled:c,isFilterable:u,labels:p,onChange:g,onToggle:S,opened:x,selectedValues:f=[],shortcuts:y=!1,style:l,className:m,"aria-invalid":b,"aria-required":I,disabled:C=!1,error:R=!1,children:v,dropdownId:k,showOpenerLabelAsText:_=!0,validate:F,onValidate:L,required:Y}=o,Q=_e(o,pr),J=O({},q,p),[K,D]=i.useState(!1),[B,ee]=i.useState(""),[te,G]=i.useState([]),[Re,fe]=i.useState(),{errorMessage:me,onOpenerBlurValidation:ge,onDropdownClosedValidation:be,onSelectionValidation:U,onSelectedValuesChangeValidation:ne}=Ht({value:f,disabled:C,validate:F,onValidate:L,required:Y,open:K}),Pe=R||!!me;i.useEffect(()=>{C?D(!1):typeof x=="boolean"&&D(x)},[C,x]);const Oe=w=>{D(w),ee(""),G(f),S&&S(w),w||(te!==f?U(f):be())},Ze=w=>{if(f.includes(w)){const A=f.indexOf(w),z=[...f.slice(0,A),...f.slice(A+1)];g(z)}else g([...f,w]);ne()},Ye=()=>{const A=i.Children.toArray(v).filter(z=>!!z&&!z.props.disabled).map(z=>z.props.value);g(A)},Qe=()=>{g([])},Me=w=>{const{noneSelected:A,someSelected:z,allSelected:N}=J,H=w.filter(P=>!P.props.disabled).length,X=c?N:A;switch(f.length){case 0:return X;case 1:const P=w.find(ye=>ye.props.value===f[0]);if(P){const ye=Nt(_,P==null?void 0:P.props);return ye||z(1)}return X;case H:return N;default:return z(f.length)}},Je=w=>{const{selectAllLabel:A,selectNoneLabel:z}=J;if(y&&!B){const N=w===f.length,H={component:i.createElement(we,{disabled:N,label:A(w),indent:!0,onClick:Ye}),focusable:!N,populatedProps:{}},X=f.length===0,P={component:i.createElement(we,{disabled:X,label:z,indent:!0,onClick:Qe}),focusable:!X,populatedProps:{}},ye={component:i.createElement(Z,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[H,P,ye]}else return[]},et=w=>{if(!u)return w.map(xe);const A=B.toLowerCase(),z=w.filter(({props:P})=>!B||Ge(P).toLowerCase().indexOf(A)>-1),N=[],H=[];for(const P of z)te.includes(P.props.value)?N.push(P):H.push(P);const X=N.map(xe);return N.length&&H.length&&X.push({component:i.createElement(Z,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...X,...H.map(xe)]},xe=w=>{const{disabled:A,value:z}=w.props;return{component:w,focusable:!A,populatedProps:{onToggle:Ze,selected:f.includes(z),variant:"checkbox"}}},$e=w=>{const A=pe.findDOMNode(w);fe(A)},tt=w=>{ee(w)},De=w=>{Oe(!K)},E=(w,A,z)=>{const{noneSelected:N}=J,H=Me(w);return i.createElement(he,{id:e},P=>n?i.createElement(Ke,{id:P,error:Pe,"aria-controls":z,"aria-haspopup":"listbox",onClick:De,onBlur:ge,disabled:A,ref:$e,text:H,opened:K},n):i.createElement(ht,O({},Q,{error:Pe,disabled:A,id:P,"aria-controls":z,isPlaceholder:H===N,light:t,onOpenChanged:Oe,onBlur:ge,open:K,ref:$e,testId:r}),H))},{clearSearch:W,filter:le,noResults:re,someSelected:Se}=J,ae=i.Children.toArray(v).filter(Boolean),de=ae.filter(w=>!w.props.disabled).length,Vt=et(ae),pt=de===0||C;return i.createElement(he,{id:k},w=>i.createElement(ut,{id:w,role:"listbox",alignment:s,dropdownStyle:[u&&Dt,$t,a],isFilterable:u,items:[...Je(de),...Vt],light:t,onOpenChanged:Oe,open:K,opener:E(ae,pt,w),openerElement:Re,selectionType:"multi",style:l,className:m,onSearchTextChanged:u?tt:void 0,searchText:u?B:"",labels:{clearSearch:W,filter:le,noResults:re,someResults:Se},"aria-invalid":b,"aria-required":I,disabled:pt}))};Le("span");T.StyleSheet.create({srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});i.memo(function({disabled:e,focusedMultiSelectIndex:t,id:n,labels:r,onRemove:s,removeSelectedLabel:a,selected:c,testId:u}){return i.createElement($,{role:"group",style:at.pillsWrapper,id:n},c.map((p,g)=>{const S=r[g],x=g===t,f=n+g;return i.createElement(on,{id:f,key:f,testId:u?`${u}-pill-${g}`:void 0,size:"small",style:[at.pill,x&&at.pillFocused],kind:x?"info":"neutral","aria-label":a(S),tabIndex:-1,onClick:()=>s(p)},i.createElement(i.Fragment,null,S,!e&&i.createElement(Ee,{icon:Tt,size:"small"})))}))});const at=T.StyleSheet.create({pillsWrapper:{flexDirection:"row",flexWrap:"wrap"},pill:{fontSize:Qt.size.small,justifyContent:"space-between",alignItems:"center",marginBlockStart:h.xxxSmall_4,marginInlineEnd:h.xxxSmall_4,paddingInlineEnd:h.xxxSmall_4},pillFocused:{outline:`1px solid ${d.blue}`}});T.StyleSheet.create({listbox:{outline:"none"},disabled:{color:d.offBlack64}});T.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"center",width:"100%",maxWidth:"100%",flexWrap:"wrap",background:d.white,borderRadius:j.radius.medium_4,border:`solid 1px ${d.offBlack50}`,paddingInline:h.xSmall_8},focused:{background:d.white,border:`1px solid ${d.blue}`},disabled:{background:d.offWhite,border:`1px solid ${d.offBlack16}`,color:d.offBlack64},error:{background:d.fadedRed8,border:`1px solid ${d.red}`,color:d.offBlack},combobox:{appearance:"none",background:"none",border:"none",outline:"none",padding:0,minWidth:h.xxxSmall_4,width:"auto",display:"inline-grid",gridArea:"1 / 2",":focus-visible":{outline:"none",border:"none"}},listbox:{backgroundColor:d.white,borderRadius:j.radius.medium_4,border:`solid 1px ${d.offBlack16}`,boxShadow:`0px ${h.xSmall_8}px ${h.xSmall_8}px 0px ${d.offBlack8}`,maxHeight:"var(--popper-max-height)",overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},button:{position:"absolute",right:h.xxxSmall_4,top:h.xxxSmall_4,margin:0},buttonOpen:{transform:"rotate(180deg)"},clearButton:{right:h.xLarge_32+h.xSmall_8},iconWrapper:{padding:h.xxxSmall_4,minWidth:"auto"}});const mr=o=>{const{strings:e}=sn(),t=p=>{const{choices:g,onChange:S}=o;S(g.map(x=>p.includes(x.content)))},n=p=>p.map(({content:g})=>Be.jsx(ue,{value:g,label:Be.jsx(ln,{content:g,strings:e,inline:!0})},g)),r=o.choices.filter(p=>p.checked).map(p=>p.content),{opener:s,onToggle:a,disabled:c}=o,u={style:{zIndex:"unset"},children:n(o.choices),opener:s,onToggle:a,disabled:c};return o.multipleSelect?Be.jsx(fr,{...u,selectedValues:r,onChange:p=>t(p)}):Be.jsx(hr,{...u,selectedValue:r[0],onChange:p=>t([p]),placeholder:o.choices[0].content})};mr.__docgenInfo={description:"",methods:[],displayName:"AnswerChoices",props:{choices:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"signature",type:"object",raw:`{
    // The answer string, can be plain text or a TeX expression.
    content: string;
    // Whether the answer is selected.
    checked: boolean;
}`,signature:{properties:[{key:"content",value:{name:"string",required:!0}},{key:"checked",value:{name:"boolean",required:!0}}]}}],raw:"ReadonlyArray<AnswerType>"},description:""},multipleSelect:{required:!0,tsType:{name:"boolean"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selection: ReadonlyArray<boolean>) => void",signature:{arguments:[{type:{name:"ReadonlyArray",elements:[{name:"boolean"}],raw:"ReadonlyArray<boolean>"},name:"selection"}],return:{name:"void"}}},description:""},opener:{required:!0,tsType:{name:'PropsFor["opener"]',raw:'PropsFor<typeof SingleSelect>["opener"]'},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(opened: boolean) => unknown",signature:{arguments:[{type:{name:"boolean"},name:"opened"}],return:{name:"unknown"}}},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""}}};export{mr as A,ue as O,hr as S,ir as a,we as b,Mt as c};
