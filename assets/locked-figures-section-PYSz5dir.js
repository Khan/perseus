import{j as e,a as u}from"./jsx-runtime-BGVbfQ2Z.js";import{V as g,u as x}from"./index-4c2J3ov1.js";import{a as R,b as C,S as L,O as m}from"./answer-choices-tIBEIb95.js";import{s as d,c as $}from"./index-25YgVP-A.js";import{l as I}from"./index-awljIyHI.js";import{a as A,S as q,L as v,b as M}from"./locked-point-settings-GnXELaQj.js";import{b as O,L as w}from"./index-Fg8WJp4t.js";import{C as U}from"./color-select-lS3MOa5e.js";import{C as j}from"./color-swatch-VJuXaKlv.js";import{g as B}from"./util-GazPx91e.js";const z=o=>{const{id:c,onChange:i}=o;return e(g,{style:F.container,children:e(R,{menuText:"Add locked figure",style:F.addElementSelect,children:[e(C,{label:"Point",onClick:()=>i("point"),children:"Point"},`${c}-point`),e(C,{label:"Line",onClick:()=>i("line"),children:"Line"},`${c}-line`)]})})},F=I.StyleSheet.create({container:{marginTop:d.xSmall_8},addElementSelect:{backgroundColor:$.fadedBlue8,borderRadius:d.xxxSmall_4}});try{lockedfigureselect.displayName="lockedfigureselect",lockedfigureselect.__docgenInfo={description:"",displayName:"lockedfigureselect",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}}}catch{}const D=o=>{const{kind:c,points:i,color:p,lineStyle:y="solid",showStartPoint:f,showEndPoint:h,onChangeProps:n,onRemove:r}=o,[t,s]=i,k=x(),P=k.get("line-kind-select"),T=k.get("line-color-select"),S=k.get("line-style-select"),E=`Line (${t.coord[0]}, ${t.coord[1]}),
        (${s.coord[0]}, ${s.coord[1]})`;function _(l,b){const V=[...i];V[b]={...i[b],...l},n({points:V})}function N(l){n({color:l,points:[{...t,color:l},{...s,color:l}]})}return u(A,{header:u(g,{style:a.row,children:[e(O,{children:E}),e(q,{size:d.xSmall_8}),e(j,{color:p})]}),children:[u(g,{style:[a.row,a.spaceUnder],children:[e(w,{htmlFor:P,style:a.label,tag:"label",children:"kind"}),u(L,{id:P,selectedValue:c,onChange:l=>n({kind:l}),placeholder:"",children:[e(m,{value:"line",label:"line"}),e(m,{value:"segment",label:"segment"}),e(m,{value:"ray",label:"ray"})]})]}),u(g,{style:[a.row,a.spaceUnder],children:[e(U,{id:T,selectedValue:p,onChange:N}),e(q,{size:d.small_12}),u(g,{style:a.row,children:[e(w,{htmlFor:S,style:a.label,tag:"label",children:"style"}),u(L,{id:S,selectedValue:y,onChange:l=>n({lineStyle:l}),placeholder:"",style:a.selectMarginOffset,children:[e(m,{value:"solid",label:"solid"}),e(m,{value:"dashed",label:"dashed"})]})]})]}),e(v,{label:"Start point",toggled:f,...t,onToggle:l=>n({showStartPoint:l}),onChangeProps:l=>_(l,0),style:a.lockedPointSettingsContainer}),e(v,{label:"End point",toggled:h,...s,onToggle:l=>n({showEndPoint:l}),onChangeProps:l=>_(l,1),style:a.lockedPointSettingsContainer}),e(M,{onRemove:r,figureAriaLabel:`locked line defined by
                    ${t.coord[0]}, ${t.coord[1]} and
                    ${s.coord[0]}, ${s.coord[1]}.`})]})},a=I.StyleSheet.create({lockedPointSettingsContainer:{marginTop:d.xSmall_8,marginBottom:0,marginLeft:-d.xxxSmall_4,marginRight:-d.xxxSmall_4,backgroundColor:$.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:d.xSmall_8},label:{marginInlineEnd:d.xxxSmall_4},selectMarginOffset:{marginInlineEnd:-d.xxxSmall_4}});try{lockedlinesettings.displayName="lockedlinesettings",lockedlinesettings.__docgenInfo={description:"",displayName:"lockedlinesettings",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"line"'}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[startPoint: LockedPointType, endPoint: LockedPointType]"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showStartPoint:{defaultValue:null,description:"",name:"showStartPoint",required:!0,type:{name:"boolean"}},showEndPoint:{defaultValue:null,description:"",name:"showEndPoint",required:!0,type:{name:"boolean"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}},onChangeProps:{defaultValue:null,description:"",name:"onChangeProps",required:!0,type:{name:"(newProps: Partial<LockedFigure>) => void"}}}}}catch{}const H=o=>{switch(o.type){case"point":return e(v,{...o});case"line":return e(D,{...o})}return null};try{lockedfiguresettings.displayName="lockedfiguresettings",lockedfiguresettings.__docgenInfo={description:"",displayName:"lockedfiguresettings",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"point"'}]}},coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"Coord"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},filled:{defaultValue:null,description:"",name:"filled",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},toggled:{defaultValue:null,description:"",name:"toggled",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void) | (() => void)"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!1,type:{name:"((newValue: any) => void)"}},onChangeProps:{defaultValue:null,description:"",name:"onChangeProps",required:!0,type:{name:"((newProps: Partial<LockedPointType>) => void) | ((newProps: Partial<LockedFigure>) => void)"}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[startPoint: LockedPointType, endPoint: LockedPointType]"}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showStartPoint:{defaultValue:null,description:"",name:"showStartPoint",required:!0,type:{name:"boolean"}},showEndPoint:{defaultValue:null,description:"",name:"showEndPoint",required:!0,type:{name:"boolean"}}}}}catch{}const W=o=>{const c=x().get("locked-figures-section"),{figures:i,onChange:p}=o;function y(n){const t={lockedFigures:[...i||[],B(n)]};p(t)}function f(n){if(window.confirm("Are you sure you want to delete this figure?")){const r=i||[];p({lockedFigures:[...r.slice(0,n),...r.slice(n+1)]})}}function h(n,r){const t=i||[],s={lockedFigures:[...t.slice(0,n),{...t[n],...r},...t.slice(n+1)]};p(s)}return u(g,{children:[i==null?void 0:i.map((n,r)=>e(H,{...n,onChangeProps:t=>h(r,t),onRemove:()=>f(r)},`${c}-locked-${n}-${r}`)),e(z,{id:`${c}-select`,onChange:y})]})},te=W;try{lockedfiguressection.displayName="lockedfiguressection",lockedfiguressection.__docgenInfo={description:"",displayName:"lockedfiguressection",props:{figures:{defaultValue:null,description:"",name:"figures",required:!1,type:{name:"LockedFigure[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(props: Partial<Props>) => void"}}}}}catch{}export{te as L};
