import{_ as y}from"./index-default-4_ZsnO94.js";const $e=(e,t)=>{let n="v";t==="__lib_version__"&&(n="");const s=`${n}${t}`;if(typeof globalThis<"u"){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const o=globalThis.__perseus_debug__[e];if(o){if(o!==s){const c=Array.isArray(o)?o:[o];c.push(s),globalThis.__perseus_debug__[e]=c,console.warn(`Multiple versions of ${e} loaded on this page: ${c.sort().join(", ")}`)}}else globalThis.__perseus_debug__[e]=s}else console.warn(`globalThis not found found (${s})`)};function ue(e,t){return typeof e=="number"&&typeof t=="number"?Math.abs(e-t)<1e-9:e===t}function N(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!N(e[n],t[n]))return!1;return!0}return Array.isArray(e)||Array.isArray(t)?!1:typeof e=="function"&&typeof t=="function"?ue(e,t):typeof e=="function"||typeof t=="function"?!1:typeof e=="object"&&typeof t=="object"&&e&&t?e===t||y.all(e,function(n,s){return N(t[s],n)})&&y.all(t,function(n,s){return N(e[s],n)}):typeof e=="object"&&e||typeof t=="object"&&t?!1:ue(e,t)}const ne={PLOT:"PLOT",PARABOLA:"PARABOLA",SINUSOID:"SINUSOID"};function pe(e){let t=e[0],n=e[1],s=e[2];const o=e[3];t<0&&(t*=-1,n*=-1,s*=-1);const c=2*Math.PI;for(n<0&&(n*=-1,s*=-1,s+=c/2);s>0;)s-=c;for(;s<0;)s+=c;return[t,n,s,o]}function ge(e){let t=e[0],n=e[1],s=e[2];const o=e[3];t<0&&(t*=-1,n*=-1,s*=-1);const c=Math.PI;for(n<0&&(n*=-1,s*=-1,s+=c/2);s>0;)s-=c;for(;s<0;)s+=c;return[t,n,s,o]}const M={areEqual:function(e,t){return N(e,t)},movable:ne.PLOT,getPropsForCoeffs:function(e){return{fn:y.partial(this.getFunctionForCoeffs,e)}}},Se=y.extend({},M,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],s=n[0]-t[0],o=n[1]-t[1];if(s===0)return;const c=o/s,p=n[1]-c*n[0];return[c,p]},getFunctionForCoeffs:function(e,t){const n=e[0],s=e[1];return n*t+s},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],s=t[1];return"y = "+n.toFixed(3)+"x + "+s.toFixed(3)}}),ke=y.extend({},M,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],movable:ne.PARABOLA,getCoefficients:function(e){const t=e[0],n=e[1],s=t[0],o=t[1],c=(n[1]-o)/((n[0]-s)*(n[0]-s)),p=-2*s*c,f=c*s*s+o;return[c,p,f]},getFunctionForCoeffs:function(e,t){const n=e[0],s=e[1],o=e[2];return(n*t+s)*t+o},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2]}},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],s=t[1],o=t[2];return"y = "+n.toFixed(3)+"x^2 + "+s.toFixed(3)+"x + "+o.toFixed(3)}}),Ae=y.extend({},M,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],movable:ne.SINUSOID,getCoefficients:function(e){const t=e[0],n=e[1],s=n[1]-t[1],o=Math.PI/(2*(n[0]-t[0])),c=t[0]*o,p=t[1];return[s,o,c,p]},getFunctionForCoeffs:function(e,t){const n=e[0],s=e[1],o=e[2],c=e[3];return n*Math.sin(s*t-o)+c},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2],d:e[3]}},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],s=t[1],o=t[2],c=t[3];return"y = "+n.toFixed(3)+" sin("+s.toFixed(3)+"x - "+o.toFixed(3)+") + "+c.toFixed(3)},areEqual:function(e,t){return N(pe(e),pe(t))}}),xe=y.extend({},M,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],s=n[1]-t[1],o=Math.PI/(4*(n[0]-t[0])),c=t[0]*o,p=t[1];return[s,o,c,p]},getFunctionForCoeffs:function(e,t){const n=e[0],s=e[1],o=e[2],c=e[3];return n*Math.tan(s*t-o)+c},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],s=t[1],o=t[2],c=t[3];return"y = "+n.toFixed(3)+" sin("+s.toFixed(3)+"x - "+o.toFixed(3)+") + "+c.toFixed(3)},areEqual:function(e,t){return N(ge(e),ge(t))}}),me=y.extend({},M,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(e,t,n,s,o){const c=s[0][1];return y.all(n,p=>p[1]!==c)},extraAsymptoteConstraint:function(e,t,n,s,o){const c=e[1];if(y.all(n,w=>w[1]>c)||y.all(n,w=>w[1]<c))return[t[0],c];const f=t[1];if(y.all(n,w=>w[1]>f)){const w=y.min(y.map(n,Z=>Z[1]));return[t[0],w-o.snapStep[1]]}const k=y.max(y.map(n,w=>w[1]));return[t[0],k+o.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const n=e[0],s=e[1],o=t[0][1],c=Math.log((n[1]-o)/(s[1]-o))/(n[0]-s[0]);return[(n[1]-o)/Math.exp(c*n[0]),c,o]},getFunctionForCoeffs:function(e,t){const n=e[0],s=e[1],o=e[2];return n*Math.exp(s*t)+o},getEquationString:function(e,t){if(!t)return null;const n=this.getCoefficients(e,t),s=n[0],o=n[1],c=n[2];return"y = "+s.toFixed(3)+"e^("+o.toFixed(3)+"x) + "+c.toFixed(3)}}),Ce=y.extend({},M,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(e,t,n,s,o){const c=s[0][0];return y.all(n,p=>p[0]!==c)&&n[0][1]!==n[1][1]},extraAsymptoteConstraint:function(e,t,n,s,o){const c=e[0];if(y.all(n,w=>w[0]>c)||y.all(n,w=>w[0]<c))return[c,t[1]];const f=t[0];return y.all(n,w=>w[0]>f)?[y.min(y.map(n,Z=>Z[0]))-o.snapStep[0],t[1]]:[y.max(y.map(n,w=>w[0]))+o.snapStep[0],t[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){const n=o=>[o[1],o[0]],s=me.getCoefficients(y.map(e,n),y.map(t,n));if(s){const o=-s[2]/s[0],c=1/s[0];return[1/s[1],c,o]}},getFunctionForCoeffs:function(e,t,n){const s=e[0],o=e[1],c=e[2];return s*Math.log(o*t+c)},getEquationString:function(e,t){if(!t)return null;const n=this.getCoefficients(e,t),s=n[0],o=n[1],c=n[2];return"y = ln("+s.toFixed(3)+"x + "+o.toFixed(3)+") + "+c.toFixed(3)}}),Fe=y.extend({},M,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){const t=e[0],n=e[1],s=n[0]-t[0],o=n[1]-t[1];if(s===0)return;let c=Math.abs(o/s);n[1]<t[1]&&(c*=-1);const p=t[0],f=t[1];return[c,p,f]},getFunctionForCoeffs:function(e,t){const n=e[0],s=e[1],o=e[2];return n*Math.abs(t-s)+o},getEquationString:function(e){const t=this.getCoefficients(e),n=t[0],s=t[1],o=t[2];return"y = "+n.toFixed(3)+"| x - "+s.toFixed(3)+"| + "+o.toFixed(3)}}),he={linear:Se,quadratic:ke,sinusoid:Ae,tangent:xe,exponential:me,logarithm:Ce,absolute_value:Fe},ns=y.keys(he);function rs(e){return he[e]}function be(e){return{type:"success",value:e}}function re(e){return{type:"failure",detail:e}}function T(e){return e.type==="failure"}function Y(e){return e.type==="success"}function Me(e,t=n=>n){const n=[],s=[];for(const o of e)o.type==="success"?n.push(o.value):s.push(o.detail);return s.length>0?re(s.reduce(t)):be(n)}const j=(e,t)=>t.success(e);function d(e){return(t,n)=>{if(!Array.isArray(t))return n.failure("array",t);const s=t.map((o,c)=>e(o,n.forSubtree(c)));return Me(s,Be)}}function Be(e,t){return[...e,...t]}function u(e,t){return typeof e=="boolean"?t.success(e):t.failure("boolean",e)}function g(e){return(t,n)=>t!==e?n.failure(String(JSON.stringify(e)),t):n.success(e)}function v(...e){return(t,n)=>{if(typeof t=="string"){const o=e.indexOf(t);if(o>-1)return n.success(e[o])}const s=e.map(o=>JSON.stringify(o));return n.failure(s,t)}}function D(e){return e!=null&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return(t,n)=>t===null?n.success(t):e(t,n)}const l=(e,t)=>typeof e=="number"?t.success(e):t.failure("number",e);function a(e){return(t,n)=>{if(!D(t))return n.failure("object",t);const s={...t},o=[];for(const[c,p]of Object.entries(e)){const f=p(t[c],n.forSubtree(c));Y(f)?(f.value!==void 0||c in t)&&(s[c]=f.value):o.push(...f.detail)}return o.length>0?re(o):n.success(s)}}function r(e){return(t,n)=>t===void 0?n.success(t):e(t,n)}function P(e,t){return(n,s)=>{if(!Array.isArray(n))return s.failure("array",n);if(n.length!==2)return s.failure("array of length 2",n);const[o,c]=n,p=e(o,s.forSubtree(0));if(T(p))return p;const f=t(c,s.forSubtree(1));return T(f)?f:s.success([p.value,f.value])}}function $(e){return new se(e)}class se{constructor(t){this.parser=t}then(t){return new se(Ie(this.parser,t))}}function Ie(e,t){return(n,s)=>{const o=e(n,s);return T(o)?o:t(o.value,s)}}function ie(e,t){return(n,s)=>{if(!D(n))return s.failure("object",n);const o={},c=[];for(const[p,f]of Object.entries(n)){const S=s.forSubtree(p),k=e(p,S);T(k)&&c.push(...k.detail);const w=t(f,S);T(w)&&c.push(...w.detail),Y(k)&&Y(w)&&(o[k.value]=w.value)}return c.length>0?re(c):s.success(o)}}const i=(e,t)=>typeof e=="string"?t.success(e):t.failure("string",e);function H(e,t,n){return(s,o)=>{if(!Array.isArray(s))return o.failure("array",s);if(s.length!==3)return o.failure("array of length 3",s);const c=e(s[0],o.forSubtree(0));if(T(c))return c;const p=t(s[1],o.forSubtree(1));if(T(p))return p;const f=n(s[2],o.forSubtree(2));return T(f)?f:o.success([c.value,p.value,f.value])}}function L(e){return new oe(e)}class oe{constructor(t){this.parser=t}or(t){return new oe(_e(this.parser,t))}}function _e(e,t){return(n,s)=>{const o=e(n,s);return Y(o)?o:t(n,s)}}function h(e,t){return(n,s)=>n==null?be(t(n)):e(n,s)}const ye=h(ie(i,a({width:l,height:l})),()=>({}));function W(e,t){return a({type:e,static:r(u),graded:r(u),alignment:r(i),options:t,key:r(l),version:r(a({major:l,minor:l}))})}function We(e,t,n){return a({type:t,static:r(u),graded:r(u),alignment:r(i),options:n,key:r(l),version:e})}const Ee=W(g("categorizer"),a({items:d(i),categories:d(i),randomizeItems:h(u,()=>!1),static:h(u,()=>!1),values:d(h(l,()=>0)),highlightLint:r(u),linterContext:r(a({contentType:i,paths:d(i),stack:d(i)}))})),ze=W(g("cs-program"),a({programID:i,programType:j,settings:d(a({name:i,value:i})),showEditor:u,showButtons:u,height:l,static:h(u,()=>!1)})),Ne=W(g("definition"),a({togglePrompt:i,definition:i,static:h(u,()=>!1)})),Re=W(g("dropdown"),a({placeholder:h(i,()=>""),ariaLabel:r(i),visibleLabel:r(i),static:h(u,()=>!1),choices:d(a({content:i,correct:u}))})),De=W(g("explanation"),a({showPrompt:i,hidePrompt:i,explanation:i,widgets:h((e,t)=>G(e,t),()=>({})),static:h(u,()=>!1)}));function C(e){return(t,n)=>n.success(e(t))}const je=v("basic","basic+div","trig","prealgebra","logarithms","basic relations","advanced relations","scientific"),Oe=h(d(je),()=>["basic","trig","prealgebra","logarithms"]);function qe(e,t){return new ae(e,t,n=>n,(n,s)=>s.failure("widget options with a known version number",n))}class ae{constructor(t,n,s,o){this.migrateToLatest=s,this.parseOtherVersions=o;const c=$(n).then(C(this.migrateToLatest)).parser;this.parser=(p,f)=>{if(!D(p))return f.failure("object",p);const S=Ge(p,f);return T(S)?S:S.value.version.major!==t?this.parseOtherVersions(p,f):c(p,f)}}withMigrationFrom(t,n,s){const o=this.parser,c=p=>this.migrateToLatest(s(p));return new ae(t,n,c,o)}}const Ge=a({version:h(a({major:l,minor:l}),()=>({major:0,minor:0}))}),Ue=L(i).or(l).or(g(null)).or(g(void 0)).parser,Xe=a({value:r(i),form:h(u,()=>!1),simplify:h(u,()=>!1),considered:v("correct","wrong","ungraded"),key:$(Ue).then(C(String)).parser});function Ye(e){const t=[];for(const n of e){const{value:s}=n;s!=null&&t.push({...n,value:s})}return t}const He=a({major:g(1),minor:l}),Ke=We(He,g("expression"),a({answerForms:$(d(Xe)).then(C(Ye)).parser,functions:d(i),times:u,visibleLabel:r(i),ariaLabel:r(i),buttonSets:Oe,buttonsVisible:r(v("always","never","focused"))})),Je=r(a({major:g(0),minor:l})),Qe=We(Je,g("expression"),a({functions:d(i),times:u,visibleLabel:r(i),ariaLabel:r(i),form:u,simplify:u,value:i,buttonSets:Oe,buttonsVisible:r(v("always","never","focused"))}));function Ze(e){const{options:t}=e;return{...e,version:{major:1,minor:0},options:{times:t.times,buttonSets:t.buttonSets,functions:t.functions,buttonsVisible:t.buttonsVisible,visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,answerForms:[{considered:"correct",form:t.form,simplify:t.simplify,value:t.value}]}}}const Ve=qe(1,Ke).withMigrationFrom(0,Qe,Ze).parser,et=$(g(!1)).then(C(()=>null)).parser,ve=a({title:h(i,()=>""),hasHint:r(b(u)),hint:L(et).or(g(null)).or(g(void 0)).or((e,t)=>R(e,t)).parser,content:i,widgets:(e,t)=>G(e,t),widgetEnabled:r(b(u)),immutableWidgets:r(b(u)),images:ie(i,a({width:l,height:l}))}),tt=W(g("graded-group"),ve),nt=W(g("graded-group-set"),a({gradedGroups:d(ve)}));function K(e){const t=(n,s)=>D(n)?s.forSubtree(e).failure("a valid value",n[e]):s.failure("object",n);return new ce(e,t)}class ce{constructor(t,n){this.discriminantKey=t,this.parser=n}withBranch(t,n){const s=rt(this.discriminantKey,t,n,this.parser);return new ce(this.discriminantKey,s)}}function rt(e,t,n,s){return(o,c)=>D(o)?o[e]===t?n(o,c):s(o,c):c.failure("object",o)}const x=P(l,l),A=P(x,x),st=W(g("grapher"),a({availableTypes:d(v("absolute_value","exponential","linear","logarithm","quadratic","sinusoid","tangent")),correct:K("type").withBranch("absolute_value",a({type:g("absolute_value"),coords:b(A)})).withBranch("exponential",a({type:g("exponential"),asymptote:A,coords:b(A)})).withBranch("linear",a({type:g("linear"),coords:b(A)})).withBranch("logarithm",a({type:g("logarithm"),asymptote:A,coords:b(A)})).withBranch("quadratic",a({type:g("quadratic"),coords:b(A)})).withBranch("sinusoid",a({type:g("sinusoid"),coords:b(A)})).withBranch("tangent",a({type:g("tangent"),coords:b(A)})).parser,graph:a({backgroundImage:a({bottom:r(l),height:r(l),left:r(l),scale:r(l),url:r(b(i)),width:r(l)}),box:r(x),editableSettings:r(d(v("graph","snap","image","measure"))),gridStep:r(x),labels:P(i,i),markings:v("graph","none","grid"),range:P(x,x),rulerLabel:g(""),rulerTicks:l,showProtractor:r(u),showRuler:r(u),showTooltips:r(u),snapStep:r(x),step:x,valid:r(L(u).or(i).parser)})})),it=W(g("group"),(e,t)=>R(e,t)),ot=W(g("iframe"),a({url:i,settings:r(d(a({name:i,value:i}))),width:L(l).or(i).parser,height:L(l).or(i).parser,allowFullScreen:h(u,()=>!1),allowTopNavigation:r(u),static:h(u,()=>!1)})),we=(e,t)=>{if(typeof e=="number")return t.success(e);const n=+e;return e===""||isNaN(n)?t.failure("a number or numeric string",e):t.success(n)};function at(e){return e===""?0:e}const E=$(L(l).or(i).parser).then(C(at)).then(we).parser,J=a({url:r(b(i)),width:r(E),height:r(E),top:r(E),left:r(E),bottom:r(E),scale:r(E)}),V=P(l,l),ct=W(g("image"),a({title:r(i),caption:r(i),alt:r(i),backgroundImage:J,static:r(u),labels:r(d(a({content:i,alignment:i,coordinates:d(l)}))),range:r(P(V,V)),box:r(V)})),lt=(e,t)=>typeof e=="boolean"?t.success(String(e)):t.failure("boolean",e),ut=W(g("input-number"),a({answerType:r(v("number","decimal","integer","rational","improper","mixed","percent","pi")),inexact:r(u),maxError:r(L(l).or(i).parser),rightAlign:r(u),simplify:v("required","optional","enforced"),size:v("normal","small"),value:L(l).or(i).or(lt).parser,customKeypad:r(u)})),z=P(l,l),U=h(i,()=>""),F=$(r(i)).then(C(String)).parser,pt=a({type:g("function"),key:F,options:a({value:i,funcName:i,rangeMin:i,rangeMax:i,color:i,strokeDasharray:i,strokeWidth:l})}),gt=a({type:g("label"),key:F,options:a({label:i,color:i,coordX:i,coordY:i})}),dt=a({type:g("line"),key:F,options:a({color:i,startX:i,startY:i,endX:i,endY:i,strokeDasharray:i,strokeWidth:l,arrows:i})}),ft=a({type:g("movable-line"),key:F,options:a({startX:i,startY:i,startSubscript:l,endX:i,endY:i,endSubscript:l,constraint:i,snap:l,constraintFn:i,constraintXMin:i,constraintXMax:i,constraintYMin:i,constraintYMax:i})}),mt=a({type:g("movable-point"),key:F,options:a({startX:i,startY:i,varSubscript:l,constraint:i,snap:l,constraintFn:i,constraintXMin:U,constraintXMax:U,constraintYMin:U,constraintYMax:U})}),ht=a({type:g("parametric"),key:F,options:a({x:i,y:i,rangeMin:i,rangeMax:i,color:i,strokeDasharray:i,strokeWidth:l})}),bt=a({type:g("point"),key:F,options:a({color:i,coordX:i,coordY:i})}),yt=a({type:g("rectangle"),key:F,options:a({color:i,coordX:i,coordY:i,width:i,height:i})}),Wt=W(g("interaction"),a({static:h(u,()=>!1),graph:a({editableSettings:r(d(v("canvas","graph"))),box:z,labels:d(i),range:P(z,z),gridStep:z,markings:v("graph","grid","none"),snapStep:r(z),valid:r(L(u).or(i).parser),backgroundImage:r(J),showProtractor:r(u),showRuler:r(u),rulerLabel:r(i),rulerTicks:r(l),tickStep:z}),elements:d(K("type").withBranch("function",pt).withBranch("label",gt).withBranch("line",dt).withBranch("movable-line",ft).withBranch("movable-point",mt).withBranch("parametric",ht).withBranch("point",bt).withBranch("rectangle",yt).parser)})),Ot=["calculator","chi2Table","financialCalculatorMonthlyPayment","financialCalculatorTotalAmount","financialCalculatorTimeToPayOff","periodicTable","periodicTableWithKey","tTable","zTable"],ss=["correct","wrong","ungraded"],vt=["blue","green","grayH","purple","pink","orange","red"],is={blue:"#3D7586",green:"#447A53",grayH:"#3B3D45",purple:"#594094",pink:"#B25071",red:"#D92916",orange:"#946700"},os={none:0,white:1,translucent:.4,solid:1},wt=["bar","line","pic","histogram","dotplot"],m=P(l,l),Pt=a({type:g("angle"),showAngles:r(u),allowReflexAngles:r(u),angleOffsetDeg:r(l),snapDegrees:r(l),match:r(g("congruent")),coords:r(H(m,m,m)),startCoords:r(H(m,m,m))}),Lt=a({type:g("circle"),center:r(m),radius:r(l),startCoords:r(a({center:m,radius:l})),coord:r(m)}),Tt=a({type:g("linear"),coords:r(b(P(m,m))),startCoords:r(P(m,m)),coord:r(m)}),$t=a({type:g("linear-system"),coords:r(b(d(P(m,m)))),startCoords:r(d(P(m,m))),coord:r(m)}),St=a({type:g("none")}),kt=a({type:g("point"),numPoints:r(L(l).or(g("unlimited")).parser),coords:r(b(d(m))),startCoords:r(d(m)),coord:r(m)}),At=a({type:g("polygon"),numSides:r(L(l).or(g("unlimited")).parser),showAngles:r(u),showSides:r(u),snapTo:r(v("grid","angles","sides")),match:r(v("similar","congruent","approx","exact")),startCoords:r(d(m)),coord:r(m)}),xt=a({type:g("quadratic"),coords:r(b(H(m,m,m))),startCoords:r(H(m,m,m)),coord:r(m)}),Ct=a({type:g("ray"),coords:r(b(P(m,m))),startCoords:r(P(m,m)),coord:r(m)}),Ft=a({type:g("segment"),numSegments:r(l),coords:r(b(d(P(m,m)))),startCoords:r(d(P(m,m))),coord:r(m)}),Mt=a({type:g("sinusoid"),coords:r(b(d(m))),startCoords:r(d(m)),coord:r(m)}),de=K("type").withBranch("angle",Pt).withBranch("circle",Lt).withBranch("linear",Tt).withBranch("linear-system",$t).withBranch("none",St).withBranch("point",kt).withBranch("polygon",At).withBranch("quadratic",xt).withBranch("ray",Ct).withBranch("segment",Ft).withBranch("sinusoid",Mt).parser,B=v(...vt),Pe=v("none","white","translucent","solid"),Q=v("solid","dashed"),I=a({type:g("label"),coord:m,text:i,color:B,size:v("small","medium","large")}),te=a({type:g("point"),coord:m,color:B,filled:u,labels:r(d(I)),ariaLabel:r(i)}),Bt=a({type:g("line"),kind:v("line","ray","segment"),points:P(te,te),color:B,lineStyle:Q,showPoint1:h(u,()=>!1),showPoint2:h(u,()=>!1),labels:r(d(I)),ariaLabel:r(i)}),It=a({type:g("vector"),points:P(m,m),color:B,labels:r(d(I)),ariaLabel:r(i)}),_t=a({type:g("ellipse"),center:m,radius:m,angle:l,color:B,fillStyle:Pe,strokeStyle:Q,labels:r(d(I)),ariaLabel:r(i)}),Et=a({type:g("polygon"),points:d(m),color:B,showVertices:u,fillStyle:Pe,strokeStyle:Q,labels:r(d(I)),ariaLabel:r(i)}),zt=a({type:g("function"),color:B,strokeStyle:Q,equation:i,directionalAxis:v("x","y"),domain:r(m),labels:r(d(I)),ariaLabel:r(i)}),Nt=K("type").withBranch("point",te).withBranch("line",Bt).withBranch("vector",It).withBranch("ellipse",_t).withBranch("polygon",Et).withBranch("function",zt).withBranch("label",I).parser,Rt=W(g("interactive-graph"),a({step:m,gridStep:r(m),snapStep:r(m),backgroundImage:r(J),markings:v("graph","grid","none"),labels:r(d(i)),showProtractor:u,showRuler:r(u),showTooltips:r(u),rulerLabel:r(i),rulerTicks:r(l),range:P(m,m),graph:h(de,()=>({type:"linear"})),correct:de,lockedFigures:r(d(Nt)),fullGraphLabel:r(i),fullGraphAriaDescription:r(i)})),Dt=W(g("label-image"),a({choices:d(i),imageUrl:i,imageAlt:i,imageHeight:l,imageWidth:l,markers:d(a({answers:d(i),label:i,x:l,y:l})),hideChoicesFromInstructions:u,multipleAnswers:u,static:h(u,()=>!1)})),jt=W(g("matcher"),a({labels:d(i),left:d(i),right:d(i),orderMatters:u,padding:u})),qt=L(l).or(i).parser,Gt=$(h(qt,()=>NaN)).then(we).parser,Ut=W(h(g("matrix"),()=>"matrix"),a({prefix:r(i),suffix:r(i),answers:d(d(Gt)),cursorPosition:r(d(l)),matrixBoardSize:d(l),static:r(u)})),Xt=W(g("measurer"),a({image:h(J,()=>({url:null,top:0,left:0})),showProtractor:u,showRuler:u,rulerLabel:i,rulerTicks:l,rulerPixels:l,rulerLength:l,box:P(l,l),static:h(u,()=>!1)})),Yt=W(g("molecule-renderer"),a({widgetId:i,rotationAngle:r(l),smiles:r(i)})),Ht=$(g("")).then(C(()=>null)).parser,Kt=W(g("number-line"),a({range:d(l),labelRange:d(b(L(l).or(Ht).parser)),labelStyle:i,labelTicks:u,isTickCtrl:r(b(u)),divisionRange:d(l),numDivisions:r(b(l)),snapDivisions:h(l,()=>2),tickStep:r(b(l)),correctRel:r(b(i)),correctX:b(l),initialX:r(b(l)),showTooltips:r(u),static:h(u,()=>!1)})),fe=v("integer","mixed","improper","proper","decimal","percent","pi"),Jt=W(g("numeric-input"),a({answers:d(a({message:i,value:r(b(l)),status:i,answerForms:r(d(fe)),strict:u,maxError:r(b(l)),simplify:r(b(L(i).or($(u).then(C(String)).parser).parser))})),labelText:r(i),size:i,coefficient:h(u,()=>!1),rightAlign:r(u),static:h(u,()=>!1),answerForms:r(d(a({name:fe,simplify:r(b(v("required","correct","enforced","optional")))})))}));function ee(e,t){return R(e,t)}const Qt=(e,t)=>e==="large"?t.success("auto"):t.success(e),Zt=W(g("orderer"),a({options:h(d(ee),()=>[]),correctOptions:d(ee),otherOptions:d(ee),height:$(v("normal","auto","large")).then(Qt).parser,layout:h(v("horizontal","vertical"),()=>"horizontal")})),Vt=W(g("passage-ref"),a({passageNumber:l,referenceNumber:l,summaryText:r(i)})),en=W(g("passage"),a({footnotes:h(i,()=>""),passageText:i,passageTitle:h(i,()=>""),showLineNumbers:u,static:h(u,()=>!1)})),tn=W(g("phet-simulation"),a({url:i,description:i})),nn=W(g("plotter"),a({labels:d(i),categories:d(i),type:v(...wt),maxY:l,scaleY:h(l,()=>1),labelInterval:r(b(l)),snapsPerLine:h(l,()=>2),starting:d(l),correct:d(l),picUrl:r(b(i)),picSize:r(b(l)),picBoxHeight:r(b(l)),plotDimensions:h(d(l),()=>[380,300])})),rn=W(g("python-program"),a({programID:i,height:l})),sn=W(g("radio"),a({choices:d(a({content:h(i,()=>""),clue:r(i),correct:r(u),isNoneOfTheAbove:r(u),widgets:r((e,t)=>G(e,t))})),hasNoneOfTheAbove:r(u),countChoices:r(u),randomize:r(u),multipleSelect:r(u),deselectEnabled:r(u),onePerLine:r(u),displayCount:r(j),noneOfTheAbove:r(g(!1))})),on=W(g("sorter"),a({correct:d(i),padding:u,layout:v("horizontal","vertical")})),an=W(g("table"),a({headers:d(i),rows:l,columns:l,answers:d(d(i))})),cn=W(g("video"),a({location:i,static:r(u)})),G=(e,t)=>{if(!D(e))return t.failure("PerseusWidgetsMap",e);const n={};for(const s of Object.keys(e)){const o=ln([s,e[s]],n,t.forSubtree(s));if(T(o))return o}return t.success(n)},ln=([e,t],n,s)=>{const o=pn(e.split(" "),s.forSubtree("(widget ID)"));if(T(o))return o;const[c,p]=o.value;function f(S,k){const w=k(t,s);return T(w)?w:(n[S]=w.value,s.success(void 0))}switch(c){case"categorizer":return f(`categorizer ${p}`,Ee);case"cs-program":return f(`cs-program ${p}`,ze);case"definition":return f(`definition ${p}`,Ne);case"dropdown":return f(`dropdown ${p}`,Re);case"explanation":return f(`explanation ${p}`,De);case"expression":return f(`expression ${p}`,Ve);case"grapher":return f(`grapher ${p}`,st);case"group":return f(`group ${p}`,it);case"graded-group":return f(`graded-group ${p}`,tt);case"graded-group-set":return f(`graded-group-set ${p}`,nt);case"iframe":return f(`iframe ${p}`,ot);case"image":return f(`image ${p}`,ct);case"input-number":return f(`input-number ${p}`,ut);case"interaction":return f(`interaction ${p}`,Wt);case"interactive-graph":return f(`interactive-graph ${p}`,Rt);case"label-image":return f(`label-image ${p}`,Dt);case"matcher":return f(`matcher ${p}`,jt);case"matrix":return f(`matrix ${p}`,Ut);case"measurer":return f(`measurer ${p}`,Xt);case"molecule-renderer":return f(`molecule-renderer ${p}`,Yt);case"number-line":return f(`number-line ${p}`,Kt);case"numeric-input":return f(`numeric-input ${p}`,Jt);case"orderer":return f(`orderer ${p}`,Zt);case"passage":return f(`passage ${p}`,en);case"passage-ref":return f(`passage-ref ${p}`,Vt);case"passage-ref-target":return f(`passage-ref-target ${p}`,j);case"phet-simulation":return f(`phet-simulation ${p}`,tn);case"plotter":return f(`plotter ${p}`,nn);case"python-program":return f(`python-program ${p}`,rn);case"radio":return f(`radio ${p}`,sn);case"sorter":return f(`sorter ${p}`,on);case"table":return f(`table ${p}`,an);case"video":return f(`video ${p}`,cn);case"sequence":return f(`sequence ${p}`,X);case"lights-puzzle":return f(`lights-puzzle ${p}`,X);case"simulator":return f(`simulator ${p}`,X);case"transformer":return f(`transformer ${p}`,X);default:return f(`${c} ${p}`,W(g(c),j))}},X=W((e,t)=>t.success("deprecated-standin"),a({})),un=(e,t)=>typeof e!="string"||!/^[1-9][0-9]*$/.test(e)?t.failure("a string representing a positive integer",e):t.success(+e),pn=P(i,un),R=h(a({content:h(i,()=>""),widgets:h((e,t)=>G(e,t),()=>({})),metadata:r(d(i)),images:ye}),()=>({content:"",widgets:{},images:{}}));L(R).or(d(R)).parser;const gn=a({replace:r(u),content:i,widgets:h(G,()=>({})),metadata:r(d(i)),images:ye});a({question:R,hints:h(d(gn),()=>[]),answerArea:$(h(a({}),()=>({}))).then(dn).then(ie(v(...Ot),u)).parser,itemDataVersion:r(a({major:l,minor:l})),answer:j});function dn(e,t){const{type:n,options:s,...o}=e;return t.success(o)}const fn="@khanacademy/perseus-core",mn="__lib_version__";$e(fn,mn);function hn(e){return{items:e.items,categories:e.categories,randomizeItems:e.randomizeItems,static:e.static}}const bn={items:[],categories:[],values:[],randomizeItems:!1},yn={name:"categorizer",defaultWidgetOptions:bn,getPublicWidgetOptions:hn};function Wn(e){return e}const On=400,vn={programID:"",programType:null,settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,height:On},wn={name:"cs-program",defaultWidgetOptions:vn,supportedAlignments:["block","full-width"],getPublicWidgetOptions:Wn},Pn={togglePrompt:"",definition:""},Ln={name:"definition",defaultWidgetOptions:Pn,defaultAlignment:"inline"};function Tn(e){return{choices:e.choices.map(t=>({content:t.content})),placeholder:e.placeholder,static:e.static,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel}}const $n={placeholder:"",choices:[{content:"",correct:!1}]},Sn={name:"definition",defaultWidgetOptions:$n,defaultAlignment:"inline-block",getPublicWidgetOptions:Tn},kn={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:`explanation goes here

more explanation`,widgets:{}},An={name:"explanation",defaultWidgetOptions:kn,defaultAlignment:"inline"},xn={major:1,minor:0},Cn={1:e=>({times:e.times,buttonSets:e.buttonSets,functions:e.functions,buttonsVisible:e.buttonsVisible,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,answerForms:[{considered:"correct",form:e.form,simplify:e.simplify,value:e.value}]})},Fn={answerForms:[],times:!1,buttonSets:["basic"],functions:["f","g","h"]};function Mn(e){return{buttonSets:e.buttonSets,functions:e.functions,times:e.times,visibleLabel:e.visibleLabel,ariaLabel:e.ariaLabel,buttonsVisible:e.buttonsVisible}}const Bn={name:"expression",version:xn,widgetOptionsUpgrades:Cn,defaultWidgetOptions:Fn,defaultAlignment:"inline-block",getPublicWidgetOptions:Mn},In={title:"",content:"",widgets:{},images:{},hint:null},_n={name:"graded-group",defaultWidgetOptions:In},En={gradedGroups:[]},zn={name:"graded-group-set",defaultWidgetOptions:En};function Nn(e){const{correct:t,...n}=e;return n}const Rn={graph:{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},correct:{type:"linear",coords:null},availableTypes:["linear"]},Dn={name:"grapher",defaultWidgetOptions:Rn,getPublicWidgetOptions:Nn},jn={content:"",widgets:{},images:{},metadata:void 0},qn={name:"group",defaultWidgetOptions:jn};function Gn(e){return e}const Un={url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1,allowTopNavigation:!1},Xn={name:"iframe",defaultWidgetOptions:Un,getPublicWidgetOptions:Gn},Yn={title:"",range:[[0,10],[0,10]],box:[400,400],backgroundImage:{url:null,width:0,height:0},labels:[],alt:"",caption:""},Hn={name:"image",defaultWidgetOptions:Yn,supportedAlignments:["block","full-width"],defaultAlignment:"block"},Kn={value:0,simplify:"required",size:"normal",inexact:!1,maxError:.1,answerType:"number",rightAlign:!1},Jn={name:"input-number",defaultWidgetOptions:Kn,defaultAlignment:"inline-block"},Qn={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},Zn={name:"interaction",defaultWidgetOptions:Qn};function Vn(e){const{correct:t,...n}=e;return n}const er={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",showTooltips:!1,showProtractor:!1,graph:{type:"linear"},correct:{type:"linear",coords:null}},tr={name:"interactive-graph",defaultWidgetOptions:er,getPublicWidgetOptions:Vn};function nr(e){return{...e,markers:e.markers.map(rr)}}function rr(e){const{answers:t,...n}=e;return n}const sr={choices:[],imageAlt:"",imageUrl:"",imageWidth:0,imageHeight:0,markers:[],multipleAnswers:!1,hideChoicesFromInstructions:!1},ir={name:"label-image",defaultWidgetOptions:sr,getPublicWidgetOptions:nr},as=e=>{const t=le(e.problemNum);let n;e.orderMatters?n=q(e.left,t,!0):n=e.left;const s=q(e.right,t,!0);return{left:n,right:s}};function or(e){let t;e.orderMatters?t=q(e.left,Math.random,!0):t=e.left;const n=q(e.right,Math.random,!0);return{left:t,right:n}}function ar(e){const{left:t,right:n}=or(e);return{...e,left:t,right:n}}const cr={left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0},lr={name:"matcher",defaultWidgetOptions:cr,getPublicWidgetOptions:ar};function ur(e){const{answers:t,...n}=e;return n}const pr={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]},gr={name:"matrix",defaultWidgetOptions:pr,getPublicWidgetOptions:ur},dr={major:1,minor:0},fr={1:e=>{const{imageUrl:t,imageTop:n,imageLeft:s,...o}=e;return{...o,image:{url:t,top:n,left:s}}}},mr={box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10},hr={name:"measurer",version:dr,widgetOptionsUpgrades:fr,defaultWidgetOptions:mr};function br(e){const{correctX:t,correctRel:n,...s}=e;return s}const yr={range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1},Wr={name:"number-line",defaultWidgetOptions:yr,getPublicWidgetOptions:br};function Or(e){const{answers:t,...n}=e;return n}const vr={answers:[{value:null,status:"correct",message:"",simplify:"required",answerForms:[],strict:!1,maxError:null}],size:"normal",coefficient:!1,labelText:"",rightAlign:!1},wr={name:"numeric-input",defaultWidgetOptions:vr,defaultAlignment:"inline-block",getPublicWidgetOptions:Or};function Pr(e){return{options:e.options,height:e.height,layout:e.layout}}const Lr={correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:"normal",layout:"horizontal"},Tr={name:"orderer",defaultWidgetOptions:Lr,getPublicWidgetOptions:Pr},$r={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0},Sr={name:"passage",defaultWidgetOptions:$r},kr={major:0,minor:1},Ar={passageNumber:1,referenceNumber:1,summaryText:""},xr={name:"passageRef",version:kr,defaultWidgetOptions:Ar,defaultAlignment:"inline"},Cr={content:""},Fr={name:"passageRefTarget",defaultWidgetOptions:Cr,defaultAlignment:"inline"},Mr={url:"",description:""},Br={name:"phet-simulation",defaultWidgetOptions:Mr};function Ir(e){const{correct:t,...n}=e;return n}const _r={scaleY:1,maxY:10,snapsPerLine:2,correct:[1],starting:[1],type:"bar",labels:["",""],categories:[""],picSize:30,picBoxHeight:36,plotDimensions:[275,200],labelInterval:1,picUrl:null},Er={name:"plotter",defaultWidgetOptions:_r,getPublicWidgetOptions:Ir},zr={programID:"",height:400},Nr={name:"python-program",defaultWidgetOptions:zr},Rr={major:1,minor:0},Dr={1:e=>{const{noneOfTheAbove:t,...n}=e;if(t)throw new Error("radio widget v0 no longer supports auto noneOfTheAbove");return{...n,hasNoneOfTheAbove:!1}}},jr={choices:[{},{},{},{}],displayCount:null,randomize:!1,hasNoneOfTheAbove:!1,multipleSelect:!1,countChoices:!1,deselectEnabled:!1};function qr(e){const{content:t,isNoneOfTheAbove:n,widgets:s}=e;return{content:t,isNoneOfTheAbove:n,widgets:s}}function Gr(e){return{...e,choices:e.choices.map(qr)}}const Ur={name:"radio",version:Rr,widgetOptionsUpgrades:Dr,defaultWidgetOptions:jr,getPublicWidgetOptions:Gr};function Xr(e){const t=q(e.correct,Math.random,!0);return{...e,correct:t,isCorrectShuffled:!0}}const Yr={correct:["$x$","$y$","$z$"],layout:"horizontal",padding:!0},Hr={name:"sorter",defaultWidgetOptions:Yr,getPublicWidgetOptions:Xr};function Kr(e){const{answers:t,...n}=e;return n}const Le=4,Te=1,Jr=new Array(Le).fill(0).map(()=>new Array(Te).fill("")),Qr={headers:[""],rows:Le,columns:Te,answers:Jr},Zr={name:"table",defaultWidgetOptions:Qr,getPublicWidgetOptions:Kr},Vr={location:""},es={name:"video",defaultWidgetOptions:Vr,supportedAlignments:["block","float-left","float-right","full-width"],defaultAlignment:"block"},_={};function O(e,t){_[e]=t}function cs(e){return!!_[e]}function ls(e){const t=_[e];return(t==null?void 0:t.version)||{major:0,minor:0}}function us(e){const t=_[e];return(t==null?void 0:t.widgetOptionsUpgrades)||{}}function ps(e){const t=_[e];return(t==null?void 0:t.defaultWidgetOptions)||{}}const gs=e=>{var n;const t=_[e];return(n=t==null?void 0:t.supportedAlignments)!=null&&n[0]?t==null?void 0:t.supportedAlignments:["default"]},ds=e=>{const t=_[e];return t!=null&&t.defaultAlignment?t.defaultAlignment:"block"};O("categorizer",yn);O("cs-program",wn);O("definition",Ln);O("dropdown",Sn);O("explanation",An);O("expression",Bn);O("graded-group",_n);O("graded-group-set",zn);O("grapher",Dn);O("group",qn);O("iframe",Xn);O("image",Hn);O("input-number",Jn);O("interaction",Zn);O("interactive-graph",tr);O("label-image",ir);O("matcher",lr);O("matrix",gr);O("measurer",hr);O("number-line",Wr);O("numeric-input",wr);O("orderer",Tr);O("passage",Sr);O("passage-ref",xr);O("passage-ref-target",Fr);O("phet-simulation",Br);O("plotter",Er);O("python-program",Nr);O("radio",Ur);O("sorter",Hr);O("table",Zr);O("video",es);const le=function(e){let t=e;return function(){let n=t;return n=n+2127912214+(n<<12)&4294967295,n=(n^3345072700^n>>>19)&4294967295,n=n+374761393+(n<<5)&4294967295,n=(n+3550635116^n<<9)&4294967295,n=n+4251993797+(n<<3)&4294967295,n=(n^3042594569^n>>>16)&4294967295,(t=n&268435455)/268435456}};function q(e,t,n=!1){const s=y.clone(e);if(!s.length||y.all(s,function(c){return y.isEqual(c,s[0])}))return s;let o;typeof t=="function"?o=t:o=le(t);do for(let c=s.length;c>0;c--){const p=Math.floor(o()*c),f=s[p];s[p]=s[c-1],s[c-1]=f}while(n&&y.isEqual(e,s));return s}const fs=le(new Date().getTime()&4294967295);export{zn as A,Dn as B,ns as C,qn as D,Xn as E,gr as F,hr as G,Tr as H,Ot as I,Sr as J,xr as K,Fr as L,Zr as M,es as N,N as O,ss as P,cs as Q,ls as R,us as S,ps as T,ue as U,rs as V,q as W,fs as X,as as Y,Sn as a,Jn as b,yn as c,Ln as d,An as e,wr as f,Er as g,wt as h,Hn as i,Nr as j,is as k,ir as l,lr as m,Wr as n,Bn as o,Br as p,os as q,Ur as r,Hr as s,$e as t,gs as u,ds as v,Zn as w,tr as x,wn as y,_n as z};
