import{a as u,j as o,F as V}from"./jsx-runtime-FVsy8kgq.js";import"./util-AYeX86gl.js";import{e as G}from"./svg-image-B1YVHqDk.js";import{B as H}from"./choice-x_pgoMLn.js";import{V as w}from"./index-6h5t6F0w.js";import{S as J,O as S}from"./answer-choices-eETgCGqd.js";import{S as h}from"./index-qUyqkRvh.js";import{s as g,c as x}from"./index-deFLJwr4.js";import{L as Q,a as C}from"./index-h_CiYGGb.js";import{L as X,p as Y}from"./locked-figure-aria-3sQWqElZ.js";import{l as ee}from"./index-awljIyHI.js";import{v as f}from"./index-xs9l8-Af.js";import{P as oe,L as ne,a as te}from"./locked-label-settings-36MXUnj2.js";import{C as ae}from"./color-select-DoZDyFnh.js";import{L as re}from"./line-stroke-select-uDNzr6MR.js";import{L as ie}from"./line-swatch-phCf9n2b.js";import{L as M}from"./locked-point-settings-GNSlrdoe.js";import{g as le,j as T,a as se}from"./util-Lt9Pp5_A.js";const $="The line cannot have length 0.",R=b=>{var z,_;const{flags:p,kind:y,points:m,color:L,lineStyle:v="solid",showPoint1:B,showPoint2:I,labels:n,ariaLabel:j,onChangeProps:r,onMove:O,onRemove:D}=b,[s,d]=m,F=y.charAt(0).toUpperCase()+y.slice(1),U=`${F} (${s.coord[0]},
        ${s.coord[1]}), (${d.coord[0]}, ${d.coord[1]})`,P=G(s.coord,d.coord);async function E(){const e=await T(n),a=await T(s.labels),t=await T(d.labels);let i=`${F}${e} from point${a} at (${s.coord[0]}, ${s.coord[1]}) to point${t} at (${d.coord[0]}, ${d.coord[1]})`;const l=se(L,v);return i+=l,i}function A(e,a){const t=[...m];t[a]={...m[a],...e};const i=f.midpoint(m[0].coord,m[1].coord),l=f.midpoint(t[0].coord,t[1].coord),q=[l[0]-i[0],l[1]-i[1]],Z=n==null?void 0:n.map((k,de)=>({...k,coord:[k.coord[0]+q[0],k.coord[1]+q[1]]}));r({points:t,labels:Z})}function K(e){var t,i;const a=n==null?void 0:n.map(l=>({...l,color:e}));r({color:e,points:[{...s,color:e,labels:(t=s.labels)==null?void 0:t.map(l=>({...l,color:e}))},{...d,color:e,labels:(i=d.labels)==null?void 0:i.map(l=>({...l,color:e}))}],labels:a})}function N(e,a){if(!n)return;const t=[...n];t[a]={...n[a],...e},r({labels:t})}function W(e){if(!n)return;const a=n.filter((t,i)=>i!==e);r({labels:a})}return u(oe,{expanded:b.expanded,onToggle:b.onToggle,header:u(w,{style:c.row,children:[o(Q,{children:U}),o(h,{size:g.xSmall_8}),o(ie,{color:L,lineStyle:v})]}),children:[u(C,{tag:"label",style:[c.row,c.spaceUnder],children:["kind",o(h,{size:g.xxxSmall_4}),u(J,{selectedValue:y,onChange:e=>r({kind:e}),placeholder:"",children:[o(S,{value:"line",label:"line"}),o(S,{value:"ray",label:"ray"}),o(S,{value:"segment",label:"segment"})]})]}),u(w,{style:c.row,children:[o(ae,{selectedValue:L,onChange:K}),o(h,{size:g.small_12}),o(re,{selectedValue:v,onChange:e=>r({lineStyle:e})})]}),P&&o(C,{style:c.errorText,children:$}),o(M,{flags:p,headerLabel:"Point 1",expanded:!0,showPoint:B,error:P?$:null,...s,onTogglePoint:e=>r({showPoint1:e}),onChangeProps:e=>A(e,0)}),o(M,{flags:p,headerLabel:"Point 2",expanded:!0,showPoint:I,error:P?$:null,...d,onTogglePoint:e=>r({showPoint2:e}),onChangeProps:e=>A(e,1)}),((z=p==null?void 0:p.mafs)==null?void 0:z["locked-figures-aria"])&&u(V,{children:[o(h,{size:g.small_12}),o(w,{style:c.horizontalRule}),o(X,{ariaLabel:j,getPrepopulatedAriaLabel:E,onChangeProps:e=>{r(e)}})]}),((_=p==null?void 0:p.mafs)==null?void 0:_["locked-line-labels"])&&u(V,{children:[o(h,{size:g.xxxSmall_4}),o(w,{style:c.horizontalRule}),o(h,{size:g.small_12}),o(C,{children:"Visible labels"}),n==null?void 0:n.map((e,a)=>o(ne,{...e,expanded:!0,onChangeProps:t=>{N(t,a)},onRemove:()=>{W(a)},containerStyle:c.labelContainer})),o(H,{kind:"tertiary",startIcon:Y,onClick:()=>{const e=[0,-1],a=f.add(f.scale(e,(n==null?void 0:n.length)??0),f.midpoint(m[0].coord,m[1].coord)),t={...le("label"),coord:a,color:L};r({labels:[...n??[],t]})},style:c.addButton,children:"Add visible label"})]}),o(te,{figureType:b.type,onMove:O,onRemove:D})]})},c=ee.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:g.xSmall_8},errorText:{color:x.red},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:x.offBlack16},labelContainer:{backgroundColor:x.white}}),$e=R;R.__docgenInfo={description:"",methods:[],displayName:"LockedLineSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFigure>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedFigure"}],raw:"Partial<LockedFigure>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{$e as L};
