import{j as ne}from"./jsx-runtime-BGVbfQ2Z.js";import{r as l}from"./index-qhcEwEpg.js";import{l as T}from"./index-awljIyHI.js";import{b as U,L as xe,s as dt,a as ct}from"./index-A0DvNMpb.js";import{C as ht,a as ut,c as pt,g as ft}from"./index-srUwhG8U.js";import{V as k,I as mt,a as Ce}from"./index-eZ2N530f.js";import{S as q}from"./index-5wVX51Nj.js";import{c as h,m as de,f as gt,b as H}from"./index-Hz0Gzck5.js";import{S as p}from"./index-SM3muJE2.js";import{P as Q}from"./index-K7FSCCGN.js";import{T as bt,c as He}from"./index-U8sCsfQj.js";import{r as N}from"./index-E09jvG0x.js";import{I as St,x as xt,m as yt}from"./index-TodJevs_.js";import{w as Ve}from"./index-uu39Elyn.js";import{P as vt,d as It}from"./Popper-2p8US95Y.js";import{R as Ct}from"./renderer-cMcLPmpG.js";function qe(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}function Y(){return Y=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Y.apply(this,arguments)}const z={cellMinHeight:p.xxLarge_48,cellPadding:{paddingVertical:p.small_12,paddingHorizontal:p.medium_16},detailCellPadding:{paddingVertical:p.medium_16,paddingHorizontal:p.medium_16},accessoryHorizontalSpacing:p.medium_16},wt=r=>{switch(r){case"inset":return[pe.horizontalRule,pe.horizontalRuleInset];case"full-width":return pe.horizontalRule;case"none":return{}}},pe=T.StyleSheet.create({horizontalRule:{position:"relative",":after":{width:"100%",content:"''",position:"absolute",bottom:0,right:0,height:p.xxxxSmall_2,boxShadow:`inset 0px -1px 0px ${h.offBlack8}`}},horizontalRuleInset:{":after":{width:`calc(100% - ${z.cellPadding.paddingHorizontal}px)`}}}),_t=({leftAccessory:r,leftAccessoryStyle:t,disabled:e})=>r?l.createElement(l.Fragment,null,l.createElement(k,{style:[R.accessory,e&&R.accessoryDisabled,Y({},t)]},r),l.createElement(q,{size:z.accessoryHorizontalSpacing})):null,Ot=({rightAccessory:r,rightAccessoryStyle:t,active:e,disabled:n})=>r?l.createElement(l.Fragment,null,l.createElement(q,{size:z.accessoryHorizontalSpacing}),l.createElement(k,{style:[R.accessory,R.accessoryRight,n&&R.accessoryDisabled,Y({},t),e&&R.accessoryActive]},r)):null;function ke(r){const{active:t,children:e,disabled:n,horizontalRule:s="inset",leftAccessory:o=void 0,leftAccessoryStyle:a=void 0,rightAccessory:c=void 0,rightAccessoryStyle:d=void 0,style:u,testId:m,innerStyle:b}=r,y=wt(s);return l.createElement(k,{style:[R.innerWrapper,b,u,y]},l.createElement(_t,{leftAccessory:o,leftAccessoryStyle:a,disabled:n}),l.createElement(k,{style:R.content,testId:m},e),l.createElement(Ot,{rightAccessory:c,rightAccessoryStyle:d,active:t,disabled:n}))}const je=r=>{const{active:t,disabled:e,href:n,onClick:s,"aria-label":o,"aria-selected":a,target:c,role:d,rootStyle:u}=r;return s||n?l.createElement(ht,{disabled:e,onClick:s,href:n,hideDefaultFocusRing:!0,"aria-label":o||void 0,"aria-selected":a||void 0,role:d,target:c,style:[R.wrapper,R.clickable,u,t&&R.active,e&&R.disabled],"aria-current":t?"true":void 0},()=>l.createElement(ke,r)):l.createElement(k,{style:[R.wrapper,u,t&&R.active],"aria-current":t?"true":void 0,role:d},l.createElement(ke,r))},R=T.StyleSheet.create({wrapper:{background:h.white,color:h.offBlack,display:"flex",minHeight:z.cellMinHeight,textAlign:"left",width:"100%"},innerWrapper:{minHeight:z.cellMinHeight,padding:`${z.cellPadding.paddingVertical}px ${z.cellPadding.paddingHorizontal}px`,flexDirection:"row",flex:1,":focus-visible":{padding:`${z.cellPadding.paddingVertical-2}px ${z.cellPadding.paddingHorizontal-2}px`}},content:{alignSelf:"center",flex:1,overflowWrap:"break-word"},accessory:{minWidth:"auto",alignItems:"center",alignSelf:"center"},accessoryRight:{color:h.offBlack64},clickable:{outline:"none",":hover[aria-disabled=true]":{cursor:"not-allowed"},":focus-visible":{borderRadius:p.xxxSmall_4,overflow:"hidden",position:"relative"},":focus-visible:after":{content:"''",position:"absolute",top:0,left:0,zIndex:1,width:`calc(100% - ${p.xxxSmall_4}px)`,height:`calc(100% - ${p.xxxSmall_4}px)`,border:`${p.xxxxSmall_2}px solid ${h.blue}`,borderRadius:p.xxxSmall_4},":hover[aria-disabled=false]":{background:h.offBlack8},":active[aria-disabled=false]":{background:h.offBlack16}},active:{background:h.fadedBlue8,color:h.blue,":hover[aria-disabled=false]":{background:h.fadedBlue16},":active[aria-disabled=false]":{background:h.fadedBlue24}},disabled:{color:h.offBlack32,":focus-visible":{outline:"none"}},accessoryActive:{color:h.blue},accessoryDisabled:{color:h.offBlack,opacity:.32}}),Et=["title"],Tt=function(t){const{title:e}=t,n=qe(t,Et);return l.createElement(je,n,typeof e=="string"?l.createElement(U,null,e):e)},Rt=["title","subtitle1","subtitle2"],Fe=({subtitle:r,disabled:t})=>r?typeof r=="string"?l.createElement(xe,{style:!t&&Ue.subtitle},r):r:null,kt=function(t){const{title:e,subtitle1:n,subtitle2:s}=t,o=qe(t,Rt);return l.createElement(je,Y({},o,{innerStyle:Ue.innerWrapper}),l.createElement(Fe,{subtitle:n,disabled:o.disabled}),n&&l.createElement(q,{size:p.xxxxSmall_2}),typeof e=="string"?l.createElement(U,null,e):e,s&&l.createElement(q,{size:p.xxxxSmall_2}),l.createElement(Fe,{subtitle:s,disabled:o.disabled}))},Ue=T.StyleSheet.create({subtitle:{color:h.offBlack64},innerWrapper:{padding:`${z.detailCellPadding.paddingVertical}px ${z.detailCellPadding.paddingHorizontal}px`}}),Ft=""+new URL("magnifying-glass-IX5mxYeF.svg",import.meta.url).href;function ye(){return ye=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ye.apply(this,arguments)}function zt(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const Pt={clearSearch:"Clear search"},Mt=["clearAriaLabel","autoFocus","disabled","light","id","value","placeholder","style","testId","onClick","onChange","onFocus","onBlur"],Dt=l.forwardRef(function(t,e){const{clearAriaLabel:n=Pt.clearSearch,autoFocus:s,disabled:o=!1,light:a=!1,id:c,value:d,placeholder:u,style:m,testId:b,onClick:y,onChange:I,onFocus:S,onBlur:i}=t,f=zt(t,Mt),g=l.useRef(null),x=()=>{var w;I(""),g==null||(w=g.current)==null||w.focus()},v=()=>d.length?l.createElement(St,{icon:xt,kind:"tertiary",onClick:x,style:se.dismissIcon,"aria-label":n}):null;return l.createElement(mt,{id:c,scope:"search-field"},w=>l.createElement(k,{onClick:y,style:[se.inputContainer,m]},l.createElement(Q,{icon:Ft,size:"medium",color:h.offBlack64,style:se.searchIcon,"aria-hidden":"true"}),l.createElement(bt,ye({id:`${w}-field`,type:"text",autoFocus:s,disabled:o,light:a,onChange:I,onFocus:S,onBlur:i,placeholder:u,ref:C=>{e&&(e.current=C),g.current=C},value:d,style:[se.inputStyleReset,dt.LabelMedium],testId:b},f)),v()))}),se=T.StyleSheet.create({inputContainer:{boxSizing:"border-box",flexDirection:"row",borderRadius:p.xxxSmall_4,alignItems:"center",height:40},searchIcon:{marginLeft:p.xSmall_8,marginRight:p.xSmall_8,position:"absolute"},dismissIcon:{margin:0,position:"absolute",right:0,":hover":{border:"none"}},inputStyleReset:{display:"flex",flex:1,"::placeholder":{color:h.offBlack64},width:"100%",color:"inherit",paddingLeft:p.large_24+p.medium_16,paddingRight:p.large_24+p.medium_16}});function ve(){return ve=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ve.apply(this,arguments)}function ze(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ie(r,t){return Ie=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},Ie(r,t)}function Lt(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Ie(r,t)}var Pe=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function At(r,t){return!!(r===t||Pe(r)&&Pe(t))}function $t(r,t){if(r.length!==t.length)return!1;for(var e=0;e<r.length;e++)if(!At(r[e],t[e]))return!1;return!0}function fe(r,t){t===void 0&&(t=$t);var e,n=[],s,o=!1;function a(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return o&&e===this&&t(c,n)||(s=r.apply(this,c),o=!0,e=this,n=c),s}return a}var Bt=typeof performance=="object"&&typeof performance.now=="function",Me=Bt?function(){return performance.now()}:function(){return Date.now()};function De(r){cancelAnimationFrame(r.id)}function Nt(r,t){var e=Me();function n(){Me()-e>=t?r.call(null):s.id=requestAnimationFrame(n)}var s={id:requestAnimationFrame(n)};return s}var W=null;function Le(r){if(r===void 0&&(r=!1),W===null||r){var t=document.createElement("div"),e=t.style;e.width="50px",e.height="50px",e.overflow="scroll",e.direction="rtl";var n=document.createElement("div"),s=n.style;return s.width="100px",s.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?W="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?W="negative":W="positive-ascending"),document.body.removeChild(t),W}return W}var Wt=150,Ht=function(t,e){return t};function Vt(r){var t,e=r.getItemOffset,n=r.getEstimatedTotalSize,s=r.getItemSize,o=r.getOffsetForIndexAndAlignment,a=r.getStartIndexForOffset,c=r.getStopIndexForStartIndex,d=r.initInstanceProps,u=r.shouldResetStyleCacheOnItemSizeChange,m=r.validateProps;return t=function(b){Lt(y,b);function y(S){var i;return i=b.call(this,S)||this,i._instanceProps=d(i.props,ze(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:ze(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof i.props.initialScrollOffset=="number"?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=fe(function(f,g,x,v){return i.props.onItemsRendered({overscanStartIndex:f,overscanStopIndex:g,visibleStartIndex:x,visibleStopIndex:v})}),i._callOnScroll=void 0,i._callOnScroll=fe(function(f,g,x){return i.props.onScroll({scrollDirection:f,scrollOffset:g,scrollUpdateWasRequested:x})}),i._getItemStyle=void 0,i._getItemStyle=function(f){var g=i.props,x=g.direction,v=g.itemSize,w=g.layout,C=i._getItemStyleCache(u&&v,u&&w,u&&x),O;if(C.hasOwnProperty(f))O=C[f];else{var E=e(i.props,f,i._instanceProps),P=s(i.props,f,i._instanceProps),M=x==="horizontal"||w==="horizontal",ee=x==="rtl",te=M?E:0;C[f]=O={position:"absolute",left:ee?void 0:te,right:ee?te:void 0,top:M?0:E,height:M?"100%":P,width:M?P:"100%"}}return O},i._getItemStyleCache=void 0,i._getItemStyleCache=fe(function(f,g,x){return{}}),i._onScrollHorizontal=function(f){var g=f.currentTarget,x=g.clientWidth,v=g.scrollLeft,w=g.scrollWidth;i.setState(function(C){if(C.scrollOffset===v)return null;var O=i.props.direction,E=v;if(O==="rtl")switch(Le()){case"negative":E=-v;break;case"positive-descending":E=w-x-v;break}return E=Math.max(0,Math.min(E,w-x)),{isScrolling:!0,scrollDirection:C.scrollOffset<v?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._onScrollVertical=function(f){var g=f.currentTarget,x=g.clientHeight,v=g.scrollHeight,w=g.scrollTop;i.setState(function(C){if(C.scrollOffset===w)return null;var O=Math.max(0,Math.min(w,v-x));return{isScrolling:!0,scrollDirection:C.scrollOffset<O?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._outerRefSetter=function(f){var g=i.props.outerRef;i._outerRef=f,typeof g=="function"?g(f):g!=null&&typeof g=="object"&&g.hasOwnProperty("current")&&(g.current=f)},i._resetIsScrollingDebounced=function(){i._resetIsScrollingTimeoutId!==null&&De(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=Nt(i._resetIsScrolling,Wt)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},function(){i._getItemStyleCache(-1,null)})},i}y.getDerivedStateFromProps=function(i,f){return qt(i,f),m(i),null};var I=y.prototype;return I.scrollTo=function(i){i=Math.max(0,i),this.setState(function(f){return f.scrollOffset===i?null:{scrollDirection:f.scrollOffset<i?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},I.scrollToItem=function(i,f){f===void 0&&(f="auto");var g=this.props.itemCount,x=this.state.scrollOffset;i=Math.max(0,Math.min(i,g-1)),this.scrollTo(o(this.props,i,f,x,this._instanceProps))},I.componentDidMount=function(){var i=this.props,f=i.direction,g=i.initialScrollOffset,x=i.layout;if(typeof g=="number"&&this._outerRef!=null){var v=this._outerRef;f==="horizontal"||x==="horizontal"?v.scrollLeft=g:v.scrollTop=g}this._callPropsCallbacks()},I.componentDidUpdate=function(){var i=this.props,f=i.direction,g=i.layout,x=this.state,v=x.scrollOffset,w=x.scrollUpdateWasRequested;if(w&&this._outerRef!=null){var C=this._outerRef;if(f==="horizontal"||g==="horizontal")if(f==="rtl")switch(Le()){case"negative":C.scrollLeft=-v;break;case"positive-ascending":C.scrollLeft=v;break;default:var O=C.clientWidth,E=C.scrollWidth;C.scrollLeft=E-O-v;break}else C.scrollLeft=v;else C.scrollTop=v}this._callPropsCallbacks()},I.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&De(this._resetIsScrollingTimeoutId)},I.render=function(){var i=this.props,f=i.children,g=i.className,x=i.direction,v=i.height,w=i.innerRef,C=i.innerElementType,O=i.innerTagName,E=i.itemCount,P=i.itemData,M=i.itemKey,ee=M===void 0?Ht:M,te=i.layout,tt=i.outerElementType,nt=i.outerTagName,st=i.style,rt=i.useIsScrolling,ot=i.width,Oe=this.state.isScrolling,ue=x==="horizontal"||te==="horizontal",it=ue?this._onScrollHorizontal:this._onScrollVertical,Ee=this._getRangeToRender(),lt=Ee[0],at=Ee[1],Te=[];if(E>0)for(var G=lt;G<=at;G++)Te.push(l.createElement(f,{data:P,key:ee(G,P),index:G,isScrolling:rt?Oe:void 0,style:this._getItemStyle(G)}));var Re=n(this.props,this._instanceProps);return l.createElement(tt||nt||"div",{className:g,onScroll:it,ref:this._outerRefSetter,style:ve({position:"relative",height:v,width:ot,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:x},st)},l.createElement(C||O||"div",{children:Te,ref:w,style:{height:ue?"100%":Re,pointerEvents:Oe?"none":void 0,width:ue?Re:"100%"}}))},I._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var i=this.props.itemCount;if(i>0){var f=this._getRangeToRender(),g=f[0],x=f[1],v=f[2],w=f[3];this._callOnItemsRendered(g,x,v,w)}}if(typeof this.props.onScroll=="function"){var C=this.state,O=C.scrollDirection,E=C.scrollOffset,P=C.scrollUpdateWasRequested;this._callOnScroll(O,E,P)}},I._getRangeToRender=function(){var i=this.props,f=i.itemCount,g=i.overscanCount,x=this.state,v=x.isScrolling,w=x.scrollDirection,C=x.scrollOffset;if(f===0)return[0,0,0,0];var O=a(this.props,C,this._instanceProps),E=c(this.props,O,C,this._instanceProps),P=!v||w==="backward"?Math.max(1,g):1,M=!v||w==="forward"?Math.max(1,g):1;return[Math.max(0,O-P),Math.max(0,Math.min(f-1,E+M)),O,E]},y}(l.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var qt=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},jt=50,V=function(t,e,n){var s=t,o=s.itemSize,a=n.itemMetadataMap,c=n.lastMeasuredIndex;if(e>c){var d=0;if(c>=0){var u=a[c];d=u.offset+u.size}for(var m=c+1;m<=e;m++){var b=o(m);a[m]={offset:d,size:b},d+=b}n.lastMeasuredIndex=e}return a[e]},Ut=function(t,e,n){var s=e.itemMetadataMap,o=e.lastMeasuredIndex,a=o>0?s[o].offset:0;return a>=n?Ke(t,e,o,0,n):Kt(t,e,Math.max(0,o),n)},Ke=function(t,e,n,s,o){for(;s<=n;){var a=s+Math.floor((n-s)/2),c=V(t,a,e).offset;if(c===o)return a;c<o?s=a+1:c>o&&(n=a-1)}return s>0?s-1:0},Kt=function(t,e,n,s){for(var o=t.itemCount,a=1;n<o&&V(t,n,e).offset<s;)n+=a,a*=2;return Ke(t,e,Math.min(n,o-1),Math.floor(n/2),s)},Ae=function(t,e){var n=t.itemCount,s=e.itemMetadataMap,o=e.estimatedItemSize,a=e.lastMeasuredIndex,c=0;if(a>=n&&(a=n-1),a>=0){var d=s[a];c=d.offset+d.size}var u=n-a-1,m=u*o;return c+m},Gt=Vt({getItemOffset:function(t,e,n){return V(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:Ae,getOffsetForIndexAndAlignment:function(t,e,n,s,o){var a=t.direction,c=t.height,d=t.layout,u=t.width,m=a==="horizontal"||d==="horizontal",b=m?u:c,y=V(t,e,o),I=Ae(t,o),S=Math.max(0,Math.min(I-b,y.offset)),i=Math.max(0,y.offset-b+y.size);switch(n==="smart"&&(s>=i-b&&s<=S+b?n="auto":n="center"),n){case"start":return S;case"end":return i;case"center":return Math.round(i+(S-i)/2);case"auto":default:return s>=i&&s<=S?s:s<i?i:S}},getStartIndexForOffset:function(t,e,n){return Ut(t,n,e)},getStopIndexForStartIndex:function(t,e,n,s){for(var o=t.direction,a=t.height,c=t.itemCount,d=t.layout,u=t.width,m=o==="horizontal"||d==="horizontal",b=m?u:a,y=V(t,e,s),I=n+b,S=y.offset+y.size,i=e;i<c-1&&S<I;)i++,S+=V(t,i,s).size;return i},initInstanceProps:function(t,e){var n=t,s=n.estimatedItemSize,o={itemMetadataMap:{},estimatedItemSize:s||jt,lastMeasuredIndex:-1};return e.resetAfterIndex=function(a,c){c===void 0&&(c=!0),o.lastMeasuredIndex=Math.min(o.lastMeasuredIndex,a-1),e._getItemStyleCache(-1),c&&e.forceUpdate()},o},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});const Ge=""+new URL("caret-down-bold-NQKqym-e.svg",import.meta.url).href;function _(){return _=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},_.apply(this,arguments)}const $={tab:9,enter:13,escape:27,space:32,up:38,down:40},Xe={marginTop:p.xSmall_8,marginBottom:p.xSmall_8},Ze={minHeight:100},A=40,Ye=9,Je=9,F={clearSearch:"Clear search",filter:"Filter",noResults:"No results",selectNoneLabel:"Select none",selectAllLabel:r=>`Select all (${r})`,noneSelected:"0 items",someSelected:r=>r===1?"1 item":`${r} items`,allSelected:"All items"},{blue:Xt,white:$e,offBlack:Zt}=h;class j extends l.Component{static isClassOf(t){return t&&t.type&&t.type.__IS_ACTION_ITEM__}render(){const{disabled:t,horizontalRule:e,href:n,target:s,indent:o,label:a,lang:c,leftAccessory:d,rightAccessory:u,onClick:m,role:b,style:y,testId:I}=this.props,S=[X.wrapper,y],i=typeof a=="string"?l.createElement(U,{lang:c,style:X.label},a):l.cloneElement(a,_({lang:c,style:X.label},a.props));return l.createElement(Tt,{disabled:t,horizontalRule:e,rootStyle:S,leftAccessory:d,rightAccessory:u,style:[X.shared,o&&X.indent],role:b,testId:I,title:i,href:n,target:s,onClick:m})}}j.defaultProps={disabled:!1,horizontalRule:"none",indent:!1,role:"menuitem"};j.__IS_ACTION_ITEM__=!0;const X=T.StyleSheet.create({wrapper:{minHeight:A,touchAction:"manipulation",":focus":{borderRadius:p.xxxSmall_4,outline:`${p.xxxxSmall_2}px solid ${h.blue}`,outlineOffset:-p.xxxxSmall_2},":hover[aria-disabled=false]":{color:$e,background:Xt},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:$e,background:Zt}},":active[aria-disabled=false]":{color:h.fadedBlue,background:h.activeBlue}},shared:{minHeight:A,height:A},label:{whiteSpace:"nowrap",userSelect:"none"},indent:{paddingLeft:p.medium_16*2}});function K(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const Yt=function(t){const{selected:e}=t;return l.createElement(Q,{icon:He,size:"small",style:[Be.bounds,!e&&Be.hide]})},Be=T.StyleSheet.create({bounds:{alignSelf:"center",height:p.medium_16,minHeight:p.medium_16,minWidth:p.medium_16},hide:{visibility:"hidden"}}),{offBlack16:Jt,offBlack50:Qt,offWhite:en}=h,tn=function(t){const{disabled:e,selected:n}=t;return l.createElement(k,{className:"checkbox",style:[re.checkbox,n&&!e&&re.noBorder,e&&re.disabledCheckbox]},n&&l.createElement(Q,{icon:He,size:"small",className:"check",style:[{width:p.small_12,height:p.small_12,margin:p.xxxxSmall_2},e&&n&&re.disabledCheckFormatting]}))},re=T.StyleSheet.create({checkbox:{alignSelf:"center",minHeight:p.medium_16,minWidth:p.medium_16,height:p.medium_16,borderRadius:3,borderWidth:1,borderStyle:"solid",borderColor:Qt},noBorder:{borderWidth:0},disabledCheckbox:{borderColor:Jt,backgroundColor:en},disabledCheckFormatting:{position:"absolute",top:-1,left:-1}}),nn=["disabled","label","role","selected","testId","style","leftAccessory","horizontalRule","rightAccessory","subtitle1","subtitle2","value","onClick","onToggle","variant"];class B extends l.Component{constructor(...t){super(...t),this.handleClick=()=>{const{onClick:e,onToggle:n,value:s}=this.props;n(s),e&&e()}}static isClassOf(t){return t&&t.type&&t.type.__IS_OPTION_ITEM__}getCheckComponent(){return this.props.variant==="check"?Yt:tn}render(){const t=this.props,{disabled:e,label:n,role:s,selected:o,testId:a,style:c,leftAccessory:d,horizontalRule:u,rightAccessory:m,subtitle1:b,subtitle2:y}=t,I=K(t,nn),S=this.getCheckComponent(),i=[ge.item,c];return l.createElement(kt,_({disabled:e,horizontalRule:u,rootStyle:i,style:ge.itemContainer,"aria-selected":o?"true":"false",role:s,testId:a,leftAccessory:l.createElement(l.Fragment,null,d?l.createElement(k,{style:{flexDirection:"row"}},l.createElement(S,{disabled:e,selected:o}),l.createElement(q,{size:p.xSmall_8}),d):l.createElement(S,{disabled:e,selected:o})),rightAccessory:m,subtitle1:b?l.createElement(xe,{className:"subtitle"},b):void 0,title:l.createElement(U,{style:ge.label},n),subtitle2:y?l.createElement(xe,{className:"subtitle"},y):void 0,onClick:this.handleClick},I))}}B.defaultProps={disabled:!1,horizontalRule:"none",onToggle:()=>{},role:"option",selected:!1};B.__IS_OPTION_ITEM__=!0;const{blue:me,white:Z,offBlack:sn}=h,ge=T.StyleSheet.create({item:{minHeight:"unset",paddingBlock:p.xxxxSmall_2,":focus":{borderRadius:p.xxxSmall_4,outline:`${p.xxxxSmall_2}px solid ${h.blue}`,outlineOffset:-p.xxxxSmall_2},":focus-visible":{overflow:"visible"},":hover[aria-disabled=false]":{color:Z,background:me},"@media not (hover: hover)":{":hover[aria-disabled=false]":{color:Z,background:sn}},":active[aria-disabled=false]":{color:h.fadedBlue,background:h.activeBlue},":hover[aria-disabled=false] .checkbox":{background:Z},":hover[aria-disabled=false] .check":{color:me},":active[aria-disabled=false] .check":{color:h.activeBlue},":is([aria-selected=true]) .checkbox":{background:me},":is([aria-selected=true]) .check":{color:Z},":is([aria-disabled=false]) .subtitle":{color:h.offBlack64},":hover[aria-disabled=false] .subtitle":{color:h.offWhite},":active[aria-disabled=false] .subtitle":{color:de(h.fadedBlue16,Z)}},itemContainer:{minHeight:"unset",padding:p.xSmall_8,paddingRight:p.medium_16,whiteSpace:"nowrap"},label:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},hide:{visibility:"hidden"}});class D extends l.Component{static isClassOf(t){return t&&t.type&&t.type.__IS_SEPARATOR_ITEM__}render(){return l.createElement(k,{style:[rn.separator,this.props.style],"aria-hidden":"true"})}}D.__IS_SEPARATOR_ITEM__=!0;const rn=T.StyleSheet.create({separator:{boxShadow:`0 -1px ${h.offBlack16}`,height:1,minHeight:1,marginTop:p.xxxSmall_4,marginBottom:p.xxxSmall_4}});class ce extends l.Component{constructor(...t){super(...t),this.getTestIdFromProps=e=>e.testId||e["data-test-id"]}renderAnchorChildren(t,e){const{disabled:n,testId:s,text:o,opened:a}=this.props,c=this.props.children(_({},t,{text:o,opened:a})),d=c.props,u=this.getTestIdFromProps(d);return l.cloneElement(c,_({},e,{disabled:n,onClick:d.onClick?m=>{d.onClick(m),e.onClick(m)}:e.onClick,"data-test-id":u||s}))}render(){return l.createElement(ut,{onClick:this.props.onClick,disabled:this.props.disabled,tabIndex:0},(t,e)=>this.renderAnchorChildren(t,e))}}ce.defaultProps={disabled:!1};class on extends l.Component{render(){const{data:t,index:e,style:n}=this.props,s=t[e];if(D.isClassOf(s.component))return l.cloneElement(s.component,{style:n});{const{component:o,populatedProps:a,onClick:c,role:d,ref:u}=s;return l.cloneElement(o,_({style:n},a,{key:e,onClick:c,ref:s.focusable&&u,role:d}))}}}function Ne(r,t=0){return r.slice(0,Ye).reduce((e,n)=>D.isClassOf(n.component)?e+Je:e+A,t)}class ln extends l.Component{constructor(t){super(t),this.getItemSize=e=>{const n=this.props.data[e];return D.isClassOf(n.component)?Je:A},this.state={height:Ne(t.data),width:t.width}}componentDidMount(){const{schedule:t}=this.props;t.animationFrame(()=>{this.setWidth()})}componentDidUpdate(t){const{data:e,listRef:n}=this.props;t.data.length!==e.length&&(this.setHeight(),n&&n.current&&n.current.resetAfterIndex(1))}setWidth(){const t=N.findDOMNode(this),e=t==null?void 0:t.parentElement;if(e){const n=e.getBoundingClientRect().width;this.setState({width:n})}}setHeight(){const t=Ne(this.props.data);this.setState({height:t})}renderInitialItems(){const{data:t}=this.props,e=t.map(s=>s.component);return l.Children.toArray(e).filter(Boolean).sort((s,o)=>o.props.label&&s.props.label?o.props.label.length-s.props.label.length:-1).slice(0,Ye).map(s=>l.cloneElement(s,{style:{visibility:"hidden"}}))}renderVirtualizedList(t,e){const{data:n,listRef:s}=this.props;return l.createElement(Gt,{height:e,itemCount:n.length,itemSize:this.getItemSize,itemData:n,style:{overflowX:"hidden"},width:t,overscanCount:5,ref:s},on)}render(){const{width:t,height:e}=this.state;return t==null?this.renderInitialItems():this.renderVirtualizedList(t,e)}}var an=Ve(ln);function dn({state:r,options:t}){const e=It(r,t),{y:n}=r.modifiersData.preventOverflow||{x:0,y:0},{height:s}=r.rects.popper,[o]=r.placement.split("-"),c=s-e[o==="top"?"top":"bottom"]-n;r.styles.popper=_({},r.styles.popper,{maxHeight:`${c}px`,"--popper-max-height":`${c}px`})}const cn={name:"maxHeight",enabled:!0,phase:"main",options:{padding:A},requiresIfExists:["offset","preventOverflow","flip"],fn:dn},hn=[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,tether:!1}},cn],un=function({children:t,alignment:e="left",onPopperElement:n,referenceElement:s}){const o=yt(s)||document.querySelector("body");return o?N.createPortal(l.createElement(vt,{innerRef:a=>{a&&n&&n(a)},referenceElement:s,strategy:"fixed",placement:e==="left"?"bottom-start":"bottom-end",modifiers:hn},({placement:a,ref:c,style:d,hasPopperEscaped:u,isReferenceHidden:m})=>{const b=!!(u||m);return l.createElement("div",{ref:c,style:d,"data-test-id":"dropdown-popper","data-placement":a},t(b))}),o):null};function pn(r){return r.length===1||!/^[A-Z]/i.test(r)?r:""}function fn(r,t){let e;return function(...s){const o=()=>{clearTimeout(e),r(...s)};clearTimeout(e),e=setTimeout(o,t)}}function We(r){return typeof r=="string"}function J(r){return We(r.label)?r.label:We(r.labelAsText)?r.labelAsText:""}const mn=125,gn=Ce("span");class he extends l.Component{static sameItemsFocusable(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n].focusable!==e[n].focusable)return!1;return!0}static getDerivedStateFromProps(t,e){if(e.itemRefs.length===0&&t.open||!he.sameItemsFocusable(e.prevItems,t.items)){const n=[];for(let s=0;s<t.items.length;s++)if(t.items[s].focusable){const o=l.createRef();n.push({ref:o,originalIndex:s})}return{itemRefs:n,prevItems:t.items,sameItemsFocusable:!1}}else return{prevItems:t.items,sameItemsFocusable:!0}}constructor(t){super(t),this.focusedIndex=void 0,this.focusedOriginalIndex=void 0,this.itemsClicked=void 0,this.popperElement=void 0,this.virtualizedListRef=void 0,this.handleKeyDownDebounced=void 0,this.textSuggestion=void 0,this.searchFieldRef=l.createRef(),this.handleInteract=e=>{const{open:n,onOpenChanged:s}=this.props,o=e.target,a=N.findDOMNode(this);n&&a&&!a.contains(o)&&this.popperElement&&!this.popperElement.contains(o)&&s(!1)},this.handleKeyDown=e=>{const{enableTypeAhead:n,onOpenChanged:s,open:o,searchText:a}=this.props,c=e.which||e.keyCode;if(n&&pn(e.key)&&(e.stopPropagation(),this.textSuggestion+=e.key,this.handleKeyDownDebounced(this.textSuggestion)),!o){if(c===$.down){e.preventDefault(),s(!0);return}return}switch(c){case $.tab:if(this.isSearchFieldFocused()&&a)return;this.restoreTabOrder(),s(!1);return;case $.space:if(this.isSearchFieldFocused())return;e.preventDefault();return;case $.up:e.preventDefault(),this.focusPreviousItem();return;case $.down:e.preventDefault(),this.focusNextItem();return}},this.handleKeyUp=e=>{const{onOpenChanged:n,open:s}=this.props;switch(e.which||e.keyCode){case $.space:if(this.isSearchFieldFocused())return;e.preventDefault();return;case $.escape:s&&(e.stopPropagation(),this.restoreTabOrder(),n(!1));return}},this.handleKeyDownDebounceResult=e=>{const n=this.props.items.filter(s=>s.focusable).findIndex(({component:s})=>{if(D.isClassOf(s))return!1;if(B.isClassOf(s)){const o=s.props;return J(o).toLowerCase().startsWith(e.toLowerCase())}return!1});if(n>=0){const s=!this.props.open;s&&this.props.onOpenChanged(!0),this.focusedIndex=n,this.scheduleToFocusCurrentItem(o=>{this.props.selectionType==="single"&&s&&o&&(o.click(),this.props.onOpenChanged(!1))})}this.textSuggestion=""},this.handleClickFocus=e=>{this.itemsClicked=!0,this.focusedIndex=e,this.focusedOriginalIndex=this.state.itemRefs[this.focusedIndex].originalIndex},this.handleDropdownMouseUp=e=>{e.nativeEvent.stopImmediatePropagation?e.nativeEvent.stopImmediatePropagation():e.stopPropagation()},this.handleItemClick=(e,n)=>{this.handleClickFocus(e),n.component.props.onClick&&n.component.props.onClick(),n.populatedProps.onClick&&n.populatedProps.onClick()},this.handleSearchTextChanged=e=>{const{onSearchTextChanged:n}=this.props;n&&n(e)},this.resetFocusedIndex(),this.state={prevItems:this.props.items,itemRefs:[],sameItemsFocusable:!1,labels:_({noResults:F.noResults,someResults:F.someSelected},t.labels)},this.virtualizedListRef=l.createRef(),this.handleKeyDownDebounced=fn(this.handleKeyDownDebounceResult,500),this.textSuggestion=""}componentDidMount(){this.updateEventListeners(),this.maybeFocusInitialItem()}componentDidUpdate(t){const{open:e}=this.props;if(t.open!==e)this.updateEventListeners(),this.maybeFocusInitialItem();else if(e){const{itemRefs:n,sameItemsFocusable:s}=this.state;if(s)return;{const o=n.findIndex(a=>a.originalIndex===this.focusedOriginalIndex);o===-1?(this.focusedIndex=0,this.itemsClicked=!1,this.scheduleToFocusCurrentItem()):this.focusedIndex=o}this.props.labels!==t.labels&&this.setState({labels:_({},this.state.labels,this.props.labels)})}}componentWillUnmount(){this.removeEventListeners()}resetFocusedIndex(){const{initialFocusedIndex:t}=this.props;if(typeof t<"u")this.focusedIndex=t;else{if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}}maybeFocusInitialItem(){const{autoFocus:t,open:e}=this.props;t&&(e?(this.resetFocusedIndex(),this.scheduleToFocusCurrentItem()):e||(this.itemsClicked=!1))}updateEventListeners(){this.props.open?this.addEventListeners():this.removeEventListeners()}addEventListeners(){document.addEventListener("mouseup",this.handleInteract),document.addEventListener("touchend",this.handleInteract)}removeEventListeners(){document.removeEventListener("mouseup",this.handleInteract),document.removeEventListener("touchend",this.handleInteract)}scheduleToFocusCurrentItem(t){this.shouldVirtualizeList()?this.props.schedule.animationFrame(()=>{this.focusCurrentItem(t)}):this.focusCurrentItem(t)}focusCurrentItem(t){const e=this.state.itemRefs[this.focusedIndex];if(e){this.virtualizedListRef.current&&this.virtualizedListRef.current.scrollToItem(e.originalIndex);const n=N.findDOMNode(e.ref.current);n&&(n.focus(),this.focusedOriginalIndex=e.originalIndex,t&&t(n))}}focusSearchField(){this.searchFieldRef.current&&this.searchFieldRef.current.focus()}hasSearchField(){return!!this.props.isFilterable}isSearchFieldFocused(){return this.hasSearchField()&&document.activeElement===this.searchFieldRef.current}focusPreviousItem(){if(this.focusedIndex===0){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=this.state.itemRefs.length-1}else this.focusedIndex-=1;this.scheduleToFocusCurrentItem()}focusNextItem(){if(this.focusedIndex===this.state.itemRefs.length-1){if(this.hasSearchField()&&!this.isSearchFieldFocused())return this.focusSearchField();this.focusedIndex=0}else this.focusedIndex+=1;this.scheduleToFocusCurrentItem()}restoreTabOrder(){this.props.openerElement&&this.props.openerElement.focus()}getItemRole(){const{role:t}=this.props;switch(t){case"listbox":return"option";case"menu":return"menuitem";default:throw new Error(`Expected "listbox" or "menu" for role, but receieved "${t}" instead.`)}}maybeRenderNoResults(){const{items:t,labels:{noResults:e}}=this.props;return t.length===0?l.createElement(U,{style:L.noResult,testId:"dropdown-core-no-results"},e):null}shouldVirtualizeList(){return this.props.items.length>mn}renderList(){let t=0;const e=this.getItemRole();return this.props.items.map((n,s)=>{if(D.isClassOf(n.component))return n.component;const{component:o,focusable:a,populatedProps:c}=n;a&&(t+=1);const d=t-1,u=this.state.itemRefs[d]?this.state.itemRefs[d].ref:null;return l.cloneElement(o,_({},c,{key:s,onClick:()=>{this.handleItemClick(d,n)},ref:a?u:null,role:e}))})}parseVirtualizedItems(){let t=0;const e=this.getItemRole();return this.props.items.map((n,s)=>{!D.isClassOf(n.component)&&n.focusable&&(t+=1);const o=t-1;return _({},n,{role:e,ref:n.focusable&&this.state.itemRefs[o]?this.state.itemRefs[o].ref:null,onClick:()=>{this.handleItemClick(o,n)}})})}renderVirtualizedList(){const t=this.parseVirtualizedItems();return l.createElement(an,{data:t,listRef:this.virtualizedListRef})}renderSearchField(){const{searchText:t}=this.props,{labels:e}=this.state;return l.createElement(Dt,{clearAriaLabel:e.clearSearch,onChange:this.handleSearchTextChanged,placeholder:e.filter,ref:this.searchFieldRef,style:L.searchInputStyle,value:t||""})}renderDropdownMenu(t,e){const{"aria-invalid":n,"aria-required":s,dropdownStyle:o,isFilterable:a,light:c,openerElement:d,role:u}=this.props,m=d&&window.getComputedStyle(d),b=m?m.getPropertyValue("width"):0;return l.createElement(k,{onMouseUp:this.handleDropdownMouseUp,style:[L.dropdown,c&&L.light,e&&L.hidden,o],testId:"dropdown-core-container"},a&&this.renderSearchField(),l.createElement(k,{role:u,style:[L.listboxOrMenu,{minWidth:b}],"aria-invalid":u==="listbox"?n:void 0,"aria-required":u==="listbox"?s:void 0},t),this.maybeRenderNoResults())}renderDropdown(){const{alignment:t,openerElement:e}=this.props,n=this.shouldVirtualizeList()?this.renderVirtualizedList():this.renderList();return l.createElement(un,{alignment:t,onPopperElement:s=>{this.popperElement=s},referenceElement:e},s=>this.renderDropdownMenu(n,s))}renderLiveRegion(){const{items:t,open:e}=this.props,{labels:n}=this.state,s=t.length;return l.createElement(gn,{"aria-live":"polite","aria-atomic":"true","aria-relevant":"additions text",style:L.srOnly,"data-test-id":"dropdown-live-region"},e&&n.someResults(s))}render(){const{open:t,opener:e,style:n,className:s}=this.props;return l.createElement(k,{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,style:[L.menuWrapper,n],className:s},this.renderLiveRegion(),e,t&&this.renderDropdown())}}he.defaultProps={alignment:"left",autoFocus:!0,enableTypeAhead:!0,labels:{clearSearch:F.clearSearch,filter:F.filter,noResults:F.noResults,someResults:F.someSelected},light:!1,selectionType:"single"};const L=T.StyleSheet.create({menuWrapper:{width:"fit-content"},dropdown:{backgroundColor:h.white,borderRadius:4,paddingTop:p.xxxSmall_4,paddingBottom:p.xxxSmall_4,border:`solid 1px ${h.offBlack16}`,boxShadow:`0px 8px 8px 0px ${gt(h.offBlack,.1)}`,maxHeight:"var(--popper-max-height)"},light:{border:"none"},listboxOrMenu:{overflowY:"auto"},hidden:{pointerEvents:"none",visibility:"hidden"},noResult:{color:h.offBlack64,alignSelf:"center",marginTop:p.xxSmall_6},searchInputStyle:{margin:p.xSmall_8,marginTop:p.xxxSmall_4,minHeight:"auto",position:"sticky"},srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}});var we=Ve(he);const bn=["children","disabled","focused","hovered","pressed","waiting","testId","opened","aria-label"],Sn=Ce("button");class xn extends l.Component{render(){const t=this.props,{children:e,disabled:n,focused:s,hovered:o,pressed:a,testId:c,opened:d,"aria-label":u}=t,m=K(t,bn),b=h.blue,y=yn(b),I=n,S=[be.shared,I&&be.disabled,y.default,I&&y.disabled,!I&&a&&y.active],i=l.createElement(ct,{style:be.text},e);return l.createElement(Sn,_({"aria-expanded":d?"true":"false","aria-haspopup":"menu","aria-label":u,disabled:I,style:S,type:"button"},m,{"data-test-id":c}),l.createElement(k,{style:!I&&(o||s)&&y.focus},i),l.createElement(q,{size:p.xxxSmall_4}),l.createElement(Q,{size:"small",color:"currentColor",icon:Ge,"aria-hidden":"true"}))}}const be=T.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",height:A,border:"none",borderRadius:p.xxxSmall_4,cursor:"pointer",outline:"none",textDecoration:"none",boxSizing:"border-box",touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"auto"},small:{height:p.xLarge_32},text:{textAlign:"left",display:"inline-block",alignItems:"center",fontWeight:"bold",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pointerEvents:"none"},hiddenText:{visibility:"hidden"},spinner:{position:"absolute"}}),oe={},yn=r=>{const t=r;if(oe[t])return oe[t];const{offBlack32:e}=h,n=h.activeBlue;let s={};return s={default:{background:"none",color:r},focus:{":after":{content:"''",position:"absolute",height:2,left:0,right:0,bottom:-1,background:"currentColor",borderRadius:2}},active:{color:n},disabled:{color:e,cursor:"default"}},oe[t]=T.StyleSheet.create(s),oe[t]},vn=["text","opened"];class In extends l.Component{constructor(...t){super(...t),this.openerElement=void 0,this.state={opened:!1},this.handleItemSelected=()=>{this.handleOpenChanged(!1),this.openerElement&&this.openerElement.focus()},this.handleOpenChanged=e=>{this.setState({opened:e}),this.props.onToggle&&this.props.onToggle(e)},this.handleOptionSelected=e=>{const{onChange:n,selectedValues:s}=this.props;if(!(!n||!s)){if(s.includes(e)){const o=s.indexOf(e),a=[...s.slice(0,o),...s.slice(o+1)];n(a)}else n([...s,e]);this.handleItemSelected()}},this.handleOpenerRef=e=>{this.openerElement=N.findDOMNode(e)},this.handleClick=e=>{this.handleOpenChanged(!this.state.opened)}}static getDerivedStateFromProps(t,e){return{opened:typeof t.opened=="boolean"?t.opened:e.opened}}getMenuItems(){const{children:t,selectedValues:e}=this.props,n=l.Children.toArray(t).filter(Boolean),s=n.some(o=>B.isClassOf(o));return n.map(o=>{const{value:a,disabled:c}=o.props,d={component:o,focusable:j.isClassOf(o)||B.isClassOf(o)?!c:!1,populatedProps:{}};return j.isClassOf(o)?_({},d,{populatedProps:{indent:s,onClick:this.handleItemSelected}}):B.isClassOf(o)?_({},d,{populatedProps:{onToggle:this.handleOptionSelected,selected:e?e.includes(a):!1,variant:"check"}}):d})}renderOpener(t){const{disabled:e,menuText:n,opener:s,testId:o}=this.props;return l.createElement(ce,{onClick:this.handleClick,disabled:t===0||e,text:n,ref:this.handleOpenerRef,testId:s?void 0:o,opened:this.state.opened},s||(a=>{const{opened:c}=a,d=K(a,vn);return l.createElement(xn,_({},d,{disabled:e,opened:!!c,testId:o}),n)}))}render(){const{alignment:t,dropdownStyle:e,style:n,className:s}=this.props,o=this.getMenuItems(),a=this.renderOpener(o.length);return l.createElement(we,{role:"menu",style:n,className:s,opener:a,alignment:t,open:this.state.opened,items:o,openerElement:this.openerElement,onOpenChanged:this.handleOpenChanged,dropdownStyle:[Cn.menuTopSpace,e]})}}In.defaultProps={alignment:"left",disabled:!1};const Cn=T.StyleSheet.create({caret:{marginLeft:4},opener:{whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},menuTopSpace:{top:-4}}),wn=["children","disabled","error","id","isPlaceholder","light","open","testId","onOpenChanged"],_n=Ce("button");class _e extends l.Component{constructor(...t){super(...t),this.handleClick=e=>{const{open:n}=this.props;this.props.onOpenChanged(!n)}}renderClickableBehavior(t){const e=this.props,{children:n,disabled:s,error:o,id:a,isPlaceholder:c,light:d,open:u,testId:m}=e,b=K(e,wn),y=ft(t);return l.createElement(y,{disabled:s,onClick:this.handleClick},(I,S)=>{const i=On(d,c,o),{hovered:f,focused:g,pressed:x}=I,v=d?s||x?"currentColor":h.white:s?h.offBlack32:h.offBlack64,w=[Se.shared,i.default,s&&i.disabled,!s&&(x?i.active:(f||g)&&i.focus)];return l.createElement(_n,_({},b,{"aria-expanded":u?"true":"false","aria-haspopup":"listbox","data-test-id":m,disabled:s,id:a,style:w,type:"button"},S),l.createElement(U,{style:Se.text},n||" "),l.createElement(Q,{icon:Ge,color:v,size:"small",style:Se.caret,"aria-hidden":"true"}))})}render(){return l.createElement(pt.Consumer,null,t=>this.renderClickableBehavior(t))}}_e.defaultProps={disabled:!1,error:!1,light:!1,isPlaceholder:!1};const Se=T.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"space-between",color:h.offBlack,height:A,paddingLeft:p.medium_16,paddingRight:p.small_12,borderWidth:0,borderRadius:H.radius.medium_4,borderStyle:"solid",outline:"none",textDecoration:"none",boxSizing:"border-box",whiteSpace:"nowrap",touchAction:"manipulation"},text:{marginRight:p.xSmall_8,whiteSpace:"nowrap",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis"},caret:{minWidth:16}}),ie=p.medium_16-1,le=p.small_12-1,ae={},On=(r,t,e)=>{const n=`${r}-${t}-${e}`;if(ae[n])return ae[n];let s={};return r?s={default:{background:e?h.fadedRed8:"transparent",color:t?h.white50:h.white,borderColor:e?h.red:h.white50,borderWidth:H.width.hairline},focus:{borderColor:e?h.fadedRed8:h.white,borderWidth:p.xxxxSmall_2,paddingLeft:ie,paddingRight:le},active:{paddingLeft:ie,paddingRight:le,borderColor:e?h.red:h.fadedBlue,borderWidth:H.width.thin,color:t?de(h.white32,h.blue):h.fadedBlue,backgroundColor:e?h.fadedRed:h.activeBlue},disabled:{background:"transparent",borderColor:de(h.white32,h.blue),color:de(h.white32,h.blue),cursor:"auto"}}:s={default:{background:e?h.fadedRed8:h.white,borderColor:e?h.red:h.offBlack16,borderWidth:H.width.hairline,color:t?h.offBlack64:h.offBlack},focus:{borderColor:e?h.red:h.blue,borderWidth:H.width.thin,paddingLeft:ie,paddingRight:le},active:{background:e?h.fadedRed:h.fadedBlue,borderColor:e?h.red:h.activeBlue,borderWidth:H.width.thin,paddingLeft:ie,paddingRight:le},disabled:{background:h.offWhite,borderColor:h.offBlack16,color:h.offBlack64,cursor:"auto"}},ae[n]=T.StyleSheet.create(s),ae[n]},En=["children","disabled","error","id","light","opener","placeholder","selectedValue","testId","alignment","autoFocus","dropdownStyle","enableTypeAhead","isFilterable","labels","onChange","onToggle","opened","style","className","aria-invalid","aria-required"];class Qe extends l.Component{constructor(t){super(t),this.selectedIndex=void 0,this.handleOpenChanged=e=>{this.setState({open:e,searchText:""}),this.props.onToggle&&this.props.onToggle(e)},this.handleToggle=e=>{e!==this.props.selectedValue&&this.props.onChange(e),this.state.open&&this.state.openerElement&&this.state.openerElement.focus(),this.setState({open:!1}),this.props.onToggle&&this.props.onToggle(!1)},this.mapOptionItemsToDropdownItems=e=>{let n=0;return this.selectedIndex=0,e.map(s=>{const{selectedValue:o}=this.props,{disabled:a,value:c}=s.props,d=o===c;return d&&(this.selectedIndex=n),a||(n+=1),{component:s,focusable:!a,populatedProps:{onToggle:this.handleToggle,selected:d,variant:"check"}}})},this.handleSearchTextChanged=e=>{this.setState({searchText:e})},this.handleOpenerRef=e=>{const n=N.findDOMNode(e);this.setState({openerElement:n})},this.handleClick=e=>{this.handleOpenChanged(!this.state.open)},this.selectedIndex=0,this.state={open:!1,searchText:""}}static getDerivedStateFromProps(t,e){return{open:typeof t.opened=="boolean"?t.opened:e.open}}filterChildren(t){const{searchText:e}=this.state,n=e.toLowerCase();return t.filter(({props:s})=>!e||J(s).toLowerCase().indexOf(n)>-1)}getMenuItems(t){const{isFilterable:e}=this.props;return this.mapOptionItemsToDropdownItems(e?this.filterChildren(t):t)}renderOpener(t){const e=this.props,{children:n,disabled:s,error:o,id:a,light:c,opener:d,placeholder:u,selectedValue:m,testId:b}=e,y=K(e,En),S=l.Children.toArray(n).find(g=>g.props.value===m),i=S?J(S.props):u;return d?l.createElement(ce,{onClick:this.handleClick,disabled:t===0||s,ref:this.handleOpenerRef,text:i,opened:this.state.open},d):l.createElement(_e,_({},y,{disabled:t===0||s,id:a,error:o,isPlaceholder:!S,light:c,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:b}),i)}render(){const{alignment:t,autoFocus:e,children:n,className:s,dropdownStyle:o,enableTypeAhead:a,isFilterable:c,labels:d,light:u,style:m,"aria-invalid":b,"aria-required":y}=this.props,{searchText:I}=this.state,S=l.Children.toArray(n).filter(Boolean),i=this.getMenuItems(S),f=this.renderOpener(S.length);return l.createElement(we,{role:"listbox",selectionType:"single",alignment:t,autoFocus:e,enableTypeAhead:a,dropdownStyle:[c&&Ze,Xe,o],initialFocusedIndex:this.selectedIndex,items:i,light:u,onOpenChanged:this.handleOpenChanged,open:this.state.open,opener:f,openerElement:this.state.openerElement,style:m,className:s,isFilterable:c,onSearchTextChanged:c?this.handleSearchTextChanged:void 0,searchText:c?I:"",labels:d,"aria-invalid":b,"aria-required":y})}}Qe.defaultProps={alignment:"left",autoFocus:!0,disabled:!1,enableTypeAhead:!0,error:!1,light:!1,labels:{clearSearch:F.clearSearch,filter:F.filter,noResults:F.noResults,someResults:F.someSelected}};const Tn=["disabled","id","light","opener","testId","alignment","dropdownStyle","implicitAllEnabled","isFilterable","labels","onChange","onToggle","opened","selectedValues","shortcuts","style","className","aria-invalid","aria-required"];class et extends l.Component{constructor(t){super(t),this.labels=void 0,this.handleOpenChanged=e=>{this.setState({open:e,searchText:"",lastSelectedValues:this.props.selectedValues}),this.props.onToggle&&this.props.onToggle(e)},this.handleToggle=e=>{const{onChange:n,selectedValues:s}=this.props;if(s.includes(e)){const o=s.indexOf(e),a=[...s.slice(0,o),...s.slice(o+1)];n(a)}else n([...s,e])},this.handleSelectAll=()=>{const{children:e,onChange:n}=this.props,s=l.Children.toArray(e).filter(Boolean).map(o=>o.props.value);n(s)},this.handleSelectNone=()=>{const{onChange:e}=this.props;e([])},this.mapOptionItemToDropdownItem=e=>{const{selectedValues:n}=this.props,{disabled:s,value:o}=e.props;return{component:e,focusable:!s,populatedProps:{onToggle:this.handleToggle,selected:n.includes(o),variant:"checkbox"}}},this.handleOpenerRef=e=>{const n=N.findDOMNode(e);this.setState({openerElement:n})},this.handleSearchTextChanged=e=>{this.setState({searchText:e})},this.handleClick=e=>{this.handleOpenChanged(!this.state.open)},this.state={open:!1,searchText:"",lastSelectedValues:[],labels:_({},F,t.labels)},this.labels=_({},F,t.labels)}static getDerivedStateFromProps(t,e){return{open:typeof t.opened=="boolean"?t.opened:e.open}}componentDidUpdate(t){this.props.labels!==t.labels&&this.setState({labels:_({},this.state.labels,this.props.labels)})}getMenuText(t){const{implicitAllEnabled:e,selectedValues:n}=this.props,{noneSelected:s,someSelected:o,allSelected:a}=this.state.labels,c=e?a:s;switch(n.length){case 0:return c;case 1:const d=t.find(u=>u.props.value===n[0]);if(d){const u=J(d==null?void 0:d.props);return u||o(1)}return c;case t.length:return a;default:return o(n.length)}}getShortcuts(t){const{selectedValues:e,shortcuts:n}=this.props,{selectAllLabel:s,selectNoneLabel:o}=this.state.labels;if(n&&!this.state.searchText){const a=t===e.length,c={component:l.createElement(j,{disabled:a,label:s(t),indent:!0,onClick:this.handleSelectAll}),focusable:!a,populatedProps:{}},d=e.length===0,u={component:l.createElement(j,{disabled:d,label:o,indent:!0,onClick:this.handleSelectNone}),focusable:!d,populatedProps:{}},m={component:l.createElement(D,{key:"shortcuts-separator"}),focusable:!1,populatedProps:{}};return[c,u,m]}else return[]}getMenuItems(t){const{isFilterable:e}=this.props;if(!e)return t.map(this.mapOptionItemToDropdownItem);const{searchText:n,lastSelectedValues:s}=this.state,o=n.toLowerCase(),a=t.filter(({props:m})=>!n||J(m).toLowerCase().indexOf(o)>-1),c=[],d=[];for(const m of a)s.includes(m.props.value)?c.push(m):d.push(m);const u=c.map(this.mapOptionItemToDropdownItem);return c.length&&d.length&&u.push({component:l.createElement(D,{key:"selected-separator"}),focusable:!1,populatedProps:{}}),[...u,...d.map(this.mapOptionItemToDropdownItem)]}renderOpener(t){const e=this.props,{disabled:n,id:s,light:o,opener:a,testId:c}=e,d=K(e,Tn),{noneSelected:u}=this.state.labels,m=this.getMenuText(t),b=t.length;return a?l.createElement(ce,{onClick:this.handleClick,disabled:b===0||n,ref:this.handleOpenerRef,text:m,opened:this.state.open},a):l.createElement(_e,_({},d,{disabled:b===0||n,id:s,isPlaceholder:m===u,light:o,onOpenChanged:this.handleOpenChanged,open:this.state.open,ref:this.handleOpenerRef,testId:c}),m)}render(){const{alignment:t,light:e,style:n,className:s,dropdownStyle:o,children:a,isFilterable:c,"aria-invalid":d,"aria-required":u}=this.props,{open:m,searchText:b}=this.state,{clearSearch:y,filter:I,noResults:S,someSelected:i}=this.state.labels,f=l.Children.toArray(a).filter(Boolean),g=f.length,x=this.getMenuItems(f),v=this.renderOpener(f);return l.createElement(we,{role:"listbox",alignment:t,dropdownStyle:[c&&Ze,Xe,o],isFilterable:c,items:[...this.getShortcuts(g),...x],light:e,onOpenChanged:this.handleOpenChanged,open:m,opener:v,openerElement:this.state.openerElement,selectionType:"multi",style:n,className:s,onSearchTextChanged:c?this.handleSearchTextChanged:void 0,searchText:c?b:"",labels:{clearSearch:y,filter:I,noResults:S,someResults:i},"aria-invalid":d,"aria-required":u})}}et.defaultProps={alignment:"left",disabled:!1,error:!1,light:!1,shortcuts:!1,selectedValues:[]};const jn=r=>{const t=d=>{const{choices:u,onChange:m}=r;m(u.map(b=>d.includes(b.content)))},e=d=>d.map(({content:u})=>ne(B,{value:u,label:ne(Ct,{content:u,inline:!0})},u)),n=r.choices.filter(d=>d.checked).map(d=>d.content),{opener:s,onToggle:o,disabled:a}=r,c={style:{zIndex:"unset"},children:e(r.choices),opener:s,onToggle:o,disabled:a};return r.multipleSelect?ne(et,{...c,selectedValues:n,onChange:d=>t(d)}):ne(Qe,{...c,selectedValue:n[0],onChange:d=>t([d]),placeholder:r.choices[0].content})};try{answerchoices.displayName="answerchoices",answerchoices.__docgenInfo={description:"",displayName:"answerchoices",props:{choices:{defaultValue:null,description:"",name:"choices",required:!0,type:{name:"readonly AnswerType[]"}},multipleSelect:{defaultValue:null,description:"",name:"multipleSelect",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(selection: readonly boolean[]) => void"}},opener:{defaultValue:null,description:"",name:"opener",required:!0,type:{name:"((openerProps: OpenerProps) => ReactElement<any, string | JSXElementConstructor<any>>) | undefined"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"(opened: boolean) => unknown"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}}}catch{}export{jn as A,B as O,Qe as S,In as a,j as b};
