import{a as s,j as e,F as $}from"./jsx-runtime-FVsy8kgq.js";import{c as h}from"./article-renderer-4y7LcYNV.js";import{_ as r}from"./jquery-yG1GhClm.js";import{U as H}from"./util-YrNvlCNO.js";import"./phet-simulation-4u5-UljK.js";import"./version-akiLXZts.js";import{a as g,g as j}from"./dependencies-8XILypbq.js";import"./perseus-api-mOiZT07d.js";import"./multi-renderer-TkkEhTow.js";import"./hints-renderer-sA0Ao_qa.js";import"./renderer-hPmI_Chp.js";import"./base-radio-TdBv-OLd.js";import"./button-group-nsoLlHtM.js";import"./graph-myhk4Jua.js";import{K as p}from"./svg-image-RL9NlJEY.js";import"./hud-FI3E3dT_.js";import"./icon-YuYiVxsK.js";import"./index-K9BSJPWl.js";import"./inline-icon-tKY1iMkH.js";import"./math-input-b6JdL4xR.js";import"./multi-button-group-a0iIfrwx.js";import"./number-input-ZhezuDVT.js";import"./range-input-kzyKWO0E.js";import"./text-input-15gEhfDF.js";import"./text-list-editor-pe7AGDAl.js";import"./index-k-0mNqHS.js";import"./i18n-context-hxuRe8oU.js";import"./index-IIMKO4_x.js";import{E as f}from"./editor-jsonify-3Apqlb5v.js";import{r as d}from"./index-TT1qJ6UJ.js";import{G as Q}from"./graph-settings-7SzGuUVp.js";import{c}from"./components-h6HHhmoA.js";import{b as Z,d as ee,e as ne,f as te,c as ae}from"./icon-paths-AuJwhOz7.js";import"./prop-types-3bOVFRDQ.js";import{c as se}from"./key-translator-IA-2V2LV.js";import"./mobile-keypad-hKjeQGNp.js";import{u as re}from"./button-assets-txIojR3b.js";import{V as ie}from"./index-6h5t6F0w.js";import{c as K}from"./index-deFLJwr4.js";import{l as le}from"./index-awljIyHI.js";const{InlineIcon:b}=c,D=class D extends d.Component{constructor(n){super(n),this.toggle=t=>{t.preventDefault(),this.setState({show:!this.state.show})},this.state={show:n.initiallyVisible}}render(){return s("div",{className:"perseus-interaction-element",children:[s("a",{href:"#",className:"perseus-interaction-element-title "+(this.state.show?"open":"closed"),onClick:this.toggle,children:[this.state.show?e(b,{...Z}):e(b,{...ee}),this.props.title]}),s("div",{className:"perseus-interaction-element-content "+(this.state.show?"enter":"leave"),children:[this.props.children,(this.props.onUp!=null||this.props.onDown!=null||this.props.onDelete!=null)&&s("div",{className:"edit-controls",children:[this.props.onUp!=null&&e("button",{onClick:this.props.onUp,children:e(b,{...ne})}),this.props.onDown!=null&&e("button",{onClick:this.props.onDown,children:e(b,{...te})}),this.props.onDelete!=null&&e("button",{onClick:this.props.onDelete,children:e(b,{...ae})})]})]})]})}};D.defaultProps={initiallyVisible:!1,title:"More"};let u=D;u.__docgenInfo={description:"",methods:[{name:"toggle",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent",alias:"React.SyntheticEvent"}}],returns:null}],displayName:"ElementContainer",props:{children:{required:!0,tsType:{name:"union",raw:"React.ReactElement<any> | ReadonlyArray<React.ReactElement<any>>",elements:[{name:"ReactReactElement",raw:"React.ReactElement<any>",elements:[{name:"any"}]},{name:"ReadonlyArray",elements:[{name:"ReactReactElement",raw:"React.ReactElement<any>",elements:[{name:"any"}]}],raw:"ReadonlyArray<React.ReactElement<any>>"}]},description:""},initiallyVisible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | null | undefined",signature:{arguments:[],return:{name:"union",raw:"void | null | undefined",elements:[{name:"void"},{name:"null"},{name:"undefined"}]}}},description:""},onDown:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | null | undefined",signature:{arguments:[],return:{name:"union",raw:"void | null | undefined",elements:[{name:"void"},{name:"null"},{name:"undefined"}]}}},description:""},onUp:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | null | undefined",signature:{arguments:[],return:{name:"union",raw:"void | null | undefined",elements:[{name:"void"},{name:"null"},{name:"undefined"}]}}},description:""},title:{required:!1,tsType:{name:"union",raw:"string | React.ReactElement<any>",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement<any>",elements:[{name:"any"}]}]},description:"",defaultValue:{value:'"More"',computed:!1}}}};const{ButtonGroup:oe}=c,pe=[p.BLACK,p.BLUE,p.GREEN,p.PINK,p.PURPLE,p.RED,p.GRAY],de=[p.LIGHT_BLUE,p.LIGHT_ORANGE,p.LIGHT_PINK,p.LIGHT_GREEN,p.LIGHT_PURPLE,p.LIGHT_RED,"#fff"],X=class X extends d.Component{render(){const n=this.props.lightColors?de:pe;return e(oe,{value:this.props.value,allowEmpty:!1,buttons:r.map(n,t=>({value:t,content:s("span",{children:[e("span",{className:"colorpicker-circle",style:{background:t}})," "]})})),onChange:this.props.onChange})}};X.defaultProps={value:p.BLACK,lightColors:!1};let m=X;m.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{lightColors:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"KhanColors.BLACK",computed:!0}}}};const{ButtonGroup:ue}=c,M=class M extends d.Component{render(){return e(ue,{value:this.props.value,allowEmpty:!1,buttons:[{value:"",content:e("span",{children:"—"})},{value:"-",content:e("span",{children:"–––"})},{value:"- ",content:e("span",{children:"–  –"})},{value:".",content:e("span",{children:"····"})},{value:". ",content:e("span",{children:"· · ·"})}],onChange:this.props.onChange})}};M.defaultProps={value:""};let y=M;y.__docgenInfo={description:"",methods:[],displayName:"DashPicker",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};function i(W){const n=d.useRef(null),t=d.useRef(),{locale:a,strings:o}=re();return d.useEffect(()=>{n.current&&!t.current&&(t.current=se(n.current,a,o,l=>({...l,handlers:{edit:v=>{let _=v.latex();_=_.replace(/<>/g,"\\ne"),W.value!==_&&W.onChange(_)},upOutOf:v=>{v.typedText("^")}}})))}),e(ie,{style:ce.outerWrapper,children:e("span",{ref:n,className:"perseus-math-input mq-editable-field mq-math-mode"})})}const ce=le.StyleSheet.create({outerWrapper:{display:"inline-block",borderStyle:"solid",borderWidth:1,borderColor:K.offBlack50,borderRadius:3,background:K.white}});i.__docgenInfo={description:`A simple Mathquill MathField input for the InteractionEditor.
Unlike our other uses of Mathquill, we're not using a keypad here;
it's just the input itself for use writing TeX.`,methods:[],displayName:"MathquillInput",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};const{NumberInput:he}=c,{getDependencies:me}=g,L=class L extends d.Component{constructor(){super(...arguments),this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}render(){const{TeX:n}=me();return s("div",{className:"graph-settings",children:[s("div",{className:"perseus-widget-row",children:[e(n,{children:this.props.funcName+"(x)="})," ",e(i,{value:this.props.value,onChange:this.change("value")})]}),s("div",{className:"perseus-widget-row",children:["Range: ",e(n,{children:"\\Large("}),e(i,{value:this.props.rangeMin,onChange:this.change("rangeMin")}),e(n,{children:","})," ",e(i,{value:this.props.rangeMax,onChange:this.change("rangeMax")}),e(n,{children:"\\Large)"})]}),e("div",{className:"perseus-widget-row",children:e(m,{value:this.props.color,onChange:this.change("color")})}),e("div",{className:"perseus-widget-row",children:e(y,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")})}),e("div",{className:"perseus-widget-row",children:s("div",{className:"perseus-widget-left-col",children:["Width:"," ",e(he,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")})]})})]})}};L.defaultProps={value:"x",rangeMin:"-10",rangeMax:"10",color:p.BLUE,strokeDasharray:"",strokeWidth:2};let w=L;w.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FunctionEditor",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"x"',computed:!1}},rangeMin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-10"',computed:!1}},rangeMax:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"10"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"KhanColors.BLUE",computed:!0}},strokeDasharray:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}}}};const{TextInput:ge}=c,{getDependencies:fe}=g,Y=class Y extends d.Component{constructor(){super(...arguments),this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}render(){const{TeX:n}=fe();return s("div",{className:"graph-settings",children:[e("div",{className:"perseus-widget-row",children:e(ge,{value:this.props.label,onChange:this.change("label"),style:{width:"100%"}})}),s("div",{className:"perseus-widget-row",children:["Location: ",e(n,{children:"\\Large("}),e(i,{value:this.props.coordX,onChange:this.change("coordX")}),e(n,{children:","})," ",e(i,{value:this.props.coordY,onChange:this.change("coordY")}),e(n,{children:"\\Large)"})]}),e("div",{className:"perseus-widget-row",children:e(m,{value:this.props.color,onChange:this.change("color")})})]})}};Y.defaultProps={coordX:"0",coordY:"0",color:p.BLACK,label:"\\phi"};let N=Y;N.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LabelEditor",props:{color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"KhanColors.BLACK",computed:!0}},coordX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},coordY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},label:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"\\\\phi"',computed:!1}}}};const{ButtonGroup:ye}=c,I=class I extends d.Component{render(){return e(ye,{value:this.props.value,allowEmpty:!1,buttons:[{value:"",content:e("span",{children:"—"})},{value:"->",content:e("span",{children:"→"})}],onChange:this.props.onChange})}};I.defaultProps={value:""};let S=I;S.__docgenInfo={description:"",methods:[],displayName:"ArrowPicker",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};const{NumberInput:ve}=c,{getDependencies:be}=g,U=class U extends d.Component{constructor(){super(...arguments),this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}render(){const{TeX:n}=be();return s("div",{className:"graph-settings",children:[s("div",{className:"perseus-widget-row",children:["Start: ",e(n,{children:"\\Large("}),e(i,{value:this.props.startX,onChange:this.change("startX")}),e(n,{children:","})," ",e(i,{value:this.props.startY,onChange:this.change("startY")}),e(n,{children:"\\Large)"})]}),s("div",{className:"perseus-widget-row",children:["End: ",e(n,{children:"\\Large("}),e(i,{value:this.props.endX,onChange:this.change("endX")}),e(n,{children:","})," ",e(i,{value:this.props.endY,onChange:this.change("endY")}),e(n,{children:"\\Large)"})]}),e("div",{className:"perseus-widget-row",children:e(m,{value:this.props.color,onChange:this.change("color")})}),s("div",{className:"perseus-widget-row",children:[e(y,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")}),"   ",e(S,{value:this.props.arrows,onChange:this.change("arrows")})]}),e("div",{className:"perseus-widget-row",children:s("div",{className:"perseus-widget-left-col",children:["Width:"," ",e(ve,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")})]})})]})}};U.defaultProps={startX:"-5",startY:"5",endX:"5",endY:"5",color:p.BLACK,strokeDasharray:"",arrows:"",strokeWidth:2};let C=U;C.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LineEditor",props:{startX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-5"',computed:!1}},startY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},endX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},endY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"KhanColors.BLACK",computed:!0}},strokeDasharray:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},arrows:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}}}};const{ButtonGroup:we,NumberInput:Ne}=c,P=class P extends d.Component{constructor(){super(...arguments),this.change=n=>h.call(this,n)}render(){const{TeX:n}=j();return s("div",{children:[s("div",{className:"perseus-widget-row",children:["Constraint:"," ",e(we,{value:this.props.constraint,allowEmpty:!1,buttons:[{value:"none",content:"None"},{value:"snap",content:"Snap"},{value:"x",content:"x="},{value:"y",content:"y="}],onChange:this.change("constraint")})]}),this.props.constraint==="snap"&&s("div",{className:"perseus-widget-row",children:["Snap:"," ",e(Ne,{value:this.props.snap,placeholder:0,onChange:this.change("snap")})]}),this.props.constraint==="x"&&e("div",{className:"graph-settings",children:s("div",{className:"perseus-widget-row",children:[e(n,{children:"x="})," ",e(i,{value:this.props.constraintFn,onChange:this.change("constraintFn")})]})}),this.props.constraint==="y"&&e("div",{className:"graph-settings",children:s("div",{className:"perseus-widget-row",children:[e(n,{children:"y="})," ",e(i,{value:this.props.constraintFn,onChange:this.change("constraintFn")})]})}),"Ensure these are set so nothing can be dragged off the canvas:",e("div",{className:"perseus-widget-row",children:s("div",{className:"perseus-widget-row",children:[e(n,{children:"x \\in \\Large["})," ",e(i,{value:this.props.constraintXMin,onChange:this.change("constraintXMin")}),e(n,{children:", "})," ",e(i,{value:this.props.constraintXMax,onChange:this.change("constraintXMax")})," ",e(n,{children:"\\Large]"})]})}),e("div",{className:"perseus-widget-row",children:s("div",{className:"perseus-widget-row",children:[e(n,{children:"y \\in \\Large["})," ",e(i,{value:this.props.constraintYMin,onChange:this.change("constraintYMin")}),e(n,{children:", "})," ",e(i,{value:this.props.constraintYMax,onChange:this.change("constraintYMax")})," ",e(n,{children:"\\Large]"})]})})]})}};P.defaultProps={constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"};let k=P;k.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"propName",optional:!1,type:{name:"string"}}],returns:{type:{name:"unknown"}}}],displayName:"ConstraintEditor",props:{constraint:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"none"',computed:!1}},constraintFn:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},constraintXMax:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"10"',computed:!1}},constraintXMin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-10"',computed:!1}},constraintYMax:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"10"',computed:!1}},constraintYMin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-10"',computed:!1}},snap:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};const{NumberInput:J}=c,{getDependencies:Ce}=g,z=class z extends d.Component{constructor(){super(...arguments),this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}render(){const{TeX:n}=Ce();return s("div",{className:"graph-settings",children:["Initial position:",s("div",{className:"perseus-widget-row",children:["Start: ",e(n,{children:"\\Large("}),e(i,{value:this.props.startX,onChange:this.change("startX")}),e(n,{children:","})," ",e(i,{value:this.props.startY,onChange:this.change("startY")}),e(n,{children:"\\Large)"})]}),s("div",{className:"perseus-widget-row",children:["End: ",e(n,{children:"\\Large("}),e(i,{value:this.props.endX,onChange:this.change("endX")}),e(n,{children:","})," ",e(i,{value:this.props.endY,onChange:this.change("endY")}),e(n,{children:"\\Large)"})]}),s("div",{className:"perseus-widget-row",children:["Start updates ",e(n,{children:"(x_n, y_n)"})," for ",e(n,{children:"n ="}),e(J,{value:this.props.startSubscript,placeholder:0,onChange:this.change("startSubscript")})]}),s("div",{className:"perseus-widget-row",children:["End updates ",e(n,{children:"(x_m, y_m)"})," for ",e(n,{children:"m ="}),e(J,{value:this.props.endSubscript,placeholder:0,onChange:this.change("endSubscript")})]}),e("div",{className:"perseus-widget-row",children:"All constraints are applied to the start point."}),e(k,{...this.props})]})}};z.defaultProps={startX:"-5",startY:"5",endX:"5",endY:"5",constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"};let R=z;R.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MovableLineEditor",props:{startX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-5"',computed:!1}},startY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},endX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},endY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},constraint:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"none"',computed:!1}},snap:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}},constraintFn:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},startSubscript:{required:!0,tsType:{name:"number"},description:""},endSubscript:{required:!0,tsType:{name:"number"},description:""},constraintXMin:{defaultValue:{value:'"-10"',computed:!1},required:!1},constraintXMax:{defaultValue:{value:'"10"',computed:!1},required:!1},constraintYMin:{defaultValue:{value:'"-10"',computed:!1},required:!1},constraintYMax:{defaultValue:{value:'"10"',computed:!1},required:!1}}};const{NumberInput:ke}=c,{getDependencies:Re}=g,G=class G extends d.Component{constructor(){super(...arguments),this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}render(){const{TeX:n}=Re();return s("div",{className:"graph-settings",children:[s("div",{className:"perseus-widget-row",children:["Start: ",e(n,{children:"\\Large("}),e(i,{value:this.props.startX,onChange:this.change("startX")}),e(n,{children:","})," ",e(i,{value:this.props.startY,onChange:this.change("startY")}),e(n,{children:"\\Large)"})]}),s("div",{className:"perseus-widget-row",children:["Update ",e(n,{children:"(x_n, y_n)"})," for ",e(n,{children:"n ="})," ",e(ke,{value:this.props.varSubscript,placeholder:0,onChange:this.change("varSubscript")})]}),e(k,{...this.props})]})}};G.defaultProps={startX:"0",startY:"0",constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"};let q=G;q.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MovablePointEditor",props:{startX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},startY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},constraint:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"none"',computed:!1}},snap:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}},constraintFn:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},varSubscript:{required:!0,tsType:{name:"number"},description:""},constraintXMin:{defaultValue:{value:'"-10"',computed:!1},required:!1},constraintXMax:{defaultValue:{value:'"10"',computed:!1},required:!1},constraintYMin:{defaultValue:{value:'"-10"',computed:!1},required:!1},constraintYMax:{defaultValue:{value:'"10"',computed:!1},required:!1}}};const{NumberInput:qe}=c,{getDependencies:xe}=g,B=class B extends d.Component{constructor(){super(...arguments),this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}render(){const{TeX:n}=xe();return s("div",{className:"graph-settings",children:[s("div",{className:"perseus-widget-row",children:[e(n,{children:"X(t) ="})," ",e(i,{value:this.props.x,onChange:this.change("x")})]}),s("div",{className:"perseus-widget-row",children:[e(n,{children:"Y(t) ="})," ",e(i,{value:this.props.y,onChange:this.change("y")})]}),s("div",{className:"perseus-widget-row",children:["Range: ",e(n,{children:"\\Large("}),e(i,{value:this.props.rangeMin,onChange:this.change("rangeMin")}),e(n,{children:","})," ",e(i,{value:this.props.rangeMax,onChange:this.change("rangeMax")}),e(n,{children:"\\Large)"})]}),e("div",{className:"perseus-widget-row",children:e(m,{value:this.props.color,onChange:this.change("color")})}),e("div",{className:"perseus-widget-row",children:e(y,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")})}),e("div",{className:"perseus-widget-row",children:s("div",{className:"perseus-widget-left-col",children:["Width:"," ",e(qe,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")})]})})]})}};B.defaultProps={x:"cos(t)",y:"sin(t)",rangeMin:"0",rangeMax:"2\\pi",color:p.BLUE,strokeDasharray:"",strokeWidth:2};let x=B;x.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ParametricEditor",props:{x:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"cos(t)"',computed:!1}},y:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"sin(t)"',computed:!1}},rangeMin:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},rangeMax:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"2\\\\pi"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"KhanColors.BLUE",computed:!0}},strokeDasharray:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},strokeWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}}}};const{getDependencies:Te}=g,F=class F extends d.Component{constructor(){super(...arguments),this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}render(){const{TeX:n}=Te();return s("div",{className:"graph-settings",children:[s("div",{className:"perseus-widget-row",children:["Coordinate: ",e(n,{children:"\\Large("}),e(i,{value:this.props.coordX,onChange:this.change("coordX")}),e(n,{children:","})," ",e(i,{value:this.props.coordY,onChange:this.change("coordY")}),e(n,{children:"\\Large)"})]}),e("div",{className:"perseus-widget-row",children:e(m,{value:this.props.color,onChange:this.change("color")})})]})}};F.defaultProps={coordX:"0",coordY:"0",color:p.BLACK};let T=F;T.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PointEditor",props:{coordX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},coordY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"KhanColors.BLACK",computed:!0}}}};const{getDependencies:Ae}=g,O=class O extends d.Component{constructor(){super(...arguments),this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}render(){const{TeX:n}=Ae();return s("div",{className:"graph-settings",children:[s("div",{className:"perseus-widget-row",children:["Bottom left: ",e(n,{children:"\\Large("}),e(i,{value:this.props.coordX,onChange:this.change("coordX")}),e(n,{children:","})," ",e(i,{value:this.props.coordY,onChange:this.change("coordY")}),e(n,{children:"\\Large)"})]}),s("div",{className:"perseus-widget-row",children:["Width:"," ",e(i,{value:this.props.width,onChange:this.change("width")})]}),s("div",{className:"perseus-widget-row",children:["Height:"," ",e(i,{value:this.props.height,onChange:this.change("height")})]}),e("div",{className:"perseus-widget-row",children:e(m,{value:this.props.color,lightColors:!0,onChange:this.change("color")})}),e("div",{className:"perseus-widget-row",children:"You want a border? Sorry, draw your own."})]})}};O.defaultProps={coordX:"-5",coordY:"5",width:"2",height:"3",color:p.LIGHT_BLUE};let A=O;A.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RectangleEditor",props:{color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"KhanColors.LIGHT_BLUE",computed:!0}},coordX:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"-5"',computed:!1}},coordY:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"5"',computed:!1}},height:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"3"',computed:!1}},width:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"2"',computed:!1}}}};const{getDependencies:_e}=g,{unescapeMathMode:Se}=H,Ve={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},E=class E extends d.Component{constructor(){super(...arguments),this.state={usedVarSubscripts:this._getAllVarSubscripts(this.props.elements),usedFunctionNames:this._getAllFunctionNames(this.props.elements)},this._updateGraphProps=n=>{this.change({graph:r.extend(r.omit(n,"step"),{tickStep:n.step})})},this._addNewElement=n=>{const t=n.target.value;if(t==="")return;n.target.value="";const a={type:t,key:t+"-"+(Math.random()*16777215<<0).toString(16),options:t==="point"?r.clone(T.defaultProps):t==="line"?r.clone(C.defaultProps):t==="movable-point"?r.clone(q.defaultProps):t==="movable-line"?r.clone(R.defaultProps):t==="function"?r.clone(w.defaultProps):t==="parametric"?r.clone(x.defaultProps):t==="label"?r.clone(N.defaultProps):t==="rectangle"?r.clone(A.defaultProps):{}};let o;if(t==="movable-point")o=r.max([r.max(this.state.usedVarSubscripts),-1])+1,a.options.varSubscript=o;else if(t==="movable-line")o=r.max([r.max(this.state.usedVarSubscripts),-1])+1,a.options.startSubscript=o,a.options.endSubscript=o+1;else if(t==="function"){const l=String.fromCharCode(r.max([r.max(r.map(this.state.usedFunctionNames,function(v){return v.charCodeAt(0)})),101])+1);a.options.funcName=l}this.change({elements:this.props.elements.concat(a)})},this._deleteElement=n=>{const t=this.props.elements[n];this.change({elements:r.without(this.props.elements,t)})},this._moveElementUp=n=>{const t=this.props.elements[n],a=r.without(this.props.elements,t);a.splice(n-1,0,t),this.change({elements:a})},this._moveElementDown=n=>{const t=this.props.elements[n],a=r.without(this.props.elements,t);a.splice(n+1,0,t),this.change({elements:a})},this.change=(...n)=>h.apply(this,n),this.serialize=()=>f.serialize.call(this)}UNSAFE_componentWillReceiveProps(n){this.setState({usedVarSubscripts:this._getAllVarSubscripts(n.elements),usedFunctionNames:this._getAllFunctionNames(n.elements)})}_getAllVarSubscripts(n){return r.map(r.where(n,{type:"movable-point"}),t=>t.options.varSubscript).concat(r.map(r.where(n,{type:"movable-line"}),t=>t.options.startSubscript)).concat(r.map(r.where(n,{type:"movable-line"}),t=>t.options.endSubscript))}_getAllFunctionNames(n){return r.map(r.where(n,{type:"function"}),t=>t.options.funcName)}render(){const{TeX:n}=_e();return s("div",{className:"perseus-widget-interaction-editor",children:[s(u,{title:"Grid settings",children:[e(Q,{editableSettings:["canvas","graph"],box:this.props.graph.box,labels:this.props.graph.labels,range:this.props.graph.range,step:this.props.graph.tickStep,gridStep:this.props.graph.gridStep,markings:this.props.graph.markings,onChange:this._updateGraphProps}),e($,{children:this.props.graph.valid!==!0&&e("div",{children:this.props.graph.valid})})]}),r.map(this.props.elements,function(t,a){if(t.type==="movable-point")return e(u,{title:s("span",{children:["Movable point"," ",e(n,{children:"(x_{"+t.options.varSubscript+"}, y_{"+t.options.varSubscript+"})"})]}),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement.bind(this,a),children:e(q,{...t.options,onChange:o=>{const l=JSON.parse(JSON.stringify(this.props.elements));r.extend(l[a].options,o),this.change({elements:l})}})},t.key);if(t.type==="movable-line")return e(u,{title:s("span",{children:["Movable line"," ",e(n,{children:"(x_{"+t.options.startSubscript+"}, y_{"+t.options.startSubscript+"})"})," ","to"," ",e(n,{children:"(x_{"+t.options.endSubscript+"}, y_{"+t.options.endSubscript+"})"})]}),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement.bind(this,a),children:e(R,{...t.options,onChange:o=>{const l=JSON.parse(JSON.stringify(this.props.elements));r.extend(l[a].options,o),this.change({elements:l})}})},t.key);if(t.type==="point")return e(u,{title:s("span",{children:["Point"," ",e(n,{children:"("+t.options.coordX+", "+t.options.coordY+")"})]}),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement.bind(this,a),children:e(T,{...t.options,onChange:o=>{const l=JSON.parse(JSON.stringify(this.props.elements));r.extend(l[a].options,o),this.change({elements:l})}})},t.key);if(t.type==="line")return e(u,{title:s("span",{children:["Line"," ",e(n,{children:"("+t.options.startX+", "+t.options.startY+")"})," ","to"," ",e(n,{children:"("+t.options.endX+", "+t.options.endY+")"})]}),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement.bind(this,a),children:e(C,{...t.options,onChange:o=>{const l=JSON.parse(JSON.stringify(this.props.elements));r.extend(l[a].options,o),this.change({elements:l})}})},t.key);if(t.type==="function")return e(u,{title:s("span",{children:["Function"," ",e(n,{children:t.options.funcName+"(x) = "+t.options.value})]}),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement,children:e(w,{...t.options,onChange:o=>{const l=JSON.parse(JSON.stringify(this.props.elements));r.extend(l[a].options,o),this.change({elements:l})}})},t.key);if(t.type==="parametric")return e(u,{title:e("span",{children:"Parametric"}),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement,children:e(x,{...t.options,onChange:o=>{const l=JSON.parse(JSON.stringify(this.props.elements));r.extend(l[a].options,o),this.change({elements:l})}})},t.key);if(t.type==="label")return e(u,{title:s("span",{children:["Label"," ",e(n,{children:Se(t.options.label)})," "]}),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement,children:e(N,{...t.options,onChange:o=>{const l=JSON.parse(JSON.stringify(this.props.elements));r.extend(l[a].options,o),this.change({elements:l})}})},t.key);if(t.type==="rectangle")return e(u,{title:s("span",{children:["Rectangle"," ",e(n,{children:"("+t.options.coordX+", "+t.options.coordY+")"})," — ",e(n,{children:t.options.width+" \\times "+t.options.height})]}),onUp:a===0?null:this._moveElementUp.bind(this,a),onDown:a===this.props.elements.length-1?null:this._moveElementDown.bind(this,a),onDelete:this._deleteElement,children:e(A,{...t.options,onChange:o=>{const l=JSON.parse(JSON.stringify(this.props.elements));r.extend(l[a].options,o),this.change({elements:l})}})},t.key)},this),e("div",{className:"perseus-widget-interaction-editor-select-element",children:s("select",{onChange:this._addNewElement,children:[s("option",{value:"",children:["Add an element","…"]}),e("option",{disabled:!0,children:"--"}),e("option",{value:"point",children:"Point"}),e("option",{value:"line",children:"Line segment"}),e("option",{value:"function",children:"Function plot"}),e("option",{value:"parametric",children:"Parametric plot"}),e("option",{value:"label",children:"Label"}),e("option",{value:"rectangle",children:"Rectangle"}),e("option",{value:"movable-point",children:"★ Movable point"}),e("option",{value:"movable-line",children:"★ Movable line segment"})]})})]})}};E.widgetName="interaction",E.defaultProps=Ve;let V=E;V.__docgenInfo={description:"",methods:[{name:"_getAllVarSubscripts",docblock:null,modifiers:[],params:[{name:"elements",optional:!1,type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>",alias:"ReadonlyArray"}}],returns:{type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>"}}},{name:"_getAllFunctionNames",docblock:null,modifiers:[],params:[{name:"elements",optional:!1,type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>",alias:"ReadonlyArray"}}],returns:{type:{name:"ReadonlyArray",elements:[{name:"string"}],raw:"ReadonlyArray<string>"}}},{name:"_updateGraphProps",docblock:null,modifiers:[],params:[{name:"newProps",optional:!1,type:null}],returns:null},{name:"_addNewElement",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"_deleteElement",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"_moveElementUp",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"_moveElementDown",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InteractionEditor",props:{elements:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>"},description:"",defaultValue:{value:"[]",computed:!1}},graph:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    box: ReadonlyArray<number>;
    labels: ReadonlyArray<string>;
    range: ReadonlyArray<ReadonlyArray<number>>;
    tickStep: ReadonlyArray<number>;
    gridStep: ReadonlyArray<number>;
    markings: string;
    valid?: boolean;
}`,signature:{properties:[{key:"box",value:{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>",required:!0}},{key:"labels",value:{name:"ReadonlyArray",elements:[{name:"string"}],raw:"ReadonlyArray<string>",required:!0}},{key:"range",value:{name:"ReadonlyArray",elements:[{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>"}],raw:"ReadonlyArray<ReadonlyArray<number>>",required:!0}},{key:"tickStep",value:{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>",required:!0}},{key:"gridStep",value:{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>",required:!0}},{key:"markings",value:{name:"string",required:!0}},{key:"valid",value:{name:"boolean",required:!1}}]}},description:"",defaultValue:{value:`{
    box: [400, 400],
    labels: ["x", "y"],
    range: [
        [-10, 10],
        [-10, 10],
    ],
    tickStep: [1, 1],
    gridStep: [1, 1],
    markings: "graph",
}`,computed:!1}}}};V.__docgenInfo={description:"",methods:[{name:"_getAllVarSubscripts",docblock:null,modifiers:[],params:[{name:"elements",optional:!1,type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>",alias:"ReadonlyArray"}}],returns:{type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>"}}},{name:"_getAllFunctionNames",docblock:null,modifiers:[],params:[{name:"elements",optional:!1,type:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>",alias:"ReadonlyArray"}}],returns:{type:{name:"ReadonlyArray",elements:[{name:"string"}],raw:"ReadonlyArray<string>"}}},{name:"_updateGraphProps",docblock:null,modifiers:[],params:[{name:"newProps",optional:!1,type:null}],returns:null},{name:"_addNewElement",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"_deleteElement",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"_moveElementUp",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"_moveElementDown",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InteractionEditor",props:{elements:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"any"}],raw:"ReadonlyArray<any>"},description:"",defaultValue:{value:"[]",computed:!1}},graph:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    box: ReadonlyArray<number>;
    labels: ReadonlyArray<string>;
    range: ReadonlyArray<ReadonlyArray<number>>;
    tickStep: ReadonlyArray<number>;
    gridStep: ReadonlyArray<number>;
    markings: string;
    valid?: boolean;
}`,signature:{properties:[{key:"box",value:{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>",required:!0}},{key:"labels",value:{name:"ReadonlyArray",elements:[{name:"string"}],raw:"ReadonlyArray<string>",required:!0}},{key:"range",value:{name:"ReadonlyArray",elements:[{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>"}],raw:"ReadonlyArray<ReadonlyArray<number>>",required:!0}},{key:"tickStep",value:{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>",required:!0}},{key:"gridStep",value:{name:"ReadonlyArray",elements:[{name:"number"}],raw:"ReadonlyArray<number>",required:!0}},{key:"markings",value:{name:"string",required:!0}},{key:"valid",value:{name:"boolean",required:!1}}]}},description:"",defaultValue:{value:`{
    box: [400, 400],
    labels: ["x", "y"],
    range: [
        [-10, 10],
        [-10, 10],
    ],
    tickStep: [1, 1],
    gridStep: [1, 1],
    markings: "graph",
}`,computed:!1}}}};export{V as I};
