import{a as h,j as e,F as T}from"./jsx-runtime-FVsy8kgq.js";import"./util-XR-uqOh-.js";import{e as O}from"./svg-image-h96M64n1.js";import{B as N}from"./choice-XJA1Q6b6.js";import{V as m}from"./index-6h5t6F0w.js";import{S as f}from"./index-qUyqkRvh.js";import{s,c as b}from"./index-deFLJwr4.js";import{L as w,a as $}from"./index-h_CiYGGb.js";import{L as U,p as W}from"./locked-figure-aria-xjlm-osP.js";import{l as G}from"./index-awljIyHI.js";import{v as d}from"./index-xs9l8-Af.js";import{P as v,C as F,L as H,a as J}from"./locked-label-settings-3c3yU9f0.js";import{C as K}from"./color-select-Z0WPv9vg.js";import{L as Q}from"./line-swatch-5s7E8OGY.js";import{g as X,j as Y,a as Z}from"./util-86BkeTb1.js";const ee="The vector cannot have length 0.",_=u=>{var C,k;const{flags:c,points:x,color:g,labels:n,ariaLabel:A,onChangeProps:p,onMove:V,onRemove:q}=u,[i,l]=x,M=`Vector (${i[0]}, ${i[1]}), (${l[0]}, ${l[1]})`,y=O(i,l);async function R(){let r=`Vector${await Y(n)} from (${i[0]}, ${i[1]}) to (${l[0]}, ${l[1]})`;const t=Z(g);return r+=t,r}function S(o,r){if(typeof o<"u"){const t=[...x];t[r]=[...o];const L=d.midpoint(i,l),I=d.midpoint(t[0],t[1]),D=d.sub(I,L),E=n==null?void 0:n.map(P=>({...P,coord:d.add(P.coord,D)}));p({points:t,labels:E})}}function z(o){const r={color:o};r.labels=n==null?void 0:n.map(t=>({...t,color:o})),p(r)}function B(o,r){if(!n)return;const t=[...n];t[r]={...n[r],...o},p({labels:t})}function j(o){if(!n)return;const r=n.filter((t,L)=>L!==o);p({labels:r})}return h(v,{expanded:u.expanded,onToggle:u.onToggle,header:h(m,{style:a.row,children:[e(w,{children:M}),e(f,{size:s.xSmall_8}),e(Q,{color:g,lineStyle:"solid"})]}),children:[e(m,{style:[a.row,a.spaceUnder],children:e(K,{selectedValue:g,onChange:z})}),y&&e($,{style:a.errorText,children:ee}),e(v,{expanded:!0,containerStyle:a.container,panelStyle:a.accordionPanel,header:e(m,{style:a.row,children:e(w,{children:`Tail (${i[0]}, ${i[1]})`})}),children:e(F,{coord:i,error:y,onChange:o=>{S(o,0)}})}),e(v,{expanded:!0,containerStyle:a.container,panelStyle:a.accordionPanel,header:e(m,{style:a.row,children:e(w,{children:`Tip (${l[0]}, ${l[1]})`})}),children:e(F,{coord:l,error:y,onChange:o=>{S(o,1)}})}),((C=c==null?void 0:c.mafs)==null?void 0:C["locked-figures-aria"])&&h(T,{children:[e(f,{size:s.small_12}),e(m,{style:a.horizontalRule}),e(U,{ariaLabel:A,getPrepopulatedAriaLabel:R,onChangeProps:o=>{p(o)}})]}),((k=c==null?void 0:c.mafs)==null?void 0:k["locked-vector-labels"])&&h(T,{children:[e(f,{size:s.xxxSmall_4}),e(m,{style:a.horizontalRule}),e(f,{size:s.small_12}),e($,{children:"Visible labels"}),n==null?void 0:n.map((o,r)=>e(H,{...o,expanded:!0,onChangeProps:t=>{B(t,r)},onRemove:()=>{j(r)},containerStyle:a.labelContainer})),e(N,{kind:"tertiary",startIcon:W,onClick:()=>{const o=[0,-1],r=d.add(d.scale(o,(n==null?void 0:n.length)??0),d.midpoint(i,l)),t={...X("label"),coord:r,color:g};p({labels:[...n??[],t]})},style:a.addButton,children:"Add visible label"})]}),e(J,{figureType:u.type,onMove:V,onRemove:q})]})},a=G.StyleSheet.create({accordionPanel:{paddingBottom:s.medium_16},container:{marginTop:s.xSmall_8,marginBottom:0,marginLeft:-s.xxxSmall_4,marginRight:-s.xxxSmall_4,backgroundColor:b.white},errorText:{color:b.red,marginTop:s.xSmall_8},row:{flexDirection:"row",alignItems:"center"},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:b.offBlack16},labelContainer:{backgroundColor:b.white}}),fe=_;_.__docgenInfo={description:"",methods:[],displayName:"LockedVectorSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFigure>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedFigure"}],raw:"Partial<LockedFigure>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{fe as L};
