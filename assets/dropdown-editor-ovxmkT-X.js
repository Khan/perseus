import{a as i,j as e}from"./jsx-runtime-FVsy8kgq.js";import"./article-renderer-IXeFV2sm.js";import{_ as r}from"./jquery-yG1GhClm.js";import"./util-AYeX86gl.js";import"./phet-simulation-XVZsZpMv.js";import"./version-akiLXZts.js";import"./dependencies-d8cZibFS.js";import"./perseus-api-Nq3s7IMx.js";import"./perseus-item-r0HxAp0G.js";import"./hints-renderer-mV4P0nzg.js";import"./renderer-iggp3GU1.js";import"./base-radio-aSIz26Ah.js";import{c as u}from"./components-NB-NCNDt.js";import{i as f}from"./icon-paths-5JCXzGsq.js";import"./index-k-0mNqHS.js";import"./i18n-context-_nSLXFpk.js";import"./svg-image-B1YVHqDk.js";import"./index-xs9l8-Af.js";import{E as b}from"./editor-jsonify-DLZQptG0.js";import{T as p}from"./index-QCAhLhLD.js";import{L as g,a as c}from"./index-h_CiYGGb.js";import{P as s}from"./index-0C4KXdeC.js";import{r as C}from"./index-TT1qJ6UJ.js";import{R as v}from"./index-7vsPyIck.js";import{i as y}from"./icon-paths-EoBkHOLI.js";const{InfoTip:h,InlineIcon:m}=u,t=class t extends C.Component{constructor(){super(...arguments),this.onVisibleLabelChange=o=>{this.props.onChange({visibleLabel:o})},this.onAriaLabelChange=o=>{this.props.onChange({ariaLabel:o})},this.onPlaceholderChange=o=>{this.props.onChange({placeholder:o})},this.onCorrectChange=o=>{const a=r.map(this.props.choices,function(n,l){return r.extend({},n,{correct:l===o})});this.props.onChange({choices:a})},this.onContentChange=(o,a)=>{const n=this.props.choices.slice(),l=r.clone(n[o]);l.content=a.target.value,n[o]=l,this.props.onChange({choices:n})},this.addChoice=o=>{o.preventDefault();const a=this.props.choices,n={content:"",correct:!1};this.props.onChange({choices:a.concat([n])},this.focus.bind(this,a.length))},this.removeChoice=(o,a)=>{a.preventDefault();const n=r(this.props.choices).clone();n.splice(o,1),this.props.onChange({choices:n})},this.focus=o=>(v.findDOMNode(this.refs["editor"+o]).focus(),!0),this.serialize=()=>b.serialize.call(this)}render(){const o=r.uniqueId("perseus_dropdown_");return i("div",{className:"perseus-widget-dropdown",children:[i("div",{className:"dropdown-info",children:[e(g,{children:"Dropdown"}),e(h,{children:i("p",{children:["The drop down is useful for making inequalities in a custom format. We normally use the symbols ","<",","," ",">",', ≤, ≥ (in that order) which you can copy into the choices. When possible, use the "multiple choice" answer type instead.']})})]}),i("div",{className:"dropdown-field",children:[i(c,{children:["Visible label",e(p,{value:this.props.visibleLabel,onChange:this.onVisibleLabelChange})]}),e(h,{children:e("p",{children:"Optional visible label"})})]}),i("div",{className:"dropdown-field",children:[i(c,{children:["Aria label",e(p,{value:this.props.ariaLabel,onChange:this.onAriaLabelChange,type:"text"})]}),e(h,{children:i("p",{children:["Label text that's read by screen readers. Highly recommend adding a label here to ensure your exercise is accessible. For more information on writing accessible labels, please see"," ",e("a",{href:"https://www.w3.org/WAI/tips/designing/#ensure-that-form-elements-include-clearly-associated-labels",target:"_blank",children:"this article."})," ",'If left blank, the value will default to "Select an answer".']})})]}),i("div",{className:"dropdown-field",children:[i(c,{children:["Placeholder",e(p,{value:this.props.placeholder,onChange:this.onPlaceholderChange,placeholder:"Placeholder value"})]}),e(h,{children:e("p",{children:"This value will appear as the drop down default. It should give the user some indication of the values available in the drop down itself, e.g., Yes/No/Maybe."})})]}),e("div",{className:"clearfix"}),e(c,{children:"Choices"}),e("ul",{className:"dropdown-choices",children:this.props.choices.map(function(a,n){const l=a.correct?"correct":"incorrect";return e("li",{children:i("div",{children:[e("input",{ref:"radio"+n,type:"radio",name:o,checked:a.correct?"checked":"",onChange:this.onCorrectChange.bind(this,n),value:n}),e("input",{type:"text",ref:"editor"+n,onChange:this.onContentChange.bind(this,n),className:l,value:a.content}),e("a",{href:"#",className:"simple-button orange","aria-label":"Delete choice",onClick:this.removeChoice.bind(this,n),children:e("span",{className:"remove-choice",children:e(m,{...f})})})]})},""+n)},this)}),e("div",{className:"add-choice-container",children:i("a",{href:"#",className:"simple-button orange",onClick:this.addChoice,children:[e(m,{...y})," Add a choice"," "]})})]})}};t.propTypes={choices:s.arrayOf(s.shape({content:s.string,correct:s.bool})),placeholder:s.string},t.widgetName="dropdown",t.defaultProps={placeholder:"",choices:[{content:"",correct:!1}]};let d=t;d.__docgenInfo={description:"",methods:[{name:"onVisibleLabelChange",docblock:null,modifiers:[],params:[{name:"visibleLabel",optional:!1,type:null}],returns:null},{name:"onAriaLabelChange",docblock:null,modifiers:[],params:[{name:"ariaLabel",optional:!1,type:null}],returns:null},{name:"onPlaceholderChange",docblock:null,modifiers:[],params:[{name:"placeholder",optional:!1,type:null}],returns:null},{name:"onCorrectChange",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null}],returns:null},{name:"onContentChange",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null},{name:"e",optional:!1,type:null}],returns:null},{name:"addChoice",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"removeChoice",docblock:null,modifiers:[],params:[{name:"choiceIndex",optional:!1,type:null},{name:"e",optional:!1,type:null}],returns:null},{name:"focus",docblock:null,modifiers:[],params:[{name:"i",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropdownEditor",props:{placeholder:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},choices:{defaultValue:{value:`[
    {
        content: "",
        correct: false,
    },
]`,computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{content:{name:"string",required:!1},correct:{name:"bool",required:!1}}}},required:!1}}};export{d as D};
