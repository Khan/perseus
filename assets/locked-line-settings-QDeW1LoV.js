import{a as u,j as o,F as q}from"./jsx-runtime-FVsy8kgq.js";import"./util-F8-MDmsT.js";import{e as Z}from"./svg-image-4Vh9uTQ6.js";import{B as G}from"./choice-I73s7vIV.js";import{V as y}from"./index-6h5t6F0w.js";import{S as H,O as S}from"./answer-choices-G9U2Ia5j.js";import{S as h}from"./index-qUyqkRvh.js";import{s as g,c as x}from"./index-deFLJwr4.js";import{L as J,a as C}from"./index-h_CiYGGb.js";import{L as Q,p as X}from"./locked-figure-aria-mxtuWC2p.js";import{l as Y}from"./index-awljIyHI.js";import{v as f}from"./index-IIMKO4_x.js";import{P as ee,L as oe,a as ne}from"./locked-label-settings-XMKrDtPv.js";import{C as te}from"./color-select-Xh8LIYQw.js";import{L as re}from"./line-stroke-select-OYlhdy6-.js";import{L as ae}from"./line-swatch-O74cEI5A.js";import{L as R}from"./locked-point-settings-wAoKZaB8.js";import{g as ie,a as le}from"./util-EIbodz9l.js";const T="The line cannot have length 0.",B=b=>{var A,z;const{flags:s,kind:w,points:m,color:L,lineStyle:v="solid",showPoint1:I,showPoint2:M,labels:n,ariaLabel:V,onChangeProps:a,onMove:j,onRemove:O}=b,[d,c]=m,$=w.charAt(0).toUpperCase()+w.slice(1),D=`${$} (${d.coord[0]},
        ${d.coord[1]}), (${c.coord[0]}, ${c.coord[1]})`,P=Z(d.coord,c.coord);function U(){let e="";n&&n.length>0&&(e+=` ${n.map(i=>i.text).join(", ")}`);let t=`${$}${e} from (${d.coord[0]}, ${d.coord[1]}) to (${c.coord[0]}, ${c.coord[1]})`;const r=le(L,v);return t+=r,t}function F(e,t){const r=[...m];r[t]={...m[t],...e};const i=f.midpoint(m[0].coord,m[1].coord),p=f.midpoint(r[0].coord,r[1].coord),_=[p[0]-i[0],p[1]-i[1]],W=n==null?void 0:n.map((k,se)=>({...k,coord:[k.coord[0]+_[0],k.coord[1]+_[1]]}));a({points:r,labels:W})}function E(e){var r,i;const t=n==null?void 0:n.map(p=>({...p,color:e}));a({color:e,points:[{...d,color:e,labels:(r=d.labels)==null?void 0:r.map(p=>({...p,color:e}))},{...c,color:e,labels:(i=c.labels)==null?void 0:i.map(p=>({...p,color:e}))}],labels:t})}function K(e,t){if(!n)return;const r=[...n];r[t]={...n[t],...e},a({labels:r})}function N(e){if(!n)return;const t=n.filter((r,i)=>i!==e);a({labels:t})}return u(ee,{expanded:b.expanded,onToggle:b.onToggle,header:u(y,{style:l.row,children:[o(J,{children:D}),o(h,{size:g.xSmall_8}),o(ae,{color:L,lineStyle:v})]}),children:[u(C,{tag:"label",style:[l.row,l.spaceUnder],children:["kind",o(h,{size:g.xxxSmall_4}),u(H,{selectedValue:w,onChange:e=>a({kind:e}),placeholder:"",children:[o(S,{value:"line",label:"line"}),o(S,{value:"ray",label:"ray"}),o(S,{value:"segment",label:"segment"})]})]}),u(y,{style:l.row,children:[o(te,{selectedValue:L,onChange:E}),o(h,{size:g.small_12}),o(re,{selectedValue:v,onChange:e=>a({lineStyle:e})})]}),P&&o(C,{style:l.errorText,children:T}),o(R,{flags:s,headerLabel:"Point 1",expanded:!0,showPoint:I,error:P?T:null,...d,onTogglePoint:e=>a({showPoint1:e}),onChangeProps:e=>F(e,0)}),o(R,{flags:s,headerLabel:"Point 2",expanded:!0,showPoint:M,error:P?T:null,...c,onTogglePoint:e=>a({showPoint2:e}),onChangeProps:e=>F(e,1)}),((A=s==null?void 0:s.mafs)==null?void 0:A["locked-figures-aria"])&&u(q,{children:[o(h,{size:g.small_12}),o(y,{style:l.horizontalRule}),o(Q,{ariaLabel:V,prePopulatedAriaLabel:U(),onChangeProps:e=>{a(e)}})]}),((z=s==null?void 0:s.mafs)==null?void 0:z["locked-line-labels"])&&u(q,{children:[o(h,{size:g.xxxSmall_4}),o(y,{style:l.horizontalRule}),o(h,{size:g.small_12}),o(C,{children:"Visible labels"}),n==null?void 0:n.map((e,t)=>o(oe,{...e,expanded:!0,onChangeProps:r=>{K(r,t)},onRemove:()=>{N(t)},containerStyle:l.labelContainer})),o(G,{kind:"tertiary",startIcon:X,onClick:()=>{const e=[0,-1],t=f.add(f.scale(e,(n==null?void 0:n.length)??0),f.midpoint(m[0].coord,m[1].coord)),r={...ie("label"),coord:t,color:L};a({labels:[...n??[],r]})},style:l.addButton,children:"Add visible label"})]}),o(ne,{figureType:b.type,onMove:j,onRemove:O})]})},l=Y.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:g.xSmall_8},errorText:{color:x.red},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:x.offBlack16},labelContainer:{backgroundColor:x.white}}),Te=B;B.__docgenInfo={description:"",methods:[],displayName:"LockedLineSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFigure>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedFigure"}],raw:"Partial<LockedFigure>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{Te as L};
