import{a as Gs}from"./version-akiLXZts.js";import{j as s,a as r}from"./jsx-runtime-BGVbfQ2Z.js";import{W as Ks,G as Js,a as Ys,M as Xs,P as Zs,T as Qs,w as ei}from"./article-renderer-rwiqiy8m.js";import{l as x,c as m,p as f,a as ti}from"./unit-tpB2tohZ.js";import"./index-eZ2N530f.js";import{_ as q}from"./index-V35CFGao.js";import{r as h}from"./index-qhcEwEpg.js";import"./fixed-to-responsive-X0KGwmEJ.js";import{g as Ts}from"./dependencies-fnqF3NiV.js";import"./video-transcript-link-7IHhb-72.js";import{_ as l}from"./index-default-4_ZsnO94.js";import{L as Is,P as Zt,E as Ct}from"./perseus-error-OpXxk17X.js";import{A as I,C as si}from"./perseus-api-Ly41NhN4.js";import{g as ii,e as ri,d as ni}from"./multi-renderer-pbtcLwLX.js";import"./hints-renderer-mfasYTfR.js";import{S as ai,P as Ps,j as ks,r as As,k as Os,a as Ls}from"./renderer-Y-r37Tvv.js";import"./base-radio-ceh1uvp2.js";import{c as y}from"./components-dKyoSmc6.js";import{I as E}from"./icon-paths-fAaGW1jp.js";import{U as et,b as oi}from"./util-G-g1AweO.js";import{$ as li}from"./jquery-5v7aFUvu.js";import"./button-group-eBTrRsKy.js";import"./graph-HZ4jbR1b.js";import{e as pi}from"./svg-image-O4Zh6lWM.js";import"./hud-J4t6ihs4.js";import"./icon-HbAIhp4d.js";import"./info-tip-8U9pfYW-.js";import"./inline-icon-MJBS_-2U.js";import"./math-input-HGKhnj9M.js";import"./multi-button-group-rHU9dGVb.js";import"./number-input-fy1LqA4g.js";import"./prop-check-box-oy1Hh3jc.js";import"./range-input-qgKts6Pq.js";import"./text-input-dyr-RWux.js";import"./text-list-editor-bJphcq85.js";import{P as o}from"./index-tvtfaFq4.js";import{c as qt}from"./index-vV577VS-.js";import{S as He}from"./section-control-button-88OrqNml.js";import{E as b}from"./editor-Sb3FmXT4.js";import{R as bt,W as hi}from"./structured-item-diff-4zkoPUd1.js";import{I as ci}from"./item-extras-editor-yhCi1XBA.js";import{M as di}from"./multi-items-aFk87ez1.js";import{l as d}from"./index-awljIyHI.js";import{R as Xe}from"./index-E09jvG0x.js";/* empty css                       */import{C as ui}from"./categorizer-editor-BFbEGgPX.js";import{E as w}from"./editor-jsonify-78WT2WXm.js";import{B as S}from"./blur-input-0MWX_AIX.js";import{D as gi}from"./definition-editor-qRR5EtdS.js";import{D as mi}from"./dropdown-editor-YiQmo1Eh.js";import{E as fi}from"./explanation-editor-wBaB5iJ1.js";import{E as yi}from"./expression-editor-Vx9fPV8w.js";import{G as vi}from"./graph-settings-bGKZWnu5.js";import{I as wi}from"./image-editor-8VAm5e8p.js";import{I as Ci}from"./input-number-editor-2a-oQTLe.js";import{I as bi}from"./interaction-editor-taa5nq9s.js";import{I as _i}from"./interactive-graph-editor-gRz2ecp3.js";import{L as Ni}from"./label-image-editor-paNwy70n.js";import{M as xi}from"./matcher-editor-T7Uh44_9.js";import{N as Si}from"./number-line-editor-0MHQXA2Q.js";import{N as Ti}from"./numeric-input-editor-h5FlfGoZ.js";import{p as Ii}from"./perseus-types-S-dfa6qp.js";import{P as Pi}from"./python-program-editor-s07WDpxn.js";import{R as ki}from"./editor-Peu7kPTo.js";import{S as Ai}from"./sorter-editor-zD9D3nM2.js";import{u as _t,E as Oi,M as Li,c as Ei,V as Mi}from"./compare-VLxlEkSV.js";const Ri="@khanacademy/perseus-editor",Vi="__lib_version__";Gs(Ri,Vi);const Ze={PHONE:"phone",TABLET:"tablet",DESKTOP:"desktop"},Es=36,Ms=1,qi=Object.freeze(Object.defineProperty({__proto__:null,devices:Ze,lintGutterWidth:Es,perseusFrameBorderWidth:Ms},Symbol.toStringTag,{value:"Module"})),z={phone:{width:320,height:480,framedWidth:320},tablet:{width:750,height:920,framedWidth:525},desktop:{width:688,height:600,framedWidth:688}},Dt=class Dt extends h.Component{render(){const e=this.props.deviceType;if(this.props.nochrome)return s("div",{children:s("div",{style:{width:z[e].framedWidth+2*Ms+Es},children:s("div",{children:this.props.children})},"screen")});const t=z[e].framedWidth/z[e].width,i={backgroundColor:"white",color:"black",textAlign:"left",width:z[e].width,height:z[e].height,border:"solid 1px #CCC",margin:8,zoom:t};return s("div",{className:"screen",style:i,children:this.props.children},"screen")}};Dt.propTypes={children:o.element.isRequired,deviceType:o.oneOf([Ze.PHONE,Ze.TABLET,Ze.DESKTOP]).isRequired,nochrome:o.bool};let A=Dt;try{A.displayName="DeviceFramer",A.__docgenInfo={description:"",displayName:"DeviceFramer",props:{}}}catch{}const zt=qt({displayName:"JsonEditor",getInitialState:function(){return{currentValue:JSON.stringify(this.props.value,null,4),valid:!0}},UNSAFE_componentWillReceiveProps:function(n){(!this.state.valid||!l.isEqual(n.value,JSON.parse(this.state.currentValue)))&&this.setState(this.getInitialState())},render:function(){const n="perseus-json-editor "+(this.state.valid?"valid":"invalid");return s("textarea",{className:n,value:this.state.currentValue,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur})},handleKeyDown:function(n){if(n.key==="Tab"){const e=n.target.selectionStart,t=n.target.value,i=t.substring(0,e),a=t.substring(e,t.length);n.target.value=i+"    "+a,n.target.selectionStart=i.length+4,n.target.selectionEnd=i.length+4,n.preventDefault(),this.handleChange(n)}},handleChange:function(n){const e=n.target.value;try{let t=JSON.parse(e);l.isString(t)&&(t=JSON.parse(t)),this.setState({currentValue:e,valid:!0},function(){this.props.onChange(t)})}catch{this.setState({currentValue:e,valid:!1})}},handleBlur:function(n){const e=n.target.value;try{let t=JSON.parse(e);l.isString(t)&&(t=JSON.parse(t)),this.setState({currentValue:JSON.stringify(t,null,4),valid:!0},function(){this.props.onChange(t)})}catch{this.setState({currentValue:JSON.stringify(this.props.value,null,4),valid:!0})}}});let Qt=0;const Nt={},xt={};window.iframeDataStore={};window.addEventListener("message",n=>{if(typeof n.data=="string"){const e=Nt[n.data];e&&e()}else n.data.id&&(n.data.height!==void 0?xt[n.data.id](n.data.height):n.data.lintWarnings&&Is.log("LINTER REPORT",{lintWarnings:JSON.stringify(n.data.lintWarnings)}))});class ce extends h.Component{constructor(){super(...arguments),this.container=h.createRef()}componentDidMount(){this._isMounted=!0,this.iframeID=Qt,Qt++,this._prepareFrame(),Nt[this.iframeID]=()=>{this.sendNewData(this._lastData)},xt[this.iframeID]=e=>{this._lastHeight=e,this._isMounted&&this.props.seamless&&this.container.current&&(this.container.current.style.height=e+"px")}}shouldComponentUpdate(e){return e.datasetValue!==this.props.datasetValue||e.seamless!==this.props.seamless}componentDidUpdate(e){this.container.current&&(this.props.seamless?this.container.current.style.height=this._lastHeight+"px":this.container.current.style.height="100%"),e.datasetValue!==this.props.datasetValue&&this._prepareFrame()}componentWillUnmount(){Nt[this.iframeID]=null,xt[this.iframeID]=null,this._isMounted=!1}_prepareFrame(){var t,i;this._frame&&((t=this.container.current)==null||t.removeChild(this._frame));const e=document.createElement("iframe");e.style.width="100%",e.style.height="100%",e.src=this.props.url,this.props.datasetKey&&(e.dataset[this.props.datasetKey]=this.props.datasetValue),e.dataset.id=String(this.iframeID),this.props.seamless&&(e.dataset.lintGutter="true"),(i=this.container.current)==null||i.appendChild(e),this._frame=e}sendNewData(e){const t=this._frame;this._isMounted&&e&&(t!=null&&t.contentWindow)&&(this._lastData=e,window.iframeDataStore[this.iframeID]=e,t.contentWindow.postMessage(this.iframeID,"*"))}render(){return s("div",{ref:this.container,style:{width:"100%",height:"100%"}})}}try{ce.displayName="IframeContentRenderer",ce.__docgenInfo={description:"",displayName:"IframeContentRenderer",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},datasetKey:{defaultValue:null,description:"",name:"datasetKey",required:!0,type:{name:"string"}},datasetValue:{defaultValue:null,description:"",name:"datasetValue",required:!0,type:{name:"any"}},seamless:{defaultValue:null,description:"",name:"seamless",required:!0,type:{name:"boolean"}}}}}catch{}const{HUD:zi,InlineIcon:Ui}=y,{iconCircleArrowDown:Di,iconCircleArrowUp:ji,iconPlus:es,iconTrash:Hi}=E,jt=class jt extends h.Component{constructor(){super(...arguments),this.state={highlightLint:!0},this._handleJsonChange=e=>{this.props.onChange({json:e})},this._handleEditorChange=(e,t)=>{const i=l.clone(this._sections());i[e]=l.extend({},i[e],t),this.props.onChange({json:i})}}componentDidMount(){this._updatePreviewFrames()}componentDidUpdate(){this._updatePreviewFrames()}_updatePreviewFrames(){this.props.mode==="preview"?this.refs["frame-all"].sendNewData({type:"article-all",data:this._sections().map((e,t)=>this._apiOptionsForSection(e,t))}):this.props.mode==="edit"&&this._sections().forEach((e,t)=>{this.refs["frame-"+t].sendNewData({type:"article",data:this._apiOptionsForSection(e,t)})})}_apiOptionsForSection(e,t){const i=this.refs[`editor${t}`];return{apiOptions:{...I.defaults,...this.props.apiOptions,showAlignmentOptions:!0,isArticle:!0},json:e,useNewStyles:this.props.useNewStyles,linterContext:{contentType:"article",highlightLint:this.state.highlightLint,paths:this.props.contentPaths},legacyPerseusLint:i?i.getSaveWarnings():[]}}_sections(){return Array.isArray(this.props.json)?this.props.json:[this.props.json]}_renderEditor(){const{imageUploader:e,sectionImageUploadGenerator:t}=this.props,i={...I.defaults,...this.props.apiOptions,showAlignmentOptions:!0,isArticle:!0},a=this._sections();return r("div",{className:"perseus-editor-table",children:[a.map((p,c)=>[r("div",{className:"perseus-editor-row",children:[r("div",{className:"perseus-editor-left-cell",children:[r("div",{className:"pod-title",children:["Section ",c+1,r("div",{style:{display:"inline-block",float:"right"},children:[t(c),s(He,{icon:es,onClick:()=>{this._handleAddSectionAfter(c)},title:"Add a new section after this one"}),c+1<a.length&&s(He,{icon:Di,onClick:()=>{this._handleMoveSectionLater(c)},title:"Move this section down"}),c>0&&s(He,{icon:ji,onClick:()=>{this._handleMoveSectionEarlier(c)},title:"Move this section up"}),s(He,{icon:Hi,onClick:()=>{const g="Are you sure you want to delete section "+(c+1)+"?";confirm(g)&&this._handleRemoveSection(c)},title:"Delete this section"})]})]}),s(b,{...p,apiOptions:i,imageUploader:e,onChange:l.partial(this._handleEditorChange,c),placeholder:"Type your section text here...",ref:"editor"+c})]}),s("div",{className:"editor-preview",children:this._renderIframePreview(c,!0)})]},c)]),this._renderAddSection(),this._renderLinterHUD()]})}_renderAddSection(){return s("div",{className:"perseus-editor-row",children:s("div",{className:"perseus-editor-left-cell",children:r("a",{href:"#",className:"simple-button orange",onClick:()=>{this._handleAddSectionAfter(this._sections().length-1)},children:[s(Ui,{...es})," Add a section"]})})})}_renderLinterHUD(){return s(zi,{message:"Style warnings",enabled:this.state.highlightLint,onClick:()=>{this.setState({highlightLint:!this.state.highlightLint})}})}_renderIframePreview(e,t){const i=this.props.screen==="phone"||this.props.screen==="tablet";return s(A,{deviceType:this.props.screen,nochrome:t,children:s(ce,{ref:"frame-"+e,datasetKey:"mobile",datasetValue:i,seamless:t,url:this.props.previewURL},this.props.screen)})}_renderPreviewMode(){return s("div",{className:"standalone-preview",children:this._renderIframePreview("all",!1)})}_handleMoveSectionEarlier(e){if(e===0)return;const t=l.clone(this._sections()),i=t[e];t.splice(e,1),t.splice(e-1,0,i),this.props.onChange({json:t})}_handleMoveSectionLater(e){const t=l.clone(this._sections());if(e+1===t.length)return;const i=t[e];t.splice(e,1),t.splice(e+1,0,i),this.props.onChange({json:t})}_handleAddSectionAfter(e){const t=l.clone(this.serialize()),i=e>=0?{widgets:t[e].widgets}:{};t.splice(e+1,0,i),this.props.onChange({json:t})}_handleRemoveSection(e){const t=l.clone(this._sections());t.splice(e,1),this.props.onChange({json:t})}serialize(){if(this.props.mode==="edit")return this._sections().map((e,t)=>this.refs["editor"+t].serialize());if(this.props.mode==="preview"||this.props.mode==="json")return this.props.json;throw new Zt("Could not serialize; mode "+this.props.mode+" not found",Ct.Internal)}getSaveWarnings(){if(this.props.mode!=="edit")throw new Zt("Can only get save warnings in edit mode.",Ct.NotAllowed);return this._sections().map((e,t)=>this.refs["editor"+t].getSaveWarnings())}render(){return r("div",{className:"framework-perseus perseus-article-editor",children:[this.props.mode==="edit"&&this._renderEditor(),this.props.mode==="preview"&&this._renderPreviewMode(),this.props.mode==="json"&&r("div",{className:"json-editor",children:[s("div",{className:"json-editor-warning",children:s("span",{children:"Warning: Editing in this mode can lead to broken articles!"})}),s(zt,{multiLine:!0,onChange:this._handleJsonChange,value:this.props.json})]})]})}};jt.defaultProps={contentPaths:[],json:[{}],mode:"edit",screen:"desktop",sectionImageUploadGenerator:()=>s("span",{}),useNewStyles:!1};let St=jt;try{articleeditor.displayName="articleeditor",articleeditor.__docgenInfo={description:"",displayName:"articleeditor",props:{contentPaths:{defaultValue:{value:"[]"},description:"",name:"contentPaths",required:!1,type:{name:"readonly string[]"}},json:{defaultValue:{value:"[{}]"},description:"",name:"json",required:!1,type:{name:"JsonType"}},mode:{defaultValue:{value:"edit"},description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"json"'},{value:'"diff"'},{value:'"edit"'},{value:'"preview"'}]}},screen:{defaultValue:{value:"desktop"},description:"",name:"screen",required:!1,type:{name:"enum",value:[{value:'"phone"'},{value:'"tablet"'},{value:'"desktop"'}]}},sectionImageUploadGenerator:{defaultValue:{value:"() => <span />"},description:"",name:"sectionImageUploadGenerator",required:!1,type:{name:"(i: number) => ReactElement<DetailedHTMLProps<HTMLAttributes<HTMLSpanElement>, HTMLSpanElement>, string | JSXElementConstructor<...>>"}},useNewStyles:{defaultValue:{value:"false"},description:"",name:"useNewStyles",required:!1,type:{name:"boolean"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},imageUploader:{defaultValue:null,description:"",name:"imageUploader",required:!1,type:{name:"((arg1: string, arg2: (arg1: string) => unknown) => unknown)"}},previewURL:{defaultValue:null,description:"",name:"previewURL",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(values: { [key: string]: any; }, callback?: (() => unknown) | null | undefined, silent?: boolean | undefined) => unknown"}}}}}catch{}const{ButtonGroup:Fi,InlineIcon:ht}=y,{devices:ct}=qi,{iconDesktop:Wi,iconMobilePhone:$i,iconTablet:Bi}=E,Ht=class Ht extends h.Component{constructor(){super(...arguments),this.handleChange=e=>{this.props.onViewportSizeChanged(e)}}render(){const e=r("span",{children:[s(ht,{...$i})," Phone"]}),t=r("span",{children:[s(ht,{...Bi})," Tablet"]}),i=r("span",{children:[s(ht,{...Wi})," Desktop"]});return r("span",{className:"viewport-resizer",children:["Viewport:"," ",s(Fi,{value:this.props.deviceType,allowEmpty:!1,buttons:[{value:ct.PHONE,content:e},{value:ct.TABLET,content:t},{value:ct.DESKTOP,content:i}],onChange:this.handleChange})]})}};Ht.propTypes={deviceType:o.string.isRequired,onViewportSizeChanged:o.func.isRequired};let de=Ht;try{de.displayName="ViewportResizer",de.__docgenInfo={description:"",displayName:"ViewportResizer",props:{deviceType:{defaultValue:null,description:"",name:"deviceType",required:!0,type:{name:"enum",value:[{value:'"phone"'},{value:'"tablet"'},{value:'"desktop"'}]}},onViewportSizeChanged:{defaultValue:null,description:"",name:"onViewportSizeChanged",required:!0,type:{name:"(arg1: DeviceType) => unknown"}}}}}catch{}const Fe=o.shape({content:o.string,images:o.objectOf(o.any),widgets:o.objectOf(o.any)}),R=class R extends h.Component{constructor(){super(...arguments),this.state=R._stateFromProps(this.props)}UNSAFE_componentWillReceiveProps(e){this.setState(R._stateFromProps(e))}render(){const{before:e,after:t}=this.state,i=Math.max(e.length,t.length),a=l.times(i,p=>s(bt,{before:p<e.length?e[p]:void 0,after:p<t.length?t[p]:void 0,title:`Section ${p+1}`,showAlignmentOptions:!0,showSeparator:p<i-1},p));return s("div",{className:"framework-perseus",children:a})}};R.propTypes={after:o.oneOfType([Fe,o.arrayOf(Fe)]).isRequired,before:o.oneOfType([Fe,o.arrayOf(Fe)]).isRequired},R._stateFromProps=e=>{const{before:t,after:i}=e;return{before:Array.isArray(t)?t:[t],after:Array.isArray(i)?i:[i]}};let tt=R;try{tt.displayName="ArticleDiff",tt.__docgenInfo={description:"",displayName:"ArticleDiff",props:{}}}catch{}const ts=o.shape({question:o.shape({}).isRequired,answerArea:o.shape({}).isRequired,hints:o.arrayOf(o.any).isRequired}),Ft=class Ft extends h.Component{render(){const{before:e,after:t}=this.props,i=Math.max(e.hints.length,t.hints.length),a=s(bt,{before:e.question,after:t.question,title:"Question",showAlignmentOptions:!1,showSeparator:!0}),p=s(hi,{before:e.answerArea,after:t.answerArea,title:"Question extras"}),c=l.times(i,function(g){return s(bt,{before:g<e.hints.length?e.hints[g]:void 0,after:g<t.hints.length?t.hints[g]:void 0,title:`Hint ${g+1}`,showAlignmentOptions:!1,showSeparator:g<i-1},g)});return r("div",{className:"framework-perseus",children:[a,p,c&&s("div",{className:"diff-separator"}),c]})}};Ft.propTypes={after:ts.isRequired,before:ts.isRequired};let st=Ft;try{st.displayName="ItemDiff",st.__docgenInfo={description:"",displayName:"ItemDiff",props:{}}}catch{}const{InfoTip:Gi,InlineIcon:Qe}=y,{iconCircleArrowDown:Ki,iconCircleArrowUp:Ji,iconPlus:Yi,iconTrash:Xi}=E,Wt=class Wt extends h.Component{constructor(){super(...arguments),this.editor=h.createRef(),this.handleChange=e=>{this.props.onChange({replace:e.target.checked})},this.focus=()=>{var e;(e=this.editor.current)==null||e.focus()},this.getSaveWarnings=()=>{var e;return(e=this.editor.current)==null?void 0:e.getSaveWarnings()},this.serialize=e=>{var t;return(t=this.editor.current)==null?void 0:t.serialize(e)}}render(){return r("div",{className:"perseus-hint-editor "+this.props.className,children:[this.props.showTitle&&s("div",{className:"pod-title",children:"Hint"}),s(b,{ref:this.editor,apiOptions:this.props.apiOptions,widgets:this.props.widgets||void 0,content:this.props.content||void 0,images:this.props.images,replace:this.props.replace,placeholder:"Type your hint here...",imageUploader:this.props.imageUploader,onChange:this.props.onChange},this.props.itemId),r("div",{className:"hint-controls-container clearfix",children:[this.props.showMoveButtons&&r("span",{className:"reorder-hints",children:[s("button",{type:"button",className:this.props.isLast?"hidden":"",onClick:l.partial(this.props.onMove,1),children:s(Qe,{...Ki})})," ",s("button",{type:"button",className:this.props.isFirst?"hidden":"",onClick:l.partial(this.props.onMove,-1),children:s(Qe,{...Ji})})," ",this.props.isLast&&s(Gi,{children:s("p",{children:"The last hint is automatically bolded."})})]}),s("input",{type:"checkbox",checked:this.props.replace,onChange:this.handleChange}),"Replace previous hint",this.props.showRemoveButton&&r("button",{type:"button",className:"remove-hint simple-button orange",onClick:this.props.onRemove,children:[s(Qe,{...Xi}),"Remove this hint"," "]})]})]})}};Wt.defaultProps={className:"",content:"",replace:!1,showMoveButtons:!0,showTitle:!0,showRemoveButton:!0};let O=Wt;const $t=class $t extends h.Component{constructor(){super(...arguments),this.editor=h.createRef(),this.frame=h.createRef(),this.updatePreview=()=>{var t;const e=this.props.isLast&&!/\*\*/.test(this.props.hint.content);(t=this.frame.current)==null||t.sendNewData({type:"hint",data:{hint:this.props.hint,bold:e,pos:this.props.pos,apiOptions:this.props.apiOptions,linterContext:{contentType:"hint",highlightLint:this.props.highlightLint,paths:this.props.contentPaths}}})},this.getSaveWarnings=()=>{var e;return(e=this.editor.current)==null?void 0:e.getSaveWarnings()},this.serialize=e=>{var t;return(t=this.editor.current)==null?void 0:t.serialize(e)},this.focus=()=>{var e;(e=this.editor.current)==null||e.focus()}}componentDidMount(){this.updatePreview()}componentDidUpdate(){this.updatePreview()}render(){const e=this.props.deviceType==="phone"||this.props.deviceType==="tablet";return r("div",{className:"perseus-combined-hint-editor perseus-editor-row",children:[s("div",{className:"perseus-editor-left-cell",children:s(O,{ref:this.editor,itemId:this.props.itemId,isFirst:this.props.isFirst,isLast:this.props.isLast,widgets:this.props.hint.widgets,content:this.props.hint.content,images:this.props.hint.images,replace:this.props.hint.replace,imageUploader:this.props.imageUploader,onChange:this.props.onChange,onRemove:this.props.onRemove,onMove:this.props.onMove,apiOptions:this.props.apiOptions})}),s("div",{className:"perseus-editor-right-cell",children:s(A,{deviceType:this.props.deviceType,nochrome:!0,children:s(ce,{ref:this.frame,datasetKey:"mobile",datasetValue:e,seamless:!0,url:this.props.previewURL})})})]})}};$t.defaultProps={highlightLint:!1};let Tt=$t;const nt=class nt extends h.Component{constructor(){super(...arguments),this.handleHintChange=(e,t,i,a)=>{const p=l(this.props.hints).clone();p[e]=l.extend({},this.serializeHint(e,{keepDeletedWidgets:!0}),t),this.props.onChange({hints:p},i,a)},this.handleHintRemove=e=>{if(!confirm("Are you sure you want to delete this hint?"))return;const t=l(this.props.hints).clone();t.splice(e,1),this.props.onChange({hints:t})},this.handleHintMove=(e,t)=>{const i=l(this.props.hints).clone(),a=i.splice(e,1)[0];i.splice(e+t,0,a),this.props.onChange({hints:i},()=>{this.refs["hintEditor"+(e+t)].focus()})},this.addHint=()=>{const e=l(this.props.hints).clone().concat([{content:""}]);this.props.onChange({hints:e},()=>{const t=e.length-1;this.refs["hintEditor"+t].focus()})},this.getSaveWarnings=()=>l.chain(this.props.hints).map((e,t)=>l.map(this.refs["hintEditor"+t].getSaveWarnings(),i=>"Hint "+(t+1)+": "+i)).flatten(!0).value(),this.serialize=e=>this.props.hints.map((t,i)=>this.serializeHint(i,e)),this.serializeHint=(e,t)=>this.refs["hintEditor"+e].serialize(t)}render(){const{itemId:e,hints:t}=this.props,i=l.map(t,function(a,p){return s(Tt,{ref:"hintEditor"+p,isFirst:p===0,isLast:p+1===t.length,itemId:e,hint:a,pos:p,imageUploader:this.props.imageUploader,onChange:this.handleHintChange.bind(this,p),onRemove:this.handleHintRemove.bind(this,p),onMove:this.handleHintMove.bind(this,p),deviceType:this.props.deviceType,apiOptions:this.props.apiOptions,highlightLint:this.props.highlightLint,previewURL:this.props.previewURL,contentPaths:[]},"hintEditor"+p)},this);return r("div",{className:"perseus-hints-editor perseus-editor-table",children:[i,s("div",{className:"perseus-editor-row",children:s("div",{className:"add-hint-container perseus-editor-left-cell",children:r("button",{type:"button",className:"add-hint simple-button orange",onClick:this.addHint,children:[s(Qe,{...Yi})," Add a hint"]})})})]})}};nt.HintEditor=O,nt.defaultProps={onChange:()=>{},hints:[],highlightLint:!1};let ue=nt;try{O.displayName="HintEditor",O.__docgenInfo={description:"",displayName:"HintEditor",props:{itemId:{defaultValue:null,description:"",name:"itemId",required:!1,type:{name:"string"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},imageUploader:{defaultValue:null,description:"",name:"imageUploader",required:!1,type:{name:"ImageUploader"}},showMoveButtons:{defaultValue:{value:"true"},description:"",name:"showMoveButtons",required:!1,type:{name:"boolean"}},showRemoveButton:{defaultValue:{value:"true"},description:"",name:"showRemoveButton",required:!1,type:{name:"boolean"}},showTitle:{defaultValue:{value:"true"},description:"",name:"showTitle",required:!1,type:{name:"boolean"}},content:{defaultValue:{value:""},description:"",name:"content",required:!1,type:{name:"string | null"}},replace:{defaultValue:{value:"false"},description:"",name:"replace",required:!1,type:{name:"boolean | null"}},widgets:{defaultValue:null,description:"",name:"widgets",required:!1,type:{name:"WidgetDict | null"}},images:{defaultValue:null,description:"",name:"images",required:!1,type:{name:"ImageDict | null"}},isLast:{defaultValue:null,description:"",name:"isLast",required:!0,type:{name:"boolean"}},isFirst:{defaultValue:null,description:"",name:"isFirst",required:!0,type:{name:"boolean"}},onMove:{defaultValue:null,description:"",name:"onMove",required:!0,type:{name:"(direction: number) => unknown"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => unknown"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}},__type:{defaultValue:null,description:"",name:"__type",required:!1,type:{name:"enum",value:[{value:'"hint"'}]}}}}}catch{}try{ue.displayName="CombinedHintsEditor",ue.__docgenInfo={description:"",displayName:"CombinedHintsEditor",props:{apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},deviceType:{defaultValue:null,description:"",name:"deviceType",required:!0,type:{name:"enum",value:[{value:'"phone"'},{value:'"tablet"'},{value:'"desktop"'}]}},imageUploader:{defaultValue:null,description:"",name:"imageUploader",required:!1,type:{name:"ImageUploader"}},highlightLint:{defaultValue:{value:"false"},description:"",name:"highlightLint",required:!1,type:{name:"boolean"}},hints:{defaultValue:{value:"[]"},description:"",name:"hints",required:!1,type:{name:"readonly Hint[]"}},previewURL:{defaultValue:null,description:"",name:"previewURL",required:!0,type:{name:"string"}},onChange:{defaultValue:{value:"() => {}"},description:"",name:"onChange",required:!1,type:{name:"ChangeHandler"}},itemId:{defaultValue:null,description:"",name:"itemId",required:!1,type:{name:"string"}}}}}catch{}const Zi=ii,Bt=class Bt extends h.Component{constructor(){super(...arguments),this.frame=h.createRef(),this.questionEditor=h.createRef(),this.itemExtrasEditor=h.createRef(),this.updateProps=(e,t,i)=>{const a=l(this.props).pick("question","answerArea");this.props.onChange(l(a).extend(e),t,i)},this.triggerPreviewUpdate=e=>{var t;(t=this.frame.current)==null||t.sendNewData(e)},this.handleEditorChange=(e,t,i)=>{const a=l.extend({},this.props.question,e);this.updateProps({question:a},t,i)},this.handleItemExtrasChange=(e,t,i)=>{const a=l.extend({},this.props.answerArea,e);this.updateProps({answerArea:a},t,i)},this.getSaveWarnings=()=>{var e;return(e=this.questionEditor.current)==null?void 0:e.getSaveWarnings()},this.serialize=e=>{var t,i;return{question:(t=this.questionEditor.current)==null?void 0:t.serialize(e),answerArea:(i=this.itemExtrasEditor.current)==null?void 0:i.serialize(),itemDataVersion:Zi}}}render(){const e=this.props.deviceType==="phone"||this.props.deviceType==="tablet";return r("div",{className:"perseus-editor-table",children:[r("div",{className:"perseus-editor-row perseus-question-container",children:[r("div",{className:"perseus-editor-left-cell",children:[s("div",{className:"pod-title",children:"Question"}),s(b,{ref:this.questionEditor,placeholder:"Type your question here...",className:"perseus-question-editor",imageUploader:this.props.imageUploader,onChange:this.handleEditorChange,apiOptions:this.props.apiOptions,showWordCount:!0,...this.props.question},this.props.itemId)]}),s("div",{className:"perseus-editor-right-cell",children:r("div",{id:"problemarea",children:[s(A,{deviceType:this.props.deviceType,nochrome:!0,children:s(ce,{ref:this.frame,datasetKey:"mobile",datasetValue:e,seamless:!0,url:this.props.previewURL},this.props.deviceType)}),s("div",{id:"hintsarea",className:"hintsarea",style:{display:"none"}})]})})]}),r("div",{className:"perseus-editor-row perseus-answer-container",children:[r("div",{className:"perseus-editor-left-cell",children:[s("div",{className:"pod-title",children:"Question extras"}),s(ci,{ref:this.itemExtrasEditor,onChange:this.handleItemExtrasChange,...this.props.answerArea})]}),s("div",{className:"perseus-editor-right-cell",children:s("div",{id:"answer_area"})})]})]})}};Bt.defaultProps={onChange:()=>{},question:{},answerArea:{}};let ge=Bt;try{ge.displayName="ItemEditor",ge.__docgenInfo={description:"",displayName:"ItemEditor",props:{apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},deviceType:{defaultValue:null,description:"",name:"deviceType",required:!1,type:{name:"string"}},gradeMessage:{defaultValue:null,description:"",name:"gradeMessage",required:!1,type:{name:"string"}},imageUploader:{defaultValue:null,description:"",name:"imageUploader",required:!1,type:{name:"ImageUploader"}},wasAnswered:{defaultValue:null,description:"",name:"wasAnswered",required:!1,type:{name:"boolean"}},question:{defaultValue:{value:"{}"},description:"",name:"question",required:!1,type:{name:"any"}},answerArea:{defaultValue:{value:"{}"},description:"",name:"answerArea",required:!1,type:{name:"any"}},previewURL:{defaultValue:null,description:"",name:"previewURL",required:!0,type:{name:"string"}},onChange:{defaultValue:{value:"() => {}"},description:"",name:"onChange",required:!1,type:{name:"ChangeHandler"}},itemId:{defaultValue:null,description:"",name:"itemId",required:!1,type:{name:"string"}}}}}catch{}const{HUD:Qi}=y,Gt=class Gt extends h.Component{constructor(e){super(e),this.itemEditor=h.createRef(),this.hintsEditor=h.createRef(),this.toggleJsonMode=()=>{this.setState({json:this.serialize({keepDeletedWidgets:!0})},()=>{this.props.onChange({jsonMode:!this.props.jsonMode})})},this.handleChange=(t,i,a)=>{const p=l(this.props).pick("question","hints","answerArea");l(p).extend(t),this.props.onChange(p,i,a)},this.changeJSON=t=>{this.setState({json:t}),this.props.onChange(t)},this.state={json:l.pick(this.props,"question","answerArea","hints","itemDataVersion"),gradeMessage:"",wasAnswered:!1,highlightLint:!0},this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.updateRenderer()}componentDidUpdate(){setTimeout(()=>{this.updateRenderer()})}componentWillUnmount(){this._isMounted=!1}updateRenderer(){var a,p;const e=!this.props.developerMode||!this.props.jsonMode;if(!this._isMounted||!e)return;const t=this.props.previewDevice==="phone"||this.props.previewDevice==="tablet",i={...this.getApiOptions(),customKeypad:t,isMobile:t};(p=this.itemEditor.current)==null||p.triggerPreviewUpdate({type:"question",data:l({item:this.serialize(),apiOptions:i,initialHintsVisible:0,device:this.props.previewDevice,linterContext:{contentType:"exercise",highlightLint:this.state.highlightLint,paths:this.props.contentPaths||[]},reviewMode:!0,legacyPerseusLint:(a=this.itemEditor.current)==null?void 0:a.getSaveWarnings()}).extend(l(this.props).pick("workAreaSelector","solutionAreaSelector","hintsAreaSelector","problemNum"))})}getApiOptions(){return{...I.defaults,...this.props.apiOptions}}getSaveWarnings(){var i,a;const e=(i=this.itemEditor.current)==null?void 0:i.getSaveWarnings(),t=(a=this.hintsEditor.current)==null?void 0:a.getSaveWarnings();return e.concat(t)}serialize(e){var t,i;return this.props.jsonMode?this.state.json:l.extend((t=this.itemEditor.current)==null?void 0:t.serialize(e),{hints:(i=this.hintsEditor.current)==null?void 0:i.serialize(e)})}scorePreview(){return this.renderer?this.renderer.scoreInput():null}render(){let e="framework-perseus";const t=this.props.previewDevice==="phone"||this.props.previewDevice==="tablet",i={...this.getApiOptions(),customKeypad:t,isMobile:t};return i.isMobile&&(e+=" "+si.MOBILE),r("div",{id:"perseus",className:e,children:[r("div",{style:{marginBottom:10},children:[this.props.developerMode&&r("span",{children:[r("label",{children:[" ","Developer JSON Mode:"," ",s("input",{type:"checkbox",checked:this.props.jsonMode,onChange:this.toggleJsonMode})]})," "]}),!this.props.jsonMode&&s(de,{deviceType:this.props.previewDevice,onViewportSizeChanged:this.props.onPreviewDeviceChange}),!this.props.jsonMode&&s(Qi,{message:"Style warnings",enabled:this.state.highlightLint,onClick:()=>{this.setState({highlightLint:!this.state.highlightLint})}})]}),this.props.developerMode&&this.props.jsonMode&&s("div",{children:s(zt,{multiLine:!0,value:this.state.json,onChange:this.changeJSON})}),(!this.props.developerMode||!this.props.jsonMode)&&s(ge,{ref:this.itemEditor,itemId:this.props.itemId,question:this.props.question,answerArea:this.props.answerArea,imageUploader:this.props.imageUploader,onChange:this.handleChange,wasAnswered:this.state.wasAnswered,gradeMessage:this.state.gradeMessage,deviceType:this.props.previewDevice,apiOptions:i,previewURL:this.props.previewURL}),(!this.props.developerMode||!this.props.jsonMode)&&s(ue,{ref:this.hintsEditor,itemId:this.props.itemId,hints:this.props.hints,imageUploader:this.props.imageUploader,onChange:this.handleChange,deviceType:this.props.previewDevice,apiOptions:i,previewURL:this.props.previewURL,highlightLint:this.state.highlightLint})]})}};Gt.defaultProps={developerMode:!1,jsonMode:!1,onChange:()=>{}};let me=Gt;try{me.displayName="EditorPage",me.__docgenInfo={description:"",displayName:"EditorPage",props:{apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},answerArea:{defaultValue:null,description:"",name:"answerArea",required:!1,type:{name:"any"}},contentPaths:{defaultValue:null,description:"",name:"contentPaths",required:!1,type:{name:"readonly string[]"}},developerMode:{defaultValue:{value:"false"},description:"",name:"developerMode",required:!1,type:{name:"boolean"}},frameSource:{defaultValue:null,description:"",name:"frameSource",required:!0,type:{name:"string"}},hints:{defaultValue:null,description:"",name:"hints",required:!1,type:{name:"readonly Hint[]"}},imageUploader:{defaultValue:null,description:"",name:"imageUploader",required:!1,type:{name:"ImageUploader"}},itemDataVersion:{defaultValue:null,description:"",name:"itemDataVersion",required:!1,type:{name:"Version"}},itemId:{defaultValue:null,description:"",name:"itemId",required:!0,type:{name:"string"}},jsonMode:{defaultValue:{value:"false"},description:"",name:"jsonMode",required:!1,type:{name:"boolean"}},onChange:{defaultValue:{value:"() => {}"},description:"",name:"onChange",required:!1,type:{name:"ChangeHandler"}},onPreviewDeviceChange:{defaultValue:null,description:"",name:"onPreviewDeviceChange",required:!0,type:{name:"(arg1: DeviceType) => unknown"}},previewDevice:{defaultValue:null,description:"",name:"previewDevice",required:!0,type:{name:"enum",value:[{value:'"phone"'},{value:'"tablet"'},{value:'"desktop"'}]}},question:{defaultValue:null,description:"",name:"question",required:!1,type:{name:"any"}},previewURL:{defaultValue:null,description:"",name:"previewURL",required:!0,type:{name:"string"}}}}}catch{}const at=class at extends h.Component{render(){const{children:e,color:t,onClick:i,...a}=this.props;return s("div",{className:d.css(dt.baseButton,t==="green"&&dt.green,t==="orange"&&dt.orange),onClick:i,...a,children:e})}};at.propTypes={children:o.node,color:o.oneOf(["orange","green"]),onClick:o.func},at.defaultProps={children:null,color:"green",onClick:()=>{}};let P=at;const dt=d.StyleSheet.create({baseButton:{top:"0",fontSize:"11px",padding:"3px 10px",backgroundRepeat:"repeat-x",borderColor:`
             rgba(0, 0, 0, 0.1)
             rgba(0, 0, 0, 0.1)
             rgba(0, 0, 0, 0.25)
         `,color:"#ffffff",borderRadius:"3px",lineHeight:"15px",cursor:"pointer",transition:"box-shadow ease-in-out 0.15s",appearance:"none",textDecoration:"none",textAlign:"center",":hover":{boxShadow:`0 1px 1px rgba(0, 0, 0, 0.35),
                 inset 0 0 50px 5px rgba(255, 255, 255, 0.2)`}},green:{border:"1px solid #7fab07",backgroundColor:"#80ac07",backgroundImage:"linear-gradient(to bottom, #8aba08, #719807)",":hover":{borderBottomColor:"#547105",backgroundColor:"#719807"}},orange:{border:"1px solid #d45704",backgroundColor:"#d55704",backgroundImage:"linear-gradient(to bottom, #e35d04, #c04f03)",":hover":{borderBottomColor:"#983e03",backgroundColor:"#c04f03"}}});try{P.displayName="SimpleButton",P.__docgenInfo={description:"",displayName:"SimpleButton",props:{}}}catch{}const{InlineIcon:ut}=y,{iconChevronDown:ss,iconTrash:er}=E,{MultiRenderer:tr}=di;class We extends h.Component{constructor(){super(...arguments),this._handleSelectMode=e=>{if(this.props.onChange){const t=e.target.value;this.props.onChange(t)}}}render(){return r("label",{children:["Mode:"," ",r("select",{value:this.props.currentMode,onChange:this._handleSelectMode,children:[s("option",{value:"edit",children:"Edit"}),s("option",{value:"preview",children:"Preview"}),s("option",{value:"json",children:"Dev-only JSON"})]})]})}}function Rs(n){return n.replace(/[A-Z]/g,e=>" "+e.toLowerCase())}function it(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}function Vs(n){return n.charAt(n.length-1)==="s"?n.slice(0,-1):n}function T(n){return["_multi",...n]}const It=({depth:n,...e})=>{const i=`h${Math.min(n,5)+1}`;return s(i,{...e})},Ut=n=>{const{shape:e,data:t,path:i,actions:a,name:p,controls:c,...g}=n,v=p||Rs(i[i.length-1]||""),N=s(nr,{...g,shape:e,data:t,path:i,actions:a}),_=i.join(".");return e.type==="array"?s(ir,{name:v,controls:c,path:i,shape:e,actions:a,children:N},_):e.type==="object"?s(rr,{name:v,controls:c,path:i,children:N},_):s(sr,{name:v,controls:c,path:i,shape:e,children:N},_)},sr=({name:n,controls:e,children:t,path:i,shape:a})=>{const c=(a.type==="content"||a.type==="hint")&&s("div",{className:d.css(u.containerHeader),children:s(It,{depth:i.length,className:d.css(u.containerTitle),children:it(n)})});return r("div",{className:d.css(u.container),children:[r("span",{className:d.css(u.row,u.rowHeading),children:[s("div",{className:d.css(u.columnLeft),children:r("div",{className:"pod-title "+d.css(u.containerHeader),children:[s("div",{className:d.css(u.containerTitle),children:it(n)}),e]})}),s("div",{className:d.css(u.columnRight),children:c})]}),t]})},ir=n=>{const{name:e,controls:t,children:i,path:a,shape:p,actions:c}=n;return r("div",{className:d.css(u.container),children:[t&&s("div",{className:d.css(u.columnLeft,u.containerHeader),children:t}),s("div",{children:i}),s("div",{className:d.css(u.columnLeft),children:r("a",{href:"javascript:void 0",onClick:()=>c.addArrayElement(a,p.elementShape),children:["Add a ",Vs(e)]})})]})},rr=({name:n,controls:e,children:t,path:i})=>{const a=r("div",{className:d.css(u.containerHeader),children:[s(It,{depth:i.length,className:d.css(u.containerTitle),children:it(n)}),e]}),p=(n||e)&&s("div",{className:d.css(u.containerHeader,u.previewCollectionHeader),children:s(It,{depth:i.length,className:d.css(u.containerTitle),children:it(n)})}),c=a&&p;return r("div",{className:d.css(u.container),children:[c&&r("span",{className:d.css(u.row),children:[s("div",{className:d.css(u.columnLeft),children:a}),s("div",{className:d.css(u.columnRight),children:p})]}),s("div",{className:d.css(i.length>0&&u.contentIndent),children:t})]})},nr=n=>{const{shape:e,data:t,...i}=n;return e.type==="content"?s(ar,{shape:e,data:t,...i}):e.type==="hint"?s(or,{shape:e,data:t,...i}):e.type==="tags"?s(lr,{shape:e,data:t,...i}):e.type==="array"?s(pr,{shape:e,data:t,...i}):e.type==="object"?s(hr,{shape:e,data:t,...i}):null},qs=n=>class extends h.Component{constructor(){super(...arguments),this.state={sticky:!1},this.updateStickiness=()=>{const i=Xe.findDOMNode(this).offsetHeight,a=window.innerHeight,p=i>a;p!==this.state.sticky&&this.setState({sticky:p})}}componentDidMount(){this.stickynessTimer=setInterval(this.updateStickiness,1e3),this.updateStickiness()}componentWillUnmount(){clearInterval(this.stickynessTimer)}render(){return s(n,{...this.props,sticky:this.state.sticky})}},ar=qs(n=>{const{data:e,path:t,actions:i,apiOptions:a,renderers:p,sticky:c}=n,g=s("div",{className:"framework-perseus",children:x(p).get(t)});return s("span",{children:r("div",{className:d.css(u.row),children:[s("div",{className:d.css(u.columnLeft),children:s("div",{className:d.css(c&&u.sticky),children:s(b,{...e,onChange:v=>i.mergeValueAtPath(t,v),apiOptions:a})})}),s("div",{className:d.css(u.columnRight),children:s("div",{className:d.css(c&&u.sticky),children:g})})]})})}),or=qs(n=>{const{data:e,path:t,actions:i,apiOptions:a,renderers:p,sticky:c}=n,g=s("div",{className:"framework-perseus",children:x(p).get(t)});return r("div",{className:d.css(u.row),children:[s("div",{className:d.css(u.columnLeft),children:s("div",{className:d.css(c&&u.sticky),children:s(O,{...e,className:d.css(u.hintEditor),onChange:v=>i.mergeValueAtPath(t,v),apiOptions:a,showTitle:!1,showRemoveButton:!1,showMoveButtons:!1,onRemove:()=>{},onMove:v=>{},isFirst:!0,isLast:!0})})}),s("div",{className:d.css(u.columnRight),children:s("div",{className:d.css(c&&u.sticky),children:g})})]})}),lr=n=>{const{data:e,path:t,actions:i,apiOptions:a}=n,{GroupMetadataEditor:p}=a;return p==null?null:s("div",{className:d.css(u.columnLeft),children:s("div",{className:d.css(u.tagsEditor),children:s(p,{value:e,onChange:c=>i.setValueAtPath(t,c),showTitle:!1})})})},pr=n=>{const{shape:e,data:t,path:i,actions:a,...p}=n,c=Rs(i[i.length-1]),g=Vs(c),v=e.elementShape.type,N=v==="content"||v==="hint",_=t.map(($s,M)=>{const je=i.concat(M),Bs=[M>0&&s("div",{className:d.css(u.control),children:s(P,{color:"orange",title:"Move up",onClick:()=>a.moveArrayElementUp(je),children:s("div",{className:d.css(u.verticalFlip),children:s(ut,{...ss})})})},"moveArrayElementUp"),M<t.length-1&&s("div",{className:d.css(u.control),children:s(P,{color:"orange",title:"Move down",onClick:()=>a.moveArrayElementDown(je),children:s(ut,{...ss})})},"moveArrayElementDown"),s("div",{className:d.css(u.control),children:s(P,{color:"orange",title:"Delete",onClick:()=>a.removeArrayElement(je),children:s(ut,{...er})})},"removeArrayElement")];return s("div",{className:d.css(u.arrayElement,!N&&u.arrayElementAndNotLeaf),children:h.createElement(Ut,{...p,key:M,shape:e.elementShape,data:$s,path:je,actions:a,name:`${g} ${M+1}`,controls:Bs})},M)});return s("div",{children:_})},hr=n=>{const{shape:e,data:t,path:i,...a}=n,p=Object.keys(e.shape).map(c=>s("div",{className:d.css(u.objectElement),children:s(Ut,{...a,shape:e.shape[c],data:t[c],path:i.concat(c)})},c));return s("div",{children:p})};class is extends h.Component{constructor(){super(...arguments),this._renderLayout=()=>{const{Layout:e,apiOptions:t,item:i}=this.props;return s(e,{ref:a=>this.layout=a,item:i,apiOptions:t})},this._renderJson=()=>r("div",{children:[s(We,{currentMode:this.props.editorMode,onChange:e=>this.props.onChange({editorMode:e})}),s(zt,{multiLine:!0,value:this.props.item,onChange:e=>this.props.onChange({item:e})})]}),this._renderPreview=()=>r("div",{children:[s(We,{currentMode:this.props.editorMode,onChange:e=>this.props.onChange({editorMode:e})}),this._renderLayout()]}),this.mergeValueAtPath=(e,t)=>{this.props.onChange({item:x(this.props.item).merge(T(e),t).freeze()})},this.setValueAtPath=(e,t)=>{this.props.onChange({item:x(this.props.item).set(T(e),t).freeze()})},this.addArrayElement=(e,t)=>{const i=x(this.props.item).get(T(e)).length,a=e.concat(i),p=ri(t);this.props.onChange({item:x(this.props.item).set(T(a),p).freeze()})},this.removeArrayElement=e=>{this.props.onChange({item:x(this.props.item).del(T(e)).freeze()})},this.moveArrayElementDown=e=>{const i=e[e.length-1]+1,a=e.slice(0,-1).concat(i),p=x(this.props.item).get(T(e)),c=x(this.props.item).get(T(a));this.props.onChange({item:x(this.props.item).set(T(e),c).set(T(a),p).freeze()})},this.moveArrayElementUp=e=>{const t=e[e.length-1],i=e.slice(0,-1).concat(t-1);this.moveArrayElementDown(i)},this._renderEdit=()=>{const e={...I.defaults,...this.props.apiOptions},{item:t}=this.props,i=this.props.Layout.shape;return r("div",{className:"perseus-multirenderer-editor",children:[s(We,{currentMode:this.props.editorMode,onChange:a=>this.props.onChange({editorMode:a})}),s(tr,{item:t,shape:i,apiOptions:e,dependencies:{analytics:{onAnalyticsEvent:async()=>{}}},children:({renderers:a})=>s(Ut,{shape:i,data:ni(t),path:[],actions:this,apiOptions:e,renderers:a})})]})},this.score=()=>{if(this.layout)return this.layout.score()},this.getSerializedState=()=>{if(this.layout)return this.layout.getSerializedState()},this.restoreSerializedState=e=>{this.layout&&this.layout.restoreSerializedState(e)},this._renderContent=()=>{switch(this.props.editorMode){case"json":return this._renderJson();case"preview":return this._renderPreview();case"edit":return this._renderEdit();default:return s(We,{currentMode:this.props.editorMode,onChange:e=>this.props.onChange({editorMode:e})})}}}render(){return s("div",{id:"perseus",children:this._renderContent()})}}const u=d.StyleSheet.create({container:{},editor:{width:"100%"},treePreview:{position:"relative"},verticalFlip:{transform:"scaleY(-1)"},control:{marginLeft:12},containerHeader:{alignItems:"flex-end",display:"flex",flexDirection:"row"},previewCollectionHeader:{marginBottom:16},containerTitle:{flexGrow:1,margin:0},contentIndent:{marginLeft:8},hintEditor:{paddingBottom:0},arrayElement:{marginBottom:16},arrayElementAndNotLeaf:{borderBottom:"1px solid #ccc",":first-child":{borderTop:"1px solid #ccc",paddingTop:16}},objectElement:{marginBottom:16},tagsEditor:{border:"1px solid #ddd",padding:"5px 10px"},row:{display:"flex",position:"relative"},columnLeft:{width:360,marginRight:30,position:"relative"},columnRight:{flex:1,marginLeft:30,position:"relative"},sticky:{position:"sticky",top:33},rowHeading:{position:"sticky",backgroundColor:"white",width:"100%",zIndex:101,top:-1}});try{is.displayName="MultiRendererEditor",is.__docgenInfo={description:"",displayName:"MultiRendererEditor",props:{Layout:{defaultValue:null,description:"",name:"Layout",required:!0,type:{name:"ComponentType<any> & LayoutStatics"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}},editorMode:{defaultValue:null,description:"",name:"editorMode",required:!0,type:{name:"enum",value:[{value:'"json"'},{value:'"edit"'},{value:'"preview"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}}}}}catch{}qt({displayName:"StatefulArticleEditor",getInitialState:function(){return l({}).extend(this.props,{mode:"edit",onChange:this.handleChange,ref:"editor",screen:"phone"})},componentDidMount:function(){this._isMounted=!0},UNSAFE_componentWillReceiveProps:function(n){this.setState(l(n).omit("onChange","ref"))},componentWillUnmount:function(){this._isMounted=!1},getSaveWarnings:function(){return this.refs.editor.getSaveWarnings()},serialize:function(){return this.refs.editor.serialize()},handleChange:function(n,e){this._isMounted&&this.setState(n,e)},scorePreview:function(){return this.refs.editor.scorePreview()},render:function(){const{mode:n,screen:e}=this.state;return r("div",{children:[r("div",{style:C.controlBar,children:[r("span",{style:C.controls,children:["Mode:"," ",s("span",{onClick:()=>this.setState({mode:"edit"}),style:n==="edit"?C.controlSelected:C.control,children:"EDIT"})," | ",s("span",{onClick:()=>this.setState({mode:"preview"}),style:n==="preview"?C.controlSelected:C.control,children:"PREVIEW"})," | ",s("span",{onClick:()=>this.setState({mode:"json"}),style:n==="json"?C.controlSelected:C.control,children:"JSON"})]}),r("span",{style:C.controls,children:["Screen:"," ",s("span",{onClick:()=>this.setState({screen:"phone"}),style:e==="phone"?C.controlSelected:C.control,children:"PHONE"})," | ",s("span",{onClick:()=>this.setState({screen:"tablet"}),style:e==="tablet"?C.controlSelected:C.control,children:"TABLET"})," | ",s("span",{onClick:()=>this.setState({screen:"desktop"}),style:e==="desktop"?C.controlSelected:C.control,children:"DESKTOP"})]})]}),s("div",{style:C.editor,children:s(St,{...this.state})})]})}});const C={controlBar:{marginBottom:25,marginTop:5},controls:{marginRight:10},controlSelected:{cursor:"default",fontWeight:700},control:{cursor:"pointer"},editor:{marginTop:-20}};qt({displayName:"StatefulEditorPage",propTypes:{componentClass:o.func},getDefaultProps:function(){return{componentClass:me}},render:function(){const n=this.props.componentClass;return s(n,{...this.state})},getInitialState:function(){return l({}).extend(l.omit(this.props,"componentClass"),{onChange:this.handleChange,ref:"editor"})},componentDidMount:function(){this._isMounted=!0},componentWillUnmount:function(){this._isMounted=!1},UNSAFE_componentWillReceiveProps:function(n){this.setState(l(n).pick("apiOptions","imageUploader","developerMode","problemNum","previewDevice","frameSource"))},getSaveWarnings:function(){return this.refs.editor.getSaveWarnings()},serialize:function(){return this.refs.editor.serialize()},handleChange:function(n,e){this._isMounted&&this.setState(n,e)},scorePreview:function(){return this.refs.editor.scorePreview()}});const{InfoTip:rs,PropCheckBox:ns}=y,as=400,os=400;var V;let cr=(V=class extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.serialize=()=>w.serialize.call(this)}render(){return r("fieldset",{className:"pair-editor",children:[r("label",{children:["Name:"," ",s(S,{value:this.props.name,onChange:this.change("name")})]}),r("label",{children:[" ","Value:"," ",s(S,{value:this.props.value,onChange:this.change("value")})]})]})}},V.propTypes={...f,name:o.string,value:o.string},V.defaultProps={name:"",value:""},V);var De;let dr=(De=class extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.handlePairChange=(e,t)=>{const i=this.props.pairs.slice();i[e]=t;const a=i[i.length-1];a.name&&a.value&&i.push({name:"",value:""}),this.change("pairs",i)},this.serialize=()=>w.serialize.call(this)}render(){const e=l.map(this.props.pairs,(t,i)=>s(cr,{name:t.name,value:t.value,onChange:this.handlePairChange.bind(this,i)},i));return s("div",{children:e})}},De.propTypes={...f,pairs:o.arrayOf(o.shape({name:o.string,value:o.string})).isRequired},De);const ur=/khanacademy\.org\/computer-programming\/[^\/]+\/(\d+)/;function gr(n){const e=ur.exec(n);return e&&(n=e[1]),n}const j=class j extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this._handleSettingsChange=e=>{this.change({settings:e.pairs})},this._handleProgramIDChange=e=>{e=gr(e);const{isDevServer:t,InitialRequestUrl:i}=Ts(),p=`${t?i.origin:"https://www.khanacademy.org"}/api/internal/scratchpads/${e}`;li.getJSON(p).done(c=>{const g=c.userAuthoredContentType;this.change({width:c.width,height:c.height,programID:e,programType:g})}).fail((c,g,v)=>{Is.error("Error retrieving scratchpad info for program ID ",Ct.TransientService,{cause:v,loggedMetadata:{textStatus:g,programID:e}}),this.change({width:as,height:os,programID:e,programType:null})})},this.serialize=()=>w.serialize.call(this)}render(){return r("div",{children:[r("label",{children:["Url or Program ID:"," ",s(S,{value:this.props.programID,onChange:this._handleProgramIDChange})]}),s("br",{}),s(ns,{label:"Show Editor",showEditor:this.props.showEditor,onChange:this.props.onChange}),s(rs,{children:'If you show the editor, you should use the "full-width" alignment to make room for the width of the editor.'}),s("br",{}),s(ns,{label:"Show Buttons",showButtons:this.props.showButtons,onChange:this.props.onChange}),s("br",{}),r("label",{children:["Settings:",s(dr,{name:"settings",pairs:this.props.settings,onChange:this._handleSettingsChange}),r(rs,{children:["Settings that you add here are available to the program as an object returned by ",s("code",{children:"Program.settings()"})]})]})]})}};j.propTypes={...f},j.widgetName="cs-program",j.defaultProps={programID:"",programType:null,settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,width:as,height:os};let fe=j;try{fe.displayName="CSProgramEditor",fe.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",displayName:"CSProgramEditor",props:{}}}catch{}const Kt=class Kt extends h.Component{serialize(){return w.serialize.call(this)}render(){return r("div",{children:[s("p",{children:"This widget has been deprecated and removed"}),s("p",{children:"Learners will see a message and they will not be graded on this part. Please replace this widget with a supported one."})]})}};Kt.widgetName="deprecated-standin";let ye=Kt;try{ye.displayName="DeprecatedStandinEditor",ye.__docgenInfo={description:"",displayName:"DeprecatedStandinEditor",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(options: any) => void"}}}}}catch{}const{Graphie:zs}=y,gt=zs.MovablePoint;var k;let mr=(k=class extends h.Component{constructor(){super(...arguments),this.getUserInput=()=>Ks.getUserInput.call(this),this.change=(...e)=>m.apply(this,e),this.movePoint=e=>{this.change({coord:e})},this._getGridConfig=e=>l.map(e.step,function(t,i){return et.gridDimensionConfig(t,e.range[i],e.box[i],e.gridStep[i])}),this.setupGraphie=(e,t)=>{const i=this._getGridConfig(t);e.graphInit({range:t.range,scale:l.pluck(i,"scale"),axisArrows:"<->",labelFormat:function(a){return"\\small{"+a+"}"},gridStep:t.gridStep,tickStep:l.pluck(i,"tickStep"),labelStep:1,unityLabels:l.pluck(i,"unityLabel")}),e.label([0,t.range[1][1]],t.labels[1],"above")},this.simpleValidate=e=>k.validate(this.getUserInput(),e)}static validate(e,t){return e.coord==null?{type:"invalid",message:null}:pi(e.coord,t.correct)?{type:"points",earned:1,total:1,message:null}:{type:"points",earned:0,total:1,message:null}}render(){return s(zs,{ref:"graphie",box:this.props.graph.box,range:this.props.graph.range,options:this.props.graph,setup:this.setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,children:s(gt,{pointSize:5,coord:this.props.coord||[0,0],constraints:[gt.constraints.snap(),gt.constraints.bound()],onMove:this.movePoint})})}},k.propTypes={...f,apiOptions:I.propTypes,graph:o.object.isRequired,coord:o.arrayOf(o.number)},k.defaultProps={coord:null,graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],valid:!0,backgroundImage:null,markings:"grid",showProtractor:!1}},k);const Us={name:"example-graphie-widget",displayName:"Example Graphie Widget",hidden:!0,widget:mr};try{examplegraphiewidget.displayName="examplegraphiewidget",examplegraphiewidget.__docgenInfo={description:`For this widget to work, we must export it.
We also must import this file in src/all-widgets.js`,displayName:"examplegraphiewidget",props:{}}}catch{}const fr=Us.widget,H=class H extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.handleChange=e=>{e.coord&&this.change({correct:e.coord})},this.serialize=()=>w.serialize.call(this)}render(){return s("div",{children:s(fr,{graph:this.props.graph,coord:this.props.correct,onChange:this.handleChange,apiOptions:this.props.apiOptions})})}};H.propTypes={...f},H.widgetName="example-graphie-widget",H.defaultProps={correct:[4,4],graph:{box:[340,340],labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],valid:!0,backgroundImage:null,markings:"grid",showProtractor:!1}};let ve=H;try{ve.displayName="ExampleGraphieWidgetEditor",ve.__docgenInfo={description:`This is the widget's editor. This is what shows up on the left side
of the screen in the demo page. Only the question writer sees this.`,displayName:"ExampleGraphieWidgetEditor",props:{}}}catch{}const F=class F extends h.Component{constructor(){super(...arguments),this.input=h.createRef(),this.handleAnswerChange=e=>{this.change({correct:e.target.value})},this.change=(...e)=>m.apply(this,e),this.focus=()=>{var e;return(e=this.input.current)==null||e.focus(),!0},this.serialize=()=>w.serialize.call(this)}render(){return s("div",{children:r("label",{children:["Correct answer:",s("input",{value:this.props.correct,onChange:this.handleAnswerChange,ref:this.input})]})})}};F.propTypes={...f},F.widgetName="example-widget",F.defaultProps={correct:""};let we=F;try{we.displayName="ExampleWidgetEditor",we.__docgenInfo={description:`This is the widget's editor. This is what shows up on the left side
of the screen in the demo. Only the question writer sees this.`,displayName:"ExampleWidgetEditor",props:{}}}catch{}const{InlineIcon:ls,TextInput:yr}=y,{iconPlus:vr,iconTrash:wr}=E,W=class W extends h.Component{constructor(){super(...arguments),this.editor=h.createRef(),this.hintEditor=h.createRef(),this.change=(...e)=>m.apply(this,e),this.handleAddHint=()=>{const e={content:""};this.props.onChange({hint:e},()=>{var t;(t=this.hintEditor.current)==null||t.focus()})},this.handleRemoveHint=e=>{this.props.onChange({hint:null})},this.getSaveWarnings=()=>{var e;return(e=this.editor.current)==null?void 0:e.getSaveWarnings()},this.serialize=()=>{var e,t;return{title:this.props.title,...(e=this.editor.current)==null?void 0:e.serialize(),hint:(t=this.hintEditor.current)==null?void 0:t.serialize()}}}render(){return r("div",{className:"perseus-group-editor",children:[s("div",{className:"perseus-widget-row",children:r("label",{className:d.css(mt.title),children:["Title:"," ",s(yr,{value:this.props.title,className:d.css(mt.input),onChange:this.change("title")})]})}),s(b,{ref:this.editor,content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange,warnNoPrompt:!0,warnNoWidgets:!0}),!this.props.hint&&r("button",{type:"button",style:{marginTop:10},className:"add-hint simple-button orange",onClick:this.handleAddHint,children:[s(ls,{...vr})," Add a hint"]}),this.props.hint&&r("div",{className:"perseus-hint-editor",children:[s("div",{className:d.css(mt.hintsTitle),children:"Hint"}),s(b,{ref:this.hintEditor,content:this.props.hint?this.props.hint.content:"",widgets:this.props.hint?this.props.hint.widgets:{},apiOptions:this.props.apiOptions,images:this.props.hint&&this.props.hint.images,widgetEnabled:!0,immutableWidgets:!1,onChange:e=>{this.change("hint",Object.assign({},this.props.hint,e))}}),r("button",{type:"button",className:"remove-hint simple-button orange",onClick:this.handleRemoveHint,children:[s(ls,{...wr})," Remove this hint"]})]})]})}};W.propTypes={...f,title:o.string,content:o.string,widgets:o.object,images:o.object,apiOptions:I.propTypes},W.widgetName="graded-group",W.defaultProps={title:"",content:"",widgets:{},images:{},hint:null};let L=W;const mt=d.StyleSheet.create({title:{fontSize:18,fontWeight:"bold"},input:{fontSize:18},hintsTitle:{marginTop:10,fontSize:"110%",fontWeight:"bold"}});try{L.displayName="GradedGroupEditor",L.__docgenInfo={description:"",displayName:"GradedGroupEditor",props:{}}}catch{}const $=class $ extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.getSaveWarnings=()=>[].concat(...this._editors.map(e=>e?e.getSaveWarnings():[])),this.serialize=()=>({gradedGroups:this.props.gradedGroups}),this.renderGroups=()=>this.props.gradedGroups?this.props.gradedGroups.map((e,t)=>s(L,{ref:i=>this._editors[t]=i,...e,apiOptions:this.props.apiOptions,widgetEnabled:!0,immutableWidgets:!1,onChange:i=>this.change("gradedGroups",Cr(this.props.gradedGroups,t,{...this.props.gradedGroups[t],...i}))},t)):null,this.addGroup=()=>{const e=this.props.gradedGroups||[];this.change("gradedGroups",e.concat([L.defaultProps]))}}UNSAFE_componentWillMount(){this._editors=[]}render(){return r("div",{className:"perseus-group-editor",children:[this.renderGroups(),s("button",{onClick:this.addGroup,children:"Add group"})]})}};$.propTypes={...f,apiOptions:I.propTypes,gradedGroups:o.array,onChange:o.func.isRequired},$.widgetName="graded-group-set",$.defaultProps={gradedGroups:[]};let Ce=$;const Cr=(n,e,t)=>[...n.slice(0,e),t,...n.slice(e+1)];try{Ce.displayName="GradedGroupSetEditor",Ce.__docgenInfo={description:"",displayName:"GradedGroupSetEditor",props:{}}}catch{}const{InfoTip:br,MultiButtonGroup:_r}=y,{containerSizeClass:Nr,getInteractiveBoxFromSizeClass:xr}=ai,Sr=Js.widget,{DEFAULT_GRAPHER_PROPS:ft,allTypes:Tr,chooseType:Ir,defaultPlotProps:Pr,getEquationString:kr,typeToButton:Ar}=Ys,B=class B extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.handleAvailableTypesChange=e=>{let t=this.props.correct;if(!l.contains(e,this.props.correct.type)){const i=this.props.graph,a=Ir(e);t=Pr(a,i)}this.props.onChange({availableTypes:e,correct:t})},this.serialize=()=>l.chain(this.props).pick("correct","availableTypes").extend({graph:l.omit(this.props.graph,"box")}).value()}render(){const e=Nr.SMALL;let t,i;if(this.props.graph.valid===!0){const a={graph:this.props.graph,plot:this.props.correct,availableTypes:this.props.availableTypes,onChange:(p,c)=>{var v;let g=this.props.correct;g.type===((v=p.plot)==null?void 0:v.type)?g=l.extend({},g,p.plot):g=p.plot,this.props.onChange({correct:g},c)},trackInteraction:function(){}};i=s(Sr,{...a,apiOptions:this.props.apiOptions,containerSizeClass:e}),t=kr(a)}else i=s("div",{className:"perseus-error",children:this.props.graph.valid});return r("div",{children:[r("div",{children:["Correct answer"," ",s(br,{children:s("p",{children:"Graph the correct answer in the graph below and ensure the equation or point coordinates displayed represent the correct answer."})})," ",": ",t]}),s(vi,{editableSettings:["graph","snap","image"],box:xr(e),range:this.props.graph.range,labels:this.props.graph.labels,step:this.props.graph.step,gridStep:this.props.graph.gridStep,snapStep:this.props.graph.snapStep,valid:this.props.graph.valid,backgroundImage:this.props.graph.backgroundImage,markings:this.props.graph.markings,rulerLabel:this.props.graph.rulerLabel,rulerTicks:this.props.graph.rulerTicks,showTooltips:this.props.graph.showTooltips,onChange:this.change("graph")}),r("div",{className:"perseus-widget-row",children:[s("label",{children:"Available functions: "}),s(_r,{allowEmpty:!1,values:this.props.availableTypes,buttons:l.map(Tr,Ar),onChange:this.handleAvailableTypesChange})]}),i]})}};B.propTypes={...f},B.widgetName="grapher",B.defaultProps={correct:ft.plot,graph:ft.graph,availableTypes:ft.availableTypes};let be=B;try{be.displayName="GrapherEditor",be.__docgenInfo={description:"",displayName:"GrapherEditor",props:{}}}catch{}const G=class G extends h.Component{constructor(){super(...arguments),this.editor=h.createRef(),this._renderMetadataEditor=()=>{const e=this.props.apiOptions.GroupMetadataEditor;return s(e,{value:this.props.metadata,onChange:this.change("metadata")})},this.change=(...e)=>m.apply(this,e),this.getSaveWarnings=()=>{var e;return(e=this.editor.current)==null?void 0:e.getSaveWarnings()},this.serialize=()=>{var e;return l.extend({},(e=this.editor.current)==null?void 0:e.serialize(),{metadata:this.props.metadata})}}render(){return r("div",{className:"perseus-group-editor",children:[s("div",{children:this._renderMetadataEditor()}),s(b,{ref:this.editor,content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange})]})}};G.propTypes={...f,content:o.string,widgets:o.object,images:o.object,metadata:o.any,apiOptions:I.propTypes},G.widgetName="group",G.defaultProps={content:"",widgets:{},images:{},metadata:void 0};let _e=G;try{_e.displayName="GroupEditor",_e.__docgenInfo={description:"",displayName:"GroupEditor",props:{}}}catch{}const{PropCheckBox:ps}=y,ot=class ot extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.serialize=()=>w.serialize.call(this)}render(){return r("fieldset",{children:[r("label",{children:["Name:",s(S,{value:this.props.name,onChange:this.change("name")})]}),r("label",{children:["Value:",s(S,{value:this.props.value,onChange:this.change("value")})]})]})}};ot.propTypes={...f,name:o.string,value:o.string},ot.defaultProps={name:"",value:""};let Pt=ot;const Jt=class Jt extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.handlePairChange=(e,t)=>{const i=this.props.pairs.slice();i[e]=t;const a=i[i.length-1];a.name&&a.value&&i.push({name:"",value:""}),this.change("pairs",i)},this.serialize=()=>w.serialize.call(this)}render(){const e=l.map(this.props.pairs,(t,i)=>s(Pt,{name:t.name,value:t.value,onChange:this.handlePairChange.bind(this,i)},i));return s("div",{children:e})}};Jt.propTypes={...f,pairs:o.arrayOf(o.shape({name:o.string,value:o.string})).isRequired};let kt=Jt;const K=class K extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.handleSettingsChange=e=>{this.change({settings:e.pairs})},this.serialize=()=>w.serialize.call(this)}render(){return r("div",{children:[r("div",{style:{fontWeight:"bold",textAlign:"center"},children:["This widget is deprecated! ",s("br",{}),"Try using the Video or CS Program widgets instead."]}),r("label",{children:["Url or Program ID:",s(S,{value:this.props.url,onChange:this.change("url")})]}),s("br",{}),r("label",{children:["Settings:",s(kt,{name:"settings",pairs:this.props.settings,onChange:this.handleSettingsChange})]}),s("br",{}),r("label",{children:["Width:",s(S,{value:this.props.width,onChange:this.change("width")})]}),r("label",{children:["Height:",s(S,{value:this.props.height,onChange:this.change("height")})]}),s(ps,{label:"Allow full screen",allowFullScreen:this.props.allowFullScreen,onChange:this.props.onChange}),s("br",{}),s(ps,{label:"Allow iframe content to redirect the page",allowTopNavigation:this.props.allowTopNavigation,onChange:this.props.onChange})]})}};K.propTypes={...f},K.widgetName="iframe",K.defaultProps={url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1,allowTopNavigation:!1};let Ne=K;try{Ne.displayName="IframeEditor",Ne.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",displayName:"IframeEditor",props:{}}}catch{}const{InfoTip:Or,NumberInput:hs,PropCheckBox:Lr}=y,cs=8,Er=5,Mr={display:"table",tableLayout:"fixed"},Rr={display:"table-row"},Vr={display:"table-cell",padding:Er},qr={borderRadius:10,cursor:"pointer"},At={plus:()=>[[!1,!0,!1],[!0,!0,!0],[!1,!0,!1]],x:()=>[[!0,!1,!0],[!1,!0,!1],[!0,!1,!0]],"plus/x":n=>n%2?At.x():At.plus()},ds=function(n,e,t){return n=Math.floor(n),n=Math.max(n,e),n=Math.min(n,t),n},zr=(n,e)=>l.map(n,(t,i)=>l.map(t,(a,p)=>e(i,p)?!a:a)),Yt=class Yt extends h.Component{constructor(){super(...arguments),this._flip=()=>{this.props.onChange(!this.props.value)}}render(){const e=this.props.value?"#55dd55":"#115511",t=l.extend({},qr,{width:this.props.size,height:this.props.size,backgroundColor:e});return s("div",{style:t,onClick:this._flip})}};Yt.propTypes={value:o.bool.isRequired,size:o.number.isRequired};let Ot=Yt;const Xt=class Xt extends h.Component{render(){return s("div",{style:Mr,className:"no-select",children:l.map(this.props.cells,(e,t)=>s("div",{style:Rr,children:l.map(e,(i,a)=>s("div",{style:Vr,children:s(Ot,{value:i,size:this.props.size,onChange:l.partial(this.props.onChange,t,a)})},a))},t))})}};Xt.propTypes={cells:o.arrayOf(o.arrayOf(o.bool)).isRequired,size:o.number.isRequired};let Lt=Xt;const J=class J extends h.Component{constructor(){super(...arguments),this._height=()=>this.props.startCells.length,this._width=()=>this.props.startCells.length!==0?this.props.startCells[0].length:0,this.change=(...e)=>m.apply(this,e),this._handlePatternChange=e=>{this.change("flipPattern",e.target.value)},this._changeWidth=e=>{e=ds(e,1,cs),this._truncateCells(e,this._height())},this._changeHeight=e=>{e=ds(e,1,cs),this._truncateCells(this._width(),e)},this._truncateCells=(e,t)=>{const i=l.times(t,a=>l.times(e,p=>!!(this.props.startCells[a]&&this.props.startCells[a][p])));this.change({startCells:i})},this._switchTile=(e,t)=>{const i=zr(this.props.startCells,(a,p)=>a===e&&p===t);this.change({startCells:i})},this.serialize=()=>w.serialize.call(this)}render(){return r("div",{children:[r("div",{children:["Width:",s(hs,{value:this._width(),placeholder:5,onChange:this._changeWidth}),", ","Height:",s(hs,{value:this._height(),placeholder:5,onChange:this._changeHeight})]}),r("div",{children:["Flip pattern:",s("select",{value:this.props.flipPattern,onChange:this._handlePatternChange,children:l.map(l.keys(At),(e,t)=>s("option",{value:e,children:e},t))})]}),r("div",{children:["Grade incomplete puzzles as wrong:"," ",s(Lr,{gradeIncompleteAsWrong:this.props.gradeIncompleteAsWrong,onChange:this.props.onChange}),s(Or,{children:"By default, incomplete puzzles are graded as empty."})]}),s("div",{children:"Starting configuration:"}),s("div",{style:{overflowX:"auto"},children:s(Lt,{cells:this.props.startCells,size:50,onChange:this._switchTile})})]})}};J.propTypes={...f,startCells:o.arrayOf(o.arrayOf(o.bool)),flipPattern:o.string.isRequired,gradeIncompleteAsWrong:o.bool.isRequired},J.widgetName="lights-puzzle",J.defaultProps={startCells:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],flipPattern:"plus",gradeIncompleteAsWrong:!1};let xe=J;try{xe.displayName="LightsPuzzleEditor",xe.__docgenInfo={description:"",displayName:"LightsPuzzleEditor",props:{}}}catch{}const{RangeInput:Ur}=y,Dr=Xs.widget,us=6,jr=function(n){const e=[1,1];return l(n).each((t,i)=>{let a=0;l(t).each((p,c)=>{p!=null&&p.toString().length&&(a=c+1)}),e[1]=Math.max(e[1],a),a>0&&(e[0]=Math.max(e[0],i+1))}),e},Y=class Y extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.onMatrixBoardSizeChange=e=>{const t=jr(this.props.answers);if(e[0]!==null&&e[1]!==null){e=[Math.round(Math.min(Math.max(e[0],1),us)),Math.round(Math.min(Math.max(e[1],1),us))];const i=l(Math.min(e[0],t[0])).times(a=>l(Math.min(e[1],t[1])).times(p=>this.props.answers[a][p]));this.props.onChange({matrixBoardSize:e,answers:i})}},this.serialize=()=>w.serialize.call(this)}render(){const e=l.extend({numericInput:!0,onBlur:()=>{},onFocus:()=>{},trackInteraction:()=>{}},this.props);return r("div",{className:"perseus-matrix-editor",children:[r("div",{className:"perseus-widget-row",children:[" ","Max matrix size:"," ",s(Ur,{value:this.props.matrixBoardSize,onChange:this.onMatrixBoardSizeChange,format:this.props.labelStyle,useArrowKeys:!0})]}),s("div",{className:"perseus-widget-row",children:s(Dr,{...e})}),r("div",{className:"perseus-widget-row",children:[" ","Matrix prefix:"," ",s(b,{ref:"prefix",apiOptions:this.props.apiOptions,content:this.props.prefix,widgetEnabled:!1,onChange:t=>{this.change({prefix:t.content})}})]}),r("div",{className:"perseus-widget-row",children:[" ","Matrix suffix:"," ",s(b,{ref:"suffix",apiOptions:this.props.apiOptions,content:this.props.suffix,widgetEnabled:!1,onChange:t=>{this.change({suffix:t.content})}})]})]})}};Y.propTypes={...f,matrixBoardSize:o.arrayOf(o.number).isRequired,answers:o.arrayOf(o.arrayOf(o.number)),prefix:o.string,suffix:o.string,cursorPosition:o.arrayOf(o.number)},Y.widgetName="matrix",Y.defaultProps={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]};let Se=Y;try{Se.displayName="MatrixEditor",Se.__docgenInfo={description:"",displayName:"MatrixEditor",props:{}}}catch{}const{InfoTip:Hr,NumberInput:$e,PropCheckBox:gs,RangeInput:Fr}=y,Wr={url:null,top:0,left:0},X=class X extends h.Component{constructor(){super(...arguments),this.className="perseus-widget-measurer",this.change=(...e)=>m.apply(this,e),this._changeUrl=e=>{this._changeImage("url",e.target.value)},this._changeTop=e=>{this._changeImage("top",e)},this._changeLeft=e=>{this._changeImage("left",e)},this._changeImage=(e,t)=>{const i=l.clone(this.props.image);i[e]=t,this.change("image",i)},this.renderLabelChoices=e=>l.map(e,function(t){const[i,a]=t;return s("option",{value:a,children:i},a)}),this.serialize=()=>w.serialize.call(this)}render(){const e=l.extend({},Wr,this.props.image);return r("div",{className:"perseus-widget-measurer",children:[s("div",{children:"Image displayed under protractor and/or ruler:"}),r("div",{children:["URL:"," ",s("input",{type:"text",className:"perseus-widget-measurer-url",ref:"image-url",defaultValue:e.url,onChange:this._changeUrl}),s(Hr,{children:s("p",{children:'Create an image in graphie, or use the "Add image" function to create a background.'})})]}),e.url&&r("div",{className:"perseus-widget-row",children:[r("label",{className:"perseus-widget-left-col",children:["Pixels from top:"," ",s($e,{placeholder:0,onChange:this._changeTop,value:e.top,useArrowKeys:!0})]}),r("label",{className:"perseus-widget-right-col",children:["Pixels from left:"," ",s($e,{placeholder:0,onChange:this._changeLeft,value:e.left,useArrowKeys:!0})]})]}),r("div",{children:["Containing area [width, height]:"," ",s(Fr,{onChange:this.change("box"),value:this.props.box,useArrowKeys:!0})]}),r("div",{className:"perseus-widget-row",children:[s("div",{className:"perseus-widget-left-col",children:s(gs,{label:"Show ruler",showRuler:this.props.showRuler,onChange:this.props.onChange})}),s("div",{className:"perseus-widget-right-col",children:s(gs,{label:"Show protractor",showProtractor:this.props.showProtractor,onChange:this.props.onChange})})]}),this.props.showRuler&&r("div",{children:[s("div",{children:r("label",{children:[" ","Ruler label:"," ",r("select",{onChange:t=>this.change("rulerLabel",t.target.value),value:this.props.rulerLabel,children:[s("option",{value:"",children:"None"}),s("optgroup",{label:"Metric",children:this.renderLabelChoices([["milimeters","mm"],["centimeters","cm"],["meters","m"],["kilometers","km"]])}),s("optgroup",{label:"Imperial",children:this.renderLabelChoices([["inches","in"],["feet","ft"],["yards","yd"],["miles","mi"]])})]})]})}),s("div",{children:r("label",{children:[" ","Ruler ticks:"," ",s("select",{onChange:t=>this.change("rulerTicks",+t.target.value),value:this.props.rulerTicks,children:l.map([1,2,4,8,10,16],function(t){return s("option",{value:t,children:t},t)})})]})}),s("div",{children:r("label",{children:["Ruler pixels per unit:"," ",s($e,{placeholder:40,onChange:this.change("rulerPixels"),value:this.props.rulerPixels,useArrowKeys:!0})]})}),s("div",{children:r("label",{children:["Ruler length in units:"," ",s($e,{placeholder:10,onChange:this.change("rulerLength"),value:this.props.rulerLength,useArrowKeys:!0})]})})]})]})}};X.widgetName="measurer",X.propTypes={...f,box:o.arrayOf(o.number),image:o.shape({url:o.string,top:o.number,left:o.number}),showProtractor:o.bool,showRuler:o.bool,rulerLabel:o.string,rulerTicks:o.number,rulerPixels:o.number,rulerLength:o.number},X.defaultProps={box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10};let Te=X;try{Te.displayName="MeasurerEditor",Te.__docgenInfo={description:"",displayName:"MeasurerEditor",props:{}}}catch{}const{NumberInput:$r,TextInput:Br}=y,lt=class lt extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.updateMolecule=e=>{this.change({smiles:e})},this.updateRotation=e=>{this.change({rotationAngle:e})},this.serialize=()=>w.serialize.call(this)}render(){return r("div",{children:[s("div",{children:r("label",{children:["SMILES:",s(Br,{onChange:this.updateMolecule,value:this.props.smiles})]})}),s("div",{children:r("label",{children:["Rotation (deg):",s($r,{onChange:this.updateRotation,value:this.props.rotationAngle})]})})]})}};lt.propTypes={...f,rotationAngle:o.number,smiles:o.string},lt.widgetName="molecule-renderer";let Ie=lt;try{Ie.displayName="MoleculeWidgetEditor",Ie.__docgenInfo={description:"",displayName:"MoleculeWidgetEditor",props:{}}}catch{}const{InfoTip:Be,TextListEditor:ms}=y,yt="normal",fs="auto",vt="horizontal",ys="vertical",Z=class Z extends h.Component{constructor(){super(...arguments),this.onOptionsChange=(e,t,i)=>{const a={};a[e]=l.map(t,function(p){return{content:p}}),this.props.onChange(a,i)},this.onLayoutChange=e=>{this.props.onChange({layout:e.target.value})},this.onHeightChange=e=>{this.props.onChange({height:e.target.value})},this.serialize=()=>({options:l.chain(l.pluck(this.props.correctOptions,"content")).union(l.pluck(this.props.otherOptions,"content")).uniq().reject(function(t){return t===""}).sort().sortBy(function(t){return/\d/.test(t)?0:/^\$?[a-zA-Z]+\$?$/.test(t)?2:1}).map(function(t){return{content:t}}).value(),correctOptions:this.props.correctOptions,otherOptions:this.props.otherOptions,height:this.props.height,layout:this.props.layout})}render(){return r("div",{className:"perseus-widget-orderer",children:[r("div",{children:[" ","Correct answer:"," ",s(Be,{children:s("p",{children:"Place the cards in the correct order. The same card can be used more than once in the answer but will only be displayed once at the top of a stack of identical cards."})})]}),s(ms,{options:l.pluck(this.props.correctOptions,"content"),onChange:this.onOptionsChange.bind(this,"correctOptions"),layout:this.props.layout}),r("div",{children:[" ","Other cards:"," ",s(Be,{children:s("p",{children:"Create cards that are not part of the answer."})})]}),s(ms,{options:l.pluck(this.props.otherOptions,"content"),onChange:this.onOptionsChange.bind(this,"otherOptions"),layout:this.props.layout}),r("div",{children:[r("label",{children:[" ","Layout:"," ",r("select",{value:this.props.layout,onChange:this.onLayoutChange,children:[s("option",{value:vt,children:"Horizontal"}),s("option",{value:ys,children:"Vertical"})]})]}),s(Be,{children:s("p",{children:"Use the horizontal layout for short text and small images. The vertical layout is best for longer text (e.g. proofs)."})})]}),r("div",{children:[r("label",{children:[" ","Height:"," ",r("select",{value:this.props.height,onChange:this.onHeightChange,children:[s("option",{value:yt,children:"Normal"}),s("option",{value:fs,children:"Automatic"})]})]}),s(Be,{children:s("p",{children:'Use "Normal" for text, "Automatic" for images.'})})]})]})}};Z.propTypes={correctOptions:o.array,otherOptions:o.array,height:o.oneOf([yt,fs]),layout:o.oneOf([vt,ys]),onChange:o.func.isRequired},Z.widgetName="orderer",Z.defaultProps={correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:yt,layout:vt};let Pe=Z;try{Pe.displayName="OrdererEditor",Pe.__docgenInfo={description:"",displayName:"OrdererEditor",props:{}}}catch{}const{InfoTip:vs,PropCheckBox:Gr}=y,Q=class Q extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.serialize=()=>w.serialize.call(this)}render(){const e=s(b,{ref:"passage-editor",apiOptions:this.props.apiOptions,content:this.props.passageText,widgetEnabled:!1,placeholder:"Type passage here...",onChange:i=>{this.change({passageText:i.content})},showWordCount:!0}),t=s(b,{ref:"passage-footnotes-editor",apiOptions:this.props.apiOptions,content:this.props.footnotes,widgetEnabled:!1,placeholder:"Type footnotes here...",onChange:i=>{this.change({footnotes:i.content})}});return r("div",{className:"perseus-widget-passage-editor",children:[s("div",{className:"perseus-widget-row",children:s(Gr,{label:"Show line numbers",labelAlignment:"right",showLineNumbers:this.props.showLineNumbers,onChange:this.props.onChange})}),r("div",{children:["Passage title:",s(vs,{children:s("p",{children:"An optional title that will appear directly above the passage in the same font style. (E.g. Passage 1)"})}),s("div",{children:s("input",{type:"text",defaultValue:this.props.passageTitle,onChange:i=>{this.change({passageTitle:i.target.value})}})})]}),r("div",{children:["Passage Text:",e]}),r("div",{children:["Footnotes:",s(vs,{children:s("p",{children:"To add footnotes, add ^ characters where they belong in the passage. Then, add ^ in the footnotes area to reference the footnotes in the passage."})}),t]})]})}};Q.propTypes={...f,passageTitle:o.string,passageText:o.string,footnotes:o.string,showLineNumbers:o.bool},Q.widgetName="passage",Q.defaultProps={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0};let ke=Q;try{ke.displayName="PassageEditor",ke.__docgenInfo={description:"",displayName:"PassageEditor",props:{}}}catch{}const{InfoTip:Kr,NumberInput:ws,TextInput:Jr}=y,ee=class ee extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.serialize=()=>w.serialize.call(this)}render(){return r("div",{children:[s("div",{children:r("label",{children:["Passage Number: ",s(ws,{value:this.props.passageNumber,onChange:this.change("passageNumber")})]})}),s("div",{children:r("label",{children:["Reference Number: ",s(ws,{value:this.props.referenceNumber,onChange:this.change("referenceNumber")})]})}),s("div",{children:r("label",{children:["Summary Text: ",s(Jr,{value:this.props.summaryText,onChange:this.change("summaryText")}),r(Kr,{children:[s("p",{children:"Short summary of the referenced section. This will be included in parentheses and quotes automatically."}),s("p",{children:"Ex: The start ... the end"})]})]})})]})}};ee.propTypes={...f,passageNumber:o.number,referenceNumber:o.number,summaryText:o.string},ee.widgetName="passage-ref",ee.defaultProps={passageNumber:1,referenceNumber:1,summaryText:""};let Ae=ee;try{Ae.displayName="PassageRefEditor",Ae.__docgenInfo={description:"",displayName:"PassageRefEditor",props:{}}}catch{}const te=class te extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.handleContentChange=e=>{this.change({content:e.target.value})},this.serialize=()=>w.serialize.call(this)}render(){return r("div",{children:["Content:",s("input",{type:"text",value:this.props.content,onChange:this.handleContentChange})]})}};te.propTypes={...f,content:o.string},te.widgetName="passage-ref-target",te.defaultProps={content:""};let Oe=te;try{Oe.displayName="PassageRefTargetEditor",Oe.__docgenInfo={description:"",displayName:"PassageRefTargetEditor",props:{}}}catch{}const{InfoTip:U,NumberInput:Cs,RangeInput:Yr,TextListEditor:Xr}=y,Zr=Zs.widget,Et="starting",Mt="correct",Qr=[Et,Mt];function bs(n,e,t){const i=l.clone(n);i.length=e;for(let a=n.length;a<e;a++)i[a]=t;return i}const Ge={scaleY:1,maxY:10,snapsPerLine:2},_s=n=>"$"+oi(n,2)+"$",pt=class pt extends h.Component{constructor(){super(...arguments),this.state={editing:this.props.static?Et:Mt,pic:null,loadedUrl:null,minX:null,maxX:null,tickStep:null},this.fetchPic=e=>{if(this.state.loadedUrl!==e){const t=new Image;t.src=e,t.onload=()=>{this.setState({pic:t,loadedUrl:e})}}},this.handleChangeTickStep=e=>{this.setState({tickStep:e})},this.handleChangeRange=e=>{this.setState({minX:e[0],maxX:e[1]})},this.changeLabelInterval=e=>{this.props.onChange({labelInterval:e})},this.handlePlotterChange=e=>{const t={};t[this.state.editing]=e.values,this.props.onChange(t)},this.changeType=e=>{let t;if(e==="histogram"?(t=[_s(0)].concat(this.props.categories),this.props.onChange({type:e,categories:t})):this.props.type==="histogram"?(t=this.props.categories.slice(1),this.props.onChange({type:e,categories:t})):this.props.onChange({type:e}),t){const i=Xe.findDOMNode(this.refs.categories);i.value=t.join(", ")}},this.changeLabel=(e,t)=>{const i=l.clone(this.props.labels);i[e]=t.target.value,this.props.onChange({labels:i})},this.changePicUrl=e=>{const t=et.getRealImageUrl(e);this.props.onChange({picUrl:t})},this.changeCategories=e=>{let t=e.length;this.props.type==="histogram"&&t--;const i=this.props.scaleY;this.props.onChange({categories:e,correct:bs(this.props.correct,t,i),starting:bs(this.props.starting,t,i)})},this.changeScale=e=>{const t=this.props.scaleY,i=+e.target.value||Ge.scaleY,a=function(c){return c*i/t},p=a(this.props.maxY);this.props.onChange({scaleY:i,maxY:p,correct:l.map(this.props.correct,a),starting:l.map(this.props.starting,a)}),Xe.findDOMNode(this.refs.maxY).value=p},this.changeMax=e=>{this.props.onChange({maxY:+e.target.value||Ge.maxY})},this.changeSnaps=e=>{this.props.onChange({snapsPerLine:+e.target.value||Ge.snapsPerLine})},this.changeEditing=e=>{this.setState({editing:e})},this.setCategoriesFromScale=()=>{const e=this.state.tickStep||1,t=this.state.minX||0,i=this.state.maxX||0,a=Math.floor((i-t)/e)*e;let p;this.props.type==="histogram"||this.props.type==="dotplot"?p=l.range(0,a+e,e):p=l.range(e,a+e,e),p=l.map(p,g=>g+t),p=l.map(p,_s),this.changeCategories(p);const c=Xe.findDOMNode(this.refs.categories);c.value=p.join(", ")},this.serialize=()=>{const e=l.pick(this.props,"correct","starting","type","labels","categories","scaleY","maxY","snapsPerLine","labelInterval");return this.props.type==="pic"&&(e.picUrl=this.props.picUrl),e}}UNSAFE_componentWillMount(){this.fetchPic(this.props.picUrl)}UNSAFE_componentWillReceiveProps(e){this.fetchPic(e.picUrl),e.static&&this.setState({editing:"starting"})}render(){const e=l.contains(["line","histogram","dotplot"],this.props.type),t=!l.contains(["pic","dotplot"],this.props.type),i={trackInteraction:()=>{},...this.props};return r("div",{className:"perseus-widget-plotter-editor",children:[r("div",{children:["Chart type:"," ",Ii.map(a=>r("label",{children:[s("input",{type:"radio",name:"chart-type",checked:this.props.type===a,onChange:l.partial(this.changeType,a)}),a]},a),this)]}),r("div",{children:["Labels:"," ",["x","y"].map((a,p)=>r("label",{children:[a+":",s("input",{type:"text",onChange:l.partial(this.changeLabel,p),defaultValue:this.props.labels[p]})]},a),this)]}),e&&r("div",{className:"set-from-scale-box",children:[s("span",{className:"categories-title",children:"Set Categories From Scale"}),r("div",{children:[r("label",{children:["Tick Step:"," ",s(Cs,{placeholder:1,useArrowKeys:!0,value:this.state.tickStep,onChange:this.handleChangeTickStep})]}),s(U,{children:s("p",{children:"The difference between adjacent ticks."})})]}),s("div",{children:r("label",{children:["Range:"," ",s(Yr,{placeholder:[0,10],useArrowKeys:!0,value:[this.state.minX,this.state.maxX],onChange:this.handleChangeRange})]})}),s("div",{children:r("button",{onClick:this.setCategoriesFromScale,children:["Set Categories"," "]})})]}),r("div",{children:[r("label",{children:["Label Interval:"," ",s(Cs,{useArrowKeys:!0,value:this.props.labelInterval,onChange:this.changeLabelInterval})]}),s(U,{children:s("p",{children:'Which ticks to display the labels for. For instance, setting this to "4" will only show every 4th label (plus the last one)'})})]}),this.props.type==="pic"&&r("div",{children:[r("label",{children:["Picture:"," ",s(S,{className:"pic-url",value:this.props.picUrl,onChange:this.changePicUrl}),s(U,{children:s("p",{children:'Use the default picture of Earth, or insert the URL for a different picture using the "Add image" function.'})})]}),this.state.pic&&this.state.pic.width!==this.state.pic.height&&r("p",{className:"warning",children:[s("b",{children:"Warning"}),": You are using a picture which is not square. This means the image will get distorted. You should probably crop it to be square."]})]}),s("div",{children:r("label",{children:["Categories:"," ",s(Xr,{ref:"categories",layout:"horizontal",options:this.props.categories,onChange:this.changeCategories})]})}),s("div",{children:r("label",{children:["Scale (y):"," ",s("input",{type:"text",onChange:this.changeScale,defaultValue:this.props.scaleY})]})}),s("div",{children:r("label",{children:["Max y:"," ",s("input",{type:"text",ref:"maxY",onChange:this.changeMax,defaultValue:this.props.maxY})]})}),t&&r("div",{children:[r("label",{children:["Snaps per line:"," ",s("input",{type:"text",onChange:this.changeSnaps,defaultValue:this.props.snapsPerLine})]}),s(U,{children:s("p",{children:"Creates the specified number of divisions between the horizontal lines. Fewer snaps between lines makes the graph easier for the student to create correctly."})})]}),r("div",{children:["Editing values:"," ",Qr.map(a=>r("label",{children:[s("input",{type:"radio",disabled:a===Mt&&this.props.static,checked:this.props.static?a===Et:this.state.editing===a,onChange:p=>this.changeEditing(a)}),a]},a)),r(U,{children:[s("p",{children:"Use this toggle to switch between editing the correct answer (what the student will be graded on) and the starting values (what the student will see plotted when they start the problem). Note: These cannot be the same."}),s("p",{children:"In static mode, the starting values are rendered out to the displayed widget."})]})]}),s(Zr,{...i,starting:this.props[this.state.editing],onChange:this.handlePlotterChange})]})}};pt.widgetName="plotter",pt.defaultProps={...Ge,correct:[1],starting:[1],type:"bar",labels:["",""],categories:[""],picSize:30,picBoxHeight:36,plotDimensions:[275,200],labelInterval:1,get picUrl(){const e=Ts().staticUrl;return e?e("/images/badges/earth-small.png"):null}};let Le=pt;try{Le.displayName="PlotterEditor",Le.__docgenInfo={description:"",displayName:"PlotterEditor",props:{type:{defaultValue:{value:"bar"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"line"'},{value:'"bar"'},{value:'"pic"'},{value:'"histogram"'},{value:'"dotplot"'}]}},labels:{defaultValue:{value:'["", ""]'},description:"",name:"labels",required:!1,type:{name:"string[]"}},categories:{defaultValue:{value:'[""]'},description:"",name:"categories",required:!1,type:{name:"readonly (string | number)[]"}},scaleY:{defaultValue:null,description:"",name:"scaleY",required:!0,type:{name:"number"}},maxY:{defaultValue:null,description:"",name:"maxY",required:!0,type:{name:"number"}},snapsPerLine:{defaultValue:null,description:"",name:"snapsPerLine",required:!0,type:{name:"number"}},picSize:{defaultValue:{value:"30"},description:"",name:"picSize",required:!1,type:{name:"number"}},picBoxHeight:{defaultValue:{value:"36"},description:"",name:"picBoxHeight",required:!1,type:{name:"number"}},picUrl:{defaultValue:null,description:"",name:"picUrl",required:!0,type:{name:"string"}},plotDimensions:{defaultValue:{value:"[275, 200]"},description:"",name:"plotDimensions",required:!1,type:{name:"readonly number[]"}},labelInterval:{defaultValue:{value:"1"},description:"",name:"labelInterval",required:!1,type:{name:"number"}},starting:{defaultValue:{value:"[1]"},description:"",name:"starting",required:!1,type:{name:"readonly number[]"}},correct:{defaultValue:{value:"[1]"},description:"",name:"correct",required:!1,type:{name:"readonly number[]"}},static:{defaultValue:null,description:"",name:"static",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"any"}}}}}catch{}const{NumberInput:Ns,TextInput:Ke}=y,se=class se extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.updateMolecule=e=>(function(t){const i=[...this.props.smiles];i[e]=t,this.change({smiles:i})}).bind(this),this.updateRotation=e=>(function(t){const i=[...this.props.rotationAngle];i[e]=t,this.change({rotationAngle:i})}).bind(this),this.updateSeparators=(e,t)=>i=>{const a=this.props.separators.map(p=>({...p}));a[e][t]=i,this.change({separators:a})},this.serialize=()=>w.serialize.call(this)}render(){return r("div",{children:[s("div",{children:r("label",{children:["LHS SMILES:",s(Ke,{onChange:this.updateMolecule(0),value:this.props.smiles[0]})]})}),s("div",{children:r("label",{children:["LHS Rotation (deg):",s(Ns,{onChange:this.updateRotation(0),value:this.props.rotationAngle[0]})]})}),s("div",{children:r("label",{children:["RHS SMILES:",s(Ke,{onChange:this.updateMolecule(1),value:this.props.smiles[1]})]})}),s("div",{children:r("label",{children:["RHS Rotation (deg):",s(Ns,{onChange:this.updateRotation(1),value:this.props.rotationAngle[1]})]})}),s("div",{children:r("label",{children:["Top of arrow text:",s(Ke,{onChange:this.updateSeparators(0,"topText"),value:this.props.separators[0].topText})]})}),s("div",{children:r("label",{children:["Bottom of arrow text:",s(Ke,{onChange:this.updateSeparators(0,"bottomText"),value:this.props.separators[0].bottomText})]})})]})}};se.propTypes={...f,rotationAngle:o.arrayOf(o.number),separators:o.arrayOf(o.object),smiles:o.arrayOf(o.string)},se.widgetName="reaction-diagram",se.defaultProps={smiles:["",""],rotationAngle:[0,0],separators:[{type:"right",topText:"",bottomText:""}]};let Ee=se;try{Ee.displayName="ReactionDiagramWidgetEditor",Ee.__docgenInfo={description:"",displayName:"ReactionDiagramWidgetEditor",props:{}}}catch{}const{InlineIcon:en}=y,{iconCircleArrowDown:tn,iconCircleArrowUp:sn,iconPlus:rn,iconTrash:nn}=E;class Je extends h.Component{render(){return s("a",{href:"#",className:"step-control-button simple-button simple-button--small orange",onClick:e=>{e.preventDefault(),this.props.onClick()},children:s(en,{...this.props.icon})})}}const ie=class ie extends h.Component{constructor(){super(...arguments),this._handleEditorChange=(e,t)=>{const i=l.clone(this.props.json);i[e]=l.extend({},i[e],t),this.props.onChange({json:i})},this.serialize=()=>({json:l.times(this.props.json.length,e=>this.refs["editor"+e].serialize())}),this._handleMoveStepEarlier=e=>{if(e===0)return;const t=l.clone(this.props.json),i=t[e];t.splice(e,1),t.splice(e-1,0,i),this.props.onChange({json:t})},this._handleMoveStepLater=e=>{const t=l.clone(this.props.json);if(e+1===t.length)return;const i=t[e];t.splice(e,1),t.splice(e+1,0,i),this.props.onChange({json:t})},this._handleAddStepAfter=e=>{const t=l.clone(this.props.json),i=e>=0?{widgets:t[e].widgets}:{};t.splice(e+1,0,i),this.props.onChange({json:t})},this._handleRemoveStep=e=>{const t=l.clone(this.props.json);t.splice(e,1),this.props.onChange({json:t})}}render(){return s("div",{className:"perseus-sequence-editor",children:l.map(this.props.json,(e,t)=>r("div",{children:["Step ",t+1,r("div",{style:{display:"inline-block",float:"right"},children:[t+1<this.props.json.length&&s(Je,{icon:tn,onClick:()=>{this._handleMoveStepLater(t)}}),t>0&&s(Je,{icon:sn,onClick:()=>{this._handleMoveStepEarlier(t)}}),s(Je,{icon:nn,onClick:()=>{const i="Are you sure you want to remove step "+(t+1)+"?";confirm(i)&&this._handleRemoveStep(t)}}),s(Je,{icon:rn,onClick:()=>{this._handleAddStepAfter(t)}})]}),s(b,{ref:"editor"+t,apiOptions:this.props.apiOptions,content:e.content,widgets:e.widgets,images:e.images,widgetEnabled:!0,immutableWidgets:!1,onChange:l.partial(this._handleEditorChange,t)})]},t))})}};ie.propTypes={json:o.arrayOf(o.shape({content:o.string,widgets:o.objectOf(o.any),images:o.objectOf(o.any)})),apiOptions:I.propTypes,onChange:o.func.isRequired},ie.widgetName="sequence",ie.defaultProps={json:[{content:"",widgets:{},images:{}}]};let Me=ie;try{Me.displayName="SequenceEditor",Me.__docgenInfo={description:"",displayName:"SequenceEditor",props:{}}}catch{}class an extends h.Component{constructor(){super(...arguments),this.focus=()=>(this.refs.input.focus(),!0),this.changeValue=e=>{this.props.onChange(e.target.value)}}render(){return s("textarea",{ref:"input",value:this.props.value||"",onChange:this.changeValue})}}const re=class re extends h.Component{constructor(){super(...arguments),this.input=h.createRef(),this.change=(...e)=>m.apply(this,e),this.focus=()=>{var e;return(e=this.input.current)==null||e.focus(),!0},this.serialize=()=>w.serialize.call(this)}render(){return s("div",{children:r("label",{children:[s("div",{children:"Simple markdown contents:"}),s("div",{children:s(an,{value:this.props.value,onChange:this.change("value"),ref:this.input})})]})})}};re.propTypes={...f},re.widgetName="simple-markdown-tester",re.defaultProps={value:""};let Re=re;try{Re.displayName="SimpleMarkdownTesterEditor",Re.__docgenInfo={description:"",displayName:"SimpleMarkdownTesterEditor",props:{}}}catch{}const{InfoTip:wt,NumberInput:on}=y,ln=5e3,ne=class ne extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.handleTargetValueChange=(e,t)=>{this.change(e,t.target.value)},this.serialize=()=>w.serialize.call(this)}render(){return r("div",{className:"perseus-widget-simulator",children:[r("div",{children:[q("X-Axis Label"),":",s("input",{type:"text",className:"graph-settings-axis-label",value:this.props.xAxisLabel,onChange:l.partial(this.handleTargetValueChange,"xAxisLabel")})]}),r("div",{children:[q("Y-Axis Label"),":",s("input",{type:"text",className:"graph-settings-axis-label",value:this.props.yAxisLabel,onChange:l.partial(this.handleTargetValueChange,"yAxisLabel")})]}),r("div",{children:[q('"True Proportion" Label'),":",s("input",{type:"text",className:"graph-settings-axis-label",value:this.props.proportionLabel,onChange:l.partial(this.handleTargetValueChange,"proportionLabel")}),s(wt,{children:s("p",{children:'This text will be displayed next to the box in which the user enters the sample proportion for their simulation. For example, if your question is about surveying for approval ratings, you might want this to say "Sample approval rating".'})})]}),r("div",{children:[q("Proportion or Percentage"),":",r("select",{className:"perseus-widget-dropdown",value:this.props.proportionOrPercentage,onChange:l.partial(this.handleTargetValueChange,"proportionOrPercentage"),children:[s("option",{value:"proportion",children:"Proportion"},"proportion"),s("option",{value:"percentage",children:"Percentage"},"percentage")]}),s(wt,{children:s("p",{children:"Do you want the user to describe their simulation in terms of a proportion or a percentage?"})})]}),r("div",{children:[q("Number of trials"),":",s(on,{value:this.props.numTrials,checkValidity:e=>e>=0&&e<=ln,onChange:this.change("numTrials")}),s(wt,{children:s("p",{children:"This controls the number of trials used in the simulation. For example, if you set this to 50, then the survey will be conducted 50 times. Warning: setting this too high (i.e., greater than 5000 or so) will freeze the page."})})]})]})}};ne.propTypes={...f,xAxisLabel:o.string,yAxisLabel:o.string,numTrials:o.number,proportionLabel:o.string,proportionOrPercentage:o.string},ne.widgetName="simulator",ne.defaultProps={xAxisLabel:"Proportion (%)",yAxisLabel:"Number of times seen",numTrials:100,proportionLabel:"Underlying proportion",proportionOrPercentage:"proportion"};let Ve=ne;try{Ve.displayName="SimulatorEditor",Ve.__docgenInfo={description:"",displayName:"SimulatorEditor",props:{}}}catch{}const{InfoTip:pn,NumberInput:xs}=y,hn=Qs.widget,ae=class ae extends h.Component{constructor(){super(...arguments),this.numberOfColumns=h.createRef(),this.focus=()=>{var e;(e=this.numberOfColumns.current)==null||e.focus()},this.onSizeInput=(e,t)=>{let i=+e||0,a=+t||0;i=Math.min(Math.max(1,i),30),a=Math.min(Math.max(1,a),6);const p=this.props.columns,c=this.props.rows,g=this.props.answers;i<=c?g.length=i:l(i-c).times(function(){g.push(et.stringArrayOfSize(p))});function v(_){a<=p?_.length=a:l(a-p).times(function(){_.push("")})}const N=this.props.headers;v(N),l.each(g,v),this.props.onChange({rows:i,columns:a,answers:g,headers:N})},this.serialize=()=>{const e=l.pick(this.props,"headers","rows","columns");return l.extend({},e,{answers:l.map(this.props.answers,l.clone)})}}render(){const e=l.pick(this.props,"headers","answers","onChange","apiOptions");return l.extend(e,{editableHeaders:!0,Editor:b,onFocus:()=>{},onBlur:()=>{},trackInteraction:()=>{}}),r("div",{children:[s("div",{className:"perseus-widget-row",children:r("label",{children:["Number of columns:"," ",s(xs,{ref:this.numberOfColumns,value:this.props.columns,onChange:t=>{t&&this.onSizeInput(this.props.rows,t)},useArrowKeys:!0})]})}),s("div",{className:"perseus-widget-row",children:r("label",{children:["Number of rows:"," ",s(xs,{ref:"numberOfRows",value:this.props.rows,onChange:t=>{t&&this.onSizeInput(t,this.props.columns)},useArrowKeys:!0})]})}),r("div",{children:[" ","Table of answers:"," ",s(pn,{children:s("p",{children:"The student has to fill out all cells in the table. For partially filled tables create a table using the template, and insert text input boxes as desired."})})]}),s("div",{children:s(hn,{...e})})]})}};ae.propTypes={rows:o.number,columns:o.number,headers:o.arrayOf(o.string),answers:o.arrayOf(o.arrayOf(o.string))},ae.widgetName="table",ae.defaultProps=function(){const i=l(4).times(function(){return et.stringArrayOfSize(1)});return{headers:[""],rows:4,columns:1,answers:i}}();let qe=ae;try{qe.displayName="TableEditor",qe.__docgenInfo={description:"",displayName:"TableEditor",props:{}}}catch{}const{InlineIcon:rt,NumberInput:cn}=y,{iconOk:Ds,iconRemove:js}=E,Ye="all",D="some",Hs=10,dn=function(n,e){return ti(n,e,-Hs,!1)},Ss=function(n){return n.simplify().asMul().partition()[1].flatten().simplify()};class un extends h.Component{constructor(){super(...arguments),this._checkValidity=({name:e,original:t,sigfigs:i})=>{const a=_t(e);let p="",c=!0;if(a.parsed&&t){const g=new Mi("x"),{unit:v}=a,N=new Oi(t,"=",new Li(g,v));try{const _=N.solveLinearEquationForVariable(g);p=dn(_.eval(),i),c=Ei(Ss(t),Ss(v)).equal}catch{c=!1}}else c=!1;this.setState({valid:c,solvedExample:p})}}UNSAFE_componentWillMount(){this._checkValidity(this.props)}UNSAFE_componentWillReceiveProps(e){this._checkValidity(e)}render(){let e;return this.state.valid?e=r("span",{children:[s("span",{className:"unit-example-okay",children:s(rt,{...Ds})}),this.state.solvedExample]}):e=s("span",{className:"unit-example-not-okay",children:s(rt,{...js})}),r("div",{children:[e," ",this.props.name]})}}const oe=class oe extends h.Component{constructor(e){super(e),this.change=(...t)=>m.apply(this,t),this.handleAcceptingUnitsChange=t=>{const i=t.target.value.split(",").map(a=>a.trim()).filter(a=>a!=="");this.change({acceptingUnits:i})},this.handleSigfigChange=t=>{this.change({sigfigs:t})},this._checkSigfigValidity=t=>t>0&&t<=Hs,this._setAccepting=t=>{this.change({accepting:t})},this._doOriginal=t=>{const i=_t(t.value);this.parsed=!1,i.parsed&&i.type==="unitMagnitude"&&(this.original=i.expr,this.parsed=!0)},this.onChange=t=>{this.props.onChange({value:t.target.value})},this.getSaveWarnings=()=>{const{value:t,accepting:i,acceptingUnits:a}=this.props,p=[];return _t(t).parsed||p.push("Answer did not parse"),i===D&&a.length===0&&p.push("There are no accepted units"),p},this.serialize=()=>w.serialize.call(this),this.groupId=l.uniqueId("accepting"),this._doOriginal(e)}UNSAFE_componentWillReceiveProps(e){this._doOriginal(e)}render(){const{acceptingUnits:e=[],accepting:t}=this.props;let i=null;if(t===D){const a=e.map((p,c)=>s(un,{name:p,original:this.original||null,sigfigs:this.props.sigfigs},c));i=r("div",{children:[s("input",{type:"text",defaultValue:e.join(", "),onChange:this.handleAcceptingUnitsChange})," ","(comma-separated)",a]})}return r("div",{className:"unit-editor",children:[r("div",{children:[s("input",{value:this.props.value,className:"unit-editor-canonical",onChange:this.onChange})," ",this.parsed?s("span",{className:"unit-example-okay",children:s(rt,{...Ds})}):s("span",{className:"unit-example-not-okay",children:s(rt,{...js})})]}),r("div",{children:["Significant Figures:"," ",s(cn,{value:this.props.sigfigs,onChange:this.handleSigfigChange,checkValidity:this._checkSigfigValidity,useArrowKeys:!0})]}),r("div",{children:[r("label",{children:[s("input",{type:"radio",name:this.groupId,onChange:()=>this._setAccepting(Ye),checked:this.props.accepting===Ye})," Any equivalent unit "]}),r("label",{children:[s("input",{type:"radio",name:this.groupId,onChange:()=>this._setAccepting(D),checked:this.props.accepting===D})," Only these units "]})]}),i]})}};oe.propTypes={...f,value:o.string,acceptingUnits:o.arrayOf(o.string),accepting:o.oneOf([Ye,D]),sigfigs:o.number},oe.widgetName="unit-input",oe.defaultProps={value:"5x10^5 kg m / s^2",accepting:Ye,sigfigs:3};let ze=oe;try{ze.displayName="UnitInputEditor",ze.__docgenInfo={description:"",displayName:"UnitInputEditor",props:{}}}catch{}const{InfoTip:gn}=y,mn=/khanacademy\.org\/.*\/v\/(.*)$/;function fn(n){const e=mn.exec(n);return e?e[1]:n}const le=class le extends h.Component{constructor(){super(...arguments),this._handleUrlChange=e=>{this.props.onChange({location:fn(e)})},this.change=(...e)=>m.apply(this,e),this.serialize=()=>w.serialize.call(this)}render(){return s("div",{children:r("label",{children:["KA Video Slug:"," ",s(S,{value:this.props.location,style:{width:290},onChange:this._handleUrlChange}),s(gn,{children:"KA video URLs will be converted to just the slug."})]})})}};le.propTypes={...f,location:o.string,onChange:o.func},le.widgetName="video",le.defaultProps={location:""};let Ue=le;try{Ue.displayName="VideoEditor",Ue.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",displayName:"VideoEditor",props:{}}}catch{}const Fs=[ui,fe,gi,mi,ve,we,fi,yi,L,Ce,be,_e,Ne,wi,Ci,bi,_i,Ni,xe,xi,Se,Te,Ie,Si,Ti,Pe,ke,Ae,Oe,Le,Pi,Ee,Me,Re,Ve,Ai,qe,ze,Ue,ki,ye];class yn extends h.Component{constructor(){super(...arguments),this.input=h.createRef(),this.focus=()=>{var e;return(e=this.input.current)==null||e.focus(),!0},this.changeValue=e=>{this.props.onChange(e.target.value)}}render(){return s("input",{ref:this.input,value:this.props.value||"",onChange:this.changeValue})}}const pe=class pe extends h.Component{constructor(){super(...arguments),this.input=h.createRef(),this.change=(...e)=>m.apply(this,e),this.getUserInput=()=>this.props.value,this.focus=()=>{var e;return(e=this.input.current)==null||e.focus(),!0},this.simpleValidate=e=>pe.validate(this.getUserInput(),e)}static validate(e,t){return e===""?{type:"invalid",message:"It looks like you haven't answered all of the question yet."}:e===t.correct?{type:"points",earned:1,total:1,message:null}:{type:"points",earned:0,total:1,message:null}}render(){return s(yn,{ref:this.input,value:this.props.value,onChange:this.change("value")})}};pe.propTypes={...f,value:o.string},pe.defaultProps={value:""};let Rt=pe;const vn={name:"example-widget",displayName:"Example Widget",defaultAlignment:"inline-block",hidden:!0,widget:Rt};try{examplewidget.displayName="examplewidget",examplewidget.__docgenInfo={description:"For this widget to work, we must import this file in src/all-widgets.js",displayName:"examplewidget",props:{}}}catch{}const wn=Ps.parse,Cn=Ps.basicOutput,he=class he extends h.Component{constructor(){super(...arguments),this.change=(...e)=>m.apply(this,e),this.toJSON=()=>({}),this.focus=()=>(this.refs.input.focus(),!0),this.simpleValidate=e=>he.validate(this.toJSON(),e)}static validate(e,t){return{type:"points",earned:0,total:0,message:null}}render(){const e=wn(this.props.value),t=Cn(e);return s("div",{children:t})}};he.propTypes={...f,value:o.string},he.defaultProps={value:""};let Vt=he;const bn={name:"simple-markdown-tester",displayName:"Simple Markdown Tester",hidden:!0,widget:Vt,transform:l.identity};try{simplemarkdowntester.displayName="simplemarkdowntester",simplemarkdowntester.__docgenInfo={description:"For this widget to work, we must import this file in src/all-widgets.js",displayName:"simplemarkdowntester",props:{}}}catch{}const _n=[Us,vn,bn],Ws=[...ei,..._n];ks(Fs);As(Ws);Os("transformer","deprecated-standin");Ls("transformer","deprecated-standin");const Va=()=>{As(Ws),ks(Fs),Os("transformer","deprecated-standin"),Ls("transformer","deprecated-standin")};export{me as E,Va as r};
