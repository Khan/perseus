import{j as s}from"./jsx-runtime-63Ea5SlK.js";import{r as o}from"./index-6oxdNXpR.js";import{_ as n}from"./index-default-4_ZsnO94.js";import{D as Ie,o as Oe,q as Se,r as ze,t as Ae,c as p,p as u,G as Ve,M as Pe,T as Le,w as We}from"./article-renderer-X62oaRAJ.js";import"./phet-simulation--dXVcXc8.js";import{y as Re,z as De,A as Me,B as Ee,C as _e,D as Be,E as $e,F as Ke,G as Ue,H as He,J as Fe,K as Ge,L as Je,M as Ze,N as Xe}from"./core-widget-registry-uiKfW1Am.js";import{L as Ne}from"./svg-image-qrz0lnAf.js";import{A as pe}from"./perseus-api-DO0X8arb.js";import"./server-item-renderer-00QjG8wH.js";import"./hints-renderer-e5Yk3Sr5.js";import{j as Qe,k as Ye,r as es,b as ss,a as ts,c as as}from"./renderer-Fnk1NeV5.js";import"./base-radio-ap_gaQiI.js";import"./button-group-G5CZaedn.js";import"./graph-BDf__ekZ.js";import"./hud-l_qVjidt.js";import"./icon-7RFbyLiL.js";import"./index-ioZjKB__.js";import"./inline-icon-6fh0Wu1y.js";import"./math-input-ULwP0qCH.js";import"./multi-button-group-QUVHbBcE.js";import"./number-input-jkCMcdIp.js";import"./range-input-gQOI2TRi.js";import"./text-input-lFfdB4Pt.js";import"./text-list-editor-ND6Qift6.js";import{g as rs}from"./dependencies-CP7Uh8Kq.js";import"./i18n-context-ixQPsVqr.js";import{g as ns,U as is}from"./util-CFc6mjZH.js";import{$ as os}from"./jquery-5v7aFUvu.js";import"./index-smZ6iCr_.js";import{C as ls}from"./categorizer-editor-x3LG1LO3.js";import{E as ps}from"./perseus-error-l3K_anoI.js";import{c as m}from"./components-fhlCid_0.js";import{E as c}from"./editor-jsonify-gDvb_2sv.js";import{C as x}from"./index-5tV1Z6Un.js";import{P as r}from"./index-IiwcBdIZ.js";import{B as f}from"./blur-input-6j4bgLwx.js";import{D as us}from"./definition-editor-CmWdeH6F.js";import{D as ds}from"./dropdown-editor-97Jv25Q_.js";import{E as hs}from"./explanation-editor-p2evlIHT.js";import{E as cs}from"./expression-editor-6tadZpKg.js";import{i as ms}from"./icon-paths-5JCXzGsq.js";import{l as M}from"./index-awljIyHI.js";import{E as y}from"./editor-k9InENqF.js";import{i as gs}from"./icon-paths-naSxOxXw.js";import{G as fs}from"./graph-settings-V1xem5Gu.js";import{I as ys}from"./image-editor-ZFl5Oo7b.js";import{I as bs}from"./input-number-editor-xSE9bO2J.js";import{I as xs}from"./interaction-editor-rcU6AGbv.js";import{I as vs}from"./interactive-graph-editor-fjYSxGxQ.js";import{L as ws}from"./label-image-editor-cC68O8IM.js";import{M as js}from"./matcher-editor--fgTrQD7.js";import{N as Cs}from"./number-line-editor-A20dgQTj.js";import{N as qs}from"./numeric-input-editor-wlYEvWY2.js";import{P as Ts}from"./phet-simulation-editor-RdnPOT_L.js";import{P as ks}from"./plotter-editor-7Tk7kAwp.js";import{P as Ns}from"./python-program-editor-MPtK6RJH.js";import{R as Is}from"./editor-9FRuJV4N.js";import{S as Os}from"./sorter-editor-xq_01IbE.js";const Ss={DEFAULT_GRAPHER_PROPS:Ie,chooseType:Oe,defaultPlotProps:Se,getEquationString:ze,typeToButton:Ae},ue=class ue extends o.Component{constructor(e){super(e),this.state=this.getInitialState(),this.handleBlur=this.handleBlur.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}getInitialState(){return{currentValue:JSON.stringify(this.props.value,null,4),valid:!0}}UNSAFE_componentWillReceiveProps(e){(!this.state.valid||!n.isEqual(e.value,JSON.parse(this.state.currentValue?this.state.currentValue:"")))&&this.setState(this.getInitialState())}handleKeyDown(e){if(e.key==="Tab"){const t=e.target.selectionStart,a=e.target.value,i=a.substring(0,t),d=a.substring(t,a.length);e.target.value=i+"    "+d,e.target.selectionStart=i.length+4,e.target.selectionEnd=i.length+4,e.preventDefault(),this.handleChange(e)}}handleChange(e){const t=e.target.value;try{let a=JSON.parse(t);n.isString(a)&&(a=JSON.parse(a)),this.setState({currentValue:t,valid:!0},function(){this.props.onChange(a)})}catch{this.setState({currentValue:t,valid:!1})}}handleBlur(e){const t=e.target.value;try{let a=JSON.parse(t);n.isString(a)&&(a=JSON.parse(a)),this.setState({currentValue:JSON.stringify(a,null,4),valid:!0},function(){this.props.onChange(a)})}catch{this.setState({currentValue:JSON.stringify(this.props.value,null,4),valid:!0})}}render(){const e="perseus-json-editor "+(this.state.valid?"valid":"invalid");return s.jsx("textarea",{className:e,value:this.state.currentValue,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur})}};ue.defaultProps={value:{}};let re=ue;re.__docgenInfo={description:"",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleBlur",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null}],props:{multiLine:{required:!0,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"any"},description:"",defaultValue:{value:"{}",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newJson: any) => void",signature:{arguments:[{type:{name:"any"},name:"newJson"}],return:{name:"void"}}},description:""}}};let ge=0;const ne={},ie={};window.iframeDataStore={};window.addEventListener("message",l=>{if(typeof l.data=="string"){const e=ne[l.data];e&&e()}else l.data.id&&(l.data.height!==void 0?ie[l.data.id](l.data.height):l.data.lintWarnings&&Ne.log("LINTER REPORT",{lintWarnings:JSON.stringify(l.data.lintWarnings)}))});class zs extends o.Component{constructor(){super(...arguments),this.container=o.createRef()}componentDidMount(){this._isMounted=!0,this.iframeID=ge,ge++,this._prepareFrame(),ne[this.iframeID]=()=>{this.sendNewData(this._lastData)},ie[this.iframeID]=e=>{this._lastHeight=e,this._isMounted&&this.props.seamless&&this.container.current&&(this.container.current.style.height=e+"px")}}shouldComponentUpdate(e){return e.datasetValue!==this.props.datasetValue||e.seamless!==this.props.seamless}componentDidUpdate(e){this.container.current&&(this.props.seamless?this.container.current.style.height=this._lastHeight+"px":this.container.current.style.height="100%"),e.datasetValue!==this.props.datasetValue&&this._prepareFrame()}componentWillUnmount(){ne[this.iframeID]=null,ie[this.iframeID]=null,this._isMounted=!1}_prepareFrame(){var t,a;this._frame&&((t=this.container.current)==null||t.removeChild(this._frame));const e=document.createElement("iframe");e.style.width="100%",e.style.height="100%",e.src=this.props.url,this.props.datasetKey&&(e.dataset[this.props.datasetKey]=this.props.datasetValue),e.dataset.id=String(this.iframeID),this.props.seamless&&(e.dataset.lintGutter="true"),(a=this.container.current)==null||a.appendChild(e),this._frame=e}sendNewData(e){const t=this._frame;this._isMounted&&e&&(t!=null&&t.contentWindow)&&(this._lastData=e,window.iframeDataStore[this.iframeID]=e,t.contentWindow.postMessage(this.iframeID,"*"))}render(){return s.jsx("div",{ref:this.container,style:{width:"100%",height:"100%"}})}}zs.__docgenInfo={description:"",methods:[{name:"_prepareFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"sendNewData",docblock:null,modifiers:[],params:[{name:"data",optional:!1,type:{name:"any"}}],returns:null}],displayName:"IframeContentRenderer",props:{url:{required:!0,tsType:{name:"string"},description:""},datasetKey:{required:!0,tsType:{name:"string"},description:""},datasetValue:{required:!0,tsType:{name:"any"},description:""},seamless:{required:!0,tsType:{name:"boolean"},description:""}}};const{InfoTip:fe}=m,As=400,Vs=400;var w;let Ps=(w=class extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.serialize=()=>c.serialize.call(this)}render(){return s.jsxs("fieldset",{className:"pair-editor",children:[s.jsxs("label",{children:["Name:"," ",s.jsx(f,{value:this.props.name,onChange:this.change("name")})]}),s.jsxs("label",{children:[" ","Value:"," ",s.jsx(f,{value:this.props.value,onChange:this.change("value")})]})]})}},w.propTypes={...u,name:r.string,value:r.string},w.defaultProps={name:"",value:""},w);var W;let Ls=(W=class extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.handlePairChange=(e,t)=>{const a=this.props.pairs.slice();a[e]=t;const i=a[a.length-1];i.name&&i.value&&a.push({name:"",value:""}),this.change("pairs",a)},this.serialize=()=>c.serialize.call(this)}render(){const e=n.map(this.props.pairs,(t,a)=>s.jsx(Ps,{name:t.name,value:t.value,onChange:this.handlePairChange.bind(this,a)},a));return s.jsx("div",{children:e})}},W.propTypes={...u,pairs:r.arrayOf(r.shape({name:r.string,value:r.string})).isRequired},W);const Ws=/khanacademy\.org\/computer-programming\/[^\/]+\/(\d+)/;function Rs(l){const e=Ws.exec(l);return e&&(l=e[1]),l}const j=class j extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this._handleSettingsChange=e=>{this.change({settings:e.pairs})},this._handleProgramIDChange=e=>{e=Rs(e);const{isDevServer:t,InitialRequestUrl:a}=rs(),d=`${t?a.origin:"https://www.khanacademy.org"}/api/internal/scratchpads/${e}`;os.getJSON(d).done(g=>{const h=g.userAuthoredContentType;this.change({width:g.width,height:g.height,programID:e,programType:h})}).fail((g,h,b)=>{Ne.error("Error retrieving scratchpad info for program ID ",ps.TransientService,{cause:b,loggedMetadata:{textStatus:h,programID:e}}),this.change({width:As,height:Vs,programID:e,programType:null})})},this.serialize=()=>c.serialize.call(this)}render(){return s.jsxs("div",{children:[s.jsxs("label",{children:["Url or Program ID:"," ",s.jsx(f,{value:this.props.programID,onChange:this._handleProgramIDChange})]}),s.jsx("br",{}),s.jsx(x,{label:"Show Editor",checked:this.props.showEditor,onChange:e=>{this.props.onChange({showEditor:e})}}),s.jsx(fe,{children:'If you show the editor, you should use the "full-width" alignment to make room for the width of the editor.'}),s.jsx("br",{}),s.jsx(x,{label:"Show Buttons",checked:this.props.showButtons,onChange:e=>{this.props.onChange({showButtons:e})}}),s.jsx("br",{}),s.jsxs("label",{children:["Settings:",s.jsx(Ls,{name:"settings",pairs:this.props.settings,onChange:this._handleSettingsChange}),s.jsxs(fe,{children:["Settings that you add here are available to the program as an object returned by ",s.jsx("code",{children:"Program.settings()"})]})]})]})}};j.propTypes={...u},j.widgetName="cs-program",j.defaultProps=Re.defaultWidgetOptions;let E=j;E.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"_handleSettingsChange",docblock:null,modifiers:[],params:[{name:"settings",optional:!1,type:null}],returns:null},{name:"_handleProgramIDChange",docblock:null,modifiers:[],params:[{name:"programID",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CSProgramEditor",props:{programID:{defaultValue:{value:'""',computed:!1},required:!1},programType:{defaultValue:{value:"null",computed:!1},required:!1},settings:{defaultValue:{value:'[{name: "", value: ""}]',computed:!1},required:!1},showEditor:{defaultValue:{value:"false",computed:!1},required:!1},showButtons:{defaultValue:{value:"false",computed:!1},required:!1},height:{defaultValue:{value:"400",computed:!1},required:!1}},composes:["@khanacademy/perseus"]};const de=class de extends o.Component{serialize(){return c.serialize.call(this)}render(){return s.jsxs("div",{children:[s.jsx("p",{children:"This widget has been deprecated and removed"}),s.jsx("p",{children:"Learners will see a message and they will not be graded on this part. Please replace this widget with a supported one."})]})}};de.widgetName="deprecated-standin";let _=de;_.__docgenInfo={description:"",methods:[{name:"serialize",docblock:null,modifiers:[],params:[],returns:{type:{name:"any"}}}],displayName:"DeprecatedStandinEditor",props:{onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(options: any) => void",signature:{arguments:[{type:{name:"any"},name:"options"}],return:{name:"void"}}},description:""}}};const{InlineIcon:ye,TextInput:Ds}=m,C=class C extends o.Component{constructor(){super(...arguments),this.editor=o.createRef(),this.hintEditor=o.createRef(),this.change=(...e)=>p.apply(this,e),this.handleAddHint=()=>{const e={content:""};this.props.onChange({hint:e},()=>{var t;(t=this.hintEditor.current)==null||t.focus()})},this.handleRemoveHint=e=>{this.props.onChange({hint:null})},this.getSaveWarnings=()=>{var e;return(e=this.editor.current)==null?void 0:e.getSaveWarnings()},this.serialize=()=>{var e,t;return{title:this.props.title,...(e=this.editor.current)==null?void 0:e.serialize(),hint:(t=this.hintEditor.current)==null?void 0:t.serialize()}}}render(){return s.jsxs("div",{className:"perseus-group-editor",children:[s.jsx("div",{className:"perseus-widget-row",children:s.jsxs("label",{className:M.css(ae.title),children:["Title:"," ",s.jsx(Ds,{value:this.props.title,className:M.css(ae.input),onChange:this.change("title")})]})}),s.jsx(y,{ref:this.editor,content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange,warnNoPrompt:!0,warnNoWidgets:!0}),!this.props.hint&&s.jsxs("button",{type:"button",style:{marginTop:10},className:"add-hint simple-button orange",onClick:this.handleAddHint,children:[s.jsx(ye,{...gs})," Add a hint"]}),this.props.hint&&s.jsxs("div",{className:"perseus-hint-editor",children:[s.jsx("div",{className:M.css(ae.hintsTitle),children:"Hint"}),s.jsx(y,{ref:this.hintEditor,content:this.props.hint?this.props.hint.content:"",widgets:this.props.hint?this.props.hint.widgets:{},apiOptions:this.props.apiOptions,images:this.props.hint&&this.props.hint.images,widgetEnabled:!0,immutableWidgets:!1,onChange:e=>{this.change("hint",Object.assign({},this.props.hint,e))}}),s.jsxs("button",{type:"button",className:"remove-hint simple-button orange",onClick:this.handleRemoveHint,children:[s.jsx(ye,{...ms})," Remove this hint"]})]})]})}};C.propTypes={...u,title:r.string,content:r.string,widgets:r.object,images:r.object,apiOptions:pe.propTypes},C.widgetName="graded-group",C.defaultProps=De.defaultWidgetOptions;let v=C;const ae=M.StyleSheet.create({title:{fontSize:18,fontWeight:"bold"},input:{fontSize:18},hintsTitle:{marginTop:10,fontSize:"110%",fontWeight:"bold"}});v.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleAddHint",docblock:null,modifiers:[],params:[],returns:null},{name:"handleRemoveHint",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GradedGroupEditor",props:{title:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},widgets:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},images:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},hint:{defaultValue:{value:"null",computed:!1},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0}},composes:["@khanacademy/perseus"]};const q=class q extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.getSaveWarnings=()=>[].concat(...this._editors.map(e=>e?e.getSaveWarnings():[])),this.serialize=()=>({gradedGroups:this.props.gradedGroups}),this.renderGroups=()=>this.props.gradedGroups?this.props.gradedGroups.map((e,t)=>s.jsx(v,{ref:a=>this._editors[t]=a,...e,apiOptions:this.props.apiOptions,widgetEnabled:!0,immutableWidgets:!1,onChange:a=>this.change("gradedGroups",Ms(this.props.gradedGroups,t,{...this.props.gradedGroups[t],...a}))},t)):null,this.addGroup=()=>{const e=this.props.gradedGroups||[];this.change("gradedGroups",e.concat([v.defaultProps]))}}UNSAFE_componentWillMount(){this._editors=[]}render(){return s.jsxs("div",{className:"perseus-group-editor",children:[this.renderGroups(),s.jsx("button",{onClick:this.addGroup,children:"Add group"})]})}};q.propTypes={...u,apiOptions:pe.propTypes,gradedGroups:r.array,onChange:r.func.isRequired},q.widgetName="graded-group-set",q.defaultProps=Me.defaultWidgetOptions;let B=q;const Ms=(l,e,t)=>[...l.slice(0,e),t,...l.slice(e+1)];B.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null},{name:"renderGroups",docblock:null,modifiers:[],params:[],returns:null},{name:"addGroup",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GradedGroupSetEditor",props:{gradedGroups:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0},onChange:{description:"",type:{name:"func"},required:!0}},composes:["@khanacademy/perseus"]};const{InfoTip:Es,MultiButtonGroup:_s}=m,Bs=Ve.widget,{chooseType:$s,defaultPlotProps:Ks,getEquationString:Us,typeToButton:Hs}=Ss,T=class T extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.handleAvailableTypesChange=e=>{let t=this.props.correct;if(!n.contains(e,this.props.correct.type)){const a=this.props.graph,i=$s(e);t=Ks(i,a)}this.props.onChange({availableTypes:e,correct:t})},this.serialize=()=>n.chain(this.props).pick("correct","availableTypes").extend({graph:n.omit(this.props.graph,"box")}).value()}render(){const e=Ye.SMALL;let t,a;if(this.props.graph.valid===!0){const i={graph:this.props.graph,plot:this.props.correct,availableTypes:this.props.availableTypes,onChange:(d,g)=>{var b;let h=this.props.correct;h.type===((b=d.plot)==null?void 0:b.type)?h=n.extend({},h,d.plot):h=d.plot,this.props.onChange({correct:h},g)},trackInteraction:function(){}};a=s.jsx(Bs,{...i,apiOptions:this.props.apiOptions,containerSizeClass:e}),t=Us(i)}else a=s.jsx("div",{className:"perseus-error",children:this.props.graph.valid});return s.jsxs("div",{children:[s.jsxs("div",{children:["Correct answer"," ",s.jsx(Es,{children:s.jsx("p",{children:"Graph the correct answer in the graph below and ensure the equation or point coordinates displayed represent the correct answer."})})," ",": ",t]}),s.jsx(fs,{editableSettings:["graph","snap","image"],box:Qe(e),range:this.props.graph.range,labels:this.props.graph.labels,step:this.props.graph.step,gridStep:this.props.graph.gridStep,snapStep:this.props.graph.snapStep,valid:this.props.graph.valid,backgroundImage:this.props.graph.backgroundImage,markings:this.props.graph.markings,rulerLabel:this.props.graph.rulerLabel,rulerTicks:this.props.graph.rulerTicks,showTooltips:this.props.graph.showTooltips,onChange:this.change("graph")}),s.jsxs("div",{className:"perseus-widget-row",children:[s.jsx("label",{children:"Available functions: "}),s.jsx(_s,{allowEmpty:!1,values:this.props.availableTypes,buttons:n.map(_e,Hs),onChange:this.handleAvailableTypesChange})]}),a]})}};T.propTypes={...u},T.widgetName="grapher",T.defaultProps=Ee.defaultWidgetOptions;let $=T;$.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleAvailableTypesChange",docblock:null,modifiers:[],params:[{name:"newAvailableTypes",optional:!1,type:{name:"Array",elements:[{name:"any"}],raw:"Array<any>",alias:"Array"}}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GrapherEditor",props:{graph:{defaultValue:{value:`{
    labels: ["x", "y"],
    range: [
        [-10, 10],
        [-10, 10],
    ],
    step: [1, 1],
    backgroundImage: {
        url: null,
    },
    markings: "graph",
    rulerLabel: "",
    rulerTicks: 10,
    valid: true,
    showTooltips: false,
}`,computed:!1},required:!1},correct:{defaultValue:{value:`{
    type: "linear",
    coords: null,
}`,computed:!1},required:!1},availableTypes:{defaultValue:{value:'["linear"]',computed:!1},required:!1}},composes:["@khanacademy/perseus"]};const k=class k extends o.Component{constructor(){super(...arguments),this.editor=o.createRef(),this._renderMetadataEditor=()=>{const e=this.props.apiOptions.GroupMetadataEditor;return s.jsx(e,{value:this.props.metadata,onChange:this.change("metadata")})},this.change=(...e)=>p.apply(this,e),this.getSaveWarnings=()=>{var e;return(e=this.editor.current)==null?void 0:e.getSaveWarnings()},this.serialize=()=>{var e;return n.extend({},(e=this.editor.current)==null?void 0:e.serialize(),{metadata:this.props.metadata})}}render(){return s.jsxs("div",{className:"perseus-group-editor",children:[s.jsx("div",{children:this._renderMetadataEditor()}),s.jsx(y,{ref:this.editor,content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange})]})}};k.propTypes={...u,content:r.string,widgets:r.object,images:r.object,metadata:r.any,apiOptions:pe.propTypes},k.widgetName="group",k.defaultProps=Be.defaultWidgetOptions;let K=k;K.__docgenInfo={description:"",methods:[{name:"_renderMetadataEditor",docblock:null,modifiers:[],params:[],returns:null},{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"getSaveWarnings",docblock:null,modifiers:[],params:[],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GroupEditor",props:{content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},widgets:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},images:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},metadata:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"any"},required:!1},apiOptions:{description:"",type:{name:"shape",value:{isArticle:{name:"bool",required:!0},onFocusChange:{name:"func",required:!0},GroupMetadataEditor:{name:"func",required:!0},showAlignmentOptions:{name:"bool",required:!0},readOnly:{name:"bool",required:!0},answerableCallback:{name:"func",required:!1},getAnotherHint:{name:"func",required:!1},interactionCallback:{name:"func",required:!1},groupAnnotator:{name:"func",required:!0},imagePlaceholder:{name:"node",required:!1},widgetPlaceholder:{name:"node",required:!1},baseElements:{name:"shape",value:{Link:{name:"func",required:!1}},required:!1},imagePreloader:{name:"func",required:!1},trackInteraction:{name:"func",required:!1},customKeypad:{name:"bool",required:!1},nativeKeypadProxy:{name:"func",required:!1},isMobile:{name:"bool",required:!1},setDrawingAreaAvailable:{name:"func",required:!1},hintProgressColor:{name:"string",required:!1},canScrollPage:{name:"bool",required:!1},crossOutEnabled:{name:"bool",required:!1},editorChangeDelay:{name:"number",required:!1}}},required:!0}},composes:["@khanacademy/perseus"]};const se=class se extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.serialize=()=>c.serialize.call(this)}render(){return s.jsxs("fieldset",{children:[s.jsxs("label",{children:["Name:",s.jsx(f,{value:this.props.name,onChange:this.change("name")})]}),s.jsxs("label",{children:["Value:",s.jsx(f,{value:this.props.value,onChange:this.change("value")})]})]})}};se.propTypes={...u,name:r.string,value:r.string},se.defaultProps={name:"",value:""};let oe=se;const he=class he extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.handlePairChange=(e,t)=>{const a=this.props.pairs.slice();a[e]=t;const i=a[a.length-1];i.name&&i.value&&a.push({name:"",value:""}),this.change("pairs",a)},this.serialize=()=>c.serialize.call(this)}render(){const e=n.map(this.props.pairs,(t,a)=>s.jsx(oe,{name:t.name,value:t.value,onChange:this.handlePairChange.bind(this,a)},a));return s.jsx("div",{children:e})}};he.propTypes={...u,pairs:r.arrayOf(r.shape({name:r.string,value:r.string})).isRequired};let le=he;const N=class N extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.handleSettingsChange=e=>{this.change({settings:e.pairs})},this.serialize=()=>c.serialize.call(this)}render(){return s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"bold",textAlign:"center"},children:["This widget is deprecated! ",s.jsx("br",{}),"Try using the Video or CS Program widgets instead."]}),s.jsxs("label",{children:["Url or Program ID:",s.jsx(f,{value:this.props.url,onChange:this.change("url")})]}),s.jsx("br",{}),s.jsxs("label",{children:["Settings:",s.jsx(le,{name:"settings",pairs:this.props.settings,onChange:this.handleSettingsChange})]}),s.jsx("br",{}),s.jsxs("label",{children:["Width:",s.jsx(f,{value:this.props.width,onChange:this.change("width")})]}),s.jsxs("label",{children:["Height:",s.jsx(f,{value:this.props.height,onChange:this.change("height")})]}),s.jsx(x,{label:"Allow full screen",checked:this.props.allowFullScreen,onChange:e=>{this.props.onChange({allowFullScreen:e})}}),s.jsx("br",{}),s.jsx(x,{label:"Allow iframe content to redirect the page",checked:this.props.allowTopNavigation,onChange:e=>{this.props.onChange({allowTopNavigation:e})}})]})}};N.propTypes={...u},N.widgetName="iframe",N.defaultProps=$e.defaultWidgetOptions;let U=N;U.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleSettingsChange",docblock:null,modifiers:[],params:[{name:"settings",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"IframeEditor",props:{url:{defaultValue:{value:'""',computed:!1},required:!1},settings:{defaultValue:{value:'[{name: "", value: ""}]',computed:!1},required:!1},width:{defaultValue:{value:'"400"',computed:!1},required:!1},height:{defaultValue:{value:'"400"',computed:!1},required:!1},allowFullScreen:{defaultValue:{value:"false",computed:!1},required:!1},allowTopNavigation:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["@khanacademy/perseus"]};const{RangeInput:Fs}=m,Gs=Pe.widget,be=6,I=class I extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.onMatrixBoardSizeChange=e=>{const t=ns(this.props.answers);if(e[0]!==null&&e[1]!==null){e=[Math.round(Math.min(Math.max(e[0],1),be)),Math.round(Math.min(Math.max(e[1],1),be))];const a=n(Math.min(e[0],t[0])).times(i=>n(Math.min(e[1],t[1])).times(d=>this.props.answers[i][d]));this.props.onChange({matrixBoardSize:e,answers:a})}},this.serialize=()=>c.serialize.call(this)}render(){const e=n.extend({numericInput:!0,onBlur:()=>{},onFocus:()=>{},trackInteraction:()=>{}},this.props);return s.jsxs("div",{className:"perseus-matrix-editor",children:[s.jsxs("div",{className:"perseus-widget-row",children:[" ","Max matrix size:"," ",s.jsx(Fs,{value:this.props.matrixBoardSize,onChange:this.onMatrixBoardSizeChange,format:this.props.labelStyle,useArrowKeys:!0})]}),s.jsx("div",{className:"perseus-widget-row",children:s.jsx(Gs,{...e})}),s.jsxs("div",{className:"perseus-widget-row",children:[" ","Matrix prefix:"," ",s.jsx(y,{ref:"prefix",apiOptions:this.props.apiOptions,content:this.props.prefix,widgetEnabled:!1,onChange:t=>{this.change({prefix:t.content})}})]}),s.jsxs("div",{className:"perseus-widget-row",children:[" ","Matrix suffix:"," ",s.jsx(y,{ref:"suffix",apiOptions:this.props.apiOptions,content:this.props.suffix,widgetEnabled:!1,onChange:t=>{this.change({suffix:t.content})}})]})]})}};I.propTypes={...u,matrixBoardSize:r.arrayOf(r.number).isRequired,answers:r.arrayOf(r.arrayOf(r.number)),prefix:r.string,suffix:r.string,cursorPosition:r.arrayOf(r.number)},I.widgetName="matrix",I.defaultProps=Ke.defaultWidgetOptions;let H=I;H.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"onMatrixBoardSizeChange",docblock:null,modifiers:[],params:[{name:"range",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MatrixEditor",props:{matrixBoardSize:{defaultValue:{value:"[3, 3]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},answers:{defaultValue:{value:"[[]]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"arrayOf",value:{name:"number"}}},required:!1},prefix:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},suffix:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},cursorPosition:{defaultValue:{value:"[0, 0]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:Js,NumberInput:R,RangeInput:Zs}=m,Xs={url:null,top:0,left:0},O=class O extends o.Component{constructor(){super(...arguments),this.className="perseus-widget-measurer",this.change=(...e)=>p.apply(this,e),this._changeUrl=e=>{this._changeImage("url",e.target.value)},this._changeTop=e=>{this._changeImage("top",e)},this._changeLeft=e=>{this._changeImage("left",e)},this._changeImage=(e,t)=>{const a=n.clone(this.props.image);a[e]=t,this.change("image",a)},this.renderLabelChoices=e=>n.map(e,function(t){const[a,i]=t;return s.jsx("option",{value:i,children:a},i)}),this.serialize=()=>c.serialize.call(this)}render(){const e=n.extend({},Xs,this.props.image);return s.jsxs("div",{className:"perseus-widget-measurer",children:[s.jsx("div",{children:"Image displayed under protractor and/or ruler:"}),s.jsxs("div",{children:["URL:"," ",s.jsx("input",{type:"text",className:"perseus-widget-measurer-url",ref:"image-url",defaultValue:e.url,onChange:this._changeUrl}),s.jsx(Js,{children:s.jsx("p",{children:'Create an image in graphie, or use the "Add image" function to create a background.'})})]}),e.url&&s.jsxs("div",{className:"perseus-widget-row",children:[s.jsxs("label",{className:"perseus-widget-left-col",children:["Pixels from top:"," ",s.jsx(R,{placeholder:0,onChange:this._changeTop,value:e.top,useArrowKeys:!0})]}),s.jsxs("label",{className:"perseus-widget-right-col",children:["Pixels from left:"," ",s.jsx(R,{placeholder:0,onChange:this._changeLeft,value:e.left,useArrowKeys:!0})]})]}),s.jsxs("div",{children:["Containing area [width, height]:"," ",s.jsx(Zs,{onChange:this.change("box"),value:this.props.box,useArrowKeys:!0})]}),s.jsxs("div",{className:"perseus-widget-row",children:[s.jsx("div",{className:"perseus-widget-left-col",children:s.jsx(x,{label:"Show ruler",checked:this.props.showRuler,onChange:t=>{this.props.onChange({showRuler:t})}})}),s.jsx("div",{className:"perseus-widget-right-col",children:s.jsx(x,{label:"Show protractor",checked:this.props.showProtractor,onChange:t=>{this.props.onChange({showProtractor:t})}})})]}),this.props.showRuler&&s.jsxs("div",{children:[s.jsx("div",{children:s.jsxs("label",{children:[" ","Ruler label:"," ",s.jsxs("select",{onChange:t=>this.change("rulerLabel",t.target.value),value:this.props.rulerLabel,children:[s.jsx("option",{value:"",children:"None"}),s.jsx("optgroup",{label:"Metric",children:this.renderLabelChoices([["milimeters","mm"],["centimeters","cm"],["meters","m"],["kilometers","km"]])}),s.jsx("optgroup",{label:"Imperial",children:this.renderLabelChoices([["inches","in"],["feet","ft"],["yards","yd"],["miles","mi"]])})]})]})}),s.jsx("div",{children:s.jsxs("label",{children:[" ","Ruler ticks:"," ",s.jsx("select",{onChange:t=>this.change("rulerTicks",+t.target.value),value:this.props.rulerTicks,children:n.map([1,2,4,8,10,16],function(t){return s.jsx("option",{value:t,children:t},t)})})]})}),s.jsx("div",{children:s.jsxs("label",{children:["Ruler pixels per unit:"," ",s.jsx(R,{placeholder:40,onChange:this.change("rulerPixels"),value:this.props.rulerPixels,useArrowKeys:!0})]})}),s.jsx("div",{children:s.jsxs("label",{children:["Ruler length in units:"," ",s.jsx(R,{placeholder:10,onChange:this.change("rulerLength"),value:this.props.rulerLength,useArrowKeys:!0})]})})]})]})}};O.widgetName="measurer",O.propTypes={...u,box:r.arrayOf(r.number),image:r.shape({url:r.string,top:r.number,left:r.number}),showProtractor:r.bool,showRuler:r.bool,rulerLabel:r.string,rulerTicks:r.number,rulerPixels:r.number,rulerLength:r.number},O.defaultProps=Ue.defaultWidgetOptions;let F=O;F.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"_changeUrl",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"_changeTop",docblock:null,modifiers:[],params:[{name:"newTop",optional:!1,type:null}],returns:null},{name:"_changeLeft",docblock:null,modifiers:[],params:[{name:"newLeft",optional:!1,type:null}],returns:null},{name:"_changeImage",docblock:null,modifiers:[],params:[{name:"subProp",optional:!1,type:null},{name:"newValue",optional:!1,type:null}],returns:null},{name:"renderLabelChoices",docblock:null,modifiers:[],params:[{name:"choices",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MeasurerEditor",props:{box:{defaultValue:{value:"[480, 480]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"number"}},required:!1},image:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{url:{name:"string",required:!1},top:{name:"number",required:!1},left:{name:"number",required:!1}}},required:!1},showProtractor:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},showRuler:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},rulerLabel:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},rulerTicks:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},rulerPixels:{defaultValue:{value:"40",computed:!1},description:"",type:{name:"number"},required:!1},rulerLength:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1}},composes:["@khanacademy/perseus"]};const{NumberInput:Qs,TextInput:Ys}=m,te=class te extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.updateMolecule=e=>{this.change({smiles:e})},this.updateRotation=e=>{this.change({rotationAngle:e})},this.serialize=()=>c.serialize.call(this)}render(){return s.jsxs("div",{children:[s.jsx("div",{children:s.jsxs("label",{children:["SMILES: ",s.jsx(Ys,{onChange:this.updateMolecule,value:this.props.smiles})]})}),s.jsx("div",{children:s.jsxs("label",{children:["Rotation (deg): ",s.jsx(Qs,{onChange:this.updateRotation,value:this.props.rotationAngle})]})})]})}};te.propTypes={...u,rotationAngle:r.number,smiles:r.string},te.widgetName="molecule-renderer";let G=te;G.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"updateMolecule",docblock:null,modifiers:[],params:[{name:"newValue",optional:!1,type:null}],returns:null},{name:"updateRotation",docblock:null,modifiers:[],params:[{name:"newValue",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MoleculeWidgetEditor",props:{rotationAngle:{description:"",type:{name:"number"},required:!1},smiles:{description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:D,TextListEditor:xe}=m,ve="normal",we="auto",je="horizontal",Ce="vertical",S=class S extends o.Component{constructor(){super(...arguments),this.onOptionsChange=(e,t,a)=>{const i={};i[e]=n.map(t,function(d){return{content:d}}),this.props.onChange(i,a)},this.onLayoutChange=e=>{this.props.onChange({layout:e.target.value})},this.onHeightChange=e=>{this.props.onChange({height:e.target.value})},this.serialize=()=>({options:n.chain(n.pluck(this.props.correctOptions,"content")).union(n.pluck(this.props.otherOptions,"content")).uniq().reject(function(t){return t===""}).sort().sortBy(function(t){return/\d/.test(t)?0:/^\$?[a-zA-Z]+\$?$/.test(t)?2:1}).map(function(t){return{content:t}}).value(),correctOptions:this.props.correctOptions,otherOptions:this.props.otherOptions,height:this.props.height,layout:this.props.layout})}render(){return s.jsxs("div",{className:"perseus-widget-orderer",children:[s.jsxs("div",{children:[" ","Correct answer:"," ",s.jsx(D,{children:s.jsx("p",{children:"Place the cards in the correct order. The same card can be used more than once in the answer but will only be displayed once at the top of a stack of identical cards."})})]}),s.jsx(xe,{options:n.pluck(this.props.correctOptions,"content"),onChange:this.onOptionsChange.bind(this,"correctOptions"),layout:this.props.layout}),s.jsxs("div",{children:[" ","Other cards:"," ",s.jsx(D,{children:s.jsx("p",{children:"Create cards that are not part of the answer."})})]}),s.jsx(xe,{options:n.pluck(this.props.otherOptions,"content"),onChange:this.onOptionsChange.bind(this,"otherOptions"),layout:this.props.layout}),s.jsxs("div",{children:[s.jsxs("label",{children:[" ","Layout:"," ",s.jsxs("select",{value:this.props.layout,onChange:this.onLayoutChange,children:[s.jsx("option",{value:je,children:"Horizontal"}),s.jsx("option",{value:Ce,children:"Vertical"})]})]}),s.jsx(D,{children:s.jsx("p",{children:"Use the horizontal layout for short text and small images. The vertical layout is best for longer text (e.g. proofs)."})})]}),s.jsxs("div",{children:[s.jsxs("label",{children:[" ","Height:"," ",s.jsxs("select",{value:this.props.height,onChange:this.onHeightChange,children:[s.jsx("option",{value:ve,children:"Normal"}),s.jsx("option",{value:we,children:"Automatic"})]})]}),s.jsx(D,{children:s.jsx("p",{children:'Use "Normal" for text, "Automatic" for images.'})})]})]})}};S.propTypes={correctOptions:r.array,otherOptions:r.array,height:r.oneOf([ve,we]),layout:r.oneOf([je,Ce]),onChange:r.func.isRequired},S.widgetName="orderer",S.defaultProps=He.defaultWidgetOptions;let J=S;J.__docgenInfo={description:"",methods:[{name:"onOptionsChange",docblock:null,modifiers:[],params:[{name:"whichOptions",optional:!1,type:null},{name:"options",optional:!1,type:null},{name:"cb",optional:!1,type:null}],returns:null},{name:"onLayoutChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"onHeightChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"OrdererEditor",props:{correctOptions:{defaultValue:{value:'[{content: "$x$"}]',computed:!1},description:"",type:{name:"array"},required:!1},otherOptions:{defaultValue:{value:'[{content: "$y$"}]',computed:!1},description:"",type:{name:"array"},required:!1},height:{defaultValue:{value:'"normal"',computed:!1},description:"",type:{name:"enum",value:[{value:'"normal"',computed:!1},{value:'"auto"',computed:!1}]},required:!1},layout:{defaultValue:{value:'"horizontal"',computed:!1},description:"",type:{name:"enum",value:[{value:'"horizontal"',computed:!1},{value:'"vertical"',computed:!1}]},required:!1},onChange:{description:"",type:{name:"func"},required:!0}}};const{InfoTip:qe}=m,z=class z extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.serialize=()=>c.serialize.call(this)}render(){const e=s.jsx(y,{ref:"passage-editor",apiOptions:this.props.apiOptions,content:this.props.passageText,widgetEnabled:!1,placeholder:"Type passage here...",onChange:a=>{this.change({passageText:a.content})},showWordCount:!0}),t=s.jsx(y,{ref:"passage-footnotes-editor",apiOptions:this.props.apiOptions,content:this.props.footnotes,widgetEnabled:!1,placeholder:"Type footnotes here...",onChange:a=>{this.change({footnotes:a.content})}});return s.jsxs("div",{className:"perseus-widget-passage-editor",children:[s.jsx("div",{className:"perseus-widget-row",children:s.jsx(x,{label:"Show line numbers",checked:this.props.showLineNumbers,onChange:a=>{this.props.onChange({showLineNumbers:a})}})}),s.jsxs("div",{children:["Passage title:",s.jsx(qe,{children:s.jsx("p",{children:"An optional title that will appear directly above the passage in the same font style. (E.g. Passage 1)"})}),s.jsx("div",{children:s.jsx("input",{type:"text",defaultValue:this.props.passageTitle,onChange:a=>{this.change({passageTitle:a.target.value})}})})]}),s.jsxs("div",{children:["Passage Text:",e]}),s.jsxs("div",{children:["Footnotes:",s.jsx(qe,{children:s.jsx("p",{children:"To add footnotes, add ^ characters where they belong in the passage. Then, add ^ in the footnotes area to reference the footnotes in the passage."})}),t]})]})}};z.propTypes={...u,passageTitle:r.string,passageText:r.string,footnotes:r.string,showLineNumbers:r.bool},z.widgetName="passage",z.defaultProps=Fe.defaultWidgetOptions;let Z=z;Z.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageEditor",props:{passageTitle:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},passageText:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},footnotes:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},showLineNumbers:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:et,NumberInput:Te,TextInput:st}=m,A=class A extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.serialize=()=>c.serialize.call(this)}render(){return s.jsxs("div",{children:[s.jsx("div",{children:s.jsxs("label",{children:["Passage Number: ",s.jsx(Te,{value:this.props.passageNumber,onChange:this.change("passageNumber")})]})}),s.jsx("div",{children:s.jsxs("label",{children:["Reference Number: ",s.jsx(Te,{value:this.props.referenceNumber,onChange:this.change("referenceNumber")})]})}),s.jsx("div",{children:s.jsxs("label",{children:["Summary Text: ",s.jsx(st,{value:this.props.summaryText,onChange:this.change("summaryText")}),s.jsxs(et,{children:[s.jsx("p",{children:"Short summary of the referenced section. This will be included in parentheses and quotes automatically."}),s.jsx("p",{children:"Ex: The start ... the end"})]})]})})]})}};A.propTypes={...u,passageNumber:r.number,referenceNumber:r.number,summaryText:r.string},A.widgetName="passage-ref",A.defaultProps=Ge.defaultWidgetOptions;let X=A;X.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageRefEditor",props:{passageNumber:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},referenceNumber:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},summaryText:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};const V=class V extends o.Component{constructor(){super(...arguments),this.change=(...e)=>p.apply(this,e),this.handleContentChange=e=>{this.change({content:e.target.value})},this.serialize=()=>c.serialize.call(this)}render(){return s.jsxs("div",{children:["Content:",s.jsx("input",{type:"text",value:this.props.content,onChange:this.handleContentChange})]})}};V.propTypes={...u,content:r.string},V.widgetName="passage-ref-target",V.defaultProps=Je.defaultWidgetOptions;let Q=V;Q.__docgenInfo={description:"",methods:[{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"handleContentChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PassageRefTargetEditor",props:{content:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1}},composes:["@khanacademy/perseus"]};const{InfoTip:tt,NumberInput:ke}=m,at=Le.widget,P=class P extends o.Component{constructor(){super(...arguments),this.numberOfColumns=o.createRef(),this.focus=()=>{var e;(e=this.numberOfColumns.current)==null||e.focus()},this.onSizeInput=(e,t)=>{let a=+e||0,i=+t||0;a=Math.min(Math.max(1,a),30),i=Math.min(Math.max(1,i),6);const d=this.props.columns,g=this.props.rows,h=this.props.answers;a<=g?h.length=a:n(a-g).times(function(){h.push(is.stringArrayOfSize(d))});function b(me){i<=d?me.length=i:n(i-d).times(function(){me.push("")})}const ce=this.props.headers;b(ce),n.each(h,b),this.props.onChange({rows:a,columns:i,answers:h,headers:ce})},this.serialize=()=>{const e=n.pick(this.props,"headers","rows","columns");return n.extend({},e,{answers:n.map(this.props.answers,n.clone)})}}render(){return s.jsxs("div",{children:[s.jsx("div",{className:"perseus-widget-row",children:s.jsxs("label",{children:["Number of columns:"," ",s.jsx(ke,{ref:this.numberOfColumns,value:this.props.columns,onChange:e=>{e&&this.onSizeInput(this.props.rows,e)},useArrowKeys:!0})]})}),s.jsx("div",{className:"perseus-widget-row",children:s.jsxs("label",{children:["Number of rows:"," ",s.jsx(ke,{ref:"numberOfRows",value:this.props.rows,onChange:e=>{e&&this.onSizeInput(e,this.props.columns)},useArrowKeys:!0})]})}),s.jsxs("div",{children:[" ","Table of answers:"," ",s.jsx(tt,{children:s.jsx("p",{children:"The student has to fill out all cells in the table. For partially filled tables create a table using the template, and insert text input boxes as desired."})})]}),s.jsx("div",{children:s.jsx(at,{headers:this.props.headers,answers:this.props.answers,onChange:this.props.onChange,apiOptions:this.props.apiOptions,editableHeaders:!0,onFocus:()=>{},onBlur:()=>{},trackInteraction:()=>{},Editor:y})})]})}};P.propTypes={rows:r.number,columns:r.number,headers:r.arrayOf(r.string),answers:r.arrayOf(r.arrayOf(r.string))},P.widgetName="table",P.defaultProps=Ze.defaultWidgetOptions;let Y=P;Y.__docgenInfo={description:"",methods:[{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"onSizeInput",docblock:null,modifiers:[],params:[{name:"numRawRows",optional:!1,type:null},{name:"numRawColumns",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"TableEditor",props:{headers:{defaultValue:{value:'[""]',computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},rows:{defaultValue:{value:"4",computed:!1},description:"",type:{name:"number"},required:!1},columns:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1},answers:{defaultValue:{value:`new Array(defaultRows)
.fill(0)
.map(() => new Array(defaultColumns).fill(""))`,computed:!0},description:"",type:{name:"arrayOf",value:{name:"arrayOf",value:{name:"string"}}},required:!1}}};const{InfoTip:rt}=m,nt=/khanacademy\.org\/.*\/v\/(.*)$/;function it(l){const e=nt.exec(l);return e?e[1]:l}const L=class L extends o.Component{constructor(){super(...arguments),this._handleUrlChange=e=>{this.props.onChange({location:it(e)})},this.change=(...e)=>p.apply(this,e),this.serialize=()=>c.serialize.call(this)}render(){return s.jsx("div",{children:s.jsxs("label",{children:["KA Video Slug:"," ",s.jsx(f,{value:this.props.location,style:{width:290},onChange:this._handleUrlChange}),s.jsx(rt,{children:"KA video URLs will be converted to just the slug."})]})})}};L.propTypes={...u,location:r.string,onChange:r.func},L.widgetName="video",L.defaultProps=Xe.defaultWidgetOptions;let ee=L;ee.__docgenInfo={description:"This is the main editor for this widget, to specify all the options.",methods:[{name:"_handleUrlChange",docblock:null,modifiers:[],params:[{name:"url",optional:!1,type:null}],returns:null},{name:"change",docblock:null,modifiers:[],params:[{name:"...args",optional:!1,type:null}],returns:null},{name:"serialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"VideoEditor",props:{location:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},onChange:{description:"",type:{name:"func"},required:!1}},composes:["@khanacademy/perseus"]};const ot=[ls,E,us,ds,hs,cs,v,B,$,K,U,ys,bs,xs,vs,ws,js,H,F,G,Cs,qs,J,Z,X,Q,Ts,ks,Ns,Os,Y,ee,Is,_],ha=()=>{es(We),ss(ot),ts(),as()};export{ot as A,zs as I,re as J,ha as r};
