import{j as o,a as s,F as P}from"./jsx-runtime-FVsy8kgq.js";import{l as x,a as I}from"./article-renderer-XCjgC00D.js";import"./jquery-yG1GhClm.js";import"./util-XR-uqOh-.js";import"./phet-simulation-a-CqgrmB.js";import"./version-akiLXZts.js";import"./dependencies-d8cZibFS.js";import"./perseus-api-Nq3s7IMx.js";import"./perseus-item-2FN1RUVC.js";import"./hints-renderer-UU0vVUtg.js";import"./renderer-4OYUuu_P.js";import"./base-radio-3UxGDgnb.js";import"./button-group-nsoLlHtM.js";import"./graph-LHyvBqdA.js";import"./svg-image-h96M64n1.js";import"./hud-4BOtaFc1.js";import"./icon-R5gZamfG.js";import"./index-uzeeKkRr.js";import"./inline-icon-NjJlm7d0.js";import"./math-input-PhxWhbDZ.js";import"./multi-button-group-atHe8dYZ.js";import"./number-input-jMAfQnHS.js";import"./range-input-S-XQz6ZX.js";import"./text-input-15gEhfDF.js";import"./text-list-editor-Jz35fIN1.js";import"./index-k-0mNqHS.js";import"./i18n-context-H_mTdYuW.js";import"./index-IIMKO4_x.js";import{B as F}from"./choice-Yxd0I4UE.js";import{V as m}from"./index-6h5t6F0w.js";import{S as X,O as G}from"./answer-choices-gUez4E8C.js";import{P as T,C as H,I as y,L as J,a as K}from"./locked-label-settings-ctGUC2a0.js";import{S as h,a as Q}from"./index-qUyqkRvh.js";import{c as f,s as c}from"./index-deFLJwr4.js";import{L as b,a as $}from"./index-h_CiYGGb.js";import{p as A,L as Y}from"./locked-figure-aria-VTcIC63z.js";import{l as z}from"./index-awljIyHI.js";import{C as Z}from"./color-select-wqxJ7FEw.js";import{L as ee}from"./labeled-switch-cE7scoET.js";import{L as oe}from"./line-stroke-select-Exn3x2dD.js";import{g as te,a as ne,b as re}from"./util-YMIqUU7r.js";const ie=""+new URL("arrow-fat-down-X5ut-FGw.svg",import.meta.url).href,ae=""+new URL("arrow-fat-left-LxuHjYfJ.svg",import.meta.url).href,le=""+new URL("arrow-fat-right-CxkbbISx.svg",import.meta.url).href,se=""+new URL("arrow-fat-up-ah2eaaIR.svg",import.meta.url).href,ce=""+new URL("minus-circle-9EKbQa8X.svg",import.meta.url).href,B=u=>{const{color:d,fillStyle:a,strokeStyle:g}=u;return o(m,{"aria-label":`${d}, stroke ${g}, fill ${a}`,style:[_.container,{border:`4px ${g} ${x[d]}`}],children:o(m,{style:[_.innerSquare,{backgroundColor:x[d],opacity:a==="white"?0:I[a]}]})})},_=z.StyleSheet.create({container:{outline:`2px solid ${f.offWhite}`,width:c.large_24,height:c.large_24,backgroundColor:f.white,alignItems:"center",justifyContent:"center"},innerSquare:{width:20,height:20}});B.__docgenInfo={description:"",methods:[],displayName:"PolygonSwatch",props:{color:{required:!0,tsType:{name:"LockedFigureColor"},description:""},fillStyle:{required:!0,tsType:{name:"LockedFigureFillType"},description:""},strokeStyle:{required:!0,tsType:{name:"union",raw:'"solid" | "dashed"',elements:[{name:"literal",value:'"solid"'},{name:"literal",value:'"dashed"'}]},description:""}}};const R=u=>{var v,L;const{flags:d,points:a,color:g,showVertices:q,fillStyle:C,strokeStyle:S,labels:t,ariaLabel:M,expanded:U,onToggle:j,onChangeProps:l,onMove:D,onRemove:V}=u;async function W(){let n="";t&&t.length>0&&(n+=` ${t.map(p=>p.text).join(", ")}`);let e=await ne(`Polygon${n} with ${a.length} sides, vertices at `);e+=a.map(([p,k])=>`(${p}, ${k})`).join(", ");const i=re(g,S,C);return e+=i,e}function O(n){const e={color:n};e.labels=t==null?void 0:t.map(i=>({...i,color:n})),l(e)}function w(n){switch(n){case"up":l({points:a.map(([e,i])=>[e,i+1]),labels:t==null?void 0:t.map(e=>({...e,coord:[e.coord[0],e.coord[1]+1]}))});break;case"down":l({points:a.map(([e,i])=>[e,i-1]),labels:t==null?void 0:t.map(e=>({...e,coord:[e.coord[0],e.coord[1]-1]}))});break;case"left":l({points:a.map(([e,i])=>[e-1,i]),labels:t==null?void 0:t.map(e=>({...e,coord:[e.coord[0]-1,e.coord[1]]}))});break;case"right":l({points:a.map(([e,i])=>[e+1,i]),labels:t==null?void 0:t.map(e=>({...e,coord:[e.coord[0]+1,e.coord[1]]}))});break}}function E(n,e){if(!t)return;const i=[...t];i[e]={...t[e],...n},l({labels:i})}function N(n){if(!t)return;const e=t.filter((i,p)=>p!==n);l({labels:e})}return s(T,{expanded:U,onToggle:j,header:s(m,{style:r.row,children:[o(b,{children:`Polygon, ${a.length} sides`}),o(h,{size:c.xSmall_8}),o(B,{color:g,fillStyle:C,strokeStyle:S})]}),children:[s(m,{style:[r.row,r.spaceUnder],children:[o(Z,{selectedValue:g,onChange:O}),o(h,{size:c.medium_16}),s($,{tag:"label",style:[r.row,r.truncatedWidth],children:["fill",o(h,{size:c.xxSmall_6}),o(X,{selectedValue:C,onChange:n=>l({fillStyle:n}),placeholder:"",children:Object.keys(I).map(n=>o(G,{value:n,label:n},n))})]})]}),o(oe,{selectedValue:S,onChange:n=>l({strokeStyle:n})}),o(ee,{label:"show vertices",checked:q,onChange:n=>l({showVertices:n}),style:r.spaceUnder}),s(T,{header:o(b,{children:"Points"}),expanded:!0,containerStyle:r.pointAccordionContainer,panelStyle:r.pointAccordionPanel,children:[a.map((n,e)=>{const i=String.fromCharCode(65+e);return s(m,{style:[r.row,r.spaceUnder],children:[o(b,{children:`${i}:`}),o(h,{size:c.medium_16}),o(H,{coord:n,labels:["x","y"],onChange:p=>{const k=[...a];k[e]=p,u.onChangeProps({points:k})}}),a.length>3&&o(y,{"aria-label":`Delete polygon point ${i}`,icon:ce,color:"destructive",onClick:()=>{const p=[...a];p.splice(e,1),u.onChangeProps({points:p})},style:r.icon})]},`locked-polygon-point-index-${e}`)}),s(m,{style:[r.row,r.polygonActionsContainer],children:[o(F,{kind:"tertiary",startIcon:A,onClick:()=>{u.onChangeProps({points:[...a,[0,0]]})},children:"Add point"}),o(Q,{}),s(m,{style:r.movementButtonsContainer,children:[o(y,{"aria-label":"Move polygon up",style:r.iconButton,size:"small",icon:se,onClick:()=>w("up")}),s(m,{style:r.row,children:[o(y,{"aria-label":"Move polygon left",style:r.iconButton,size:"small",icon:ae,onClick:()=>w("left")}),o(y,{"aria-label":"Move polygon down",style:r.iconButton,size:"small",icon:ie,onClick:()=>w("down")}),o(y,{"aria-label":"Move polygon right",style:r.iconButton,size:"small",icon:le,onClick:()=>w("right")})]})]})]})]}),((v=d==null?void 0:d.mafs)==null?void 0:v["locked-figures-aria"])&&s(P,{children:[o(h,{size:c.small_12}),o(m,{style:r.horizontalRule}),o(Y,{ariaLabel:M,getPrepopulatedAriaLabel:W,onChangeProps:n=>{l(n)}})]}),((L=d==null?void 0:d.mafs)==null?void 0:L["locked-polygon-labels"])&&s(P,{children:[o(h,{size:c.xxxSmall_4}),o(m,{style:r.horizontalRule}),o(h,{size:c.small_12}),o($,{children:"Visible labels"}),t==null?void 0:t.map((n,e)=>o(J,{...n,expanded:!0,onChangeProps:i=>{E(i,e)},onRemove:()=>{N(e)},containerStyle:r.labelContainer})),o(F,{kind:"tertiary",startIcon:A,onClick:()=>{const n={...te("label"),coord:[a[0][0],a[0][1]-((t==null?void 0:t.length)??0)],color:g};l({labels:[...t??[],n]})},style:r.addButton,children:"Add visible label"})]}),o(K,{figureType:u.type,onMove:D,onRemove:V})]})},r=z.StyleSheet.create({row:{display:"flex",flexDirection:"row",alignItems:"center"},pointAccordionContainer:{backgroundColor:f.white},pointAccordionPanel:{alignItems:"start"},icon:{marginInlineStart:c.xxxSmall_4},polygonActionsContainer:{width:"100%"},iconButton:{margin:0},movementButtonsContainer:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:"fit-content"},spaceUnder:{marginBottom:c.xSmall_8},truncatedWidth:{minWidth:0},addButton:{alignSelf:"start"},labelContainer:{backgroundColor:f.white},horizontalRule:{height:1,backgroundColor:f.offBlack16}}),Qe=R;R.__docgenInfo={description:"",methods:[],displayName:"LockedPolygonSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedPolygonType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedPolygonType"}],raw:"Partial<LockedPolygonType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (coords, color, etc.) are updated."}}};export{Qe as L};
