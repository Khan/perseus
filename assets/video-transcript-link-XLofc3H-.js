import{j as b,a as q}from"./jsx-runtime-FVsy8kgq.js";import{b as R,a as O,_ as i,V as D,T as G}from"./index-6h5t6F0w.js";import{S as H}from"./index-qUyqkRvh.js";import{e as J,_ as A}from"./arrow-square-out-bold-090vdhrx.js";import{r as o}from"./index-TT1qJ6UJ.js";import{c as z,L as M}from"./react-router-dom-W_e8xVUu.js";import{i as Q,g as X}from"./index-o3wWn3Y5.js";import{l as T}from"./index-awljIyHI.js";import{s as K,m as U,f as W,c as B}from"./index-deFLJwr4.js";import{P as Z}from"./index-xuPsLuPk.js";import{u as ee}from"./i18n-context-vLFBfHTg.js";import{g as te}from"./dependencies-8XILypbq.js";const ne=["children","skipClientNav","focused","hovered","href","inline","kind","light","visitable","pressed","style","testId","waiting","target","startIcon","endIcon"],re=R("a"),oe=R(M),$=o.forwardRef(function(t,e){const l=s=>{const{children:u,skipClientNav:n,focused:a,hovered:r,href:p,inline:k=!1,kind:v="primary",light:y=!1,visitable:C=!1,pressed:g,style:x,testId:w,target:S,startIcon:d,endIcon:h}=t,L=O(t,ne),f=se(k,v,y,C),c=k?f.restingInline:f.resting,I=[ie.shared,c,g&&f.active,!g&&r&&f.hover,!g&&a&&f.focus],N=i({"data-testid":w,style:[I,x],target:S},L),F=new URL(p,window.location.origin).origin!==window.location.origin,Y=o.createElement(Z,{icon:J,size:"small",style:[E.endIcon,E.centered],testId:"external-icon"});let P,V;d&&(P=o.cloneElement(d,i({style:[E.startIcon,E.centered],testId:"start-icon","aria-hidden":"true"},d.props))),h&&(V=o.cloneElement(h,i({style:[E.endIcon,E.centered],testId:"end-icon","aria-hidden":"true"},h.props)));const j=o.createElement(o.Fragment,null,d&&P,u,h?V:F&&S==="_blank"&&Y);return s&&!n&&Q(p)?o.createElement(oe,i({},N,{to:p,ref:e}),j):o.createElement(re,i({},N,{href:p,ref:e}),j)};return o.createElement(z.Consumer,null,s=>l(s))}),_={},E=T.StyleSheet.create({startIcon:{marginInlineEnd:K.xxxSmall_4},endIcon:{marginInlineStart:K.xxxSmall_4},centered:{verticalAlign:"-10%"}}),ie=T.StyleSheet.create({shared:{cursor:"pointer",textDecoration:"none",outline:"none",alignItems:"center"}}),se=(m,t,e,l)=>{const s=`${t}-${m.toString()}-${e.toString()}-${l.toString()}`;if(_[s])return _[s];if(t==="secondary"&&e)throw new Error("Secondary Light links are not supported");if(l&&t!=="primary")throw new Error("Only primary link is visitable");const{blue:u,purple:n,white:a,offBlack:r,offBlack32:p,offBlack64:k}=B,v="#fa50ae",y=U(W(r,.08),n),C=B.fadedBlue,g=U(W(a,.32),v),x=B.activeBlue,d=t==="primary"?e?a:u:m?r:k,f=t==="primary"?e?C:x:m?x:r,c=l?{":visited":{color:e?v:y}}:Object.freeze({}),I=l?{":visited":{color:e?g:U(p,y)}}:Object.freeze({}),N={resting:i({color:d},c),restingInline:i({color:d,textDecoration:"underline currentcolor solid",textUnderlineOffset:2},c),hover:i({textDecoration:"underline currentcolor solid",color:d},c),focus:{":focus-visible":i({color:d,outline:`1px solid ${e?a:u}`,borderRadius:3},c)},active:i({color:f,textDecoration:"underline currentcolor solid"},I)};return _[s]=T.StyleSheet.create(N),_[s]},ae=["onClick","beforeNav","safeWithNav","href","skipClientNav","children","tabIndex","onKeyDown","onKeyUp","target","inline","kind","light","visitable"],ce=o.forwardRef(function(t,e){const{onClick:l,beforeNav:s=void 0,safeWithNav:u,href:n,skipClientNav:a,children:r,tabIndex:p,onKeyDown:k,onKeyUp:v,target:y=void 0,inline:C=!1,kind:g="primary",light:x=!1,visitable:w=!1}=t,S=O(t,ae),d=h=>{const L=X(n,a,h);return s?o.createElement(L,{disabled:!1,href:n,role:"link",onClick:l,beforeNav:s,safeWithNav:u,onKeyDown:k,onKeyUp:v},(f,c)=>{let I=i({},(A(c),c));return o.createElement($,i({},S,f,I,{skipClientNav:a,href:n,target:y,tabIndex:p,inline:C,kind:g,light:x,visitable:w,ref:e}),r)}):o.createElement(L,{disabled:!1,href:n,role:"link",onClick:l,safeWithNav:u,target:y,onKeyDown:k,onKeyUp:v},(f,c)=>{let I=i({},(A(c),c));return o.createElement($,i({},S,f,I,{skipClientNav:a,href:n,target:y,tabIndex:p,inline:C,kind:g,light:x,visitable:w,ref:e}),r)})};return o.createElement(z.Consumer,null,h=>d(h))}),le=/^https?:\/\//,de=m=>{const t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,e=m.match(t);return e&&e[7].length===11?e[7]:"videoNotFound"},fe=m=>{var a;const{location:t}=m,{useVideo:e}=te(),[l,s]=le.test(t)?[de(t),"YOUTUBE_ID"]:[t,"READABLE_ID"],u=e(l,s),{strings:n}=ee();switch(u.status){case"loading":return b(D,{children:n.loading});case"success":{const r=(a=u.data)==null?void 0:a.video;return q(D,{style:ue.transcriptLink,children:[b(G,{children:r==null?void 0:r.title}),b(H,{size:10}),b(ce,{href:"/transcript/"+((r==null?void 0:r.contentId)||"videoNotFound"),target:"_blank",className:"visited-no-recolor",children:n.videoTranscript})]})}case"error":return b(D,{children:n.somethingWrong});case"aborted":return b(D,{children:n.somethingWrong});default:return b(D,{children:n.somethingWrong})}},ue=T.StyleSheet.create({transcriptLink:{flexDirection:"row",width:"100%",justifyContent:"center"}});fe.__docgenInfo={description:"Video Transcript Link Component.",methods:[],displayName:"VideoTranscriptLink",props:{location:{required:!0,tsType:{name:"string"},description:""}}};export{ce as L,fe as V};
