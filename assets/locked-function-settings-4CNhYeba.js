import{a as l,j as a,F as $}from"./jsx-runtime-FVsy8kgq.js";import{B as Z}from"./choice-Yxd0I4UE.js";import{V as u}from"./index-6h5t6F0w.js";import{S as B,O as F}from"./answer-choices-uZUVFmYa.js";import{T as P}from"./index-QCAhLhLD.js";import{P as E,L as ee,a as ae,I as R}from"./locked-label-settings-ZE1Aonmw.js";import{S as c}from"./index-qUyqkRvh.js";import{s,c as w}from"./index-deFLJwr4.js";import{L as D,a as C}from"./index-h_CiYGGb.js";import{L as ne,p as te}from"./locked-figure-aria-hRJXFfIC.js";import{l as I}from"./index-awljIyHI.js";import{r as L}from"./index-TT1qJ6UJ.js";import{C as oe}from"./color-select-MNe-OcrB.js";import{L as ie}from"./line-stroke-select-DSnHPdZG.js";import{L as re}from"./line-swatch-tNU9pTdY.js";import{g as le,a as se,b as ce}from"./util-ghDSEvK4.js";const de=""+new URL("copy-oXFFmXIn.svg",import.meta.url).href,pe=""+new URL("note-pencil-qql72tMF.svg",import.meta.url).href,O={linear:["x + 5","1/2x - 2"],polynomial:["1/2x^2 + 3x - 4","(1/3)x^3 - 2x^2 + 3x - 4"],trigonometric:["sin(x) * 3","arctan(2x) + 4"]},W=x=>{var _,A;const{flags:d,color:p,strokeStyle:y,equation:h,directionalAxis:f,domain:o,labels:i,ariaLabel:j,onChangeProps:m,onMove:H,onRemove:V}=x,T=f==="x"?"y=":"x=",G=`Function (${T}${h})`,[k,q]=L.useState([o&&o[0]!==-1/0?o[0].toString():"",o&&o[1]!==1/0?o[1].toString():""]),[b,N]=L.useState("");L.useEffect(()=>{q([o&&o[0]!==-1/0?o[0].toString():"",o&&o[1]!==1/0?o[1].toString():""])},[o]);async function U(){let e="";i&&i.length>0&&(e+=` ${i.map(g=>g.text).join(", ")}`);let t=await se(`Function${e} with equation ${T}${h}`);o&&!(o[0]===-1/0&&o[1]===1/0)&&(t+=`, domain from ${o[0]} to ${o[1]}`);const r=ce(p,y);return t+=r,t}function S(e,t){const r={};r[e]=t,m(r)}function z(e,t){const r=[...k];r[e]=t,q(r);const g=o?[...o]:[-1/0,1/0];let v=parseFloat(t);t===""&&e===0?v=-1/0:t===""&&e===1&&(v=1/0),g[e]=v,m({domain:g})}const X=Object.keys(O),M=b!=="",Y=M?O[b]:["Select category to see example equations"];function J(e){const t={color:e};t.labels=i==null?void 0:i.map(r=>({...r,color:e})),m(t)}function K(e,t){if(!i)return;const r=[...i];r[t]={...i[t],...e},m({labels:r})}function Q(e){if(!i)return;const t=i.filter((r,g)=>g!==e);m({labels:t})}return l(E,{expanded:x.expanded,onToggle:x.onToggle,header:l(u,{style:n.row,children:[a(D,{style:n.accordionHeader,children:G}),a(c,{size:s.xSmall_8}),a(re,{color:p,lineStyle:y})]}),children:[l(u,{style:[n.row,n.spaceUnder],children:[a(oe,{selectedValue:p,onChange:J}),a(c,{size:s.small_12}),a(ie,{selectedValue:y,onChange:e=>{S("strokeStyle",e)}})]}),l(u,{style:[n.row,n.rowSpace],children:[l(B,{selectedValue:f,onChange:e=>{S("directionalAxis",e)},"aria-label":"equation prefix",style:[n.dropdownLabel,n.axisMenu],placeholder:"",children:[a(F,{value:"x",label:"y ="}),a(F,{value:"y",label:"x ="})]}),a(c,{size:s.xSmall_8}),a(P,{type:"text","aria-label":"equation",value:h,onChange:e=>{S("equation",e)},style:[n.textField]})]}),l(u,{style:[n.row,n.rowSpace],children:[l(C,{tag:"label",style:[n.dropdownLabel,n.domainMin],children:["domain min",a(c,{size:s.xxSmall_6}),a(P,{type:"number",style:n.domainMinField,value:k[0],onChange:e=>{z(0,e)}})]}),a(c,{size:s.medium_16}),l(C,{tag:"label","aria-label":"domain max",style:[n.dropdownLabel,n.domainMax],children:["max",a(c,{size:s.xxSmall_6}),a(P,{type:"number",style:n.domainMaxField,value:k[1],onChange:e=>{z(1,e)}})]})]}),l(E,{header:a(D,{children:"Example Functions"}),expanded:!1,containerStyle:n.exampleWorkspace,panelStyle:n.exampleAccordionPanel,children:[l(C,{tag:"label",style:n.dropdownLabel,children:["Choose a category",a(c,{size:s.xxSmall_6}),a(B,{selectedValue:b,onChange:N,placeholder:"examples",children:X.map(e=>a(F,{value:e,label:e},e))})]}),M&&a("ul",{className:I.css(n.exampleContainer),children:Y.map((e,t)=>a(me,{category:b,example:e,index:t,pasteEquationFn:S},t))})]}),((_=d==null?void 0:d.mafs)==null?void 0:_["locked-figures-aria"])&&l($,{children:[a(c,{size:s.small_12}),a(u,{style:n.horizontalRule}),a(ne,{ariaLabel:j,getPrepopulatedAriaLabel:U,onChangeProps:e=>{m(e)}})]}),((A=d==null?void 0:d.mafs)==null?void 0:A["locked-function-labels"])&&l($,{children:[a(c,{size:s.xxxSmall_4}),a(u,{style:n.horizontalRule}),a(c,{size:s.small_12}),a(C,{children:"Visible labels"}),i==null?void 0:i.map((e,t)=>a(ee,{...e,expanded:!0,onChangeProps:r=>{K(r,t)},onRemove:()=>{Q(t)},containerStyle:n.labelContainer},t)),a(Z,{kind:"tertiary",startIcon:te,onClick:()=>{const e={...le("label"),coord:[0,-((i==null?void 0:i.length)??0)],color:p};m({labels:[...i??[],e]})},style:n.addButton,children:"Add visible label"})]}),a(ae,{figureType:x.type,onMove:H,onRemove:V})]})},me=x=>{const{category:d,example:p,index:y,pasteEquationFn:h}=x,f=L.useId();return l("li",{className:I.css(n.exampleRow),children:[a(R,{icon:pe,"aria-label":"paste example","aria-describedby":f,onClick:()=>h("equation",p),size:"medium",style:n.copyPasteButton}),a(R,{icon:de,"aria-label":"copy example","aria-describedby":f,onClick:()=>navigator.clipboard.writeText(p),size:"medium",style:n.copyPasteButton}),a(c,{size:s.xxxSmall_4}),a(u,{style:n.exampleContent,id:f,children:p})]},`${d}-${y}`)},n=I.StyleSheet.create({accordionHeader:{textOverflow:"ellipsis",maxWidth:"calc(100% - 64px)",overflow:"hidden",whiteSpace:"nowrap"},axisMenu:{minWidth:"auto"},copyPasteButton:{flexShrink:"0",margin:"0 2px"},domainMin:{justifyContent:"space-between",width:"calc(((100% - 141px) / 2) + 88.7px)",textWrap:"nowrap"},domainMinField:{width:"calc(100% - 88.7px)"},domainMax:{width:"calc(((100% - 141px) / 2) + 36.2px)"},domainMaxField:{width:"calc(100% - 36.2px)"},dropdownLabel:{alignItems:"center",display:"flex"},exampleAccordionPanel:{alignItems:"start",paddingBottom:"12px",flexDirection:"row",flexWrap:"wrap"},exampleContainer:{background:"white",border:`1px solid ${w.fadedOffBlack16}`,borderRadius:"4px",flexGrow:"1",listStyleType:"none",maxHeight:"88px",margin:"8px 0 0 0",overflowY:"scroll",padding:"4px 12px 4px 4px"},exampleContent:{fontFamily:'"Lato", sans-serif',flexGrow:"1",color:w.offBlack},exampleRow:{alignItems:"center",display:"flex",flexDirection:"row",minHeight:"44px"},exampleWorkspace:{background:w.white50},rowSpace:{marginTop:s.xSmall_8},row:{display:"flex",flexDirection:"row",alignItems:"center"},textField:{flexGrow:"1"},addButton:{alignSelf:"start"},horizontalRule:{height:1,backgroundColor:w.offBlack16},labelContainer:{backgroundColor:w.white}}),Te=W;W.__docgenInfo={description:"",methods:[],displayName:"LockedFunctionSettings",props:{flags:{required:!1,tsType:{name:'APIOptions["flags"]',raw:'APIOptions["flags"]'},description:""},showLabelsFlag:{required:!1,tsType:{name:"boolean"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(movement: LockedFigureSettingsMovementType) => void",signature:{arguments:[{type:{name:"union",raw:`| "back"
| "backward"
| "forward"
| "front"`,elements:[{name:"literal",value:'"back"'},{name:"literal",value:'"backward"'},{name:"literal",value:'"forward"'},{name:"literal",value:'"front"'}]},name:"movement"}],return:{name:"void"}}},description:"Called when a movement button (top, up, down, bottom) is pressed."},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the delete button is pressed."},expanded:{required:!1,tsType:{name:"boolean"},description:"Whether this accordion is expanded."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(expanded: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"expanded"}],return:{name:"void"}}},description:"Called when the accordion is expanded or collapsed."},onChangeProps:{required:!0,tsType:{name:"signature",type:"function",raw:"(newProps: Partial<LockedFunctionType>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"LockedFunctionType"}],raw:"Partial<LockedFunctionType>"},name:"newProps"}],return:{name:"void"}}},description:"Called when the props (points, color, etc.) are updated."}}};export{Te as L};
