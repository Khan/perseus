import{j as e,a as u}from"./jsx-runtime-BGVbfQ2Z.js";import{V as g,u as $}from"./index-4c2J3ov1.js";import{a as R,b as C,S as q,O as y}from"./answer-choices-dZYesy7J.js";import{s as a,c as I}from"./index-25YgVP-A.js";import{l as A}from"./index-awljIyHI.js";import{S as L}from"./index-BrnICqZg.js";import{b as M,L as F}from"./index-Fg8WJp4t.js";import{C as O}from"./color-select-vVJ7vUzC.js";import{C as U}from"./color-swatch-6B1o1ehc.js";import{a as j,b as B,L as S,c as z}from"./locked-point-settings-JPDbpyGC.js";import{g as D}from"./util-_RRulzQR.js";const H=o=>{const{id:c,onChange:t}=o;return e(g,{style:x.container,children:e(R,{menuText:"Add locked figure",style:x.addElementSelect,children:[e(C,{label:"Point",onClick:()=>t("point"),children:"Point"},`${c}-point`),e(C,{label:"Line",onClick:()=>t("line"),children:"Line"},`${c}-line`)]})})},x=A.StyleSheet.create({container:{marginTop:a.xSmall_8},addElementSelect:{backgroundColor:I.fadedBlue8,borderRadius:a.xxxSmall_4}});try{lockedfigureselect.displayName="lockedfigureselect",lockedfigureselect.__docgenInfo={description:"",displayName:"lockedfigureselect",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}}}catch{}const W=o=>{const{kind:c,points:t,color:p,lineStyle:f="solid",showArrows:h,showStartPoint:k,showEndPoint:r,onChangeProps:l,onRemove:d}=o,[s,m]=t,v=$(),P=v.get("line-kind-select"),T=v.get("line-color-select"),w=v.get("line-style-select"),E=`Line (${s.coord[0]}, ${s.coord[1]}),
        (${m.coord[0]}, ${m.coord[1]})`;function _(n,b){const V=[...t];V[b]={...t[b],...n},l({points:V})}function N(n){l({color:n,points:[{...s,color:n},{...m,color:n}]})}return u(j,{header:u(g,{style:i.row,children:[e(M,{children:E}),e(L,{size:a.xSmall_8}),e(U,{color:p})]}),children:[u(g,{style:[i.row,i.spaceUnder],children:[e(F,{htmlFor:P,style:i.label,tag:"label",children:"kind"}),u(q,{id:P,selectedValue:c,onChange:n=>l({kind:n}),placeholder:"",children:[e(y,{value:"line",label:"line"}),e(y,{value:"segment",label:"segment"}),e(y,{value:"ray",label:"ray"})]})]}),u(g,{style:[i.row,i.spaceUnder],children:[e(O,{id:T,selectedValue:p,onChange:N}),e(L,{size:a.small_12}),u(g,{style:i.row,children:[e(F,{htmlFor:w,style:i.label,tag:"label",children:"style"}),u(q,{id:w,selectedValue:f,onChange:n=>l({lineStyle:n}),placeholder:"",style:i.selectMarginOffset,children:[e(y,{value:"solid",label:"solid"}),e(y,{value:"dashed",label:"dashed"})]})]})]}),e(B,{label:"show arrows",checked:h,onChange:n=>l({showArrows:n})}),e(S,{label:"Start point",toggled:k,...s,onToggle:n=>l({showStartPoint:n}),onChangeProps:n=>_(n,0),style:i.lockedPointSettingsContainer}),e(S,{label:"End point",toggled:r,...m,onToggle:n=>l({showEndPoint:n}),onChangeProps:n=>_(n,1),style:i.lockedPointSettingsContainer}),e(z,{onRemove:d,figureAriaLabel:`locked line defined by
                    ${s.coord[0]}, ${s.coord[1]} and
                    ${m.coord[0]}, ${m.coord[1]}.`})]})},i=A.StyleSheet.create({lockedPointSettingsContainer:{marginTop:a.xSmall_8,marginBottom:0,marginLeft:-a.xxxSmall_4,marginRight:-a.xxxSmall_4,backgroundColor:I.white},row:{flexDirection:"row",alignItems:"center"},spaceUnder:{marginBottom:a.xSmall_8},label:{marginInlineEnd:a.xxxSmall_4},selectMarginOffset:{marginInlineEnd:-a.xxxSmall_4}});try{lockedlinesettings.displayName="lockedlinesettings",lockedlinesettings.__docgenInfo={description:"",displayName:"lockedlinesettings",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:'"line"'}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[startPoint: LockedPointType, endPoint: LockedPointType]"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!0,type:{name:"boolean"}},showStartPoint:{defaultValue:null,description:"",name:"showStartPoint",required:!0,type:{name:"boolean"}},showEndPoint:{defaultValue:null,description:"",name:"showEndPoint",required:!0,type:{name:"boolean"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}},onChangeProps:{defaultValue:null,description:"",name:"onChangeProps",required:!0,type:{name:"(newProps: Partial<LockedFigure>) => void"}}}}}catch{}const G=o=>{switch(o.type){case"point":return e(S,{...o});case"line":return e(W,{...o})}return null};try{lockedfiguresettings.displayName="lockedfiguresettings",lockedfiguresettings.__docgenInfo={description:"",displayName:"lockedfiguresettings",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"point"'}]}},coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"Coord"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"green"'},{value:'"grayH"'},{value:'"purple"'},{value:'"pink"'},{value:'"red"'}]}},filled:{defaultValue:null,description:"",name:"filled",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},toggled:{defaultValue:null,description:"",name:"toggled",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void) | (() => void)"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!1,type:{name:"((newValue: any) => void)"}},onChangeProps:{defaultValue:null,description:"",name:"onChangeProps",required:!0,type:{name:"((newProps: Partial<LockedPointType>) => void) | ((newProps: Partial<LockedFigure>) => void)"}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"line"'},{value:'"ray"'},{value:'"segment"'}]}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"[startPoint: LockedPointType, endPoint: LockedPointType]"}},lineStyle:{defaultValue:null,description:"",name:"lineStyle",required:!0,type:{name:"enum",value:[{value:'"solid"'},{value:'"dashed"'}]}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!0,type:{name:"boolean"}},showStartPoint:{defaultValue:null,description:"",name:"showStartPoint",required:!0,type:{name:"boolean"}},showEndPoint:{defaultValue:null,description:"",name:"showEndPoint",required:!0,type:{name:"boolean"}}}}}catch{}const J=o=>{const c=$().get("locked-figures-section"),{figures:t,onChange:p}=o;function f(r){const d={lockedFigures:[...t||[],D(r)]};p(d)}function h(r){if(window.confirm("Are you sure you want to delete this figure?")){const l=t||[];p({lockedFigures:[...l.slice(0,r),...l.slice(r+1)]})}}function k(r,l){const d=t||[],s={lockedFigures:[...d.slice(0,r),{...d[r],...l},...d.slice(r+1)]};p(s)}return u(g,{children:[t==null?void 0:t.map((r,l)=>e(G,{...r,onChangeProps:d=>k(l,d),onRemove:()=>h(l)},`${c}-locked-${r}-${l}`)),e(H,{id:`${c}-select`,onChange:f})]})},ie=J;try{lockedfiguressection.displayName="lockedfiguressection",lockedfiguressection.__docgenInfo={description:"",displayName:"lockedfiguressection",props:{figures:{defaultValue:null,description:"",name:"figures",required:!1,type:{name:"LockedFigure[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(props: Partial<Props>) => void"}}}}}catch{}export{ie as L};
