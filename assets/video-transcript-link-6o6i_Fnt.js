import{j as b,a as Y}from"./jsx-runtime-5BUNAZ9W.js";import{a as $,V as D,T as G}from"./index-e4P84RkC.js";import{S as H}from"./index-wjVcXLkf.js";import{r as c}from"./index-4g5l5LRQ.js";import{c as R,L as J,i as M,g as Q}from"./index-Cz55-Vre.js";import{l as U}from"./index-awljIyHI.js";import{s as V,m as _,a as K,c as P}from"./index-lUErx3pE.js";import{P as X}from"./index-zE8cp1oq.js";import{u as Z}from"./i18n-context-3gTlIcWM.js";import{g as ee}from"./dependencies-9B_Bv_mA.js";const te=""+new URL("arrow-square-out-bold-l20YoqzN.svg",import.meta.url).href;function A(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function s(){return s=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s.apply(this,arguments)}function z(n,t){if(n==null)return{};var e={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(e[o]=n[o]);return e}const ne=["children","skipClientNav","focused","hovered","href","inline","kind","light","visitable","pressed","style","testId","waiting","target","startIcon","endIcon"],re=$("a"),oe=$(J),W=c.forwardRef(function(t,e){const r=o=>{const{children:a,skipClientNav:i,focused:m,hovered:l,href:u,inline:v=!1,kind:I="primary",light:y=!1,visitable:C=!1,pressed:g,style:k,testId:E,target:w,startIcon:f,endIcon:h}=t,L=z(t,ne),p=se(v,I,y,C),d=v?p.restingInline:p.resting,x=[ie.shared,d,g&&p.active,!g&&l&&p.hover,!g&&m&&p.focus],N=s({"data-testid":E,style:[x,k],target:w},L),q=new URL(u,window.location.origin).origin!==window.location.origin,F=c.createElement(X,{icon:te,size:"small",style:[S.endIcon,S.centered],testId:"external-icon"});let j,B;f&&(j=c.cloneElement(f,s({style:[S.startIcon,S.centered],testId:"start-icon","aria-hidden":"true"},f.props))),h&&(B=c.cloneElement(h,s({style:[S.endIcon,S.centered],testId:"end-icon","aria-hidden":"true"},h.props)));const O=c.createElement(c.Fragment,null,f&&j,a,h?B:q&&w==="_blank"&&F);return o&&!i&&M(u)?c.createElement(oe,s({},N,{to:u,ref:e}),O):c.createElement(re,s({},N,{href:u,ref:e}),O)};return c.createElement(R.Consumer,null,o=>r(o))}),T={},S=U.StyleSheet.create({startIcon:{marginInlineEnd:V.xxxSmall_4},endIcon:{marginInlineStart:V.xxxSmall_4},centered:{verticalAlign:"-10%"}}),ie=U.StyleSheet.create({shared:{cursor:"pointer",textDecoration:"none",outline:"none",alignItems:"center"}}),se=(n,t,e,r)=>{const o=`${t}-${n.toString()}-${e.toString()}-${r.toString()}`;if(T[o])return T[o];if(t==="secondary"&&e)throw new Error("Secondary Light links are not supported");if(r&&t!=="primary")throw new Error("Only primary link is visitable");const{blue:a,pink:i,purple:m,white:l,offBlack:u,offBlack32:v,offBlack64:I}=P,y=_(K(u,.08),m),C=P.fadedBlue,g=_(K(l,.32),i),k=P.activeBlue,f=t==="primary"?e?l:a:n?u:I,p=t==="primary"?e?C:k:n?k:u,d=r?{":visited":{color:e?i:y}}:Object.freeze({}),x=r?{":visited":{color:e?g:_(v,y)}}:Object.freeze({}),N={resting:s({color:f},d),restingInline:s({color:f,textDecoration:"underline currentcolor solid",textUnderlineOffset:2},d),hover:s({textDecoration:"underline currentcolor solid",color:f},d),focus:{":focus-visible":s({color:f,outline:`1px solid ${e?l:a}`,borderRadius:3},d)},active:s({color:p,textDecoration:"underline currentcolor solid"},x)};return T[o]=U.StyleSheet.create(N),T[o]},ae=["onClick","beforeNav","safeWithNav","href","skipClientNav","children","tabIndex","onKeyDown","onKeyUp","target","inline","kind","light","visitable"],le=c.forwardRef(function(t,e){const{onClick:r,beforeNav:o=void 0,safeWithNav:a,href:i,skipClientNav:m,children:l,tabIndex:u,onKeyDown:v,onKeyUp:I,target:y=void 0,inline:C=!1,kind:g="primary",light:k=!1,visitable:E=!1}=t,w=z(t,ae),f=h=>{const L=Q(i,m,h);return o?c.createElement(L,{disabled:!1,href:i,role:"link",onClick:r,beforeNav:o,safeWithNav:a,onKeyDown:v,onKeyUp:I},(p,d)=>{let x=s({},(A(d),d));return c.createElement(W,s({},w,p,x,{skipClientNav:m,href:i,target:y,tabIndex:u,inline:C,kind:g,light:k,visitable:E,ref:e}),l)}):c.createElement(L,{disabled:!1,href:i,role:"link",onClick:r,safeWithNav:a,target:y,onKeyDown:v,onKeyUp:I},(p,d)=>{let x=s({},(A(d),d));return c.createElement(W,s({},w,p,x,{skipClientNav:m,href:i,target:y,tabIndex:u,inline:C,kind:g,light:k,visitable:E,ref:e}),l)})};return c.createElement(R.Consumer,null,h=>f(h))}),ce=/^https?:\/\//,de=n=>{const t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,e=n.match(t);return e&&e[7].length===11?e[7]:"videoNotFound"},ue=n=>{var m;const{location:t}=n,{useVideo:e}=ee(),[r,o]=ce.test(t)?[de(t),"YOUTUBE_ID"]:[t,"READABLE_ID"],a=e(r,o),{strings:i}=Z();switch(a.status){case"loading":return b(D,{children:i.loading});case"success":{const l=(m=a.data)==null?void 0:m.video;return Y(D,{style:fe.transcriptLink,children:[b(G,{children:l==null?void 0:l.title}),b(H,{size:10}),b(le,{href:"/transcript/"+((l==null?void 0:l.contentId)||"videoNotFound"),target:"_blank",className:"visited-no-recolor",children:i.videoTranscript})]})}case"error":return b(D,{children:i.somethingWrong});case"aborted":return b(D,{children:i.somethingWrong});default:return b(D,{children:i.somethingWrong})}},fe=U.StyleSheet.create({transcriptLink:{flexDirection:"row",width:"100%",justifyContent:"center"}});ue.__docgenInfo={description:"Video Transcript Link Component.",methods:[],displayName:"VideoTranscriptLink",props:{location:{required:!0,tsType:{name:"string"},description:""}}};export{le as L,ue as V};
