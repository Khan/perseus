import{j as d}from"./jsx-runtime-BT65X5dW.js";import{r as b}from"./index-C6mWTJJr.js";import{n as I}from"./no-important-DlFk8a1I.js";import{V as Q,a as z,I as ne,u as $e}from"./index-BbSJVDiq.js";import{S as T}from"./index-BAllIbps.js";import{a as o,b as l,f as Se,s as C}from"./index-B7Lkas_q.js";import{s as ce,a as Z,b as B}from"./index-B3d1jNQR.js";import{P as we}from"./index-DqLa1jFt.js";const ve=""+new URL("check-bold-3D_2YSP8.svg",import.meta.url).href,je=""+new URL("minus-bold-CPUitFvg.svg",import.meta.url).href;function Re(c){switch(c){case!0:return"true";case!1:return"false";default:return"mixed"}}const A=C.medium_16,te=C.small_12,Fe=z("input"),Ie=b.forwardRef(function(n,e){const{checked:r,disabled:t,error:s,groupName:i,id:a,testId:f,...u}=n,g=b.useRef(null);b.useEffect(()=>{g.current!=null&&(g.current.indeterminate=r==null)},[r,g]);const h=()=>{},m=_e(r,s),y=[U.inputReset,U.default,!t&&m.default,t&&U.disabled],x=d.jsx(we,{color:t?o.icon.disabled:o.icon.inverse,icon:r?ve:je,size:"small",style:[U.checkboxIcon,{width:te,height:te}]}),$=Re(r);return d.jsxs(b.Fragment,{children:[d.jsx(Fe,{...u,ref:p=>{g.current=p,typeof e=="function"?e(p):e!=null&&(e.current=p)},type:"checkbox","aria-checked":$,"aria-invalid":s,checked:r??void 0,disabled:t,id:a,name:i,onChange:h,style:y,"data-testid":f}),r||r==null?x:d.jsx(d.Fragment,{})]})}),ie={border:o.action.secondary.disabled.border,background:o.action.secondary.disabled.background},U=I.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:A,width:A,minHeight:A,minWidth:A,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:l.width.thin,borderRadius:3},disabled:{cursor:"auto",backgroundColor:ie.background,borderColor:ie.border,borderWidth:l.width.thin},checkboxIcon:{position:"absolute",pointerEvents:"none",margin:(A-te)/2}}),H={},_e=(c,n)=>{const e=`${String(c)}-${String(n)}`;if(H[e])return H[e];const r=c||c==null,t=n?"destructive":"progressive",s=r?"primary":"secondary",i=o.action[s][t],a={default:{border:i.default.border,background:i.default.background},error:{border:o.status.critical.foreground,background:o.status.critical.background}};let f={};if(r)f={default:{backgroundColor:a.default.background,borderColor:a.default.border,":focus-visible":{outline:`${l.width.medium} solid ${o.focus.outer}`,outlineOffset:1},":hover":{outline:`${l.width.medium} solid ${i.hover.border}`,outlineOffset:1},":active":{outline:`${l.width.medium} solid ${i.press.border}`,outlineOffset:1,background:i.press.background}}};else{const u=n?a.error:a.default;f={default:{backgroundColor:u.background,borderColor:u.border,":focus-visible":{backgroundColor:n?a.error.background:i.hover.background,outline:`${l.width.medium} solid ${o.focus.outer}`,outlineOffset:-1},":hover":{backgroundColor:n?a.error.background:i.hover.background,outline:`${l.width.medium} solid ${i.hover.border}`,outlineOffset:-1},":active":{backgroundColor:i.press.background,outline:`${l.width.medium} solid ${i.press.border}`,outlineOffset:-1}}}}return H[e]=I.StyleSheet.create(f),H[e]},ze=z("input"),Oe=b.forwardRef(function(n,e){const r=()=>{},{checked:t,disabled:s,error:i,groupName:a,id:f,testId:u,...g}=n,h=Te(t,i),m=[oe.inputReset,oe.default,!s&&h.default,s&&oe.disabled];return d.jsxs(b.Fragment,{children:[d.jsx(ze,{...g,type:"radio","aria-invalid":i,checked:t??void 0,disabled:s,id:f,name:a,onChange:r,style:m,"data-testid":u,ref:e}),s&&t&&d.jsx("span",{style:Le})]})}),ae={border:o.action.secondary.disabled.border,background:o.action.secondary.disabled.background},_=16,Le={position:"absolute",top:_/4,left:_/4,height:_/2,width:_/2,borderRadius:l.radius.radius_full,backgroundColor:o.action.primary.disabled.background},oe=I.StyleSheet.create({inputReset:{appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},default:{height:_,width:_,minHeight:_,minWidth:_,margin:0,outline:"none",boxSizing:"border-box",borderStyle:"solid",borderWidth:l.width.thin,borderRadius:l.radius.radius_full},disabled:{cursor:"auto",backgroundColor:ae.background,borderColor:ae.border,borderWidth:l.width.thin}}),X={},Te=(c,n)=>{const e=`${String(c)}-${String(n)}`;if(X[e])return X[e];const r=n?"destructive":"progressive",t=o.action.secondary[r],s={unchecked:{border:o.border.strong,background:t.default.background},checked:{border:t.default.foreground,background:t.default.background},error:{border:o.status.critical.foreground,background:o.status.critical.background}};let i={};if(c)i={default:{backgroundColor:s.checked.background,borderColor:s.checked.border,borderWidth:_/4,":focus-visible":{outline:`${l.width.medium} solid ${o.focus.outer}`,outlineOffset:1},":hover":{outline:`${l.width.medium} solid ${t.hover.border}`,outlineOffset:1},":active":{outline:`${l.width.medium} solid ${t.press.border}`,outlineOffset:1,borderColor:t.press.border}}};else{const a=n?s.error:s.unchecked;i={default:{backgroundColor:a.background,borderColor:a.border,":focus-visible":{backgroundColor:n?s.error.background:t.hover.background,outline:`${l.width.medium} solid ${o.focus.outer}`,outlineOffset:-1},":hover":{backgroundColor:n?s.error.background:t.hover.background,outline:`${l.width.medium} solid ${t.hover.border}`,outlineOffset:-1},":active":{backgroundColor:t.press.background,outline:`${l.width.medium} solid ${t.press.border}`,outlineOffset:-1}}}}return X[e]=I.StyleSheet.create(i),X[e]},ue=b.forwardRef(function(n,e){const{checked:r,description:t,disabled:s=!1,error:i=!1,id:a,label:f,onChange:u,style:g,className:h,variant:m,...y}=n,x=()=>{m==="radio"&&r||u(!r)},$=()=>m==="radio"?Oe:Ie,p=S=>d.jsx(Z,{style:[Y.label,s&&Y.disabledLabel],children:d.jsx("label",{htmlFor:S,children:f})}),k=S=>d.jsx(B,{style:Y.description,id:S,children:t}),v=$();return d.jsx(ne,{id:a,children:S=>{const O=t?`${S}-description`:void 0;return d.jsxs(Q,{style:g,className:h,children:[d.jsxs(Q,{style:Y.wrapper,tabIndex:-1,children:[d.jsx(v,{...y,id:S,checked:r,"aria-describedby":O,onClick:x,disabled:s,error:i,ref:e}),d.jsx(T,{size:C.xSmall_8}),f&&p(S)]}),t&&k(O)]})}})}),Y=I.StyleSheet.create({wrapper:{flexDirection:"row",alignItems:"flex-start",outline:"none"},label:{marginTop:-2},disabledLabel:{color:o.action.secondary.disabled.foreground},description:{marginLeft:C.medium_16+C.xSmall_8,marginTop:C.xxxSmall_4,color:o.text.secondary}}),Be=b.forwardRef(function(n,e){const{disabled:r=!1,error:t=!1}=n;return d.jsx(ue,{...n,variant:"checkbox",disabled:r,error:t,ref:e})}),Pe=b.forwardRef(function(n,e){const{disabled:r=!1,error:t=!1,...s}=n;return d.jsx(ue,{...s,variant:"radio",disabled:r,error:t,ref:e})});b.forwardRef(function(n,e){const{checked:r=!1,disabled:t=!1,onChange:s=()=>{},value:i,variant:a,...f}=n,g=(h=>h==="checkbox"?Be:Pe)(a);return d.jsx(g,{...f,checked:r,disabled:t,onChange:s,ref:e})});const F=I.StyleSheet.create({fieldset:{display:"flex",flexDirection:"column",border:"none",padding:0,margin:0},legend:{padding:0,width:"100%"},description:{marginTop:C.xxxSmall_4,color:o.text.secondary},error:{marginTop:C.xxxSmall_4,color:o.status.critical.foreground},defaultLineGap:{marginTop:C.xSmall_8}}),Ve=z("fieldset"),Ee=z("legend");b.forwardRef(function(n,e){const{children:r,label:t,description:s,errorMessage:i,groupName:a,onChange:f,selectedValues:u,style:g,testId:h}=n,m=(x,$)=>{if($){const p=u.indexOf(x),k=[...u.slice(0,p),...u.slice(p+1)];f(k)}else f([...u,x])},y=b.Children.toArray(r).filter(Boolean);return d.jsxs(Ve,{"data-testid":h,style:[F.fieldset,g],ref:e,children:[t&&d.jsx(Ee,{style:F.legend,children:d.jsx(Z,{children:t})}),s&&d.jsx(B,{style:F.description,children:s}),i&&d.jsx(B,{style:F.error,children:i}),(t||s||i)&&d.jsx(T,{size:C.small_12}),y.map((x,$)=>{const{style:p,value:k}=x.props,v=u.includes(k);return b.cloneElement(x,{checked:v,error:!!i,groupName:a,id:`${a}-${k}`,key:k,onChange:()=>m(k,v),style:[$>0&&F.defaultLineGap,p],variant:"checkbox"})})]})});const Ae=z("fieldset"),De=z("legend");b.forwardRef(function(n,e){const{children:r,label:t,description:s,errorMessage:i,groupName:a,onChange:f,selectedValue:u,style:g,testId:h}=n,m=b.Children.toArray(r).filter(Boolean);return d.jsxs(Ae,{"data-testid":h,style:[F.fieldset,g],ref:e,children:[t&&d.jsx(De,{style:F.legend,children:d.jsx(Z,{children:t})}),s&&d.jsx(B,{style:F.description,children:s}),i&&d.jsx(B,{style:F.error,children:i}),(t||s||i)&&d.jsx(T,{size:C.small_12}),m.map((y,x)=>{const{style:$,value:p}=y.props,k=u===p;return b.cloneElement(y,{checked:k,error:!!i,groupName:a,id:`${a}-${p}`,key:p,onChange:()=>f(p),style:[x>0&&F.defaultLineGap,$],variant:"radio"})})]})});const Me="This field is required.",be=({value:c,disabled:n=!1,validate:e,onValidate:r,required:t=!1,instantValidation:s=!0})=>{const[i,a]=b.useState(()=>e&&c!==""&&!n&&e(c)||null),f=h=>{s?g(h):(a(null),r&&r(null))},u=h=>{s||(h||t)&&g(h)},g=h=>{if(!n){if(e){const m=e(h)||null;a(m),r&&r(m)}else if(t){const y=h?null:typeof t=="string"?t:Me;a(y),r&&r(y)}}};return $e(()=>{c!==""&&g(c)}),{errorMessage:i,onBlurValidation:u,onChangeValidation:f}},qe=z("input"),Ne=c=>{const{id:n,type:e="text",value:r,name:t,disabled:s=!1,error:i,validate:a,onValidate:f,required:u,placeholder:g,style:h,testId:m,readOnly:y,autoFocus:x,autoComplete:$,forwardedRef:p,instantValidation:k=!0,onKeyDown:v,onChange:S,onFocus:O,onBlur:P,...V}=c,{errorMessage:L,onBlurValidation:q,onChangeValidation:ee}=be({value:r,required:u,disabled:s,instantValidation:k,validate:a,onValidate:f}),N=i||!!L,E=j=>{const W=j.target.value;ee(W),S(W)},K=j=>{O&&O(j)},re=j=>{q(j.target.value),P&&P(j)};return d.jsx(ne,{id:n,children:j=>d.jsx(qe,{style:[D.input,ce.LabelMedium,D.default,!s&&D.defaultFocus,s&&D.disabled,N&&D.error,h],id:j,type:e,placeholder:g,value:r,name:t,"aria-disabled":s,"aria-required":!!u,onChange:E,onKeyDown:s?void 0:v,onFocus:K,onBlur:re,"data-testid":m,readOnly:y||s,autoFocus:x,autoComplete:$,ref:p,"aria-invalid":N,...V})})},R={default:{border:o.border.strong,background:o.surface.primary,foreground:o.text.primary},disabled:{border:o.action.secondary.disabled.border,background:o.action.secondary.disabled.background,foreground:o.text.secondary},error:{border:o.status.critical.foreground,background:o.status.critical.background,foreground:o.text.primary}},D=I.StyleSheet.create({input:{width:"100%",height:40,borderRadius:l.radius.radius_040,boxSizing:"border-box",paddingLeft:C.medium_16,margin:0},default:{background:R.default.background,border:`${l.width.thin} solid ${R.default.border}`,color:R.default.foreground,"::placeholder":{color:o.text.secondary}},defaultFocus:{":focus-visible":{borderColor:o.focus.outer,outline:`${l.width.thin} solid ${o.focus.outer}`,outlineOffset:-2}},error:{background:R.error.background,border:`${l.width.thin} solid ${R.error.border}`,color:R.error.foreground,"::placeholder":{color:o.text.secondary},":focus-visible":{outlineColor:o.focus.outer,outline:`${l.width.medium} solid ${o.focus.outer}`}},disabled:{background:R.disabled.background,border:`${l.width.thin} solid ${R.disabled.border}`,color:R.disabled.foreground,"::placeholder":{color:R.disabled.foreground},cursor:"not-allowed",":focus-visible":{outline:`${l.width.medium} solid ${o.focus.outer}`,outlineOffset:-3}}});var Ke=b.forwardRef((c,n)=>d.jsx(Ne,{...c,forwardedRef:n}));const We=z("span");class Ge extends b.Component{renderLabel(){const{label:n,id:e,required:r,testId:t}=this.props,s=d.jsxs(We,{style:J.required,"aria-hidden":!0,children:[" ","*"]});return d.jsxs(b.Fragment,{children:[d.jsxs(Z,{style:J.label,tag:"label",htmlFor:e&&`${e}-field`,testId:t&&`${t}-label`,children:[n,r&&s]}),d.jsx(T,{size:C.xxxSmall_4})]})}maybeRenderDescription(){const{description:n,testId:e}=this.props;return n?d.jsxs(b.Fragment,{children:[d.jsx(B,{style:J.description,testId:e&&`${e}-description`,children:n}),d.jsx(T,{size:C.xxxSmall_4})]}):null}maybeRenderError(){const{error:n,id:e,testId:r}=this.props;return n?d.jsxs(b.Fragment,{children:[d.jsx(T,{size:C.small_12}),d.jsx(B,{style:J.error,role:"alert",id:e&&`${e}-error`,testId:r&&`${r}-error`,children:n})]}):null}render(){const{field:n,style:e}=this.props;return d.jsxs(Q,{style:e,children:[this.renderLabel(),this.maybeRenderDescription(),d.jsx(T,{size:C.xSmall_8}),n,this.maybeRenderError()]})}}const J=I.StyleSheet.create({label:{color:o.text.primary},description:{color:o.text.secondary},error:{color:o.status.critical.foreground},required:{color:o.status.critical.foreground}});class fe extends b.Component{render(){const{id:n,type:e,label:r,description:t,value:s,disabled:i,required:a,validate:f,onChange:u,onKeyDown:g,placeholder:h,style:m,testId:y,readOnly:x,autoComplete:$,forwardedRef:p,ariaDescribedby:k,name:v,onValidate:S,onFocus:O,onBlur:P,...V}=this.props;return d.jsx(ne,{id:n,children:L=>d.jsx(Ge,{id:L,testId:y,style:m,field:d.jsx(Ke,{id:`${L}-field`,"aria-describedby":k||`${L}-error`,"aria-required":a?"true":"false",required:a,testId:y&&`${y}-field`,type:e,value:s,placeholder:h,disabled:i,validate:f,onValidate:this.handleValidate,onChange:u,onKeyDown:g,onFocus:this.handleFocus,onBlur:this.handleBlur,readOnly:x,autoComplete:$,ref:p,name:v,...V}),label:r,description:t,required:!!a,error:!this.state.focused&&this.state.error||""})})}constructor(n){super(n),this.handleValidate=e=>{const{onValidate:r}=this.props;this.setState({error:e},()=>{r&&r(e)})},this.handleFocus=e=>{const{onFocus:r}=this.props;this.setState({focused:!0},()=>{r&&r(e)})},this.handleBlur=e=>{const{onBlur:r}=this.props;this.setState({focused:!1},()=>{r&&r(e)})},this.state={error:null,focused:!1}}}fe.defaultProps={type:"text",disabled:!1};var tr=b.forwardRef((c,n)=>d.jsx(fe,{...c,forwardedRef:n}));const Ue=z("textarea"),nr=b.forwardRef(function(n,e){const{onChange:r,value:t,placeholder:s,disabled:i,id:a,testId:f,style:u,readOnly:g,autoComplete:h,name:m,className:y,autoFocus:x,rows:$,spellCheck:p,wrap:k,minLength:v,maxLength:S,onClick:O,onKeyDown:P,onKeyUp:V,onFocus:L,onBlur:q,validate:ee,onValidate:N,required:E,resizeType:K,rootStyle:re,error:j,instantValidation:W=!0,...he}=n,{errorMessage:ge,onBlurValidation:pe,onChangeValidation:me}=be({value:t,disabled:i,validate:ee,onValidate:N,required:E,instantValidation:W}),de=j||!!ge,ye=b.useId(),xe=a??ye,ke=G=>{const se=G.target.value;me(se),r(se)},Ce=G=>{pe(G.target.value),q&&q(G)};return d.jsx(Q,{style:[{width:"100%"},re],children:d.jsx(Ue,{id:xe,"data-testid":f,ref:e,className:y,style:[M.textarea,ce.LabelMedium,K&&He[K],M.default,!i&&M.defaultFocus,i&&M.disabled,de&&M.error,u],value:t,onChange:ke,placeholder:s,"aria-disabled":i,readOnly:g||i,autoComplete:h,name:m,autoFocus:x,rows:$,spellCheck:p,wrap:k,minLength:v,maxLength:S,"aria-required":!!E,onClick:i?void 0:O,onKeyDown:i?void 0:P,onKeyUp:i?void 0:V,onFocus:L,onBlur:Ce,required:!!E,...he,"aria-invalid":de})})}),le=10,w={default:{border:o.border.strong,background:o.surface.primary,foreground:o.text.primary},disabled:{border:o.action.secondary.disabled.border,background:o.action.secondary.disabled.background,foreground:o.text.secondary},error:{border:o.status.critical.foreground,background:o.status.critical.background,foreground:o.text.primary}},M=I.StyleSheet.create({textarea:{borderRadius:l.radius.radius_040,boxSizing:"border-box",padding:`${le}px ${C.medium_16}px`,minHeight:`calc(${le*2+2}px + ${Se.lineHeight.medium})`},default:{background:w.default.background,border:`${l.width.thin} solid ${w.default.border}`,color:w.default.foreground,"::placeholder":{color:o.text.secondary}},defaultFocus:{":focus-visible":{borderColor:o.focus.outer,outline:`${l.width.thin} solid ${o.focus.outer}`,outlineOffset:-2}},disabled:{background:w.disabled.background,border:`${l.width.thin} solid ${w.disabled.border}`,color:w.disabled.foreground,"::placeholder":{color:w.disabled.foreground},cursor:"not-allowed",":focus-visible":{outline:`${l.width.medium} solid ${o.focus.outer}`,outlineOffset:-3}},error:{background:w.error.background,border:`${l.width.thin} solid ${w.error.border}`,color:w.error.foreground,"::placeholder":{color:o.text.secondary},":focus-visible":{outline:`${l.width.medium} solid ${o.focus.outer}`,borderColor:w.error.border}}}),He=I.StyleSheet.create({both:{resize:"both"},none:{resize:"none"},horizontal:{resize:"horizontal"},vertical:{resize:"vertical"}});export{Be as C,Ke as T,nr as a,ve as c,tr as l};
