import{r as o}from"./index-qhcEwEpg.js";import{r as f}from"./index-E09jvG0x.js";import{V as p,T as z,U as X,a as q,I as Y}from"./index-eZ2N530f.js";import{m as O,I as J,x as Q}from"./index-ObSi-eBV.js";import{l as v}from"./index-awljIyHI.js";import{C as h}from"./index-mdqImiHB.js";import{S as i}from"./index-SM3muJE2.js";import{H as U,c as Z,B as ee}from"./index-ouXaYoW-.js";import{P as te}from"./Popper-FSPFYGkT.js";const D=i.large_24,ne={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:i.medium_16,marginWidth:i.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:i.xLarge_32,marginWidth:i.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:i.xLarge_32,marginWidth:D,maxWidth:1120+D*2}},oe={ssrSize:"large",mediaSpec:ne},se=o.createContext(oe);se.displayName="MediaLayoutContext";v.StyleSheet.create({grow:{flexGrow:1}});class K extends o.Component{render(){const{size:e,style:t}=this.props;return o.createElement(p,{"aria-hidden":"true",style:[ie(e),t]})}}const ie=l=>({width:l,MsFlexBasis:l,MsFlexPreferredSize:l,WebkitFlexBasis:l,flexBasis:l,flexShrink:0});class re{constructor(){this._subscribers=[],this._active=!1}_getIndex(e){return this._subscribers.findIndex(t=>t===e)}steal(e){const t=!!this._active;this._active=!0;for(const n of this._subscribers)n!==e&&n.activeStateStolen();return t}giveup(){this._active=!1}subscribe(e){if(this._getIndex(e)>=0)throw new Error("Already subscribed.");return this._subscribers.push(e),()=>{const n=this._getIndex(e);this._subscribers.splice(n,1)}}}const ae=100,le=75,T=new re;class x extends o.Component{constructor(e){super(e),this._weSetFocusivity=void 0,this._anchorNode=void 0,this._focused=void 0,this._hovered=void 0,this._stolenFromUs=void 0,this._unsubscribeFromTracker=void 0,this._timeoutID=void 0,this.activeStateStolen=()=>{this._stolenFromUs=this.state.active||!!this._timeoutID,this._focused=!1,this._setActiveState(!1,!0)},this._handleFocusIn=()=>{this._updateActiveState(this._hovered,!0)},this._handleFocusOut=()=>{this._updateActiveState(this._hovered,!1)},this._handleMouseEnter=()=>{this._updateActiveState(!0,this._focused)},this._handleMouseLeave=()=>{this._updateActiveState(!1,this._focused)},this._handleKeyUp=t=>{t.key==="Escape"&&this.state.active&&(t.preventDefault(),t.stopPropagation(),this._updateActiveState(!1,!1))},this._focused=!1,this._hovered=!1,this.state={active:!1}}componentDidMount(){const e=f.findDOMNode(this);if(e instanceof Text)throw new Error("TooltipAnchor must be applied to an Element. Text content is not supported.");this._unsubscribeFromTracker=T.subscribe(this),this._anchorNode=e,this._updateFocusivity(),e&&(e.addEventListener("focusin",this._handleFocusIn),e.addEventListener("focusout",this._handleFocusOut),e.addEventListener("mouseenter",this._handleMouseEnter),e.addEventListener("mouseleave",this._handleMouseLeave),this.props.anchorRef(this._anchorNode))}componentDidUpdate(e){(e.forceAnchorFocusivity!==this.props.forceAnchorFocusivity||e.children!==this.props.children)&&this._updateFocusivity()}componentWillUnmount(){this._unsubscribeFromTracker&&this._unsubscribeFromTracker(),this._clearPendingAction();const e=this._anchorNode;e&&(e.removeEventListener("focusin",this._handleFocusIn),e.removeEventListener("focusout",this._handleFocusOut),e.removeEventListener("mouseenter",this._handleMouseEnter),e.removeEventListener("mouseleave",this._handleMouseLeave)),this.state.active&&document.removeEventListener("keyup",this._handleKeyUp)}_updateFocusivity(){const e=this._anchorNode;if(!e)return;const{forceAnchorFocusivity:t}=this.props,n=e.getAttribute("tabindex");t&&!n?(e.setAttribute("tabindex","0"),this._weSetFocusivity=!0):!t&&n&&this._weSetFocusivity&&(e.removeAttribute("tabindex"),this._weSetFocusivity=!1)}_updateActiveState(e,t){this._hovered=e,this._focused=t,this._setActiveState(e||t)}_clearPendingAction(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}_setActiveState(e,t){if(this._stolenFromUs||e!==this.state.active||!this.state.active&&this._timeoutID)this._clearPendingAction();else if(e===this.state.active&&!this._timeoutID)return;if(t=t||e&&T.steal(this),t)e?document.addEventListener("keyup",this._handleKeyUp):document.removeEventListener("keyup",this._handleKeyUp),this.setState({active:e}),this.props.onActiveChanged(e),!this._stolenFromUs&&!e&&T.giveup(),this._stolenFromUs=!1;else{const n=e?ae:le;this._timeoutID=setTimeout(()=>{this._timeoutID=null,this._setActiveState(e,!0)},n)}}_renderAnchorableChildren(){const{children:e}=this.props;return typeof e=="string"?o.createElement(z,null,e):e}_renderAccessibleChildren(e){const t=this._renderAnchorableChildren();return o.cloneElement(t,{"aria-describedby":e.get(x.ariaContentId)})}render(){return this.props.ids?this._renderAccessibleChildren(this.props.ids):this._renderAnchorableChildren()}}x.defaultProps={forceAnchorFocusivity:!0};x.ariaContentId="aria-content";function A(){return A=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l[n]=t[n])}return l},A.apply(this,arguments)}let ce=0;class L extends o.Component{_calculateDimensionsFromPlacement(){const{placement:e}=this.props,t=.5;switch(e){case"top":return{trimlinePoints:[`0,-${t}`,`${d},-${t}`],points:["0,0",`${d/2},${u}`,`${d},0`],height:u,width:d};case"right":return{trimlinePoints:[`${u+t},0`,`${u+t},${d}`],points:[`${u},0`,`0,${d/2}`,`${u},${d}`],width:u,height:d};case"bottom":return{trimlinePoints:[`0, ${u+t}`,`${d},${u+t}`],points:[`0, ${u}`,`${d/2},0`,`${d},${u}`],width:d,height:u};case"left":return{trimlinePoints:[`-${t},0`,`-${t},${d}`],points:["0,0",`${u},${d/2}`,`0,${d}`],width:u,height:d};default:throw new Error(`Unknown placement: ${e}`)}}_getFilterPositioning(){const{placement:e}=this.props;switch(e){case"top":return{y:"-50%",x:"-50%",offsetShadowX:0};case"bottom":return null;case"left":return{y:"-50%",x:"0%",offsetShadowX:1};case"right":return{y:"-50%",x:"-100%",offsetShadowX:-1};default:throw new Error(`Unknown placement: ${e}`)}}_maybeRenderDropshadow(e){const t=this._getFilterPositioning();if(!t)return null;const{placement:n}=this.props,{y:s,x:r,offsetShadowX:a}=t,c=`tooltip-dropshadow-${n}-${ce++}`;return[o.createElement("filter",{key:"filter",id:c,width:"200%",height:"200%",x:r,y:s},o.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:i.xxSmall_6/2}),o.createElement("feComponentTransfer",null,o.createElement("feFuncA",{type:"linear",slope:"0.3"}))),o.createElement("g",{key:"dropshadow",transform:`translate(${a},5.5)`},o.createElement("polyline",{fill:h.offBlack16,points:e.join(" "),stroke:h.offBlack32,filter:`url(#${c})`}))]}_getFullTailWidth(){return d+2*m}_getFullTailHeight(){return u+_}_getContainerStyle(){const{placement:e}=this.props,t=this._getFullTailWidth(),n=this._getFullTailHeight();switch(e){case"top":return{top:-1,width:t,height:n};case"right":return{left:1,width:n,height:t};case"bottom":return{top:1,width:t,height:n};case"left":return{left:-1,width:n,height:t};default:throw new Error(`Unknown placement: ${e}`)}}_getArrowStyle(){const{placement:e}=this.props;switch(e){case"top":return{marginLeft:m,marginRight:m,paddingBottom:_};case"right":return{marginTop:m,marginBottom:m,paddingLeft:_};case"bottom":return{marginLeft:m,marginRight:m,paddingTop:_};case"left":return{marginTop:m,marginBottom:m,paddingRight:_};default:throw new Error(`Unknown placement: ${e}`)}}_renderArrow(){const{trimlinePoints:e,points:t,height:n,width:s}=this._calculateDimensionsFromPlacement(),{color:r,show:a}=this.props;return a?o.createElement("svg",{className:v.css($.arrow),style:this._getArrowStyle(),width:s,height:n,"aria-hidden":!0},this._maybeRenderDropshadow(t),o.createElement("polyline",{fill:h[r],stroke:h[r],points:t.join(" ")}),o.createElement("polyline",{fill:h[r],points:t.join(" "),stroke:h.offBlack16}),o.createElement("polyline",{stroke:h[r],points:e.join(" ")})):o.createElement(K,{size:n})}render(){const{offset:e,placement:t,updateRef:n}=this.props;return o.createElement(p,{style:[$.tailContainer,A({},e),this._getContainerStyle()],"data-placement":t,ref:n},this._renderArrow())}}L.defaultProps={color:"white",show:!0};const _=i.xSmall_8,m=i.xSmall_8,d=i.large_24,u=i.small_12,$=v.StyleSheet.create({tailContainer:{position:"relative",pointerEvents:"none"},arrow:{overflow:"visible"}});class he extends o.Component{constructor(...e){super(...e),this.state={active:!1},this.handleMouseEnter=()=>{this._setActiveState(!0)},this.handleMouseLeave=()=>{this.props.onActiveChanged(!1)}}_setActiveState(e){this.setState({active:e}),this.props.onActiveChanged(e)}render(){const{id:e,children:t,updateBubbleRef:n,placement:s,isReferenceHidden:r,style:a,updateTailRef:c,tailOffset:y,backgroundColor:g}=this.props;return o.createElement(p,{id:e,role:"tooltip","data-placement":s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:n,style:[r&&F.hide,F.bubble,F[`content-${s}`],a]},o.createElement(p,{style:[F.content,g&&{backgroundColor:h[g]}]},t),o.createElement(L,{updateRef:c,placement:s,offset:y,color:g}))}}const F=v.StyleSheet.create({bubble:{position:"absolute"},hide:{pointerEvents:"none",opacity:0,backgroundColor:"transparent",color:"transparent"},"content-top":{flexDirection:"column"},"content-right":{flexDirection:"row-reverse"},"content-bottom":{flexDirection:"column-reverse"},"content-left":{flexDirection:"row"},content:{maxWidth:472,borderRadius:i.xxxSmall_4,border:`solid 1px ${h.offBlack16}`,backgroundColor:h.white,boxShadow:`0 ${i.xSmall_8}px ${i.xSmall_8}px 0 ${h.offBlack8}`,justifyContent:"center"}});class de extends o.Component{_renderTitle(){const{title:e}=this.props;return e?typeof e=="string"?o.createElement(U,null,e):e:null}_renderChildren(){const{children:e}=this.props;return typeof e=="string"?o.createElement(Z,null,e):e}render(){const e=this._renderTitle(),t=this._renderChildren(),n=e?B.withTitle:B.withoutTitle;return o.createElement(p,{style:[n,this.props.contentStyle],testId:this.props.testId},e,e&&t&&o.createElement(K,{size:i.xxxSmall_4}),t)}}const B=v.StyleSheet.create({withoutTitle:{padding:`10px ${i.medium_16}px`},withTitle:{padding:i.medium_16}});class M{constructor(){this._lastRef=void 0,this._targetFn=void 0,this.updateRef=e=>{if(e){const n=f.findDOMNode(e);if(n instanceof HTMLElement&&n!==this._lastRef){var t;this._lastRef=n,(t=this._targetFn)==null||t.call(this,n)}}},this.setCallback=e=>{if(this._targetFn!==e){if(e&&typeof e!="function")throw new Error("targetFn must be a function");this._targetFn=e||void 0,this._lastRef&&this._targetFn&&this._targetFn(this._lastRef)}}}}class H extends o.Component{constructor(...e){super(...e),this._bubbleRefTracker=new M,this._tailRefTracker=new M}_renderPositionedContent(e){const{children:t}=this.props,n=e.placement||this.props.placement;this._bubbleRefTracker.setCallback(e.ref),this._tailRefTracker.setCallback(e.arrowProps.ref);const s={placement:n,style:{top:e.style.top,left:e.style.left,bottom:e.style.bottom,right:e.style.right,position:e.style.position,transform:e.style.transform},updateBubbleRef:this._bubbleRefTracker.updateRef,tailOffset:{bottom:e.arrowProps.style.bottom,right:e.arrowProps.style.right,top:e.arrowProps.style.top,left:e.arrowProps.style.left,transform:e.arrowProps.style.transform},updateTailRef:this._tailRefTracker.updateRef,isReferenceHidden:e.isReferenceHidden};return t(s)}render(){const{anchorElement:e,placement:t}=this.props;return o.createElement(te,{referenceElement:e,strategy:"fixed",placement:t,modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},n=>this._renderPositionedContent(n))}}class S extends o.Component{constructor(...e){super(...e),this.state={active:!1,activeBubble:!1}}static getDerivedStateFromProps(e,t){return{active:typeof e.opened=="boolean"?e.opened:t.active}}_updateAnchorElement(e){e&&e!==this.state.anchorElement&&this.setState({anchorElement:e})}_renderBubbleContent(){const{title:e,content:t,contentStyle:n,testId:s}=this.props;return typeof t=="string"?o.createElement(de,{title:e,contentStyle:n,testId:s?`${s}-content`:void 0},t):e?o.cloneElement(t,{title:e}):t}_renderPopper(e){const{id:t,backgroundColor:n}=this.props,s=e?e.get(S.ariaContentId):t;if(!s)throw new Error("Did not get an identifier factory nor a id prop");const{placement:r}=this.props;return o.createElement(H,{anchorElement:this.state.anchorElement,placement:r},a=>o.createElement(he,{id:s,style:a.style,backgroundColor:n,tailOffset:a.tailOffset,isReferenceHidden:a.isReferenceHidden,placement:a.placement,updateTailRef:a.updateTailRef,updateBubbleRef:a.updateBubbleRef,onActiveChanged:c=>this.setState({activeBubble:c})},this._renderBubbleContent()))}_getHost(){const{anchorElement:e}=this.state;return O(e)||document.body}_renderTooltipAnchor(e){const{children:t,forceAnchorFocusivity:n}=this.props,{active:s,activeBubble:r}=this.state,a=this._getHost();return o.createElement(o.Fragment,null,o.createElement(x,{forceAnchorFocusivity:n,anchorRef:c=>this._updateAnchorElement(c),onActiveChanged:c=>this.setState({active:c}),ids:e},t),a&&(s||r)&&f.createPortal(this._renderPopper(e),a))}render(){const{id:e}=this.props;return e?this._renderTooltipAnchor():o.createElement(X,{scope:"tooltip",mockOnFirstRender:!0},t=>this._renderTooltipAnchor(t))}}S.defaultProps={forceAnchorFocusivity:!0,placement:"top"};S.ariaContentId="aria-content";function I(){return I=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l[n]=t[n])}return l},I.apply(this,arguments)}const ue={close:void 0,placement:"top"},P=o.createContext(ue);P.displayName="PopoverContext";class pe extends o.Component{componentDidMount(){const e=f.findDOMNode(this);e&&this.props.anchorRef(e)}render(){const{children:e,id:t,onClick:n,"aria-controls":s,"aria-expanded":r}=this.props,a={id:t,"aria-controls":s,"aria-expanded":r};if(typeof e=="function"){const c=e({open:n});return o.cloneElement(c,a)}else return o.cloneElement(e,I({},e.props,a,{onClick:e.props.onClick?c=>{c.stopPropagation(),e.props.onClick(),n()}:n}))}}class me extends o.Component{componentDidUpdate(e){e.placement!==this.props.placement&&this.props.onUpdate(this.props.placement)}render(){const{placement:e,children:t,id:n,isReferenceHidden:s,updateBubbleRef:r,updateTailRef:a,tailOffset:c,style:y,showTail:g,"aria-describedby":w,"aria-labelledby":C}=this.props,E=t.props,V=E.emphasized?"blue":E.color;return o.createElement(o.Fragment,null,o.createElement(p,{"aria-describedby":w,"aria-labelledby":C,id:n,role:"dialog",ref:r,"data-placement":e,style:[s&&N.hide,N[`content-${e}`],y]},t,o.createElement(L,{show:g,color:V,updateRef:a,placement:e,offset:c})))}}const N=v.StyleSheet.create({hide:{pointerEvents:"none",opacity:0,backgroundColor:"transparent",color:"transparent"},"content-top":{flexDirection:"column"},"content-right":{flexDirection:"row-reverse"},"content-bottom":{flexDirection:"column-reverse"},"content-left":{flexDirection:"row"}}),W='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';function R(l){return Array.from(l.querySelectorAll(W))}function fe(l){return l.matches(W)}class be extends o.Component{constructor(...e){super(...e),this.setInitialFocusableElement=t=>{const n=this.maybeGetInitialFocusElement(t)||this.maybeGetFirstFocusableElement(t)||t;n===t&&(t.tabIndex=-1),setTimeout(()=>{n.focus()},0)}}componentDidMount(){const e=f.findDOMNode(this);e&&this.setInitialFocusableElement(e)}maybeGetInitialFocusElement(e){const{initialFocusId:t}=this.props;return t?e.querySelector(`#${t}`):null}maybeGetFirstFocusableElement(e){const t=R(e);return t.length?t[0]:null}render(){return this.props.children}}class ve extends o.Component{constructor(...e){super(...e),this.nextElementAfterPopover=void 0,this.rootNode=void 0,this.elementsThatCanBeFocusableInsidePopover=[],this.firstFocusableElementInPopover=null,this.lastFocusableElementInPopover=null,this.addEventListeners=()=>{const{anchorElement:t}=this.props;t&&t.addEventListener("keydown",this.handleKeydownPreviousFocusableElement),this.rootNode&&(this.elementsThatCanBeFocusableInsidePopover=R(this.rootNode),this.firstFocusableElementInPopover=this.elementsThatCanBeFocusableInsidePopover[0],this.lastFocusableElementInPopover=this.elementsThatCanBeFocusableInsidePopover[this.elementsThatCanBeFocusableInsidePopover.length-1]),this.nextElementAfterPopover=this.getNextFocusableElement(),this.nextElementAfterPopover||window.addEventListener("blur",()=>{this.changeFocusabilityInsidePopover(!0)}),this.firstFocusableElementInPopover&&this.firstFocusableElementInPopover.addEventListener("keydown",this.handleKeydownFirstFocusableElement),this.lastFocusableElementInPopover&&this.lastFocusableElementInPopover.addEventListener("keydown",this.handleKeydownLastFocusableElement),this.nextElementAfterPopover&&this.nextElementAfterPopover.addEventListener("keydown",this.handleKeydownNextFocusableElement)},this.handleKeydownFirstFocusableElement=t=>{if(t.key==="Tab"&&t.shiftKey){var n;t.preventDefault(),(n=this.props.anchorElement)==null||n.focus()}},this.handleKeydownLastFocusableElement=t=>{if(this.nextElementAfterPopover&&t.key==="Tab"&&!t.shiftKey){var n;t.preventDefault(),(n=this.nextElementAfterPopover)==null||n.focus()}},this.getNextFocusableElement=()=>{const{anchorElement:t}=this.props;if(!t)return;const s=R(document).filter(a=>this.elementsThatCanBeFocusableInsidePopover.indexOf(a)<0),r=s.indexOf(t);if(r>=0&&r!==s.length-1){const a=r<s.length-1?r+1:0;return s[a]}},this.getComponentRootNode=t=>{if(!t)return;const n=f.findDOMNode(t);if(!n)throw new Error("Assertion error: root node should exist after mount");this.rootNode=n},this.handleFocusPreviousFocusableElement=()=>{this.props.anchorElement&&this.props.anchorElement.focus()},this.changeFocusabilityInsidePopover=(t=!0)=>{const n=t?"0":"-1";this.elementsThatCanBeFocusableInsidePopover.forEach(s=>{s.setAttribute("tabIndex",n)})},this.handleFocusNextFocusableElement=()=>{this.nextElementAfterPopover&&this.nextElementAfterPopover.focus()},this.handleKeydownPreviousFocusableElement=t=>{if(t.key==="Tab"&&!t.shiftKey){var n;t.preventDefault(),(n=this.firstFocusableElementInPopover)==null||n.focus()}},this.handleKeydownNextFocusableElement=t=>{if(t.key==="Tab"&&t.shiftKey){var n;t.preventDefault(),(n=this.lastFocusableElementInPopover)==null||n.focus()}}}componentDidMount(){this.addEventListeners()}componentDidUpdate(){this.removeEventListeners(),this.addEventListeners()}componentWillUnmount(){this.changeFocusabilityInsidePopover(!0),this.removeEventListeners()}removeEventListeners(){const{anchorElement:e}=this.props;e&&e.removeEventListener("keydown",this.handleKeydownPreviousFocusableElement),this.nextElementAfterPopover||window.removeEventListener("blur",()=>{this.changeFocusabilityInsidePopover(!0)}),this.firstFocusableElementInPopover&&this.firstFocusableElementInPopover.removeEventListener("keydown",this.handleKeydownFirstFocusableElement),this.lastFocusableElementInPopover&&this.lastFocusableElementInPopover.removeEventListener("keydown",this.handleKeydownLastFocusableElement),this.nextElementAfterPopover&&this.nextElementAfterPopover.removeEventListener("keydown",this.handleKeydownNextFocusableElement)}render(){const{children:e}=this.props;return o.createElement("div",{ref:this.getComponentRootNode,onClick:()=>{this.changeFocusabilityInsidePopover(!0)},onFocus:()=>{this.changeFocusabilityInsidePopover(!0)},onBlur:()=>{this.changeFocusabilityInsidePopover(!1)}},o.createElement(be,{initialFocusId:this.props.initialFocusId},e))}}class ge extends o.Component{constructor(...e){super(...e),this.state={isFirstClick:!0},this._handleKeyup=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.props.onClose(!0))},this._handleClick=t=>{var n;if(this.state.isFirstClick){this.setState({isFirstClick:!1});return}const s=f.findDOMNode((n=this.props.contentRef)==null?void 0:n.current);if(s&&!s.contains(t.target)){t.preventDefault(),t.stopPropagation();const r=!fe(t.target);this.props.onClose(r)}}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup),window.addEventListener("click",this._handleClick)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup),window.removeEventListener("click",this._handleClick)}render(){return null}}class Ee extends o.Component{constructor(...e){super(...e),this.state={opened:!!this.props.opened,placement:this.props.placement},this.contentRef=o.createRef(),this.maybeReturnFocus=()=>{const{anchorElement:t}=this.state,{closedFocusId:n}=this.props;if(n){const s=f.findDOMNode(document.getElementById(n));s==null||s.focus();return}t&&t.focus()},this.handleClose=(t=!0)=>{this.setState({opened:!1},()=>{var n,s;(n=(s=this.props).onClose)==null||n.call(s),t&&this.maybeReturnFocus()})},this.handleOpen=()=>{this.props.dismissEnabled&&this.state.opened?this.handleClose(!0):this.setState({opened:!0})},this.updateRef=t=>{t&&this.state.anchorElement!==t&&this.setState({anchorElement:t})}}static getDerivedStateFromProps(e,t){return{opened:typeof e.opened=="boolean"?e.opened:t.opened}}renderContent(e){const{content:t}=this.props,n=typeof t=="function"?t({close:this.handleClose}):t;return o.cloneElement(n,{ref:this.contentRef,uniqueId:e})}renderPopper(e){const{initialFocusId:t,placement:n,showTail:s}=this.props,{anchorElement:r}=this.state;return o.createElement(ve,{anchorElement:r,initialFocusId:t},o.createElement(H,{anchorElement:r,placement:n},a=>o.createElement(me,I({},a,{"aria-describedby":`${e}-content`,"aria-labelledby":`${e}-title`,id:e,onUpdate:c=>this.setState({placement:c}),showTail:s}),this.renderContent(e))))}getHost(){return O(this.state.anchorElement)||document.body}render(){const{children:e,dismissEnabled:t,id:n}=this.props,{opened:s,placement:r}=this.state,a=this.getHost();return o.createElement(P.Provider,{value:{close:this.handleClose,placement:r}},o.createElement(Y,{id:n,scope:"popover"},c=>o.createElement(o.Fragment,null,o.createElement(pe,{anchorRef:this.updateRef,id:`${c}-anchor`,"aria-controls":c,"aria-expanded":s?"true":"false",onClick:this.handleOpen},e),a&&s&&f.createPortal(this.renderPopper(c),a))),t&&s&&o.createElement(ge,{onClose:this.handleClose,contentRef:this.contentRef}))}}Ee.defaultProps={placement:"top",showTail:!0};class j extends o.Component{render(){const{light:e,"aria-label":t,style:n,testId:s}=this.props;return o.createElement(P.Consumer,null,({close:r})=>o.createElement(J,{icon:Q,"aria-label":t,onClick:r,kind:e?"primary":"tertiary",light:e,style:n,testId:s}))}}j.defaultProps={light:!0,"aria-label":"Close Popover"};class G extends o.Component{render(){const{children:e,closeButtonLight:t,closeButtonLabel:n,closeButtonVisible:s,color:r,style:a,testId:c}=this.props;return o.createElement(p,{testId:c,style:[k.content,r!=="white"&&k[r],a]},s&&o.createElement(j,{"aria-label":n,light:t||r!=="white",style:k.closeButton,testId:`${c||"popover"}-close-btn`}),e)}}G.defaultProps={color:"white",closeButtonLight:!1,closeButtonVisible:!1};const k=v.StyleSheet.create({content:{borderRadius:i.xxxSmall_4,border:`solid 1px ${h.offBlack16}`,backgroundColor:h.white,boxShadow:`0 ${i.xSmall_8}px ${i.xSmall_8}px 0 ${h.offBlack8}`,margin:0,maxWidth:i.medium_16*18,padding:i.large_24,overflow:"hidden",justifyContent:"center"},blue:{backgroundColor:h.blue,color:h.white},darkBlue:{backgroundColor:h.darkBlue,color:h.white},closeButton:{margin:0,position:"absolute",right:i.xxxSmall_4,top:i.xxxSmall_4,zIndex:1}}),ye=q("img");class _e extends o.Component{constructor(...e){super(...e),this.maybeRenderImage=({placement:t})=>{const{image:n}=this.props;return n?o.createElement(p,{style:[b.image,t==="bottom"&&b.imageToBottom]},n):null},this.maybeRenderIcon=()=>{const{icon:t}=this.props;return t?o.createElement(p,{style:b.iconContainer},typeof t!="string"?t:o.createElement(ye,{src:t,style:b.icon})):null},this.maybeRenderActions=t=>{const{actions:n}=this.props;return n?o.createElement(p,{style:b.actions},typeof n=="function"?n({close:t}):n):null}}componentDidMount(){const{icon:e,image:t}=this.props;if(t&&e)throw new Error("'image' and 'icon' cannot be used at the same time. You can fix this by either removing 'image' or 'icon' from your instance.")}validateProps({placement:e}){if(this.props.image&&(e==="left"||e==="right"))throw new Error("'image' can only be vertically placed. You can fix this by either changing `placement` to `top` or `bottom` or removing the `image` prop inside `content`.")}render(){const{closeButtonLabel:e,closeButtonVisible:t,content:n,emphasized:s=void 0,icon:r,image:a,style:c,title:y,testId:g,uniqueId:w}=this.props;return o.createElement(P.Consumer,null,({close:C,placement:E})=>(this.validateProps({close:C,placement:E}),o.createElement(G,{color:s?"blue":"white",closeButtonLight:a&&E==="top",closeButtonLabel:e,closeButtonVisible:t,style:c,testId:g},o.createElement(p,{style:!!r&&b.withIcon},this.maybeRenderImage({placement:E}),this.maybeRenderIcon(),o.createElement(p,{style:b.text},o.createElement(U,{id:`${w}-title`,style:b.title},y),o.createElement(ee,{id:`${w}-content`},n))),this.maybeRenderActions(C))))}}_e.defaultProps={closeButtonVisible:!1};const b=v.StyleSheet.create({actions:{marginTop:i.large_24,flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},text:{justifyContent:"center"},title:{marginBottom:i.xSmall_8},iconContainer:{alignItems:"center",justifyContent:"center",height:i.xxxLarge_64,width:i.xxxLarge_64,minWidth:i.xxxLarge_64,marginRight:i.medium_16,overflow:"hidden"},icon:{width:"100%"},withIcon:{flexDirection:"row"},image:{marginBottom:i.large_24,marginLeft:-i.large_24,marginRight:-i.large_24,marginTop:-i.large_24,width:`calc(100% + ${i.large_24*2}px)`},imageToBottom:{marginBottom:-i.large_24,marginTop:i.large_24,order:1}});export{Ee as P,S as T,G as a,_e as b};
