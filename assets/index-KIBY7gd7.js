import{r as l}from"./index-qhcEwEpg.js";import{V as h}from"./index-oMd7J_hd.js";import{s as i}from"./index-lUErx3pE.js";import{l as f}from"./index-awljIyHI.js";function d(){return d=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},d.apply(this,arguments)}const c=i.large_24,p={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:i.medium_16,marginWidth:i.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:i.xLarge_32,marginWidth:i.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:i.xLarge_32,marginWidth:c,maxWidth:1120+c*2}},x={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:i.xLarge_32,marginWidth:i.medium_16}},O={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:i.medium_16,marginWidth:i.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:i.xLarge_32,marginWidth:i.xxLarge_48}},L={ssrSize:"large",mediaSpec:p},g=l.createContext(L);g.displayName="MediaLayoutContext";const u={},_="large";class w extends l.Component{constructor(t){super(t),this.cleanupThunks=void 0,this.state={size:void 0},this.cleanupThunks=[]}componentDidMount(){const t=Object.entries(this.props.mediaSpec);for(const[e,r]of t){const o=u[r.query];if(!o)continue;const m=s=>{s.matches&&this.setState({size:e})};o.addListener(m),this.cleanupThunks.push(()=>o.removeListener(m))}}componentWillUnmount(){this.cleanupThunks.forEach(t=>t())}getCurrentSize(t){if(this.state.size)return this.state.size;{const e=Object.entries(this.props.mediaSpec);for(const[r,o]of e)if(u[o.query].matches)return r}return _}isServerSide(){return typeof window>"u"||!window.matchMedia}getMockStyleSheet(t){const{styleSheets:e}=this.props,r={};if(!e)return r;for(const o of Object.keys(e)){const m=e[o];if(m)for(const s of Object.keys(m))Object.prototype.hasOwnProperty.call(r,s)||(r[s]=[e.all&&e.all[s],t==="small"&&[e.mdOrSmaller&&e.mdOrSmaller[s],e.small&&e.small[s]],t==="medium"&&[e.mdOrSmaller&&e.mdOrSmaller[s],e.mdOrLarger&&e.mdOrLarger[s],e.medium&&e.medium[s]],t==="large"&&[e.mdOrLarger&&e.mdOrLarger[s],e.large&&e.large[s]]])}return r}render(){const{children:t,mediaSpec:e,ssrSize:r,overrideSize:o}=this.props,m=[...Object.values(p).map(a=>a.query),...Object.values(x).map(a=>a.query),...Object.values(O).map(a=>a.query),...Object.values(e).map(a=>a.query)];if(!this.isServerSide())for(const a of m.filter(y=>!u[y]))u[a]=window.matchMedia(a);const s=o||this.isServerSide()&&r||this.getCurrentSize(e),S=this.getMockStyleSheet(s);return t({mediaSize:s,mediaSpec:e,styles:S})}}class v extends l.Component{render(){return l.createElement(g.Consumer,null,({overrideSize:t,ssrSize:e,mediaSpec:r})=>l.createElement(w,d({},this.props,{overrideSize:t,ssrSize:e,mediaSpec:r})))}}class j extends l.Component{render(){const{style:t}=this.props;return l.createElement(h,{"aria-hidden":"true",style:[C.grow,t]})}}const C=f.StyleSheet.create({grow:{flexGrow:1}});class z extends l.Component{render(){const{size:t,style:e}=this.props;return l.createElement(h,{"aria-hidden":"true",style:[q(t),e]})}}const q=n=>({width:n,MsFlexBasis:n,MsFlexPreferredSize:n,WebkitFlexBasis:n,flexBasis:n,flexShrink:0});export{v as M,z as S,j as a};
