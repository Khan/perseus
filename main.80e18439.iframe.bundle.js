/*! For license information please see main.80e18439.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkperseus=self.webpackChunkperseus||[]).push([[179],{"./.storybook/preview.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{decorators:()=>decorators,parameters:()=>parameters});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),_khanacademy_perseus__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/index.ts"),_packages_perseus_src_dependencies__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/dependencies.ts"),_testing_test_dependencies__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./testing/test-dependencies.tsx");_khanacademy_perseus__WEBPACK_IMPORTED_MODULE_3__.Dependencies.setDependencies(_testing_test_dependencies__WEBPACK_IMPORTED_MODULE_5__.fL);const decorators=[Story=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_2__.aX,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_packages_perseus_src_dependencies__WEBPACK_IMPORTED_MODULE_4__.DependenciesContext.Provider,{value:_testing_test_dependencies__WEBPACK_IMPORTED_MODULE_5__.qS},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Story,null)))],parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},backgrounds:{values:Object.entries(_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__.default).map((_ref=>{let[name,value]=_ref;return{name,value}}))},chromatic:{disableSnapshot:!0}}},"./packages/kas/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Eq:()=>Eq,UM:()=>Mul,nd:()=>Var,qu:()=>compare,Qc:()=>parse,f6:()=>unitParse});(0,__webpack_require__("./packages/perseus-core/src/index.ts").C)("@khanacademy/kas","__lib_version__");var index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js");const unitParser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,11],$V1=[1,9],$V2=[8,17],$V3=[6,11],$V4=[6,11,13,17],parser={trace:function trace(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return{type:"unitMagnitude",magnitude:$$[$0-2],unit:$$[$0-1]};case 2:return{type:"unitStandalone",unit:$$[$0-1]};case 3:this.$=$$[$0-2]+"e"+$$[$0];break;case 4:case 13:case 14:case 15:case 17:this.$=$$[$0];break;case 5:this.$={num:$$[$0-2],denom:$$[$0]};break;case 6:this.$={num:$$[$0],denom:null};break;case 7:this.$=[$$[$0-2]].concat($$[$0]);break;case 8:this.$=[$$[$0-1]].concat($$[$0]);break;case 9:this.$=[$$[$0]];break;case 10:this.$={name:$$[$0-2],pow:$$[$0]};break;case 11:this.$={name:$$[$0],pow:1};break;case 12:this.$=yytext;break;case 16:this.$="-"+$$[$0]}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:$V0,18:[1,6],19:$V1},{1:[3]},{5:12,10:5,12:8,14:10,17:$V0},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},o($V2,[2,13]),o($V2,[2,14]),o($V3,[2,9],{12:8,14:10,10:17,13:[1,16],17:$V0}),o([6,8,11,13,17],[2,15]),o($V4,[2,11],{15:[1,18]}),o([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:$V0},{10:24,12:8,14:10,17:$V0},o($V3,[2,8]),{16:25,19:$V1},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},o($V3,[2,7]),o($V4,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function parseError(str,hash){if(!hash.recoverable)throw new Error(str);this.trace(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=lexer.lex()||1)&&(token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return 11;case 1:return"(";case 2:return")";case 3:return 8;case 4:return 15;case 5:return 13;case 6:return 18;case 7:return 19;case 8:return 20;case 9:case 10:case 11:return 17;case 12:break;case 13:return 6}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();var parser_parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,7],$V1=[1,17],$V2=[1,13],$V3=[1,14],$V4=[1,15],$V5=[1,32],$V6=[1,22],$V7=[1,23],$V8=[1,24],$V9=[1,25],$Va=[1,26],$Vb=[1,33],$Vc=[1,27],$Vd=[1,28],$Ve=[1,29],$Vf=[1,30],$Vg=[1,20],$Vh=[1,36],$Vi=[1,37],$Vj=[5,6,8,10,33,35,41,43,45],$Vk=[1,39],$Vl=[1,40],$Vm=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],$Vn=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],$Vo=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],parser={trace:function trace(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return new yy.Eq($$[$0-3],$$[$0-2],$$[$0-1]);case 2:return $$[$0-1];case 3:return new yy.Add([]);case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=$$[$0];break;case 5:this.$=yy.Add.createOrAppend($$[$0-2],$$[$0]);break;case 6:this.$=yy.Add.createOrAppend($$[$0-2],yy.Mul.handleNegative($$[$0],"subtract"));break;case 8:this.$=yy.Mul.fold(yy.Mul.createOrAppend($$[$0-1],$$[$0]));break;case 9:this.$=yy.Mul.fold(yy.Mul.createOrAppend($$[$0-2],$$[$0]));break;case 10:this.$=yy.Mul.fold(yy.Mul.handleDivide($$[$0-2],$$[$0]));break;case 12:this.$=yy.Mul.handleNegative($$[$0]);break;case 14:case 17:this.$=[yytext];break;case 16:this.$=$$[$0-2].concat($$[$0]);break;case 18:this.$=yy.Log.natural();break;case 19:this.$=yy.Log.common();break;case 21:this.$=yy.Trig.create($$[$0-1],$$[$0]);break;case 22:this.$=yy.Log.create($$[$0-1],$$[$0]);break;case 24:this.$=new yy.Pow($$[$0-2],$$[$0]);break;case 26:case 34:this.$=yytext;break;case 27:this.$=new yy.Var($$[$0-2],$$[$0]);break;case 28:this.$=new yy.Var($$[$0]);break;case 29:this.$=new yy.Const(yytext.toLowerCase());break;case 30:this.$=yy.Int.create(Number(yytext));break;case 31:this.$=yy.Float.create(Number(yytext));break;case 32:this.$=$$[$0-1].completeParse();break;case 33:this.$=$$[$0-1].completeParse().addHint("parens");break;case 35:case 36:this.$=yy.Pow.sqrt($$[$0-1]);break;case 37:this.$=new yy.Pow.nthroot($$[$0-1],$$[$0-4]);break;case 38:case 39:case 40:this.$=new yy.Abs($$[$0-1]);break;case 41:this.$=new yy.Func($$[$0-3],$$[$0-1]);break;case 44:this.$=yy.Mul.handleDivide($$[$0-4],$$[$0-1])}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},o([5,6],[2,4],{8:$Vh,10:$Vi}),o($Vj,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$Vk,14:$Vl,16:$V1,19:$V2,21:$V3,22:$V4,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,37:$Vb,39:$Vc,42:$Vd,44:$Vf,46:$Vg}),o($Vm,[2,11]),{10:$V0,11:8,13:41,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},o($Vm,[2,13]),{10:$V0,11:8,13:42,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{10:$V0,11:8,13:43,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},o($Vm,[2,23]),o($Vn,[2,15],{18:[1,44]}),o($Vn,[2,17]),o($Vn,[2,18]),o($Vn,[2,19],{23:[1,45]}),o($Vm,[2,25],{18:[1,46]}),o([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),o($Vo,[2,42]),o($Vo,[2,43]),{32:[1,47]},o($Vo,[2,28],{23:[1,48]}),o($Vo,[2,29]),o($Vo,[2,30]),o($Vo,[2,31]),{7:49,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{7:50,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{7:56,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{34:[1,57]},o([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{1:[2,2]},{9:59,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{9:60,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},o($Vm,[2,8]),{10:$V0,11:8,13:61,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{10:$V0,11:8,13:62,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},o($Vm,[2,12]),o($Vm,[2,21]),o($Vm,[2,22]),{10:$V0,11:8,13:63,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{24:64,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va},{10:$V0,11:8,13:65,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{7:66,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{24:67,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va},{8:$Vh,10:$Vi,33:[1,68]},{8:$Vh,10:$Vi,35:[1,69]},{7:70,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{7:71,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{7:72,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{7:73,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{8:$Vh,10:$Vi,43:[1,74]},{8:$Vh,10:$Vi,45:[1,75]},{7:76,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{6:[1,77]},o($Vj,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$Vk,14:$Vl,16:$V1,19:$V2,21:$V3,22:$V4,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,37:$Vb,39:$Vc,42:$Vd,44:$Vf,46:$Vg}),o($Vj,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:$Vk,14:$Vl,16:$V1,19:$V2,21:$V3,22:$V4,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,37:$Vb,39:$Vc,42:$Vd,44:$Vf,46:$Vg}),o($Vm,[2,9]),o($Vm,[2,10]),o($Vn,[2,16]),o($Vn,[2,20]),o($Vm,[2,24]),{8:$Vh,10:$Vi,33:[1,78]},o($Vo,[2,27]),o($Vo,[2,32]),o($Vo,[2,33]),{8:$Vh,10:$Vi,35:[1,79]},{8:$Vh,10:$Vi,33:[1,80]},{8:$Vh,10:$Vi,41:[1,81]},{8:$Vh,10:$Vi,35:[1,82]},o($Vo,[2,39]),o($Vo,[2,40]),{8:$Vh,10:$Vi,35:[1,83]},{1:[2,1]},{32:[1,84]},o($Vo,[2,35]),o($Vo,[2,36]),{32:[1,85]},o($Vo,[2,38]),o($Vo,[2,41]),{7:86,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{7:87,9:5,10:$V0,11:8,13:6,15:12,16:$V1,17:9,19:$V2,20:10,21:$V3,22:$V4,24:18,25:11,26:16,27:21,28:$V5,29:$V6,30:$V7,31:$V8,32:$V9,34:$Va,36:31,37:$Vb,38:19,39:$Vc,42:$Vd,43:$Ve,44:$Vf,46:$Vg},{8:$Vh,10:$Vi,33:[1,88]},{8:$Vh,10:$Vi,33:[1,89]},o($Vo,[2,44]),o($Vo,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function parseError(str,hash){if(!hash.recoverable)throw new Error(str);this.trace(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=lexer.lex()||1)&&(token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{flex:!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:case 1:case 2:break;case 3:return"INT";case 4:return"FLOAT";case 5:case 15:return"^";case 6:case 7:case 8:case 9:return"*";case 10:case 11:return"/";case 12:case 13:return"-";case 14:return"+";case 16:case 18:return"(";case 17:case 19:return")";case 20:return"[";case 21:return"]";case 22:case 24:return"{";case 23:case 25:return"}";case 26:return"_";case 27:return"|";case 28:return"LEFT|";case 29:return"RIGHT|";case 30:return"!";case 31:return"SIGN";case 32:case 34:case 40:return yy_.yytext="<=","SIGN";case 33:case 35:case 41:return yy_.yytext=">=","SIGN";case 36:case 37:case 38:case 39:return yy_.yytext="<>","SIGN";case 42:case 43:return"FRAC";case 44:return"sqrt";case 45:return"abs";case 46:return"ln";case 47:return"log";case 48:case 49:case 50:case 51:return"TRIG";case 52:return yy_.yytext="sin","TRIG";case 53:return yy_.yytext="cos","TRIG";case 54:return yy_.yytext="tan","TRIG";case 55:return yy_.yytext="csc","TRIG";case 56:return yy_.yytext="sec","TRIG";case 57:return yy_.yytext="cot","TRIG";case 58:return yy_.yytext="arcsin","TRIG";case 59:return yy_.yytext="arccos","TRIG";case 60:return yy_.yytext="arctan","TRIG";case 61:return yy_.yytext="arccsc","TRIG";case 62:return yy_.yytext="arcsec","TRIG";case 63:return yy_.yytext="arccot","TRIG";case 64:case 65:return"TRIGINV";case 66:return yy_.yytext="sinh","TRIG";case 67:return yy_.yytext="cosh","TRIG";case 68:case 71:return yy_.yytext="tanh","TRIG";case 69:return yy_.yytext="csch","TRIG";case 70:return yy_.yytext="sech","TRIG";case 72:return"CONST";case 73:case 74:return yy_.yytext="pi","CONST";case 75:case 78:return"VAR";case 76:case 77:return yy_.yytext="theta","VAR";case 79:case 80:return yy_.yytext="phi","VAR";case 81:return yy.symbolLexer(yy_.yytext);case 82:return"EOF";case 83:return"INVALID";case 84:console.log(yy_.yytext)}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|·)/,/^(?:\\times|×)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|÷)/,/^(?:-)/,/^(?:−)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:≠)/,/^(?:≤)/,/^(?:≥)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:π)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:θ)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:φ)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}(),nodes_abstract=function(){throw new Error("Abstract method - must override for expr: "+this.print())},error=function(message){throw new Error(message)},nodes_isNaN=function(object){return object!=object};function Expr(){}function Seq(){}function Add(){this.terms=1===arguments.length?arguments[0]:index_all.ZP.toArray(arguments)}function Mul(){this.terms=1===arguments.length?arguments[0]:index_all.ZP.toArray(arguments)}function Pow(base,exp){this.base=base,this.exp=exp}function Log(base,power){this.base=base,this.power=power}function Trig(type,arg){this.type=type,this.arg=arg}function Abs(arg){this.arg=arg}function Eq(left,type,right){this.left=left,this.type=type,this.right=right}function Symbol(){}function Func(symbol,arg){this.symbol=symbol,this.arg=arg}function Var(symbol,subscript){this.symbol=symbol,this.subscript=subscript}function Const(symbol){this.symbol=symbol}function Num(){}function Rational(numerator,denominator){var n=numerator,d=denominator;d<0&&(n=-n,d=-d),this.n=n,this.d=d}function Int(number){this.n=number}function Float(number){this.n=number}index_all.ZP.extend(Expr.prototype,{func:nodes_abstract,args:nodes_abstract,construct:function(args){var instance=new this.func;return this.func.apply(instance,args),instance},recurse:function(method){var passed=Array.prototype.slice.call(arguments,1),args=index_all.ZP.map(this.args(),(function(arg){return index_all.ZP.isString(arg)?arg:arg[method].apply(arg,passed)}));return this.construct(args)},eval:nodes_abstract,codegen:nodes_abstract,compile:function(){var code=this.codegen();try{return new Function("vars","return "+code+";")}catch(e){throw new Error("Function did not compile: "+code)}},print:nodes_abstract,tex:nodes_abstract,asTex:function(options){options=options||{},index_all.ZP.defaults(options,{display:!0,dynamic:!0,times:!1});var tex=this.tex();return options.display&&(tex="\\displaystyle "+tex),options.dynamic&&(tex=(tex=tex.replace(/\(/g,"\\left(")).replace(/\)/g,"\\right)")),options.times&&(tex=tex.replace(/\\cdot/g,"\\times")),tex},name:function(){return this.func.name?this.func.name:this.func.toString().match(/^function\s*([^\s(]+)/)[1]},repr:function(){return this.name()+"("+index_all.ZP.map(this.args(),(function(arg){return index_all.ZP.isString(arg)?arg:arg.repr()})).join(",")+")"},strip:function(){return this.recurse("strip")},normalize:function(){return this.recurse("normalize")},expand:function(){return this.recurse("expand")},factor:function(options){return this.recurse("factor",options)},collect:function(options){return this.recurse("collect",options)},equals:function(other){return this.normalize().print()===other.normalize().print()},simplify:function(options){options=index_all.ZP.extend({once:!1},options);var step1=this.factor(options),step2=step1.collect(options);step1.equals(step2)&&(step2=this.collect(options));var step3=step2.expand(options),step4=step3.collect(options);step3.equals(step4)&&(step4=step2.collect(options));var simplified=step4;return options.once||this.equals(simplified)?simplified:simplified.simplify(options)},isSimplified:function(){return this.equals(this.simplify())},exprArgs:function(){return index_all.ZP.filter(this.args(),(function(arg){return arg instanceof Expr}))},getVars:function(excludeFunc){return index_all.ZP.uniq(index_all.ZP.flatten(index_all.ZP.invoke(this.exprArgs(),"getVars",excludeFunc))).sort()},getConsts:function(){return index_all.ZP.uniq(index_all.ZP.flatten(index_all.ZP.invoke(this.exprArgs(),"getConsts"))).sort()},getUnits:function(){return index_all.ZP.flatten(index_all.ZP.invoke(this.exprArgs(),"getUnits"))},is:function(func){return this instanceof func},has:function(func){return this instanceof func||index_all.ZP.any(this.exprArgs(),(function(arg){return arg.has(func)}))},raiseToThe:function(exp){return new Pow(this,exp)},isSubtract:function(){return!1},isDivide:function(){return!1},isRoot:function(){return!1},needsExplicitMul:function(){return this.args()[0].needsExplicitMul()},sameVars:function(other){var vars1=this.getVars(),vars2=other.getVars(),same=function(array1,array2){return!index_all.ZP.difference(array1,array2).length},lower=function(array){return index_all.ZP.uniq(index_all.ZP.invoke(array,"toLowerCase")).sort()};return{equal:same(vars1,vars2),equalIgnoringCase:same(lower(vars1),lower(vars2))}},compare:function(other){if(other instanceof Eq)return!1;var varList=index_all.ZP.union(this.getVars(!0),other.getVars(!0)),equalNumbers=function(num1,num2){var delta=function(num1,num2){return Math.abs(num1)<1||Math.abs(num2)<1?Math.abs(num1-num2):Math.abs(1-num1/num2)}(num1,num2);return num1===num2||nodes_isNaN(num1)&&nodes_isNaN(num2)||delta<Math.pow(10,-9)};if(!varList.length&&!this.has(Unit)&&!other.has(Unit))return equalNumbers(this.eval(),other.eval());var expr1=this.collect(),expr2=other.collect(),unitList1=this.getUnits(),unitList2=other.getUnits();if(!index_all.ZP.isEqual(unitList1,unitList2))return!1;for(var i=0;i<12;i++){var equal,vars={},range=Math.pow(10,1+Math.floor(3*i/12)),useFloats=i%2==0;if(index_all.ZP.each(varList,(function(v){var min,extent;vars[v]=useFloats?(extent=range-(min=-range),Math.random()*extent+min):index_all.ZP.random(-range,range)})),expr1.has(Func)||expr2.has(Func)||expr1.has(Unit)||expr2.has(Unit)){var result1=expr1.partialEval(vars),result2=expr2.partialEval(vars);equal=result1.simplify().equals(result2.simplify())}else{equal=equalNumbers(result1=expr1.eval(vars),result2=expr2.eval(vars))}if(!equal)return!1}return!0},partialEval:function(vars){return this instanceof Unit?this:this.has(Func)?this instanceof Func?new Func(this.symbol,this.arg.partialEval(vars)):this.recurse("partialEval",vars):new Float(this.eval(vars).toFixed(9)).collect()},sameForm:function(other){return this.strip().equals(other.strip())},findGCD:function(factor){return this.equals(factor)?factor:Num.One},getDenominator:function(){return Num.One},asMul:function(){return new Mul(Num.One,this)},isPositive:nodes_abstract,isNegative:function(){return!1},asPositiveFactor:function(){return this.isPositive()?this:Num.One},addHint:function(hint){if(!hint)return this;var expr=this.construct(this.args());return expr.hints=index_all.ZP.clone(this.hints),expr.hints[hint]=!0,expr},hints:{parens:!1},asExpr:function(){return this},completeParse:function(){return this.recurse("completeParse")},abs:nodes_abstract,negate:function(){return new Mul(Num.Neg,this)}}),Seq.prototype=new Expr,index_all.ZP.extend(Seq.prototype,{args:function(){return this.terms},normalize:function(){var terms=index_all.ZP.sortBy(index_all.ZP.invoke(this.terms,"normalize"),(function(term){return term.print()}));return new this.func(terms)},expand:function(){return this.recurse("expand").flatten()},partition:function(){var terms=index_all.ZP.groupBy(this.terms,(function(term){return term instanceof Num})),numbers=terms[!0]||[],others=terms[!1]||[];return[new this.func(numbers),new this.func(others)]},flatten:function(){var type=this,terms=index_all.ZP.reject(this.terms,(function(term){return term.equals(type.identity)}));if(0===terms.length)return type.identity;if(1===terms.length)return terms[0];var grouped=index_all.ZP.groupBy(terms,(function(term){return term instanceof type.func})),same=grouped[!0]||[],flattened=(grouped[!1]||[]).concat(index_all.ZP.flatten(index_all.ZP.pluck(same,"terms"),!0));return new type.func(flattened)},identity:void 0,reduce:nodes_abstract,isPositive:function(){var terms=index_all.ZP.invoke(this.terms,"collect");return index_all.ZP.all(index_all.ZP.invoke(terms,"isPositive"))},replace:function(oldTerm,newTerm){var index;index=oldTerm instanceof Expr?index_all.ZP.indexOf(this.terms,oldTerm):oldTerm;var newTerms=[];index_all.ZP.isArray(newTerm)?newTerms=newTerm:newTerm&&(newTerms=[newTerm]);var terms=this.terms.slice(0,index).concat(newTerms).concat(this.terms.slice(index+1));return new this.func(terms)},remove:function(term){return this.replace(term)},getDenominator:function(){return new Mul(index_all.ZP.invoke(this.terms,"getDenominator")).flatten()}}),Add.prototype=new Seq,index_all.ZP.extend(Add.prototype,{func:Add,eval:function(vars,options){return index_all.ZP.reduce(this.terms,(function(memo,term){return memo+term.eval(vars,options)}),0)},codegen:function(){return index_all.ZP.map(this.terms,(function(term){return"("+term.codegen()+")"})).join(" + ")||"0"},print:function(){return index_all.ZP.invoke(this.terms,"print").join("+")},tex:function(){var tex="";return index_all.ZP.each(this.terms,(function(term){!tex||term.isSubtract()?tex+=term.tex():tex+="+"+term.tex()})),tex},collect:function(options){var terms=index_all.ZP.invoke(this.terms,"collect",options),pairs=[];index_all.ZP.each(terms,(function(term){if(term instanceof Mul){var muls=term.partition();pairs.push([muls[1].flatten(),muls[0].reduce(options)])}else term instanceof Num?pairs.push([Num.One,term]):pairs.push([term,Num.One])}));var grouped=index_all.ZP.groupBy(pairs,(function(pair){return pair[0].normalize().print()})),collected=index_all.ZP.compact(index_all.ZP.map(grouped,(function(pairs){var expr=pairs[0][0];return new Mul(new Add(index_all.ZP.zip.apply(index_all.ZP,pairs)[1]).reduce(options),expr).collect(options)})));return new Add(collected).flatten()},factor:function(options){options=index_all.ZP.extend({keepNegative:!1},options);var factors,terms=index_all.ZP.invoke(this.terms,"collect");factors=terms[0]instanceof Mul?terms[0].terms:[terms[0]],index_all.ZP.each(index_all.ZP.rest(this.terms),(function(term){factors=index_all.ZP.map(factors,(function(factor){return term.findGCD(factor)}))})),!options.keepNegative&&this.isNegative()&&factors.push(Num.Neg),factors=new Mul(factors).flatten().collect();var remainder=index_all.ZP.map(terms,(function(term){return Mul.handleDivide(term,factors).simplify()}));return remainder=new Add(remainder).flatten(),Mul.createOrAppend(factors,remainder).flatten()},reduce:function(options){return index_all.ZP.reduce(this.terms,(function(memo,term){return memo.add(term,options)}),this.identity)},needsExplicitMul:function(){return!1},isNegative:function(){var terms=index_all.ZP.invoke(this.terms,"collect");return index_all.ZP.all(index_all.ZP.invoke(terms,"isNegative"))},negate:function(){return new Add(index_all.ZP.invoke(this.terms,"negate"))}}),Mul.prototype=new Seq,index_all.ZP.extend(Mul.prototype,{func:Mul,eval:function(vars,options){return index_all.ZP.reduce(this.terms,(function(memo,term){return memo*term.eval(vars,options)}),1)},codegen:function(){return index_all.ZP.map(this.terms,(function(term){return"("+term.codegen()+")"})).join(" * ")||"0"},print:function(){return index_all.ZP.map(this.terms,(function(term){return term instanceof Add?"("+term.print()+")":term.print()})).join("*")},getUnits:function(){var tmUnits=(0,index_all.ZP)(this.terms).chain().map((function(term){return term.getUnits()})).flatten().value();return tmUnits.sort(((a,b)=>a.unit.localeCompare(b.unit))),tmUnits},tex:function(){for(var numerator,terms=index_all.ZP.groupBy(this.terms,(function(term){return term.isDivide()?"inverse":term instanceof Num?"number":"other"})),inverses=terms.inverse||[],numbers=terms.number||[],others=terms.other||[],negatives="",i=0;i<numbers.length;i++){if(numbers[i]instanceof Rational&&!(numbers[i]instanceof Int)&&others.length>0&&inverses.length>0){var withThisRemoved=numbers.slice();withThisRemoved.splice(i,1);var newTerms=withThisRemoved.concat(inverses).concat(others);return numbers[i].tex()+new Mul(newTerms).tex()}}if(0===(numbers=index_all.ZP.compact(index_all.ZP.map(numbers,(function(term){var hasDenom=term instanceof Rational&&!(term instanceof Int),shouldPushDown=!term.hints.fraction||inverses.length>0;if(hasDenom&&shouldPushDown){inverses.push(new Pow(new Int(term.d),Num.Div));var number=new Int(term.n);return number.hints=term.hints,index_all.ZP.any(term.hints)?number:null}return term})))).length&&1===others.length)numerator=others[0].tex();else{var tex="";index_all.ZP.each(numbers,(function(term){term.hints.subtract&&term.hints.entered?(negatives+="-",tex+=(tex?" \\cdot ":"")+term.abs().tex()):term instanceof Int&&-1===term.n&&(term.hints.negate||term.hints.subtract)?negatives+="-":tex+=(tex?" \\cdot ":"")+term.tex()})),index_all.ZP.each(others,(function(term){term.needsExplicitMul()?tex+=(tex?" \\cdot ":"")+term.tex():tex+=term instanceof Add?"("+term.tex()+")":term.tex()})),numerator=tex||"1"}if(inverses.length){var denominator=new Mul(index_all.ZP.invoke(inverses,"asDivide")).flatten().tex();return negatives+"\\frac{"+numerator+"}{"+denominator+"}"}return negatives+numerator},strip:function(){return new Mul(index_all.ZP.map(this.terms,(function(term){return term instanceof Num?term.abs():term.strip()}))).flatten()},expand:function(){var isAdd=function(term){return term instanceof Add},isInverse=function(term){return term instanceof Pow&&term.exp.isNegative()},mul=this.recurse("expand").flatten(),hasAdd=index_all.ZP.any(mul.terms,isAdd),hasInverseAdd=index_all.ZP.any(mul.terms,(function(term){return isInverse(term)&&isAdd(term.base)}));if(!hasAdd&&!hasInverseAdd)return mul;var terms=index_all.ZP.groupBy(mul.terms,isInverse),normals=terms[!1]||[],inverses=terms[!0]||[];if(hasAdd){var grouped=index_all.ZP.groupBy(normals,isAdd),adds=grouped[!0]||[],others=grouped[!1]||[],expanded=index_all.ZP.reduce(adds,(function(expanded,add){return index_all.ZP.reduce(expanded,(function(temp,array){return temp.concat(index_all.ZP.map(add.terms,(function(term){return array.concat(term)})))}),[])}),[[]]);normals=[new Add(index_all.ZP.map(expanded,(function(array){return new Mul(others.concat(array)).flatten()})))]}hasInverseAdd&&(inverses=[new Pow(new Mul(index_all.ZP.invoke(inverses,"getDenominator")).flatten().expand(),Num.Div)]);return new Mul(normals.concat(inverses)).flatten()},factor:function(options){var factored=this.recurse("factor",options).flatten();if(!(factored instanceof Mul))return factored;var grouped=index_all.ZP.groupBy(factored.terms,(function(term){return term instanceof Rational})),rational=index_all.ZP.reduce(grouped[!0],(function(memo,term){return{n:memo.n*term.n,d:memo.d*term.d}}),{n:1,d:1});return rational=1===rational.d?new Int(rational.n):new Rational(rational.n,rational.d),new Mul((grouped[!1]||[]).concat(rational)).flatten()},collect:function(options){var partitioned=this.recurse("collect",options).partition(),number=partitioned[0].reduce(options);if(0===number.eval())return Num.Zero;var others=partitioned[1].flatten();if(!(others instanceof Mul))return new Mul(number,others).flatten();others=others.terms;var pairs=[];index_all.ZP.each(others,(function(term){term instanceof Pow?pairs.push([term.base,term.exp]):pairs.push([term,Num.One])}));var grouped=index_all.ZP.groupBy(pairs,(function(pair){return pair[0].normalize().print()})),summed=index_all.ZP.compact(index_all.ZP.map(grouped,(function(pairs){var base=pairs[0][0],exp=new Add(index_all.ZP.zip.apply(index_all.ZP,pairs)[1]).collect(options);return exp instanceof Num&&0===exp.eval()?null:[base,exp]}))),trigs=(pairs=index_all.ZP.groupBy(summed,(function(pair){return pair[0]instanceof Trig&&pair[0].isBasic()?"trig":pair[0]instanceof Log?"log":"expr"}))).trig||[],logs=pairs.log||[],exprs=pairs.expr||[];if(trigs.length>1){var byArg=index_all.ZP.groupBy(trigs,(function(pair){return pair[0].arg.normalize().print()}));trigs=[],index_all.ZP.each(byArg,(function(pairs){var arg=pairs[0][0].arg,funcs={sin:Num.Zero,cos:Num.Zero};index_all.ZP.each(pairs,(function(pair){funcs[pair[0].type]=pair[1]})),Mul.handleNegative(funcs.sin).collect(options).equals(funcs.cos)&&(funcs=funcs.cos.isNegative()?{tan:funcs.sin}:{cot:funcs.cos}),index_all.ZP.each(funcs,(function(exp,type){trigs.push([new Trig(type,arg),exp])}))}))}if(logs.length>1){var byBase=index_all.ZP.groupBy(logs,(function(pair){return pair[0].base.normalize().print()}));logs=[],index_all.ZP.each(byBase,(function(pairs){2===pairs.length&&Mul.handleNegative(pairs[0][1]).collect(options).equals(pairs[1][1])?pairs[0][1].isNegative()?logs.push([new Log(pairs[0][0].power,pairs[1][0].power),pairs[1][1]]):logs.push([new Log(pairs[1][0].power,pairs[0][0].power),pairs[0][1]]):logs=logs.concat(pairs)}))}pairs=trigs.concat(logs).concat(exprs);var collected=index_all.ZP.map(pairs,(function(pair){return new Pow(pair[0],pair[1]).collect(options)}));return new Mul([number].concat(collected)).flatten()},isSubtract:function(){return index_all.ZP.any(this.terms,(function(term){return term instanceof Num&&term.hints.subtract}))},factorIn:function(hint){var numbers=this.partition()[0].terms,fold=numbers.length&&index_all.ZP.all(numbers,(function(num){return num.n>0}));if(fold){var num=numbers[0].negate();return num.hints=numbers[0].hints,this.replace(numbers[0],num.addHint(hint))}return new Mul([Num.negativeOne(hint)].concat(this.terms))},factorOut:function(){var factored=!1,terms=index_all.ZP.compact(index_all.ZP.map(this.terms,(function(term,i,list){return!factored&&term instanceof Num&&term.hints.divide?(factored=!0,-1!==term.n?term.negate():null):term})));return 1===terms.length?terms[0]:new Mul(terms)},reduce:function(options){return index_all.ZP.reduce(this.terms,(function(memo,term){return memo.mul(term,options)}),this.identity)},findGCD:function(factor){return new Mul(index_all.ZP.invoke(this.terms,"findGCD",factor)).flatten()},asMul:function(){return this},asPositiveFactor:function(){return this.isPositive()?this:new Mul(index_all.ZP.invoke(this.collect().terms,"asPositiveFactor")).flatten()},isNegative:function(){return index_all.ZP.any(index_all.ZP.invoke(this.collect().terms,"isNegative"))},fold:function(){return Mul.fold(this)},negate:function(){var isNum=function(expr){return expr instanceof Num};if(index_all.ZP.any(this.terms,isNum)){var num=index_all.ZP.find(this.terms,isNum);return this.replace(num,num.negate())}return new Mul([Num.Neg].concat(this.terms))}}),index_all.ZP.each([Add,Mul],(function(type){index_all.ZP.extend(type,{createOrAppend:function(left,right){return left instanceof type?new type(left.terms.concat(right)):new type(left,right)}})})),index_all.ZP.extend(Mul,{handleNegative:function(expr,hint){if(expr instanceof Num&&expr.n>0){var negated=expr.negate();return negated.hints=expr.hints,negated.addHint(hint)}return expr instanceof Mul?expr.factorIn(hint):new Mul(Num.negativeOne(hint),expr)},handleDivide:function(left,right){if(right instanceof Mul){var first=Mul.handleDivide(left,right.terms[0]),rest=new Mul(index_all.ZP.rest(right.terms)).flatten();return Mul.handleDivide(first,rest)}var isInt=function(expr){return expr instanceof Int};if(isInt(right)&&left instanceof Mul&&index_all.ZP.any(left.terms,isInt)){var reversed=left.terms.slice().reverse(),num=index_all.ZP.find(reversed,(function(expr){return expr instanceof Rational}));if(!isInt(num))return new Mul(left.terms.concat([new Rational(1,right.n).addHint("fraction")]));var rational=new Rational(num.n,right.n);return rational.hints=num.hints,num===reversed[0]&&(rational=rational.addHint("fraction")),num.n<0&&right.n<0?(rational.d=-rational.d,left.replace(num,[Num.Neg,rational])):left.replace(num,rational)}var divide=function(a,b){if(b instanceof Int){if(a instanceof Int)return a.n<0&&b.n<0?[Num.Neg,new Rational(a.n,-b.n).addHint("fraction")]:[new Rational(a.n,b.n).addHint("fraction")];var inverse=new Rational(1,b.eval());return b.eval()<0?[a,inverse.addHint("negate")]:[a,inverse]}var pow;if(b instanceof Trig&&b.exp){var exp=b.exp;b.exp=void 0,b=new Pow(b,exp)}return pow=b instanceof Pow?new Pow(b.base,Mul.handleNegative(b.exp,"divide")):new Pow(b,Num.Div),a instanceof Int&&1===a.n?[pow]:[a,pow]};if(left instanceof Mul){var divided=divide(index_all.ZP.last(left.terms),right);return new Mul(index_all.ZP.initial(left.terms).concat(divided))}return new Mul(divided=divide(left,right)).flatten()},fold:function(expr){if(expr instanceof Mul){var trigLog=index_all.ZP.find(index_all.ZP.initial(expr.terms),(function(term){return(term instanceof Trig||term instanceof Log)&&term.hints.open})),index=index_all.ZP.indexOf(expr.terms,trigLog);if(trigLog){var newTrigLog,last=index_all.ZP.last(expr.terms);if(!(trigLog.hints.parens||last.hints.parens||last.has(Trig)||last.has(Log)))return newTrigLog=trigLog instanceof Trig?Trig.create([trigLog.type,trigLog.exp],Mul.createOrAppend(trigLog.arg,last).fold()):Log.create(trigLog.base,Mul.createOrAppend(trigLog.power,last).fold()),0===index?newTrigLog:new Mul(expr.terms.slice(0,index).concat(newTrigLog)).fold();trigLog.hints.open=!1}var numbers=expr.partition()[0].terms,pos=function(num){return num.n>0},neg=function(num){return-1===num.n&&num.hints.negate};if(numbers.length>1&&index_all.ZP.some(numbers,neg)&&index_all.ZP.some(numbers,pos)&&index_all.ZP.every(numbers,(function(num){return pos(num)||neg(num)}))){var firstNeg=index_all.ZP.indexOf(expr.terms,index_all.ZP.find(expr.terms,neg)),firstNum=index_all.ZP.indexOf(expr.terms,index_all.ZP.find(expr.terms,pos));if(firstNeg<firstNum)return expr.replace(firstNum,expr.terms[firstNum].negate()).remove(firstNeg)}}return expr}}),Pow.prototype=new Expr,index_all.ZP.extend(Pow.prototype,{func:Pow,args:function(){return[this.base,this.exp]},eval:function(vars,options){var evaledBase=this.base.eval(vars,options),evaledExp=this.exp.eval(vars,options);if(evaledBase<0){var simplifiedExp=this.exp.simplify();if(simplifiedExp instanceof Float){var num=simplifiedExp.n,decimals=(num-num.toFixed()).toString().length-2,denominator=Math.pow(10,decimals);simplifiedExp=new Rational(num*denominator,denominator).simplify()}if(simplifiedExp instanceof Rational)if(Math.abs(simplifiedExp.d)%2==1)return(Math.abs(simplifiedExp.n)%2==1?-1:1)*Math.pow(-1*evaledBase,evaledExp)}return Math.pow(evaledBase,evaledExp)},getUnits:function(){return this.base.getUnits().map(function(unit){return{unit:unit.unit,pow:unit.pow*this.exp.n}}.bind(this))},codegen:function(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"},print:function(){var base=this.base.print();return(this.base instanceof Seq||this.base instanceof Pow)&&(base="("+base+")"),base+"^("+this.exp.print()+")"},tex:function(){if(this.isDivide())return"\\frac{1}{"+this.asDivide().tex()+"}";if(this.isRoot())return 1!==this.exp.n&&error("Node marked with hint 'root' does not have exponent of form 1/x."),2===this.exp.d?"\\sqrt{"+this.base.tex()+"}":"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}";if(this.base instanceof Trig&&!this.base.isInverse()&&this.exp instanceof Num&&this.exp.isSimple()&&this.exp.eval()>=0){var split=this.base.tex({split:!0});return split[0]+"^{"+this.exp.tex()+"}"+split[1]}var base=this.base.tex();return this.base instanceof Seq||this.base instanceof Pow||this.base instanceof Num&&!this.base.isSimple()?base="("+base+")":(this.base instanceof Trig||this.base instanceof Log)&&(base="["+base+"]"),base+"^{"+this.exp.tex()+"}"},needsExplicitMul:function(){return!this.isRoot()&&this.base.needsExplicitMul()},expand:function(){var pow=this.recurse("expand");if(pow.base instanceof Mul)return new Mul(index_all.ZP.map(pow.base.terms,(function(term){return new Pow(term,pow.exp)}))).expand();if(pow.base instanceof Add&&pow.exp instanceof Int&&pow.exp.abs().eval()>1){for(var positive=pow.exp.eval()>0,n=pow.exp.abs().eval(),signed=function(mul){return positive?mul:new Pow(mul,Num.Div)},cache={1:pow.base},i=2;i<=n;i*=2){var mul=new Mul(cache[i/2],cache[i/2]);cache[i]=mul.expand().collect()}if(index_all.ZP.has(cache,n))return signed(cache[n]);var indices=index_all.ZP.map(n.toString(2).split(""),(function(str,i,list){return Number(str)*Math.pow(2,list.length-i-1)}));return indices=index_all.ZP.without(indices,0),signed(mul=new Mul(index_all.ZP.pick(cache,indices)).expand().collect())}return pow.exp instanceof Add?new Mul(index_all.ZP.map(pow.exp.terms,(function(term){return new Pow(pow.base,term).expand()}))).expand():pow},factor:function(){var pow=this.recurse("factor");return pow.base instanceof Mul?new Mul(index_all.ZP.map(pow.base.terms,(function(term){return term instanceof Int&&pow.exp.equals(Num.Div)?new Rational(1,term.n):new Pow(term,pow.exp)}))):pow},collect:function(options){if(this.base instanceof Pow)return new Pow(this.base.base,exp=Mul.createOrAppend(this.base.exp,this.exp)).collect(options);var pow=this.recurse("collect",options),isSimilarLog=function(term){return term instanceof Log&&term.base.equals(pow.base)};if(pow.exp instanceof Num&&0===pow.exp.eval())return Num.One;if(pow.exp instanceof Num&&1===pow.exp.eval())return pow.base;if(isSimilarLog(pow.exp))return pow.exp.power;if(pow.exp instanceof Mul&&index_all.ZP.any(pow.exp.terms,isSimilarLog)){var log=index_all.ZP.find(pow.exp.terms,isSimilarLog);return new Pow(log.power,exp=pow.exp.remove(log).flatten()).collect(options)}if(pow.base instanceof Num&&pow.exp instanceof Num){if(options&&options.preciseFloats){var exp=pow.exp.asRational(),decimalsInBase=pow.base.getDecimalPlaces();if(new Pow(pow.base,new Rational(1,exp.d)).collect().getDecimalPlaces()>decimalsInBase){var newBase=new Pow(pow.base,new Int(exp.n)).collect();return new Pow(newBase,new Rational(1,exp.d))}}return pow.base.raiseToThe(pow.exp,options)}return pow},isDivide:function(){var isDiv=function(arg){return arg instanceof Num&&arg.hints.divide};return isDiv(this.exp)||this.exp instanceof Mul&&index_all.ZP.any(this.exp.terms,isDiv)},asDivide:function(){if(this.exp instanceof Num){if(-1===this.exp.eval())return this.base;var negated=this.exp.negate();return negated.hints=index_all.ZP.clone(this.exp.hints),negated.hints.divide=!1,new Pow(this.base,negated)}if(this.exp instanceof Mul)return new Pow(this.base,this.exp.factorOut());error("called asDivide() on an Expr that wasn't a Num or Mul")},isRoot:function(){return this.exp instanceof Rational&&this.exp.hints.root},isSquaredTrig:function(){return this.base instanceof Trig&&!this.base.isInverse()&&this.exp instanceof Num&&2===this.exp.eval()},getDenominator:function(){if(this.exp instanceof Num&&-1===this.exp.eval())return Mul.createOrAppend(this.base,this.base.getDenominator()).flatten();if(this.exp.isNegative()){var pow=new Pow(this.base,Mul.handleNegative(this.exp).collect());return Mul.createOrAppend(pow,pow.collect().getDenominator()).flatten()}return this.base instanceof Num?new Pow(this.base.getDenominator(),this.exp).collect():Num.One},findGCD:function(factor){var base,exp;if(factor instanceof Pow?(base=factor.base,exp=factor.exp):(base=factor,exp=Num.One),this.base.equals(base)){if(this.exp.equals(exp))return this;if(this.exp instanceof Num&&exp instanceof Num)return new Pow(this.base,Num.min(this.exp,exp)).collect();if(this.exp instanceof Num||exp instanceof Num)return Num.One;var expA=this.exp.asMul().partition(),expB=exp.asMul().partition();if(expA[1].equals(expB[1]))return new Pow(base,new Mul(Num.min(expA[0].reduce(),expB[0].reduce()),expA[1].flatten()).flatten()).collect()}return Num.One},isPositive:function(){if(this.base.isPositive())return!0;var exp=this.exp.simplify();return exp instanceof Int&&exp.eval()%2==0},asPositiveFactor:function(){if(this.isPositive())return this;var exp=this.exp.simplify();if(exp instanceof Int){var n=exp.eval();if(n>2)return new Pow(this.base,new Int(n-1));if(n<-2)return new Pow(this.base,new Int(n+1))}return Num.One}}),index_all.ZP.extend(Pow,{sqrt:function(arg){return new Pow(arg,Num.Sqrt)},nthroot:function(radicand,degree){return new Pow(radicand,Mul.fold(Mul.handleDivide(new Int(1),degree)).addHint("root"))}}),Log.prototype=new Expr,index_all.ZP.extend(Log.prototype,{func:Log,args:function(){return[this.base,this.power]},eval:function(vars,options){return Math.log(this.power.eval(vars,options))/Math.log(this.base.eval(vars,options))},codegen:function(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"},print:function(){var power="("+this.power.print()+")";return this.isNatural()?"ln"+power:"log_("+this.base.print()+") "+power},tex:function(){var power="("+this.power.tex()+")";return this.isNatural()?"\\ln"+power:"\\log_{"+this.base.tex()+"}"+power},collect:function(options){var log=this.recurse("collect",options);return log.power instanceof Num&&1===log.power.eval()?Num.Zero:log.base.equals(log.power)?Num.One:log.power instanceof Pow&&log.power.base.equals(log.base)?log.power.exp:log},expand:function(){var log=this.recurse("expand");return log.power instanceof Mul?new Add(index_all.ZP.map(log.power.terms,(function(term){return new Log(log.base,term).expand()}))):log.power instanceof Pow?new Mul(log.power.exp,new Log(log.base,log.power.base).expand()).flatten():log.isNatural()?log:Mul.handleDivide(new Log(Const.e,log.power),new Log(Const.e,log.base))},hints:index_all.ZP.extend(Log.prototype.hints,{open:!1}),isPositive:function(){var log=this.collect();return log.base instanceof Num&&log.power instanceof Num&&this.eval()>0},needsExplicitMul:function(){return!1},isNatural:function(){return this.base.equals(Const.e)}}),index_all.ZP.extend(Log,{natural:function(){return Const.e},common:function(){return Num.Ten},create:function(base,power){var log=new Log(base,power);return power.hints.parens||(log=log.addHint("open")),log}}),Trig.prototype=new Expr,index_all.ZP.extend(Trig.prototype,{func:Trig,args:function(){return[this.type,this.arg]},functions:{sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:function(){return this}},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:function(){return this}},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:function(){return Mul.handleDivide(Trig.sin(this.arg),Trig.cos(this.arg))}},csc:{eval:function(arg){return 1/Math.sin(arg)},codegen:"(1/Math.sin(",tex:"\\csc",expand:function(){return Mul.handleDivide(Num.One,Trig.sin(this.arg))}},sec:{eval:function(arg){return 1/Math.cos(arg)},codegen:"(1/Math.cos(",tex:"\\sec",expand:function(){return Mul.handleDivide(Num.One,Trig.cos(this.arg))}},cot:{eval:function(arg){return 1/Math.tan(arg)},codegen:"(1/Math.tan(",tex:"\\cot",expand:function(){return Mul.handleDivide(Trig.cos(this.arg),Trig.sin(this.arg))}},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:function(arg){return Math.asin(1/arg)},codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:function(arg){return Math.acos(1/arg)},codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:function(arg){return Math.atan(1/arg)},codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:function(arg){return(Math.exp(arg)-Math.exp(-arg))/2},codegen:function(argStr){return"((Math.exp("+argStr+") - Math.exp(-("+argStr+"))) / 2)"},tex:"\\sinh",expand:function(){return this}},cosh:{eval:function(arg){return(Math.exp(arg)+Math.exp(-arg))/2},codegen:function(argStr){return"((Math.exp("+argStr+") + Math.exp(-("+argStr+"))) / 2)"},tex:"\\cosh",expand:function(){return this}},tanh:{eval:function(arg){return(Math.exp(arg)-Math.exp(-arg))/(Math.exp(arg)+Math.exp(-arg))},codegen:function(argStr){return"((Math.exp("+argStr+") - Math.exp(-("+argStr+"))) / (Math.exp("+argStr+") + Math.exp(-("+argStr+"))))"},tex:"\\tanh",expand:function(){return Mul.handleDivide(Trig.sinh(this.arg),Trig.cosh(this.arg))}},csch:{eval:function(arg){return 2/(Math.exp(arg)-Math.exp(-arg))},codegen:function(argStr){return"(2 / (Math.exp("+argStr+") - Math.exp(-("+argStr+"))))"},tex:"\\csch",expand:function(){return Mul.handleDivide(Num.One,Trig.sinh(this.arg))}},sech:{eval:function(arg){return 2/(Math.exp(arg)+Math.exp(-arg))},codegen:function(argStr){return"(2 / (Math.exp("+argStr+") + Math.exp(-("+argStr+"))))"},tex:"\\sech",expand:function(){return Mul.handleDivide(Num.One,Trig.cosh(this.arg))}},coth:{eval:function(arg){return(Math.exp(arg)+Math.exp(-arg))/(Math.exp(arg)-Math.exp(-arg))},codegen:function(argStr){return"((Math.exp("+argStr+") + Math.exp(-("+argStr+"))) / (Math.exp("+argStr+") - Math.exp(-("+argStr+"))))"},tex:"\\coth",expand:function(){return Mul.handleDivide(Trig.cosh(this.arg),Trig.sinh(this.arg))}}},isEven:function(){return index_all.ZP.contains(["cos","sec"],this.type)},isInverse:function(){return 0===this.type.indexOf("arc")},isBasic:function(){return index_all.ZP.contains(["sin","cos"],this.type)},eval:function(vars,options){return(0,this.functions[this.type].eval)(this.arg.eval(vars,options))},codegen:function(){var func=this.functions[this.type].codegen;if("function"==typeof func)return func(this.arg.codegen());if("string"==typeof func)return func+this.arg.codegen()+"))";throw new Error("codegen not implemented for "+this.type)},print:function(){return this.type+"("+this.arg.print()+")"},tex:function(options){var func=this.functions[this.type].tex,arg="("+this.arg.tex()+")";return options&&options.split?[func,arg]:func+arg},hints:index_all.ZP.extend(Trig.prototype.hints,{open:!1}),isPositive:function(){return this.collect().arg instanceof Num&&this.eval()>0},completeParse:function(){if(this.exp){var pow=new Pow(this,this.exp);return this.exp=void 0,pow}return this},needsExplicitMul:function(){return!1},expand:function(){var trig=this.recurse("expand");if(trig.isInverse())return trig;var expand=trig.functions[trig.type].expand;return index_all.ZP.bind(expand,trig)()},collect:function(options){var arg,trig=this.recurse("collect",options);return!trig.isInverse()&&trig.arg.isNegative()?(arg=trig.arg instanceof Num?trig.arg.abs():Mul.handleDivide(trig.arg,Num.Neg).collect(options),trig.isEven()?new Trig(trig.type,arg):new Mul(Num.Neg,new Trig(trig.type,arg))):trig}}),index_all.ZP.extend(Trig,{create:function(pair,arg){var type=pair[0],exp=pair[1];exp&&exp.equals(Num.Neg)&&(type="arc"+type,exp=void 0);var trig=new Trig(type,arg);return arg.hints.parens||(trig=trig.addHint("open")),exp&&(trig.exp=exp),trig},sin:function(arg){return new Trig("sin",arg)},cos:function(arg){return new Trig("cos",arg)},sinh:function(arg){return new Trig("sinh",arg)},cosh:function(arg){return new Trig("cosh",arg)}}),Abs.prototype=new Expr,index_all.ZP.extend(Abs.prototype,{func:Abs,args:function(){return[this.arg]},eval:function(vars,options){return Math.abs(this.arg.eval(vars,options))},codegen:function(){return"Math.abs("+this.arg.codegen()+")"},print:function(){return"abs("+this.arg.print()+")"},tex:function(){return"\\left|"+this.arg.tex()+"\\right|"},collect:function(options){var abs=this.recurse("collect",options);if(abs.arg.isPositive())return abs.arg;if(abs.arg instanceof Num)return abs.arg.abs();if(abs.arg instanceof Mul){var terms=index_all.ZP.groupBy(abs.arg.terms,(function(term){return term.isPositive()?"positive":term instanceof Num?"number":"other"})),positives=terms.positive.concat(index_all.ZP.invoke(terms.number,"abs"));return terms.other.length&&positives.push(new Abs(new Mul(terms.other).flatten())),new Mul(positives).flatten()}return abs},expand:function(){var abs=this.recurse("expand");return abs.arg instanceof Mul?new Mul(index_all.ZP.map(abs.arg.terms,(function(term){return new Abs(term)}))):abs},isPositive:function(){return!0}}),Eq.prototype=new Expr,index_all.ZP.extend(Eq.prototype,{func:Eq,args:function(){return[this.left,this.type,this.right]},needsExplicitMul:function(){return!1},print:function(){return this.left.print()+this.type+this.right.print()},signs:{"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},tex:function(){return this.left.tex()+this.signs[this.type]+this.right.tex()},normalize:function(){var eq=this.recurse("normalize");return index_all.ZP.contains([">",">="],eq.type)?new Eq(eq.right,eq.type.replace(">","<"),eq.left):eq},asExpr:function(unfactored){var isZero=function(expr){return expr instanceof Num&&expr.isSimple()&&0===expr.eval()},terms=[];this.left instanceof Add?terms=index_all.ZP.clone(this.left.terms):isZero(this.left)||(terms=[this.left]),this.right instanceof Add?terms=terms.concat(this.right.negate().terms):isZero(this.right)||terms.push(this.right.negate());var isInequality=!this.isEquality();terms=index_all.ZP.invoke(terms,"collect",{preciseFloats:!0});for(var i=0;i<terms.length;i++){var denominator=terms[i].getDenominator();isInequality&&!denominator.isPositive()&&(denominator=denominator.asPositiveFactor()),denominator.equals(Num.One)||(terms=index_all.ZP.map(terms,(function(term){return Mul.createOrAppend(term,denominator).simplify({once:!0,preciseFloats:!0})})))}var add=new Add(terms).flatten();return unfactored?add:this.divideThrough(add)},divideThrough:function(expr){var isInequality=!this.isEquality(),simplified=expr.simplify({once:!0}),factored=simplified.factor({keepNegative:isInequality});if(!(factored instanceof Mul))return expr;var terms=factored.terms,grouped=index_all.ZP.groupBy(terms,(function(term){return term instanceof Add})),adds=grouped[!0]||[],others=grouped[!1]||[];if(adds.length&&this.isEquality())return new Mul(adds).flatten();var denominator=others;adds.length||(denominator=index_all.ZP.reject(denominator,(function(term){return!!term.getVars().length}))),isInequality&&(denominator=index_all.ZP.invoke(denominator,"asPositiveFactor")),denominator=index_all.ZP.reject(denominator,(function(term){return term.equals(Num.One)})),denominator=index_all.ZP.map(denominator,(function(term){return new Pow(term,Num.Div)}));var dividedResult=new Mul(terms.concat(denominator)).collect();return dividedResult.equals(factored)?simplified:dividedResult},isEquality:function(){return index_all.ZP.contains(["=","<>"],this.type)},compare:function(other){if(!(other instanceof Eq))return!1;var eq1=this.normalize(),eq2=other.normalize();if(eq1.type!==eq2.type)return!1;var expr1=eq1.divideThrough(eq1.asExpr(!0).collect()),expr2=eq2.divideThrough(eq2.asExpr(!0).collect());return eq1.isEquality()?expr1.compare(expr2)||expr1.compare(Mul.handleNegative(expr2)):expr1.compare(expr2)},sameForm:function(other){var eq1=this.normalize(),eq2=other.normalize(),same=eq1.left.sameForm(eq2.left)&&eq1.right.sameForm(eq2.right);return eq1.isEquality()?same||eq1.left.sameForm(eq2.right)&&eq1.right.sameForm(eq2.left):same},isSimplified:function(){var expr=this.asExpr(!0),simplified=this.divideThrough(expr).simplify();return expr.equals(simplified)&&this.left.isSimplified()&&this.right.isSimplified()}}),index_all.ZP.extend(Eq.prototype,{solveLinearEquationForVariable:function(variable){var expr=this.asExpr();if(!expr.is(Add)||2!==expr.terms.length)throw new Error("Can only handle linear equations of the form a + bx (= 0)");var a,b,term;return(term=expr.terms[0]).has(Var)&&index_all.ZP.contains(term.getVars(),variable.symbol)?(a=Mul.handleNegative(expr.terms[1]),b=Mul.handleDivide(expr.terms[0],variable)):(a=Mul.handleNegative(expr.terms[0]),b=Mul.handleDivide(expr.terms[1],variable)),Mul.handleDivide(a,b).simplify()}}),Symbol.prototype=new Expr,index_all.ZP.extend(Symbol.prototype,{needsExplicitMul:function(){return!1},findGCD:function(factor){return factor instanceof Symbol||factor instanceof Num?this.equals(factor)?this:Num.One:factor.findGCD(this)}}),Func.prototype=new Symbol,index_all.ZP.extend(Func.prototype,{func:Func,args:function(){return[this.symbol,this.arg]},print:function(){return this.symbol+"("+this.arg.print()+")"},tex:function(){return this.symbol+"("+this.arg.tex()+")"},eval:function(vars,options){var arg=this.arg,func=vars[this.symbol],newVars=index_all.ZP.extend(index_all.ZP.clone(vars),{x:arg.eval(vars,options)}),parsedFunc=parse(func,options);return parsedFunc.parsed?parsedFunc.expr.eval(newVars,options):parsedFunc},codegen:function(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"},getUnits:function(){return this.arg.getUnits()},getVars:function(excludeFunc){return excludeFunc?this.arg.getVars():index_all.ZP.union(this.arg.getVars(),[this.symbol]).sort()},getConsts:function(){return this.arg.getConsts()}}),Var.prototype=new Symbol,index_all.ZP.extend(Var.prototype,{func:Var,args:function(){return[this.symbol,this.subscript]},exprArgs:function(){return[]},recurse:function(){return this},print:function(){var sub="";return this.subscript&&(sub="_("+this.subscript.print()+")"),this.symbol+sub},prettyPrint:function(){var sub=this.subscript;return sub&&(sub instanceof Num||sub instanceof Symbol)?this.symbol+"_"+sub.print():this.print()},tex:function(){var sub="";return this.subscript&&(sub="_{"+this.subscript.tex()+"}"),(this.symbol.length>1?"\\":"")+this.symbol+sub},repr:function(){return"Var("+this.print()+")"},eval:function(vars,options){return vars[this.prettyPrint()]},codegen:function(){return'vars["'+this.prettyPrint()+'"]'},getVars:function(){return[this.prettyPrint()]},isPositive:function(){return!1}}),Const.prototype=new Symbol,index_all.ZP.extend(Const.prototype,{func:Const,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(vars,options){return"pi"===this.symbol?Math.PI:"e"===this.symbol?Math.E:void 0},codegen:function(){return"pi"===this.symbol?"Math.PI":"e"===this.symbol?"Math.E":void 0},print:function(){return this.symbol},tex:function(){return"pi"===this.symbol?"\\pi ":"e"===this.symbol?"e":void 0},isPositive:function(){return this.eval()>0},abs:function(){return this.eval()>0?this:Mul.handleNegative(this)},getConsts:function(){return[this.print()]}}),Const.e=new Const("e"),Const.pi=new Const("pi"),Num.prototype=new Expr,index_all.ZP.extend(Num.prototype,{repr:function(){return this.print()},strip:function(){return this.abs()},recurse:function(){return this},codegen:function(){return this.print()},add:nodes_abstract,mul:nodes_abstract,negate:nodes_abstract,isSubtract:function(){return this.hints.subtract},abs:nodes_abstract,needsExplicitMul:function(){return!0},findGCD:nodes_abstract,isPositive:function(){return this.eval()>0},isNegative:function(){return this.eval()<0},asPositiveFactor:function(){return this.isPositive()?this:this.abs()},hints:index_all.ZP.extend(Num.prototype.hints,{negate:!1,subtract:!1,divide:!1,root:!1,fraction:!1,entered:!1}),isSimple:nodes_abstract,getDecimalPlaces:function(){var match=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return match?Math.max(0,(match[1]?match[1].length:0)-(match[2]?+match[2]:0)):0},asRational:nodes_abstract}),Rational.prototype=new Num,index_all.ZP.extend(Rational.prototype,{func:Rational,args:function(){return[this.n,this.d]},eval:function(){return this.n/this.d},print:function(){return this.n.toString()+"/"+this.d.toString()},tex:function(){var tex="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+tex:tex},add:function(num,options){return num instanceof Rational?new Rational(this.n*num.d+this.d*num.n,this.d*num.d).collect():num.add(this,options)},mul:function(num,options){return num instanceof Rational?new Rational(this.n*num.n,this.d*num.d).collect():num.mul(this,options)},collect:function(){var gcd=Num.findGCD(this.n,this.d),n=this.n/gcd,d=this.d/gcd;return 1===d?new Int(n):new Rational(n,d)},negate:function(){return new Rational(-this.n,this.d)},abs:function(){return new Rational(Math.abs(this.n),this.d)},findGCD:function(factor){return factor instanceof Rational?new Rational(Num.findGCD(this.n*factor.d,factor.n*this.d),this.d*factor.d).collect():factor instanceof Int?new Rational(Num.findGCD(this.n,factor.n),this.d):factor.findGCD(this)},raiseToThe:function(exp){if(exp instanceof Int){var positive=exp.eval()>0,abs=exp.abs().eval(),n=Math.pow(this.n,abs),d=Math.pow(this.d,abs);return positive?new Rational(n,d).collect():new Rational(d,n).collect()}return new Float(this.eval()).raiseToThe(exp)},getDenominator:function(){return new Int(this.d)},isSimple:function(){return!1},asRational:function(){return this}}),Int.prototype=new Rational(0,1),index_all.ZP.extend(Int.prototype,{func:Int,args:function(){return[this.n]},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},negate:function(){return new Int(-this.n)},abs:function(){return new Int(Math.abs(this.n))},isSimple:function(){return!0},findGCD:function(factor){return factor instanceof Int?new Int(Num.findGCD(this.n,factor.n)):factor.findGCD(this)}}),index_all.ZP.extend(Int,{create:function(n){return new Int(n).addHint("entered")}}),Float.prototype=new Num,index_all.ZP.extend(Float.prototype,{func:Float,args:function(){return[this.n]},eval:function(){return this.n},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},add:function(num,options){return options&&options.preciseFloats?Float.toDecimalPlaces(this.n+num.eval(),Math.max(this.getDecimalPlaces(),num.getDecimalPlaces())):new Float(this.n+num.eval()).collect()},mul:function(num,options){return options&&options.preciseFloats?Float.toDecimalPlaces(this.n*num.eval(),this.getDecimalPlaces()+num.getDecimalPlaces()):new Float(this.n*num.eval()).collect()},collect:function(){return this},negate:function(){return new Float(-this.n)},abs:function(){return new Float(Math.abs(this.n))},findGCD:function(factor){return factor instanceof Num?new Float(Num.findGCD(this.eval(),factor.eval())).collect():factor.findGCD(this)},raiseToThe:function(exp,options){return options&&options.preciseFloats&&exp instanceof Int&&exp.n>1?Float.toDecimalPlaces(new Pow(this,exp).eval(),this.getDecimalPlaces()*exp.n):new Float(new Pow(this,exp).eval()).collect()},asRational:function(){var parts=this.n.toString().split(".");return 1===parts.length?new Rational(this.n,1):new Rational(Number(parts.join("")),Math.pow(10,parts[1].length)).collect()},getDenominator:function(){return this.asRational().getDenominator()},isSimple:function(){return!0}}),index_all.ZP.extend(Float,{create:function(n){return new Float(n).addHint("entered")},toDecimalPlaces:function(n,places){return new Float(+n.toFixed(Math.min(places,20))).collect()}}),index_all.ZP.extend(Num,{negativeOne:function(hint){return"subtract"===hint?Num.Sub:"divide"===hint?Num.Div:Num.Neg},findGCD:function(a,b){var mod;if(a=Math.abs(a),b=Math.abs(b),a!==Math.floor(a)||b!==Math.floor(b))return 1;for(;b;)mod=a%b,a=b,b=mod;return a},min:function(){return index_all.ZP.min(index_all.ZP.toArray(arguments),(function(num){return num.eval()}))},max:function(){return index_all.ZP.max(index_all.ZP.toArray(arguments),(function(num){return num.eval()}))}}),Num.Neg=new Int(-1).addHint("negate"),Num.Sub=new Int(-1).addHint("subtract"),Num.Div=new Int(-1).addHint("divide"),Num.Sqrt=new Rational(1,2).addHint("root"),Num.Zero=new Int(0),Num.One=new Int(1),Num.Ten=new Int(10),Add.prototype.identity=Num.Zero,Mul.prototype.identity=Num.One;parser_parser.yy={Add,Mul,Pow,Log,Trig,Eq,Abs,Func,Const,Var,Int,Float,parseError:function(str,hash){throw new Error(hash.loc.first_column)},constants:["e"],symbolLexer:function(symbol){return index_all.ZP.contains(parser_parser.yy.constants,symbol)?"CONST":index_all.ZP.contains(parser_parser.yy.functions,symbol)?"FUNC":"VAR"}};const parse=function(input,options){try{return options&&options.functions?parser_parser.yy.functions=index_all.ZP.without(options.functions,"i"):parser_parser.yy.functions=[],options&&options.decimal_separator&&(input=input.split(options.decimal_separator).join(".")),{parsed:!0,expr:parser_parser.parse(input).completeParse()}}catch(e){return{parsed:!1,error:e.message}}};function Unit(symbol){this.symbol=symbol}Unit.prototype=new Symbol;var unprefixify=function(symbol){if((0,index_all.ZP)(baseUnits).has(symbol)||(0,index_all.ZP)(derivedUnits).has(symbol))return new Unit(symbol);var prefix=(0,index_all.ZP)((0,index_all.ZP)(siPrefixes).keys()).find((function(testPrefix){return new RegExp("^"+testPrefix).test(symbol)}));if(prefix){var base=symbol.replace(new RegExp("^"+prefix),"");if((0,index_all.ZP)(baseUnits).has(base)||derivedUnits[base]&&derivedUnits[base].prefixes===hasPrefixes)return new Mul(siPrefixes[prefix],new Unit(base));throw new Error(base+" does not allow prefixes")}return new Unit(symbol)};const unitParse=function(input){try{var parseResult=unitParser.parse(input),unitArray=[];(0,index_all.ZP)(parseResult.unit.num).each((function(unitSpec){unitArray.push(new Pow(unprefixify(unitSpec.name),new Int(unitSpec.pow)))})),(0,index_all.ZP)(parseResult.unit.denom).each((function(unitSpec){unitArray.push(new Pow(unprefixify(unitSpec.name),new Int(-1*unitSpec.pow)))}));var unit=new Mul(unitArray).flatten();return"unitMagnitude"===parseResult.type?{parsed:!0,unit,expr:new Mul([new Float(+parseResult.magnitude)].concat(unitArray)),coefficient:parseResult.magnitude,type:parseResult.type}:{parsed:!0,unit,type:parseResult.type}}catch(e){return{parsed:!1,error:e.message}}};index_all.ZP.extend(Unit.prototype,{func:Unit,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(vars,options){return 1},getUnits:function(){return[{unit:this.symbol,pow:1}]},codegen:function(){return"1"},print:function(){return this.symbol},tex:function(){return this.symbol},collect:function(options){if((0,index_all.ZP)(baseUnits).has(this.symbol))return this;if((0,index_all.ZP)(derivedUnits).has(this.symbol))return derivedUnits[this.symbol].conversion;throw new Error("could not understand unit: "+this.symbol)}});var baseUnits={m:new Unit("m"),g:new Unit("g"),s:new Unit("s"),A:new Unit("A"),K:new Unit("K"),mol:new Unit("mol"),cd:new Unit("cd")},siPrefixes={a:new Pow(new Int(10),new Int(-18)),f:new Pow(new Int(10),new Int(-15)),p:new Pow(new Int(10),new Int(-12)),n:new Pow(new Int(10),new Int(-9)),u:new Pow(new Int(10),new Int(-6)),m:new Pow(new Int(10),new Int(-3)),c:new Pow(new Int(10),new Int(-2)),d:new Pow(new Int(10),new Int(-1)),da:new Int(10),h:new Pow(new Int(10),new Int(2)),k:new Pow(new Int(10),new Int(3)),M:new Pow(new Int(10),new Int(6)),G:new Pow(new Int(10),new Int(9)),T:new Pow(new Int(10),new Int(12)),P:new Pow(new Int(10),new Int(15)),E:new Pow(new Int(10),new Int(18)),hella:new Pow(new Int(10),new Int(27))},hasPrefixes={},hasntPrefixes={},makeAlias=function(str,prefixes){var splits=str.split("|"),coefficientStr=splits[0].trim(),unitsStr=splits[1].trim(),coefficient=Num.One;""!==coefficientStr&&(coefficient=parse(coefficientStr).expr);var numdenomStr=unitsStr.split("/"),numdenom=[coefficient];return numdenomStr[0]&&numdenomStr[0].split(" ").filter((function(x){return""!==x})).map((function(x){numdenom.push(new Unit(x))})),numdenomStr[1]&&numdenomStr[1].split(" ").filter((function(x){return""!==x})).map((function(x){numdenom.push(new Pow(new Unit(x),Num.Div))})),{conversion:new Mul(numdenom),prefixes}},derivedUnits={Da:makeAlias("1.6605388628 x 10^-24 | g",hasPrefixes),u:makeAlias("| Da",hasntPrefixes),meter:makeAlias("| m",hasntPrefixes),meters:makeAlias("| m",hasntPrefixes),in:makeAlias("254 / 10000 | m",hasntPrefixes),ft:makeAlias("3048  / 10000 | m",hasntPrefixes),yd:makeAlias("9144  / 10000 | m",hasntPrefixes),mi:makeAlias("1609344 / 1000 | m",hasntPrefixes),ly:makeAlias("9.4607 x 10^15 | m",hasntPrefixes),nmi:makeAlias("1852 | m",hasntPrefixes),Å:makeAlias("10^-10 | m",hasntPrefixes),pc:makeAlias("3.0857 x 10^16 | m",hasntPrefixes),min:makeAlias("60 | s",hasntPrefixes),hr:makeAlias("3600 | s",hasntPrefixes),sec:makeAlias("| s",hasntPrefixes),day:makeAlias("86400 | s",hasntPrefixes),wk:makeAlias("604800 | s",hasntPrefixes),fortnight:makeAlias("14 | day",hasntPrefixes),shake:makeAlias("10^-8 | s",hasntPrefixes),olympiad:makeAlias("126200000 | s",hasntPrefixes),"°C":makeAlias("1 | K",hasntPrefixes),"°F":makeAlias("5/9 | K",hasntPrefixes),"°R":makeAlias("5/9 | K",hasntPrefixes),e:makeAlias("1.6021765314 x 10^-19 | C",hasntPrefixes),c:makeAlias("299792458 | m / s",hasntPrefixes),kn:makeAlias("514/1000 | m / s",hasntPrefixes),kt:makeAlias("| kn",hasntPrefixes),knot:makeAlias("| kn",hasntPrefixes),J:makeAlias("| N m",hasPrefixes),BTU:makeAlias("1060 | J",hasntPrefixes),cal:makeAlias("4184 / 1000 | J",hasPrefixes),eV:makeAlias("1.602176514 x 10^-19 | J",hasPrefixes),erg:makeAlias("10^−7 | J",hasPrefixes),W:makeAlias("| J / s",hasPrefixes),"H-e":makeAlias("80 | W",hasntPrefixes),N:makeAlias("1000 | g m / s s",hasPrefixes),lb:makeAlias("4448221615 / 1000000000 | N",hasntPrefixes),dyn:makeAlias("10^-5 | N",hasntPrefixes),Pa:makeAlias("1 | N / m m m",hasPrefixes),bar:makeAlias("10^5 | Pa",hasPrefixes),"㏔":makeAlias("1/1000 | bar",hasntPrefixes),"㍴":makeAlias("| bar",hasntPrefixes),atm:makeAlias("101325 | Pa",hasntPrefixes),Torr:makeAlias("1/760 | atm",hasntPrefixes),mmHg:makeAlias("| Torr",hasntPrefixes),ha:makeAlias("10^4 | m m",hasntPrefixes),b:makeAlias("10^−28 | m m",hasPrefixes),barn:makeAlias("| b",hasPrefixes),acre:makeAlias("4046.87 | m m",hasntPrefixes),skilodge:makeAlias("10^-31 | m m",hasntPrefixes),outhouse:makeAlias("10^-34 | m m",hasntPrefixes),shed:makeAlias("10^-52 | m m",hasntPrefixes),L:makeAlias("1/1000 | m m m",hasPrefixes),gal:makeAlias("3785/1000 | L",hasPrefixes),cup:makeAlias("1/16 | gal",hasntPrefixes),qt:makeAlias("1/4 | gal",hasntPrefixes),quart:makeAlias("| qt",hasntPrefixes),p:makeAlias("1/8 | gal",hasntPrefixes),pt:makeAlias("| p",hasntPrefixes),pint:makeAlias("| p",hasntPrefixes),"fl oz":makeAlias("1/8 | cup",hasntPrefixes),"fl. oz.":makeAlias("1/8 | cup",hasntPrefixes),tbsp:makeAlias("1/16 | cup",hasntPrefixes),tsp:makeAlias("1/3 | tbsp",hasntPrefixes),rev:makeAlias("2 pi | rad",hasntPrefixes),deg:makeAlias("180 pi | rad",hasntPrefixes),"°":makeAlias("| deg",hasntPrefixes),arcminute:makeAlias("1/60 | deg",hasntPrefixes),arcsec:makeAlias("1/3600 | deg",hasntPrefixes),Hu:makeAlias("1000 | dB",hasPrefixes),dozen:makeAlias("12 |",hasntPrefixes),mol:makeAlias("6.0221412927 x 10^23 |",hasPrefixes),"%":makeAlias("1/100 |",hasntPrefixes),percent:makeAlias("| %",hasntPrefixes),ppm:makeAlias("1/1000000 |",hasntPrefixes),V:makeAlias("1000 | g m m / s s C",hasPrefixes),C:makeAlias("| A s",hasPrefixes),ampere:makeAlias("| A",hasntPrefixes),Ω:makeAlias("| V / A",hasPrefixes),ohm:makeAlias("| Ω",hasntPrefixes),F:makeAlias("| C / V",hasPrefixes),H:makeAlias("| ohm s",hasPrefixes),T:makeAlias("1000 | g / C s",hasPrefixes),Wb:makeAlias("1000 | g m m / C s",hasPrefixes),lm:makeAlias("pi x 10^4 | cd / m m",hasntPrefixes),lx:makeAlias("| lm / m m",hasntPrefixes),nit:makeAlias("| cd / m m",hasntPrefixes),sb:makeAlias("10^4 | cd / m m",hasntPrefixes),stilb:makeAlias("1 | sb",hasntPrefixes),apostilb:makeAlias("1 / pi x 10^(-4) | sb",hasntPrefixes),blondel:makeAlias("| apostilb",hasntPrefixes),asb:makeAlias("| apostilb",hasntPrefixes),la:makeAlias("| lm",hasntPrefixes),Lb:makeAlias("| lm",hasntPrefixes),sk:makeAlias("10^-7 | lm",hasntPrefixes),skot:makeAlias("| sk",hasntPrefixes),bril:makeAlias("10^-11 | lm",hasntPrefixes),Hz:makeAlias("| / s",hasPrefixes)};Num.Zero,Num.One;const compare=function(expr1,expr2,options){var defaults={form:!1,simplify:!1};options=void 0!==options?index_all.ZP.extend(defaults,options):defaults;var message,vars=expr1.sameVars(expr2);return vars.equal?expr1.compare(expr2)?options.form&&!expr1.sameForm(expr2)?{equal:!1,message:"Your answer is not in the correct form."}:options.simplify&&!expr1.isSimplified()?{equal:!1,message:"Your answer is not fully expanded and simplified."}:{equal:!0,message:null}:{equal:!1,message:null}:(message=vars.equalIgnoringCase?"Check your variables; one or more are using the wrong case (upper or lower).":"Check your variables; you may have used the wrong letter for one or more of them.",{equal:!1,wrongVariableCase:vars.equalIgnoringCase,wrongVariableNames:!vars.equalIgnoringCase,message})}},"./packages/kmath/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{jv:()=>line_namespaceObject,Rx:()=>number_namespaceObject,xm:()=>point_namespaceObject,xr:()=>vector_namespaceObject});var number_namespaceObject={};__webpack_require__.r(number_namespaceObject),__webpack_require__.d(number_namespaceObject,{DEFAULT_TOLERANCE:()=>DEFAULT_TOLERANCE,EPSILON:()=>EPSILON,ceilTo:()=>ceilTo,equal:()=>equal,floorTo:()=>floorTo,is:()=>is,isInteger:()=>isInteger,round:()=>round,roundTo:()=>roundTo,sign:()=>sign,toFraction:()=>toFraction});var vector_namespaceObject={};__webpack_require__.r(vector_namespaceObject),__webpack_require__.d(vector_namespaceObject,{add:()=>add,angleDeg:()=>angleDeg,angleRad:()=>angleRad,cartFromPolarDeg:()=>cartFromPolarDeg,cartFromPolarRad:()=>cartFromPolarRad,ceilTo:()=>vector_ceilTo,codirectional:()=>codirectional,collinear:()=>collinear,dot:()=>dot,equal:()=>vector_equal,floorTo:()=>vector_floorTo,is:()=>vector_is,length:()=>vector_length,map:()=>map,negate:()=>negate,normalize:()=>normalize,polarDegFromCart:()=>polarDegFromCart,polarRadFromCart:()=>polarRadFromCart,projection:()=>projection,rotateDeg:()=>rotateDeg,rotateRad:()=>rotateRad,round:()=>vector_round,roundTo:()=>vector_roundTo,scale:()=>scale,subtract:()=>subtract,zip:()=>zip});var point_namespaceObject={};__webpack_require__.r(point_namespaceObject),__webpack_require__.d(point_namespaceObject,{addVector:()=>addVector,addVectors:()=>addVectors,cartFromPolarDeg:()=>point_cartFromPolarDeg,cartFromPolarRad:()=>point_cartFromPolarRad,ceilTo:()=>point_ceilTo,compare:()=>compare,distanceToLine:()=>distanceToLine,distanceToPoint:()=>distanceToPoint,equal:()=>point_equal,floorTo:()=>point_floorTo,is:()=>point_is,polarDegFromCart:()=>point_polarDegFromCart,polarRadFromCart:()=>point_polarRadFromCart,reflectOverLine:()=>reflectOverLine,rotateDeg:()=>point_rotateDeg,rotateRad:()=>point_rotateRad,round:()=>point_round,roundTo:()=>point_roundTo,subtractVector:()=>subtractVector});var line_namespaceObject={};__webpack_require__.r(line_namespaceObject),__webpack_require__.d(line_namespaceObject,{distanceToPoint:()=>line_distanceToPoint,equal:()=>line_equal,midpoint:()=>midpoint,reflectPoint:()=>reflectPoint});(0,__webpack_require__("./packages/perseus-core/src/index.ts").C)("@khanacademy/kmath","__lib_version__");var index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js");const DEFAULT_TOLERANCE=1e-9,EPSILON=Math.pow(2,-42);function is(x){return index_all.ZP.isNumber(x)&&!index_all.ZP.isNaN(x)}function equal(x,y,tolerance){return null==x||null==y?x===y:x===y||(null==tolerance&&(tolerance=DEFAULT_TOLERANCE),Math.abs(x-y)<tolerance)}function sign(x,tolerance){return equal(x,0,tolerance)?0:Math.abs(x)/x}function isInteger(num,tolerance){return equal(Math.round(num),num,tolerance)}function round(num,precision){const factor=Math.pow(10,precision);return Math.round(num*factor)/factor}function roundTo(num,increment){return Math.round(num/increment)*increment}function floorTo(num,increment){return Math.floor(num/increment)*increment}function ceilTo(num,increment){return Math.ceil(num/increment)*increment}function toFraction(decimal){let tolerance=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EPSILON,maxDenominator=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=[1,0],d=[0,1],a=Math.floor(decimal),rem=decimal-a;for(;d[0]<=maxDenominator;){if(equal(n[0]/d[0],decimal,tolerance))return[n[0],d[0]];n=[a*n[0]+n[1],n[0]],d=[a*d[0]+d[1],d[0]],a=Math.floor(1/rem),rem=1/rem-a}return[decimal,1]}function arraySum(array){return array.reduce(((memo,arg)=>memo+arg),0)}function arrayProduct(array){return array.reduce(((memo,arg)=>memo*arg),1)}function zip(){for(var _len=arguments.length,arrays=new Array(_len),_key=0;_key<_len;_key++)arrays[_key]=arguments[_key];const n=Math.min(...arrays.map((a=>a.length))),results=[];for(let i=0;i<n;i++)results.push(arrays.map((a=>a[i])));return results}function map(pair,f){return[f(pair[0],0),f(pair[1],1)]}function vector_is(vec,dimension){return!!Array.isArray(vec)&&((void 0===dimension||vec.length===dimension)&&vec.every(is))}function normalize(v){return scale(v,1/vector_length(v))}function vector_length(v){return Math.sqrt(dot(v,v))}function dot(a,b){return arraySum(zip(a,b).map(arrayProduct))}function add(){return zip(...arguments).map(arraySum)}function subtract(v1,v2){return zip(v1,v2).map((dim=>dim[0]-dim[1]))}function negate(v){return v.map((x=>-x))}function scale(v1,scalar){return v1.map((x=>x*scalar))}function vector_equal(v1,v2,tolerance){return v1.length===v2.length&&zip(v1,v2).every((pair=>equal(pair[0],pair[1],tolerance)))}function codirectional(v1,v2,tolerance){return!(!equal(vector_length(v1),0,tolerance)&&!equal(vector_length(v2),0,tolerance))||vector_equal(v1=normalize(v1),v2=normalize(v2),tolerance)}function collinear(v1,v2,tolerance){return codirectional(v1,v2,tolerance)||codirectional(v1,negate(v2),tolerance)}function polarRadFromCart(v){const radius=vector_length(v);let theta=Math.atan2(v[1],v[0]);return theta<0&&(theta+=2*Math.PI),[radius,theta]}function polarDegFromCart(v){const polar=polarRadFromCart(v);return[polar[0],180*polar[1]/Math.PI]}function cartFromPolarRad(radius){let theta=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[radius*Math.cos(theta),radius*Math.sin(theta)]}function cartFromPolarDeg(radius){return cartFromPolarRad(radius,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*Math.PI/180)}function rotateRad(v,theta){const polar=polarRadFromCart(v),angle=polar[1]+theta;return cartFromPolarRad(polar[0],angle)}function rotateDeg(v,theta){const polar=polarDegFromCart(v),angle=polar[1]+theta;return cartFromPolarDeg(polar[0],angle)}function angleRad(v1,v2){return Math.acos(dot(v1,v2)/(vector_length(v1)*vector_length(v2)))}function angleDeg(v1,v2){return 180*angleRad(v1,v2)/Math.PI}function projection(v1,v2){return scale(v2,dot(v1,v2)/dot(v2,v2))}function vector_round(vec,precision){return vec.map(((elem,i)=>round(elem,precision[i]||precision)))}function vector_roundTo(vec,increment){return vec.map(((elem,i)=>roundTo(elem,increment[i]||increment)))}function vector_floorTo(vec,increment){return vec.map(((elem,i)=>floorTo(elem,increment[i]||increment)))}function vector_ceilTo(vec,increment){return vec.map(((elem,i)=>ceilTo(elem,increment[i]||increment)))}function point_rotateRad(point,theta,center){return void 0===center?rotateRad(point,theta):add(center,rotateRad(subtract(point,center),theta))}function point_rotateDeg(point,theta,center){return void 0===center?rotateDeg(point,theta):add(center,rotateDeg(subtract(point,center),theta))}function distanceToPoint(point1,point2){return vector_length(subtract(point1,point2))}function distanceToLine(point,line){const lv=subtract(line[1],line[0]),pv=subtract(point,line[0]);return vector_length(subtract(projection(pv,lv),pv))}function reflectOverLine(point,line){const lv=subtract(line[1],line[0]),pv=subtract(point,line[0]),reflectedPv=subtract(scale(projection(pv,lv),2),pv);return add(line[0],reflectedPv)}function compare(point1,point2,equalityTolerance){if(point1.length!==point2.length)return point1.length-point2.length;for(let i=0;i<point1.length;i++)if(!equal(point1[i],point2[i],equalityTolerance))return point1[i]-point2[i];return 0}const point_is=vector_is,addVector=add,addVectors=add,subtractVector=subtract,point_equal=vector_equal,point_polarRadFromCart=polarRadFromCart,point_polarDegFromCart=polarDegFromCart,point_cartFromPolarRad=cartFromPolarRad,point_cartFromPolarDeg=cartFromPolarDeg,point_round=vector_round,point_roundTo=vector_roundTo,point_floorTo=vector_floorTo,point_ceilTo=vector_ceilTo;function line_distanceToPoint(line,point){return distanceToLine(point,line)}function reflectPoint(line,point){return reflectOverLine(point,line)}function midpoint(line){return[(line[0][0]+line[1][0])/2,(line[0][1]+line[1][1])/2]}function line_equal(line1,line2,tolerance){const v1=subtract(line1[1],line1[0]);if(!collinear(v1,subtract(line2[1],line2[0]),tolerance))return!1;if(point_equal(line1[0],line2[0]))return!0;return collinear(v1,subtract(line2[0],line1[0]),tolerance)}},"./packages/math-input/src/components/input/cursor-contexts.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>CursorContext});let CursorContext=function(CursorContext){return CursorContext.NONE="NONE",CursorContext.IN_PARENS="IN_PARENS",CursorContext.IN_SUPER_SCRIPT="IN_SUPER_SCRIPT",CursorContext.IN_SUB_SCRIPT="IN_SUB_SCRIPT",CursorContext.IN_NUMERATOR="IN_NUMERATOR",CursorContext.IN_DENOMINATOR="IN_DENOMINATOR",CursorContext.BEFORE_FRACTION="BEFORE_FRACTION",CursorContext}({})},"./packages/math-input/src/components/input/mathquill-helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ew:()=>isNthRoot,Fo:()=>isNthRootIndex,S2:()=>isInsideLogIndex,UG:()=>selectNode,_w:()=>getCursorContext,a8:()=>isInsideEmptyNode,fL:()=>maybeFindCommand,hX:()=>isSquareRoot,i:()=>isParens,yF:()=>maybeFindCommandBeforeParens,yQ:()=>isFraction});var _cursor_contexts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/math-input/src/components/input/cursor-contexts.ts"),_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/math-input/src/components/input/mathquill-instance.ts"),_mathquill_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/math-input/src/components/input/mathquill-types.ts");const Letters=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ValidLeaves=["0","1","2","3","4","5","6","7","8","9","\\theta","\\pi",...Letters.map((letter=>letter.toLowerCase())),...Letters.map((letter=>letter.toUpperCase()))],mqNodeHasClass=(node,className)=>node._el&&node._el.classList.contains(className);function isFraction(node){return mqNodeHasClass(node,"mq-fraction")}function isParens(node){return node&&"\\left("===node.ctrlSeq}function isSquareRoot(node){return node.blocks&&mqNodeHasClass(node.blocks[0],"mq-sqrt-stem")}function isNthRoot(node){return node.blocks&&mqNodeHasClass(node.blocks[0],"mq-nthroot")}function isNthRootIndex(node){return mqNodeHasClass(node,"mq-nthroot")}function isInsideLogIndex(cursor){const grandparent=cursor.parent.parent;if(grandparent&&mqNodeHasClass(grandparent,"mq-supsub")){const command=maybeFindCommandBeforeParens(grandparent);if(command&&"\\log"===command.name)return!0}return!1}function isInsideEmptyNode(cursor){return cursor[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.L]===_mathquill_types__WEBPACK_IMPORTED_MODULE_2__.u.MQ_END&&cursor[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.R]===_mathquill_types__WEBPACK_IMPORTED_MODULE_2__.u.MQ_END}function selectNode(node,cursor){cursor.insLeftOf(node),cursor.startSelection(),cursor.insRightOf(node),cursor.select(),cursor.endSelection()}function maybeFindCommand(initialNode){if(!initialNode)return null;const commandCharRegex=/^[a-z]$/,commandStartRegex=/^\\[a-z]$/,validCommands=["\\log","\\ln","\\cos","\\sin","\\tan"];let startNode,endNode,name="",node=initialNode;for(;0!==node;){const ctrlSeq=node.ctrlSeq.trim();if(!commandCharRegex.test(ctrlSeq)){if(commandStartRegex.test(ctrlSeq)){name=ctrlSeq+name,startNode=node;break}break}name=ctrlSeq+name,node=node[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.L]}if(startNode){for(node=initialNode[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.R];0!==node;){const ctrlSeq=node.ctrlSeq.trim();if(commandCharRegex.test(ctrlSeq))name+=ctrlSeq;else if("\\left("===ctrlSeq){endNode=node;break}node=node[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.R]}return validCommands.includes(name)?{name,startNode,endNode}:null}return null}function maybeFindCommandBeforeParens(leftParenNode){return maybeFindCommand(leftParenNode[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.L])}function getCursorContext(mathField){if(!mathField)return _cursor_contexts__WEBPACK_IMPORTED_MODULE_0__.z.NONE;const cursor=mathField.cursor();let visitor=cursor;for(;visitor[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.R]!==_mathquill_types__WEBPACK_IMPORTED_MODULE_2__.u.MQ_END;){if(isFraction(visitor[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.R]))return _cursor_contexts__WEBPACK_IMPORTED_MODULE_0__.z.BEFORE_FRACTION;if(!((node=visitor[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.R])&&node.ctrlSeq&&ValidLeaves.includes(node.ctrlSeq.trim())))break;visitor=visitor[_mathquill_instance__WEBPACK_IMPORTED_MODULE_1__.r.R]}var node;return isParens(cursor.parent&&cursor.parent.parent)?_cursor_contexts__WEBPACK_IMPORTED_MODULE_0__.z.IN_PARENS:function isNumerator(node){return mqNodeHasClass(node,"mq-numerator")}(cursor.parent)?_cursor_contexts__WEBPACK_IMPORTED_MODULE_0__.z.IN_NUMERATOR:function isDenominator(node){return mqNodeHasClass(node,"mq-denominator")}(cursor.parent)?_cursor_contexts__WEBPACK_IMPORTED_MODULE_0__.z.IN_DENOMINATOR:function isSubScript(node){return mqNodeHasClass(node,"mq-sub-only")||mqNodeHasClass(node,"mq-sub")}(cursor.parent)?_cursor_contexts__WEBPACK_IMPORTED_MODULE_0__.z.IN_SUB_SCRIPT:function isSuperScript(node){return mqNodeHasClass(node,"mq-sup-only")||mqNodeHasClass(node,"mq-sup")}(cursor.parent)?_cursor_contexts__WEBPACK_IMPORTED_MODULE_0__.z.IN_SUPER_SCRIPT:_cursor_contexts__WEBPACK_IMPORTED_MODULE_0__.z.NONE}},"./packages/math-input/src/components/input/mathquill-instance.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>createMathField,r:()=>mathQuillInstance});var _khanacademy_mathjax_renderer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/mathjax-renderer/dist/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),mathquill__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathquill/build/mathquill.min.js"),mathquill__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(mathquill__WEBPACK_IMPORTED_MODULE_2__),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/math-input/src/utils.ts");const mathQuillInstance=mathquill__WEBPACK_IMPORTED_MODULE_2___default().getInterface(3),createBaseConfig=()=>({autoCommands:"pi theta phi sqrt nthroot",autoOperatorNames:["arccos","arcsin","arctan","arctg","arg","cos","cosec","cossec","cosh","cot","cotg","coth","csc","ctg","deg","det","dim","exp","gcd","hom","inf","ker","lg","lim","liminf","limsup","ln","log","max","min","Pr","projlim","sec","sen","sin","sinh","sup","tan","tanh","tg"].join(" "),charsThatBreakOutOfSupSub:"+-*/=<>≠≤≥",supSubsRequireOperand:!0,spaceBehavesLikeTab:!0});function createMathField(container,configCallback){const baseConfig=createBaseConfig(),config=configCallback?configCallback(baseConfig):baseConfig,mathField=mathQuillInstance.MathField(container,config).setAriaLabel(_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Math input box"));return!_utils__WEBPACK_IMPORTED_MODULE_3__.o8&&_khanacademy_mathjax_renderer__WEBPACK_IMPORTED_MODULE_0__.SpeechRuleEngine.setup().then((SRE=>mathField.setMathspeakOverride(SRE.texToSpeech))),mathField}},"./packages/math-input/src/components/input/mathquill-types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>MathFieldActionType});let MathFieldActionType=function(MathFieldActionType){return MathFieldActionType.WRITE="write",MathFieldActionType.CMD="cmd",MathFieldActionType.KEYSTROKE="keystroke",MathFieldActionType[MathFieldActionType.MQ_END=0]="MQ_END",MathFieldActionType}({})},"./packages/math-input/src/components/key-handlers/key-translator.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>key_translator});var utils=__webpack_require__("./packages/math-input/src/utils.ts"),mathquill_instance=__webpack_require__("./packages/math-input/src/components/input/mathquill-instance.ts"),mathquill_helpers=__webpack_require__("./packages/math-input/src/components/input/mathquill-helpers.ts"),mathquill_types=__webpack_require__("./packages/math-input/src/components/input/mathquill-types.ts");function handleArrow(mathField,key){const cursor=mathField.cursor();"LEFT"===key?function handleLeftArrow(mathField,cursor){if(cursor[mathquill_instance.r.L]===mathquill_types.u.MQ_END){const grandparent=cursor.parent.parent;if("\\left("===grandparent.ctrlSeq){const command=(0,mathquill_helpers.yF)(grandparent);if(command)return void cursor.insLeftOf(command.startNode)}}mathField.keystroke("Left")}(mathField,cursor):"RIGHT"===key&&function handleRightArrow(mathField,cursor){const command=(0,mathquill_helpers.fL)(cursor[mathquill_instance.r.R]);command?(cursor.insLeftOf(command.endNode),mathField.keystroke("Right")):mathField.keystroke("Right")}(mathField,cursor)}const ArithmeticOperators=["+","-","\\cdot","\\times","\\div"],EqualityOperators=["=","\\neq","<","\\leq",">","\\geq"];function handleExponent(mathField,key){const cursor=mathField.cursor(),invalidPrefixes=[...ArithmeticOperators,...EqualityOperators],precedingNode=cursor[mathquill_instance.r.L],shouldPrefixWithParens=precedingNode===mathquill_types.u.MQ_END||invalidPrefixes.includes(precedingNode.ctrlSeq.trim());switch(shouldPrefixWithParens&&mathField.write("\\left(\\right)"),key){case"EXP":mathField.cmd("^");break;case"EXP_2":case"EXP_3":mathField.write("^"+("EXP_2"===key?2:3)),shouldPrefixWithParens&&(mathField.keystroke("Left"),mathField.keystroke("Left"),mathField.keystroke("Left"),mathField.keystroke("Left"));break;default:throw new Error(`Invalid exponent key: ${key}`)}}var cursor_contexts=__webpack_require__("./packages/math-input/src/components/input/cursor-contexts.ts");const KeysForJumpContext={[cursor_contexts.z.IN_PARENS]:"JUMP_OUT_PARENTHESES",[cursor_contexts.z.IN_SUPER_SCRIPT]:"JUMP_OUT_EXPONENT",[cursor_contexts.z.IN_SUB_SCRIPT]:"JUMP_OUT_BASE",[cursor_contexts.z.BEFORE_FRACTION]:"JUMP_INTO_NUMERATOR",[cursor_contexts.z.IN_NUMERATOR]:"JUMP_OUT_NUMERATOR",[cursor_contexts.z.IN_DENOMINATOR]:"JUMP_OUT_DENOMINATOR"};const handle_jump_out=function handleJumpOut(mathField,key){const cursor=mathField.cursor(),context=(0,mathquill_helpers._w)(mathField);if(KeysForJumpContext[context]===key)switch(context){case cursor_contexts.z.IN_PARENS:cursor.insRightOf(cursor.parent.parent),mathField.keystroke("Right");break;case cursor_contexts.z.BEFORE_FRACTION:let fractionNode,visitor=cursor;for(;visitor[mathquill_instance.r.R]!==mathquill_types.u.MQ_END;)(0,mathquill_helpers.yQ)(visitor[mathquill_instance.r.R])&&(fractionNode=visitor[mathquill_instance.r.R]),visitor=visitor[mathquill_instance.r.R];cursor.insLeftOf(fractionNode),mathField.keystroke("Right");break;case cursor_contexts.z.IN_NUMERATOR:const siblingDenominator=cursor.parent.parent.blocks[1];for(;cursor.parent!==siblingDenominator;)mathField.keystroke("Right");break;case cursor_contexts.z.IN_DENOMINATOR:cursor.insRightOf(cursor.parent.parent);break;case cursor_contexts.z.IN_SUB_SCRIPT:cursor.insRightOf(cursor.parent.parent),(0,mathquill_helpers.i)(cursor[mathquill_instance.r.R])&&mathField.keystroke("Right");break;case cursor_contexts.z.IN_SUPER_SCRIPT:cursor.insRightOf(cursor.parent.parent);break;default:throw new Error(`Attempted to 'Jump Out' from node, but found no appropriate cursor context: ${context}`)}};var ActionType=function(ActionType){return ActionType.WRITE="write",ActionType.CMD="cmd",ActionType.KEYSTROKE="keystroke",ActionType[ActionType.MQ_END=0]="MQ_END",ActionType}(ActionType||{});function buildGenericCallback(str){let type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ActionType.WRITE;return function(mathQuill){switch(type){case ActionType.WRITE:return void mathQuill.write(str);case ActionType.CMD:return void mathQuill.cmd(str);case ActionType.KEYSTROKE:return void mathQuill.keystroke(str)}}}function buildNormalFunctionCallback(command){return function(mathField){mathField.write(`\\${command}\\left(\\right)`),mathField.keystroke("Left")}}const key_translator={EXP:handleExponent,EXP_2:handleExponent,EXP_3:handleExponent,JUMP_OUT_PARENTHESES:handle_jump_out,JUMP_OUT_EXPONENT:handle_jump_out,JUMP_OUT_BASE:handle_jump_out,JUMP_INTO_NUMERATOR:handle_jump_out,JUMP_OUT_NUMERATOR:handle_jump_out,JUMP_OUT_DENOMINATOR:handle_jump_out,LEFT:handleArrow,RIGHT:handleArrow,LOG:buildNormalFunctionCallback("log"),LN:buildNormalFunctionCallback("ln"),SIN:buildNormalFunctionCallback("sin"),COS:buildNormalFunctionCallback("cos"),TAN:buildNormalFunctionCallback("tan"),CDOT:buildGenericCallback("\\cdot"),DECIMAL:buildGenericCallback(utils.h2),DIVIDE:buildGenericCallback("\\div"),EQUAL:buildGenericCallback("="),GEQ:buildGenericCallback("\\geq"),GT:buildGenericCallback(">"),LEQ:buildGenericCallback("\\leq"),LT:buildGenericCallback("<"),MINUS:buildGenericCallback("-"),NEGATIVE:buildGenericCallback("-"),NEQ:buildGenericCallback("\\neq"),PERCENT:buildGenericCallback("%"),PERIOD:buildGenericCallback("."),PLUS:buildGenericCallback("+"),TIMES:buildGenericCallback("\\times"),FRAC_INCLUSIVE:buildGenericCallback("/",ActionType.CMD),FRAC:buildGenericCallback("\\frac",ActionType.CMD),LEFT_PAREN:buildGenericCallback("(",ActionType.CMD),RIGHT_PAREN:buildGenericCallback(")",ActionType.CMD),SQRT:buildGenericCallback("sqrt",ActionType.CMD),PHI:buildGenericCallback("\\phi",ActionType.CMD),PI:buildGenericCallback("pi",ActionType.CMD),THETA:buildGenericCallback("theta",ActionType.CMD),RADICAL:buildGenericCallback("nthroot",ActionType.CMD),BACKSPACE:buildGenericCallback("Backspace",ActionType.KEYSTROKE),UP:buildGenericCallback("Up",ActionType.KEYSTROKE),DOWN:buildGenericCallback("Down",ActionType.KEYSTROKE),CUBE_ROOT:mathQuill=>{mathQuill.write("\\sqrt[3]{}"),mathQuill.keystroke("Left")},FRAC_EXCLUSIVE:mathQuill=>{const shouldNavigateLeft=mathQuill.cursor()[mathquill_instance.r.L]===ActionType.MQ_END;mathQuill.cmd("\\frac"),shouldNavigateLeft&&mathQuill.keystroke("Left")},LOG_B:mathQuill=>{mathQuill.typedText("log_"),mathQuill.keystroke("Right"),mathQuill.typedText("("),mathQuill.keystroke("Left"),mathQuill.keystroke("Left")},LOG_N:mathQuill=>{mathQuill.write("log_{ }\\left(\\right)"),mathQuill.keystroke("Left"),mathQuill.keystroke("Left"),mathQuill.keystroke("Left")},NTHROOT3:mathQuill=>{mathQuill.typedText("nthroot3"),mathQuill.keystroke("Right")},POW:mathQuill=>{const contents=mathQuill.latex();mathQuill.typedText("^"),mathQuill.latex()===contents&&mathQuill.typedText("a^b")},DISMISS:()=>{},NOOP:()=>{},MANY:()=>{},NUM_0:buildGenericCallback("0"),NUM_1:buildGenericCallback("1"),NUM_2:buildGenericCallback("2"),NUM_3:buildGenericCallback("3"),NUM_4:buildGenericCallback("4"),NUM_5:buildGenericCallback("5"),NUM_6:buildGenericCallback("6"),NUM_7:buildGenericCallback("7"),NUM_8:buildGenericCallback("8"),NUM_9:buildGenericCallback("9"),a:buildGenericCallback("a"),b:buildGenericCallback("b"),c:buildGenericCallback("c"),d:buildGenericCallback("d"),e:buildGenericCallback("e"),f:buildGenericCallback("f"),g:buildGenericCallback("g"),h:buildGenericCallback("h"),i:buildGenericCallback("i"),j:buildGenericCallback("j"),k:buildGenericCallback("k"),l:buildGenericCallback("l"),m:buildGenericCallback("m"),n:buildGenericCallback("n"),o:buildGenericCallback("o"),p:buildGenericCallback("p"),q:buildGenericCallback("q"),r:buildGenericCallback("r"),s:buildGenericCallback("s"),t:buildGenericCallback("t"),u:buildGenericCallback("u"),v:buildGenericCallback("v"),w:buildGenericCallback("w"),x:buildGenericCallback("x"),y:buildGenericCallback("y"),z:buildGenericCallback("z"),A:buildGenericCallback("A"),B:buildGenericCallback("B"),C:buildGenericCallback("C"),D:buildGenericCallback("D"),E:buildGenericCallback("E"),F:buildGenericCallback("F"),G:buildGenericCallback("G"),H:buildGenericCallback("H"),I:buildGenericCallback("I"),J:buildGenericCallback("J"),K:buildGenericCallback("K"),L:buildGenericCallback("L"),M:buildGenericCallback("M"),N:buildGenericCallback("N"),O:buildGenericCallback("O"),P:buildGenericCallback("P"),Q:buildGenericCallback("Q"),R:buildGenericCallback("R"),S:buildGenericCallback("S"),T:buildGenericCallback("T"),U:buildGenericCallback("U"),V:buildGenericCallback("V"),W:buildGenericCallback("W"),X:buildGenericCallback("X"),Y:buildGenericCallback("Y"),Z:buildGenericCallback("Z")}},"./packages/math-input/src/components/keypad-context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>StatefulKeypadContextProvider,i:()=>KeypadContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const KeypadContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({setKeypadActive:keypadActive=>{},keypadActive:!1,setKeypadElement:keypadElement=>{},keypadElement:null,setRenderer:renderer=>{},renderer:null,setScrollableElement:scrollableElement=>{},scrollableElement:null});function StatefulKeypadContextProvider(props){const[keypadActive,setKeypadActive]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[keypadElement,setKeypadElement]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[renderer,setRenderer]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[scrollableElement,setScrollableElement]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),memoizedValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({keypadActive,setKeypadActive,keypadElement,setKeypadElement,renderer,setRenderer,scrollableElement,setScrollableElement})),[keypadActive,setKeypadActive,keypadElement,setKeypadElement,renderer,setRenderer,scrollableElement,setScrollableElement]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(KeypadContext.Provider,{value:memoizedValue},props.children)}try{StatefulKeypadContextProvider.displayName="StatefulKeypadContextProvider",StatefulKeypadContextProvider.__docgenInfo={description:"",displayName:"StatefulKeypadContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad-context.tsx#StatefulKeypadContextProvider"]={docgenInfo:StatefulKeypadContextProvider.__docgenInfo,name:"StatefulKeypadContextProvider",path:"packages/math-input/src/components/keypad-context.tsx#StatefulKeypadContextProvider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/keypad/button-assets.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ButtonAsset});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/math-input/src/utils.ts");function ButtonAsset(_ref){let{id}=_ref;switch(id){case"NUM_0":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M26.299 20.3598c0 1.512-.164 2.82-.492 3.924-.32 1.104-.764 2.02-1.332 2.748-.568.728-1.236 1.268-2.004 1.62-.768.352-1.596.528-2.484.528-.888 0-1.716-.176-2.484-.528-.768-.352-1.436-.892-2.004-1.62-.56-.728-1-1.644-1.32-2.748-.32-1.104-.48-2.412-.48-3.924s.16-2.82.48-3.924c.32-1.112.76-2.028 1.32-2.748.568-.728 1.236-1.268 2.004-1.62.768-.36 1.596-.54 2.484-.54.888 0 1.716.18 2.484.54.768.352 1.436.892 2.004 1.62.568.72 1.012 1.636 1.332 2.748.328 1.104.492 2.412.492 3.924zm-2.664 0c0-1.28-.104-2.344-.312-3.192-.2-.856-.468-1.54-.804-2.052s-.724-.876-1.164-1.092c-.44-.216-.896-.324-1.368-.324-.48 0-.94.108-1.38.324-.432.216-.816.58-1.152 1.092-.336.512-.604 1.196-.804 2.052-.2.848-.3 1.912-.3 3.192 0 1.28.1 2.348.3 3.204.2.848.468 1.528.804 2.04s.72.876 1.152 1.092c.44.216.9.324 1.38.324.472 0 .928-.108 1.368-.324.44-.216.828-.58 1.164-1.092.336-.512.604-1.192.804-2.04.208-.856.312-1.924.312-3.204z",fill:"#21242C"}));case"NUM_1":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M25.363 27.0441v1.956h-9.42v-1.956h3.6v-10.824c0-.384.012-.776.036-1.176l-2.772 2.34c-.12.096-.244.16-.372.192-.12.024-.236.024-.348 0-.104-.024-.2-.06-.288-.108-.08-.056-.144-.116-.192-.18l-.804-1.128 5.208-4.476h2.1v15.36h3.252z",fill:"#21242C"}));case"NUM_2":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M24.8471 26.5638c.28 0 .5.084.66.252.16.16.24.368.24.624v1.56h-11.688v-.876c0-.176.036-.36.108-.552.072-.192.188-.368.348-.528l5.376-5.388c.456-.456.86-.892 1.212-1.308.36-.416.664-.832.912-1.248.256-.416.448-.836.576-1.26.136-.432.204-.884.204-1.356 0-.456-.072-.856-.216-1.2-.136-.352-.328-.64-.576-.864-.24-.232-.532-.404-.876-.516-.336-.12-.708-.18-1.116-.18-.392 0-.756.056-1.092.168-.328.112-.624.268-.888.468-.256.2-.472.44-.648.72-.168.272-.292.572-.372.9-.12.328-.276.548-.468.66-.184.112-.456.136-.816.072l-1.356-.24c.12-.816.344-1.532.672-2.148.336-.616.756-1.128 1.26-1.536.504-.416 1.08-.728 1.728-.936.656-.216 1.364-.324 2.124-.324.768 0 1.472.116 2.112.348.648.224 1.204.548 1.668.972.472.416.84.924 1.104 1.524.264.6.396 1.276.396 2.028 0 .64-.096 1.232-.288 1.776-.184.544-.436 1.064-.756 1.56s-.696.98-1.128 1.452c-.424.464-.872.936-1.344 1.416l-4.176 4.272c.344-.096.688-.172 1.032-.228.352-.056.684-.084.996-.084h5.076z",fill:"#21242C"}));case"NUM_3":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M14.4552 16.4718c.12-.816.344-1.532.672-2.148.336-.616.756-1.128 1.26-1.536.504-.416 1.08-.728 1.728-.936.656-.216 1.364-.324 2.124-.324.768 0 1.464.112 2.088.336.632.216 1.172.52 1.62.912.456.392.804.86 1.044 1.404.248.544.372 1.14.372 1.788 0 .552-.068 1.04-.204 1.464-.128.416-.316.784-.564 1.104-.24.32-.536.588-.888.804-.352.216-.748.396-1.188.54 1.072.312 1.876.812 2.412 1.5.536.68.804 1.536.804 2.568 0 .832-.156 1.572-.468 2.22-.312.648-.736 1.196-1.272 1.644-.528.448-1.148.792-1.86 1.032-.704.232-1.452.348-2.244.348-.888 0-1.656-.104-2.304-.312-.648-.216-1.208-.52-1.68-.912-.464-.4-.852-.88-1.164-1.44-.312-.56-.576-1.188-.792-1.884l1.116-.468c.296-.128.576-.164.84-.108.272.056.468.204.588.444.128.256.272.532.432.828.16.288.364.556.612.804.256.24.568.444.936.612.376.16.836.24 1.38.24.552 0 1.032-.088 1.44-.264.416-.184.76-.416 1.032-.696.28-.288.488-.608.624-.96s.204-.7.204-1.044c0-.432-.052-.828-.156-1.188-.104-.368-.308-.68-.612-.936-.296-.256-.72-.456-1.272-.6-.544-.152-1.26-.228-2.148-.228v-1.86c.728-.008 1.34-.08 1.836-.216.504-.144.904-.336 1.2-.576.304-.248.52-.544.648-.888.136-.344.204-.72.204-1.128 0-.44-.068-.828-.204-1.164-.136-.336-.328-.616-.576-.84-.24-.232-.528-.404-.864-.516-.336-.112-.708-.168-1.116-.168-.392 0-.756.056-1.092.168-.328.112-.624.268-.888.468-.256.2-.472.44-.648.72-.176.272-.304.572-.384.9-.112.328-.264.548-.456.66-.184.112-.456.136-.816.072l-1.356-.24z",fill:"#21242C"}));case"NUM_4":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M21.691 22.616v-6.312c0-.504.036-1.056.108-1.656l-5.808 7.968h5.7zm4.632 0v1.488c0 .144-.048.268-.144.372-.088.104-.224.156-.408.156h-1.836V29h-2.244v-4.368h-7.476c-.184 0-.344-.052-.48-.156-.128-.112-.212-.248-.252-.408l-.264-1.32 8.292-11.04h2.424v10.908h2.388z",fill:"#21242C"}));case"NUM_5":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M17.6591 18.1042c.416-.088.812-.152 1.188-.192.384-.04.752-.06 1.104-.06.904 0 1.7.136 2.388.408.696.264 1.276.632 1.74 1.104.472.472.824 1.028 1.056 1.668.24.632.36 1.32.36 2.064 0 .92-.16 1.756-.48 2.508-.32.752-.764 1.396-1.332 1.932-.568.528-1.24.936-2.016 1.224-.768.288-1.6.432-2.496.432-.528 0-1.032-.052-1.512-.156-.472-.104-.916-.244-1.332-.42-.416-.184-.8-.392-1.152-.624-.352-.24-.668-.488-.948-.744l.792-1.104c.168-.24.392-.36.672-.36.176 0 .368.064.576.192.208.128.448.268.72.42.28.144.608.28.984.408.376.128.824.192 1.344.192.568 0 1.076-.092 1.524-.276.448-.184.824-.44 1.128-.768.312-.336.548-.736.708-1.2.16-.464.24-.972.24-1.524 0-.504-.076-.956-.228-1.356-.144-.4-.364-.74-.66-1.02-.288-.28-.652-.492-1.092-.636-.44-.152-.948-.228-1.524-.228-.424 0-.86.036-1.308.108-.44.072-.888.184-1.344.336l-1.608-.456 1.416-8.256h8.364v1.116c0 .368-.116.668-.348.9-.232.232-.62.348-1.164.348h-5.064l-.696 4.02z",fill:"#21242C"}));case"NUM_6":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M19.975 27.0562c.52 0 .996-.084 1.428-.252.432-.176.8-.416 1.104-.72.312-.304.552-.664.72-1.08.168-.416.252-.868.252-1.356 0-.528-.084-1-.252-1.416-.16-.424-.392-.78-.696-1.068-.296-.288-.656-.508-1.08-.66-.416-.16-.876-.24-1.38-.24-.52 0-.992.088-1.416.264-.416.176-.772.416-1.068.72-.296.304-.524.66-.684 1.068-.16.408-.24.84-.24 1.296 0 .512.072.98.216 1.404.144.424.356.788.636 1.092.28.296.624.528 1.032.696.416.168.892.252 1.428.252zm-.948-8.976c-.128.16-.252.312-.372.456l-.336.432c.368-.208.772-.372 1.212-.492.44-.12.912-.18 1.416-.18.672 0 1.316.112 1.932.336.616.216 1.156.544 1.62.984.472.432.848.972 1.128 1.62.28.64.42 1.38.42 2.22 0 .8-.148 1.548-.444 2.244-.288.696-.696 1.304-1.224 1.824-.528.512-1.164.92-1.908 1.224-.736.296-1.552.444-2.448.444-.896 0-1.704-.144-2.424-.432-.72-.288-1.336-.692-1.848-1.212-.504-.528-.892-1.16-1.164-1.896-.272-.736-.408-1.556-.408-2.46 0-.784.168-1.604.504-2.46.336-.856.856-1.756 1.56-2.7l4.248-5.7c.128-.168.312-.312.552-.432.248-.12.524-.18.828-.18h2.28l-5.124 6.36z",fill:"#21242C"}));case"NUM_7":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M26.083 11.7202v1.14c0 .336-.036.608-.108.816-.072.208-.144.384-.216.528l-6.828 13.896c-.12.256-.292.472-.516.648-.216.168-.504.252-.864.252h-1.86l6.96-13.668c.128-.248.256-.472.384-.672.128-.2.272-.392.432-.576h-8.628c-.16 0-.3-.06-.42-.18-.12-.128-.18-.272-.18-.432v-1.752h11.844z",fill:"#21242C"}));case"NUM_8":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M19.999 27.1518c.52 0 .984-.072 1.392-.216.408-.152.748-.36 1.02-.624.28-.272.492-.592.636-.96.144-.368.216-.768.216-1.2 0-.528-.084-.984-.252-1.368-.16-.384-.388-.7-.684-.948-.288-.256-.632-.444-1.032-.564-.4-.128-.832-.192-1.296-.192-.464 0-.896.064-1.296.192-.4.12-.748.308-1.044.564-.288.248-.516.564-.684.948-.16.384-.24.84-.24 1.368 0 .432.072.832.216 1.2.144.368.352.688.624.96.28.264.624.472 1.032.624.408.144.872.216 1.392.216zm0-13.644c-.472 0-.888.072-1.248.216-.352.144-.644.336-.876.576-.232.24-.408.524-.528.852-.112.32-.168.66-.168 1.02s.048.712.144 1.056c.104.344.264.652.48.924.224.264.516.476.876.636.36.16.8.24 1.32.24s.96-.08 1.32-.24c.36-.16.648-.372.864-.636.224-.272.384-.58.48-.924.104-.344.156-.696.156-1.056 0-.36-.06-.7-.18-1.02-.112-.328-.288-.612-.528-.852-.232-.24-.524-.432-.876-.576-.352-.144-.764-.216-1.236-.216zm2.724 6.48c1.064.328 1.86.848 2.388 1.56.536.712.804 1.596.804 2.652 0 .76-.144 1.448-.432 2.064-.288.616-.692 1.14-1.212 1.572-.52.432-1.144.768-1.872 1.008-.72.232-1.52.348-2.4.348-.88 0-1.684-.116-2.412-.348-.72-.24-1.34-.576-1.86-1.008-.52-.432-.924-.956-1.212-1.572-.288-.616-.432-1.304-.432-2.064 0-1.056.264-1.94.792-2.652.536-.712 1.336-1.232 2.4-1.56-.864-.344-1.516-.844-1.956-1.5-.432-.656-.648-1.444-.648-2.364 0-.648.128-1.252.384-1.812s.616-1.044 1.08-1.452c.472-.416 1.036-.74 1.692-.972.656-.24 1.38-.36 2.172-.36.792 0 1.512.12 2.16.36.656.232 1.216.556 1.68.972.472.408.836.892 1.092 1.452.264.56.396 1.164.396 1.812 0 .92-.22 1.708-.66 2.364-.432.656-1.08 1.156-1.944 1.5z",fill:"#21242C"}));case"NUM_9":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M16.735 16.8558c0 1.024.272 1.812.816 2.364.552.544 1.32.816 2.304.816.528 0 .992-.084 1.392-.252.408-.168.752-.392 1.032-.672.28-.288.492-.62.636-.996.144-.384.216-.792.216-1.224 0-.504-.08-.952-.24-1.344-.152-.4-.372-.74-.66-1.02-.28-.28-.616-.492-1.008-.636-.392-.152-.82-.228-1.284-.228-.488 0-.928.08-1.32.24-.392.16-.728.384-1.008.672-.28.28-.496.616-.648 1.008-.152.384-.228.808-.228 1.272zm4.428 5.364c.16-.2.308-.388.444-.564.136-.184.264-.368.384-.552-.416.296-.88.524-1.392.684-.512.152-1.056.228-1.632.228-.624 0-1.224-.104-1.8-.312-.576-.216-1.088-.532-1.536-.948-.448-.424-.808-.944-1.08-1.56-.264-.624-.396-1.34-.396-2.148 0-.76.14-1.476.42-2.148.288-.672.688-1.256 1.2-1.752.512-.504 1.124-.9 1.836-1.188.712-.288 1.5-.432 2.364-.432.856 0 1.632.14 2.328.42.696.272 1.288.66 1.776 1.164.488.496.864 1.092 1.128 1.788.264.688.396 1.448.396 2.28 0 .52-.048 1.012-.144 1.476-.088.464-.22.916-.396 1.356-.168.432-.376.86-.624 1.284-.24.416-.512.84-.816 1.272l-4.068 5.832c-.12.176-.3.32-.54.432-.232.112-.496.168-.792.168h-2.364l5.304-6.78z",fill:"#21242C"}));case"DECIMAL":case"PERIOD":return"DECIMAL"===id&&_utils__WEBPACK_IMPORTED_MODULE_1__.h2===_utils__WEBPACK_IMPORTED_MODULE_1__.ec.COMMA?react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-test-id":"comma-decimal"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M11.5559 25.3544C11.8679 24.661 12.1799 23.933 12.4919 23.1704C12.8039 22.425 13.0986 21.6884 13.3759 20.9604C13.6706 20.2324 13.9219 19.5737 14.1299 18.9844H16.6259L16.7299 19.2704C16.4526 19.877 16.1232 20.5357 15.7419 21.2464C15.3606 21.9397 14.9619 22.633 14.5459 23.3264C14.1299 24.037 13.7139 24.713 13.2979 25.3544H11.5559Z",fill:"#21242C"})):react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-test-id":"period-decimal"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M18.3401 27.512c0-.232.04-.448.12-.648.088-.208.204-.388.348-.54.152-.152.328-.272.528-.36.208-.088.428-.132.66-.132.232 0 .448.044.648.132.208.088.388.208.54.36.152.152.272.332.36.54.088.2.132.416.132.648 0 .24-.044.46-.132.66-.088.2-.208.376-.36.528-.152.152-.332.268-.54.348-.2.088-.416.132-.648.132-.232 0-.452-.044-.66-.132-.2-.08-.376-.196-.528-.348-.144-.152-.26-.328-.348-.528-.08-.2-.12-.42-.12-.66z",fill:"#21242C"}));case"PLUS":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20c0-.5523.4477-1 1-1h14c.5523 0 1 .4477 1 1s-.4477 1-1 1H13c-.5523 0-1-.4477-1-1z",fill:"#21242C"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 28c-.5523 0-1-.4477-1-1V13c0-.5523.4477-1 1-1s1 .4477 1 1v14c0 .5523-.4477 1-1 1z",fill:"#21242C"}));case"MINUS":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20c0-.5523.4477-1 1-1h14c.5523 0 1 .4477 1 1s-.4477 1-1 1H13c-.5523 0-1-.4477-1-1z",fill:"#21242C"}));case"TIMES":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3432 14.3428c.3905-.3905 1.0237-.3905 1.4142 0l9.8995 9.8995c.3905.3906.3905 1.0237 0 1.4143-.3905.3905-1.0237.3905-1.4142 0l-9.8995-9.8995c-.3905-.3906-.3905-1.0237 0-1.4143z",fill:"#21242C"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3431 25.6573c-.3905-.3905-.3905-1.0237 0-1.4142l9.8995-9.8995c.3905-.3905 1.0237-.3905 1.4142 0 .3905.3905.3905 1.0237 0 1.4142l-9.8995 9.8995c-.3905.3905-1.0237.3905-1.4142 0z",fill:"#21242C"}));case"CDOT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#clip0_874_41555)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:"20",cy:"20",r:"1.5",fill:"#21242C"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("clipPath",{id:"clip0_874_41555"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#fff",transform:"translate(18.5 18.5)",d:"M0 0h3v3H0z"}))));case"DIVIDE":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 16c.8284 0 1.5-.6716 1.5-1.5S20.8284 13 20 13s-1.5.6716-1.5 1.5.6716 1.5 1.5 1.5zm-8 4c0-.5523.4477-1 1-1h14c.5523 0 1 .4477 1 1s-.4477 1-1 1H13c-.5523 0-1-.4477-1-1zm9.5 5.5c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5.6716-1.5 1.5-1.5 1.5.6716 1.5 1.5z",fill:"#21242C"}));case"LEFT_PAREN":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6402 9.2318c.4243.35357.4816.9841.128 1.4084-4.6909 5.6292-4.6909 13.0905 0 18.7196.3536.4243.2963 1.0549-.128 1.4084-.4243.3536-1.0549.2963-1.4084-.128-5.3091-6.3708-5.3091-14.9095 0-21.28036.3535-.42428.9841-.4816 1.4084-.12804z",fill:"#21242C"}));case"RIGHT_PAREN":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.3598 9.2318c.4243-.35356 1.0549-.29624 1.4084.12804 5.3091 6.37086 5.3091 14.90956 0 21.28036-.3535.4243-.9841.4816-1.4084.128-.4242-.3535-.4816-.9841-.128-1.4084 4.691-5.6291 4.691-13.0904 0-18.7196-.3536-.4243-.2962-1.05483.128-1.4084z",fill:"#21242C"}));case"BACKSPACE":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20l6-6h12.1716v12H16l-6-6zm-1.41421-1.4142l6.00001-6C14.9609 12.2107 15.4696 12 16 12h12.1716c1.1045 0 2 .8954 2 2v12c0 1.1046-.8955 2-2 2H16c-.5304 0-1.0391-.2107-1.4142-.5858l-6.00001-6c-.78105-.781-.78105-2.0474 0-2.8284zm13.87871-1.2929l-1.2929 1.2929-1.2929-1.2929c-.3905-.3905-1.0237-.3905-1.4142 0-.3905.3905-.3905 1.0237 0 1.4142L19.7574 20l-1.2929 1.2929c-.3905.3905-.3905 1.0237 0 1.4142.3905.3905 1.0237.3905 1.4142 0l1.2929-1.2929 1.2929 1.2929c.3905.3905 1.0237.3905 1.4142 0 .3906-.3905.3906-1.0237 0-1.4142L22.5858 20l1.2929-1.2929c.3906-.3905.3906-1.0237 0-1.4142-.3905-.3905-1.0237-.3905-1.4142 0z",fill:"#21242C"}));case"DISMISS":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 256 256"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{transform:"scale(1,-1) translate(0, -260)",d:"M205.66,125.66a8,8,0,0,1-11.32,0L128,59.31,61.66,125.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,125.66Z"}));case"FRAC_INCLUSIVE":case"FRAC_EXCLUSIVE":case"FRAC":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 10C16 9.44772 16.4477 9 17 9H23C23.5523 9 24 9.44772 24 10V16C24 16.5523 23.5523 17 23 17H17C16.4477 17 16 16.5523 16 16V10ZM18 11H22V15H18V11ZM14 20C14 19.4477 14.4477 19 15 19H25C25.5523 19 26 19.4477 26 20C26 20.5523 25.5523 21 25 21H15C14.4477 21 14 20.5523 14 20ZM17 23C16.4477 23 16 23.4477 16 24V30C16 30.5523 16.4477 31 17 31H23C23.5523 31 24 30.5523 24 30V24C24 23.4477 23.5523 23 23 23H17ZM22 25H18V29H22V25Z",fill:"#21242C"}));case"NEGATIVE":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9571 13.2929c.3905.3905.3905 1.0237 0 1.4142C11.6871 15.9771 11 17.9485 11 20c0 2.0515.6871 4.0229 1.9571 5.2929.3905.3905.3905 1.0237 0 1.4142-.3905.3905-1.0237.3905-1.4142 0C9.81292 24.9771 9 22.4485 9 20c0-2.4485.81292-4.9771 2.5429-6.7071.3905-.3905 1.0237-.3905 1.4142 0zM14 20c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H15c-.5523 0-1-.4477-1-1zm14.4571-6.7071c-.3905-.3905-1.0237-.3905-1.4142 0-.3905.3905-.3905 1.0237 0 1.4142C28.3129 15.9771 29 17.9485 29 20c0 2.0515-.6871 4.0229-1.9571 5.2929-.3905.3905-.3905 1.0237 0 1.4142.3905.3905 1.0237.3905 1.4142 0C30.1871 24.9771 31 22.4485 31 20c0-2.4485-.8129-4.9771-2.5429-6.7071z",fill:"#21242C"}));case"RADICAL":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M9 9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V9Zm2 1h4v4h-4v-4Zm12 2a1 1 0 0 0-.841.46l-8.174 12.714-3.153-4.729a1 1 0 0 0-1.664 1.11l4 6a1 1 0 0 0 1.673-.014L23.546 14H30a1 1 0 1 0 0-2h-7Z",clipRule:"evenodd"}));case"SQRT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M22.159 12.46A1 1 0 0 1 23 12h7a1 1 0 1 1 0 2h-6.454l-8.705 13.54a1 1 0 0 1-1.673.015l-4-6a1 1 0 0 1 1.664-1.11l3.153 4.73 8.174-12.716Z",clipRule:"evenodd"}));case"CUBE_ROOT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M9.684 9.246a3.052 3.052 0 0 0-.33 1.023l.798.143c.209.033.368.02.478-.038.11-.063.2-.186.27-.369a1.05 1.05 0 0 1 .154-.324c.07-.1.152-.186.247-.259.1-.073.21-.13.33-.17.125-.044.26-.066.407-.066.334 0 .59.091.77.275.184.183.275.449.275.797 0 .165-.024.317-.071.457a.746.746 0 0 1-.248.357 1.297 1.297 0 0 1-.5.231 3.359 3.359 0 0 1-.82.083v1.067c.4 0 .715.029.946.088.235.055.41.135.528.242a.674.674 0 0 1 .231.38c.033.146.05.31.05.494 0 .14-.028.28-.083.424a1.116 1.116 0 0 1-.632.649c-.158.07-.343.104-.556.104-.169 0-.319-.024-.45-.071a1.197 1.197 0 0 1-.347-.198 1.738 1.738 0 0 1-.28-.308 3.794 3.794 0 0 1-.232-.385.457.457 0 0 0-.33-.242.809.809 0 0 0-.49.06l-.67.275c.12.356.262.668.423.935.162.264.354.484.578.66.227.176.49.308.786.396.297.088.64.132 1.029.132a3.55 3.55 0 0 0 1.05-.154c.338-.106.633-.264.886-.473a2.3 2.3 0 0 0 .605-.775c.15-.312.225-.671.225-1.078 0-.92-.458-1.531-1.375-1.832a2.24 2.24 0 0 0 .523-.247 1.47 1.47 0 0 0 .621-.864 2.47 2.47 0 0 0 .083-.67c0-.287-.057-.555-.17-.804a1.9 1.9 0 0 0-.48-.654 2.254 2.254 0 0 0-.77-.44c-.3-.11-.641-.165-1.022-.165-.36 0-.695.05-1.007.148a2.47 2.47 0 0 0-.825.435 2.42 2.42 0 0 0-.605.731ZM23 12a1 1 0 0 0-.841.46l-8.174 12.714-3.153-4.729a1 1 0 0 0-1.664 1.11l4 6a1 1 0 0 0 1.673-.014L23.546 14H30a1 1 0 1 0 0-2h-7Z",clipRule:"evenodd"}));case"EXP":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M28 8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V8Zm2 1h4v4h-4V9Zm-16 4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V13Zm2 1h8v12h-8V14Z",clipRule:"evenodd"}));case"EXP_2":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M33.58 13.746a.52.52 0 0 0-.386-.137h-1.793c-.161 0-.334.016-.517.05a4.09 4.09 0 0 0-.555.126l1.694-1.733c.212-.216.414-.43.605-.643.19-.213.357-.431.5-.655a3.22 3.22 0 0 0 .347-.715c.084-.25.126-.52.126-.814 0-.34-.06-.653-.181-.935a2.033 2.033 0 0 0-.512-.72 2.293 2.293 0 0 0-.797-.468 2.952 2.952 0 0 0-1.029-.17c-.36 0-.695.05-1.006.148a2.43 2.43 0 0 0-.83.435 2.42 2.42 0 0 0-.606.731 3.049 3.049 0 0 0-.33 1.023l.803.143c.205.033.363.02.473-.038.114-.063.204-.186.27-.369a1.05 1.05 0 0 1 .154-.324 1.18 1.18 0 0 1 .247-.259c.1-.073.21-.13.33-.17.125-.044.26-.066.407-.066.334 0 .592.093.776.28.183.183.275.453.275.809 0 .201-.026.394-.077.577a2.407 2.407 0 0 1-.231.545 4.17 4.17 0 0 1-.385.544 9.098 9.098 0 0 1-.534.578l-2.365 2.37a.897.897 0 0 0-.264.616V15h5.533v-.89a.48.48 0 0 0-.143-.364ZM14 13a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V13Zm2 1h8v12h-8V14Z",clipRule:"evenodd"}));case"EXP_3":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M28.684 8.246a3.049 3.049 0 0 0-.33 1.023l.798.143c.209.033.368.02.478-.038.11-.063.2-.186.27-.369a1.05 1.05 0 0 1 .154-.324 1.18 1.18 0 0 1 .247-.259c.1-.073.21-.13.33-.17.125-.044.26-.066.407-.066.334 0 .59.091.77.275.183.183.275.449.275.797 0 .165-.024.317-.071.457a.746.746 0 0 1-.248.357 1.298 1.298 0 0 1-.5.231 3.36 3.36 0 0 1-.82.083v1.067c.4 0 .715.029.946.088.235.055.41.135.528.242a.674.674 0 0 1 .231.38c.033.146.05.31.05.494 0 .14-.028.28-.083.424a1.118 1.118 0 0 1-.632.649c-.158.07-.343.104-.556.104-.169 0-.319-.024-.45-.071a1.195 1.195 0 0 1-.347-.198 1.738 1.738 0 0 1-.28-.308 3.794 3.794 0 0 1-.232-.385.457.457 0 0 0-.33-.242.809.809 0 0 0-.49.06l-.67.275c.12.356.262.668.423.935.161.264.354.484.578.66.227.176.49.308.786.396.297.088.64.132 1.029.132.366 0 .716-.051 1.05-.154.337-.106.633-.264.886-.473a2.3 2.3 0 0 0 .605-.775c.15-.312.225-.671.225-1.078 0-.92-.458-1.531-1.375-1.832a2.24 2.24 0 0 0 .523-.247 1.471 1.471 0 0 0 .621-.863 2.47 2.47 0 0 0 .083-.672c0-.286-.057-.554-.17-.803a1.9 1.9 0 0 0-.48-.654 2.254 2.254 0 0 0-.77-.44c-.3-.11-.641-.165-1.022-.165-.36 0-.695.05-1.007.148a2.47 2.47 0 0 0-.825.435 2.42 2.42 0 0 0-.605.731ZM14 13a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V13Zm2 1h8v12h-8V14Z",clipRule:"evenodd"}));case"TAN":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M12.157 26.128c-.714 0-1.264-.2-1.648-.6-.378-.405-.568-.962-.568-1.672v-4.584h-.84a.385.385 0 0 1-.272-.104c-.074-.07-.112-.173-.112-.312v-.784l1.32-.216.416-2.24a.439.439 0 0 1 .152-.248.452.452 0 0 1 .288-.088h1.024v2.584h2.192v1.408h-2.192v4.448c0 .256.062.456.184.6a.66.66 0 0 0 .52.216.978.978 0 0 0 .304-.04 1.63 1.63 0 0 0 .216-.096c.064-.032.12-.061.168-.088a.258.258 0 0 1 .144-.048c.059 0 .107.016.144.048.038.027.078.07.12.128l.592.96c-.288.24-.618.422-.992.544-.373.123-.76.184-1.16.184Zm7.553-3.632c-.57.027-1.05.078-1.44.152-.389.07-.7.16-.936.272-.234.112-.402.243-.504.392a.852.852 0 0 0-.152.488c0 .347.102.595.304.744.208.15.478.224.808.224.406 0 .755-.072 1.048-.216.3-.15.59-.373.872-.672v-1.384Zm-4.528-3.56c.944-.864 2.08-1.296 3.408-1.296.48 0 .91.08 1.288.24a2.696 2.696 0 0 1 1.552 1.656c.14.39.208.816.208 1.28V26h-.896c-.186 0-.33-.026-.432-.08-.1-.058-.18-.173-.24-.344l-.176-.592c-.208.187-.41.352-.608.496a3.743 3.743 0 0 1-.616.352 3.14 3.14 0 0 1-.688.216 3.65 3.65 0 0 1-.8.08 3.24 3.24 0 0 1-.96-.136 2.159 2.159 0 0 1-.76-.424 1.886 1.886 0 0 1-.496-.696 2.47 2.47 0 0 1-.176-.968 1.892 1.892 0 0 1 .44-1.208c.16-.186.366-.362.616-.528a4 4 0 0 1 .92-.432 7.836 7.836 0 0 1 1.28-.296c.486-.08 1.04-.128 1.664-.144v-.48c0-.55-.117-.954-.352-1.216-.234-.266-.573-.4-1.016-.4-.32 0-.586.038-.8.112-.208.075-.392.16-.552.256-.16.09-.306.174-.44.248a.842.842 0 0 1-.432.112.585.585 0 0 1-.352-.104.956.956 0 0 1-.232-.256l-.352-.632Zm10.165-.136a5.2 5.2 0 0 1 .52-.456 3.194 3.194 0 0 1 1.248-.592 3.2 3.2 0 0 1 .768-.088c.448 0 .846.078 1.192.232.347.15.635.363.864.64.235.272.411.6.528.984.123.379.184.798.184 1.256V26h-1.976v-5.224c0-.501-.114-.888-.344-1.16-.229-.277-.578-.416-1.048-.416-.34 0-.66.078-.96.232a3.438 3.438 0 0 0-.848.632V26H23.5v-8.208h1.208c.256 0 .424.12.504.36l.136.648Z"}));case"COS":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M14.957 19.528a.918.918 0 0 1-.176.176c-.053.043-.133.064-.24.064-.1 0-.2-.03-.296-.088a5.242 5.242 0 0 0-.343-.208 2.237 2.237 0 0 0-.48-.208 2.066 2.066 0 0 0-.68-.096c-.347 0-.651.064-.913.192-.26.123-.48.301-.655.536-.171.235-.3.52-.384.856-.086.33-.128.707-.128 1.128 0 .437.045.827.135 1.168.096.341.232.63.409.864.176.23.389.405.64.528.25.117.533.176.848.176.314 0 .567-.037.76-.112.197-.08.362-.165.495-.256.134-.096.248-.181.345-.256a.53.53 0 0 1 .335-.12.4.4 0 0 1 .36.184l.568.72a3.68 3.68 0 0 1-.712.648c-.256.17-.522.31-.8.416a4.126 4.126 0 0 1-.848.216 5.897 5.897 0 0 1-.863.064c-.507 0-.984-.093-1.432-.28a3.43 3.43 0 0 1-1.177-.832 4.014 4.014 0 0 1-.8-1.328c-.192-.528-.288-1.128-.288-1.8 0-.603.086-1.16.256-1.672.176-.517.432-.963.768-1.336a3.479 3.479 0 0 1 1.248-.888c.496-.213 1.067-.32 1.712-.32.614 0 1.15.099 1.608.296.465.197.88.48 1.248.848l-.52.72Zm5.331-1.864c.608 0 1.16.099 1.656.296.5.197.928.477 1.28.84.357.363.632.805.824 1.328a5.05 5.05 0 0 1 .288 1.752 5.08 5.08 0 0 1-.288 1.76 3.742 3.742 0 0 1-.824 1.336c-.352.368-.78.65-1.28.848a4.445 4.445 0 0 1-1.656.296 4.53 4.53 0 0 1-1.672-.296 3.616 3.616 0 0 1-1.288-.848 3.897 3.897 0 0 1-.824-1.336 5.077 5.077 0 0 1-.288-1.76c0-.645.096-1.23.288-1.752a3.81 3.81 0 0 1 .824-1.328 3.668 3.668 0 0 1 1.288-.84 4.528 4.528 0 0 1 1.672-.296Zm0 6.936c.682 0 1.186-.23 1.512-.688.33-.459.496-1.13.496-2.016 0-.885-.166-1.56-.496-2.024-.326-.464-.83-.696-1.512-.696-.694 0-1.208.235-1.544.704-.331.464-.496 1.136-.496 2.016 0 .88.165 1.552.496 2.016.336.459.85.688 1.544.688Zm10.563-5.208a.574.574 0 0 1-.168.184.465.465 0 0 1-.224.048.731.731 0 0 1-.312-.08 9.204 9.204 0 0 0-.376-.176 3.15 3.15 0 0 0-.496-.184 2.311 2.311 0 0 0-.648-.08c-.39 0-.696.083-.92.248a.775.775 0 0 0-.328.648.64.64 0 0 0 .168.448c.117.117.27.221.456.312.192.09.408.173.648.248.24.07.483.147.728.232.25.085.496.184.736.296.24.107.453.245.64.416.192.165.344.365.456.6.117.235.176.517.176.848 0 .395-.072.76-.216 1.096-.139.33-.347.619-.624.864-.277.24-.621.43-1.032.568a4.51 4.51 0 0 1-1.408.2c-.283 0-.56-.027-.832-.08a4.527 4.527 0 0 1-1.464-.528 3.417 3.417 0 0 1-.552-.4l.456-.752a.644.644 0 0 1 .208-.208.583.583 0 0 1 .304-.072.62.62 0 0 1 .344.104c.112.07.24.144.384.224.144.08.312.155.504.224.197.07.445.104.744.104.235 0 .435-.027.6-.08.17-.059.31-.133.416-.224a.783.783 0 0 0 .24-.312.935.935 0 0 0 .08-.376.655.655 0 0 0-.176-.472 1.44 1.44 0 0 0-.456-.32 3.935 3.935 0 0 0-.648-.24c-.24-.075-.488-.155-.744-.24a8.006 8.006 0 0 1-.744-.296 2.725 2.725 0 0 1-.648-.44 2.054 2.054 0 0 1-.456-.648c-.112-.256-.168-.565-.168-.928 0-.336.067-.656.2-.96.133-.304.328-.568.584-.792.261-.23.584-.41.968-.544a3.99 3.99 0 0 1 1.344-.208c.565 0 1.08.093 1.544.28a3.5 3.5 0 0 1 1.16.736l-.448.712Z"}));case"SIN":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M16.422 19.392a.57.57 0 0 1-.168.184.465.465 0 0 1-.224.048.73.73 0 0 1-.312-.08 9.34 9.34 0 0 0-.376-.176 3.15 3.15 0 0 0-.496-.184 2.314 2.314 0 0 0-.648-.08c-.39 0-.696.082-.92.248a.775.775 0 0 0-.328.648.64.64 0 0 0 .168.448c.117.117.269.221.456.312.192.09.408.173.648.248.24.07.482.146.728.232.25.085.496.184.736.296.24.106.453.245.64.416.192.165.344.365.456.6.117.234.176.517.176.848 0 .394-.072.76-.216 1.096-.14.33-.347.618-.624.864-.278.24-.622.43-1.032.568-.406.133-.875.2-1.408.2-.283 0-.56-.027-.832-.08a4.512 4.512 0 0 1-1.464-.528 3.41 3.41 0 0 1-.552-.4l.456-.752a.646.646 0 0 1 .208-.208.583.583 0 0 1 .304-.072.62.62 0 0 1 .344.104c.112.07.24.144.384.224.144.08.312.154.504.224.197.07.445.104.744.104.234 0 .434-.027.6-.08.17-.059.309-.134.416-.224a.782.782 0 0 0 .24-.312.935.935 0 0 0 .08-.376.655.655 0 0 0-.176-.472 1.443 1.443 0 0 0-.456-.32 3.953 3.953 0 0 0-.648-.24 37.95 37.95 0 0 1-.744-.24 7.978 7.978 0 0 1-.744-.296 2.722 2.722 0 0 1-.648-.44 2.054 2.054 0 0 1-.456-.648c-.112-.256-.168-.566-.168-.928 0-.336.066-.656.2-.96.133-.304.328-.568.584-.792.26-.23.584-.41.968-.544a3.985 3.985 0 0 1 1.344-.208c.565 0 1.08.093 1.544.28.464.186.85.432 1.16.736l-.448.712Zm4.071-1.6V26h-1.984v-8.208h1.984Zm.272-2.392c0 .17-.035.33-.104.48-.07.15-.163.28-.28.392a1.326 1.326 0 0 1-.4.272c-.155.064-.32.096-.496.096-.17 0-.334-.032-.488-.096a1.357 1.357 0 0 1-.664-.664 1.284 1.284 0 0 1 0-.976c.07-.155.16-.288.272-.4.112-.112.242-.2.392-.264a1.18 1.18 0 0 1 .488-.104c.176 0 .341.034.496.104.154.064.288.152.4.264.117.112.21.245.28.4.07.154.104.32.104.496Zm3.59 3.4c.166-.166.339-.318.52-.456a3.197 3.197 0 0 1 1.248-.592 3.15 3.15 0 0 1 .768-.088 2.9 2.9 0 0 1 1.192.232c.347.15.635.362.864.64.235.272.411.6.528.984.123.378.184.797.184 1.256V26h-1.976v-5.224c0-.502-.114-.888-.344-1.16-.229-.278-.578-.416-1.048-.416-.341 0-.661.077-.96.232a3.445 3.445 0 0 0-.848.632V26h-1.976v-8.208h1.208c.256 0 .424.12.504.36l.136.648Z"}));case"EQUAL":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M12 17a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Z",clipRule:"evenodd"}));case"GT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M12.058 14.664a1 1 0 0 1 1.278-.605l14 5a1 1 0 0 1 0 1.883l-14 5a1 1 0 1 1-.672-1.884L24.027 20l-11.363-4.058a1 1 0 0 1-.606-1.278Z",clipRule:"evenodd"}));case"LT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M27.942 14.664a1 1 0 0 1-.606 1.278L15.973 20l11.363 4.058a1 1 0 0 1-.672 1.884l-14-5a1 1 0 0 1 0-1.884l14-5a1 1 0 0 1 1.278.606Z",clipRule:"evenodd"}));case"GEQ":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M12 29a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm.058-14.336a1 1 0 0 1 1.278-.605l14 5a1 1 0 0 1 0 1.883l-14 5a1 1 0 1 1-.672-1.884L24.027 20l-11.363-4.058a1 1 0 0 1-.606-1.278Z",clipRule:"evenodd"}));case"LEQ":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M12 29a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm15.942-14.336a1 1 0 0 1-.606 1.278L15.973 20l11.363 4.058a1 1 0 0 1-.672 1.884l-14-5a1 1 0 0 1 0-1.884l14-5a1 1 0 0 1 1.278.606Z",clipRule:"evenodd"}));case"NEQ":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M12 17a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Z",clipRule:"evenodd"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M16 26.928a1 1 0 0 1-.366-1.366l7-12.125a1 1 0 0 1 1.732 1l-7 12.125a1 1 0 0 1-1.366.366Z",clipRule:"evenodd"}));case"LN":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M16.976 14.112V26H15V14.112h1.976Zm3.817 4.688a5.19 5.19 0 0 1 .52-.456 3.195 3.195 0 0 1 1.248-.592 3.16 3.16 0 0 1 .768-.088c.448 0 .845.078 1.192.232.346.15.634.363.864.64.234.272.41.6.528.984.122.379.184.798.184 1.256V26H24.12v-5.224c0-.501-.115-.888-.344-1.16-.23-.277-.579-.416-1.048-.416-.342 0-.662.078-.96.232a3.439 3.439 0 0 0-.848.632V26h-1.976v-8.208h1.208c.256 0 .424.12.504.36l.136.648Z"}));case"LOG":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M12.203 14.112V26h-1.976V14.112h1.976Zm5.6 3.552c.608 0 1.16.099 1.656.296.502.198.928.478 1.28.84.358.363.632.806.824 1.328.192.523.288 1.107.288 1.752 0 .651-.096 1.238-.288 1.76a3.741 3.741 0 0 1-.824 1.336 3.528 3.528 0 0 1-1.28.848 4.445 4.445 0 0 1-1.656.296 4.53 4.53 0 0 1-1.672-.296 3.616 3.616 0 0 1-1.288-.848 3.896 3.896 0 0 1-.824-1.336 5.076 5.076 0 0 1-.288-1.76c0-.645.096-1.229.288-1.752a3.81 3.81 0 0 1 .824-1.328 3.669 3.669 0 0 1 1.288-.84 4.53 4.53 0 0 1 1.672-.296Zm0 6.936c.683 0 1.187-.229 1.512-.688.331-.458.496-1.13.496-2.016 0-.885-.165-1.56-.496-2.024-.325-.464-.829-.696-1.512-.696-.693 0-1.208.235-1.544.704-.33.464-.496 1.136-.496 2.016 0 .88.166 1.552.496 2.016.336.459.851.688 1.544.688Zm8.493-2.904c.246 0 .459-.032.64-.096.182-.069.331-.162.448-.28.123-.117.214-.258.272-.424.064-.165.096-.346.096-.544 0-.405-.122-.725-.368-.96-.24-.24-.602-.36-1.088-.36-.485 0-.85.12-1.096.36-.24.235-.36.555-.36.96 0 .192.03.371.088.536.064.166.155.31.272.432.123.118.275.211.456.28.187.064.4.096.64.096Zm2.232 4.672c0-.16-.048-.29-.144-.392a.914.914 0 0 0-.392-.232 2.716 2.716 0 0 0-.584-.128 8.987 8.987 0 0 0-.704-.056 32.107 32.107 0 0 0-.768-.04 8.959 8.959 0 0 1-.768-.064 1.908 1.908 0 0 0-.536.432.89.89 0 0 0-.096.976.93.93 0 0 0 .344.328c.16.091.366.16.616.208.251.054.558.08.92.08.368 0 .686-.029.952-.088a2.09 2.09 0 0 0 .656-.232.954.954 0 0 0 .384-.352.84.84 0 0 0 .12-.44Zm1.968-8.296v.736c0 .235-.141.379-.424.432l-.736.136c.112.283.168.592.168.928a2.414 2.414 0 0 1-.92 1.936c-.288.23-.629.408-1.024.536a4.17 4.17 0 0 1-1.264.184c-.16 0-.314-.008-.464-.024a5.807 5.807 0 0 1-.44-.064c-.256.155-.384.328-.384.52 0 .166.075.288.224.368.155.075.358.128.608.16.251.032.536.054.856.064.32.006.648.022.984.048.336.027.664.075.984.144.32.064.606.168.856.312.251.144.451.342.6.592.155.246.232.563.232.952 0 .363-.09.715-.272 1.056a2.773 2.773 0 0 1-.776.912c-.336.267-.752.48-1.248.64-.49.166-1.05.248-1.68.248-.618 0-1.157-.061-1.616-.184-.458-.117-.84-.277-1.144-.48a2.037 2.037 0 0 1-.68-.688 1.623 1.623 0 0 1-.224-.816c0-.384.115-.704.344-.96.235-.261.555-.469.96-.624a1.377 1.377 0 0 1-.52-.448c-.128-.186-.192-.432-.192-.736 0-.122.022-.248.064-.376.048-.133.115-.264.2-.392.091-.128.203-.248.336-.36a2.2 2.2 0 0 1 .472-.312 2.621 2.621 0 0 1-.984-.896c-.234-.373-.352-.81-.352-1.312 0-.405.08-.77.24-1.096.166-.33.392-.61.68-.84a3.11 3.11 0 0 1 1.032-.536c.4-.122.835-.184 1.304-.184.352 0 .683.038.992.112.31.07.592.174.848.312h2.36Z"}));case"LOG_N":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M12.203 14.112V26h-1.976V14.112h1.976Zm5.6 3.552c.608 0 1.16.099 1.656.296.502.198.928.478 1.28.84.358.363.632.806.824 1.328.192.523.288 1.107.288 1.752 0 .651-.096 1.238-.288 1.76a3.741 3.741 0 0 1-.824 1.336 3.528 3.528 0 0 1-1.28.848 4.445 4.445 0 0 1-1.656.296 4.53 4.53 0 0 1-1.672-.296 3.616 3.616 0 0 1-1.288-.848 3.896 3.896 0 0 1-.824-1.336 5.076 5.076 0 0 1-.288-1.76c0-.645.096-1.229.288-1.752a3.81 3.81 0 0 1 .824-1.328 3.669 3.669 0 0 1 1.288-.84 4.53 4.53 0 0 1 1.672-.296Zm0 6.936c.683 0 1.187-.229 1.512-.688.331-.458.496-1.13.496-2.016 0-.885-.165-1.56-.496-2.024-.325-.464-.829-.696-1.512-.696-.693 0-1.208.235-1.544.704-.33.464-.496 1.136-.496 2.016 0 .88.166 1.552.496 2.016.336.459.851.688 1.544.688Zm8.493-2.904c.246 0 .459-.032.64-.096.182-.069.331-.162.448-.28.123-.117.214-.258.272-.424.064-.165.096-.346.096-.544 0-.405-.122-.725-.368-.96-.24-.24-.602-.36-1.088-.36-.485 0-.85.12-1.096.36-.24.235-.36.555-.36.96 0 .192.03.371.088.536.064.166.155.31.272.432.123.118.275.211.456.28.187.064.4.096.64.096Zm2.232 4.672c0-.16-.048-.29-.144-.392a.914.914 0 0 0-.392-.232 2.716 2.716 0 0 0-.584-.128 8.987 8.987 0 0 0-.704-.056 32.107 32.107 0 0 0-.768-.04 8.959 8.959 0 0 1-.768-.064 1.908 1.908 0 0 0-.536.432.89.89 0 0 0-.096.976.93.93 0 0 0 .344.328c.16.091.366.16.616.208.251.054.558.08.92.08.368 0 .686-.029.952-.088a2.09 2.09 0 0 0 .656-.232.954.954 0 0 0 .384-.352.84.84 0 0 0 .12-.44Zm1.968-8.296v.736c0 .235-.141.379-.424.432l-.736.136c.112.283.168.592.168.928a2.414 2.414 0 0 1-.92 1.936c-.288.23-.629.408-1.024.536a4.17 4.17 0 0 1-1.264.184c-.16 0-.314-.008-.464-.024a5.807 5.807 0 0 1-.44-.064c-.256.155-.384.328-.384.52 0 .166.075.288.224.368.155.075.358.128.608.16.251.032.536.054.856.064.32.006.648.022.984.048.336.027.664.075.984.144.32.064.606.168.856.312.251.144.451.342.6.592.155.246.232.563.232.952 0 .363-.09.715-.272 1.056a2.773 2.773 0 0 1-.776.912c-.336.267-.752.48-1.248.64-.49.166-1.05.248-1.68.248-.618 0-1.157-.061-1.616-.184-.458-.117-.84-.277-1.144-.48a2.037 2.037 0 0 1-.68-.688 1.623 1.623 0 0 1-.224-.816c0-.384.115-.704.344-.96.235-.261.555-.469.96-.624a1.377 1.377 0 0 1-.52-.448c-.128-.186-.192-.432-.192-.736 0-.122.022-.248.064-.376.048-.133.115-.264.2-.392.091-.128.203-.248.336-.36a2.2 2.2 0 0 1 .472-.312 2.621 2.621 0 0 1-.984-.896c-.234-.373-.352-.81-.352-1.312 0-.405.08-.77.24-1.096.166-.33.392-.61.68-.84a3.11 3.11 0 0 1 1.032-.536c.4-.122.835-.184 1.304-.184.352 0 .683.038.992.112.31.07.592.174.848.312h2.36Z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",fillRule:"evenodd",d:"M32 26a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6Zm5 2h-4v4h4v-4Z",clipRule:"evenodd"}));case"PERCENT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M24.447 11.106a1 1 0 0 1 .447 1.341l-8 16a1 1 0 1 1-1.788-.894l8-16a1 1 0 0 1 1.341-.447ZM15 13a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm12 10a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",clipRule:"evenodd"}));case"PI":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M23.7918 25.0379c0 .2947-.13.572-.39.832-.2426.26-.546.39-.91.39-.26 0-.442-.0346-.546-.104-.0866-.0693-.182-.208-.286-.416-.3293-.7626-.494-1.7246-.494-2.886 0-.624.0087-1.04.026-1.248.1214-1.196.39-2.6433.806-4.342.0867-.3466.13-.5373.13-.572h-2.548l-.026.104c0 .0174-.0173.0954-.052.234-.0346.1214-.0866.312-.156.572-.052.2427-.104.468-.156.676-1.144 4.4547-1.8286 6.8814-2.054 7.28-.208.4854-.5806.728-1.118.728-.3986 0-.676-.1473-.832-.442-.0346-.0866-.052-.2253-.052-.416v-.286l.338-.728c1.3-2.7386 2.2447-5.1046 2.834-7.098l.208-.624h-.832c-.6933 0-1.1786.026-1.456.078-.26.052-.5806.2167-.962.494-.416.26-.78.6154-1.092 1.066-.0866.1387-.156.2254-.208.26-.052.0174-.182.026-.39.026-.3293 0-.494-.0866-.494-.26 0-.0693.0867-.2426.26-.52 1.196-1.82 2.366-2.8166 3.51-2.99.1214-.0346 2.0714-.052 5.85-.052 2.7734 0 4.1947.0087 4.264.026.3467.1214.52.364.52.728 0 .5374-.2773.9014-.832 1.092-.104.0347-.702.052-1.794.052h-1.664l-.078.442c-.208 1.248-.312 2.2794-.312 3.094 0 1.5427.2687 2.938.806 4.186.1214.312.182.52.182.624z",fill:"#21242C"}));case"THETA":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M22.2 10.696h.208a2.26 2.26 0 0 1 .312-.026c.936.087 1.664.511 2.184 1.274.676 1.023 1.014 2.418 1.014 4.186 0 .468-.017.84-.052 1.118-.225 2.305-.823 4.463-1.794 6.474-.59 1.23-1.282 2.305-2.08 3.224-.78.919-1.551 1.569-2.314 1.95-.537.243-1.005.364-1.404.364h-.182c-.762 0-1.395-.269-1.898-.806-.918-.97-1.378-2.522-1.378-4.654 0-.832.087-1.707.26-2.626.641-3.467 1.95-6.3 3.926-8.502 1.058-1.161 2.123-1.82 3.198-1.976Zm1.664 3.588c0-1.768-.46-2.652-1.378-2.652-.572 0-1.161.373-1.768 1.118-.866 1.092-1.603 2.652-2.21 4.68-.346 1.092-.52 1.733-.52 1.924.85.017 1.69.026 2.522.026l2.522-.026c.087-.087.243-.763.468-2.028.243-1.265.364-2.28.364-3.042Zm-1.248 6.734.13-.442h-5.07l-.026.182c-.537 2.15-.806 3.753-.806 4.81 0 1.179.208 1.993.624 2.444.19.208.442.312.754.312.694 0 1.421-.563 2.184-1.69.815-1.196 1.552-3.068 2.21-5.616Z"}));case"a":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M27.781 24.022c.156 0 .26.009.312.026a.18.18 0 0 1 .13.052c.035.035.052.087.052.156 0 .052-.026.182-.078.39-.381 1.456-.85 2.462-1.404 3.016a2.573 2.573 0 0 1-.832.546 2.776 2.776 0 0 1-.624.052c-1.092 0-1.855-.425-2.288-1.274-.087-.225-.13-.33-.13-.312-.017-.017-.052-.008-.104.026l-.104.104c-.832.78-1.655 1.257-2.47 1.43-.104.017-.32.026-.65.026-1.144 0-2.089-.477-2.834-1.43-.52-.762-.78-1.733-.78-2.912 0-.277.009-.468.026-.572a7.916 7.916 0 0 1 1.066-3.172c.607-1.023 1.326-1.846 2.158-2.47 1.005-.78 2.063-1.17 3.172-1.17.867 0 1.647.425 2.34 1.274.277-.52.676-.78 1.196-.78a.93.93 0 0 1 .598.208.64.64 0 0 1 .26.52c0 .226-.33 1.62-.988 4.186-.641 2.548-.962 3.978-.962 4.29 0 .728.243 1.092.728 1.092.156-.017.33-.095.52-.234.364-.346.72-1.178 1.066-2.496.104-.347.19-.529.26-.546.035-.017.121-.026.26-.026h.104Zm-9.594 1.222c0 .624.13 1.127.39 1.508.277.382.676.572 1.196.572.503 0 1.04-.208 1.612-.624.208-.139.485-.398.832-.78.364-.381.58-.641.65-.78.035-.07.269-.997.702-2.782.45-1.785.676-2.747.676-2.886 0-.208-.095-.503-.286-.884-.381-.745-.927-1.118-1.638-1.118-.693 0-1.309.295-1.846.884a6.274 6.274 0 0 0-1.196 2.028 20.753 20.753 0 0 0-1.066 4.264c0 .052-.009.148-.026.286v.312Z"}));case"b":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M18.74 10.242c.018 0 .642-.043 1.873-.13 1.248-.104 1.88-.156 1.898-.156.208 0 .312.078.312.234 0 .156-.295 1.395-.884 3.718-.139.59-.295 1.196-.468 1.82a60.807 60.807 0 0 1-.364 1.404l-.104.494c0 .052.052.026.156-.078a4.832 4.832 0 0 1 1.976-.988c.208-.035.424-.052.65-.052.225 0 .442.017.65.052.901.208 1.62.676 2.158 1.404.537.728.806 1.647.806 2.756 0 1.941-.685 3.692-2.054 5.252-1.352 1.543-2.825 2.314-4.42 2.314-.503 0-.98-.113-1.43-.338-1.352-.607-2.028-1.89-2.028-3.848 0-.503.052-.997.156-1.482 0-.017.433-1.794 1.3-5.33l1.326-5.304c.035-.243-.026-.39-.182-.442-.139-.07-.381-.104-.728-.104h-.286c-.364 0-.572-.026-.624-.078-.104-.087-.113-.295-.026-.624.07-.243.13-.381.182-.416.052-.052.104-.078.156-.078Zm6.423 9.308c0-1.387-.529-2.08-1.586-2.08-.035 0-.096.009-.182.026h-.13c-.902.19-1.75.815-2.548 1.872a1.501 1.501 0 0 0-.13.156l-.078.104c0 .017-.156.641-.468 1.872a96.026 96.026 0 0 0-.494 2.08 7.731 7.731 0 0 0-.156 1.456c0 .832.208 1.456.624 1.872.277.277.624.416 1.04.416.572 0 1.152-.277 1.742-.832.433-.399.78-.884 1.04-1.456.277-.59.563-1.5.858-2.73.312-1.248.468-2.167.468-2.756Z"}));case"c":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M26.932 24.854c.07 0 .182.087.338.26.173.156.26.268.26.338 0 .156-.269.476-.806.962-1.075.97-2.435 1.577-4.082 1.82-.381.034-.72.052-1.014.052-1.855 0-3.146-.763-3.874-2.288a4.598 4.598 0 0 1-.494-2.132c0-.797.165-1.612.494-2.444.503-1.3 1.317-2.4 2.444-3.302 1.144-.919 2.357-1.448 3.64-1.586.104-.017.269-.026.494-.026.607 0 1.17.095 1.69.286.97.416 1.456 1.075 1.456 1.976 0 .537-.165.98-.494 1.326-.33.33-.745.494-1.248.494-.33 0-.59-.087-.78-.26-.19-.19-.286-.45-.286-.78 0-.295.087-.58.26-.858.173-.277.399-.477.676-.598.139-.087.234-.13.286-.13.07 0 .009-.06-.182-.182-.33-.19-.789-.286-1.378-.286-.52 0-1.014.121-1.482.364-.364.156-.737.425-1.118.806a5.29 5.29 0 0 0-1.092 1.612c-.277.624-.555 1.517-.832 2.678-.19.814-.286 1.465-.286 1.95 0 .797.225 1.395.676 1.794.399.416.936.624 1.612.624.26 0 .529-.018.806-.052 1.63-.243 2.964-.962 4.004-2.158.156-.174.26-.26.312-.26Z"}));case"d":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M26.634 10.112c.26-.017.555-.035.884-.052.33-.035.572-.06.728-.078.173-.017.269-.026.286-.026.208 0 .312.07.312.208 0 .121-.641 2.747-1.924 7.878a2094.732 2094.732 0 0 0-1.924 7.8 2.156 2.156 0 0 0-.026.39c0 .728.243 1.092.728 1.092.156-.017.33-.095.52-.234.364-.347.72-1.179 1.066-2.496.104-.347.19-.529.26-.546.035-.017.121-.026.26-.026h.104c.33 0 .494.07.494.208 0 .07-.026.208-.078.416-.381 1.456-.85 2.461-1.404 3.016a2.572 2.572 0 0 1-.832.546 2.776 2.776 0 0 1-.624.052c-1.092 0-1.855-.425-2.288-1.274-.087-.225-.13-.33-.13-.312-.017-.017-.052-.009-.104.026l-.104.104c-.832.78-1.655 1.257-2.47 1.43-.104.017-.32.026-.65.026-1.144 0-2.089-.477-2.834-1.43-.52-.763-.78-1.733-.78-2.912 0-1.612.59-3.207 1.768-4.784 1.075-1.317 2.27-2.14 3.588-2.47a3.87 3.87 0 0 1 1.066-.156c.953 0 1.681.364 2.184 1.092.087.104.13.139.13.104l.702-2.834c.468-1.837.71-2.8.728-2.886 0-.208-.052-.347-.156-.416-.19-.07-.537-.113-1.04-.13h-.546a1.192 1.192 0 0 1-.182-.208c0-.035.026-.2.078-.494.087-.33.2-.494.338-.494a17.914 17.914 0 0 1 .962-.078l.91-.052Zm-2.236 9.412c-.381-1.37-1.031-2.054-1.95-2.054-.693 0-1.309.295-1.846.884a6.274 6.274 0 0 0-1.196 2.028 20.753 20.753 0 0 0-1.066 4.264c0 .052-.009.147-.026.286v.312c0 .624.13 1.127.39 1.508.277.381.676.572 1.196.572.919 0 1.88-.624 2.886-1.872l.208-.286.702-2.808c.312-1.265.546-2.21.702-2.834Z"}));case"e":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M26.5 24.854c.07 0 .182.087.338.26.174.156.26.268.26.338 0 .156-.268.476-.806.962-1.421 1.248-3.094 1.872-5.018 1.872-.953 0-1.76-.234-2.418-.702-.381-.208-.728-.546-1.04-1.014-.572-.867-.858-1.846-.858-2.938 0-.659.07-1.309.208-1.95.364-1.352 1.11-2.505 2.236-3.458 1.144-.954 2.514-1.517 4.108-1.69.018-.017.156-.026.416-.026h.078c.728 0 1.344.165 1.846.494.52.312.858.745 1.014 1.3.018.07.026.225.026.468 0 .312-.017.529-.052.65-.364 1.23-1.308 2.036-2.834 2.418-.85.225-2.01.346-3.484.364-.641 0-.97.017-.988.052 0 .017-.017.13-.052.338-.19.85-.286 1.543-.286 2.08 0 .814.182 1.465.546 1.95.364.468.91.702 1.638.702 1.942 0 3.545-.737 4.81-2.21.156-.174.26-.26.312-.26Zm-.858-6.032c-.104-.901-.693-1.352-1.768-1.352-.606 0-1.23.173-1.872.52-.85.503-1.482 1.291-1.898 2.366-.19.52-.286.806-.286.858 0 .017.174.026.52.026.572 0 1.1-.017 1.586-.052 1.023-.087 1.786-.234 2.288-.442a2.776 2.776 0 0 0 1.248-1.04c.122-.26.182-.555.182-.884Z"}));case"f":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M18.695 32.212c.468.104.72.156.754.156.399 0 .745-.364 1.04-1.092.208-.572.84-3.657 1.898-9.256.485-2.617.737-3.935.754-3.952v-.078h-1.222c-.815 0-1.248-.017-1.3-.052-.121-.07-.139-.26-.052-.572.07-.26.113-.399.13-.416.035-.087.104-.13.208-.13.121-.017.529-.026 1.222-.026.832 0 1.248-.009 1.248-.026 0-.035.078-.468.234-1.3.156-.832.26-1.335.312-1.508.364-1.647.91-2.79 1.638-3.432.693-.572 1.413-.858 2.158-.858.624.035 1.144.225 1.56.572.433.347.65.806.65 1.378 0 .503-.156.927-.468 1.274-.312.347-.702.52-1.17.52-.763 0-1.144-.364-1.144-1.092 0-.641.303-1.11.91-1.404l.234-.13c-.312-.104-.572-.156-.78-.156-.503 0-.832.33-.988.988-.139.52-.364 1.655-.676 3.406l-.338 1.716c0 .035.477.052 1.43.052.78 0 1.248.009 1.404.026.156.017.234.078.234.182 0 .19-.06.468-.182.832-.035.087-.121.139-.26.156h-2.834l-.598 3.172c-.641 3.31-1.04 5.313-1.196 6.006-.59 2.617-1.378 4.394-2.366 5.33-.641.555-1.274.832-1.898.832-.624 0-1.144-.173-1.56-.52-.416-.347-.624-.806-.624-1.378 0-.52.156-.962.468-1.326.312-.347.702-.52 1.17-.52.763 0 1.144.364 1.144 1.092 0 .641-.303 1.11-.91 1.404l-.234.13Z"}));case"g":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M17.729 29.846c.312 0 .572.095.78.286.208.19.312.442.312.754 0 .468-.174.867-.52 1.196-.122.121-.165.182-.13.182.173.052.693.078 1.56.078.658 0 1.178-.104 1.56-.312.398-.19.771-.486 1.118-.884.346-.381.589-.78.728-1.196.104-.33.242-.867.416-1.612.225-.832.338-1.318.338-1.456a5.177 5.177 0 0 1-2.08 1.066 3.946 3.946 0 0 1-.65.052c-1.127 0-2.02-.39-2.678-1.17-.642-.797-.962-1.794-.962-2.99 0-1.092.251-2.14.754-3.146.797-1.664 1.941-2.869 3.432-3.614.797-.381 1.551-.572 2.262-.572.797 0 1.551.416 2.262 1.248a.854.854 0 0 0 .104-.13c.242-.399.606-.598 1.092-.598a.93.93 0 0 1 .598.208.64.64 0 0 1 .26.52c0 .26-.494 2.357-1.482 6.292-.988 3.935-1.508 5.945-1.56 6.032-.33.936-1.014 1.707-2.054 2.314-1.023.624-2.176.936-3.458.936-1.994 0-3.172-.381-3.536-1.144-.087-.156-.13-.364-.13-.624 0-.45.156-.85.468-1.196.312-.347.71-.52 1.196-.52Zm8.06-10.374c-.139-.45-.278-.798-.416-1.04a1.757 1.757 0 0 0-.598-.65c-.278-.208-.616-.312-1.014-.312a1.1 1.1 0 0 0-.182.026h-.13c-.728.173-1.361.624-1.898 1.352-.486.641-.945 1.811-1.378 3.51-.295 1.178-.442 2.045-.442 2.6 0 1.37.537 2.054 1.612 2.054.988 0 1.941-.607 2.86-1.82l.208-.26a459.483 459.483 0 0 0 1.378-5.46Z"}));case"h":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M25.274 28.26c-.676 0-1.23-.2-1.664-.598-.433-.416-.65-.945-.65-1.586 0-.277.087-.659.26-1.144.815-2.097 1.335-3.735 1.56-4.914.052-.26.078-.59.078-.988 0-1.023-.425-1.534-1.274-1.534-.312 0-.537.017-.676.052-1.162.243-2.184 1.075-3.068 2.496l-.182.338-.884 3.51c-.555 2.253-.876 3.484-.962 3.692-.226.468-.607.702-1.144.702-.208 0-.416-.07-.624-.208a.56.56 0 0 1-.286-.494c0-.208 1.274-5.408 3.822-15.6 0-.208-.052-.347-.156-.416-.19-.07-.537-.113-1.04-.13h-.546a1.192 1.192 0 0 1-.182-.208c0-.035.026-.2.078-.494.086-.33.2-.494.338-.494.017 0 .641-.043 1.872-.13 1.248-.104 1.88-.156 1.898-.156.208 0 .312.078.312.234 0 .19-.312 1.5-.936 3.926-.659 2.565-.988 3.874-.988 3.926 0 .035.06-.009.182-.13 1.023-.936 2.15-1.404 3.38-1.404.953 0 1.716.234 2.288.702.572.468.858 1.153.858 2.054 0 .399-.026.728-.078.988-.156.884-.633 2.418-1.43 4.602-.312.85-.468 1.465-.468 1.846.017.243.06.407.13.494.07.087.2.13.39.13.485 0 .936-.26 1.352-.78.433-.537.771-1.248 1.014-2.132.052-.19.104-.303.156-.338.052-.035.19-.052.416-.052.33.052.502.121.52.208 0 .017-.035.147-.104.39-.277 1.023-.72 1.863-1.326 2.522-.59.745-1.335 1.118-2.236 1.118Z"}));case"i":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M22.302 12.4c0-.399.165-.763.495-1.092.329-.33.71-.494 1.143-.494.313 0 .572.104.78.312.226.208.338.468.338.78 0 .381-.173.745-.52 1.092-.346.347-.727.52-1.143.52-.313 0-.572-.104-.78-.312-.208-.208-.313-.477-.313-.806Zm-.598 15.886c-.675 0-1.221-.2-1.637-.598-.416-.399-.625-.936-.625-1.612 0-.295.018-.494.052-.598 0-.035.4-1.1 1.197-3.198.797-2.115 1.196-3.19 1.196-3.224.086-.277.13-.59.13-.936 0-.416-.148-.624-.442-.624h-.052c-.416 0-.815.2-1.197.598-.554.572-.962 1.387-1.221 2.444a.427.427 0 0 1-.027.104.307.307 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.675c-.105-.104-.157-.182-.157-.234 0-.052.026-.173.078-.364.451-1.49 1.11-2.53 1.977-3.12.468-.364.97-.546 1.508-.546.693 0 1.265.2 1.716.598.45.399.675.936.675 1.612 0 .225-.043.485-.13.78-.017.035-.416 1.1-1.196 3.198l-1.17 3.146c-.086.381-.13.659-.13.832 0 .433.148.65.442.65.243 0 .46-.052.65-.156.763-.364 1.361-1.274 1.794-2.73.053-.208.096-.33.13-.364.052-.035.2-.052.442-.052.156 0 .26.009.313.026.069 0 .12.017.155.052.035.035.052.095.052.182 0 .07-.026.182-.078.338-.329.988-.806 1.846-1.43 2.574-.606.728-1.325 1.092-2.157 1.092Z"}));case"j":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M24.365 12.504c0-.45.164-.84.494-1.17.329-.347.719-.52 1.17-.52.294 0 .537.095.728.286.208.173.329.407.364.702 0 .468-.156.875-.468 1.222-.312.33-.702.494-1.17.494-.312 0-.572-.087-.78-.26a1.059 1.059 0 0 1-.338-.754Zm-.234 5.72c0-.503-.226-.754-.676-.754-.191 0-.39.035-.598.104-.468.156-.928.485-1.378.988-.434.503-.798 1.118-1.092 1.846a1.45 1.45 0 0 1-.078.182.454.454 0 0 0-.052.13l-.078.026a.492.492 0 0 1-.156.026h-.598c-.14-.139-.156-.32-.052-.546.52-1.248 1.196-2.201 2.028-2.86.589-.468 1.187-.745 1.794-.832h.208c.12-.017.225-.026.312-.026.416.017.797.104 1.144.26.45.277.78.572.988.884.225.295.338.728.338 1.3v.416l-1.274 5.174c-.884 3.467-1.352 5.27-1.404 5.408-.278.745-.754 1.404-1.43 1.976a5.47 5.47 0 0 1-2.21 1.222 5.448 5.448 0 0 1-1.274.156c-.676 0-1.222-.147-1.638-.442-.416-.295-.624-.728-.624-1.3 0-.485.173-.893.52-1.222.346-.33.736-.494 1.17-.494.329 0 .589.095.78.286.208.19.312.45.312.78 0 .624-.278 1.1-.832 1.43.086.017.208.026.364.026.589 0 1.126-.251 1.612-.754a4.877 4.877 0 0 0 1.118-1.69l.286-1.092c.19-.745.416-1.647.676-2.704.277-1.075.554-2.158.832-3.25.277-1.092.51-2.054.702-2.886.19-.85.286-1.343.286-1.482 0-.121-.01-.217-.026-.286Z"}));case"k":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M18.783 10.242c.017 0 .641-.043 1.872-.13 1.248-.104 1.88-.156 1.898-.156.208 0 .312.07.312.208 0 .121-.434 1.933-1.3 5.434-.867 3.432-1.3 5.209-1.3 5.33.33-.208.598-.381.806-.52.208-.156.372-.286.494-.39.121-.121.416-.407.884-.858 1.04-1.04 1.768-1.69 2.184-1.95.693-.468 1.352-.702 1.976-.702.52 0 .927.173 1.222.52.312.347.468.806.468 1.378 0 .624-.148 1.135-.442 1.534-.295.381-.71.572-1.248.572a1.24 1.24 0 0 1-.832-.286c-.208-.19-.312-.442-.312-.754 0-.433.147-.797.442-1.092a1.703 1.703 0 0 1 1.04-.546l.182-.052c-.208-.208-.416-.312-.624-.312-.59 0-1.283.295-2.08.884-.33.26-.832.728-1.508 1.404a29.066 29.066 0 0 1-1.768 1.612c.814.19 1.37.338 1.664.442.832.33 1.386.78 1.664 1.352.156.312.234.65.234 1.014 0 .225-.052.598-.156 1.118-.087.52-.13.85-.13.988 0 .693.234 1.04.702 1.04.312 0 .598-.13.858-.39.433-.433.823-1.335 1.17-2.704.034-.139.208-.208.52-.208.242 0 .381.017.416.052.104.07.112.251.026.546-.468 1.577-1.066 2.643-1.794 3.198-.434.312-.858.468-1.274.468-.798 0-1.439-.234-1.924-.702-.468-.485-.702-1.127-.702-1.924a5.2 5.2 0 0 1 .078-.728c.052-.33.078-.563.078-.702 0-.225-.052-.442-.156-.65-.226-.433-.65-.771-1.274-1.014-.572-.19-.97-.286-1.196-.286H19.9c-.226.85-.442 1.673-.65 2.47a99.07 99.07 0 0 1-.442 1.794 9.4 9.4 0 0 1-.234.91 1.231 1.231 0 0 1-.468.572c-.226.173-.468.26-.728.26-.208 0-.416-.07-.624-.208a.56.56 0 0 1-.286-.494c0-.173.32-1.56.962-4.16.641-2.6 1.274-5.157 1.898-7.67l.962-3.77c.034-.243-.026-.39-.182-.442-.139-.07-.382-.104-.728-.104h-.286c-.364 0-.572-.026-.624-.078-.104-.087-.113-.295-.026-.624.07-.243.13-.381.182-.416.052-.052.104-.078.156-.078Z"}));case"l":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M21.69 28.286c-.78 0-1.404-.217-1.872-.65-.468-.45-.702-1.066-.702-1.846 0-.208.009-.355.026-.442l3.328-13.364a.24.24 0 0 0 0-.156.426.426 0 0 1-.026-.13c0-.035-.017-.06-.052-.078a.408.408 0 0 0-.104-.078c-.017-.017-.052-.026-.104-.026a.426.426 0 0 0-.13-.026.445.445 0 0 0-.182-.026.761.761 0 0 0-.182-.026h-.39c-.416 0-.659-.06-.728-.182-.017-.052 0-.2.052-.442.087-.33.165-.511.234-.546.052-.017.693-.07 1.924-.156a121.23 121.23 0 0 1 1.95-.156c.208 0 .312.07.312.208 0 .19-.633 2.79-1.898 7.8s-1.915 7.635-1.95 7.878c0 .035-.009.113-.026.234v.234c0 .503.121.823.364.962a.72.72 0 0 0 .312.052.986.986 0 0 0 .312-.078c.485-.277.919-1.161 1.3-2.652.104-.347.19-.529.26-.546.035-.017.121-.026.26-.026h.104c.312.087.477.165.494.234 0 .121-.07.425-.208.91-.139.468-.269.84-.39 1.118-.485 1.127-1.11 1.777-1.872 1.95a2.243 2.243 0 0 1-.416.052Z"}));case"m":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M13.395 28.286a.968.968 0 0 1-.624-.208.597.597 0 0 1-.26-.52c0-.226.33-1.647.988-4.264.676-2.67 1.014-4.065 1.014-4.186.052-.26.078-.494.078-.702 0-.624-.217-.936-.65-.936-.156 0-.33.06-.52.182-.416.33-.832 1.291-1.248 2.886a.427.427 0 0 1-.026.104.301.301 0 0 1-.052.078l-.026.026c-.018.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.226.121-.659.364-1.3.347-1.005.728-1.707 1.144-2.106.416-.416.875-.624 1.378-.624 1.092 0 1.854.39 2.288 1.17.19.33.286.572.286.728 0 .035.009.052.026.052l.286-.286c1.057-1.11 2.28-1.664 3.666-1.664 1.681 0 2.695.71 3.042 2.132l.026.078.208-.26c.641-.763 1.386-1.317 2.236-1.664a4.865 4.865 0 0 1 1.638-.286c.953 0 1.716.234 2.288.702.572.468.858 1.152.858 2.054 0 .399-.026.728-.078.988-.156.884-.633 2.418-1.43 4.602-.312.832-.468 1.447-.468 1.846.017.242.06.407.13.494.07.087.2.13.39.13.485 0 .936-.26 1.352-.78.433-.538.771-1.248 1.014-2.132.052-.19.104-.303.156-.338.052-.035.19-.052.416-.052.33.052.503.121.52.208 0 .017-.035.147-.104.39-.45 1.612-1.265 2.747-2.444 3.406-.312.156-.685.234-1.118.234-.659 0-1.222-.208-1.69-.624-.416-.485-.624-.997-.624-1.534 0-.33.121-.815.364-1.456.762-2.028 1.248-3.57 1.456-4.628.052-.26.078-.59.078-.988 0-1.023-.425-1.534-1.274-1.534-.312 0-.538.017-.676.052-1.213.26-2.245 1.118-3.094 2.574l-.182.312-.858 3.484c-.572 2.27-.901 3.492-.988 3.666-.226.468-.598.702-1.118.702-.416 0-.694-.174-.832-.52l-.026-.078a.398.398 0 0 1-.052-.156c0-.19.294-1.43.884-3.718.138-.555.277-1.127.416-1.716.156-.607.277-1.092.364-1.456.104-.381.156-.59.156-.624.052-.26.078-.59.078-.988 0-1.023-.425-1.534-1.274-1.534-.312 0-.538.017-.676.052-1.213.26-2.245 1.118-3.094 2.574l-.182.312-.858 3.484c-.572 2.27-.901 3.492-.988 3.666-.226.468-.598.702-1.118.702Z"}));case"n":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M17.013 28.286a.968.968 0 0 1-.624-.208.596.596 0 0 1-.26-.52c0-.226.33-1.638.988-4.238.659-2.6 1.005-4.013 1.04-4.238a4.07 4.07 0 0 0 .026-.598c0-.676-.208-1.014-.624-1.014-.399 0-.763.32-1.092.962-.19.364-.373.91-.546 1.638a8.959 8.959 0 0 0-.156.546c-.035.104-.2.156-.494.156h-.364c-.104-.104-.156-.182-.156-.234 0-.07.043-.252.13-.546.52-2.046 1.317-3.19 2.392-3.432.139-.035.286-.052.442-.052 1.023 0 1.76.39 2.21 1.17.19.33.286.572.286.728 0 .035.009.052.026.052l.286-.286c1.075-1.11 2.28-1.664 3.614-1.664.953 0 1.716.234 2.288.702.572.468.858 1.152.858 2.054 0 .399-.026.728-.078.988-.173.988-.65 2.505-1.43 4.55-.312.832-.468 1.447-.468 1.846 0 .45.147.676.442.676.59 0 1.092-.312 1.508-.936a7.04 7.04 0 0 0 .988-2.158c.035-.139.208-.208.52-.208.33.052.503.121.52.208 0 .017-.035.147-.104.39-.45 1.612-1.265 2.747-2.444 3.406-.312.156-.685.234-1.118.234-.659 0-1.222-.208-1.69-.624-.416-.485-.624-.997-.624-1.534 0-.33.121-.815.364-1.456.763-2.028 1.248-3.57 1.456-4.628.052-.26.078-.59.078-.988 0-1.023-.425-1.534-1.274-1.534-.312 0-.537.017-.676.052-1.213.26-2.245 1.118-3.094 2.574l-.182.312-.858 3.484c-.572 2.27-.901 3.492-.988 3.666-.225.468-.598.702-1.118.702Z"}));case"o":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M23.152 16.534h.364c.555 0 .902.009 1.04.026 1.092.19 1.95.676 2.575 1.456.623.78.936 1.786.936 3.016 0 1.023-.27 2.046-.806 3.068a7.88 7.88 0 0 1-2.756 3.042c-1.18.763-2.375 1.144-3.588 1.144-1.214 0-2.193-.347-2.939-1.04-.745-.693-1.204-1.603-1.378-2.73a4.113 4.113 0 0 1-.026-.572c0-.45.026-.814.078-1.092.156-.884.494-1.742 1.014-2.574a8.9 8.9 0 0 1 1.82-2.158c1.18-.919 2.401-1.447 3.666-1.586Zm-4.316 8.346c0 .745.2 1.344.599 1.794.416.434.953.65 1.612.65.311 0 .623-.052.936-.156 1.265-.416 2.21-1.37 2.834-2.86.38-.936.693-2.106.936-3.51.017-.104.026-.372.026-.806 0-1.681-.711-2.522-2.133-2.522-1.091 0-2.053.503-2.886 1.508-.572.694-1.04 1.699-1.404 3.016-.346 1.265-.52 2.227-.52 2.886Z"}));case"p":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M16.216 20.772c-.104-.104-.156-.182-.156-.234 0-.139.113-.546.338-1.222.33-1.005.72-1.733 1.17-2.184.416-.416.875-.624 1.378-.624 1.3 0 2.132.555 2.496 1.664l.26-.234c.78-.728 1.586-1.188 2.418-1.378.208-.035.425-.052.65-.052.225 0 .442.017.65.052.901.208 1.62.676 2.158 1.404.537.71.806 1.62.806 2.73 0 .815-.165 1.698-.494 2.652a8.628 8.628 0 0 1-1.924 3.016c-.85.85-1.777 1.43-2.782 1.742a4.732 4.732 0 0 1-1.248.156 3.04 3.04 0 0 1-1.014-.156 2.818 2.818 0 0 1-1.144-.91l-.13-.13c-.017.017-.208.771-.572 2.262-.364 1.49-.546 2.244-.546 2.262v.078c.017.035.035.06.052.078a.2.2 0 0 0 .078.026c.035.017.07.026.104.026a.429.429 0 0 0 .13.026h.182c.07.017.13.026.182.026h1.092c.087.121.13.2.13.234.017.035 0 .19-.052.468-.052.208-.104.338-.156.39-.052.07-.165.104-.338.104-.277 0-.737-.009-1.378-.026a55.471 55.471 0 0 0-1.404-.026c-1.213 0-1.985.017-2.314.052h-.208c-.121-.121-.182-.217-.182-.286 0-.07.035-.217.104-.442.052-.226.095-.356.13-.39l.104-.078h.52c.59-.017.927-.121 1.014-.312.052-.104.58-2.176 1.586-6.214 1.023-4.039 1.551-6.18 1.586-6.422.017-.087.026-.208.026-.364 0-.71-.217-1.066-.65-1.066a.761.761 0 0 0-.52.182c-.416.33-.832 1.291-1.248 2.886a.427.427 0 0 1-.026.104.301.301 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.676Zm9.932-1.222c0-1.387-.529-2.08-1.586-2.08a1.1 1.1 0 0 0-.182.026h-.13c-.901.19-1.75.815-2.548 1.872a1.523 1.523 0 0 0-.13.156l-.078.104c0 .017-.035.147-.104.39a38.14 38.14 0 0 1-.286 1.118c-.121.52-.234.97-.338 1.352-.45 1.837-.676 2.79-.676 2.86.121.416.234.72.338.91.381.71.91 1.066 1.586 1.066.555 0 1.066-.19 1.534-.572.468-.399.858-.91 1.17-1.534.312-.59.633-1.56.962-2.912.312-1.248.468-2.167.468-2.756Z"}));case"q":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M23.01 32.992h-1.43c-.59.017-1.022.026-1.3.026-.26 0-.39-.07-.39-.208 0-.035.009-.096.026-.182a.601.601 0 0 0 .052-.208c.07-.278.13-.442.182-.494.07-.052.243-.078.52-.078.832 0 1.335-.06 1.508-.182.104-.07.347-.858.728-2.366.347-1.404.529-2.115.546-2.132 0-.017-.06.009-.182.078a5.075 5.075 0 0 1-1.95.988c-.104.017-.32.026-.65.026-1.144 0-2.089-.477-2.834-1.43-.52-.763-.78-1.733-.78-2.912 0-.277.009-.468.026-.572a7.916 7.916 0 0 1 1.066-3.172c.607-1.023 1.326-1.846 2.158-2.47 1.005-.78 2.063-1.17 3.172-1.17.988 0 1.785.45 2.392 1.352.416-.416.694-.668.832-.754.59-.416.988-.624 1.196-.624.174 0 .26.07.26.208 0 .156-.598 2.626-1.794 7.41-1.23 4.922-1.846 7.418-1.846 7.488 0 .139.295.216.884.234h.936c.087.121.13.19.13.208.017.035 0 .2-.052.494-.07.225-.156.39-.26.494h-.338c-.537-.035-1.473-.052-2.808-.052Zm2.34-13.468c-.381-1.37-1.031-2.054-1.95-2.054-.693 0-1.308.295-1.846.884a6.274 6.274 0 0 0-1.196 2.028 20.755 20.755 0 0 0-1.066 4.264c0 .052-.009.147-.026.286v.312c0 .624.13 1.127.39 1.508.277.381.676.572 1.196.572.919 0 1.88-.624 2.886-1.872l.208-.286.702-2.808c.312-1.265.546-2.21.702-2.834Z"}));case"r":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M18.943 28.286a.968.968 0 0 1-.624-.208.596.596 0 0 1-.26-.52c0-.226.346-1.716 1.04-4.472.693-2.756 1.04-4.29 1.04-4.602 0-.676-.226-1.014-.676-1.014a.72.72 0 0 0-.494.182c-.416.33-.832 1.291-1.248 2.886a.427.427 0 0 1-.026.104.304.304 0 0 1-.052.078l-.026.026c-.018.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.139.112-.546.338-1.222.329-1.005.719-1.733 1.17-2.184.416-.416.875-.624 1.378-.624.676 0 1.23.165 1.664.494.381.295.632.598.754.91a.64.64 0 0 0 .078.182c.017 0 .086-.07.208-.208.641-.71 1.378-1.153 2.21-1.326.104-.017.329-.026.676-.026.641 0 1.161.182 1.56.546.398.364.598.858.598 1.482 0 .554-.156 1.022-.468 1.404-.295.364-.694.546-1.196.546-.33 0-.607-.096-.832-.286-.208-.19-.312-.442-.312-.754 0-.85.485-1.404 1.456-1.664-.382-.226-.694-.338-.936-.338-.364 0-.711.087-1.04.26-.572.277-1.118.832-1.638 1.664a3.45 3.45 0 0 0-.39.858c-.087.295-.382 1.447-.884 3.458-.59 2.427-.928 3.718-1.014 3.874-.226.468-.598.702-1.118.702Z"}));case"s":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M18.974 23.84c.33 0 .59.095.78.286.208.19.312.442.312.754 0 .294-.086.58-.26.858a1.505 1.505 0 0 1-.65.624 3.46 3.46 0 0 1-.364.13l-.104.052c-.017 0-.017.008 0 .026.052.087.208.2.468.338.503.26 1.162.39 1.976.39 1.317 0 2.245-.425 2.782-1.274.26-.434.39-.832.39-1.196 0-.555-.286-.97-.858-1.248-.156-.104-.59-.225-1.3-.364a28.175 28.175 0 0 0-.416-.078 1.515 1.515 0 0 0-.364-.078 7.27 7.27 0 0 0-.26-.078 3.629 3.629 0 0 0-.26-.078 1.156 1.156 0 0 0-.208-.104 5.875 5.875 0 0 0-.26-.182c-.71-.503-1.066-1.213-1.066-2.132 0-.97.355-1.846 1.066-2.626.797-.901 1.907-1.352 3.328-1.352 1.681 0 2.695.59 3.042 1.768.035.087.052.251.052.494 0 .485-.13.884-.39 1.196-.26.294-.607.442-1.04.442-.277 0-.503-.078-.676-.234-.173-.156-.26-.373-.26-.65 0-.572.26-.988.78-1.248.139-.07.217-.104.234-.104.052 0 .043-.044-.026-.13-.416-.382-1.014-.572-1.794-.572-.676 0-1.248.19-1.716.572a1.823 1.823 0 0 0-.702 1.482c0 .312.13.59.39.832.173.156.615.312 1.326.468.798.173 1.318.32 1.56.442.815.364 1.36.97 1.638 1.82.035.104.06.33.078.676 0 .59-.147 1.204-.442 1.846-.85 1.768-2.444 2.652-4.784 2.652-1.854 0-3.024-.538-3.51-1.612a2.13 2.13 0 0 1-.182-.91c0-.537.156-.988.468-1.352.33-.364.737-.546 1.222-.546Z"}));case"t":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M17.979 17.99c-.122-.121-.182-.208-.182-.26 0-.07.026-.208.078-.416.069-.225.112-.346.13-.364.034-.087.112-.13.234-.13.138-.017.58-.026 1.326-.026h1.378l.494-2.08c.364-1.404.572-2.158.624-2.262.208-.485.606-.728 1.196-.728a.945.945 0 0 1 .572.234c.173.139.26.32.26.546 0 .208-.165.945-.494 2.21-.07.295-.156.624-.26.988-.087.347-.156.607-.208.78l-.052.26c0 .035.433.052 1.3.052H25.7c.121.122.182.217.182.286 0 .382-.113.685-.338.91h-2.782l-.936 3.77c-.642 2.583-.971 3.943-.988 4.082a2.157 2.157 0 0 0-.026.39c0 .728.234 1.092.702 1.092.121 0 .225-.009.312-.026.866-.156 1.655-.85 2.366-2.08a5.56 5.56 0 0 0 .468-.962c.034-.104.078-.165.13-.182.052-.035.182-.052.39-.052.346 0 .52.07.52.208 0 .035-.035.139-.104.312-.191.555-.503 1.118-.936 1.69-.416.555-.841.997-1.274 1.326-.642.486-1.326.728-2.054.728-.624 0-1.162-.156-1.612-.468a2.445 2.445 0 0 1-.884-1.274c-.035-.139-.052-.372-.052-.702v-.468l.91-3.64c.606-2.444.918-3.675.936-3.692 0-.035-.442-.052-1.326-.052h-1.326Z"}));case"u":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M26.598 16.794a.87.87 0 0 1 .598.208c.174.121.26.303.26.546l-1.976 8.268a2.36 2.36 0 0 0-.026.416c0 .728.243 1.092.728 1.092.4-.052.737-.382 1.014-.988.191-.399.416-1.1.676-2.106.035-.139.208-.208.52-.208.156 0 .26.009.312.026.052 0 .096.017.13.052.035.034.052.086.052.156 0 .052-.026.182-.078.39-.52 2.045-1.265 3.232-2.236 3.562a2.77 2.77 0 0 1-.624.052c-1.144 0-1.932-.486-2.366-1.456a4.683 4.683 0 0 0-.312.286c-.866.797-1.75 1.196-2.652 1.196-.762 0-1.438-.156-2.028-.468-.71-.416-1.152-1.066-1.326-1.95a7.492 7.492 0 0 1-.026-.806c0-.416.018-.737.052-.962.122-.745.52-2.02 1.196-3.822.382-1.023.572-1.733.572-2.132 0-.243-.026-.408-.078-.494-.034-.104-.13-.156-.286-.156h-.13c-.398 0-.78.182-1.144.546-.554.554-.979 1.386-1.274 2.496a.423.423 0 0 1-.026.104.299.299 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.052.026-.174.078-.364.347-1.196.884-2.14 1.612-2.834.607-.555 1.231-.832 1.872-.832.728 0 1.31.208 1.742.624.434.398.65.918.65 1.56 0 .346-.156.927-.468 1.742-.71 1.906-1.135 3.32-1.274 4.238a5.18 5.18 0 0 0-.026.598c0 .659.104 1.161.312 1.508.208.347.59.52 1.144.52.728 0 1.387-.312 1.976-.936.347-.347.564-.624.65-.832.035-.07.364-1.387.988-3.952.52-2.08.832-3.293.936-3.64.104-.364.226-.615.364-.754.295-.26.607-.39.936-.39Z"}));case"v":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M21.956 28.286c-1.109 0-1.993-.277-2.652-.832-.641-.572-.962-1.404-.962-2.496 0-.312.018-.607.052-.884.156-.832.564-2.106 1.222-3.822l.416-1.248a2.8 2.8 0 0 0 .156-.884c0-.433-.164-.65-.494-.65-.121 0-.26.026-.416.078-.884.312-1.551 1.309-2.002 2.99a.422.422 0 0 1-.026.104.299.299 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.052.026-.182.078-.39.416-1.37 1.058-2.392 1.924-3.068a2.554 2.554 0 0 1 1.612-.546c.676 0 1.231.19 1.664.572.434.381.65.884.65 1.508 0 .295-.026.52-.078.676 0 .121-.13.503-.39 1.144-.797 2.167-1.222 3.71-1.274 4.628 0 .468.044.85.13 1.144.226.745.772 1.118 1.638 1.118.468 0 .884-.139 1.248-.416 1.075-.71 1.968-2.349 2.678-4.914.139-.485.208-.884.208-1.196 0-.763-.338-1.447-1.014-2.054-.225-.208-.338-.442-.338-.702 0-.399.156-.754.468-1.066.33-.33.694-.494 1.092-.494.416 0 .737.2.962.598.226.381.338.84.338 1.378 0 .607-.173 1.603-.52 2.99-.329 1.335-.745 2.496-1.248 3.484-1.092 2.236-2.461 3.354-4.108 3.354Z"}));case"w":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M24.368 16.794c.243 0 .45.07.624.208.174.121.26.303.26.546 0 .225-.26 1.335-.78 3.328-.502 1.993-.771 3.137-.806 3.432-.034.19-.052.494-.052.91 0 .503.044.884.13 1.144.104.243.286.46.546.65a1.88 1.88 0 0 0 1.066.312c1.23 0 2.21-1.057 2.938-3.172.399-1.04.668-1.993.806-2.86.018-.087.026-.217.026-.39 0-.867-.312-1.56-.936-2.08-.277-.225-.416-.503-.416-.832 0-.399.165-.745.494-1.04.33-.312.694-.468 1.092-.468a.2.2 0 0 1 .078.026h.104c.728.19 1.092.832 1.092 1.924 0 .555-.164 1.551-.494 2.99-.346 1.317-.676 2.383-.988 3.198-.85 2.15-1.993 3.363-3.432 3.64a3.324 3.324 0 0 1-.494.026c-.78 0-1.464-.13-2.054-.39-.59-.277-1.005-.659-1.248-1.144-.381.503-.771.884-1.17 1.144-.381.26-.884.39-1.508.39-1.161 0-2.097-.277-2.808-.832-.693-.555-1.04-1.378-1.04-2.47 0-.468.018-.78.052-.936.104-.693.494-1.95 1.17-3.77.382-1.023.572-1.733.572-2.132 0-.243-.026-.407-.078-.494-.034-.104-.13-.156-.286-.156h-.13c-.398 0-.78.182-1.144.546-.554.555-.98 1.387-1.274 2.496a.422.422 0 0 1-.026.104.299.299 0 0 1-.052.078l-.026.026c-.017.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.052.026-.173.078-.364.174-.52.338-.936.494-1.248.642-1.3 1.465-2.08 2.47-2.34.104-.035.304-.052.598-.052.71 0 1.274.208 1.69.624.416.399.624.91.624 1.534 0 .347-.156.927-.468 1.742-.762 2.045-1.178 3.493-1.248 4.342v.338c0 .693.165 1.24.494 1.638.33.381.806.572 1.43.572.746 0 1.404-.529 1.976-1.586l.13-.234v-.598c.035-.503.06-.797.078-.884a170.904 170.904 0 0 1 1.144-4.706c.278-1.092.45-1.699.52-1.82.226-.468.598-.702 1.118-.702Z"}));case"x":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M16.069 20.772c-.104-.104-.156-.2-.156-.286.069-.468.337-1.066.805-1.794.815-1.23 1.838-1.942 3.069-2.132a4.23 4.23 0 0 1 .546-.052c.606 0 1.16.156 1.664.468.52.312.892.702 1.117 1.17l.416-.546c.642-.728 1.378-1.092 2.21-1.092.711 0 1.283.208 1.716.624a1.9 1.9 0 0 1 .677 1.482c0 .537-.156.988-.468 1.352-.295.364-.694.546-1.197.546-.329 0-.598-.096-.805-.286-.209-.19-.313-.442-.313-.754 0-.798.434-1.344 1.3-1.638 0-.017-.095-.078-.285-.182-.174-.104-.425-.156-.755-.156-.225 0-.39.017-.494.052-.658.277-1.143.85-1.456 1.716-.052.139-.303 1.11-.753 2.912-.451 1.785-.694 2.79-.729 3.016-.052.26-.078.52-.078.78 0 .416.122.745.364.988.243.242.564.364.963.364.727 0 1.386-.304 1.976-.91.589-.624.988-1.309 1.196-2.054.052-.174.104-.269.155-.286.052-.035.191-.052.416-.052.33 0 .494.07.494.208 0 .017-.017.113-.052.286-.294 1.075-.9 2.01-1.82 2.808-.814.641-1.672.962-2.574.962-1.213 0-2.131-.546-2.756-1.638-.502.78-1.143 1.3-1.924 1.56a3.32 3.32 0 0 1-.675.052c-1.006 0-1.716-.356-2.133-1.066a2.013 2.013 0 0 1-.26-1.04c0-.52.156-.962.468-1.326a1.505 1.505 0 0 1 1.196-.546c.746 0 1.119.364 1.119 1.092 0 .641-.304 1.11-.91 1.404a1.256 1.256 0 0 0-.13.078 1.005 1.005 0 0 0-.13.052.2.2 0 0 1-.078.026l-.078.026c0 .052.13.13.39.234.207.087.433.13.675.13.624 0 1.162-.39 1.613-1.17.19-.312.528-1.439 1.014-3.38.104-.399.216-.84.337-1.326.122-.486.209-.858.26-1.118.07-.26.113-.416.13-.468.087-.468.13-.806.13-1.014 0-.416-.112-.745-.337-.988-.226-.243-.538-.364-.936-.364-.78 0-1.456.303-2.029.91a4.835 4.835 0 0 0-1.195 2.054c-.035.156-.078.251-.13.286-.035.017-.174.026-.416.026h-.364Z"}));case"y":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M27.639 16.794c.242 0 .45.07.624.208.173.121.26.295.26.52 0 .225-.425 2.045-1.274 5.46-.85 3.415-1.335 5.287-1.456 5.616a6.657 6.657 0 0 1-1.352 2.34 6.756 6.756 0 0 1-2.132 1.716c-.936.45-1.812.676-2.626.676-1.317 0-2.21-.416-2.678-1.248-.174-.243-.26-.59-.26-1.04 0-.59.165-1.049.494-1.378.364-.33.745-.494 1.144-.494.762 0 1.144.364 1.144 1.092 0 .641-.303 1.11-.91 1.404a1.01 1.01 0 0 1-.13.052c-.052.035-.095.06-.13.078a.2.2 0 0 1-.078.026l-.078.026c.052.104.234.217.546.338.277.104.555.156.832.156h.208c.294 0 .52-.017.676-.052.659-.19 1.282-.633 1.872-1.326.59-.694 1.04-1.525 1.352-2.496.19-.572.286-.91.286-1.014 0-.018-.017-.009-.052.026a1.168 1.168 0 0 0-.156.104 3.534 3.534 0 0 1-2.132.702c-.884 0-1.612-.208-2.184-.624-.572-.416-.945-1.014-1.118-1.794a7.464 7.464 0 0 1-.026-.806c0-.416.017-.737.052-.962.121-.745.52-2.02 1.196-3.822.381-1.023.572-1.733.572-2.132 0-.243-.026-.408-.078-.494-.035-.104-.13-.156-.286-.156h-.13c-.399 0-.78.182-1.144.546-.555.554-.98 1.386-1.274 2.496a.427.427 0 0 1-.026.104.304.304 0 0 1-.052.078l-.026.026c-.018.017-.052.026-.104.026h-.676c-.104-.104-.156-.182-.156-.234 0-.052.026-.174.078-.364.364-1.213.91-2.158 1.638-2.834.59-.555 1.204-.832 1.846-.832.728 0 1.309.2 1.742.598.433.398.65.953.65 1.664-.035.33-.06.511-.078.546 0 .104-.13.477-.39 1.118-.71 1.924-1.136 3.336-1.274 4.238a5.157 5.157 0 0 0-.026.598c0 .659.104 1.161.312 1.508.208.347.59.52 1.144.52.398 0 .771-.104 1.118-.312.364-.208.633-.408.806-.598.19-.208.424-.486.702-.832 0-.018.043-.19.13-.52.086-.347.208-.858.364-1.534l.494-1.924c.659-2.6 1.023-3.96 1.092-4.082.225-.468.598-.702 1.118-.702Z"}));case"z":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M17.023 28.286c-.104-.104-.156-.182-.156-.234 0-.07.052-.182.156-.338.277-.52.728-1.153 1.352-1.898.728-.832 1.967-2.046 3.718-3.64 1.335-1.213 2.236-2.063 2.704-2.548.208-.277.269-.416.182-.416-.208 0-.667-.096-1.378-.286-.763-.19-1.309-.286-1.638-.286-.503 0-.927.087-1.274.26-.347.156-.563.364-.65.624-.243.139-.407.216-.494.234-.364 0-.546-.07-.546-.208 0-.087.026-.208.078-.364a4.135 4.135 0 0 1 1.118-1.742c.52-.485 1.092-.78 1.716-.884.208-.035.355-.052.442-.052.26 0 .503.052.728.156.225.104.39.208.494.312.121.087.303.251.546.494.537.52.997.78 1.378.78.156 0 .277-.017.364-.052.295-.139.676-.598 1.144-1.378.121-.19.208-.286.26-.286.052-.017.173-.026.364-.026h.338c.104.104.156.173.156.208 0 .07-.078.242-.234.52a14.514 14.514 0 0 1-1.248 1.69c-.78.919-2.01 2.132-3.692 3.64-1.387 1.23-2.331 2.123-2.834 2.678l-.312.312.39.026c.381 0 .875.078 1.482.234.884.225 1.49.338 1.82.338.693 0 1.309-.165 1.846-.494.555-.347.91-.78 1.066-1.3.07-.156.13-.252.182-.286.052-.035.182-.052.39-.052.347 0 .52.087.52.26 0 .017-.017.095-.052.234a5.683 5.683 0 0 1-1.43 2.418 4.579 4.579 0 0 1-2.392 1.326 2.865 2.865 0 0 1-.442.026c-.295 0-.563-.06-.806-.182-.243-.121-.58-.381-1.014-.78-.364-.364-.633-.59-.806-.676-.139-.087-.33-.13-.572-.13-.763 0-1.447.52-2.054 1.56-.087.139-.277.208-.572.208h-.338Z"}));case"A":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M13.342 30c-.121-.122-.182-.217-.182-.286 0-.07.026-.217.078-.442.07-.225.121-.355.156-.39l.104-.078h.364c1.213-.052 2.097-.485 2.652-1.3.104-.104 1.673-2.748 4.706-7.93 3.05-5.2 4.593-7.826 4.628-7.878.087-.156.165-.243.234-.26.087-.035.286-.052.598-.052h.442c.104.156.156.242.156.26l.728 8.398c.485 5.598.745 8.424.78 8.476.087.19.65.286 1.69.286.19 0 .32.009.39.026.087 0 .147.017.182.052.052.034.078.095.078.182 0 .035-.026.156-.078.364-.052.26-.104.424-.156.494-.035.052-.147.078-.338.078-.312 0-.832-.009-1.56-.026a73.87 73.87 0 0 0-1.716-.026c-1.63 0-2.695.017-3.198.052h-.312a1.188 1.188 0 0 1-.182-.208c0-.052.026-.217.078-.494.07-.225.121-.364.156-.416l.104-.078h.52c.936-.035 1.49-.182 1.664-.442l-.312-3.9h-6.188l-.884 1.508c-.624 1.04-.945 1.603-.962 1.69a.877.877 0 0 0-.104.39c0 .433.399.684 1.196.754.33 0 .494.087.494.26 0 .087-.026.208-.078.364-.052.242-.104.398-.156.468-.052.07-.165.104-.338.104-.295 0-.763-.009-1.404-.026a58.722 58.722 0 0 0-1.456-.026c-1.23 0-2.02.017-2.366.052h-.208Zm12.324-6.76c0-.19-.113-1.543-.338-4.056-.208-2.514-.32-3.779-.338-3.796l-.702 1.118c-.277.468-.823 1.395-1.638 2.782l-2.34 3.952 2.678.026c1.785 0 2.678-.009 2.678-.026Z"}));case"B":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M19.624 13.672c0-.017-.009-.035-.026-.052-.018-.034-.044-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.766.766 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.416 0-.668-.008-.754-.026a.237.237 0 0 1-.182-.156c-.035-.052-.026-.208.026-.468.086-.312.164-.485.234-.52.017-.017 1.144-.026 3.38-.026 4.489 0 6.855.017 7.098.052 1.196.173 2.132.59 2.808 1.248.693.659 1.04 1.43 1.04 2.314a3.5 3.5 0 0 1-.494 1.768c-.382.694-.997 1.326-1.846 1.898a7.429 7.429 0 0 1-2.626 1.118l-.26.078c1.144.156 2.062.555 2.756 1.196.71.641 1.066 1.439 1.066 2.392 0 1.248-.572 2.418-1.716 3.51-1.335 1.283-2.921 2.002-4.758 2.158-.122.017-1.95.026-5.486.026-3.467 0-5.226-.017-5.278-.052a.247.247 0 0 1-.104-.208c0-.121.017-.242.052-.364.086-.33.173-.511.26-.546.069-.017.199-.026.39-.026h.156c.468 0 .988-.026 1.56-.078.242-.052.407-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Zm9.386 2.184c0-.59-.156-1.092-.468-1.508a2.108 2.108 0 0 0-1.196-.832c-.122-.034-.919-.06-2.392-.078-.347 0-.711.009-1.092.026h-1.248c-.243.018-.399.078-.468.182-.052.07-.347 1.161-.884 3.276-.52 2.115-.789 3.233-.806 3.354h2.106c1.404 0 2.21-.017 2.418-.052a4.935 4.935 0 0 0 2.002-.832c.641-.45 1.135-.988 1.482-1.612.364-.659.546-1.3.546-1.924Zm-1.404 8.19c0-.762-.208-1.395-.624-1.898a2.298 2.298 0 0 0-1.534-.884c-.104-.017-.824-.026-2.158-.026-2.046 0-3.077.009-3.094.026 0 .035-.156.668-.468 1.898-.295 1.23-.59 2.453-.884 3.666l-.468 1.82c0 .07.104.113.312.13.208 0 .91.009 2.106.026 1.542 0 2.374-.008 2.496-.026 1.126-.121 2.123-.624 2.99-1.508.884-.884 1.326-1.959 1.326-3.224Z"}));case"C":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M29.633 17.494c0-1.439-.32-2.565-.962-3.38-.624-.832-1.525-1.248-2.704-1.248-.919 0-1.915.217-2.99.65-1.872.797-3.337 2.14-4.394 4.03-.953 1.681-1.551 3.657-1.794 5.928-.017.139-.026.39-.026.754 0 1.976.659 3.397 1.976 4.264.832.59 1.855.884 3.068.884.659 0 1.378-.147 2.158-.442 1.023-.416 1.95-1.1 2.782-2.054.832-.953 1.404-1.993 1.716-3.12.07-.225.121-.355.156-.39.052-.035.19-.052.416-.052.364 0 .546.07.546.208 0 .035-.017.121-.052.26-.416 1.543-1.248 2.93-2.496 4.16s-2.652 2.028-4.212 2.392a7.283 7.283 0 0 1-1.82.234c-1.785 0-3.285-.511-4.498-1.534-1.213-1.023-1.985-2.323-2.314-3.9a7.212 7.212 0 0 1-.182-1.69c0-2.08.65-4.1 1.95-6.058a13.533 13.533 0 0 1 2.886-3.172 11.881 11.881 0 0 1 3.796-2.054c1.023-.312 1.959-.468 2.808-.468.624 0 .988.009 1.092.026 1.04.173 1.915.607 2.626 1.3a8.298 8.298 0 0 1 .468.624c.087.104.139.156.156.156.052 0 .286-.225.702-.676.121-.104.251-.225.39-.364l.416-.416c.139-.156.225-.251.26-.286l.39-.39h.156c.243 0 .364.06.364.182 0 .07-.277 1.257-.832 3.562-.624 2.41-.936 3.623-.936 3.64a.38.38 0 0 1-.13.182c-.052.017-.208.026-.468.026h-.416l-.156-.156c0-.035.017-.19.052-.468.035-.347.052-.728.052-1.144Z"}));case"D":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M18.696 13.672c0-.017-.008-.035-.026-.052-.017-.034-.043-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.765.765 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.589 0-.91-.06-.962-.182-.017-.052 0-.2.052-.442.087-.33.165-.511.234-.546.035-.017 1.76-.026 5.174-.026 2.895.017 4.516.035 4.862.052.347 0 .694.043 1.04.13 1.37.312 2.462 1.032 3.276 2.158.815 1.127 1.222 2.53 1.222 4.212 0 .867-.104 1.716-.312 2.548-.485 1.959-1.499 3.736-3.042 5.33-1.75 1.803-3.744 2.886-5.98 3.25l-.364.052L17.37 30h-2.886c-1.542 0-2.322-.043-2.34-.13v-.026a.455.455 0 0 1-.052-.13c0-.034.026-.156.078-.364.07-.277.139-.433.208-.468.07-.052.269-.078.598-.078.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Zm10.816 4.134c0-1.283-.338-2.297-1.014-3.042-.676-.745-1.62-1.178-2.834-1.3H24.52a14.24 14.24 0 0 0-1.69 0h-1.092c-.225.018-.381.095-.468.234-.034.07-.667 2.566-1.898 7.488-1.23 4.923-1.846 7.41-1.846 7.462 0 .07.096.113.286.13h2.002c1.404 0 2.193-.008 2.366-.026 1.647-.26 3.034-.953 4.16-2.08a7.868 7.868 0 0 0 1.534-2.184c.399-.832.772-1.933 1.118-3.302.347-1.37.52-2.496.52-3.38Z"}));case"E":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M30.55 18.3c0-.174.026-.52.078-1.04.052-.52.078-.85.078-.988 0-.763-.13-1.343-.39-1.742-.242-.399-.684-.676-1.326-.832-.572-.122-1.898-.182-3.978-.182-1.473.017-2.244.034-2.314.052a.478.478 0 0 0-.26.26 377.68 377.68 0 0 0-.832 3.198c-.52 2.08-.78 3.137-.78 3.172.399.017.815.026 1.248.026h.234c1.127 0 1.933-.07 2.418-.208.503-.156.893-.546 1.17-1.17.104-.19.234-.564.39-1.118a.577.577 0 0 0 .026-.182 1.3 1.3 0 0 0 .026-.156l.052-.104c.018-.035.044-.052.078-.052a.492.492 0 0 1 .156-.026 1.095 1.095 0 0 1 .468 0 .29.29 0 0 1 .13.026c.035.017.052.034.052.052.018 0 .035.026.052.078l.078.078-.858 3.432c-.572 2.305-.884 3.475-.936 3.51-.052.052-.19.078-.416.078-.225 0-.364-.026-.416-.078-.104-.052-.112-.26-.026-.624.122-.45.182-.84.182-1.17 0-.503-.173-.823-.52-.962-.312-.139-1.161-.208-2.548-.208h-1.352c-.104.364-.433 1.655-.988 3.874-.537 2.201-.806 3.32-.806 3.354 0 .07.096.113.286.13.208 0 .902.009 2.08.026 1.63 0 2.704-.017 3.224-.052a6.765 6.765 0 0 0 1.56-.338 4.382 4.382 0 0 0 2.106-1.456c.572-.693 1.188-1.829 1.846-3.406.174-.381.286-.59.338-.624.052-.035.174-.052.364-.052.208 0 .338.017.39.052.104.07.156.165.156.286-1.82 4.402-2.773 6.647-2.86 6.734-.052.035-2.53.052-7.436.052h-6.552c-.624-.017-.944-.06-.962-.13v-.026a.454.454 0 0 1-.052-.13c0-.035.026-.156.078-.364.07-.277.139-.434.208-.468.07-.052.269-.078.598-.078.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.035-.087.65-2.522 1.846-7.306 1.214-4.784 1.82-7.21 1.82-7.28 0-.121-.034-.182-.104-.182-.138-.052-.598-.096-1.378-.13h-.806a1.188 1.188 0 0 1-.182-.208c0-.052.026-.2.078-.442.07-.312.156-.494.26-.546h14.404c.122.121.182.216.182.286 0 .087-.112 1.066-.338 2.938-.225 1.854-.346 2.8-.364 2.834-.034.121-.208.182-.52.182h-.312c-.121-.104-.182-.19-.182-.26Z"}));case"F":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M18.456 29.948c-.485 0-1.118.008-1.898.026h-1.664c-.208 0-.338-.044-.39-.13a.454.454 0 0 1-.052-.13c0-.035.026-.156.078-.364.07-.277.14-.434.208-.468.07-.052.27-.078.598-.078.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.035-.087.65-2.522 1.846-7.306 1.214-4.784 1.82-7.21 1.82-7.28 0-.121-.034-.182-.104-.182-.138-.052-.598-.096-1.378-.13h-.806a1.188 1.188 0 0 1-.182-.208c0-.052.026-.2.078-.442.07-.312.156-.494.26-.546h14.014c.122.121.182.216.182.286 0 .087-.112 1.066-.338 2.938-.225 1.854-.346 2.8-.364 2.834-.034.121-.208.182-.52.182h-.312c-.12-.104-.182-.19-.182-.26v-.104a.677.677 0 0 0 .026-.208c.018-.087.026-.174.026-.26.07-.503.104-1.006.104-1.508 0-1.248-.398-2.037-1.196-2.366a3.938 3.938 0 0 0-1.274-.286c-.485-.035-1.473-.052-2.964-.052-1.386.017-2.114.034-2.184.052-.138.052-.225.13-.26.234-.017.017-.312 1.152-.884 3.406l-.832 3.354h1.43c1.04-.018 1.612-.035 1.716-.052.572-.104.988-.286 1.248-.546.364-.312.668-.936.91-1.872a2.488 2.488 0 0 0 .078-.312c0-.035.01-.07.026-.104.018-.052.035-.078.052-.078l.104-.052a.492.492 0 0 1 .156-.026h.52c.122.087.182.173.182.26 0 .052-.277 1.187-.832 3.406-.537 2.218-.823 3.363-.858 3.432-.034.121-.208.182-.52.182h-.312c-.104-.087-.164-.156-.182-.208-.017-.07.01-.226.078-.468.122-.485.182-.901.182-1.248 0-.52-.216-.84-.65-.962-.312-.104-1.04-.156-2.184-.156h-1.43l-.832 3.302c-.554 2.15-.832 3.276-.832 3.38 0 .104.052.173.156.208.208.104.928.156 2.158.156h.65c.104.104.156.182.156.234.018.035 0 .19-.052.468-.069.225-.156.39-.26.494h-.442c-.71-.035-2.019-.052-3.926-.052Z"}));case"G":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M20.152 30.572c-2.045 0-3.735-.641-5.07-1.924-1.334-1.3-2.002-3.033-2.002-5.2 0-2.08.65-4.1 1.95-6.058a13.533 13.533 0 0 1 2.886-3.172 11.882 11.882 0 0 1 3.796-2.054c1.023-.312 1.959-.468 2.808-.468.624 0 .988.009 1.092.026 1.04.173 1.916.607 2.626 1.3a8.215 8.215 0 0 1 .468.624c.087.104.139.156.156.156.052 0 .286-.225.702-.676.122-.104.252-.225.39-.364l.416-.416c.139-.156.226-.251.26-.286l.39-.39h.156c.243 0 .364.06.364.182 0 .07-.277 1.257-.832 3.562-.624 2.41-.936 3.623-.936 3.64a.38.38 0 0 1-.13.182c-.052.017-.208.026-.468.026h-.416l-.156-.156c0-.035.018-.19.052-.468.035-.347.052-.728.052-1.144 0-1.439-.32-2.565-.962-3.38-.624-.832-1.525-1.248-2.704-1.248-.918 0-1.915.217-2.99.65-1.733.728-3.12 1.941-4.16 3.64-1.022 1.681-1.69 3.71-2.002 6.084-.034.312-.052.65-.052 1.014 0 .988.174 1.846.52 2.574.815 1.577 2.297 2.427 4.446 2.548h.156c.936 0 1.794-.2 2.574-.598.78-.399 1.318-.91 1.612-1.534.052-.139.182-.615.39-1.43.208-.832.312-1.291.312-1.378 0-.139-.121-.225-.364-.26-.225-.035-.736-.06-1.534-.078h-.962a1.193 1.193 0 0 1-.182-.208c0-.035.026-.2.078-.494.07-.225.156-.39.26-.494h.442c.694.035 1.907.052 3.64.052h1.612a55.257 55.257 0 0 1 1.326-.026c.243 0 .364.07.364.208 0 .052-.017.182-.052.39a1.823 1.823 0 0 0-.052.208.796.796 0 0 1-.052.156c0 .017-.017.052-.052.104a.17.17 0 0 1-.078.078.714.714 0 0 0-.156.026h-.26c-.346 0-.702.026-1.066.078a.468.468 0 0 0-.286.286l-.104.338c-.052.225-.147.59-.286 1.092-.121.485-.234.919-.338 1.3a36.88 36.88 0 0 0-.156.65 76.37 76.37 0 0 0-.13.572 5.985 5.985 0 0 1-.13.442 3.75 3.75 0 0 1-.104.39 2.39 2.39 0 0 1-.078.286 4.933 4.933 0 0 1-.052.234.654.654 0 0 1-.078.156.299.299 0 0 1-.052.078c-.017.017-.043.026-.078.026-.052 0-.104-.026-.156-.078-.156-.087-.372-.277-.65-.572-.26-.312-.433-.555-.52-.728 0-.017-.017-.009-.052.026a1.191 1.191 0 0 0-.156.104c-.572.537-1.326.97-2.262 1.3a8.785 8.785 0 0 1-2.938.494Z"}));case"H":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M33.842 12.268c.19 0 .312.018.364.052.052.035.078.104.078.208s-.017.226-.052.364c-.087.295-.173.468-.26.52h-.182a.765.765 0 0 0-.182.026h-.468c-.919.018-1.447.078-1.586.182a.458.458 0 0 0-.182.182c-.052.087-.684 2.548-1.898 7.384-1.196 4.819-1.794 7.254-1.794 7.306 0 .121.035.182.104.182.139.052.607.096 1.404.13h.806c.087.122.13.2.13.234.018.017 0 .174-.052.468-.07.226-.156.39-.26.494h-.39c-.641-.035-1.803-.052-3.484-.052-.433 0-1.022.009-1.768.026h-1.612c-.294 0-.442-.07-.442-.208 0-.017.009-.07.026-.156.018-.104.035-.182.052-.234.087-.33.174-.511.26-.546.07-.017.2-.026.39-.026H23c.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.052-.087.364-1.265.936-3.536.572-2.27.858-3.432.858-3.484 0-.017-1.256-.026-3.77-.026h-3.77l-.858 3.51c-.59 2.323-.884 3.527-.884 3.614 0 .104.026.165.078.182.122.052.598.096 1.43.13h.806c.087.122.13.2.13.234.017.017 0 .174-.052.468-.07.226-.156.39-.26.494h-.39c-.641-.035-1.802-.052-3.484-.052-.433 0-1.022.009-1.768.026h-1.612c-.295 0-.442-.078-.442-.234 0-.034.026-.156.078-.364.087-.33.174-.511.26-.546.07-.017.2-.026.39-.026h.156c.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514 0-.017-.009-.035-.026-.052-.017-.034-.043-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.765.765 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.416 0-.667-.008-.754-.026a.238.238 0 0 1-.182-.156c-.034-.052-.026-.208.026-.468.07-.295.148-.468.234-.52.035-.017.182-.026.442-.026.71.035 1.89.052 3.536.052h1.716a78.756 78.756 0 0 1 1.612-.026c.226 0 .355.052.39.156.035.052.026.208-.026.468-.086.295-.173.468-.26.52h-.182a.765.765 0 0 0-.182.026h-.468c-.918.018-1.447.078-1.586.182a.458.458 0 0 0-.182.182c-.052.07-.33 1.136-.832 3.198-.121.45-.251.953-.39 1.508s-.242.962-.312 1.222l-.104.39c0 .035 1.257.052 3.77.052h3.77l.026-.078c0-.052.269-1.118.806-3.198.485-1.993.728-3.06.728-3.198 0-.034-.017-.07-.052-.104-.017-.034-.052-.06-.104-.078a.577.577 0 0 0-.182-.026.79.79 0 0 0-.234-.026h-.286a1.388 1.388 0 0 0-.312-.026h-.312c-.624 0-.936-.087-.936-.26 0-.364.052-.624.156-.78.052-.086.2-.13.442-.13.312 0 .832.009 1.56.026a75.373 75.373 0 0 0 3.874 0 77.95 77.95 0 0 1 1.508-.026Z"}));case"I":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M17.392 29.974c-.294 0-.442-.078-.442-.234 0-.034.026-.156.078-.364.087-.33.174-.511.26-.546.052-.017.182-.026.39-.026h.156c1.058 0 1.716-.06 1.976-.182.018 0 .035-.009.052-.026.087-.035.182-.234.286-.598.104-.364.53-2.063 1.274-5.096.208-.78.364-1.395.468-1.846 1.214-4.853 1.82-7.297 1.82-7.332a.458.458 0 0 1-.052-.13c-.173-.104-.788-.156-1.846-.156h-.52c-.104-.087-.164-.156-.182-.208-.017-.07.01-.216.078-.442.052-.26.113-.425.182-.494.052-.035.2-.052.442-.052 1.248.035 2.514.052 3.796.052h1.43c1.11 0 1.742-.017 1.898-.052h.26c.122.121.182.217.182.286 0 .07-.026.19-.078.364-.052.26-.112.425-.182.494-.052.035-.25.052-.598.052-.537 0-1.092.026-1.664.078-.225.052-.39.139-.494.26-.052.07-.39 1.326-1.014 3.77s-1.23 4.88-1.82 7.306l-.884 3.614c0 .139.061.217.182.234.174.052.65.087 1.43.104h.832c.087.122.13.2.13.234.018.017 0 .174-.052.468-.069.226-.156.39-.26.494h-.416c-.64-.035-1.828-.052-3.562-.052-.433 0-1.048.009-1.846.026h-1.69Z"}));case"J":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M26.411 13.75c0-.208-.806-.312-2.418-.312h-.65c-.104-.087-.165-.156-.182-.208-.017-.07.009-.234.078-.494.07-.225.156-.39.26-.494h.442c.71.035 1.976.052 3.796.052h1.716a64.884 64.884 0 0 1 1.43-.026c.19 0 .295.043.312.13.035.07.052.113.052.13 0 .035-.026.156-.078.364-.07.277-.139.442-.208.494-.052.035-.208.052-.468.052h-.234c-.763 0-1.196.121-1.3.364-.07.226-.607 2.366-1.612 6.422-1.092 4.299-1.647 6.457-1.664 6.474-.364 1.058-1.083 1.968-2.158 2.73-1.075.763-2.297 1.144-3.666 1.144-1.057 0-1.924-.26-2.6-.78-.659-.537-.988-1.23-.988-2.08 0-.607.173-1.127.52-1.56.364-.45.84-.676 1.43-.676.78 0 1.213.382 1.3 1.144 0 .503-.147.927-.442 1.274a1.783 1.783 0 0 1-1.092.65c-.139.035-.208.07-.208.104 0 .018.06.087.182.208.45.503 1.1.754 1.95.754.659 0 1.3-.286 1.924-.858.641-.59 1.1-1.3 1.378-2.132.07-.208.615-2.375 1.638-6.5 1.04-4.125 1.56-6.249 1.56-6.37Z"}));case"K":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M18.378 13.672c0-.017-.009-.035-.026-.052-.018-.034-.044-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.766.766 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.59 0-.91-.06-.962-.182-.018-.052 0-.2.052-.442.086-.312.164-.494.234-.546.034-.017.182-.026.442-.026.71.035 1.889.052 3.536.052h1.716a78.746 78.746 0 0 1 1.612-.026c.294 0 .442.07.442.208 0 .087-.026.208-.078.364-.087.347-.165.529-.234.546-.07.035-.347.052-.832.052-.936.018-1.474.078-1.612.182a.457.457 0 0 0-.182.182l-2.106 8.268c.017 0 1.612-1.248 4.784-3.744 3.189-2.496 4.818-3.779 4.888-3.848.242-.242.364-.442.364-.598 0-.26-.217-.407-.65-.442-.278 0-.416-.095-.416-.286 0-.034.026-.156.078-.364a4.2 4.2 0 0 1 .13-.39c.052-.086.199-.13.442-.13.277 0 .736.009 1.378.026.658.018 1.196.026 1.612.026.936 0 1.577-.017 1.924-.052.26-.017.424-.009.494.026.086.018.13.095.13.234 0 .07-.035.217-.104.442-.052.208-.087.32-.104.338-.052.087-.217.13-.494.13a6.474 6.474 0 0 0-3.536 1.326l-.312.208c-.035.018-.928.71-2.678 2.08a486.183 486.183 0 0 0-2.652 2.08l.234.572c.156.381.398.962.728 1.742.329.78.632 1.517.91 2.21 1.3 3.068 1.993 4.654 2.08 4.758.034.035.078.07.13.104.242.174.684.269 1.326.286h.546c.086.122.13.2.13.234.017.017 0 .174-.052.468-.07.226-.156.39-.26.494h-.286a33.632 33.632 0 0 0-2.47-.078c-2.063 0-3.25.026-3.562.078h-.26a1.188 1.188 0 0 1-.182-.208c0-.052.026-.216.078-.494.052-.208.112-.346.182-.416.052-.052.164-.078.338-.078.866 0 1.3-.216 1.3-.65 0-.087-.512-1.343-1.534-3.77l-1.508-3.588-1.768 1.378-1.768 1.378-.598 2.418c-.399 1.595-.598 2.436-.598 2.522 0 .104.026.165.078.182.121.052.598.096 1.43.13h.806c.104.156.156.252.156.286 0 .277-.061.538-.182.78-.087.087-.226.13-.416.13-.295 0-.824-.009-1.586-.026a86.31 86.31 0 0 0-1.976-.026 83.8 83.8 0 0 0-1.924.026h-1.482c-.226 0-.364-.043-.416-.13a.455.455 0 0 1-.052-.13c0-.034.026-.156.078-.364.069-.277.138-.433.208-.468.069-.052.268-.078.598-.078.468 0 .988-.026 1.56-.078.242-.052.407-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Z"}));case"L":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M20.561 13.672c0-.017-.008-.035-.026-.052-.017-.034-.043-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.765.765 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.416 0-.667-.008-.754-.026a.238.238 0 0 1-.182-.156c-.034-.052-.026-.208.026-.468.087-.33.165-.502.234-.52.052-.017.182-.026.39-.026a60.53 60.53 0 0 0 3.302.078h1.04c.451-.017.78-.026.988-.026h.936c.382-.017.668-.026.858-.026.208-.017.338-.026.39-.026h.312c.104.104.156.182.156.234.018.035 0 .19-.052.468-.069.243-.147.407-.234.494h-.988c-1.196.018-1.898.095-2.106.234-.12.07-.242.32-.364.754-.12.416-.702 2.696-1.742 6.838a996.167 996.167 0 0 1-1.586 6.448l-.234.936c0 .07.078.113.234.13.156 0 .668.009 1.534.026 1.3 0 2.22-.043 2.756-.13.555-.087 1.162-.32 1.82-.702a4.712 4.712 0 0 0 1.664-1.586c.434-.676.858-1.569 1.274-2.678.122-.346.217-.59.286-.728.087-.052.234-.078.442-.078h.338c.104.156.156.252.156.286 0 .035-.182.546-.546 1.534-.346.988-.719 2.037-1.118 3.146a63.854 63.854 0 0 0-.676 1.898c-.052.104-.095.165-.13.182-.052.035-2.288.052-6.708.052s-6.656-.017-6.708-.052a.247.247 0 0 1-.104-.208c0-.121.018-.242.052-.364.087-.33.174-.511.26-.546.07-.017.2-.026.39-.026h.156c.468 0 .988-.026 1.56-.078.243-.052.408-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Z"}));case"M":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M16.335 30c-.242 0-.667-.009-1.274-.026a54.61 54.61 0 0 0-1.585-.026c-1.249 0-2.02.009-2.315.026-.415.017-.65.009-.701-.026-.105-.035-.157-.113-.157-.234 0-.034.026-.156.079-.364a4.2 4.2 0 0 1 .13-.39c.034-.104.225-.156.572-.156 1.248-.07 2.019-.416 2.314-1.04.069-.104.667-2.427 1.793-6.968 1.144-4.558 1.716-6.942 1.716-7.15 0-.07-.026-.104-.078-.104h-.052c-.173-.052-.623-.086-1.352-.104-.433 0-.693-.008-.78-.026a.314.314 0 0 1-.181-.182c-.018-.07-.01-.19.025-.364.104-.346.182-.537.234-.572.052-.035.936-.052 2.652-.052 1.37 0 2.159.009 2.366.026.226 0 .364.035.416.104.018.07.338 2.514.962 7.332.625 4.802.936 7.22.936 7.254 0 .018.105-.13.313-.442.208-.33.485-.771.832-1.326l1.222-1.924c.468-.728.953-1.49 1.456-2.288.502-.815 1.005-1.62 1.508-2.418l1.43-2.314c.468-.728.875-1.37 1.222-1.924.363-.572.65-1.031.857-1.378l.313-.494.078-.078a.785.785 0 0 0 .104-.078l.155-.052h2.496c1.665 0 2.523.017 2.575.052a.247.247 0 0 1 .103.208c0 .052-.026.19-.078.416a2.99 2.99 0 0 0-.078.364c-.069.104-.39.156-.962.156-.935.018-1.473.078-1.611.182a.457.457 0 0 0-.183.182c-.052.087-.684 2.54-1.898 7.358-1.195 4.819-1.793 7.254-1.793 7.306 0 .121.026.19.078.208.12.052.598.096 1.43.13h.805c.104.156.157.252.157.286 0 .277-.061.538-.182.78-.087.087-.226.13-.417.13-.294 0-.805-.009-1.534-.026a82.147 82.147 0 0 0-1.924-.026c-.537 0-1.16.009-1.872.026h-1.43c-.225 0-.364-.043-.416-.13-.034-.052-.026-.216.026-.494.07-.277.14-.433.209-.468.069-.052.268-.078.598-.078.468 0 .988-.026 1.56-.078.242-.052.407-.156.494-.312.034-.07.363-1.335.988-3.796.623-2.478 1.239-4.931 1.846-7.358.606-2.427.91-3.649.91-3.666-1.526 2.41-3.207 5.088-5.044 8.034l-5.122 8.138c-.157.156-.364.234-.625.234-.26 0-.416-.06-.468-.182-.052-.087-.39-2.565-1.014-7.436-.606-4.87-.962-7.74-1.066-8.606-2.34 9.273-3.51 13.997-3.51 14.17.104.572.729.858 1.872.858h.26c.104.087.165.165.182.234.018.07-.008.226-.078.468-.069.277-.138.433-.207.468-.07.017-.165.026-.287.026Z"}));case"N":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M12.76 29.974c-.26 0-.39-.078-.39-.234 0-.052.026-.19.078-.416.07-.225.113-.347.13-.364.035-.104.234-.156.598-.156 1.179-.052 1.942-.39 2.288-1.014.087-.156 1.292-4.914 3.614-14.274-.034-.017-.511-.043-1.43-.078-.52 0-.832-.008-.936-.026a.184.184 0 0 1-.156-.156c-.034-.052-.026-.208.026-.468.087-.312.165-.485.234-.52.035-.017.876-.026 2.522-.026 1.335 0 2.098.009 2.288.026.208 0 .33.043.364.13l1.378 3.25c.919 2.167 1.846 4.35 2.782 6.552.936 2.201 1.413 3.346 1.43 3.432l1.404-5.538c.919-3.657 1.378-5.607 1.378-5.85 0-.45-.554-.72-1.664-.806-.364 0-.563-.06-.598-.182-.034-.052-.026-.19.026-.416.018-.052.035-.113.052-.182a.713.713 0 0 0 .026-.156.299.299 0 0 1 .078-.182l.052-.052a.11.11 0 0 1 .078-.026h.13c.243 0 .676.017 1.3.052a62.89 62.89 0 0 0 1.664.026c.451 0 .962-.008 1.534-.026.59-.017.997-.026 1.222-.026.26 0 .39.087.39.26 0 .07-.034.217-.104.442-.052.208-.086.32-.104.338-.034.087-.225.13-.572.13-1.23.052-2.002.399-2.314 1.04l-3.874 15.34c-.034.121-.216.182-.546.182-.242 0-.39-.017-.442-.052L20.04 14.296c-2.253 9.03-3.38 13.58-3.38 13.65.104.572.728.858 1.872.858h.26c.104.087.165.165.182.234.018.052-.008.208-.078.468-.069.226-.156.39-.26.494h-.338c-.537-.035-1.473-.052-2.808-.052-.346 0-.823.009-1.43.026h-1.3Z"}));case"O":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M24.019 11.696h.442c.659 0 1.075.008 1.248.026 1.699.242 3.06.988 4.082 2.236 1.023 1.248 1.534 2.825 1.534 4.732 0 2.34-.754 4.558-2.262 6.656-.988 1.421-2.184 2.574-3.588 3.458-1.82 1.179-3.649 1.768-5.486 1.768-1.855 0-3.397-.59-4.628-1.768-1.317-1.283-1.976-2.999-1.976-5.148 0-.607.009-.997.026-1.17.312-2.375 1.317-4.559 3.016-6.552a16.549 16.549 0 0 1 1.56-1.56c1.924-1.595 3.935-2.488 6.032-2.678Zm4.628 5.928c0-1.317-.303-2.4-.91-3.25-.59-.85-1.413-1.378-2.47-1.586a3.627 3.627 0 0 0-.806-.078 3.99 3.99 0 0 0-.962.104c-1.075.19-2.089.676-3.042 1.456-.399.312-.875.789-1.43 1.43-.797 1.023-1.473 2.34-2.028 3.952-.555 1.595-.832 3.172-.832 4.732 0 1.248.243 2.305.728 3.172.503.866 1.196 1.447 2.08 1.742.45.139.875.208 1.274.208 1.057 0 2.097-.33 3.12-.988 2.063-1.352 3.57-3.57 4.524-6.656.503-1.647.754-3.06.754-4.238Z"}));case"P":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M21.121 13.672c0-.017-.009-.035-.026-.052-.017-.034-.043-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.765.765 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.433 0-.693-.008-.78-.026a.314.314 0 0 1-.182-.182c-.017-.07-.009-.19.026-.364.104-.346.182-.537.234-.572.052-.035 1.733-.052 5.044-.052 3.293.017 5.053.043 5.278.078 1.023.173 1.872.537 2.548 1.092.693.537 1.144 1.248 1.352 2.132.017.104.026.33.026.676 0 .434-.017.72-.052.858-.208.988-.763 1.924-1.664 2.808-1.196 1.179-2.739 1.924-4.628 2.236-.121.018-1.031.035-2.73.052h-2.47l-.78 3.094c-.52 2.01-.78 3.077-.78 3.198s.026.19.078.208c.121.052.598.096 1.43.13h.806c.104.156.156.252.156.286 0 .277-.06.538-.182.78-.087.087-.225.13-.416.13-.295 0-.823-.009-1.586-.026a86.304 86.304 0 0 0-1.976-.026 83.8 83.8 0 0 0-1.924.026h-1.482c-.225 0-.364-.043-.416-.13a.455.455 0 0 1-.052-.13c0-.034.026-.156.078-.364.07-.277.139-.433.208-.468.07-.052.269-.078.598-.078.468 0 .988-.026 1.56-.078.243-.052.407-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Zm9.308 1.924c0-.659-.19-1.135-.572-1.43-.381-.312-.927-.537-1.638-.676-.121-.017-.815-.034-2.08-.052-.295 0-.598.009-.91.026h-1.066c-.225.018-.381.095-.468.234a79.01 79.01 0 0 0-.52 2.002c-.295 1.23-.59 2.427-.884 3.588-.295 1.162-.45 1.75-.468 1.768 0 .035.702.052 2.106.052 1.456-.017 2.253-.035 2.392-.052 1.161-.173 2.054-.59 2.678-1.248.468-.468.858-1.308 1.17-2.522.173-.71.26-1.274.26-1.69Z"}));case"Q":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M22.09 32.08c0-.19.01-.511.027-.962.034-.433.052-.71.052-.832v-.104l-.39.104c-.797.19-1.526.286-2.184.286-1.837 0-3.371-.59-4.602-1.768-1.318-1.283-1.976-2.999-1.976-5.148 0-.607.008-.997.026-1.17.312-2.375 1.317-4.559 3.016-6.552a16.573 16.573 0 0 1 1.56-1.56c1.924-1.595 3.934-2.488 6.032-2.678h.442c.659 0 1.075.008 1.248.026 1.698.242 3.06.988 4.082 2.236 1.023 1.248 1.534 2.825 1.534 4.732 0 2.322-.72 4.498-2.158 6.526-1.439 2.01-3.137 3.466-5.096 4.368l-.442.208v.13a.2.2 0 0 0 .026.078.489.489 0 0 1 .026.156c.017.07.035.13.052.182.156.676.355 1.144.598 1.404.242.26.633.39 1.17.39a2.86 2.86 0 0 0 1.794-.624c.537-.399.884-.875 1.04-1.43.104-.243.216-.364.338-.364.156 0 .251.078.286.234 0 .104-.06.355-.182.754-.71 2.097-1.673 3.45-2.886 4.056-.433.19-.867.286-1.3.286-.797 0-1.352-.26-1.664-.78-.312-.503-.468-1.23-.468-2.184Zm-1.351-6.11c.624 0 1.135.225 1.534.676.416.45.667 1.092.754 1.924l.338-.234c1.335-.919 2.41-2.193 3.224-3.822.832-1.63 1.378-3.484 1.638-5.564.017-.174.026-.546.026-1.118 0-2.028-.59-3.476-1.768-4.342-.676-.52-1.465-.78-2.366-.78-.832 0-1.681.216-2.548.65-1.56.763-2.86 2.054-3.9 3.874-1.04 1.802-1.69 3.83-1.95 6.084-.018.19-.026.546-.026 1.066 0 1.802.468 3.163 1.404 4.082.416.364.667.546.754.546v-.208c0-.78.303-1.447.91-2.002.624-.555 1.282-.832 1.976-.832Zm-.858 3.562a5.38 5.38 0 0 0 2.34-.546l-.026-.26c-.07-.953-.39-1.525-.962-1.716a3.178 3.178 0 0 0-.494-.052h-.156a.426.426 0 0 0-.104-.026c-.07 0-.182.026-.338.078a1.88 1.88 0 0 0-.91.624c-.26.294-.39.633-.39 1.014 0 .59.346.884 1.04.884Z"}));case"R":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M19.598 13.672c0-.017-.009-.035-.026-.052-.018-.034-.044-.052-.078-.052l-.104-.052a.363.363 0 0 0-.156-.026.766.766 0 0 0-.182-.026h-.442a.79.79 0 0 0-.234-.026h-.26c-.416 0-.668-.008-.754-.026a.237.237 0 0 1-.182-.156c-.035-.052-.026-.208.026-.468.086-.312.164-.485.234-.52.034-.017 1.542-.026 4.524-.026 2.981.017 4.593.043 4.836.078 1.577.226 2.773.763 3.588 1.612.641.694.962 1.465.962 2.314 0 .174-.035.434-.104.78-.399 1.543-1.673 2.79-3.822 3.744-.763.295-1.196.442-1.3.442l.182.13c1.161.659 1.742 1.612 1.742 2.86 0 .208-.044.763-.13 1.664a20.47 20.47 0 0 0-.13 2.054c0 .607.06 1.04.182 1.3.121.243.39.364.806.364.242 0 .398-.017.468-.052.658-.26 1.126-.84 1.404-1.742.086-.242.156-.39.208-.442.052-.052.182-.078.39-.078.346 0 .52.104.52.312 0 .312-.208.806-.624 1.482-.52.763-1.127 1.24-1.82 1.43-.139.035-.39.052-.754.052-1.803 0-2.973-.546-3.51-1.638-.156-.277-.243-.624-.26-1.04v-.442l.052-.39c.017-.139.034-.242.052-.312.017-.07.06-.216.13-.442a6.33 6.33 0 0 0 .156-.598c.26-.988.39-1.62.39-1.898 0-.867-.373-1.508-1.118-1.924-.26-.121-.477-.19-.65-.208-.174-.017-.789-.035-1.846-.052H20.17l-.832 3.38c-.572 2.288-.858 3.45-.858 3.484 0 .121.026.19.078.208.121.052.598.096 1.43.13h.806c.086.122.13.2.13.234.017.017 0 .174-.052.468-.07.226-.156.39-.26.494h-.39c-.624-.035-1.76-.052-3.406-.052-.416 0-.997.009-1.742.026h-1.638c-.295 0-.442-.078-.442-.234 0-.034.026-.156.078-.364.086-.33.173-.511.26-.546.069-.017.199-.026.39-.026h.156c.468 0 .988-.026 1.56-.078.242-.052.407-.156.494-.312.052-.07.676-2.479 1.872-7.228 1.196-4.75 1.794-7.254 1.794-7.514Zm8.502.676c-.364-.381-.841-.624-1.43-.728-.59-.121-1.43-.182-2.522-.182a8.5 8.5 0 0 0-.65.026h-.858c-.226.018-.382.095-.468.234-.018.052-.312 1.213-.884 3.484-.572 2.254-.858 3.398-.858 3.432 0 .017.598.026 1.794.026 1.352-.017 2.253-.078 2.704-.182 1.126-.19 1.993-.702 2.6-1.534.277-.398.511-.918.702-1.56.19-.659.286-1.248.286-1.768 0-.537-.139-.953-.416-1.248Z"}));case"S":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M28.405 16.48c0-1.179-.303-2.089-.91-2.73-.589-.641-1.447-.962-2.574-.962-.953 0-1.872.39-2.756 1.17-.866.78-1.3 1.707-1.3 2.782 0 .537.13.997.39 1.378.278.381.633.641 1.066.78.052.035.65.208 1.794.52a99.54 99.54 0 0 0 1.768.442c.26.07.59.243.988.52 1.04.745 1.56 1.855 1.56 3.328 0 .45-.069.936-.208 1.456a4.94 4.94 0 0 1-.52 1.43c-1.074 2.132-2.756 3.44-5.044 3.926a5.719 5.719 0 0 1-.884.052c-1.716 0-3.05-.477-4.004-1.43l-.26-.286-.728.806c-.485.537-.754.823-.806.858-.052.035-.138.052-.26.052-.225 0-.338-.07-.338-.208 0-.052.503-2.089 1.508-6.11.035-.104.208-.156.52-.156h.338c.087.087.13.147.13.182.018.017.01.156-.026.416a6.79 6.79 0 0 0-.13 1.326c.07 1.127.477 1.967 1.222 2.522.763.555 1.794.832 3.094.832.174 0 .382-.017.624-.052.815-.19 1.543-.624 2.184-1.3.66-.676 1.075-1.456 1.248-2.34.035-.139.052-.407.052-.806 0-1.11-.45-1.863-1.352-2.262-.104-.017-.728-.173-1.872-.468-1.144-.312-1.742-.485-1.794-.52a3.428 3.428 0 0 1-1.846-1.3c-.45-.659-.676-1.439-.676-2.34 0-.867.243-1.76.728-2.678.503-.936 1.101-1.655 1.794-2.158.884-.763 1.95-1.24 3.198-1.43.07-.017.165-.026.286-.026h.286c1.803 0 3.068.555 3.796 1.664l1.534-1.664h.104a.429.429 0 0 1 .13-.026c.226 0 .338.06.338.182 0 .121-.25 1.179-.754 3.172-.485 1.976-.754 2.99-.806 3.042-.052.052-.19.078-.416.078-.346 0-.52-.078-.52-.234 0-.104.01-.19.026-.26 0-.087.01-.269.026-.546a6.19 6.19 0 0 0 .052-.624Z"}));case"T":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M25.198 30c-.468 0-1.248-.009-2.34-.026a165.36 165.36 0 0 0-2.522-.026c-2.236 0-3.657.017-4.264.052h-.39a1.192 1.192 0 0 1-.182-.208c0-.052.026-.217.078-.494.07-.225.156-.39.26-.494h.728c1.04 0 1.742-.026 2.106-.078.295-.017.511-.07.65-.156.017-.017.035-.026.052-.026.087-.052.173-.225.26-.52.087-.312.433-1.673 1.04-4.082.295-1.179.537-2.14.728-2.886 1.213-4.767 1.82-7.202 1.82-7.306 0-.087-.251-.13-.754-.13h-.806c-1.161 0-1.924.052-2.288.156-.745.156-1.309.46-1.69.91-.468.52-.98 1.577-1.534 3.172-.121.381-.208.607-.26.676-.052.07-.173.104-.364.104h-.078c-.225 0-.364-.026-.416-.078-.052-.052-.078-.095-.078-.13 0-.104.26-.936.78-2.496a74.24 74.24 0 0 1 .962-2.86c.104-.33.217-.555.338-.676h12.168c2.323 0 3.484.043 3.484.13v.026l.026.026v.078c0 .104-.156 1.092-.468 2.964-.295 1.872-.45 2.817-.468 2.834 0 .052-.035.095-.104.13-.035.035-.165.052-.39.052h-.26a.424.424 0 0 0-.104-.026l-.078-.078a.781.781 0 0 0-.078-.104c0-.121.026-.355.078-.702.156-.936.234-1.62.234-2.054 0-.399-.052-.728-.156-.988-.104-.26-.225-.46-.364-.598-.121-.139-.355-.243-.702-.312a6.478 6.478 0 0 0-.858-.13 33.843 33.843 0 0 0-1.196-.052c-.797 0-1.309.017-1.534.052-.208.017-.355.078-.442.182-.017.017-.633 2.444-1.846 7.28-1.213 4.819-1.82 7.263-1.82 7.332 0 .121.113.2.338.234.243.07.893.113 1.95.13.59 0 .936.009 1.04.026.121.017.2.07.234.156.017.052 0 .2-.052.442-.07.312-.147.494-.234.546L25.38 30h-.182Z"}));case"U":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M17.078 26.36c0 .954.26 1.699.78 2.236.537.52 1.291.78 2.262.78 1.421 0 2.67-.46 3.744-1.378 1.092-.919 1.855-2.028 2.288-3.328 1.699-6.777 2.548-10.253 2.548-10.426 0-.45-.555-.72-1.664-.806-.364 0-.563-.06-.598-.182-.035-.052-.026-.19.026-.416.017-.052.035-.113.052-.182a.706.706 0 0 0 .026-.156.304.304 0 0 1 .078-.182l.052-.052c.017-.017.043-.026.078-.026h.13c.26 0 .71.017 1.352.052a51.568 51.568 0 0 0 3.224 0c.59-.017.997-.026 1.222-.026.26 0 .39.087.39.26 0 .07-.035.217-.104.442-.052.208-.087.32-.104.338-.052.087-.243.13-.572.13-1.23.052-2.002.399-2.314 1.04-.035.087-.468 1.76-1.3 5.018-.71 2.93-1.144 4.654-1.3 5.174-.52 1.543-1.465 2.912-2.834 4.108-1.37 1.196-2.895 1.794-4.576 1.794-1.404 0-2.583-.398-3.536-1.196-.953-.797-1.525-1.837-1.716-3.12a4.412 4.412 0 0 1-.026-.598c0-.399.017-.754.052-1.066.035-.156.269-1.118.702-2.886.45-1.785.884-3.536 1.3-5.252.433-1.716.65-2.643.65-2.782 0-.121-.494-.2-1.482-.234-.416 0-.667-.008-.754-.026a.238.238 0 0 1-.182-.156c-.035-.052-.026-.208.026-.468.07-.295.147-.468.234-.52.035-.017.182-.026.442-.026.71.035 1.89.052 3.536.052h1.716a78.767 78.767 0 0 1 1.612-.026c.225 0 .355.052.39.156.035.052.026.208-.026.468-.087.295-.173.468-.26.52h-.182a.766.766 0 0 0-.182.026h-.468c-.919.018-1.447.078-1.586.182a.458.458 0 0 0-.182.182c-.017.035-.26.954-.728 2.756a431.596 431.596 0 0 0-1.43 5.616c-.468 1.942-.72 3.085-.754 3.432a5.338 5.338 0 0 0-.052.754Z"}));case"V":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M15.955 13.438c-.121-.121-.182-.216-.182-.286 0-.138.043-.312.13-.52.087-.208.156-.338.208-.39h.286c.728.052 1.638.078 2.73.078 2.045 0 3.25-.026 3.614-.078H23c.104.104.156.182.156.234.017.035 0 .19-.052.468-.07.243-.147.407-.234.494h-.546c-.381.035-.641.052-.78.052-.503.087-.78.217-.832.39 0 .035.251 2.219.754 6.552.503 4.316.763 6.483.78 6.5l1.898-3.042a950.553 950.553 0 0 0 3.796-6.136 279.681 279.681 0 0 0 1.95-3.198c.087-.173.13-.303.13-.39 0-.399-.39-.641-1.17-.728-.33 0-.494-.087-.494-.26 0-.087.026-.208.078-.364.052-.242.104-.399.156-.468.052-.07.165-.104.338-.104.295 0 .763.009 1.404.026.659.018 1.144.026 1.456.026 1.196 0 1.95-.017 2.262-.052h.182c.121.121.182.217.182.286 0 .312-.078.59-.234.832-.052.052-.2.078-.442.078-.936.052-1.681.33-2.236.832l-.182.182c-.07.087-.113.139-.13.156a.99.99 0 0 1-.182.26c-6.379 10.348-9.62 15.548-9.724 15.6l-.13.078-.468.026c-.312 0-.494-.017-.546-.052-.07-.035-.104-.078-.104-.13-.052-.104-.39-2.877-1.014-8.32-.659-5.512-.997-8.294-1.014-8.346-.104-.19-.546-.286-1.326-.286h-.728Z"}));case"W":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M11.232 13.438c-.122-.121-.182-.216-.182-.286 0-.381.112-.684.338-.91h.312a37.18 37.18 0 0 0 2.6.078h.832c.38-.017.667-.026.858-.026h.806c.329-.017.58-.026.754-.026.173-.017.277-.026.312-.026h.26c.104.104.156.182.156.234.017.035 0 .19-.052.468-.07.243-.148.407-.234.494h-.546c-.503.018-.92.07-1.248.156-.26.104-.408.2-.442.286 0 .121.138 2.219.416 6.292.294 4.073.45 6.17.468 6.292 2.704-4.784 4.74-8.372 6.11-10.764l-.052-.962c-.052-.728-.14-1.118-.26-1.17-.104-.07-.468-.112-1.092-.13-.486 0-.746-.06-.78-.182-.035-.052-.026-.19.026-.416.086-.347.164-.537.234-.572.052-.017.32-.017.806 0 .589.035 1.412.052 2.47.052.502 0 1.092-.008 1.768-.026a68.319 68.319 0 0 1 1.456-.026c.294 0 .442.06.442.182 0 .07-.026.226-.078.468-.052.226-.087.347-.104.364-.035.104-.26.156-.676.156-.902.035-1.44.165-1.612.39-.052.052-.07.113-.052.182 0 .208.138 2.28.416 6.214.277 3.918.416 5.98.416 6.188l.052-.078a5.08 5.08 0 0 0 .156-.26c.086-.139.19-.303.312-.494.12-.208.268-.468.442-.78.19-.312.398-.667.624-1.066.225-.399.485-.867.78-1.404l1.014-1.742c2.236-3.934 3.37-5.954 3.406-6.058a.828.828 0 0 0 .052-.234c0-.277-.174-.485-.52-.624a2.459 2.459 0 0 0-1.066-.234c-.243 0-.364-.087-.364-.26 0-.052.017-.165.052-.338a.577.577 0 0 0 .026-.182.713.713 0 0 0 .026-.156l.052-.104a.17.17 0 0 1 .078-.078.29.29 0 0 1 .13-.026.677.677 0 0 1 .208-.026c.312 0 .788.009 1.43.026h1.43c1.144 0 1.88-.017 2.21-.052.242 0 .364.095.364.286 0 .104-.035.26-.104.468-.07.208-.122.33-.156.364-.052.052-.14.078-.26.078-1.092 0-1.933.407-2.522 1.222-.122.19-.191.295-.208.312l-4.394 7.696c-2.912 5.13-4.377 7.705-4.394 7.722-.104.122-.312.182-.624.182-.26 0-.425-.043-.494-.13-.052-.052-.226-2.184-.52-6.396-.278-4.23-.416-6.404-.416-6.526l-.312.468c-.382.642-1.491 2.574-3.328 5.798a403.24 403.24 0 0 1-1.794 3.146l-1.43 2.548c-.312.537-.477.815-.494.832-.104.173-.33.26-.676.26-.33 0-.512-.06-.546-.182 0-.052-.191-2.817-.572-8.294-.382-5.494-.581-8.25-.598-8.268-.035-.156-.122-.251-.26-.286-.14-.052-.477-.086-1.014-.104h-.624Z"}));case"X":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M12.326 30c-.277 0-.416-.095-.416-.286 0-.07.026-.208.078-.416.07-.242.13-.381.182-.416.052-.035.217-.06.494-.078 1.491-.052 2.661-.502 3.51-1.352.174-.173 1.18-1.265 3.016-3.276 1.838-2.028 2.748-3.05 2.73-3.068-1.889-4.819-2.877-7.271-2.964-7.358-.156-.19-.702-.294-1.638-.312h-.728a1.188 1.188 0 0 1-.182-.208c0-.052.026-.216.078-.494.07-.225.156-.39.26-.494h.364c.59.035 1.638.052 3.146.052h1.664a75.269 75.269 0 0 1 1.612-.026c.174 0 .286.018.338.052.052.018.078.078.078.182 0 .416-.06.685-.182.806-.034.087-.182.13-.442.13-.658.07-1.109.208-1.352.416l-.052.026c.78 1.907 1.448 3.588 2.002 5.044L25.3 17.39c.815-.884 1.456-1.595 1.924-2.132.382-.398.616-.667.702-.806a.625.625 0 0 0 .104-.416c-.052-.26-.26-.442-.624-.546a1.45 1.45 0 0 1-.338-.052c-.156 0-.268-.035-.338-.104-.069-.07-.069-.268 0-.598.07-.225.156-.39.26-.494h.312c.4.052 1.44.078 3.12.078 1.508 0 2.366-.026 2.574-.078h.208c.122.121.182.217.182.286 0 .139-.043.312-.13.52-.069.208-.13.338-.182.39h-.416c-1.334.052-2.426.425-3.276 1.118-.156.156-.25.243-.286.26a.465.465 0 0 1-.13.13c-.069.07-.849.928-2.34 2.574l-2.262 2.496c0 .018.27.72.806 2.106.555 1.37 1.118 2.765 1.69 4.186.572 1.422.893 2.167.962 2.236.174.156.702.243 1.586.26.607 0 .91.07.91.208 0 .19-.06.468-.182.832-.052.087-.19.13-.416.13h-1.378a68.88 68.88 0 0 0-1.794-.026c-.52 0-1.135.009-1.846.026H23.22c-.225 0-.364-.043-.416-.13-.034-.052-.026-.216.026-.494.07-.26.13-.407.182-.442.052-.052.182-.087.39-.104.312-.017.642-.086.988-.208.295-.139.442-.225.442-.26-.017 0-.424-1.014-1.222-3.042l-1.222-3.068c-.017 0-.84.902-2.47 2.704-1.612 1.785-2.426 2.695-2.444 2.73a.647.647 0 0 0-.208.468c0 .33.252.546.754.65.018 0 .07.009.156.026h.156c.208 0 .312.087.312.26 0 .104-.026.252-.078.442-.052.226-.104.364-.156.416-.052.035-.182.052-.39.052h-1.534a68.47 68.47 0 0 0-1.56-.026c-1.352 0-2.218.017-2.6.052Z"}));case"Y":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M29.994 12.294a40.338 40.338 0 0 0 2.912 0c.503-.035.85-.052 1.04-.052.226 0 .338.087.338.26 0 .052-.034.19-.104.416-.052.226-.086.347-.104.364-.034.104-.216.156-.546.156-1.248.087-2.262.52-3.042 1.3-.156.156-1.369 1.569-3.64 4.238l-3.354 3.926-.676 2.704c-.468 1.855-.702 2.825-.702 2.912 0 .19.59.286 1.768.286.295 0 .477.018.546.052.087.017.13.087.13.208 0 .364-.052.624-.156.78-.052.087-.199.13-.442.13h-1.56a82.14 82.14 0 0 0-1.924-.026c-.554 0-1.187.009-1.898.026h-1.482c-.294 0-.442-.06-.442-.182 0-.07.026-.216.078-.442.052-.242.087-.373.104-.39.035-.104.356-.156.962-.156.676-.017 1.118-.052 1.326-.104.226-.052.382-.165.468-.338.052-.086.304-1.022.754-2.808l.65-2.678c-.71-2.028-1.776-5.053-3.198-9.074a.973.973 0 0 0-.494-.286c-.156-.034-.537-.06-1.144-.078-.624 0-.936-.087-.936-.26 0-.035.026-.156.078-.364.07-.312.148-.494.234-.546.035-.017.156-.026.364-.026a45.9 45.9 0 0 0 2.834.078c2.115 0 3.337-.026 3.666-.078h.26c.104.104.156.182.156.234.018.035 0 .19-.052.468-.069.225-.156.39-.26.494h-.312c-.97 0-1.456.113-1.456.338 0 .087.434 1.37 1.3 3.848.867 2.462 1.309 3.7 1.326 3.718l.078-.078c.07-.07.174-.182.312-.338.139-.173.321-.381.546-.624.226-.26.503-.58.832-.962.33-.381.702-.823 1.118-1.326 1.855-2.166 2.843-3.336 2.964-3.51.156-.225.234-.416.234-.572 0-.277-.277-.442-.832-.494-.294 0-.442-.087-.442-.26 0-.035.018-.156.052-.364.052-.26.096-.416.13-.468.052-.07.174-.104.364-.104.243 0 .668.017 1.274.052Z"}));case"Z":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"2 2 40 40"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#21242C",d:"M14.634 29.792c0-.26.052-.494.156-.702 0-.017 2.297-2.608 6.89-7.774a4794.75 4794.75 0 0 1 6.942-7.826l-.26-.052h-1.924c-1.56.018-2.41.035-2.548.052-1.317.174-2.349.615-3.094 1.326-.745.71-1.326 1.707-1.742 2.99l-.052.156-.052.156-.052.104v.078l-.026.052c-.052.087-.217.13-.494.13-.295 0-.468-.087-.52-.26l.832-2.808c.139-.45.277-.918.416-1.404.156-.485.269-.858.338-1.118.087-.26.13-.399.13-.416.052-.104.095-.165.13-.182.052-.035 2.08-.052 6.084-.052h6.006c.087.087.13.156.13.208 0 .035-.052.26-.156.676-9.152 10.313-13.737 15.487-13.754 15.522l-.078.078h2.314c1.647-.017 2.54-.034 2.678-.052 1.265-.156 2.262-.529 2.99-1.118.745-.59 1.36-1.517 1.846-2.782.121-.277.26-.676.416-1.196.139-.433.234-.693.286-.78.07-.086.182-.13.338-.13h.104c.364 0 .546.096.546.286 0 .07-.355 1.24-1.066 3.51-.71 2.27-1.11 3.432-1.196 3.484-.052.035-2.14.052-6.266.052-4.108 0-6.18-.017-6.214-.052-.052-.052-.078-.104-.078-.156Z"}));case"JUMP_OUT_PARENTHESES":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9571 13.2929c.3905.3905.3905 1.0237 0 1.4142C11.6871 15.9771 11 17.9485 11 20c0 2.0515.6871 4.0229 1.9571 5.2929.3905.3905.3905 1.0237 0 1.4142-.3905.3905-1.0237.3905-1.4142 0C9.81292 24.9771 9 22.4485 9 20c0-2.4485.81292-4.9771 2.5429-6.7071.3905-.3905 1.0237-.3905 1.4142 0zm4.5858 0c.3905-.3905 1.0237-.3905 1.4142 0C20.6871 15.0229 21.5 17.5515 21.5 20c0 2.4485-.8129 4.9771-2.5429 6.7071-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142C18.8129 24.0229 19.5 22.0515 19.5 20c0-2.0515-.6871-4.0229-1.9571-5.2929-.3905-.3905-.3905-1.0237 0-1.4142z",fill:"#21242C"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5429 16.2929c.3905-.3905 1.0237-.3905 1.4142 0l3 3c.3905.3905.3905 1.0237 0 1.4142l-3 3c-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142L26.8358 21H16.25c-.5523 0-1-.4477-1-1s.4477-1 1-1h10.5858l-1.2929-1.2929c-.3905-.3905-.3905-1.0237 0-1.4142z",fill:"#1865F2"}));case"JUMP_OUT_EXPONENT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2929 15.2929c.3905-.3905 1.0237-.3905 1.4142 0L26 21.5858V20c0-.5523.4477-1 1-1s1 .4477 1 1v4.003c-.0004.1345-.0273.2627-.0759.3798-.0477.1152-.1178.2234-.2105.3177a.809004.809004 0 01-.0131.0131c-.1797.1765-.4259.2856-.6975.2864H23c-.5523 0-1-.4477-1-1s.4477-1 1-1h1.5858l-6.2929-6.2929c-.3905-.3905-.3905-1.0237 0-1.4142zM31 33c-.5523 0-1-.4477-1-1V16c0-.5523.4477-1 1-1s1 .4477 1 1v16c0 .5523-.4477 1-1 1z",fill:"#1865F2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9c-.55228 0-1 .44772-1 1v6c0 .5523.44772 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1H9zm5 2h-4v4h4v-4z",fill:"#21242C"}));case"JUMP_OUT_BASE":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",style:{display:"block",transform:"scale(1,-1)"},xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2929 15.2929c.3905-.3905 1.0237-.3905 1.4142 0L26 21.5858V20c0-.5523.4477-1 1-1s1 .4477 1 1v4.003c-.0004.1345-.0273.2627-.0759.3798-.0477.1152-.1178.2234-.2105.3177a.809004.809004 0 01-.0131.0131c-.1797.1765-.4259.2856-.6975.2864H23c-.5523 0-1-.4477-1-1s.4477-1 1-1h1.5858l-6.2929-6.2929c-.3905-.3905-.3905-1.0237 0-1.4142zM31 33c-.5523 0-1-.4477-1-1V16c0-.5523.4477-1 1-1s1 .4477 1 1v16c0 .5523-.4477 1-1 1z",fill:"#1865F2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9c-.55228 0-1 .44772-1 1v6c0 .5523.44772 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1H9zm5 2h-4v4h4v-4z",fill:"#21242C"}));case"JUMP_INTO_NUMERATOR":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 11c.55228 0 1 .4477 1 1v16c0 .5523-.44772 1-1 1s-1-.4477-1-1V12c0-.5523.44772-1 1-1zm5 1c0-.5523.4477-1 1-1h3.9998c.0001 0 0 0 0 0 .1356 0 .2651.027.383.0759.1171.0484.2268.1201.3222.2149l.0042.0042c.1931.1942.29.448.2908.702V16c0 .5523-.4477 1-1 1s-1-.4477-1-1v-1.5858l-4.2929 4.2929c-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142L16.5858 13H15c-.5523 0-1-.4477-1-1z",fill:"#1865F2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 23c-.5523 0-1 .4477-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.5523-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#21242C"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#clip0_874_41680)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H21c-.5523 0-1-.4477-1-1z",fill:"#21242C"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 9c-.5523 0-1 .44772-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#1865F2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("clipPath",{id:"clip0_874_41680"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#fff",transform:"translate(20 19)",d:"M0 0h12v2H0z"}))));case"JUMP_OUT_NUMERATOR":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 13c.5523 0 1 .4477 1 1v11.5858l1.2929-1.2929c.3905-.3905 1.0237-.3905 1.4142 0 .3905.3905.3905 1.0237 0 1.4142l-3 3c-.3905.3905-1.0237.3905-1.4142 0l-3-3c-.3905-.3905-.3905-1.0237 0-1.4142.3905-.3905 1.0237-.3905 1.4142 0L25 25.5858V14c0-.5523.4477-1 1-1zM13 23c-.5523 0-1 .4477-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.5523-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#1865F2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#clip0_874_41686)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20c0-.5523.4477-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H11c-.5523 0-1-.4477-1-1z",fill:"#21242C"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 9c-.5523 0-1 .44772-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#21242C"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("clipPath",{id:"clip0_874_41686"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#fff",transform:"translate(10 19)",d:"M0 0h12v2H0z"}))));case"JUMP_OUT_DENOMINATOR":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31 11c.5523 0 1 .4477 1 1v16c0 .5523-.4477 1-1 1s-1-.4477-1-1V12c0-.5523.4477-1 1-1zm-9 9c0-.5523.4477-1 1-1h4c.5523 0 1 .4477 1 1v4c0 .5523-.4477 1-1 1s-1-.4477-1-1v-1.5858l-4.2929 4.2929c-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142L24.5858 21H23c-.5523 0-1-.4477-1-1z",fill:"#1865F2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 23c-.5523 0-1 .4477-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.5523-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#21242C"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#clip0_874_41692)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 20c0-.5523.44772-1 1-1h10c.5523 0 1 .4477 1 1s-.4477 1-1 1H9c-.55228 0-1-.4477-1-1z",fill:"#21242C"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 9c-.5523 0-1 .44772-1 1v6c0 .5523.4477 1 1 1h6c.5523 0 1-.4477 1-1v-6c0-.55228-.4477-1-1-1h-6zm5 2h-4v4h4v-4z",fill:"#21242C"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("clipPath",{id:"clip0_874_41692"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#fff",transform:"translate(8 19)",d:"M0 0h12v2H0z"}))));case"UP":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{fill:"none",fillRule:"evenodd",transform:"rotate(90 24 24)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"#21242C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"})));case"DOWN":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{fill:"none",fillRule:"evenodd",transform:"rotate(270 24 24)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"#21242C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"})));case"LEFT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{fill:"none",fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"#21242C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"})));case"RIGHT":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{fill:"none",fillRule:"evenodd",transform:"rotate(180 24 24)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"#21242C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"})));case"MANY":case"NOOP":case"PHI":case"NTHROOT3":case"POW":case"LOG_B":return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"black",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("text",{y:"20",textLength:"100%",lengthAdjust:"spacingAndGlyphs"},id),react__WEBPACK_IMPORTED_MODULE_0__.createElement("text",{y:"35",textLength:"100%",lengthAdjust:"spacingAndGlyphs",fill:"red"},"placeholder"));default:throw new Error(`Unhandled key: ${id}`)}}try{buttonassets.displayName="buttonassets",buttonassets.__docgenInfo={description:"",displayName:"buttonassets",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"enum",value:[{value:'"UP"'},{value:'"DOWN"'},{value:'"LEFT"'},{value:'"RIGHT"'},{value:'"T"'},{value:'"PLUS"'},{value:'"MINUS"'},{value:'"NEGATIVE"'},{value:'"TIMES"'},{value:'"DIVIDE"'},{value:'"DECIMAL"'},{value:'"PERIOD"'},{value:'"PERCENT"'},{value:'"CDOT"'},{value:'"EQUAL"'},{value:'"NEQ"'},{value:'"GT"'},{value:'"LT"'},{value:'"GEQ"'},{value:'"LEQ"'},{value:'"FRAC_INCLUSIVE"'},{value:'"FRAC_EXCLUSIVE"'},{value:'"FRAC"'},{value:'"EXP"'},{value:'"EXP_2"'},{value:'"EXP_3"'},{value:'"SQRT"'},{value:'"CUBE_ROOT"'},{value:'"RADICAL"'},{value:'"LEFT_PAREN"'},{value:'"RIGHT_PAREN"'},{value:'"LN"'},{value:'"LOG"'},{value:'"LOG_N"'},{value:'"SIN"'},{value:'"COS"'},{value:'"TAN"'},{value:'"PI"'},{value:'"THETA"'},{value:'"BACKSPACE"'},{value:'"DISMISS"'},{value:'"JUMP_OUT_PARENTHESES"'},{value:'"JUMP_OUT_EXPONENT"'},{value:'"JUMP_OUT_BASE"'},{value:'"JUMP_INTO_NUMERATOR"'},{value:'"JUMP_OUT_NUMERATOR"'},{value:'"JUMP_OUT_DENOMINATOR"'},{value:'"NOOP"'},{value:'"MANY"'},{value:'"NUM_0"'},{value:'"NUM_1"'},{value:'"NUM_2"'},{value:'"NUM_3"'},{value:'"NUM_4"'},{value:'"NUM_5"'},{value:'"NUM_6"'},{value:'"NUM_7"'},{value:'"NUM_8"'},{value:'"NUM_9"'},{value:'"a"'},{value:'"b"'},{value:'"c"'},{value:'"d"'},{value:'"e"'},{value:'"f"'},{value:'"g"'},{value:'"h"'},{value:'"i"'},{value:'"j"'},{value:'"k"'},{value:'"l"'},{value:'"m"'},{value:'"n"'},{value:'"o"'},{value:'"p"'},{value:'"q"'},{value:'"r"'},{value:'"s"'},{value:'"t"'},{value:'"u"'},{value:'"v"'},{value:'"w"'},{value:'"x"'},{value:'"y"'},{value:'"z"'},{value:'"A"'},{value:'"B"'},{value:'"C"'},{value:'"D"'},{value:'"E"'},{value:'"F"'},{value:'"G"'},{value:'"H"'},{value:'"I"'},{value:'"J"'},{value:'"K"'},{value:'"L"'},{value:'"M"'},{value:'"N"'},{value:'"O"'},{value:'"P"'},{value:'"Q"'},{value:'"R"'},{value:'"S"'},{value:'"U"'},{value:'"V"'},{value:'"W"'},{value:'"X"'},{value:'"Y"'},{value:'"Z"'},{value:'"PHI"'},{value:'"NTHROOT3"'},{value:'"POW"'},{value:'"LOG_B"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/button-assets.tsx#buttonassets"]={docgenInfo:buttonassets.__docgenInfo,name:"buttonassets",path:"packages/math-input/src/components/keypad/button-assets.tsx#buttonassets"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/keypad/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>mobile_keypad_MobileKeypad,Z:()=>Keypad});var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js"),tabbar=__webpack_require__("./packages/math-input/src/components/tabbar/tabbar.tsx"),key_configs=__webpack_require__("./packages/math-input/src/data/key-configs.ts"),keypad_button=__webpack_require__("./packages/math-input/src/components/keypad/keypad-button.tsx");const columns=3;function ExtrasPage(props){const{extraKeys,onClickKey}=props;return react.createElement(react.Fragment,null,extraKeys.map(((key,i)=>{const coordX=i%columns,coordY=i/columns;return react.createElement(keypad_button.$,{key,keyConfig:key_configs.Z[key],onClickKey,coord:[coordX,coordY]})})))}try{extraspage.displayName="extraspage",extraspage.__docgenInfo={description:"",displayName:"extraspage",props:{extraKeys:{defaultValue:null,description:"",name:"extraKeys",required:!0,type:{name:'readonly ("UP" | "DOWN" | "LEFT" | "RIGHT" | "T" | "PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | ... 93 more ... | "LOG_B")[]'}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/keypad-pages/extras-page.tsx#extraspage"]={docgenInfo:extraspage.__docgenInfo,name:"extraspage",path:"packages/math-input/src/components/keypad/keypad-pages/extras-page.tsx#extraspage"})}catch(__react_docgen_typescript_loader_error){}var cursor_contexts=__webpack_require__("./packages/math-input/src/components/input/cursor-contexts.ts");function getCursorContextConfig(cursorContext){if(!cursorContext)return null;switch(cursorContext){case cursor_contexts.z.NONE:return null;case cursor_contexts.z.IN_PARENS:return key_configs.Z.JUMP_OUT_PARENTHESES;case cursor_contexts.z.IN_SUPER_SCRIPT:return key_configs.Z.JUMP_OUT_EXPONENT;case cursor_contexts.z.IN_SUB_SCRIPT:return key_configs.Z.JUMP_OUT_BASE;case cursor_contexts.z.IN_NUMERATOR:return key_configs.Z.JUMP_OUT_NUMERATOR;case cursor_contexts.z.IN_DENOMINATOR:return key_configs.Z.JUMP_OUT_DENOMINATOR;case cursor_contexts.z.BEFORE_FRACTION:return key_configs.Z.JUMP_INTO_NUMERATOR}}function FractionsPage(props){const{onClickKey,cursorContext}=props,cursorKeyConfig=getCursorContextConfig(cursorContext);return react.createElement(react.Fragment,null,react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_1,onClickKey,coord:[0,2]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_2,onClickKey,coord:[1,2]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_3,onClickKey,coord:[2,2]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_4,onClickKey,coord:[0,1]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_5,onClickKey,coord:[1,1]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_6,onClickKey,coord:[2,1]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_7,onClickKey,coord:[0,0]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_8,onClickKey,coord:[1,0]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_9,onClickKey,coord:[2,0]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NUM_0,onClickKey,coord:[0,3]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.DECIMAL,onClickKey,coord:[1,3]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.NEGATIVE,onClickKey,coord:[2,3]}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.PERCENT,onClickKey,coord:[3,0],secondary:!0}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.PI,onClickKey,coord:[3,1],secondary:!0}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.FRAC,onClickKey,coord:[3,2],secondary:!0}),cursorKeyConfig&&react.createElement(keypad_button.$,{keyConfig:cursorKeyConfig,onClickKey,coord:[3,3],secondary:!0}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.BACKSPACE,onClickKey,coord:[4,3],action:!0}))}try{fractionspage.displayName="fractionspage",fractionspage.__docgenInfo={description:"",displayName:"fractionspage",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/keypad-pages/fractions-page.tsx#fractionspage"]={docgenInfo:fractionspage.__docgenInfo,name:"fractionspage",path:"packages/math-input/src/components/keypad/keypad-pages/fractions-page.tsx#fractionspage"})}catch(__react_docgen_typescript_loader_error){}var geometry_page=__webpack_require__("./packages/math-input/src/components/keypad/keypad-pages/geometry-page.tsx"),numbers_page=__webpack_require__("./packages/math-input/src/components/keypad/keypad-pages/numbers-page.tsx"),operators_page=__webpack_require__("./packages/math-input/src/components/keypad/keypad-pages/operators-page.tsx"),navigation_pad=__webpack_require__("./packages/math-input/src/components/keypad/navigation-pad.tsx"),utils=__webpack_require__("./packages/math-input/src/utils.ts");function SharedKeys(props){const{onClickKey,cursorContext,divisionKey,convertDotToTimes,selectedPage}=props,cursorKeyConfig=getCursorContextConfig(cursorContext),fractionCoord="Numbers"===selectedPage||"Operators"===selectedPage?[3,1]:[3,0];return react.createElement(react.Fragment,null,react.createElement(keypad_button.$,{keyConfig:key_configs.Z.FRAC,onClickKey,coord:fractionCoord,secondary:!0}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.PLUS,onClickKey,coord:[4,0],secondary:!0}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.MINUS,onClickKey,coord:[5,0],secondary:!0}),react.createElement(keypad_button.$,{keyConfig:(0,utils.JU)(!!convertDotToTimes)?key_configs.Z.TIMES:key_configs.Z.CDOT,onClickKey,coord:[4,1],secondary:!0}),divisionKey&&react.createElement(keypad_button.$,{keyConfig:key_configs.Z.DIVIDE,onClickKey,coord:[5,1],secondary:!0}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.LEFT_PAREN,onClickKey,coord:[4,2],secondary:!0}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.RIGHT_PAREN,onClickKey,coord:[5,2],secondary:!0}),cursorKeyConfig&&react.createElement(keypad_button.$,{keyConfig:cursorKeyConfig,onClickKey,coord:[4,3],secondary:!0}),react.createElement(keypad_button.$,{keyConfig:key_configs.Z.BACKSPACE,onClickKey,coord:[5,3],action:!0}))}try{sharedkeys.displayName="sharedkeys",sharedkeys.__docgenInfo={description:"",displayName:"sharedkeys",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},selectedPage:{defaultValue:null,description:"",name:"selectedPage",required:!0,type:{name:"enum",value:[{value:'"Geometry"'},{value:'"Operators"'},{value:'"Numbers"'},{value:'"Fractions"'},{value:'"Extras"'},{value:'"Dismiss"'}]}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/shared-keys.tsx#sharedkeys"]={docgenInfo:sharedkeys.__docgenInfo,name:"sharedkeys",path:"packages/math-input/src/components/keypad/shared-keys.tsx#sharedkeys"})}catch(__react_docgen_typescript_loader_error){}function Keypad(props){const defaultSelectedPage=props.fractionsOnly?"Fractions":"Numbers",[selectedPage,setSelectedPage]=react.useState(defaultSelectedPage),[isMounted,setIsMounted]=react.useState(!1),availableTabs=function getAvailableTabs(props){if(props.fractionsOnly)return[];const tabs=["Numbers"];return(props.preAlgebra||props.logarithms||props.basicRelations||props.advancedRelations)&&tabs.push("Operators"),props.trigonometry&&tabs.push("Geometry"),props.extraKeys?.length&&tabs.push("Extras"),tabs}(props),{onClickKey,cursorContext,extraKeys,convertDotToTimes,divisionKey,preAlgebra,logarithms,basicRelations,advancedRelations,showDismiss,onAnalyticsEvent,fractionsOnly,expandedView}=props,gridStyle=fractionsOnly?styles.fractionsGrid:styles.expressionGrid;return(0,react.useEffect)((()=>{setSelectedPage(defaultSelectedPage)}),[fractionsOnly,defaultSelectedPage]),(0,react.useEffect)((()=>(isMounted||(onAnalyticsEvent({type:"math-input:keypad-opened",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),setIsMounted(!0)),()=>{isMounted&&(onAnalyticsEvent({type:"math-input:keypad-closed",payload:{virtualKeypadVersion:"MATH_INPUT_KEYPAD_V2"}}),setIsMounted(!1))})),[onAnalyticsEvent,isMounted]),react.createElement(dist_es.G7,{style:expandedView?styles.keypadOuterContainer:null},react.createElement(dist_es.G7,{style:[styles.wrapper,expandedView?styles.expandedWrapper:null]},react.createElement(tabbar.Z,{items:availableTabs,selectedItem:selectedPage,onSelectItem:newSelectedPage=>{setSelectedPage(newSelectedPage)},onClickClose:showDismiss?()=>onClickKey("DISMISS"):void 0}),react.createElement(dist_es.G7,{style:styles.keypadInnerContainer},react.createElement(dist_es.G7,{style:[styles.keypadGrid,gridStyle],tabIndex:0,"aria-label":"Keypad"},"Fractions"===selectedPage&&react.createElement(FractionsPage,{onClickKey,cursorContext}),"Numbers"===selectedPage&&react.createElement(numbers_page.Z,{onClickKey}),"Extras"===selectedPage&&react.createElement(ExtrasPage,{onClickKey,extraKeys}),"Operators"===selectedPage&&react.createElement(operators_page.Z,{onClickKey,preAlgebra,logarithms,basicRelations,advancedRelations}),"Geometry"===selectedPage&&react.createElement(geometry_page.Z,{onClickKey}),!fractionsOnly&&react.createElement(SharedKeys,{onClickKey,cursorContext,convertDotToTimes,divisionKey,selectedPage})),expandedView&&react.createElement(navigation_pad.Z,{onClickKey}))))}Keypad.defaultProps={extraKeys:[]};const styles=lib.StyleSheet.create({keypadOuterContainer:{display:"flex",alignItems:"center"},wrapper:{background:es.default.white},expandedWrapper:{borderWidth:"1px 1px 0 1px",borderColor:es.default.offBlack32,maxWidth:500,borderRadius:"3px 3px 0 0"},keypadInnerContainer:{display:"flex",flexDirection:"row",backgroundColor:"#DBDCDD"},keypadGrid:{display:"grid",gridTemplateRows:"repeat(4, 1fr)",flex:1},expressionGrid:{gridTemplateColumns:"repeat(6, 1fr)"},fractionsGrid:{gridTemplateColumns:"repeat(5, 1fr)"}});try{keypad.displayName="keypad",keypad.__docgenInfo={description:"",displayName:"keypad",props:{extraKeys:{defaultValue:{value:"[]"},description:"",name:"extraKeys",required:!1,type:{name:'readonly ("UP" | "DOWN" | "LEFT" | "RIGHT" | "T" | "PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | ... 93 more ... | "LOG_B")[]'}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},showDismiss:{defaultValue:null,description:"",name:"showDismiss",required:!1,type:{name:"boolean"}},expandedView:{defaultValue:null,description:"",name:"expandedView",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}},trigonometry:{defaultValue:null,description:"",name:"trigonometry",required:!1,type:{name:"boolean"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}},fractionsOnly:{defaultValue:null,description:"",name:"fractionsOnly",required:!1,type:{name:"boolean"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/keypad.tsx#keypad"]={docgenInfo:keypad.__docgenInfo,name:"keypad",path:"packages/math-input/src/components/keypad/keypad.tsx#keypad"})}catch(__react_docgen_typescript_loader_error){}var keypad_context=__webpack_require__("./packages/math-input/src/components/keypad-context.tsx"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),fake_react_native_web=__webpack_require__("./packages/math-input/src/fake-react-native-web/index.ts"),TransitionGroup=__webpack_require__("./node_modules/react-transition-group/esm/TransitionGroup.js"),wonder_blocks_timing_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-timing/dist/es/index.js"),browser_es=__webpack_require__("./node_modules/@khanacademy/wonder-stuff-core/dist/browser/es/index.js");function flatten(list){const result=[];if(!list)return result;if(Array.isArray(list))for(const item of list)result.push(...flatten(item));else result.push(list);return result}function processStyleType(style){const stylesheetStyles=[],inlineStyles=[];if(!style)return{style:{},className:""};const shouldInlineStyles="undefined"!=typeof globalThis&&globalThis.SNAPSHOT_INLINE_APHRODITE;flatten(style).forEach((child=>{const _definition=child._definition;if(null!=_definition)if(shouldInlineStyles){const def={};for(const[key,value]of(0,browser_es.qh)(_definition))def[key.replace(/-[a-z]/g,(match=>match[1].toUpperCase()))]=value;inlineStyles.push(def)}else stylesheetStyles.push(child);else inlineStyles.push(child)}));const inlineStylesObject=Object.assign({},...inlineStyles);if(inlineStyles.length>0&&!shouldInlineStyles){const inlineStylesStyleSheet=lib.StyleSheet.create({inlineStyles:inlineStylesObject});stylesheetStyles.push(inlineStylesStyleSheet.inlineStyles)}return{style:shouldInlineStyles?inlineStylesObject:{},className:(0,lib.css)(...stylesheetStyles)}}class TransitionChild extends react.Component{_isMounted=!1;static getDerivedStateFromProps(_ref,prevState){let{in:nextIn}=_ref;return nextIn&&"unmounted"===prevState.status?{status:"mounted"}:null}constructor(props){super(props),this._isMounted=!1,this.classNameQueue=[],this.appliedClassNames=new Set,this.state={status:"mounted"}}componentDidMount(){this._isMounted=!0,"number"==typeof this.props.appearTimeout?this.transition("appear",this.props.appearTimeout):this.transition("enter",this.props.enterTimeout)}componentDidUpdate(oldProps,oldState){oldProps.in&&!this.props.in?this.transition("leave",this.props.leaveTimeout):!oldProps.in&&this.props.in&&this.transition("enter",this.props.enterTimeout),"mounted"!==oldState.status&&"mounted"===this.state.status&&this.setState({status:"unmounted"})}componentWillUnmount(){this._isMounted=!1,this.props.schedule.clearAll()}removeAllClasses(node){for(const className of this.appliedClassNames)this.removeClass(node,className)}addClass=(elem,className)=>{className&&(elem.classList.add(className),this.appliedClassNames.add(className))};removeClass=(elem,className)=>{className&&(elem.classList.remove(className),this.appliedClassNames.delete(className))};transition(animationType,duration){const node=react_dom.findDOMNode(this);if(!(node instanceof Element))return;this.removeAllClasses(node),this.props.schedule.clearAll();const transitionStyles="function"==typeof this.props.transitionStyles?this.props.transitionStyles():this.props.transitionStyles,{className}=processStyleType(transitionStyles[animationType]),{className:activeClassName}=processStyleType([transitionStyles[animationType],transitionStyles[animationType+"Active"]]);this.addClass(node,className),this.queueClass(className,activeClassName),"leave"===animationType&&this.props.schedule.timeout((()=>{this._isMounted&&this.setState({status:"unmounted"})}),duration||0)}queueClass(removeClassName,addClassName){this.classNameQueue.push([removeClassName,addClassName]),this.props.schedule.timeout(this.flushClassNameQueue,0)}flushClassNameQueue=()=>{if(this._isMounted){const node=react_dom.findDOMNode(this);node instanceof Element&&this.classNameQueue.forEach((_ref2=>{let[removeClassName,addClassName]=_ref2;this.removeClass(node,removeClassName),this.addClass(node,addClassName)}))}this.classNameQueue.length=0};render(){const{status}=this.state;return"unmounted"===status?null:this.props.children}}const transition_child=(0,wonder_blocks_timing_dist_es.$K)(TransitionChild);try{transitionchild.displayName="transitionchild",transitionchild.__docgenInfo={description:"",displayName:"transitionchild",props:{transitionStyles:{defaultValue:null,description:"",name:"transitionStyles",required:!0,type:{name:"AnimationStyles | (() => AnimationStyles)"}},appearTimeout:{defaultValue:null,description:"",name:"appearTimeout",required:!1,type:{name:"number"}},enterTimeout:{defaultValue:null,description:"",name:"enterTimeout",required:!1,type:{name:"number"}},leaveTimeout:{defaultValue:null,description:"",name:"leaveTimeout",required:!1,type:{name:"number"}},in:{defaultValue:null,description:"",name:"in",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/aphrodite-css-transition-group/transition-child.tsx#transitionchild"]={docgenInfo:transitionchild.__docgenInfo,name:"transitionchild",path:"packages/math-input/src/components/aphrodite-css-transition-group/transition-child.tsx#transitionchild"})}catch(__react_docgen_typescript_loader_error){}class AphroditeCSSTransitionGroup extends react.Component{render(){const{children}=this.props;return react.createElement(TransitionGroup.Z,{component:null},react.Children.map(children,(child=>react.createElement(transition_child,{transitionStyles:this.props.transitionStyle,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},child))))}}const aphrodite_css_transition_group=AphroditeCSSTransitionGroup;try{AphroditeCSSTransitionGroup.displayName="AphroditeCSSTransitionGroup",AphroditeCSSTransitionGroup.__docgenInfo={description:"",displayName:"AphroditeCSSTransitionGroup",props:{transitionStyle:{defaultValue:null,description:"",name:"transitionStyle",required:!0,type:{name:"AnimationStyles | (() => AnimationStyles)"}},transitionAppearTimeout:{defaultValue:null,description:"",name:"transitionAppearTimeout",required:!1,type:{name:"number"}},transitionEnterTimeout:{defaultValue:null,description:"",name:"transitionEnterTimeout",required:!1,type:{name:"number"}},transitionLeaveTimeout:{defaultValue:null,description:"",name:"transitionLeaveTimeout",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/aphrodite-css-transition-group/index.tsx#AphroditeCSSTransitionGroup"]={docgenInfo:AphroditeCSSTransitionGroup.__docgenInfo,name:"AphroditeCSSTransitionGroup",path:"packages/math-input/src/components/aphrodite-css-transition-group/index.tsx#AphroditeCSSTransitionGroup"})}catch(__react_docgen_typescript_loader_error){}class MobileKeypadInternals extends react.Component{_containerRef=react.createRef();_containerResizeObserver=null;_throttleResize=!1;state={containerWidth:0};componentDidMount(){this._resize(),window.addEventListener("resize",this._throttleResizeHandler),window.addEventListener("orientationchange",this._throttleResizeHandler),"ResizeObserver"in window&&(this._containerResizeObserver=new window.ResizeObserver(this._throttleResizeHandler),this._containerRef.current&&this._containerResizeObserver.observe(this._containerRef.current)),this.props.onElementMounted?.({activate:this.activate,dismiss:this.dismiss,configure:this.configure,setCursor:this.setCursor,setKeyHandler:this.setKeyHandler,getDOMNode:this.getDOMNode})}componentWillUnmount(){window.removeEventListener("resize",this._throttleResizeHandler),window.removeEventListener("orientationchange",this._throttleResizeHandler),this._containerResizeObserver?.disconnect()}_resize=()=>{const containerWidth=this._containerRef.current?.clientWidth||0;this.setState({containerWidth})};_throttleResizeHandler=()=>{this._throttleResize||(this._throttleResize=!0,setTimeout((()=>{this._resize(),this._throttleResize=!1}),100))};activate=()=>{this.props.setKeypadActive(!0)};dismiss=()=>{this.props.setKeypadActive(!1),this.props.onDismiss?.()};configure=(configuration,cb)=>{this.setState({keypadConfig:configuration}),setTimeout((()=>cb&&cb()))};setCursor=cursor=>{this.setState({cursor})};setKeyHandler=keyHandler=>{this.setState({keyHandler})};getDOMNode=()=>react_dom.findDOMNode(this);_handleClickKey(key){if("DISMISS"===key)return void this.dismiss();const cursor=this.state.keyHandler?.(key);this.setState({cursor})}render(){const{keypadActive,style}=this.props,{containerWidth,cursor,keypadConfig}=this.state,containerStyle=[mobile_keypad_internals_styles.keypadContainer,...Array.isArray(style)?style:[style]],isExpression="EXPRESSION"===keypadConfig?.keypadType,convertDotToTimes=keypadConfig?.times;return react.createElement(fake_react_native_web.G,{style:containerStyle,forwardRef:this._containerRef},react.createElement(aphrodite_css_transition_group,{transitionEnterTimeout:200,transitionLeaveTimeout:200,transitionStyle:{enter:{transform:"translate3d(0, 100%, 0)",transition:"200ms ease-out"},enterActive:{transform:"translate3d(0, 0, 0)"},leave:{transform:"translate3d(0, 0, 0)",transition:"200ms ease-out"},leaveActive:{transform:"translate3d(0, 100%, 0)"}}},keypadActive?react.createElement(Keypad,{onAnalyticsEvent:this.props.onAnalyticsEvent,extraKeys:keypadConfig?.extraKeys,onClickKey:key=>this._handleClickKey(key),cursorContext:cursor?.context,fractionsOnly:!isExpression,convertDotToTimes,divisionKey:isExpression,trigonometry:isExpression,preAlgebra:isExpression,logarithms:isExpression,basicRelations:isExpression,advancedRelations:isExpression,expandedView:containerWidth>500,showDismiss:!0}):null))}}const mobile_keypad_internals_styles=lib.StyleSheet.create({keypadContainer:{bottom:0,left:0,right:0,position:"fixed"}}),mobile_keypad_internals=MobileKeypadInternals;try{MobileKeypadInternals.displayName="MobileKeypadInternals",MobileKeypadInternals.__docgenInfo={description:"This is the v2 equivalent of v1's ProvidedKeypad. It follows the same\nexternal API so that it can be hot-swapped with the v1 keypad and\nis responsible for connecting the keypad with MathInput and the Renderer.\n\nIdeally this strategy of attaching methods on the class component for\nother components to call will be replaced props/callbacks since React\ndoesn't support this type of code anymore (functional components\ncan't have methods attached to them).",displayName:"MobileKeypadInternals",props:{onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}},setKeypadActive:{defaultValue:null,description:"",name:"setKeypadActive",required:!0,type:{name:"(keypadActive: boolean) => void"}},keypadActive:{defaultValue:null,description:"",name:"keypadActive",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/mobile-keypad-internals.tsx#MobileKeypadInternals"]={docgenInfo:MobileKeypadInternals.__docgenInfo,name:"MobileKeypadInternals",path:"packages/math-input/src/components/keypad/mobile-keypad-internals.tsx#MobileKeypadInternals"})}catch(__react_docgen_typescript_loader_error){}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function mobile_keypad_MobileKeypad(props){return react.createElement(keypad_context.i.Consumer,null,(_ref=>{let{keypadActive,setKeypadActive}=_ref;return react.createElement(mobile_keypad_internals,_extends({},props,{keypadActive,setKeypadActive}))}))}try{mobile_keypad_MobileKeypad.displayName="MobileKeypad",mobile_keypad_MobileKeypad.__docgenInfo={description:"",displayName:"MobileKeypad",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}},onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/mobile-keypad.tsx#MobileKeypad"]={docgenInfo:mobile_keypad_MobileKeypad.__docgenInfo,name:"MobileKeypad",path:"packages/math-input/src/components/keypad/mobile-keypad.tsx#MobileKeypad"})}catch(__react_docgen_typescript_loader_error){}try{keypad.displayName="keypad",keypad.__docgenInfo={description:"",displayName:"keypad",props:{extraKeys:{defaultValue:{value:"[]"},description:"",name:"extraKeys",required:!1,type:{name:'readonly ("UP" | "DOWN" | "LEFT" | "RIGHT" | "T" | "PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | "LEQ" | ... 93 more ... | "LOG_B")[]'}},cursorContext:{defaultValue:null,description:"",name:"cursorContext",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"IN_PARENS"'},{value:'"IN_SUPER_SCRIPT"'},{value:'"IN_SUB_SCRIPT"'},{value:'"IN_NUMERATOR"'},{value:'"IN_DENOMINATOR"'},{value:'"BEFORE_FRACTION"'}]}},showDismiss:{defaultValue:null,description:"",name:"showDismiss",required:!1,type:{name:"boolean"}},expandedView:{defaultValue:null,description:"",name:"expandedView",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},divisionKey:{defaultValue:null,description:"",name:"divisionKey",required:!1,type:{name:"boolean"}},trigonometry:{defaultValue:null,description:"",name:"trigonometry",required:!1,type:{name:"boolean"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}},fractionsOnly:{defaultValue:null,description:"",name:"fractionsOnly",required:!1,type:{name:"boolean"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/index.tsx#keypad"]={docgenInfo:keypad.__docgenInfo,name:"keypad",path:"packages/math-input/src/components/keypad/index.tsx#keypad"})}catch(__react_docgen_typescript_loader_error){}try{MobileKeypad.displayName="MobileKeypad",MobileKeypad.__docgenInfo={description:"",displayName:"MobileKeypad",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onAnalyticsEvent:{defaultValue:null,description:"",name:"onAnalyticsEvent",required:!0,type:{name:"AnalyticsEventHandlerFn"}},onElementMounted:{defaultValue:null,description:"",name:"onElementMounted",required:!1,type:{name:"((arg1: any) => void)"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/index.tsx#MobileKeypad"]={docgenInfo:MobileKeypad.__docgenInfo,name:"MobileKeypad",path:"packages/math-input/src/components/keypad/index.tsx#MobileKeypad"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/keypad/keypad-button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>KeypadButton});var _khanacademy_wonder_blocks_clickable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-clickable/dist/es/index.js"),_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),_button_assets__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/math-input/src/components/keypad/button-assets.tsx");const KeypadButton=_ref=>{let{coord,keyConfig,onClickKey,style,secondary,action}=_ref;const tintColor=secondary?"#F6F6F7":action?"#DBDCDD":void 0;return react__WEBPACK_IMPORTED_MODULE_4__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_2__.G7,{style:{gridColumn:coord[0]+1,gridRow:coord[1]+1,...style},testId:keyConfig.id},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_khanacademy_wonder_blocks_clickable__WEBPACK_IMPORTED_MODULE_0__.ZP,{onClick:e=>onClickKey(keyConfig.id,e),style:styles.clickable,"aria-label":keyConfig.ariaLabel},(_ref2=>{let{hovered,focused,pressed}=_ref2;return react__WEBPACK_IMPORTED_MODULE_4__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_2__.G7,{style:[styles.outerBoxBase]},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_2__.G7,{style:[styles.base,null!=tintColor?{background:tintColor}:void 0,hovered&&styles.hovered,focused&&styles.focused,pressed&&styles.pressed]},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_button_assets__WEBPACK_IMPORTED_MODULE_5__.Z,{id:keyConfig.id})))})))},styles=aphrodite__WEBPACK_IMPORTED_MODULE_3__.StyleSheet.create({base:{display:"flex",justifyContent:"center",alignItems:"center",boxShadow:`0px 1px 0px ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__.default.offBlack32}`,boxSizing:"border-box",background:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__.default.white,borderRadius:4,borderWidth:2,borderStyle:"solid",borderColor:"transparent",flex:1,minHeight:42,minWidth:42,padding:1},hovered:{borderColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__.default.blue,padding:1,boxShadow:"none"},focused:{borderColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__.default.blue,padding:0,boxShadow:"none"},pressed:{border:"2px solid #1B50B3",padding:0,background:`linear-gradient(0deg, rgba(24, 101, 242, 0.32), rgba(24, 101, 242, 0.32)), ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_1__.default.white}`,boxShadow:"none"},outerBoxBase:{padding:1,height:"100%",width:"100%",boxSizing:"border-box",borderRadius:7,border:"2px solid transparent"},clickable:{width:"100%",height:"100%",boxSizing:"border-box",":focus":{outline:"none"}}});try{KeypadButton.displayName="KeypadButton",KeypadButton.__docgenInfo={description:"",displayName:"KeypadButton",props:{coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"readonly [number, number]"}},keyConfig:{defaultValue:null,description:"",name:"keyConfig",required:!0,type:{name:"KeyConfig"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"boolean"}},secondary:{defaultValue:null,description:"",name:"secondary",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/keypad-button.tsx#KeypadButton"]={docgenInfo:KeypadButton.__docgenInfo,name:"KeypadButton",path:"packages/math-input/src/components/keypad/keypad-button.tsx#KeypadButton"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/keypad/keypad-pages/geometry-page.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>GeometryPage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_data_key_configs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/math-input/src/data/key-configs.ts"),_keypad_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/math-input/src/components/keypad/keypad-button.tsx");function GeometryPage(props){const{onClickKey}=props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.SIN,onClickKey,coord:[0,0]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.COS,onClickKey,coord:[1,0]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.TAN,onClickKey,coord:[2,0]}))}try{geometrypage.displayName="geometrypage",geometrypage.__docgenInfo={description:"",displayName:"geometrypage",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/keypad-pages/geometry-page.tsx#geometrypage"]={docgenInfo:geometrypage.__docgenInfo,name:"geometrypage",path:"packages/math-input/src/components/keypad/keypad-pages/geometry-page.tsx#geometrypage"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/keypad/keypad-pages/numbers-page.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>NumbersPage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_data_key_configs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/math-input/src/data/key-configs.ts"),_keypad_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/math-input/src/components/keypad/keypad-button.tsx");function NumbersPage(props){const{onClickKey}=props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_1,onClickKey,coord:[0,2]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_2,onClickKey,coord:[1,2]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_3,onClickKey,coord:[2,2]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_4,onClickKey,coord:[0,1]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_5,onClickKey,coord:[1,1]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_6,onClickKey,coord:[2,1]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_7,onClickKey,coord:[0,0]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_8,onClickKey,coord:[1,0]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_9,onClickKey,coord:[2,0]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NUM_0,onClickKey,coord:[0,3]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.DECIMAL,onClickKey,coord:[1,3]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE,onClickKey,coord:[2,3]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.PERCENT,onClickKey,coord:[3,0],secondary:!0}))}try{numberspage.displayName="numberspage",numberspage.__docgenInfo={description:"",displayName:"numberspage",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/keypad-pages/numbers-page.tsx#numberspage"]={docgenInfo:numberspage.__docgenInfo,name:"numberspage",path:"packages/math-input/src/components/keypad/keypad-pages/numbers-page.tsx#numberspage"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/keypad/keypad-pages/operators-page.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>OperatorsPage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_data_key_configs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/math-input/src/data/key-configs.ts"),_keypad_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/math-input/src/components/keypad/keypad-button.tsx");function OperatorsPage(props){const{onClickKey,preAlgebra,logarithms,basicRelations,advancedRelations}=props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,preAlgebra&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.EXP_2,onClickKey,coord:[0,0]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.EXP,onClickKey,coord:[1,0]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.SQRT,onClickKey,coord:[2,0]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.RADICAL,onClickKey,coord:[3,0]})),logarithms&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.LOG,onClickKey,coord:[0,1]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.LOG_N,onClickKey,coord:[1,1]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.LN,onClickKey,coord:[2,1]})),basicRelations&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.EQUAL,onClickKey,coord:[0,2]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.LT,onClickKey,coord:[1,2]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.GT,onClickKey,coord:[2,2]})),advancedRelations&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.NEQ,onClickKey,coord:[0,3]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.LEQ,onClickKey,coord:[1,3]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_keypad_button__WEBPACK_IMPORTED_MODULE_2__.$,{keyConfig:_data_key_configs__WEBPACK_IMPORTED_MODULE_1__.Z.GEQ,onClickKey,coord:[2,3]})))}try{operatorspage.displayName="operatorspage",operatorspage.__docgenInfo={description:"",displayName:"operatorspage",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}},preAlgebra:{defaultValue:null,description:"",name:"preAlgebra",required:!1,type:{name:"boolean"}},logarithms:{defaultValue:null,description:"",name:"logarithms",required:!1,type:{name:"boolean"}},basicRelations:{defaultValue:null,description:"",name:"basicRelations",required:!1,type:{name:"boolean"}},advancedRelations:{defaultValue:null,description:"",name:"advancedRelations",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/keypad-pages/operators-page.tsx#operatorspage"]={docgenInfo:operatorspage.__docgenInfo,name:"operatorspage",path:"packages/math-input/src/components/keypad/keypad-pages/operators-page.tsx#operatorspage"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/keypad/navigation-pad.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>NavigationPad});var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js"),key_configs=__webpack_require__("./packages/math-input/src/data/key-configs.ts"),wonder_blocks_clickable_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-clickable/dist/es/index.js"),button_assets=__webpack_require__("./packages/math-input/src/components/keypad/button-assets.tsx");function NavigationButton(_ref){let{coord,keyConfig,onClickKey}=_ref;const directionalStyles=function getStyles(key){switch(key){case"UP":return styles.up;case"RIGHT":return styles.right;case"DOWN":return styles.down;case"LEFT":return styles.left;default:throw new Error(`Invalid key: ${key}`)}}(keyConfig.id);return react.createElement(dist_es.G7,{style:{gridColumn:coord[0]+1,gridRow:coord[1]+1}},react.createElement(wonder_blocks_clickable_dist_es.ZP,{onClick:e=>onClickKey(keyConfig.id,e),style:styles.clickable,"aria-label":keyConfig.ariaLabel},(_ref2=>{let{hovered,focused,pressed}=_ref2;return react.createElement(dist_es.G7,{style:styles.outerBoxBase},react.createElement(dist_es.G7,{style:[styles.base,directionalStyles,hovered&&styles.hovered,focused&&styles.focused,pressed&&styles.pressed]},react.createElement(button_assets.Z,{id:keyConfig.id})))})))}const styles=lib.StyleSheet.create({clickable:{width:"100%",height:"100%",":focus":{outline:"none"}},outerBoxBase:{height:"100%",width:"100%"},base:{boxShadow:`0px 1px 0px ${es.default.offBlack32}`,display:"flex",justifyContent:"center",alignItems:"center",background:es.default.white,borderWidth:2,borderColor:es.default.white},up:{borderTopLeftRadius:4,borderTopRightRadius:4},right:{borderTopRightRadius:4,borderBottomRightRadius:4},down:{borderBottomLeftRadius:4,borderBottomRightRadius:4},left:{borderTopLeftRadius:4,borderBottomLeftRadius:4},hovered:{borderColor:es.default.blue,boxShadow:"none"},focused:{borderColor:es.default.blue,boxShadow:"none"},pressed:{border:"2px solid #1B50B3",background:`linear-gradient(0deg, rgba(24, 101, 242, 0.32), rgba(24, 101, 242, 0.32)), ${es.default.white}`,boxShadow:"none"}});try{navigationbutton.displayName="navigationbutton",navigationbutton.__docgenInfo={description:"",displayName:"navigationbutton",props:{coord:{defaultValue:null,description:"",name:"coord",required:!0,type:{name:"readonly [number, number]"}},keyConfig:{defaultValue:null,description:"",name:"keyConfig",required:!0,type:{name:"KeyConfig"}},onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/navigation-button.tsx#navigationbutton"]={docgenInfo:navigationbutton.__docgenInfo,name:"navigationbutton",path:"packages/math-input/src/components/keypad/navigation-button.tsx#navigationbutton"})}catch(__react_docgen_typescript_loader_error){}function NavigationPad(props){const{onClickKey}=props;return react.createElement(dist_es.G7,{style:navigation_pad_styles.container},react.createElement(dist_es.G7,{style:navigation_pad_styles.grid},react.createElement(NavigationButton,{keyConfig:key_configs.Z.UP,onClickKey,coord:[1,0]}),react.createElement(NavigationButton,{keyConfig:key_configs.Z.RIGHT,onClickKey,coord:[2,1]}),react.createElement(NavigationButton,{keyConfig:key_configs.Z.DOWN,onClickKey,coord:[1,2]}),react.createElement(NavigationButton,{keyConfig:key_configs.Z.LEFT,onClickKey,coord:[0,1]}),react.createElement(dist_es.G7,{style:navigation_pad_styles.spacer})))}const navigation_pad_styles=lib.StyleSheet.create({container:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0 1.5rem"},grid:{width:140,height:140,display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)"},spacer:{gridColumn:2,gridRow:2,background:es.default.white}});try{navigationpad.displayName="navigationpad",navigationpad.__docgenInfo={description:"",displayName:"navigationpad",props:{onClickKey:{defaultValue:null,description:"",name:"onClickKey",required:!0,type:{name:"ClickKeyCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/keypad/navigation-pad.tsx#navigationpad"]={docgenInfo:navigationpad.__docgenInfo,name:"navigationpad",path:"packages/math-input/src/components/keypad/navigation-pad.tsx#navigationpad"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/tabbar/item.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>TabbarItemForTesting,Z:()=>item});var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-clickable/dist/es/index.js"),dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),wonder_blocks_core_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js");const tabbar_icons=function(_ref){let{tintColor,type}=_ref;switch(type){case"Geometry":return react.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.57584 7.09442c.35139-.16458.76626-.11103 1.06434.13737L26.6402 22.2318c.3234.2695.4434.7128.3001 1.1086C26.7969 23.7363 26.421 24 26 24H8c-.55228 0-1-.4477-1-1V8.00001c0-.38802.22446-.74101.57584-.90559zM9 10.1351V17h4c.5523 0 1 .4477 1 1v4h9.238L9 10.1351zM12 22v-3H9v3h3z",fill:tintColor}));case"Operators":return react.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 6h1v1h-1V6zm-2 0c0-1.10457.8954-2 2-2h1c1.1046 0 2 .89543 2 2v1c0 1.10457-.8954 2-2 2h-1c-1.1046 0-2-.89543-2-2V6zm-15.8682.50386C11.3098 6.19229 11.6411 6 12 6h2c.5523 0 1 .44772 1 1s-.4477 1-1 1h-1.4197l-3.71206 6.4961c-.18297.3202-.52733.5137-.89599.5035-.36865-.0102-.70175-.2225-.86668-.5524l-2-4c-.24699-.49396-.04676-1.09464.44722-1.34163.49397-.24699 1.09465-.04676 1.34164.44722L8.0588 11.8815l3.073-5.37764zM7.70676 16.2925c.39072.3904.39103 1.0235.00069 1.4143-.42202.4224-.86362 1.0235-1.19588 1.659C6.17039 20.0184 6 20.601 6 21c0 .3789.17235.9897.51638 1.6649.33677.661.7685 1.2472 1.15148 1.5908.41106.3689.44528 1.0011.07643 1.4122-.36885.411-1.00109.4452-1.41215.0764-.61604-.5528-1.18431-1.3599-1.5978-2.1715C4.32813 22.7755 3.99999 21.8345 4 21c.00001-.8609.3301-1.7783.73917-2.5608.41798-.7995.97637-1.5684 1.55338-2.146.39033-.3907 1.0235-.391 1.41421-.0007zm3.58644 0c.3908-.3903 1.0239-.39 1.4143.0007.577.5776 1.1353 1.3465 1.5533 2.146C14.6699 19.2217 15 20.1391 15 21c0 .8345-.3281 1.7755-.7343 2.5728-.4135.8116-.9818 1.6187-1.5978 2.1715-.4111.3688-1.0433.3346-1.4122-.0764-.3688-.4111-.3346-1.0433.0764-1.4122.383-.3436.8148-.9298 1.1515-1.5908.344-.6752.5164-1.286.5164-1.6649 0-.399-.1704-.9816-.5116-1.6342-.3322-.6355-.7738-1.2366-1.1959-1.659-.3903-.3908-.39-1.0239.0007-1.4143zm16.6431 1.3564c.1939.5171-.0681 1.0935-.5852 1.2874L21.848 21l5.5031 2.0637c.5171.1939.7791.7703.5852 1.2874-.1939.5171-.7703.7791-1.2874.5852l-8-3C18.2586 21.79 18 21.4168 18 21c0-.4168.2586-.79.6489-.9363l8-3c.5171-.1939 1.0935.0681 1.2874.5852zM21 8v5h3V8h-3zm-1-2c-.5523 0-1 .44772-1 1v7c0 .5523.4477 1 1 1h5c.5523 0 1-.4477 1-1V7c0-.55228-.4477-1-1-1h-5z",fill:tintColor}));case"Numbers":return react.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{d:"M10.4123 19.5794v1.421H4.71434v-1.421h2.016v-5.558c0-.1213.00233-.245.007-.371.00466-.126.01166-.2543.021-.385l-1.33 1.106c-.09334.07-.18434.1144-.273.133-.08867.0187-.17267.021-.252.007-.07934-.0186-.14934-.0466-.21-.084-.06067-.042-.10734-.084-.14-.126l-.609-.819 3.122-2.646h1.589v8.743h1.75696zm8.3801-.35c.21 0 .3734.0584.49.175.1214.1167.182.2707.182.462v1.134h-7.042v-.63c0-.1213.0257-.252.077-.392.0514-.1446.1377-.2753.259-.392l3.01-3.017c.2567-.2566.483-.5016.679-.735.196-.238.3594-.469.49-.693.1307-.2286.2287-.4596.294-.693.0654-.2333.098-.4783.098-.735 0-.4526-.1166-.7956-.35-1.029-.2333-.238-.5623-.357-.987-.357-.1866 0-.3593.028-.518.084-.154.0514-.294.1237-.42.217-.1213.0934-.2263.203-.315.329-.0886.126-.154.2637-.196.413-.084.2334-.1983.3897-.343.469-.14.0747-.3406.091-.602.049l-1.022-.182c.0747-.4946.2147-.9286.42-1.302.2054-.3733.462-.6836.77-.931.308-.2473.6604-.4316 1.057-.553.3967-.126.8237-.189 1.281-.189.4807 0 .917.0724 1.309.217.3967.14.735.3384 1.015.595.28.252.497.5577.651.917.154.3594.231.756.231 1.19 0 .3734-.0536.7187-.161 1.036-.1073.3174-.2543.6207-.441.91-.182.2847-.3943.5624-.637.833-.2426.2707-.4993.5437-.77.819l-2.156 2.205c.238-.07.4737-.1236.707-.161.2334-.042.4527-.063.658-.063h2.282zm2.6611-5.523c.0747-.4946.2147-.9286.42-1.302.2054-.3733.462-.6836.77-.931.308-.2473.658-.4316 1.05-.553.3967-.126.8237-.189 1.281-.189.4854 0 .9194.07 1.302.21.3874.1354.714.322.98.56.266.238.469.5157.609.833.1447.3174.217.658.217 1.022 0 .322-.035.6067-.105.854-.0653.2427-.1656.455-.301.637-.1306.182-.294.336-.49.462-.1913.126-.413.231-.665.315 1.1667.3827 1.75 1.1597 1.75 2.331 0 .518-.0956.9754-.287 1.372-.1913.392-.448.721-.77.987s-.6976.4667-1.127.602c-.4246.1307-.8703.196-1.337.196-.4946 0-.931-.056-1.309-.168-.378-.112-.7116-.28-1.001-.504-.2846-.224-.5296-.504-.735-.84-.2053-.3406-.385-.7373-.539-1.19l.854-.35c.224-.0933.4317-.119.623-.077.196.042.336.1447.42.308.0934.1774.1914.3407.294.49.1074.1494.2264.28.357.392.1307.1074.2777.1914.441.252.168.0607.3594.091.574.091.2707 0 .5064-.0443.707-.133.2007-.0886.3687-.203.504-.343.1354-.1446.2357-.3056.301-.483.07-.182.105-.3616.105-.539 0-.2333-.021-.4433-.063-.63-.042-.1913-.14-.3523-.294-.483-.1493-.1353-.3733-.238-.672-.308-.294-.0746-.6953-.112-1.204-.112v-1.358c.4247 0 .7724-.035 1.043-.105.2707-.07.483-.168.637-.294.154-.126.259-.2776.315-.455.0607-.1773.091-.371.091-.581 0-.4433-.1166-.7816-.35-1.015-.2286-.2333-.5553-.35-.98-.35-.1866 0-.3593.028-.518.084-.154.0514-.294.1237-.42.217-.1213.0934-.2263.203-.315.329-.0886.126-.154.2637-.196.413-.0886.2334-.203.3897-.343.469-.14.0747-.343.091-.609.049l-1.015-.182z",fill:tintColor}));case"Extras":return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},react.createElement("g",{clipPath:"url(#a)"},react.createElement("path",{fill:tintColor,fillRule:"evenodd",d:"M6.127 10.454c.224-.032.403-.05.53-.05.591 0 1.137.153 1.63.459.398.239.713.529.94.872l.188-.248.005-.007.006-.006c.619-.703 1.347-1.07 2.178-1.07.691 0 1.269.204 1.71.626.454.403.686.91.686 1.51 0 .533-.156.994-.476 1.37-.312.383-.738.574-1.254.574-.345 0-.643-.101-.878-.317a1.1 1.1 0 0 1-.353-.843c0-.405.11-.76.342-1.051.153-.193.354-.352.596-.479a1.416 1.416 0 0 0-.492-.07c-.195 0-.316.016-.38.035-.53.226-.938.694-1.208 1.445l-.001.003c-.02.05-.085.289-.202.74-.115.443-.275 1.077-.481 1.901-.414 1.641-.633 2.547-.662 2.74l-.002.01a3.423 3.423 0 0 0-.067.673c0 .337.097.581.272.756.176.177.413.272.733.272.6 0 1.15-.247 1.657-.768.518-.549.864-1.146 1.044-1.791l.001-.004a1.2 1.2 0 0 1 .088-.224.368.368 0 0 1 .161-.164.564.564 0 0 1 .198-.056 2.19 2.19 0 0 1 .276-.014c.159 0 .305.016.42.064.059.025.12.063.167.122.05.063.073.137.073.213 0 .023-.004.048-.005.057a12.52 12.52 0 0 1-.046.245l-.004.015c-.281 1.026-.86 1.917-1.73 2.67l-.007.007c-.776.611-1.605.925-2.484.925-1.08 0-1.93-.45-2.53-1.33-.453.605-1.015 1.024-1.685 1.248l-.01.003-.011.002a3.23 3.23 0 0 1-.664.053c-.974 0-1.703-.35-2.13-1.078A2.05 2.05 0 0 1 2 19.437c0-.52.158-.975.478-1.349.326-.38.749-.572 1.252-.572.372 0 .69.091.913.31.224.218.318.531.318.898 0 .327-.078.621-.241.874a1.706 1.706 0 0 1-.707.597l-.018.009c.158.063.331.095.52.095.467 0 .902-.285 1.295-.966l.002-.005c.071-.115.185-.417.341-.938.154-.51.341-1.209.563-2.096v-.002c.095-.364.198-.767.31-1.21.11-.444.188-.78.235-1.014l.002-.013c.058-.216.098-.36.119-.425.077-.42.113-.709.113-.877 0-.342-.092-.588-.254-.762-.159-.171-.384-.267-.704-.267-.652 0-1.217.251-1.704.768l-.002.002A4.215 4.215 0 0 0 3.79 14.28a1.084 1.084 0 0 1-.065.207.41.41 0 0 1-.14.176l-.01.007-.012.006a.35.35 0 0 1-.104.03 1.16 1.16 0 0 1-.095.01 5.04 5.04 0 0 1-.275.006H2.67l-.061-.061c-.109-.11-.204-.247-.204-.41v-.015l.003-.015c.07-.472.335-1.05.768-1.723l.001-.002c.771-1.165 1.754-1.857 2.949-2.042h.002Z",clipRule:"evenodd"}),react.createElement("path",{fill:tintColor,d:"M21.084 10.284c.932-.008 2.301-.013 4.107-.013 1.325 0 2.327.003 3.007.007a75.812 75.812 0 0 1 .99.013c.025 0 .047.002.065.003h.002c.01 0 .04.003.067.01l.01.002.011.004c.201.07.37.183.488.347a.966.966 0 0 1 .169.574c0 .3-.078.568-.248.79-.168.221-.411.377-.708.479h-.002a1.01 1.01 0 0 1-.221.034 8.213 8.213 0 0 1-.35.016c-.29.008-.696.012-1.219.012h-1.39l-.038.223v.001c-.198 1.185-.295 2.156-.295 2.916 0 1.446.251 2.746.75 3.905l.004.007c.059.153.105.284.137.393.03.103.053.205.053.29 0 .359-.16.68-.44.961-.278.296-.63.445-1.041.445-.255 0-.492-.03-.654-.139l-.009-.006-.008-.006c-.126-.101-.236-.274-.338-.477l-.006-.012c-.331-.768-.49-1.722-.49-2.852 0-.595.007-1.002.025-1.212v-.005c.118-1.157.377-2.551.776-4.18v-.002c.024-.096.045-.18.061-.25h-1.948c-.008.038-.02.086-.034.143l-.002.007a35.14 35.14 0 0 0-.146.537c-.05.232-.1.448-.15.648v.001a230.673 230.673 0 0 1-1.312 4.936 41.285 41.285 0 0 1-.411 1.384c-.104.322-.19.557-.256.681-.115.262-.28.473-.5.617-.225.146-.49.212-.783.212-.449 0-.807-.173-1.006-.549l-.006-.011-.005-.012a1.37 1.37 0 0 1-.067-.486v-.326l.346-.745c1.24-2.61 2.136-4.858 2.695-6.747l.002-.008.094-.281h-.463c-.662 0-1.105.025-1.346.07-.198.04-.47.173-.824.43l-.007.005-.007.005c-.366.228-.69.542-.97.947-.044.069-.085.13-.125.18a.651.651 0 0 1-.141.136l-.027.017-.03.01a.8.8 0 0 1-.19.03c-.07.005-.156.008-.258.008-.17 0-.335-.021-.465-.09a.437.437 0 0 1-.216-.546c.014-.042.034-.086.057-.132.047-.093.113-.208.198-.343l.003-.005c1.147-1.745 2.311-2.774 3.508-2.96a2.345 2.345 0 0 1 .158-.015 60.295 60.295 0 0 1 1.369-.026Z"})),react.createElement("defs",null,react.createElement("clipPath",{id:"a"},react.createElement("path",{fill:"#fff",d:"M0 0h28v11.457H0z",transform:"translate(2 10.271)"}))));case"Dismiss":return react.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.7071 15.2929C28.3166 14.9024 27.6834 14.9024 27.2929 15.2929L22 20.5858L16.7071 15.2929C16.3166 14.9024 15.6834 14.9024 15.2929 15.2929C14.9024 15.6834 14.9024 16.3166 15.2929 16.7071L20.5858 22L15.2929 27.2929C14.9024 27.6834 14.9024 28.3166 15.2929 28.7071C15.6834 29.0976 16.3166 29.0976 16.7071 28.7071L22 23.4142L27.2929 28.7071C27.6834 29.0976 28.3166 29.0976 28.7071 28.7071C29.0976 28.3166 29.0976 27.6834 28.7071 27.2929L23.4142 22L28.7071 16.7071C29.0976 16.3166 29.0976 15.6834 28.7071 15.2929Z",fill:tintColor}));default:throw new Error("Invalid icon type")}};try{icons.displayName="icons",icons.__docgenInfo={description:"",displayName:"icons",props:{tintColor:{defaultValue:null,description:"",name:"tintColor",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"Geometry"'},{value:'"Operators"'},{value:'"Numbers"'},{value:'"Fractions"'},{value:'"Extras"'},{value:'"Dismiss"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/tabbar/icons.tsx#icons"]={docgenInfo:icons.__docgenInfo,name:"icons",path:"packages/math-input/src/components/tabbar/icons.tsx#icons"})}catch(__react_docgen_typescript_loader_error){}const styles=lib.StyleSheet.create({base:{display:"flex",width:44,height:38,boxSizing:"border-box",borderRadius:3,border:"1px solid transparent",marginRight:1,marginLeft:1},hovered:{background:`linear-gradient(0deg, rgba(24, 101, 242, 0.32), rgba(24, 101, 242, 0.32)), ${dist_es.default.white}`,border:"1px solid #1865F2"},pressed:{background:"#1B50B3"},focused:{outline:"none",border:`2px solid ${dist_es.default.blue}`},innerBox:{boxSizing:"border-box",border:"1px solid transparent",borderRadius:2,display:"flex",flex:1,justifyContent:"center",alignItems:"center"},innerBoxPressed:{border:`1px solid ${dist_es.default.white}`},activeIndicator:{position:"absolute",boxSizing:"border-box",bottom:3,width:36,height:3,marginLeft:3},clickable:{":focus":{outline:"none"}}});class TabbarItem extends react.Component{render(){const{onClick,itemType,itemState}=this.props;return react.createElement(es.ZP,{onClick,disabled:"disabled"===itemState,"aria-label":itemType,style:styles.clickable,"aria-selected":"active"===itemState,role:"tab"},(_ref=>{let{hovered,focused,pressed}=_ref;const tintColor=function imageTintColor(itemState,hovered,focused,pressed){return"disabled"===itemState?dist_es.default.offBlack64:pressed?dist_es.default.white:"active"===itemState||hovered?dist_es.default.blue:dist_es.default.offBlack64}(itemState,hovered,0,pressed);return react.createElement(wonder_blocks_core_dist_es.G7,{style:[styles.base,"disabled"!==itemState&&hovered&&styles.hovered,focused&&styles.focused,pressed&&styles.pressed]},react.createElement(wonder_blocks_core_dist_es.G7,{style:[styles.innerBox,pressed&&styles.innerBoxPressed]},react.createElement(tabbar_icons,{type:itemType,tintColor})),"active"===itemState&&react.createElement(wonder_blocks_core_dist_es.G7,{style:[styles.activeIndicator,{backgroundColor:tintColor}]}))}))}}const TabbarItemForTesting=TabbarItem,item=TabbarItem;try{TabbarItemForTesting.displayName="TabbarItemForTesting",TabbarItemForTesting.__docgenInfo={description:"",displayName:"TabbarItemForTesting",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},itemState:{defaultValue:null,description:"",name:"itemState",required:!0,type:{name:"enum",value:[{value:'"disabled"'},{value:'"active"'},{value:'"inactive"'}]}},itemType:{defaultValue:null,description:"",name:"itemType",required:!0,type:{name:"enum",value:[{value:'"Geometry"'},{value:'"Operators"'},{value:'"Numbers"'},{value:'"Fractions"'},{value:'"Extras"'},{value:'"Dismiss"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/tabbar/item.tsx#TabbarItemForTesting"]={docgenInfo:TabbarItemForTesting.__docgenInfo,name:"TabbarItemForTesting",path:"packages/math-input/src/components/tabbar/item.tsx#TabbarItemForTesting"})}catch(__react_docgen_typescript_loader_error){}try{TabbarItem.displayName="TabbarItem",TabbarItem.__docgenInfo={description:"",displayName:"TabbarItem",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},itemState:{defaultValue:null,description:"",name:"itemState",required:!0,type:{name:"enum",value:[{value:'"disabled"'},{value:'"active"'},{value:'"inactive"'}]}},itemType:{defaultValue:null,description:"",name:"itemType",required:!0,type:{name:"enum",value:[{value:'"Geometry"'},{value:'"Operators"'},{value:'"Numbers"'},{value:'"Fractions"'},{value:'"Extras"'},{value:'"Dismiss"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/tabbar/item.tsx#TabbarItem"]={docgenInfo:TabbarItem.__docgenInfo,name:"TabbarItem",path:"packages/math-input/src/components/tabbar/item.tsx#TabbarItem"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/components/tabbar/tabbar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_item__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/math-input/src/components/tabbar/item.tsx");const styles=aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({tabbar:{display:"flex",flexDirection:"row",justifyContent:"space-between",paddingTop:2,paddingBottom:2},pages:{display:"flex",flexDirection:"row"}});function Tabbar(props){const{items,onClickClose,selectedItem,onSelectItem,style}=props;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__.G7,{style:[styles.tabbar,style],role:"tablist"},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__.G7,{style:[styles.pages]},items.map((item=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(_item__WEBPACK_IMPORTED_MODULE_3__.Z,{key:`tabbar-item-${item}`,itemState:item===selectedItem?"active":"inactive",itemType:item,onClick:()=>{onSelectItem(item)}})))),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__.G7,null,onClickClose&&react__WEBPACK_IMPORTED_MODULE_2__.createElement(_item__WEBPACK_IMPORTED_MODULE_3__.Z,{itemState:"inactive",itemType:"Dismiss",onClick:onClickClose})))}const __WEBPACK_DEFAULT_EXPORT__=Tabbar;try{Tabbar.displayName="Tabbar",Tabbar.__docgenInfo={description:"",displayName:"Tabbar",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"readonly KeypadPageType[]"}},selectedItem:{defaultValue:null,description:"",name:"selectedItem",required:!0,type:{name:"enum",value:[{value:'"Geometry"'},{value:'"Operators"'},{value:'"Numbers"'},{value:'"Fractions"'},{value:'"Extras"'},{value:'"Dismiss"'}]}},onClickClose:{defaultValue:null,description:"",name:"onClickClose",required:!1,type:{name:"(() => void)"}},onSelectItem:{defaultValue:null,description:"",name:"onSelectItem",required:!0,type:{name:"(item: KeypadPageType) => void"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/tabbar/tabbar.tsx#Tabbar"]={docgenInfo:Tabbar.__docgenInfo,name:"Tabbar",path:"packages/math-input/src/components/tabbar/tabbar.tsx#Tabbar"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/data/key-configs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js");const getDefaultOperatorFields=_ref=>{let{key,keyType="OPERATOR",ariaLabel=key,data=key}=_ref;return{id:key,type:keyType,ariaLabel,icon:{data}}},getDefaultValueFields=_ref2=>{let{key,keyType="VALUE",ariaLabel=key,data=key}=_ref2;return{id:key,type:keyType,ariaLabel,icon:{data}}},getDefaultNumberFields=_ref3=>{let{key,data=key.replace("NUM_",""),keyType="VALUE",ariaLabel=data}=_ref3;return{id:key,type:keyType,ariaLabel,icon:{data}}},__WEBPACK_DEFAULT_EXPORT__={PLUS:{...getDefaultOperatorFields({key:"PLUS",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Plus")})},MINUS:{...getDefaultOperatorFields({key:"MINUS",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Minus")})},NEGATIVE:{...getDefaultOperatorFields({key:"NEGATIVE",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Negative")})},TIMES:{...getDefaultOperatorFields({key:"TIMES",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Multiply")})},DIVIDE:{...getDefaultOperatorFields({key:"DIVIDE",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Divide")})},DECIMAL:{...getDefaultOperatorFields({key:"DECIMAL",keyType:"VALUE",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Decimal")})},PERIOD:{...getDefaultOperatorFields({key:"PERIOD",keyType:"VALUE",ariaLabel:"."})},PERCENT:{...getDefaultOperatorFields({key:"PERCENT",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Percent")})},CDOT:{...getDefaultOperatorFields({key:"CDOT",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Multiply")})},EQUAL:{...getDefaultOperatorFields({key:"EQUAL",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Equals sign")})},NEQ:{...getDefaultOperatorFields({key:"NEQ",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Not-equals sign")})},GT:{...getDefaultOperatorFields({key:"GT",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Greater than sign")})},LT:{...getDefaultOperatorFields({key:"LT",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Less than sign")})},GEQ:{...getDefaultOperatorFields({key:"GEQ",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Greater than or equal to sign")})},LEQ:{...getDefaultOperatorFields({key:"LEQ",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Less than or equal to sign")})},FRAC_INCLUSIVE:{...getDefaultOperatorFields({key:"FRAC_INCLUSIVE",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Fraction, with current expression in numerator")})},FRAC_EXCLUSIVE:{...getDefaultOperatorFields({key:"FRAC_EXCLUSIVE",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Fraction, excluding the current expression")})},FRAC:{...getDefaultOperatorFields({key:"FRAC",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Fraction, excluding the current expression")})},EXP:{...getDefaultOperatorFields({key:"EXP",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Custom exponent")})},EXP_2:{...getDefaultOperatorFields({key:"EXP_2",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Square")})},EXP_3:{...getDefaultOperatorFields({key:"EXP_3",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Cube")})},SQRT:{...getDefaultOperatorFields({key:"SQRT",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Square root")})},CUBE_ROOT:{...getDefaultOperatorFields({key:"CUBE_ROOT",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Cube root")})},RADICAL:{...getDefaultOperatorFields({key:"RADICAL",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Radical with custom root")})},LEFT_PAREN:{...getDefaultOperatorFields({key:"LEFT_PAREN",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Left parenthesis")})},RIGHT_PAREN:{...getDefaultOperatorFields({key:"RIGHT_PAREN",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Right parenthesis")})},LN:{...getDefaultOperatorFields({key:"LN",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Natural logarithm")})},LOG:{...getDefaultOperatorFields({key:"LOG",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Logarithm with base 10")})},LOG_N:{...getDefaultOperatorFields({key:"LOG_N",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Logarithm with custom base")})},SIN:{...getDefaultOperatorFields({key:"SIN",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Sine")})},COS:{...getDefaultOperatorFields({key:"COS",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Cosine")})},TAN:{...getDefaultOperatorFields({key:"TAN",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Tangent")})},PI:{...getDefaultValueFields({key:"PI",data:"\\pi",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Pi")})},THETA:{...getDefaultValueFields({key:"THETA",data:"\\theta",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Theta")})},NOOP:{...getDefaultOperatorFields({key:"NOOP",keyType:"EMPTY"})},UP:{...getDefaultOperatorFields({key:"UP",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Up arrow")})},RIGHT:{...getDefaultOperatorFields({key:"RIGHT",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Right arrow")})},DOWN:{...getDefaultOperatorFields({key:"DOWN",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Down arrow")})},LEFT:{...getDefaultOperatorFields({key:"LEFT",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Left arrow")})},JUMP_OUT_PARENTHESES:{...getDefaultOperatorFields({key:"JUMP_OUT_PARENTHESES",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Navigate right out of a set of parentheses")})},JUMP_OUT_EXPONENT:{...getDefaultOperatorFields({key:"JUMP_OUT_EXPONENT",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Navigate right out of an exponent")})},JUMP_OUT_BASE:{...getDefaultOperatorFields({key:"JUMP_OUT_BASE",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Navigate right out of a base")})},JUMP_INTO_NUMERATOR:{...getDefaultOperatorFields({key:"JUMP_INTO_NUMERATOR",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Navigate right into the numerator of a fraction")})},JUMP_OUT_NUMERATOR:{...getDefaultOperatorFields({key:"JUMP_OUT_NUMERATOR",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Navigate right out of the numerator and into the denominator")})},JUMP_OUT_DENOMINATOR:{...getDefaultOperatorFields({key:"JUMP_OUT_DENOMINATOR",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Navigate right out of the denominator of a fraction")})},BACKSPACE:{...getDefaultOperatorFields({key:"BACKSPACE",keyType:"INPUT_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Delete")})},DISMISS:{...getDefaultOperatorFields({key:"DISMISS",keyType:"KEYPAD_NAVIGATION",ariaLabel:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Dismiss")})},MANY:{...getDefaultOperatorFields({key:"MANY",keyType:"MANY"})},NUM_0:{...getDefaultNumberFields({key:"NUM_0"})},NUM_1:{...getDefaultNumberFields({key:"NUM_1"})},NUM_2:{...getDefaultNumberFields({key:"NUM_2"})},NUM_3:{...getDefaultNumberFields({key:"NUM_3"})},NUM_4:{...getDefaultNumberFields({key:"NUM_4"})},NUM_5:{...getDefaultNumberFields({key:"NUM_5"})},NUM_6:{...getDefaultNumberFields({key:"NUM_6"})},NUM_7:{...getDefaultNumberFields({key:"NUM_7"})},NUM_8:{...getDefaultNumberFields({key:"NUM_8"})},NUM_9:{...getDefaultNumberFields({key:"NUM_9"})},A:{...getDefaultValueFields({key:"A"})},B:{...getDefaultValueFields({key:"B"})},C:{...getDefaultValueFields({key:"C"})},D:{...getDefaultValueFields({key:"D"})},E:{...getDefaultValueFields({key:"E"})},F:{...getDefaultValueFields({key:"F"})},G:{...getDefaultValueFields({key:"G"})},H:{...getDefaultValueFields({key:"H"})},I:{...getDefaultValueFields({key:"I"})},J:{...getDefaultValueFields({key:"J"})},K:{...getDefaultValueFields({key:"K"})},L:{...getDefaultValueFields({key:"L"})},M:{...getDefaultValueFields({key:"M"})},N:{...getDefaultValueFields({key:"N"})},O:{...getDefaultValueFields({key:"O"})},P:{...getDefaultValueFields({key:"P"})},Q:{...getDefaultValueFields({key:"Q"})},R:{...getDefaultValueFields({key:"R"})},S:{...getDefaultValueFields({key:"S"})},T:{...getDefaultValueFields({key:"T"})},U:{...getDefaultValueFields({key:"U"})},V:{...getDefaultValueFields({key:"V"})},W:{...getDefaultValueFields({key:"W"})},X:{...getDefaultValueFields({key:"X"})},Y:{...getDefaultValueFields({key:"Y"})},Z:{...getDefaultValueFields({key:"Z"})},a:{...getDefaultValueFields({key:"a"})},b:{...getDefaultValueFields({key:"b"})},c:{...getDefaultValueFields({key:"c"})},d:{...getDefaultValueFields({key:"d"})},e:{...getDefaultValueFields({key:"e"})},f:{...getDefaultValueFields({key:"f"})},g:{...getDefaultValueFields({key:"g"})},h:{...getDefaultValueFields({key:"h"})},i:{...getDefaultValueFields({key:"i"})},j:{...getDefaultValueFields({key:"j"})},k:{...getDefaultValueFields({key:"k"})},l:{...getDefaultValueFields({key:"l"})},m:{...getDefaultValueFields({key:"m"})},n:{...getDefaultValueFields({key:"n"})},o:{...getDefaultValueFields({key:"o"})},p:{...getDefaultValueFields({key:"p"})},q:{...getDefaultValueFields({key:"q"})},r:{...getDefaultValueFields({key:"r"})},s:{...getDefaultValueFields({key:"s"})},t:{...getDefaultValueFields({key:"t"})},u:{...getDefaultValueFields({key:"u"})},v:{...getDefaultValueFields({key:"v"})},w:{...getDefaultValueFields({key:"w"})},x:{...getDefaultValueFields({key:"x"})},y:{...getDefaultValueFields({key:"y"})},z:{...getDefaultValueFields({key:"z"})},PHI:{...getDefaultValueFields({key:"PHI"})},NTHROOT3:{...getDefaultValueFields({key:"NTHROOT3"})},POW:{...getDefaultValueFields({key:"POW"})},LOG_B:{...getDefaultValueFields({key:"LOG_B"})}}},"./packages/math-input/src/fake-react-native-web/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>view});var lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js");class Text extends react.Component{render(){const{numberOfLines,style}=this.props,className=(0,lib.css)(styles.initial,...Array.isArray(style)?style:[style],1===numberOfLines&&styles.singleLineStyle);return react.createElement("span",{className,style:this.props.dynamicStyle},this.props.children)}}const styles=lib.StyleSheet.create({initial:{color:"inherit",display:"inline",font:"inherit",margin:0,padding:0,textDecorationLine:"none",wordWrap:"break-word"},singleLineStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});try{Text.displayName="Text",Text.__docgenInfo={description:"",displayName:"Text",props:{dynamicStyle:{defaultValue:null,description:"",name:"dynamicStyle",required:!1,type:{name:"any"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/fake-react-native-web/text.tsx#Text"]={docgenInfo:Text.__docgenInfo,name:"Text",path:"packages/math-input/src/fake-react-native-web/text.tsx#Text"})}catch(__react_docgen_typescript_loader_error){}class View extends react.Component{static styles=lib.StyleSheet.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",margin:0,padding:0,position:"relative",backgroundColor:"transparent",color:"inherit",font:"inherit",textAlign:"inherit",textDecorationLine:"none",listStyle:"none",maxWidth:"100%",minHeight:0,minWidth:0}});render(){const className=(0,lib.css)(View.styles.initial,...Array.isArray(this.props.style)?this.props.style:[this.props.style])+(this.props.extraClassName?` ${this.props.extraClassName}`:"");return react.createElement("div",{className,style:this.props.dynamicStyle,onClick:this.props.onClick,onTouchCancel:this.props.onTouchCancel,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,"aria-label":this.props.ariaLabel,role:this.props.role,ref:this.props.forwardRef},this.props.children)}}const view=View;try{View.displayName="View",View.__docgenInfo={description:"",displayName:"View",props:{ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},dynamicStyle:{defaultValue:null,description:"",name:"dynamicStyle",required:!1,type:{name:"any"}},extraClassName:{defaultValue:null,description:"",name:"extraClassName",required:!1,type:{name:"string"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((arg1: SyntheticEvent<HTMLDivElement, Event>) => void)"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"((arg1: TouchEvent<HTMLDivElement>) => void)"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/fake-react-native-web/view.tsx#View"]={docgenInfo:View.__docgenInfo,name:"View",path:"packages/math-input/src/fake-react-native-web/view.tsx#View"})}catch(__react_docgen_typescript_loader_error){}},"./packages/math-input/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zp:()=>cursor_contexts.z,Hw:()=>keypad.Z,xR:()=>KeyArray,i_:()=>keypad_context.i,VF:()=>math_input,H5:()=>KeypadType,IA:()=>keypad.I,h1:()=>keypad_context.h,JU:()=>utils.JU,OS:()=>mathquill_instance.O,_w:()=>mathquill_helpers._w,kE:()=>key_translator.Z,si:()=>keypadElementPropType,r_:()=>mathquill_instance.r});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),main=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[12].use[1]!./node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[12].use[2]!./packages/math-input/less/main.less"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(main.Z,options);main.Z&&main.Z.locals&&main.Z.locals;(0,__webpack_require__("./packages/perseus-core/src/index.ts").C)("@khanacademy/math-input","__lib_version__");var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),browser_es=__webpack_require__("./node_modules/@khanacademy/wonder-stuff-core/dist/browser/es/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),fake_react_native_web=__webpack_require__("./packages/math-input/src/fake-react-native-web/index.ts"),keypad_context=__webpack_require__("./packages/math-input/src/components/keypad-context.tsx");class CursorHandle extends react.Component{static defaultProps={animateIntoPosition:!1,visible:!1,x:0,y:0};render(){const{x,y,animateIntoPosition}=this.props,outerStyle={position:"absolute",zIndex:4,left:-22,top:0,transform:`translate(${x}px, ${y}px)`,width:44,height:44,touchAction:"none",...animateIntoPosition?{transitionDuration:"100ms",transitionProperty:"transform"}:{}};return react.createElement("span",{style:outerStyle,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel},react.createElement("svg",{fill:"none",width:44,height:45.98,viewBox:"0 0 44 45.98"},react.createElement("filter",{id:"math-input_cursor",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:45.98*.87,width:36.08,x:"4",y:"0"},react.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),react.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),react.createElement("feOffset",{dy:"4"}),react.createElement("feGaussianBlur",{stdDeviation:"4"}),react.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.129412 0 0 0 0 0.141176 0 0 0 0 0.172549 0 0 0 0.08 0"}),react.createElement("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),react.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})),react.createElement("g",{filter:"url(#math-input_cursor)"},react.createElement("path",{d:"m22 4-7.07 7.0284c-1.3988 1.3901-2.3515 3.1615-2.7376 5.09-.3861 1.9284-.1883 3.9274.5685 5.7441s2.0385 3.3694 3.6831 4.4619c1.6445 1.0925 3.5781 1.6756 5.556 1.6756s3.9115-.5831 5.556-1.6756c1.6446-1.0925 2.9263-2.6452 3.6831-4.4619s.9546-3.8157.5685-5.7441c-.3861-1.9285-1.3388-3.6999-2.7376-5.09z",fill:"#1865f2"})),react.createElement("path",{d:"m14.9301 10.4841 7.0699-7.06989 7.0699 7.06989.0001.0001c1.3988 1.3984 2.3515 3.1802 2.7376 5.1201s.1883 3.9507-.5685 5.7782c-.7568 1.8274-2.0385 3.3894-3.6831 4.4883-1.6445 1.099-3.5781 1.6855-5.556 1.6855s-3.9115-.5865-5.556-1.6855c-1.6446-1.0989-2.9263-2.6609-3.6831-4.4883-.7568-1.8275-.9546-3.8383-.5685-5.7782s1.3388-3.7217 2.7376-5.1201z",stroke:"#fff",strokeWidth:"2"})))}}const cursor_handle=CursorHandle;try{CursorHandle.displayName="CursorHandle",CursorHandle.__docgenInfo={description:"",displayName:"CursorHandle",props:{animateIntoPosition:{defaultValue:{value:"false"},description:"",name:"animateIntoPosition",required:!1,type:{name:"boolean"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!0,type:{name:"(arg1: TouchEvent<HTMLSpanElement>) => void"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!0,type:{name:"(arg1: TouchEvent<HTMLSpanElement>) => void"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!0,type:{name:"(arg1: TouchEvent<HTMLSpanElement>) => void"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!0,type:{name:"(arg1: TouchEvent<HTMLSpanElement>) => void"}},visible:{defaultValue:{value:"false"},description:"",name:"visible",required:!1,type:{name:"boolean"}},x:{defaultValue:{value:"0"},description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:{value:"0"},description:"",name:"y",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/input/cursor-handle.tsx#CursorHandle"]={docgenInfo:CursorHandle.__docgenInfo,name:"CursorHandle",path:"packages/math-input/src/components/input/cursor-handle.tsx#CursorHandle"})}catch(__react_docgen_typescript_loader_error){}const drag_listener=class DragListener{constructor(onDrag,initialEvent){this._scrollListener=()=>{onDrag()};const touchLocationsById={};for(let i=0;i<initialEvent.changedTouches.length;i++){const touch=initialEvent.changedTouches[i];touchLocationsById[touch.identifier]=[touch.clientX,touch.clientY]}this._moveListener=evt=>{for(let i=0;i<evt.changedTouches.length;i++){const touch=evt.changedTouches[i],initialTouchLocation=touchLocationsById[touch.identifier];if(initialTouchLocation){const touchLocation=[touch.clientX,touch.clientY],dx=touchLocation[0]-initialTouchLocation[0],dy=touchLocation[1]-initialTouchLocation[1];dx*dx+dy*dy>64&&onDrag()}}},this._endAndCancelListener=evt=>{for(let i=0;i<evt.changedTouches.length;i++)delete touchLocationsById[evt.changedTouches[i].identifier]}}attach(){window.addEventListener("scroll",this._scrollListener),window.addEventListener("touchmove",this._moveListener),window.addEventListener("touchend",this._endAndCancelListener),window.addEventListener("touchcancel",this._endAndCancelListener)}detach(){window.removeEventListener("scroll",this._scrollListener),window.removeEventListener("touchmove",this._moveListener),window.removeEventListener("touchend",this._endAndCancelListener),window.removeEventListener("touchcancel",this._endAndCancelListener)}};var mathquill_helpers=__webpack_require__("./packages/math-input/src/components/input/mathquill-helpers.ts"),mathquill_instance=__webpack_require__("./packages/math-input/src/components/input/mathquill-instance.ts"),mathquill_types=__webpack_require__("./packages/math-input/src/components/input/mathquill-types.ts");const handle_backspace=function handleBackspace(mathField){const cursor=mathField.cursor();if(cursor.selection)mathField.keystroke("Backspace");else{const parent=cursor.parent,grandparent=parent.parent,leftNode=cursor[mathquill_instance.r.L];(0,mathquill_helpers.yQ)(leftNode)||(0,mathquill_helpers.hX)(leftNode)||(0,mathquill_helpers.Ew)(leftNode)?(0,mathquill_helpers.UG)(leftNode,cursor):(0,mathquill_helpers.Fo)(parent)?function handleBackspaceInRootIndex(mathField,cursor){if((0,mathquill_helpers.a8)(cursor)){const grandparent=cursor.parent.parent,latex=grandparent.latex(),reinsertionPoint=grandparent[mathquill_instance.r.L];(0,mathquill_helpers.UG)(grandparent,cursor),""===grandparent.blocks[1]._el.textContent?mathField.keystroke("Backspace"):(mathField.keystroke("Backspace"),mathField.write(latex.replace(/^\\sqrt\[\]/,"\\sqrt")),reinsertionPoint===mathquill_types.u.MQ_END?mathField.moveToLeftEnd():cursor.insRightOf(reinsertionPoint))}else cursor[mathquill_instance.r.L]!==mathquill_types.u.MQ_END&&mathField.keystroke("Backspace")}(mathField,cursor):"\\left("===leftNode.ctrlSeq?function handleBackspaceOutsideParens(cursor){const leftNode=cursor[mathquill_instance.r.L],rightNode=cursor[mathquill_instance.r.R],command=(0,mathquill_helpers.yF)(leftNode);command&&command.startNode?(cursor.insLeftOf(command.startNode),cursor.startSelection(),rightNode===mathquill_types.u.MQ_END?cursor.insAtRightEnd(cursor.parent):cursor.insLeftOf(rightNode),cursor.select(),cursor.endSelection()):(cursor.startSelection(),cursor.insLeftOf(leftNode),cursor.select(),cursor.endSelection())}(cursor):"\\left("===grandparent.ctrlSeq?function handleBackspaceInsideParens(mathField,cursor){if(cursor[mathquill_instance.r.L]!==mathquill_types.u.MQ_END)return void mathField.keystroke("Backspace");const grandparent=cursor.parent.parent;if(grandparent[mathquill_instance.r.L].sub&&grandparent[mathquill_instance.r.L].sub._el.textContent)return void cursor.insAtRightEnd(grandparent[mathquill_instance.r.L].sub);const isEmpty=(0,mathquill_helpers.a8)(cursor),command=(0,mathquill_helpers.yF)(grandparent);cursor.insLeftOf(command&&command.startNode||grandparent),cursor.startSelection(),cursor.insRightOf(grandparent),cursor.select(),cursor.endSelection(),isEmpty&&mathField.keystroke("Backspace")}(mathField,cursor):(0,mathquill_helpers.S2)(cursor)?function handleBackspaceInLogIndex(mathField,cursor){if((0,mathquill_helpers.a8)(cursor)){const grandparent=cursor.parent.parent,command=(0,mathquill_helpers.yF)(grandparent);cursor.insLeftOf(command?.startNode),cursor.startSelection(),grandparent[mathquill_instance.r.R]!==mathquill_types.u.MQ_END?cursor.insRightOf(grandparent[mathquill_instance.r.R]):cursor.insRightOf(grandparent),cursor.select(),cursor.endSelection(),""===grandparent[mathquill_instance.r.R]._el.textContent&&mathField.keystroke("Backspace")}else mathField.keystroke("Backspace")}(mathField,cursor):"\\ge "===leftNode.ctrlSeq||"\\le "===leftNode.ctrlSeq?function handleBackspaceAfterLigaturedSymbol(mathField){mathField.keystroke("Backspace"),mathField.keystroke("Backspace")}(mathField):(0,mathquill_helpers.Ew)(grandparent)&&leftNode===mathquill_types.u.MQ_END?function handleBackspaceInNthRoot(mathField,cursor){const isAtLeftEnd=cursor[mathquill_instance.r.L]===mathquill_types.u.MQ_END,isRootEmpty=(0,mathquill_helpers.a8)(cursor.parent.parent.blocks[0].ends);isAtLeftEnd?((0,mathquill_helpers.UG)(cursor.parent.parent,cursor),isRootEmpty&&mathField.keystroke("Backspace")):mathField.keystroke("Backspace")}(mathField,cursor):mathField.keystroke("Backspace")}};var key_translator=__webpack_require__("./packages/math-input/src/components/key-handlers/key-translator.ts");const mobileKeyTranslator={...key_translator.Z,BACKSPACE:handle_backspace};const math_wrapper=class MathWrapper{constructor(element){let callbacks=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.mathField=(0,mathquill_instance.O)(element,(()=>({substituteTextarea:function(){return document.createElement("span")}}))),this.callbacks=callbacks}focus(){this.mathField.cursor().show(),this.mathField.focus()}blur(){this.mathField.cursor().hide(),this.mathField.blur()}pressKey(key){const cursor=this.getCursor(),translator=mobileKeyTranslator[key];return translator&&translator(this.mathField,key),cursor.selection||cursor.show(),this.callbacks.onSelectionChanged&&this.callbacks.onSelectionChanged(cursor.selection),{context:this.contextForCursor()}}setCursorPosition(x,y,hitNode){const el=hitNode||document.elementFromPoint(x,y);if(el){const cursor=this.getCursor();if(el.hasAttribute("mq-root-block"))cursor.insAtRightEnd(this.mathField.controller().root);else{const controller=this.mathField.controller(),pageX=x-document.body.scrollLeft,pageY=y-document.body.scrollTop;controller.seek(el,pageX,pageY).cursor.startSelection();const command=(0,mathquill_helpers.fL)(cursor[mathquill_instance.r.L]);command&&command.endNode&&(cursor.insLeftOf(command.endNode),this.mathField.keystroke("Right"))}this.callbacks.onCursorMove&&this.callbacks.onCursorMove({context:this.contextForCursor()})}}getCursor(){return this.mathField.cursor()}contextForCursor(){return(0,mathquill_helpers._w)(this.mathField)}getSelection(){return this.getCursor().selection}getContent(){return this.mathField.latex()}setContent(latex){this.mathField.latex(latex)}isEmpty(){const cursor=this.getCursor();return 1===cursor.parent.id&&0===cursor[1]&&0===cursor[-1]}};function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}class MathInput extends react.Component{static defaultProps={style:{},value:""};state={focused:!1,handle:{animateIntoPosition:!1,visible:!1,x:0,y:0}};componentDidMount(){this._isMounted=!0,this.mathField=new math_wrapper(this._mathContainer,{onCursorMove:cursor=>{this.props.keypadElement&&this.props.keypadElement.setCursor(cursor)}}),this.mathField.setContent(this.props.value),this._updateInputPadding(),this._container=react_dom.findDOMNode(this),this._root=this._container.querySelector(".mq-root-block"),this._root.addEventListener("scroll",this._handleScroll);const isWithinKeypadBounds=(x,y)=>{const bounds=this._getKeypadBounds();return!!bounds&&(bounds.left<=x&&bounds.right>=x&&bounds.top<=y&&bounds.bottom>=y||bounds.bottom<y)};this.recordTouchStartOutside=evt=>{if(this.state.focused&&!this._container.contains(evt.target)){let touchDidStartInOrBelowKeypad=!1;if(this.props.keypadElement&&this.props.keypadElement.getDOMNode())for(let i=0;i<evt.changedTouches.length;i++){const[x,y]=[evt.changedTouches[i].clientX,evt.changedTouches[i].clientY];if(isWithinKeypadBounds(x,y)){touchDidStartInOrBelowKeypad=!0;break}}touchDidStartInOrBelowKeypad||(this.didTouchOutside=!0,this.dragListener&&this.dragListener.detach(),this.dragListener=new drag_listener((()=>{this.didScroll=!0,this.dragListener.detach()}),evt),this.dragListener.attach())}},this.blurOnTouchEndOutside=evt=>{this.state.focused&&this.didTouchOutside&&!this.didScroll&&this.blur(),this.didTouchOutside=!1,this.didScroll=!1,this.dragListener&&this.dragListener.detach()},this.blurOnClickOutside=evt=>{if(this.state.focused&&!this._container.contains(evt.target)&&this.props.keypadElement&&this.props.keypadElement.getDOMNode()){const[x,y]=[evt.clientX,evt.clientY];isWithinKeypadBounds(x,y)||this.blur()}},window.addEventListener("touchstart",this.recordTouchStartOutside),window.addEventListener("touchend",this.blurOnTouchEndOutside),window.addEventListener("touchcancel",this.blurOnTouchEndOutside),window.addEventListener("click",this.blurOnClickOutside)}componentDidUpdate(prevProps,prevState){this.mathField.getContent()!==this.props.value&&this.mathField.setContent(this.props.value),prevState.focused!==this.state.focused&&this._updateInputPadding()}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("touchstart",this.recordTouchStartOutside),window.removeEventListener("touchend",this.blurOnTouchEndOutside),window.removeEventListener("touchcancel",this.blurOnTouchEndOutside),window.removeEventListener("click",this.blurOnClickOutside)}_updateInputPadding=()=>{this._container=react_dom.findDOMNode(this),this._root=this._container.querySelector(".mq-root-block");const padding=this.getInputInnerPadding();this._root.style.padding=`${padding.paddingTop}px ${padding.paddingRight}px ${padding.paddingBottom}px ${padding.paddingLeft}px`,this._root.style.fontSize=`${fontSizePt}pt`};_getKeypadBounds(){const keypadNode=this.props.keypadElement?.getDOMNode();return keypadNode instanceof Element?keypadNode.getBoundingClientRect():null}_updateCursorHandle=animateIntoPosition=>{const containerBounds=this._container.getBoundingClientRect(),cursorBounds=this._container.querySelector(".mq-cursor").getBoundingClientRect(),cursorWidth=cursorBounds.width,inputInnerPadding=this.getInputInnerPadding(),furthestRightCursorBound=containerBounds.right-cursorWidth-inputInnerPadding.paddingRight,furthestLeftCursorBound=containerBounds.left+cursorWidth+inputInnerPadding.paddingLeft;let cursorBoundsLeft=cursorBounds.left;cursorBounds.left>furthestRightCursorBound?cursorBoundsLeft=furthestRightCursorBound:cursorBounds.left<furthestLeftCursorBound&&(cursorBoundsLeft=furthestLeftCursorBound),this.setState({handle:{visible:!0,animateIntoPosition,x:cursorBoundsLeft+cursorWidth/2-containerBounds.left,y:cursorBounds.bottom+2-containerBounds.top}})};_hideCursorHandle=()=>{this.setState({handle:{visible:!1,x:0,y:0}})};_handleScroll=()=>{!1!==this.state.handle.animateIntoPosition&&this._hideCursorHandle()};blur=()=>{this.mathField.blur(),this.props.onBlur&&this.props.onBlur(),this.setState({focused:!1,handle:{visible:!1}})};focus=()=>{this.props.keypadElement?.setKeyHandler((key=>{const cursor=this.mathField.pressKey(key),hideCursor=()=>{this.setState({handle:{visible:!1}})},value=this.mathField.getContent();return this.props.value!==value?this.props.onChange(value,hideCursor):hideCursor(),cursor})),this.mathField.focus(),this.props?.onFocus(),this.setState({focused:!0},(()=>{setTimeout((()=>{if(this._isMounted){const maybeKeypadNode=this.props.keypadElement?.getDOMNode();((containerNode,keypadNode)=>{const containerBounds=containerNode.getBoundingClientRect(),containerBottomPx=containerBounds.bottom,containerTopPx=containerBounds.top,scrollNode=document.scrollingElement;if(keypadNode){const keypadTopPx=window.innerHeight-(keypadNode.clientHeight+60);if(containerBottomPx>keypadTopPx){const scrollOffset=Math.min(containerBottomPx-keypadTopPx+16,containerTopPx);return void(scrollNode&&(scrollNode.scrollTop+=scrollOffset))}}scrollNode&&containerTopPx<16&&(scrollNode.scrollTop-=containerBounds.height+16)})(this._container,maybeKeypadNode)}}))}))};_findHitNode=(containerBounds,x,y,dx,dy)=>{for(;y>=containerBounds.top&&y<=containerBounds.bottom;){const elements=[[x-dx,y+=dy],[x,y],[x+dx,y]].map((point=>document.elementFromPoint(...point))).filter((element=>element&&this._root.contains(element)&&(!element.classList.contains("mq-root-block")&&!element.classList.contains("mq-non-leaf")||element.classList.contains("mq-empty")||element.classList.contains("mq-hasCursor"))));let hitNode=null;const leafElements=[],nonLeafElements=[];let max=0;const counts={},elementsById={};for(const element of elements){const id=element.getAttribute("mathquill-command-id");null!=id?(leafElements.push(element),counts[id]=(counts[id]||0)+1,elementsById[id]=element):nonLeafElements.push(element)}for(const[id,count]of(0,browser_es.qh)(counts))count>max&&(max=count,hitNode=elementsById[id]);if(null==hitNode&&nonLeafElements.length>0&&(hitNode=nonLeafElements[0]),null!==hitNode)return this.mathField.setCursorPosition(x,y,hitNode),!0}return!1};_insertCursorAtClosestNode=(x,y)=>{const cursor=this.mathField.getCursor();if(!this._root.hasChildNodes())return void cursor.insAtLeftEnd(this.mathField.mathField.controller().root);let dy;y>this._containerBounds.bottom?y=this._containerBounds.bottom-10:y<this._containerBounds.top&&(y=this._containerBounds.top+10),x>this._containerBounds.right?x=this._containerBounds.right-15:x<this._containerBounds.left&&(x=this._containerBounds.left+15),dy=-8;if(this._findHitNode(this._containerBounds,x,y,5,dy))return;if(y=this._containerBounds.top,dy=8,this._findHitNode(this._containerBounds,x,y,5,dy))return;const firstChildBounds=this._root.firstChild.getBoundingClientRect(),lastChildBounds=this._root.lastChild.getBoundingClientRect(),left=firstChildBounds.left,right=lastChildBounds.right;Math.abs(x-right)<Math.abs(x-left)?cursor.insAtRightEnd(this.mathField.mathField.controller().root):cursor.insAtLeftEnd(this.mathField.mathField.controller().root),this.props.keypadElement&&this.props.keypadElement.setCursor({context:this.mathField.contextForCursor()})};handleTouchStart=(e,keypadActive,setKeypadActive)=>{if(e.stopPropagation(),this._hideCursorHandle(),""!==this.mathField.getContent()){this._containerBounds=this._container.getBoundingClientRect();const touch=e.changedTouches[0];this._insertCursorAtClosestNode(touch.clientX,touch.clientY)}this.state.focused&&!keypadActive&&setKeypadActive(!0),this.state.focused||this.focus()};handleClick=(e,keypadActive,setKeypadActive)=>{e.stopPropagation(),this._hideCursorHandle(),""!==this.mathField.getContent()&&(this._containerBounds=this._container.getBoundingClientRect(),this._insertCursorAtClosestNode(e.clientX,e.clientY)),this.state.focused&&!keypadActive&&setKeypadActive(!0),this.state.focused||this.focus()};handleTouchMove=e=>{if(e.stopPropagation(),""!==this.mathField.getContent()&&this.state.focused){const touch=e.changedTouches[0];this._insertCursorAtClosestNode(touch.clientX,touch.clientY)}};handleTouchEnd=e=>{e.stopPropagation(),""!==this.mathField.getContent()&&this.state.focused&&this._updateCursorHandle()};onCursorHandleTouchStart=e=>{e.stopPropagation(),e.preventDefault(),this._containerBounds=this._container.getBoundingClientRect()};_constrainToBound=(value,min,max,friction)=>value<min?min+(value-min)*friction:value>max?max+(value-max)*friction:value;onCursorHandleTouchMove=e=>{e.stopPropagation();const x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY,relativeX=x-this._containerBounds.left,relativeY=y-22.99-this._containerBounds.top;this.setState({handle:{animateIntoPosition:!1,visible:!0,x:this._constrainToBound(relativeX,0,this._containerBounds.width,.8),y:this._constrainToBound(relativeY,0,this._containerBounds.height,.8)}});const adjustedY=y-22;this._insertCursorAtClosestNode(x,adjustedY)};onCursorHandleTouchEnd=e=>{e.stopPropagation(),this._updateCursorHandle(!0)};onCursorHandleTouchCancel=e=>{e.stopPropagation(),this._updateCursorHandle(!0)};domKeyToMathQuillKey=key=>{const keyMap={"+":"PLUS","-":"MINUS","*":"TIMES","/":"DIVIDE",".":"DECIMAL","%":"PERCENT","=":"EQUAL",">":"GT","<":"LT","^":"EXP"};return["0","1","2","3","4","5","6","7","8","9"].includes(key)?`NUM_${key}`:"Backspace"===key?"BACKSPACE":key in keyMap?keyMap[key]:null};handleKeyUp=event=>{const mathQuillKey=this.domKeyToMathQuillKey(event.key);if(mathQuillKey){this.mathField.pressKey(mathQuillKey);const value=this.mathField.getContent();this.props.value!==value&&(this.mathField.setContent(this.props.value),this.props.onChange(value,!1),this._hideCursorHandle())}};getBorderWidthPx=()=>this.state.focused?2:1;getInputInnerPadding=()=>{const paddingInset=totalDesiredPadding-this.getBorderWidthPx();return{paddingTop:paddingInset-1,paddingRight:paddingInset,paddingBottom:paddingInset-3,paddingLeft:paddingInset}};render(){const{focused,handle}=this.state,{style}=this.props,innerStyle={...inlineStyles.innerContainer,borderWidth:this.getBorderWidthPx(),...focused?{borderColor:es.default.blue}:{},...style},ariaLabel=dist_es._("Math input box")+" "+dist_es._("Tap with one or two fingers to open keyboard");return react.createElement(keypad_context.i.Consumer,null,(_ref=>{let{keypadActive,setKeypadActive}=_ref;return react.createElement(fake_react_native_web.G,{style:styles.input,onTouchStart:e=>{this.handleTouchStart(e,keypadActive,setKeypadActive)},onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onClick:e=>{this.handleClick(e,keypadActive,setKeypadActive)},role:"textbox",ariaLabel},react.createElement("div",{className:"keypad-input",tabIndex:"0",ref:node=>{this.inputRef=node},onKeyUp:this.handleKeyUp},react.createElement("div",{ref:node=>{this._mathContainer=react_dom.findDOMNode(node)},style:innerStyle})),focused&&handle.visible&&react.createElement(cursor_handle,_extends({},handle,{onTouchStart:this.onCursorHandleTouchStart,onTouchMove:this.onCursorHandleTouchMove,onTouchEnd:this.onCursorHandleTouchEnd,onTouchCancel:this.onCursorHandleTouchCancel})))}))}}const fontSizePt=18,totalDesiredPadding=12,minHeightPx=20+2*totalDesiredPadding,styles=lib.StyleSheet.create({input:{position:"relative",display:"inline-block",verticalAlign:"middle",maxWidth:128}}),inlineStyles={innerContainer:{backgroundColor:"white",minHeight:minHeightPx,minWidth:64,maxWidth:128,boxSizing:"border-box",position:"relative",borderStyle:"solid",borderColor:es.default.offBlack50,borderRadius:4,color:es.default.offBlack}},math_input=MathInput;try{MathInput.displayName="MathInput",MathInput.__docgenInfo={description:"",displayName:"MathInput",props:{keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"KeypadAPI"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"() => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string, callback: any) => void"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"() => void"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"any"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/math-input/src/components/input/math-input.tsx#MathInput"]={docgenInfo:MathInput.__docgenInfo,name:"MathInput",path:"packages/math-input/src/components/input/math-input.tsx#MathInput"})}catch(__react_docgen_typescript_loader_error){}var cursor_contexts=__webpack_require__("./packages/math-input/src/components/input/cursor-contexts.ts"),keypad=__webpack_require__("./packages/math-input/src/components/keypad/index.tsx"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);const keypadElementPropType=prop_types_default().shape({activate:prop_types_default().func.isRequired,dismiss:prop_types_default().func.isRequired,configure:prop_types_default().func.isRequired,setCursor:prop_types_default().func.isRequired,setKeyHandler:prop_types_default().func.isRequired,getDOMNode:prop_types_default().func.isRequired});var utils=__webpack_require__("./packages/math-input/src/utils.ts");const KeyArray=["PLUS","MINUS","NEGATIVE","TIMES","DIVIDE","DECIMAL","PERIOD","PERCENT","CDOT","EQUAL","NEQ","GT","LT","GEQ","LEQ","FRAC_INCLUSIVE","FRAC_EXCLUSIVE","FRAC","EXP","EXP_2","EXP_3","SQRT","CUBE_ROOT","RADICAL","LEFT_PAREN","RIGHT_PAREN","LN","LOG","LOG_N","SIN","COS","TAN","PI","THETA","UP","RIGHT","DOWN","LEFT","BACKSPACE","DISMISS","JUMP_OUT_PARENTHESES","JUMP_OUT_EXPONENT","JUMP_OUT_BASE","JUMP_INTO_NUMERATOR","JUMP_OUT_NUMERATOR","JUMP_OUT_DENOMINATOR","NOOP","MANY","NUM_0","NUM_1","NUM_2","NUM_3","NUM_4","NUM_5","NUM_6","NUM_7","NUM_8","NUM_9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","PHI","NTHROOT3","POW","LOG_B"];__webpack_require__("./packages/math-input/src/data/key-configs.ts");let KeypadType=function(KeypadType){return KeypadType.FRACTION="FRACTION",KeypadType.EXPRESSION="EXPRESSION",KeypadType}({})},"./packages/math-input/src/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{JU:()=>convertDotToTimesByLocale,ec:()=>DecimalSeparator,h2:()=>decimalSeparator,o8:()=>inJest});var _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),process=__webpack_require__("./node_modules/process/browser.js");const DecimalSeparator={COMMA:",",PERIOD:"."},decimalSeparator=","===(0,_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__.getDecimalSeparator)()?DecimalSeparator.COMMA:DecimalSeparator.PERIOD,CDOT_ONLY=["az","cs","da","de","hu","hy","kk","ky","lt","lv","nb","sk","sr","sv","uz"],TIMES_ONLY=["fr","tr","pt-pt"];function convertDotToTimesByLocale(convertDotToTimes){const locale=(0,_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__.getLocale)();return!CDOT_ONLY.includes(locale)&&(!!TIMES_ONLY.includes(locale)||convertDotToTimes)}const inJest=void 0!==process&&!!process?.env?.JEST_WORKER_ID},"./packages/perseus-core/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>addLibraryVersionToPerseusDebug});const addLibraryVersionToPerseusDebug=(libraryName,libraryVersion)=>{let prefix="v";"__lib_version__"===libraryVersion&&(prefix="");const formattedVersion=`${prefix}${libraryVersion}`;if("undefined"!=typeof globalThis){globalThis.__perseus_debug__=globalThis.__perseus_debug__??{};const existingVersionEntry=globalThis.__perseus_debug__[libraryName];if(existingVersionEntry){if(existingVersionEntry!==formattedVersion){const allVersions=Array.isArray(existingVersionEntry)?existingVersionEntry:[existingVersionEntry];allVersions.push(formattedVersion),globalThis.__perseus_debug__[libraryName]=allVersions,console.warn(`Multiple versions of ${libraryName} loaded on this page: ${allVersions.sort().join(", ")}`)}}else globalThis.__perseus_debug__[libraryName]=formattedVersion}else console.warn(`globalThis not found found (${formattedVersion})`)};addLibraryVersionToPerseusDebug("@khanacademy/perseus-core","__lib_version__")},"./packages/perseus-linter/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$9:()=>Rule,j_:()=>linterContextDefault,LZ:()=>linterContextProps,fQ:()=>pushContextStack,WI:()=>runLinter});var src=__webpack_require__("./packages/perseus-core/src/index.ts");(0,src.C)("@khanacademy/perseus-error","__lib_version__");const Errors=Object.freeze({Unknown:"Unknown",Internal:"Internal",InvalidInput:"InvalidInput",NotAllowed:"NotAllowed",TransientService:"TransientService",Service:"Service"});class PerseusError extends Error{constructor(message,kind,options){super(message),this.kind=kind,this.metadata=options?.metadata}}class Selector{static parse(selectorText){return new Parser(selectorText).parse()}match(state){throw new PerseusError("Selector subclasses must implement match()",Errors.NotAllowed)}toString(){return"Unknown selector class"}}class Parser{constructor(s){s=s.trim().replace(/\s+/g," "),this.tokens=s.match(Parser.TOKENS)||[],this.tokenIndex=0}nextToken(){return this.tokens[this.tokenIndex]||""}consume(){this.tokenIndex++}isIdentifier(){const c=this.tokens[this.tokenIndex][0];return c>="a"&&c<="z"||c>="A"&&c<="Z"}skipSpace(){for(;" "===this.nextToken();)this.consume()}parse(){const ts=this.parseTreeSelector();let token=this.nextToken();if(!token)return ts;const treeSelectors=[ts];for(;token;){if(","!==token)throw new ParseError("Expected comma");this.consume(),treeSelectors.push(this.parseTreeSelector()),token=this.nextToken()}return new SelectorList(treeSelectors)}parseTreeSelector(){this.skipSpace();let ns=this.parseNodeSelector();for(;;){const token=this.nextToken();if(!token||","===token)break;if(" "===token)this.consume(),ns=new AncestorCombinator(ns,this.parseNodeSelector());else if(">"===token)this.consume(),ns=new ParentCombinator(ns,this.parseNodeSelector());else if("+"===token)this.consume(),ns=new PreviousCombinator(ns,this.parseNodeSelector());else{if("~"!==token)throw new ParseError("Unexpected token: "+token);this.consume(),ns=new SiblingCombinator(ns,this.parseNodeSelector())}}return ns}parseNodeSelector(){this.skipSpace();const t=this.nextToken();if("*"===t)return this.consume(),new AnyNode;if(this.isIdentifier())return this.consume(),new TypeSelector(t);throw new ParseError("Expected node type")}}Parser.TOKENS=/([a-zA-Z][\w-]*)|(\d+)|[^\s]|(\s(?=[a-zA-Z\*]))/g;class ParseError extends Error{constructor(message){super(message)}}class SelectorList extends Selector{constructor(selectors){super(),this.selectors=selectors}match(state){for(let i=0;i<this.selectors.length;i++){const result=this.selectors[i].match(state);if(result)return result}return null}toString(){let result="";for(let i=0;i<this.selectors.length;i++)result+=i>0?", ":"",result+=this.selectors[i].toString();return result}}class AnyNode extends Selector{match(state){return[state.currentNode()]}toString(){return"*"}}class TypeSelector extends Selector{constructor(type){super(),this.type=type}match(state){const node=state.currentNode();return node.type===this.type?[node]:null}toString(){return this.type}}class SelectorCombinator extends Selector{constructor(left,right){super(),this.left=left,this.right=right}}class AncestorCombinator extends SelectorCombinator{constructor(left,right){super(left,right)}match(state){const rightResult=this.right.match(state);if(rightResult)for(state=state.clone();state.hasParent();){state.goToParent();const leftResult=this.left.match(state);if(leftResult)return leftResult.concat(rightResult)}return null}toString(){return this.left.toString()+" "+this.right.toString()}}class ParentCombinator extends SelectorCombinator{constructor(left,right){super(left,right)}match(state){const rightResult=this.right.match(state);if(rightResult&&state.hasParent()){(state=state.clone()).goToParent();const leftResult=this.left.match(state);if(leftResult)return leftResult.concat(rightResult)}return null}toString(){return this.left.toString()+" > "+this.right.toString()}}class PreviousCombinator extends SelectorCombinator{constructor(left,right){super(left,right)}match(state){const rightResult=this.right.match(state);if(rightResult&&state.hasPreviousSibling()){(state=state.clone()).goToPreviousSibling();const leftResult=this.left.match(state);if(leftResult)return leftResult.concat(rightResult)}return null}toString(){return this.left.toString()+" + "+this.right.toString()}}class SiblingCombinator extends SelectorCombinator{constructor(left,right){super(left,right)}match(state){const rightResult=this.right.match(state);if(rightResult)for(state=state.clone();state.hasPreviousSibling();){state.goToPreviousSibling();const leftResult=this.left.match(state);if(leftResult)return leftResult.concat(rightResult)}return null}toString(){return this.left.toString()+" ~ "+this.right.toString()}}class Rule{constructor(name,severity,selector,pattern,lint,applies){var _this=this;if(!selector&&!pattern)throw new PerseusError("Lint rules must have a selector or pattern",Errors.InvalidInput,{metadata:{name}});this.name=name||"unnamed rule",this.severity=severity||Rule.Severity.BULK_WARNING,this.selector=selector||Rule.DEFAULT_SELECTOR,this.pattern=pattern||null,"function"==typeof lint?(this.lint=lint,this.message=null):(this.lint=function(){return _this._defaultLintFunction(...arguments)},this.message=lint),this.applies=applies||function(){return!0}}static makeRule(options){return new Rule(options.name,options.severity,options.selector?Selector.parse(options.selector):null,Rule.makePattern(options.pattern),options.lint||options.message,options.applies)}check(node,traversalState,content,context){const selectorMatch=this.selector.match(traversalState);if(!selectorMatch)return null;let patternMatch;if(patternMatch=this.pattern?content.match(this.pattern):Rule.FakePatternMatch(content,content,0),!patternMatch)return null;try{const error=this.lint(traversalState,content,selectorMatch,patternMatch,context);return error?"string"==typeof error?{rule:this.name,severity:this.severity,message:error,start:0,end:content.length}:{rule:this.name,severity:this.severity,message:error.message,start:error.start,end:error.end}:null}catch(e){return{rule:"lint-rule-failure",message:`Exception in rule ${this.name}: ${e.message}\nStack trace:\n${e.stack}`,start:0,end:content.length}}}_defaultLintFunction(state,content,selectorMatch,patternMatch,context){return{message:this.message||"",start:patternMatch.index,end:patternMatch.index+patternMatch[0].length}}static makePattern(pattern){if(!pattern)return null;if(pattern instanceof RegExp)return pattern;if("/"===pattern[0]){const lastSlash=pattern.lastIndexOf("/"),expression=pattern.substring(1,lastSlash),flags=pattern.substring(lastSlash+1);return new RegExp(expression,flags)}return new RegExp(pattern)}static FakePatternMatch(input,match,index){const result=[match];return result.index=index,result.input=input,result}static Severity={ERROR:1,WARNING:2,GUIDELINE:3,BULK_WARNING:4}}Rule.DEFAULT_SELECTOR=Selector.parse("text");const HOSTNAME=/\/\/([^\/]+)/;function getHostname(url){if(!url)return"";const match=url.match(HOSTNAME);return match?match[1]:""}const absolute_url=Rule.makeRule({name:"absolute-url",severity:Rule.Severity.GUIDELINE,selector:"link, image",lint:function(state,content,nodes,match){const hostname=getHostname(nodes[0].target);if("khanacademy.org"===hostname||hostname.endsWith(".khanacademy.org"))return"Don't use absolute URLs:\nWhen linking to KA content or images, omit the\nhttps://www.khanacademy.org URL prefix.\nUse a relative URL beginning with / instead."}}),blockquoted_math=Rule.makeRule({name:"blockquoted-math",severity:Rule.Severity.WARNING,selector:"blockQuote math, blockQuote blockMath",message:"Blockquoted math:\nmath should not be indented."}),blockquoted_widget=Rule.makeRule({name:"blockquoted-widget",severity:Rule.Severity.WARNING,selector:"blockQuote widget",message:"Blockquoted widget:\nwidgets should not be indented."}),double_spacing_after_terminal=Rule.makeRule({name:"double-spacing-after-terminal",severity:Rule.Severity.BULK_WARNING,selector:"paragraph",pattern:/[.!\?] {2}/i,message:"Use a single space after a sentence-ending period, or\nany other kind of terminal punctuation."}),extra_content_spacing=Rule.makeRule({name:"extra-content-spacing",selector:"paragraph",pattern:/\s+$/,applies:function(context){return"article"===context.contentType},message:"No extra whitespace at the end of content blocks."}),heading_level_1=Rule.makeRule({name:"heading-level-1",severity:Rule.Severity.WARNING,selector:"heading",lint:function(state,content,nodes,match){if(1===nodes[0].level)return"Don't use level-1 headings:\nBegin headings with two or more # characters."}}),heading_level_skip=Rule.makeRule({name:"heading-level-skip",severity:Rule.Severity.WARNING,selector:"heading ~ heading",lint:function(state,content,nodes,match){const currentHeading=nodes[1],previousHeading=nodes[0];if(currentHeading.level>previousHeading.level+1)return`Skipped heading level:\nthis heading is level ${currentHeading.level} but\nthe previous heading was level ${previousHeading.level}`}}),heading_sentence_case=Rule.makeRule({name:"heading-sentence-case",severity:Rule.Severity.GUIDELINE,selector:"heading",pattern:/^\W*[a-z]/,message:"First letter is lowercase:\nthe first letter of a heading should be capitalized."}),littleWords={and:!0,nor:!0,but:!0,the:!0,for:!0};const heading_title_case=Rule.makeRule({name:"heading-title-case",severity:Rule.Severity.GUIDELINE,selector:"heading",pattern:/[^\s:]\s+[A-Z]+[a-z]/,locale:"en",lint:function(state,content,nodes,match){let words=content.trim().split(/\s+/);if(words.shift(),words=words.filter((w=>w.length>2&&!littleWords.hasOwnProperty(w))),words.length>=3&&words.every((w=>function isCapitalized(word){const c=word[0];return c===c.toUpperCase()}(w))))return"Title-case heading:\nThis heading appears to be in title-case, but should be sentence-case.\nOnly capitalize the first letter and proper nouns."}}),image_alt_text=Rule.makeRule({name:"image-alt-text",severity:Rule.Severity.WARNING,selector:"image",lint:function(state,content,nodes,match){const image=nodes[0];return image.alt&&image.alt.trim()?image.alt.length<8?`Images should have alt text:\nfor accessibility, all images should have descriptive alt text.\nThis image's alt text is only ${image.alt.length} characters long.`:void 0:"Images should have alt text:\nfor accessibility, all images should have alt text.\nSpecify alt text inside square brackets after the !."}}),image_in_table=Rule.makeRule({name:"image-in-table",severity:Rule.Severity.BULK_WARNING,selector:"table image",message:"Image in table:\ndo not put images inside of tables."}),image_spaces_around_urls=Rule.makeRule({name:"image-spaces-around-urls",severity:Rule.Severity.ERROR,selector:"image",lint:function(state,content,nodes,match,context){const url=nodes[0].target;if(context&&context.content){const index=context.content.indexOf(url);if(-1===index)return;if("("!==context.content[index-1]||")"!==context.content[index+url.length])return"Whitespace before or after image url:\nFor images, don't include any space or newlines after '(' or before ')'.\nWhitespace in image URLs causes translation difficulties."}}}),image_widget=Rule.makeRule({name:"image-widget",severity:Rule.Severity.WARNING,selector:"widget",lint:function(state,content,nodes,match,context){if("image"!==state.currentNode().widgetType)return;const widget=context&&context.widgets&&context.widgets[state.currentNode().id];if(!widget)return;const alt=widget.options.alt;return alt?alt.trim().length<8?`Images should have alt text:\nfor accessibility, all images should have descriptive alt text.\nThis image's alt text is only ${alt.trim().length} characters long.`:widget.options.caption&&widget.options.caption.match(/[^\\]\$/)?"No math in image captions:\nDon't include math expressions in image captions.":void 0:'Images should have alt text:\nfor accessibility, all images should have a text description.\nAdd a description in the "Alt Text" box of the image widget.'}}),link_click_here=Rule.makeRule({name:"link-click-here",severity:Rule.Severity.WARNING,selector:"link",pattern:/click here/i,message:'Inappropriate link text:\nDo not use the words "click here" in links.'}),long_paragraph=Rule.makeRule({name:"long-paragraph",severity:Rule.Severity.GUIDELINE,selector:"paragraph",pattern:/^.{501,}/,lint:function(state,content,nodes,match){return`Paragraph too long:\nThis paragraph is ${content.length} characters long.\nShorten it to 500 characters or fewer.`}}),math_adjacent=Rule.makeRule({name:"math-adjacent",severity:Rule.Severity.WARNING,selector:"blockMath+blockMath",message:"Adjacent math blocks:\ncombine the blocks between \\begin{align} and \\end{align}"}),math_align_extra_break=Rule.makeRule({name:"math-align-extra-break",severity:Rule.Severity.WARNING,selector:"blockMath",pattern:/(\\{2,})\s*\\end{align}/,message:"Extra space at end of block:\nDon't end an align block with backslashes"}),math_align_linebreaks=Rule.makeRule({name:"math-align-linebreaks",severity:Rule.Severity.WARNING,selector:"blockMath",pattern:/\\begin{align}[\s\S]*\\\\[\s\S]+\\end{align}/,lint:function(state,content,nodes,match){let text=match[0];for(;text.length;){const index=text.indexOf("\\\\");if(-1===index)return null;text=text.substring(index+2);const nextpair=text.match(/^\s*\\\\\s*(?!\\\\)/);if(!nextpair)return"Use four backslashes between lines of an align block";text=text.substring(nextpair[0].length)}}}),math_empty=Rule.makeRule({name:"math-empty",severity:Rule.Severity.WARNING,selector:"math, blockMath",pattern:/^$/,message:"Empty math: don't use $$ in your markdown."}),math_font_size=Rule.makeRule({name:"math-font-size",severity:Rule.Severity.GUIDELINE,selector:"math, blockMath",pattern:/\\(tiny|Tiny|small|large|Large|LARGE|huge|Huge|scriptsize|normalsize)\s*{/,message:"Math font size:\nDon't change the default font size with \\Large{} or similar commands"}),math_frac=Rule.makeRule({name:"math-frac",severity:Rule.Severity.GUIDELINE,selector:"math, blockMath",pattern:/\\frac[ {]/,message:"Use \\dfrac instead of \\frac in your math expressions."}),math_nested=Rule.makeRule({name:"math-nested",severity:Rule.Severity.ERROR,selector:"math, blockMath",pattern:/\\text{[^$}]*\$[^$}]*\$[^}]*}/,message:"Nested math:\nDon't nest math expressions inside \\text{} blocks"}),math_starts_with_space=Rule.makeRule({name:"math-starts-with-space",severity:Rule.Severity.GUIDELINE,selector:"math, blockMath",pattern:/^\s*(~|\\qquad|\\quad|\\,|\\;|\\:|\\ |\\!|\\enspace|\\phantom)/,message:"Math starts with space:\nmath should not be indented. Do not begin math expressions with\nLaTeX space commands like ~, \\;, \\quad, or \\phantom"}),math_text_empty=Rule.makeRule({name:"math-text-empty",severity:Rule.Severity.WARNING,selector:"math, blockMath",pattern:/\\text{\s*}/,message:"Empty \\text{} block in math expression"}),math_without_dollars=Rule.makeRule({name:"math-without-dollars",severity:Rule.Severity.GUIDELINE,pattern:/\\\w+{[^}]*}|{|}/,message:"This looks like LaTeX:\ndid you mean to put it inside dollar signs?"}),nested_lists=Rule.makeRule({name:"nested-lists",severity:Rule.Severity.WARNING,selector:"list list",message:"Nested lists:\nnested lists are hard to read on mobile devices;\ndo not use additional indentation."}),profanity=Rule.makeRule({name:"profanity",pattern:/\b(shit|piss|fuck|cunt|cocksucker|motherfucker|tits)\b/i,message:"Avoid profanity"}),table_missing_cells=Rule.makeRule({name:"table-missing-cells",severity:Rule.Severity.WARNING,selector:"table",lint:function(state,content,nodes,match){const table=nodes[0],headerLength=table.header.length,rowLengths=table.cells.map((r=>r.length));for(let r=0;r<rowLengths.length;r++)if(rowLengths[r]!==headerLength)return`Table rows don't match header:\nThe table header has ${headerLength} cells, but\nRow ${r+1} has ${rowLengths[r]} cells.`}}),unbalanced_code_delimiters=Rule.makeRule({name:"unbalanced-code-delimiters",severity:Rule.Severity.ERROR,pattern:/[`~]+/,message:"Unbalanced code delimiters:\ncode blocks should begin and end with the same type and number of delimiters"}),all_rules=[absolute_url,blockquoted_math,blockquoted_widget,double_spacing_after_terminal,extra_content_spacing,heading_level_1,heading_level_skip,heading_sentence_case,heading_title_case,image_alt_text,image_in_table,link_click_here,long_paragraph,math_adjacent,math_align_extra_break,math_align_linebreaks,math_empty,math_font_size,math_frac,math_nested,math_starts_with_space,math_text_empty,nested_lists,table_missing_cells,Rule.makeRule({name:"unescaped-dollar",severity:Rule.Severity.ERROR,selector:"unescapedDollar",message:"Unescaped dollar sign:\nDollar signs must appear in pairs or be escaped as \\$"}),Rule.makeRule({name:"widget-in-table",severity:Rule.Severity.BULK_WARNING,selector:"table widget",message:"Widget in table:\ndo not put widgets inside of tables."}),profanity,math_without_dollars,unbalanced_code_delimiters,image_spaces_around_urls,image_widget];class TreeTransformer{constructor(root){this.root=root}static isNode(n){return n&&"object"==typeof n&&"string"==typeof n.type}static isTextNode(n){return TreeTransformer.isNode(n)&&"text"===n.type&&"string"==typeof n.content}traverse(f){this._traverse(this.root,new TraversalState(this.root),f)}_traverse(n,state,f){let content="";if(TreeTransformer.isNode(n)){const node=n;state._containers.push(node),state._ancestors.push(node),"string"==typeof node.content&&(content=node.content);Object.keys(node).forEach((key=>{if("type"===key)return;const value=node[key];value&&"object"==typeof value&&(state._indexes.push(key),content+=this._traverse(value,state,f),state._indexes.pop())})),state._currentNode=state._ancestors.pop(),state._containers.pop(),f(node,state,content)}else if(Array.isArray(n)){const nodes=n;state._containers.push(nodes);let index=0;for(;index<nodes.length;)state._indexes.push(index),content+=this._traverse(nodes[index],state,f),index=state._indexes.pop()+1;state._containers.pop()}return content}}class TraversalState{constructor(root){this.root=root,this._currentNode=null,this._containers=new Stack,this._indexes=new Stack,this._ancestors=new Stack}currentNode(){return this._currentNode||this.root}parent(){return this._ancestors.top()}ancestors(){return this._ancestors.values()}nextSibling(){const siblings=this._containers.top();if(!siblings||!Array.isArray(siblings))return null;const index=this._indexes.top();return siblings.length>index+1?siblings[index+1]:null}previousSibling(){const siblings=this._containers.top();if(!siblings||!Array.isArray(siblings))return null;const index=this._indexes.top();return index>0?siblings[index-1]:null}removeNextSibling(){const siblings=this._containers.top();if(siblings&&Array.isArray(siblings)){const index=this._indexes.top();if(siblings.length>index+1)return siblings.splice(index+1,1)[0]}return null}replace(){const parent=this._containers.top();if(!parent)throw new PerseusError("Can't replace the root of the tree",Errors.Internal);for(var _len=arguments.length,replacements=new Array(_len),_key=0;_key<_len;_key++)replacements[_key]=arguments[_key];if(Array.isArray(parent)){const index=this._indexes.top();parent.splice(index,1,...replacements),this._indexes.pop(),this._indexes.push(index+replacements.length-1)}else{const property=this._indexes.top();0===replacements.length?delete parent[property]:1===replacements.length?parent[property]=replacements[0]:parent[property]=replacements}}hasPreviousSibling(){return Array.isArray(this._containers.top())&&this._indexes.top()>0}goToPreviousSibling(){if(!this.hasPreviousSibling())throw new PerseusError("goToPreviousSibling(): node has no previous sibling",Errors.Internal);this._currentNode=this.previousSibling();const index=this._indexes.pop();this._indexes.push(index-1)}hasParent(){return 0!==this._ancestors.size()}goToParent(){if(!this.hasParent())throw new PerseusError("goToParent(): node has no ancestor",Errors.NotAllowed);for(this._currentNode=this._ancestors.pop();this._containers.size()&&this._containers.top()[this._indexes.top()]!==this._currentNode;)this._containers.pop(),this._indexes.pop()}clone(){const clone=new TraversalState(this.root);return clone._currentNode=this._currentNode,clone._containers=this._containers.clone(),clone._indexes=this._indexes.clone(),clone._ancestors=this._ancestors.clone(),clone}equals(that){return this.root===that.root&&this._currentNode===that._currentNode&&this._containers.equals(that._containers)&&this._indexes.equals(that._indexes)&&this._ancestors.equals(that._ancestors)}}class Stack{constructor(array){this.stack=array?array.slice(0):[]}push(v){this.stack.push(v)}pop(){return this.stack.pop()}top(){return this.stack[this.stack.length-1]}values(){return this.stack.slice(0)}size(){return this.stack.length}toString(){return this.stack.toString()}clone(){return new Stack(this.stack)}equals(that){if(!that||!that.stack||that.stack.length!==this.stack.length)return!1;for(let i=0;i<this.stack.length;i++)if(this.stack[i]!==that.stack[i])return!1;return!0}}(0,src.C)("@khanacademy/perseus-linter","__lib_version__");var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);const linterContextProps=prop_types_default().shape({contentType:prop_types_default().string,highlightLint:prop_types_default().bool,paths:prop_types_default().arrayOf(prop_types_default().string),stack:prop_types_default().arrayOf(prop_types_default().string)}),linterContextDefault={contentType:"",highlightLint:!1,paths:[],stack:[]},allLintRules=all_rules.filter((r=>r.severity<Rule.Severity.BULK_WARNING));function runLinter(tree,context,highlight){let rules=arguments.length>3&&void 0!==arguments[3]?arguments[3]:allLintRules;const warnings=[],tt=new TreeTransformer(tree);tt.traverse(((node,state,content)=>{if(TreeTransformer.isTextNode(node)){let next=state.nextSibling();for(;TreeTransformer.isTextNode(next);)node.content+=next.content,state.removeNextSibling(),next=state.nextSibling()}}));let tableWarnings=[],insideTable=!1;return tt.traverse(((node,state,content)=>{const nodeWarnings=[],applicableRules=rules.filter((r=>r.applies(context))),stack=[...context.stack];stack.push(node.type);const nodeContext={...context,stack:stack.join(".")};if(applicableRules.forEach((rule=>{const warning=rule.check(node,state,content,nodeContext);warning&&((warning.start||warning.end)&&(warning.target=content.substring(warning.start,warning.end)),warnings.push(warning),highlight&&nodeWarnings.push(warning))})),highlight&&("table"===node.type?(tableWarnings.length&&nodeWarnings.push(...tableWarnings),insideTable=!1,tableWarnings=[]):insideTable||(insideTable=state.ancestors().some((n=>"table"===n.type))),insideTable&&nodeWarnings.length&&tableWarnings.push(...nodeWarnings),nodeWarnings.length))if(nodeWarnings.sort(((a,b)=>a.severity-b.severity)),"text"!==node.type||nodeWarnings.length>1)state.replace({type:"lint",content:node,message:nodeWarnings.map((w=>w.message)).join("\n\n"),ruleName:nodeWarnings[0].rule,blockHighlight:nodeContext.blockHighlight,insideTable,severity:nodeWarnings[0].severity});else{const content=node.content,warning=nodeWarnings[0],start=warning.start||0,end=warning.end||content.length,prefix=content.substring(0,start),lint=content.substring(start,end),suffix=content.substring(end),replacements=[];prefix&&replacements.push({type:"text",content:prefix}),replacements.push({type:"lint",content:{type:"text",content:lint},message:warning.message,ruleName:warning.rule,insideTable,severity:warning.severity}),suffix&&replacements.push({type:"text",content:suffix}),state.replace(...replacements)}})),warnings}function pushContextStack(context,name){const stack=context.stack||[];return{...context,stack:stack.concat(name)}}},"./packages/perseus/src/all-widgets.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _basic_widgets__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus/src/basic-widgets.ts"),_extra_widgets__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/extra-widgets.ts");const __WEBPACK_DEFAULT_EXPORT__=[..._basic_widgets__WEBPACK_IMPORTED_MODULE_0__.Z,..._extra_widgets__WEBPACK_IMPORTED_MODULE_1__.Z]},"./packages/perseus/src/article-renderer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_dependencies__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/dependencies.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_renderer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/util.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}class ArticleRenderer extends react__WEBPACK_IMPORTED_MODULE_2__.Component{sectionRenderers=[];static defaultProps={apiOptions:_perseus_api__WEBPACK_IMPORTED_MODULE_4__._.defaults,useNewStyles:!1,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_};constructor(props){super(props)}componentDidMount(){this._currentFocus=null}shouldComponentUpdate(nextProps){return nextProps!==this.props}_handleFocusChange=(newFocusPath,oldFocusPath)=>{newFocusPath?this._setCurrentFocus(newFocusPath):this._onRendererBlur(oldFocusPath)};_setCurrentFocus=newFocusPath=>{const{keypadElement,apiOptions}=this.props,{isMobile}=apiOptions,prevFocusPath=this._currentFocus;this._currentFocus=newFocusPath;let focusedInput,didFocusInput=!1;if(this._currentFocus){const[sectionIndex,...focusPath]=this._currentFocus,inputPaths=this.sectionRenderers[sectionIndex].getInputPaths();didFocusInput=inputPaths.some((inputPath=>_util__WEBPACK_IMPORTED_MODULE_6__.default.inputPathsEqual(inputPath,focusPath))),focusedInput=this.sectionRenderers[sectionIndex].getDOMNodeForPath(focusPath)}const{onFocusChange}=this.props.apiOptions;onFocusChange&&setTimeout((()=>{const keypadDomNode=keypadElement?.getDOMNode(),keypadHeight=keypadDomNode&&didFocusInput?keypadDomNode.getBoundingClientRect().height:0;onFocusChange(this._currentFocus,prevFocusPath,keypadHeight,didFocusInput?focusedInput:null)}),0),keypadElement&&isMobile&&(didFocusInput?keypadElement.activate():keypadElement.dismiss())};_onRendererBlur=blurPath=>{const blurringFocusPath=this._currentFocus;_util__WEBPACK_IMPORTED_MODULE_6__.default.inputPathsEqual(blurPath,blurringFocusPath)&&setTimeout((()=>{_util__WEBPACK_IMPORTED_MODULE_6__.default.inputPathsEqual(this._currentFocus,blurringFocusPath)&&this._setCurrentFocus(null)}))};blur=()=>{if(this._currentFocus){const[sectionIndex,...inputPath]=this._currentFocus;this.sectionRenderers[sectionIndex].blurPath(inputPath)}};_sections=()=>Array.isArray(this.props.json)?this.props.json:[this.props.json];render(){const apiOptions={..._perseus_api__WEBPACK_IMPORTED_MODULE_4__._.defaults,...this.props.apiOptions,isArticle:!0},classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()({"framework-perseus":!0,"perseus-article":!0,[_perseus_api__WEBPACK_IMPORTED_MODULE_4__.m.MOBILE]:apiOptions.isMobile}),sections=this._sections().map(((section,sectionIndex)=>react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{key:sectionIndex,className:"clearfix"},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_5__.Z,_extends({},section,{ref:elem=>{elem&&(this.sectionRenderers[sectionIndex]=elem)},key:sectionIndex,key_:sectionIndex,keypadElement:this.props.keypadElement,apiOptions:{...apiOptions,onFocusChange:(newFocusPath,oldFocusPath)=>{this._handleFocusChange(newFocusPath&&[sectionIndex].concat(newFocusPath),oldFocusPath&&[sectionIndex].concat(oldFocusPath))}},linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.fQ(this.props.linterContext,"article"),legacyPerseusLint:this.props.legacyPerseusLint},this.props.dependencies)))));return react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:classes},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_dependencies__WEBPACK_IMPORTED_MODULE_3__.DependenciesContext.Provider,{value:this.props.dependencies},sections))}}const __WEBPACK_DEFAULT_EXPORT__=ArticleRenderer;try{ArticleRenderer.displayName="ArticleRenderer",ArticleRenderer.__docgenInfo={description:"",displayName:"ArticleRenderer",props:{analytics:{defaultValue:null,description:"",name:"analytics",required:!1,type:{name:"{ onAnalyticsEvent: AnalyticsEventHandlerFn; }"}},apiOptions:{defaultValue:{value:'{\n        isArticle: false,\n        isMobile: false,\n        onInputError: function () {},\n        onFocusChange: function () {},\n        GroupMetadataEditor: StubTagEditor,\n        showAlignmentOptions: false,\n        readOnly: false,\n        groupAnnotator: function (): null {\n            return null;\n        },\n        baseElements: {\n            Link: (\n                props: any,\n            ): React.ReactElement<React.ComponentProps<"a">> => {\n                return <a {...props} />;\n            },\n        },\n        setDrawingAreaAvailable: function () {},\n        useDraftEditor: false,\n        canScrollPage: false,\n        inModal: false,\n        crossOutEnabled: false,\n        editorChangeDelay: 0,\n    } as APIOptionsWithDefaults'},description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},json:{defaultValue:null,description:"",name:"json",required:!0,type:{name:"PerseusRenderer | readonly PerseusRenderer[]"}},useNewStyles:{defaultValue:{value:"false"},description:"@deprecated Does nothing",name:"useNewStyles",required:!1,type:{name:"boolean"}},linterContext:{defaultValue:{value:"PerseusLinter.linterContextDefault"},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},legacyPerseusLint:{defaultValue:null,description:"",name:"legacyPerseusLint",required:!1,type:{name:"readonly string[]"}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"KeypadAPI | null"}},dependencies:{defaultValue:null,description:"",name:"dependencies",required:!0,type:{name:"PerseusDependenciesV2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/article-renderer.tsx#ArticleRenderer"]={docgenInfo:ArticleRenderer.__docgenInfo,name:"ArticleRenderer",path:"packages/perseus/src/article-renderer.tsx#ArticleRenderer"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/asset-context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const defaultContext={assetStatuses:{},setAssetStatus:(assetKey,loaded)=>{}},__WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext(defaultContext)},"./packages/perseus/src/basic-widgets.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _widgets_expression__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus/src/widgets/expression.tsx"),_widgets_input_number__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/widgets/input-number.tsx"),_widgets_numeric_input__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/widgets/numeric-input.tsx");const __WEBPACK_DEFAULT_EXPORT__=[__webpack_require__("./packages/perseus/src/widgets/radio.ts").Z,_widgets_input_number__WEBPACK_IMPORTED_MODULE_1__.Z,_widgets_numeric_input__WEBPACK_IMPORTED_MODULE_2__.ZP,_widgets_expression__WEBPACK_IMPORTED_MODULE_0__.Z]},"./packages/perseus/src/components/button-group.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var aphrodite__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");class ButtonGroup extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static defaultProps={value:null,allowEmpty:!0};componentWillUnmount(){this.container=null}focus(){if(this.container)return this.container.focus(),!0}toggleSelect(newValue){const value=this.props.value;this.props.allowEmpty?this.props.onChange(value!==newValue?newValue:null):this.props.onChange(newValue)}render(){const value=this.props.value,buttons=this.props.buttons.map(((button,i)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{title:button.title,type:"button",id:""+i,ref:"button"+i,key:""+i,className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.buttonStyle,button.value===value&&styles.selectedStyle),onClick:()=>this.toggleSelect(button.value)},button.content||""+button.value)));return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{display:"inline-block"},ref:node=>this.container=node},buttons)}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_0__.StyleSheet.create({buttonStyle:{backgroundColor:"white",border:"1px solid #ccc",borderLeft:"0",cursor:"pointer",margin:"0",padding:"5px 10px",position:"relative",":first-child":{borderLeft:"1px solid #ccc",borderTopLeftRadius:"3px",borderBottomLeftRadius:"3px"},":last-child":{borderRight:"1px solid #ccc",borderTopRightRadius:"3px",borderBottomRightRadius:"3px"},":hover":{backgroundColor:"#ccc"},":focus":{zIndex:2}},selectedStyle:{backgroundColor:"#ddd"}}),__WEBPACK_DEFAULT_EXPORT__=ButtonGroup;try{ButtonGroup.displayName="ButtonGroup",ButtonGroup.__docgenInfo={description:"ButtonGroup is an aesthetically pleasing group of buttons.",displayName:"ButtonGroup",props:{value:{defaultValue:{value:"null"},description:"",name:"value",required:!1,type:{name:"any"}},buttons:{defaultValue:null,description:"",name:"buttons",required:!0,type:{name:"readonly { value: any; content: ReactNode; title?: string | undefined; }[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value?: any) => unknown"}},allowEmpty:{defaultValue:{value:"true"},description:"",name:"allowEmpty",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/button-group.tsx#ButtonGroup"]={docgenInfo:ButtonGroup.__docgenInfo,name:"ButtonGroup",path:"packages/perseus/src/components/button-group.tsx#ButtonGroup"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/fixed-to-responsive.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_styles_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/styles/constants.ts");class FixedToResponsive extends react__WEBPACK_IMPORTED_MODULE_1__.Component{_isMounted=!1;static defaultProps={className:"",constrainHeight:!1,allowFullBleed:!1};state={viewportHeight:null,viewportWidth:null};componentDidMount(){this._isMounted=!0,window.innerHeight<480?setTimeout(this._cacheViewportSize,800):this._cacheViewportSize()}componentWillUnmount(){this._isMounted=!1}_cacheViewportSize=()=>{this._isMounted&&this.setState({viewportHeight:Math.max(480,window.innerHeight),viewportWidth:window.innerWidth})};render(){const aspectRatio=this.props.width/this.props.height,spacer=react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{paddingBottom:100*(1/aspectRatio).toFixed(4)+"%"}});let{width,height}=this.props;if(this.props.constrainHeight&&this.state.viewportHeight){const maxHeight=2/3*this.state.viewportHeight;this.props.height>=maxHeight&&(height=maxHeight,width=maxHeight*aspectRatio)}const style={maxWidth:width,maxHeight:height},className=classnames__WEBPACK_IMPORTED_MODULE_0___default()("fixed-to-responsive",this.props.className),container=react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className,style},spacer,this.props.children);return this.props.allowFullBleed&&this.state.viewportWidth&&width>=this.state.viewportWidth?react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{marginLeft:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.mi,marginRight:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.mi}},container):container}}const __WEBPACK_DEFAULT_EXPORT__=FixedToResponsive;try{FixedToResponsive.displayName="FixedToResponsive",FixedToResponsive.__docgenInfo={description:"",displayName:"FixedToResponsive",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},constrainHeight:{defaultValue:{value:"false"},description:"",name:"constrainHeight",required:!1,type:{name:"boolean"}},allowFullBleed:{defaultValue:{value:"false"},description:"",name:"allowFullBleed",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/fixed-to-responsive.tsx#FixedToResponsive"]={docgenInfo:FixedToResponsive.__docgenInfo,name:"FixedToResponsive",path:"packages/perseus/src/components/fixed-to-responsive.tsx#FixedToResponsive"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/graph.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_asset_context__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/asset-context.ts"),_styles_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/styles/constants.ts"),_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/util.ts"),_util_graph_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/util/graph-utils.ts"),_svg_image__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/components/svg-image.tsx");const defaultBackgroundImage={url:null},defaultInstructionsStyle={fontStyle:"italic",fontWeight:"bold",fontSize:"32px",width:"100%",height:"100%",textAlign:"center",backgroundColor:"white",position:"absolute",zIndex:1,transition:"opacity .25s ease-in-out"},instructionsTextStyle={position:"relative",top:"25%"};class Graph extends react__WEBPACK_IMPORTED_MODULE_2__.Component{static defaultProps={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],snapStep:[.5,.5],markings:"graph",backgroundImage:defaultBackgroundImage,showProtractor:!1,showRuler:!1,rulerLabel:"",rulerTicks:10,isMobile:!1};componentDidMount(){this._setupGraphie(!0)}UNSAFE_componentWillReceiveProps(nextProps){const self=this;underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.each(["labels","range","step","markings","showProtractor","showRuler","rulerLabel","rulerTicks","gridStep","snapStep"],(function(prop){underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.isEqual(self.props[prop],nextProps[prop])||(self._shouldSetupGraphie=!0)}))}componentDidUpdate(){this._hasSetupGraphieThisUpdate=!1,this._shouldSetupGraphie&&(this._setupGraphie(!1),this._shouldSetupGraphie=!1)}reset=()=>{this._setupGraphie(!1)};graphie=()=>this._graphie;pointsFromNormalized=(coordsList,noSnap)=>{const self=this;return underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map(coordsList,(function(coords){return underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map(coords,(function(coord,i){const range=self.props.range[i];if(noSnap)return range[0]+(range[1]-range[0])*coord;const step=self.props.step[i],nSteps=function numSteps(range,step){return Math.floor((range[1]-range[0])/step)}(range,step),tick=Math.round(coord*nSteps);return range[0]+step*tick}))}))};_setupGraphie=initialMount=>{if(this._hasSetupGraphieThisUpdate)return;const graphieDiv=react_dom__WEBPACK_IMPORTED_MODULE_3__.findDOMNode(this.refs.graphieDiv);jquery__WEBPACK_IMPORTED_MODULE_1___default()(graphieDiv).empty();const labels=this.props.labels.map((label=>_util__WEBPACK_IMPORTED_MODULE_7__.default.unescapeMathMode(label))),range=this.props.range,graphie=this._graphie=_util_graph_utils__WEBPACK_IMPORTED_MODULE_8__.Z.createGraphie(graphieDiv),gridConfig=this._getGridConfig();graphie.snap=this.props.snapStep,"graph"===this.props.markings?(graphie.graphInit({range,scale:_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.map(gridConfig,(g=>g.scale)),axisArrows:"<->",labelFormat:function(s){return"\\small{"+s+"}"},gridStep:this.props.gridStep,tickStep:_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.map(gridConfig,(g=>g.tickStep)),labelStep:1,unityLabels:_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.map(gridConfig,(g=>g.unityLabel)),isMobile:this.props.isMobile}),graphie.label([0,range[1][1]],labels[1],this.props.isMobile?"below right":"above"),graphie.label([range[0][1],0],labels[0],this.props.isMobile?"above left":"right")):"grid"===this.props.markings?graphie.graphInit({range,scale:_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.map(gridConfig,(g=>g.scale)),gridStep:this.props.gridStep,axes:!1,ticks:!1,labels:!1,isMobile:this.props.isMobile}):"none"===this.props.markings&&graphie.init({range,scale:_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.map(gridConfig,(g=>g.scale)),isMobile:this.props.isMobile});let $instructionsWrapper;if(this.props.instructions){$instructionsWrapper=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div/>"),underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.each(defaultInstructionsStyle,(function(value,key){$instructionsWrapper.css(key,value)})),$instructionsWrapper.css("opacity",.5);const $instructions=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<span/>",{text:this.props.instructions});underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.each(instructionsTextStyle,(function(value,key){$instructions.css(key,value)})),$instructionsWrapper.append($instructions),jquery__WEBPACK_IMPORTED_MODULE_1___default()(graphieDiv).append($instructionsWrapper)}else $instructionsWrapper=void 0;const onMouseDown=$instructionsWrapper||this.props.onMouseDown?underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.bind((function(coord){$instructionsWrapper&&($instructionsWrapper.remove(),$instructionsWrapper=null),this.props.onMouseDown(coord)}),this):void 0,onMouseOver=$instructionsWrapper?function(){$instructionsWrapper&&$instructionsWrapper.css("opacity",0)}:void 0,onMouseOut=$instructionsWrapper?function(){$instructionsWrapper&&$instructionsWrapper.css("opacity",.5)}:void 0;if(graphie.addMouseLayer({onClick:this.props.onClick,onMouseDown,onMouseOver,onMouseOut,onMouseMove:this.props.onMouseMove,allowScratchpad:!0,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),this.props.lockedFigures)for(const lockedFigure of this.props.lockedFigures){if("point"!==lockedFigure.type){lockedFigure.type;throw new Error(`Unknown locked shape type: ${lockedFigure.type}`)}graphie.circle(lockedFigure.coord,.2,lockedFigure.style)}this._updateProtractor(),this._updateRuler(),this._hasSetupGraphieThisUpdate=!0,!initialMount&&this.props.onGraphieUpdated&&this.props.onGraphieUpdated(graphie)};_getGridConfig=()=>_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.map(this.props.step,((step,i)=>_util__WEBPACK_IMPORTED_MODULE_7__.default.gridDimensionConfig(step,this.props.range[i],this.props.box[i],this.props.gridStep[i])));_updateProtractor=()=>{if(this.protractor&&this.protractor.remove(),this.props.showProtractor){const coord=this.pointsFromNormalized([[.5,.05]])[0];this.protractor=this._graphie.protractor(coord)}};_updateRuler=()=>{if(this.ruler&&this.ruler.remove(),this.props.showRuler){const coord=this.pointsFromNormalized([[.5,.25]])[0],extent=this._graphie.range[0][1]-this._graphie.range[0][0];this.ruler=this._graphie.ruler({center:coord,label:this.props.rulerLabel,pixelsPerUnit:this._graphie.scale[0],ticksPerUnit:this.props.rulerTicks,units:Math.round(.8*extent)})}};toJSON=()=>underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.pick(this.props,"range","step","markings","labels","backgroundImage","showProtractor","showRuler","rulerLabel","rulerTicks","gridStep","snapStep");render(){let image;const imageData=this.props.backgroundImage;if(imageData.url){const scale=this.props.box[0]/_styles_constants__WEBPACK_IMPORTED_MODULE_6__.interactiveSizes.defaultBoxSize;image=react__WEBPACK_IMPORTED_MODULE_2__.createElement(_asset_context__WEBPACK_IMPORTED_MODULE_5__.Z.Consumer,null,(_ref=>{let{setAssetStatus}=_ref;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_svg_image__WEBPACK_IMPORTED_MODULE_9__.Z,{src:imageData.url,width:imageData.width,height:imageData.height,scale,responsive:!1,setAssetStatus})}))}else image=null;return react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:"graphie-container above-scratchpad",style:{width:this.props.box[0],height:this.props.box[1]},onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver,onClick:this.onClick},image,react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:"graphie",ref:"graphieDiv"}))}}const __WEBPACK_DEFAULT_EXPORT__=Graph;try{Graph.displayName="Graph",Graph.__docgenInfo={description:"",displayName:"Graph",props:{box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"[number, number]"}},labels:{defaultValue:{value:'["x", "y"]'},description:"",name:"labels",required:!1,type:{name:"readonly string[]"}},range:{defaultValue:{value:"[\n            [-10, 10],\n            [-10, 10],\n        ]"},description:"",name:"range",required:!1,type:{name:"[Coord, Coord]"}},step:{defaultValue:{value:"[1, 1]"},description:"",name:"step",required:!1,type:{name:"[number, number]"}},gridStep:{defaultValue:{value:"[1, 1]"},description:"",name:"gridStep",required:!1,type:{name:"[number, number]"}},snapStep:{defaultValue:{value:"[0.5, 0.5]"},description:"",name:"snapStep",required:!1,type:{name:"[number, number]"}},markings:{defaultValue:{value:"graph"},description:"",name:"markings",required:!1,type:{name:"enum",value:[{value:'"grid"'},{value:'"none"'},{value:'"graph"'}]}},backgroundImage:{defaultValue:{value:"{\n    url: null,\n}"},description:"",name:"backgroundImage",required:!1,type:{name:"PerseusImageBackground"}},showProtractor:{defaultValue:{value:"false"},description:"",name:"showProtractor",required:!1,type:{name:"boolean"}},showRuler:{defaultValue:{value:"false"},description:"",name:"showRuler",required:!1,type:{name:"boolean"}},rulerLabel:{defaultValue:{value:""},description:"",name:"rulerLabel",required:!1,type:{name:"string"}},rulerTicks:{defaultValue:{value:"10"},description:"",name:"rulerTicks",required:!1,type:{name:"number"}},instructions:{defaultValue:null,description:"",name:"instructions",required:!1,type:{name:"string"}},isMobile:{defaultValue:{value:"false"},description:"",name:"isMobile",required:!1,type:{name:"boolean"}},lockedFigures:{defaultValue:null,description:"",name:"lockedFigures",required:!1,type:{name:"readonly LockedPoint[]"}},onGraphieUpdated:{defaultValue:null,description:"",name:"onGraphieUpdated",required:!1,type:{name:"((graphie: any) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((Coord: any) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((Coord: any) => void)"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"((Coord: any) => void)"}},setDrawingAreaAvailable:{defaultValue:null,description:"",name:"setDrawingAreaAvailable",required:!1,type:{name:"((boolean: any) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/graph.tsx#Graph"]={docgenInfo:Graph.__docgenInfo,name:"Graph",path:"packages/perseus/src/components/graph.tsx#Graph"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/graphie.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>components_graphie});var jquery=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),interactive_util=__webpack_require__("./packages/perseus/src/interactive2/interactive-util.ts"),log=__webpack_require__("./packages/perseus/src/logging/log.ts"),util=__webpack_require__("./packages/perseus/src/util.ts"),graph_utils=__webpack_require__("./packages/perseus/src/util/graph-utils.ts"),graphie=__webpack_require__("./packages/perseus/src/util/graphie.ts"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts");const nestedMap=util.default.nestedMap,deepEq=util.default.deepEq;function GraphieMovable(descriptor){index_all.ZP.extend(this,descriptor)}const abstractMethod=function(){throw new perseus_error.u("Abstract method! Must be implemented by Graphie Movable"+this.constructor.displayName,log.D.NotAllowed)};index_all.ZP.extend(GraphieMovable.prototype,{movableProps:[],add:abstractMethod,modify:abstractMethod,remove:abstractMethod,toFront:function(){},componentDidMount:function(){}});const createClass=function(spec){const GraphieClass=function(props){if(!(this instanceof GraphieClass))throw new perseus_error.u("Use createElement or JSX with graphie movables",log.D.NotAllowed);return this.props=function(props,childrenArray){return index_all.ZP.extend({},props,{children:index_all.ZP.filter(index_all.ZP.flatten(childrenArray),index_all.ZP.identity)})}(props,props.children||[]),this};return spec.displayName=spec.displayName||index_all.ZP.uniqueId("GraphieClass"),GraphieClass.displayName=spec.displayName,GraphieClass.prototype=new GraphieMovable(spec),GraphieClass.prototype.constructor=GraphieClass,GraphieClass},graphie_classes={GraphieMovable,createClass,createSimpleClass:function(addFunction){return createClass({displayName:addFunction.name||index_all.ZP.uniqueId("GraphieSimpleClass"),movableProps:["children"],add:function(graphie){this._elements=addFunction(graphie,this.props),this._prevProps=this.props},modify:function(graphie){if(!deepEq(this.props,this._prevProps))return this.remove(),this.add(graphie),this._prevProps=this.props,"reordered"},remove:function(){nestedMap(this._elements,(elem=>{elem&&elem.remove()})),this._elements=null,this._prevProps=null},toFront:function(){nestedMap(this._elements,(elem=>{index_all.ZP.isFunction(elem.toFront)&&elem.toFront()}))}})}};var dependencies=__webpack_require__("./packages/perseus/src/dependencies.ts"),interactive2=__webpack_require__("./packages/perseus/src/interactive2.ts"),colors=__webpack_require__("./packages/perseus/src/util/colors.ts");const MovablePoint=graphie_classes.createClass({displayName:"MovablePoint",movableProps:["children"],_getProps:function(){if(this.props.isMobile){const isMobile=this.props.isMobile,commonStyle=isMobile?{stroke:"#ffffff","stroke-width":3,fill:colors.Z.INTERACTIVE}:{stroke:colors.Z.INTERACTIVE,fill:colors.Z.INTERACTIVE},normalStyle=isMobile?Object.assign(commonStyle,this.props.mobileStyleOverride||{}):Object.assign(commonStyle,this.props.normalStyle),highlightStyle=isMobile?{...commonStyle,"stroke-width":0,scale:.75}:this.props.highlightStyle,addedProps=Object.assign({normalStyle,highlightStyle,shadow:isMobile,tooltip:isMobile&&this.props.showTooltips},isMobile?{pointSize:7}:{});return Object.assign(this.props,addedProps)}return this.props},add:function(graphie){this.point=interactive2.Z.addMovablePoint(graphie,this._getProps())},modify:function(){this.point.modify(this._getProps())},remove:function(){this.point.remove()},toFront:function(){this.point.toFront()},grab:function(coord){this.point.grab(coord)}});index_all.ZP.extend(MovablePoint,interactive2.Z.MovablePoint);const MovableLine=graphie_classes.createClass({displayName:"MovableLine",movableProps:["children"],add:function(graphie){const points=index_all.ZP.pluck(this.props.children,"point"),props=index_all.ZP.extend({},this.props,{points});this.line=interactive2.Z.addMovableLine(graphie,props)},modify:function(){const points=index_all.ZP.pluck(this.props.children,"point"),props=index_all.ZP.extend({},this.props,{points});this.line.modify(props)},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}});index_all.ZP.extend(MovableLine,interactive2.Z.MovableLine);const Label=graphie_classes.createSimpleClass(((graphie,props)=>{let coord=props.coord;props.unscaled&&(coord=graphie.unscalePoint(coord));let elem=null;return(0,dependencies.getDependencies)().JIPT.useJIPT?(elem=graphie.label(coord,props.text,props.direction,!1,props.style),(0,dependencies.getDependencies)().graphieMovablesJiptLabels.addLabel(elem,props.tex)):elem=graphie.label(coord,props.text,props.direction,props.tex,props.style),elem})),Line=graphie_classes.createClass({displayName:"Line",movableProps:["children"],add:function(graphie){const props=this.props;this.graphie=graphie,this.line=this.graphie.line(props.start,props.end,props.style)},modify:function(){const props=this.props,path=this.graphie.svgPath([props.start,props.end]);this.line.attr(index_all.ZP.extend({},props.style,{path}))},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}}),Parabola=graphie_classes.createClass({displayName:"Parabola",movableProps:["children"],add:function(graphie){const props=this.props;this.graphie=graphie,this.parabola=this.graphie.parabola(props.a,props.b,props.c,props.style)},modify:function(){const props=this.props,path=this.graphie.svgParabolaPath(props.a,props.b,props.c);this.parabola.attr(index_all.ZP.extend({},props.style,{path}))},remove:function(){this.parabola.remove()},toFront:function(){this.parabola.toFront()}}),Sinusoid=graphie_classes.createClass({displayName:"Sinusoid",movableProps:["children"],add:function(graphie){const props=this.props;this.graphie=graphie,this.sinusoid=this.graphie.sinusoid(props.a,props.b,props.c,props.d,props.style)},modify:function(){const props=this.props,path=this.graphie.svgSinusoidPath(props.a,props.b,props.c,props.d);this.sinusoid.attr(index_all.ZP.extend({},props.style,{path}))},remove:function(){this.sinusoid.remove()},toFront:function(){this.sinusoid.toFront()}}),Plot=graphie_classes.createSimpleClass(((graphie,props)=>graphie.plot(props.fn,props.range,props.style))),PlotParametric=graphie_classes.createSimpleClass(((graphie,props)=>graphie.plotParametric(props.fn,props.range,props.style))),Point=graphie_classes.createSimpleClass(((graphie,props)=>graphie.ellipse(props.coord,graphie.unscaleVector([4,4]),{fill:props.color||colors.Z.BLACK,stroke:props.color||colors.Z.BLACK}))),Path=graphie_classes.createClass({displayName:"Path",movableProps:["children"],add:function(graphie){const props=this.props;this.graphie=graphie,this.path=this.graphie.path(props.coords,props.style)},modify:function(){const props=this.props,path=this.graphie.svgPath(props.coords);this.path.attr({path})},remove:function(){this.path.remove()},toFront:function(){this.path.toFront()}}),Arc=graphie_classes.createSimpleClass(((graphie,props)=>{let center=props.center,radius=props.radius;return props.unscaled&&(center=graphie.unscalePoint(center),radius=graphie.unscaleVector(radius)),graphie.arc(center,radius,props.startAngle,props.endAngle,props.sector,props.style)})),Circle=graphie_classes.createSimpleClass(((graphie,props)=>graphie.circle(props.center,props.radius,props.style))),Rect=graphie_classes.createSimpleClass(((graphie,props)=>graphie.rect(props.x,props.y,props.width,props.height,props.style))),graphie_movables={Arc,Circle,Label,Line,MovableLine,MovablePoint,Parabola,Path,Plot,PlotParametric,Point,Sinusoid,Rect},graphie_GraphieMovable=graphie_classes.GraphieMovable,createGraphie=graph_utils.Z.createGraphie,{deepEq:graphie_deepEq,nestedMap:graphie_nestedMap}=util.default,{assert}=interactive_util.default;class Graphie extends react.Component{graphieDivRef=react.createRef();_graphie=new graphie.GM(document.createElement("div"));_movables={};movables={};static defaultProps={range:[[-10,10],[-10,10]],options:{},responsive:!1,addMouseLayer:!0};componentDidMount(){this._setupGraphie(),this._updateMovables()}shouldComponentUpdate(nextProps){return!index_all.ZP.isEqual(this.props,nextProps)}componentDidUpdate(prevProps){this.props.setup!==prevProps.setup&&log.Z.error("<Graphie> was given a new setup function. This is a bad idea; please refactor your code to give the same setup function reference to <Graphie> on every render.",log.D.Internal),graphie_deepEq(this.props.options,prevProps.options)&&graphie_deepEq(this.props.box,prevProps.box)&&graphie_deepEq(this.props.range,prevProps.range)||this._setupGraphie(),this._updateMovables()}getGraphie=()=>this._graphie;_range=()=>{const boundsCheckRange=range=>range[0]>=range[1]?[-10,10]:range;return[boundsCheckRange(this.props.range[0]),boundsCheckRange(this.props.range[1])]};_box=()=>{const ensureMinSize=pixelDim=>pixelDim>0?pixelDim:340;return[ensureMinSize(this.props.box[0]),ensureMinSize(this.props.box[1])]};_scale=()=>{const box=this._box(),range=this._range();return box.map(((pixelDim,i)=>pixelDim/(range[i][1]-range[i][0])))};_setupGraphie=()=>{this._removeMovables();const graphieDiv=react_dom.findDOMNode(this.graphieDivRef.current);if(null==graphieDiv||graphieDiv instanceof Text)throw new Error("No graphie container div found");graphieDiv.innerHTML="";const graphie=this._graphie=createGraphie(graphieDiv);graphie.init({range:this._range(),scale:this._scale(),isMobile:this.props.isMobile}),this.props.addMouseLayer&&graphie.addMouseLayer({onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),graphie.snap=this.props.options.snapStep||[1,1],this.props.responsive&&(jquery_default()(graphieDiv).css({width:"100%",height:"100%"}),graphie.raphael.setSize("100%","100%")),this.props.setup(graphie,index_all.ZP.extend({range:this._range(),scale:this._scale()},this.props.options))};_removeMovables=()=>{index_all.ZP.invoke(this._movables,"remove"),this._movables={}};_renderMovables=(children,options)=>{const graphie=options.graphie,oldMovables=options.oldMovables,newMovables=options.newMovables,renderChildren=elem=>{index_all.ZP.each(elem.movableProps,(prop=>{elem.props[prop]=this._renderMovables(elem.props[prop],options)}))};let areMovablesOutOfOrder=!1;return graphie_nestedMap(children,(childDescriptor=>{if(!childDescriptor)return options.nextKey++,childDescriptor;const child=new childDescriptor.type(childDescriptor.props);assert(child instanceof graphie_GraphieMovable,"All children of a Graphie component must be Graphie movables");const keyProp=childDescriptor.key,key=null==keyProp?"_no_id_"+options.nextKey:keyProp;options.nextKey++;const ref=childDescriptor.ref;renderChildren(child);const prevMovable=oldMovables[key];if(prevMovable)if(child.constructor===prevMovable.constructor){prevMovable.props=child.props;"reordered"===prevMovable.modify(graphie)&&(areMovablesOutOfOrder=!0),newMovables[key]=prevMovable}else null==keyProp&&log.Z.error("Replacing a <Graphie> child with a child of a different type. Please add keys to your <Graphie> children",log.D.Internal),prevMovable.remove(),child.add(graphie),areMovablesOutOfOrder=!0,newMovables[key]=child;else child.add(graphie),areMovablesOutOfOrder=!0,newMovables[key]=child;return areMovablesOutOfOrder&&newMovables[key].toFront(),ref&&(this.movables[ref]=newMovables[key]),newMovables[key]}))};_updateMovables=()=>{const graphie=this._graphie,oldMovables=this._movables,newMovables={};this._movables=newMovables,this.movables={},this._renderMovables(this.props.children,{nextKey:1,graphie,oldMovables,newMovables}),index_all.ZP.each(oldMovables,((oldMovable,key)=>{newMovables[key]||oldMovable.remove()}))};render(){return react.createElement("div",{className:"graphie-container"},react.createElement("div",{className:"graphie",ref:this.graphieDivRef}))}}index_all.ZP.extend(Graphie,graphie_classes),index_all.ZP.extend(Graphie,graphie_movables);const components_graphie=Graphie;try{Graphie.displayName="Graphie",Graphie.__docgenInfo={description:"",displayName:"Graphie",props:{addMouseLayer:{defaultValue:{value:"true"},description:"",name:"addMouseLayer",required:!1,type:{name:"boolean"}},box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"Size"}},range:{defaultValue:{value:"[\n            [-10, 10],\n            [-10, 10],\n        ]"},description:"",name:"range",required:!1,type:{name:"[Coord, Coord]"}},ranges:{defaultValue:null,description:"",name:"ranges",required:!1,type:{name:"[Range, Range]"}},gridStep:{defaultValue:null,description:"",name:"gridStep",required:!1,type:{name:"[number, number]"}},step:{defaultValue:null,description:"",name:"step",required:!1,type:{name:"[number, number]"}},scale:{defaultValue:null,description:"",name:"scale",required:!1,type:{name:"[number, number]"}},isMobile:{defaultValue:null,description:"",name:"isMobile",required:!1,type:{name:"boolean"}},responsive:{defaultValue:{value:"false"},description:"",name:"responsive",required:!1,type:{name:"boolean"}},options:{defaultValue:{value:"{}"},description:"",name:"options",required:!1,type:{name:"any"}},setDrawingAreaAvailable:{defaultValue:null,description:"",name:"setDrawingAreaAvailable",required:!1,type:{name:"((boolean: any) => void)"}},setup:{defaultValue:null,description:"",name:"setup",required:!0,type:{name:"(graphie: any, options: { range: [Coord, Coord]; scale: [number, number]; }) => void"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((at: Coord) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((at: Coord) => void)"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"((at: Coord) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/graphie.tsx#Graphie"]={docgenInfo:Graphie.__docgenInfo,name:"Graphie",path:"packages/perseus/src/components/graphie.tsx#Graphie"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/hud.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var aphrodite__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_styles_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/styles/constants.ts");const VisibleIcon=()=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.icon)},react__WEBPACK_IMPORTED_MODULE_1__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{id:"a",d:"M7.401 10.035c-1.424.748-2.599 1.905-3.544 3.48a1 1 0 0 1-1.714-1.03C4.325 8.849 7.652 7 12 7c4.348 0 7.675 1.848 9.857 5.486a1 1 0 0 1-1.714 1.028c-.945-1.574-2.12-2.73-3.544-3.48a5 5 0 1 1-9.198 0zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{fill:"none",fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("mask",{id:"b",fill:"#fff"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("use",{href:"#a"})),react__WEBPACK_IMPORTED_MODULE_1__.createElement("use",{fill:"#fff",fillRule:"nonzero",href:"#a"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{fill:"#fff",mask:"url(#b)"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:"M0 0h24v24H0z"})))),HiddenIcon=()=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.icon)},react__WEBPACK_IMPORTED_MODULE_1__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{id:"a",d:"M8.794 7.38C9.791 7.127 10.86 7 12 7c4.348 0 7.675 1.848 9.857 5.486a1 1 0 0 1-1.714 1.028c-.945-1.574-2.12-2.73-3.544-3.48.258.604.401 1.268.401 1.966 0 1.02-.305 1.967-.828 2.757l2.535 2.536a1 1 0 0 1-1.414 1.414l-12-12a1 1 0 0 1 1.414-1.414L8.794 7.38zm5.914 5.913a3 3 0 0 0-4.001-4.001l4 4.001zM6.072 8.486l2.976 2.976a3 3 0 0 0 3.49 3.49l1.579 1.58A5 5 0 0 1 7.4 10.035c-1.424.747-2.599 1.904-3.544 3.478a1 1 0 0 1-1.714-1.028c1.049-1.75 2.363-3.085 3.929-4z"})),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{fill:"none",fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("mask",{id:"b",fill:"#fff"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("use",{href:"#a"})),react__WEBPACK_IMPORTED_MODULE_1__.createElement("use",{fill:"#fff",fillRule:"nonzero",href:"#a"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{fill:"#fff",mask:"url(#b)"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",{d:"M0 0h24v24H0z"})))),styles=aphrodite__WEBPACK_IMPORTED_MODULE_0__.StyleSheet.create({hud:{boxSizing:"border-box",height:36,padding:"9px 16px",borderRadius:18,fontFamily:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.NV,fontSize:"15px",lineHeight:"18px",color:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.ix,userSelect:"none",borderWidth:0},hudFixedPosition:{bottom:20,position:"fixed",right:20,zIndex:1},icon:{width:24,height:24,marginRight:8,marginTop:-3,verticalAlign:"middle"},enabled:{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.nI,":hover":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.ty},":active":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.rk}},disabled:{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.o,":hover":{backgroundColor:"#a1a5a9"},":active":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.uD}}}),__WEBPACK_DEFAULT_EXPORT__=_ref=>{let state,icon,{message,enabled,onClick,fixedPosition=!0}=_ref;return enabled?(state=styles.enabled,icon=react__WEBPACK_IMPORTED_MODULE_1__.createElement(VisibleIcon,null)):(state=styles.disabled,icon=react__WEBPACK_IMPORTED_MODULE_1__.createElement(HiddenIcon,null)),react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.hud,fixedPosition&&styles.hudFixedPosition,state),onClick:e=>{onClick()}},icon,message)};try{hud.displayName="hud",hud.__docgenInfo={description:"",displayName:"hud",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},enabled:{defaultValue:null,description:"",name:"enabled",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},fixedPosition:{defaultValue:{value:"true"},description:"",name:"fixedPosition",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/hud.tsx#hud"]={docgenInfo:hud.__docgenInfo,name:"hud",path:"packages/perseus/src/components/hud.tsx#hud"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");class Icon extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static defaultProps={color:"currentColor"};render(){const{color,pathClassName,className,title,style,alt}=this.props;let{icon,size}=this.props,units="";"string"==typeof icon&&(icon={path:icon,width:10,height:10}),"number"!=typeof size&&(size=1,units="em");const height=size,width=height/icon.height*icon.width,focusable=!!this.props.focusable;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{role:"img",alt,"aria-label":title,"aria-hidden":!title||null,className,style,focusable:focusable.toString(),width:width+units,height:height+units,viewBox:`0 0 ${icon.width} ${icon.height}`},!!title&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",null,title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{className:pathClassName,fill:color,d:icon.path}))}}const __WEBPACK_DEFAULT_EXPORT__=Icon;try{Icon.displayName="Icon",Icon.__docgenInfo={description:"",displayName:"Icon",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},color:{defaultValue:{value:"currentColor"},description:"",name:"color",required:!1,type:{name:"string"}},focusable:{defaultValue:null,description:"",name:"focusable",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string | IconType"}},pathClassName:{defaultValue:null,description:"",name:"pathClassName",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},alt:{defaultValue:null,description:"",name:"alt",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/icon.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"packages/perseus/src/components/icon.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/image-loader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_dependencies__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/dependencies.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const Status_PENDING="pending",Status_LOADING="loading",Status_LOADED="loaded",Status_FAILED="failed";class ImageLoader extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state={status:props.src?Status_LOADING:Status_PENDING}}componentDidMount(){this.state.status===Status_LOADING&&this.createLoader()}UNSAFE_componentWillReceiveProps(nextProps){this.props.src!==nextProps.src&&this.setState({status:nextProps.src?Status_LOADING:Status_PENDING})}componentDidUpdate(prevProps,prevState){this.state.status!==Status_LOADING||this.img||this.createLoader(),prevState.status!==this.state.status&&this.props.onUpdate(this.state.status)}componentWillUnmount(){this.destroyLoader()}createLoader=()=>{this.destroyLoader(),this.img=new Image,this.img.onload=this.handleLoad,this.img.onerror=this.handleError,this.img.src=this.props.src};destroyLoader=()=>{this.img&&(this.img.onload=null,this.img.onerror=null,this.img=null)};handleLoad=event=>{this.destroyLoader(),this.setState({status:Status_LOADED}),this.props.onLoad&&this.props.onLoad(event)};handleError=error=>{this.destroyLoader(),this.setState({status:Status_FAILED}),this.props.onError&&this.props.onError(error)};renderImg=()=>{const{src,imgProps}=this.props;let onKeyUp=null,onKeyDown=null;null!=imgProps.onClick&&(onKeyUp=e=>{13!==e.keyCode&&32!==e.keyCode||imgProps.onClick&&imgProps.onClick(e)},onKeyDown=e=>{32===e.keyCode&&e.preventDefault()});const staticUrl=(0,_dependencies__WEBPACK_IMPORTED_MODULE_1__.getDependencies)().staticUrl;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",_extends({src:staticUrl(src),onKeyUp,onKeyDown},imgProps))};render(){switch(this.state.status){case Status_LOADED:return this.renderImg();case Status_FAILED:if(this.props.children)return this.props.children;break;default:if(this.props.preloader)return this.props.preloader()}return null}}const __WEBPACK_DEFAULT_EXPORT__=ImageLoader;try{ImageLoader.displayName="ImageLoader",ImageLoader.__docgenInfo={description:"",displayName:"ImageLoader",props:{imgProps:{defaultValue:null,description:"",name:"imgProps",required:!0,type:{name:"ImageProps"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((event: Event) => void)"}},onLoad:{defaultValue:null,description:"",name:"onLoad",required:!1,type:{name:"((event: Event) => void)"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!0,type:{name:'(status: "pending" | "loading" | "loaded" | "failed") => void'}},preloader:{defaultValue:null,description:"",name:"preloader",required:!0,type:{name:"() => ReactElement<any, string | JSXElementConstructor<any>> | null | undefined"}},src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/image-loader.tsx#ImageLoader"]={docgenInfo:ImageLoader.__docgenInfo,name:"ImageLoader",path:"packages/perseus/src/components/image-loader.tsx#ImageLoader"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/info-tip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>components_info_tip});var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js");const colors_grayLight="#aaa",colors_basicBorderColor="#ccc",colors_white="#fff",triangleBeforeAfter={borderBottom:"9px solid transparent",borderTop:"9px solid transparent",content:'" "',height:"0",position:"absolute",top:"0",width:"0"},styles=lib.StyleSheet.create({infoTip:{display:"inline-block",marginLeft:"5px",position:"relative"},infoTipContainer:{position:"absolute",top:"-12px",left:"22px",zIndex:1e3},infoTipTriangle:{height:"10px",left:"0",position:"absolute",top:"8px",width:"0",zIndex:1,":before":{...triangleBeforeAfter,borderRight:"9px solid #bbb",right:"0"},":after":{...triangleBeforeAfter,borderRight:`9px solid ${colors_white}`,right:"-1px"}},verticalShadow:{border:`1px solid ${colors_basicBorderColor}`,boxShadow:`0 1px 3px ${colors_basicBorderColor}`,borderBottom:`1px solid ${colors_grayLight}`},infoTipContentContainer:{background:colors_white,padding:"5px 10px",width:"240px"}});class InfoTip extends react.Component{state={hover:!1};handleMouseEnter=()=>{this.setState({hover:!0})};handleMouseLeave=()=>{this.setState({hover:!1})};render(){return react.createElement("div",{className:(0,lib.css)(styles.infoTip)},react.createElement("img",{alt:"",width:10,height:10,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2N2M3NTAxYS04YmVlLTQ0M2MtYmRiNS04OGM2N2IxN2NhYzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUJCRTk4Qjc4NjAwMTFFMzg3QUJDNEI4Mzk2QTRGQkQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUJCRTk4QjY4NjAwMTFFMzg3QUJDNEI4Mzk2QTRGQkQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NGE5ZDI0OTMtODk1NC00OGFkLTlhMTgtZDAwM2MwYWNjNDJlIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY3Yzc1MDFhLThiZWUtNDQzYy1iZGI1LTg4YzY3YjE3Y2FjMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pqm89uYAAADMSURBVHjaXJA9DoJAEIUH1M4TUHIFsCMGen9OwCGw1YRGW2ntKel0exsojHIBC0ouQAyUviFDstmXfNmZeS+zm7XSNCXRFiRgJf0bXIHixpbhGdxBBJYC1w/xaA424MhNEATkui71fU9KqfEU78UbD9PdbJRlOdae55GmhIP+1NV1TcMwkOM41DSNHvRtMhTHMRVFQW3b6mOLgx99kue5GRp/gIOZuZGvNpTNwjD8oliANU+qqqKu6/TQBdymN57AHjzBT+B6Jx79BRgAvc49kQA4yxgAAAAASUVORK5CYII=",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),react.createElement("div",{className:(0,lib.css)(styles.infoTipContainer),style:{display:this.state.hover?"block":"none"}},react.createElement("div",{className:(0,lib.css)(styles.infoTipTriangle)}),react.createElement("div",{className:(0,lib.css)(styles.verticalShadow,styles.infoTipContentContainer)},this.props.children)))}}const info_tip=InfoTip;try{InfoTip.displayName="InfoTip",InfoTip.__docgenInfo={description:"",displayName:"InfoTip",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/info-tip/info-tip.tsx#InfoTip"]={docgenInfo:InfoTip.__docgenInfo,name:"InfoTip",path:"packages/perseus/src/components/info-tip/info-tip.tsx#InfoTip"})}catch(__react_docgen_typescript_loader_error){}class info_tip_InfoTip extends react.Component{state={didMount:!1};componentDidMount(){this.setState({didMount:!0})}render(){return this.state.didMount?react.createElement(info_tip,this.props):react.createElement("div",null)}}const components_info_tip=info_tip_InfoTip;try{info_tip_InfoTip.displayName="InfoTip",info_tip_InfoTip.__docgenInfo={description:"",displayName:"InfoTip",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/info-tip.tsx#InfoTip"]={docgenInfo:info_tip_InfoTip.__docgenInfo,name:"InfoTip",path:"packages/perseus/src/components/info-tip.tsx#InfoTip"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/inline-icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{path,width,height,style={},title}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{role:"img","aria-hidden":!title,style:{verticalAlign:"middle",...style},width:width/height+"em",height:"1em",viewBox:`0 0 ${width} ${height}`},!!title&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",null,title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:path,fill:"currentColor"}))};try{inlineicon.displayName="inlineicon",inlineicon.__docgenInfo={description:"A stripped version of Icon.jsx from webapp. Takes an SVG icon and renders it\ninline like Font Awesome did.\n\nIf you are looking for an icon that we've used before you should look in\nwebapp's `icon-paths.js` which is a reference file for all the SVG paths\nthat we've used. You'll need to copy the object from that file into\nwhichever file you're using the icon and explicitly pass it in to the\n<InlineIcon/> React component.\n\nWe assume that the viewBox is cropped and aligned to (0, 0), but icons can\nbe defined differently. At some point we might want to add these attributes\nto `icon-paths.js`, but for now this is a fairly safe assumption.\n\nSample usage:\n\n  const editIcon = {\n     path: \"M41.209 53.753l5.39 0l0 5.39l3.136 0l6.468-6.517-8.477-8.526-6.517 6.517l0 3.136zm33.173-34.937q-.882-.882-1.862.049l-19.6 19.6q-.931.98-.049 1.862t1.862-.049l19.6-19.6q.931-.98.049-1.862zm-38.563 45.668l0-16.121l37.632-37.632 16.17 16.121-37.632 37.632l-16.17 0zm43.022-12.397l0 10.633q-.049 6.713-4.753 11.417t-11.368 4.704l-46.599 0q-6.713 0-11.417-4.753t-4.704-11.368l0-46.599q0-6.664 4.753-11.417t11.368-4.704l46.599 0q3.528 0 6.566 1.372.833.392.98 1.323t-.49 1.617l-2.744 2.744q-.784.784-1.96.441t-2.352-.343l-46.599 0q-3.675 0-6.321 2.646t-2.646 6.321l0 46.599q0 3.675 2.646 6.321t6.321 2.646l46.599 0q3.675 0 6.321-2.646t2.646-6.321l0-7.056q0-.735.49-1.225l3.577-3.577q.833-.833 1.96-.392t1.127 1.617zm7.203-51.646q2.254 0 3.773 1.568l8.526 8.526q1.568 1.568 1.568 3.822t-1.568 3.773l-5.145 5.145-16.121-16.121 5.145-5.145q1.568-1.568 3.822-1.568z\",\n     width: 100,\n     height: 78.912,\n  };\n  <InlineIcon {...editIcon} />",displayName:"inlineicon",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"CSSProperties"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/inline-icon.tsx#inlineicon"]={docgenInfo:inlineicon.__docgenInfo,name:"inlineicon",path:"packages/perseus/src/components/inline-icon.tsx#inlineicon"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/input-with-examples.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_perseus_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_renderer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/util.ts"),_math_input__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/components/math-input.tsx"),_math_output__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/components/math-output.tsx"),_text_input__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/components/text-input.tsx"),_tooltip__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/components/tooltip.tsx");const{captureScratchpadTouchStart}=_util__WEBPACK_IMPORTED_MODULE_5__.default;class InputWithExamples extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static defaultProps={type:"text",shouldShowExamples:!0,onFocus:function(){},onBlur:function(){},disabled:!1,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_,className:""};state={focused:!1,showExamples:!1};_getUniqueId=()=>`input-with-examples-${btoa(this.props.id).replace(/=/g,"")}`;_getInputClassName=()=>{if("tex"===this.props.type)return this.props.className;let className=_perseus_api__WEBPACK_IMPORTED_MODULE_3__.m.INPUT+" "+_perseus_api__WEBPACK_IMPORTED_MODULE_3__.m.INTERACTIVE;return this.state.focused&&(className+=" "+_perseus_api__WEBPACK_IMPORTED_MODULE_3__.m.FOCUSED),this.props.className&&(className+=" "+this.props.className),className};_getPropsForInputType=()=>{const id=this._getUniqueId(),inputProps={id,"aria-describedby":id,ref:"input",className:this._getInputClassName(),labelText:this.props.labelText,value:this.props.value,onFocus:this._handleFocus,onBlur:this._handleBlur,disabled:this.props.disabled,style:this.props.style};return"tex"===this.props.type?inputProps:(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend(inputProps,{onChange:this.props.onChange,onTouchStart:captureScratchpadTouchStart}),"math"===this.props.type?underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({buttonSet:this.props.buttonSet,buttonsVisible:this.props.buttonsVisible,convertDotToTimes:this.props.convertDotToTimes},inputProps):"text"===this.props.type?underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false"},inputProps):void 0)};_getComponentForInputType=()=>{switch(this.props.type){case"tex":return _math_output__WEBPACK_IMPORTED_MODULE_7__.Z;case"math":return _math_input__WEBPACK_IMPORTED_MODULE_6__.Z;case"text":return _text_input__WEBPACK_IMPORTED_MODULE_8__.Z;default:return this.props.type,null}};_renderInput=()=>{const inputProps=this._getPropsForInputType(),InputComponent=this._getComponentForInputType();return react__WEBPACK_IMPORTED_MODULE_1__.createElement(InputComponent,inputProps)};render(){const input=this._renderInput();if("tex"===this.props.type)return input;const examplesContent=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(this.props.examples,(example=>"- "+example)).join("\n"),showExamples=this.props.shouldShowExamples&&this.state.showExamples;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_9__.ZP,{ref:"tooltip",className:"perseus-formats-tooltip preview-measure",horizontalPosition:_tooltip__WEBPACK_IMPORTED_MODULE_9__.po.Left,horizontalAlign:_tooltip__WEBPACK_IMPORTED_MODULE_9__.po.Left,verticalPosition:_tooltip__WEBPACK_IMPORTED_MODULE_9__.HO.Bottom,arrowSize:10,borderColor:"#ccc",show:showExamples},input,react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{id:this._getUniqueId()},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_4__.Z,{content:examplesContent,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.fQ(this.props.linterContext,"input-with-examples")})))}_handleFocus=()=>{this.props.onFocus(),this.setState({focused:!0,showExamples:!0})};show=()=>{this.setState({showExamples:!0})};hide=()=>{this.setState({showExamples:!1})};_handleBlur=()=>{this.props.onBlur(),this.setState({focused:!1,showExamples:!1})};focus=()=>{this.refs.input.focus()};blur=()=>{this.refs.input.blur()};handleChange=e=>{this.props.onChange(e.target.value)}}const __WEBPACK_DEFAULT_EXPORT__=InputWithExamples;try{InputWithExamples.displayName="InputWithExamples",InputWithExamples.__docgenInfo={description:"",displayName:"InputWithExamples",props:{type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"math"'},{value:'"tex"'}]}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"any"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},examples:{defaultValue:null,description:"",name:"examples",required:!0,type:{name:"readonly string[]"}},shouldShowExamples:{defaultValue:{value:"true"},description:"",name:"shouldShowExamples",required:!1,type:{name:"boolean"}},convertDotToTimes:{defaultValue:null,description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},buttonSet:{defaultValue:null,description:"",name:"buttonSet",required:!1,type:{name:"string"}},buttonsVisible:{defaultValue:null,description:"",name:"buttonsVisible",required:!1,type:{name:"enum",value:[{value:'"focused"'},{value:'"always"'},{value:'"never"'}]}},labelText:{defaultValue:null,description:"",name:"labelText",required:!1,type:{name:"string"}},onFocus:{defaultValue:{value:"function () {}"},description:"",name:"onFocus",required:!1,type:{name:"() => void"}},onBlur:{defaultValue:{value:"function () {}"},description:"",name:"onBlur",required:!1,type:{name:"() => void"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},linterContext:{defaultValue:{value:"PerseusLinter.linterContextDefault"},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/input-with-examples.tsx#InputWithExamples"]={docgenInfo:InputWithExamples.__docgenInfo,name:"InputWithExamples",path:"packages/perseus/src/components/input-with-examples.tsx#InputWithExamples"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/lint.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var aphrodite__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-dom/index.js"),_styles_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/styles/constants.ts"),_inline_icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/components/inline-icon.tsx");const exclamationIcon={path:"M6 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-9a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1z",height:12,width:12};var Severity=function(Severity){return Severity[Severity.Error=1]="Error",Severity[Severity.Warning=2]="Warning",Severity[Severity.Recommendation=3]="Recommendation",Severity[Severity.OfflineReportingOnly=4]="OfflineReportingOnly",Severity}(Severity||{});class Lint extends react__WEBPACK_IMPORTED_MODULE_1__.Component{state={tooltipAbove:!0};componentDidMount(){this._positionTimeout=window.setTimeout(this.getPosition)}componentWillUnmount(){window.clearTimeout(this._positionTimeout)}getPosition=()=>{const rect=react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this).getBoundingClientRect();this.setState({tooltipAbove:rect.top>100})};renderLink=style=>{const tooltipAbove=this.state.tooltipAbove;let severityStyle,warningText,warningTextStyle;return this.props.severity===Severity.Error?(severityStyle=styles.indicatorError,warningText="Error",warningTextStyle=styles.publishBlockingError):this.props.severity===Severity.Warning?(severityStyle=styles.indicatorWarning,warningText="Warning",warningTextStyle=styles.warning):(severityStyle=styles.indicatorGuideline,warningText="Recommendation",warningTextStyle=styles.warning),react__WEBPACK_IMPORTED_MODULE_1__.createElement("a",{href:`https://khanacademy.org/r/linter-rules#${this.props.ruleName}`,target:"lint-help-window",className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(style)},react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.indicator,severityStyle)},1===this.props.severity&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(_inline_icon__WEBPACK_IMPORTED_MODULE_4__.Z,exclamationIcon)),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.tooltip,tooltipAbove&&styles.tooltipAbove)},this.props.message.split("\n\n").map(((m,i)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("p",{key:i,className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.tooltipParagraph)},react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(warningTextStyle)},warningText,":"," "),m))),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.tail,tooltipAbove&&styles.tailAbove)})))};render(){const{children,inline,blockHighlight,insideTable}=this.props;return insideTable?inline?react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{"data-lint-inside-table":"true"},children):react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{"data-lint-inside-table":"true"},children):blockHighlight?react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.lintContainer,styles.lintContainerBlock)},this.renderLink(styles.radioWidgetHoverTarget),react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",null,children)):inline?react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.lintContainer)},this.renderLink(styles.inlineHoverTarget),react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",null,children)):react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.lintContainer)},this.renderLink(styles.hoverTarget),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,children))}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_0__.StyleSheet.create({lintContainer:{position:"relative"},lintContainerBlock:{display:"block"},hoverTarget:{position:"absolute",top:0,right:-40,display:"block",width:24,height:24,":hover > span":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.ty},":hover div":{display:"block"},":hover ~ div":{outline:"1px solid "+_styles_constants__WEBPACK_IMPORTED_MODULE_3__.nI},":hover ~ div div[data-lint-inside-table]":{outline:"1px solid "+_styles_constants__WEBPACK_IMPORTED_MODULE_3__.nI},":hover ~ div span[data-lint-inside-table]":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.nI,color:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.ix}},inlineHoverTarget:{float:"right",position:"relative",marginRight:-40,display:"block",width:24,height:24,":hover > span":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.ty},":hover div":{display:"block"},":hover ~ span":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.nI,color:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.ix}},radioWidgetHoverTarget:{position:"absolute",left:-40,display:"block",width:24,height:24,minWidth:264,":hover > span":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.ty},":hover > div":{display:"block",padding:8,width:280},":hover > div > div":{left:8},":hover ~ span":{backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.nI,color:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.ix}},indicator:{alignItems:"center",borderRadius:4,color:"white",display:"flex",fontSize:12,height:8,justifyContent:"center",margin:8,width:8},indicatorError:{backgroundColor:"#be2612",borderRadius:8,height:16,width:16},indicatorWarning:{backgroundColor:"#f86700"},indicatorGuideline:{backgroundColor:"#ffbe26"},tooltip:{position:"absolute",right:-12,display:"none",zIndex:1e3,color:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.ix,backgroundColor:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.$I,opacity:.9,fontFamily:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.Gl,fontSize:"12px",lineHeight:"15px",width:"320px",borderRadius:"4px"},tooltipAbove:{bottom:32},tail:{position:"absolute",top:-12,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"12px solid "+_styles_constants__WEBPACK_IMPORTED_MODULE_3__.$I},tailAbove:{bottom:-12,borderBottom:"none",borderTop:"12px solid "+_styles_constants__WEBPACK_IMPORTED_MODULE_3__.$I,top:"auto"},tooltipParagraph:{margin:12},warning:{color:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.nI,fontFamily:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.NV},publishBlockingError:{color:_styles_constants__WEBPACK_IMPORTED_MODULE_3__.KK}}),__WEBPACK_DEFAULT_EXPORT__=Lint;try{Lint.displayName="Lint",Lint.__docgenInfo={description:'This component renders "lint" nodes in a markdown parse tree. Lint nodes\nare inserted into the tree by the Perseus linter (see\nperseus-linter/src/index).\n\nThis component serves multiple purposes\n\n1) It renders a small circle in the right margin to indicate that there\nis lint on (or near) that line.\n\n2) The area around the circle is hoverable: when the mouse moves over it\nthe linty content is highlighted and a tooltip is displayed that explains\nwhat the problem is.\n\n3) The hoverable area is also an HTML <a> tag. Clicking on it opens\na new tab and links to additional details about the specific lint rule.\n\nThe CSS required to position the circles in the right margin is tricky\nand it does not always work perfectly. When lint occurs on a block element\nthat has a right margin (like anything blockquoted) the circle will appear\nto the left of where it belongs.  And if there is more',displayName:"Lint",props:{inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},ruleName:{defaultValue:null,description:"",name:"ruleName",required:!0,type:{name:"string"}},insideTable:{defaultValue:null,description:"",name:"insideTable",required:!0,type:{name:"boolean"}},blockHighlight:{defaultValue:null,description:"",name:"blockHighlight",required:!1,type:{name:"boolean"}},severity:{defaultValue:null,description:"",name:"severity",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"},{value:"4"}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/lint.tsx#Lint"]={docgenInfo:Lint.__docgenInfo,name:"Lint",path:"packages/perseus/src/components/lint.tsx#Lint"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/math-input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/math-input/src/index.ts"),_khanacademy_wonder_blocks_clickable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-clickable/dist/es/index.js"),_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),_khanacademy_wonder_blocks_popover__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-popover/dist/es/index.js"),_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-spacing/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),jquery__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_9__),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/underscore/modules/index-all.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const customKeyTranslator={..._khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.kE,FRAC:mathQuill=>{const contents=mathQuill.latex();mathQuill.typedText("/"),mathQuill.latex()===contents&&mathQuill.cmd("\\frac")}};class MathInput extends react__WEBPACK_IMPORTED_MODULE_10__.Component{__mathFieldWrapperRef=null;__mathField=null;static defaultProps={value:"",convertDotToTimes:!1};state={focused:!1,keypadOpen:"always"===this.props.buttonsVisible,cursorContext:_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.zp.NONE};componentDidMount(){this.mathField()?.latex(this.props.value)}openKeypad(){"never"!==this.props.buttonsVisible&&this.setState({keypadOpen:!0})}closeKeypad(){this.setState({keypadOpen:!1})}insert=value=>{const input=this.mathField(),inputModifier=customKeyTranslator[value];if(inputModifier)return inputModifier(input,value),void input?.focus();(0,underscore__WEBPACK_IMPORTED_MODULE_11__.ZP)(value).isFunction()?value(input):"\\"===value[0]?input?.cmd(value).focus():input?.write(value).focus(),input?.focus()};mathField=()=>(!this.__mathField&&this.__mathFieldWrapperRef&&(this.__mathField=(0,_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.OS)(this.__mathFieldWrapperRef,(baseConfig=>({...baseConfig,handlers:{edit:mathField=>{let value=mathField.latex();if(value=value.replace(/<>/g,"\\ne"),(0,_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.JU)(this.props.convertDotToTimes)){value=value.replace(/\\cdot/g,"\\times");const left=mathField.cursor()[_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.r_.L];left&&"\\cdot "===left.ctrlSeq&&(mathField.controller().backspace(),mathField.cmd("\\times"))}else value=value.replace(/\\times/g,"\\cdot");this.props.value!==value&&this.props.onChange(value),this.setState({cursorContext:(0,_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__._w)(mathField)})},enter:()=>{this.__mathFieldWrapperRef&&jquery__WEBPACK_IMPORTED_MODULE_9___default()(this.__mathFieldWrapperRef).submit()},upOutOf:mathField=>{mathField.typedText("^")}}})))),this.__mathField);focus=()=>{this.mathField()?.focus(),this.setState({focused:!0})};blur=()=>this.setState({focused:!1});handleKeypadPress=(key,e)=>{const translator=_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.kE[key],mathField=this.mathField();mathField&&(translator&&translator(mathField,key),this.setState({cursorContext:(0,_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__._w)(mathField)})),"click"===e.type&&this.focus()};render(){let className=classnames__WEBPACK_IMPORTED_MODULE_8___default()({"perseus-math-input":!0,"mq-editable-field":!0,"mq-math-mode":!0});return this.props.className&&(className=className+" "+this.props.className),react__WEBPACK_IMPORTED_MODULE_10__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:[styles.outerWrapper,this.state.focused&&styles.wrapperFocused,this.props.hasError&&styles.wrapperError]},react__WEBPACK_IMPORTED_MODULE_10__.createElement("div",{style:{display:"flex",padding:1},onClick:e=>{e.stopPropagation();const mathField=this.mathField();mathField&&this.setState({cursorContext:(0,_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__._w)(mathField)})}},react__WEBPACK_IMPORTED_MODULE_10__.createElement("span",{className,ref:ref=>this.__mathFieldWrapperRef=ref,"aria-label":this.props.labelText,onFocus:()=>this.focus(),onBlur:()=>this.blur()}),react__WEBPACK_IMPORTED_MODULE_10__.createElement(_khanacademy_wonder_blocks_popover__WEBPACK_IMPORTED_MODULE_5__.J2,{opened:this.state.keypadOpen,onClose:()=>this.closeKeypad(),dismissEnabled:!0,content:()=>react__WEBPACK_IMPORTED_MODULE_10__.createElement(_khanacademy_wonder_blocks_popover__WEBPACK_IMPORTED_MODULE_5__.wV,{closeButtonVisible:!0,style:styles.popoverContent},react__WEBPACK_IMPORTED_MODULE_10__.createElement(_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.Hw,_extends({onAnalyticsEvent:this.props.analytics.onAnalyticsEvent,extraKeys:this.props.extraKeys,onClickKey:this.handleKeypadPress,cursorContext:this.state.cursorContext,convertDotToTimes:this.props.convertDotToTimes},this.props.keypadButtonSets??mapButtonSets(this.props?.buttonSets))))},"never"===this.props.buttonsVisible?react__WEBPACK_IMPORTED_MODULE_10__.createElement(MathInputIcon,{hovered:!1,focused:!1,active:!1}):react__WEBPACK_IMPORTED_MODULE_10__.createElement(_khanacademy_wonder_blocks_clickable__WEBPACK_IMPORTED_MODULE_1__.ZP,{"aria-label":this.state.keypadOpen?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_4__._("close math keypad"):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_4__._("open math keypad"),"aria-checked":this.state.keypadOpen,role:"switch",onClick:()=>this.state.keypadOpen?this.closeKeypad():this.openKeypad()},(props=>react__WEBPACK_IMPORTED_MODULE_10__.createElement(MathInputIcon,_extends({active:this.state.keypadOpen},props)))))))}}const MathInputIcon=_ref=>{let color,{hovered,focused,active}=_ref;switch(!0){case focused||active:color=_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.white;break;case hovered:color=_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.blue;break;default:color=_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.offBlack}const dynamicClass=active||focused?styles.iconActive:styles.iconInactive;return react__WEBPACK_IMPORTED_MODULE_10__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:[styles.iconContainer,dynamicClass]},react__WEBPACK_IMPORTED_MODULE_10__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:color,viewBox:"0 0 256 256"},react__WEBPACK_IMPORTED_MODULE_10__.createElement("path",{d:"M112,72a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16h64A8,8,0,0,1,112,72Zm-8,104H80V152a8,8,0,0,0-16,0v24H40a8,8,0,0,0,0,16H64v24a8,8,0,0,0,16,0V192h24a8,8,0,0,0,0-16Zm48,0h64a8,8,0,0,0,0-16H152a8,8,0,0,0,0,16Zm64,16H152a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm-61.66-90.34a8,8,0,0,0,11.32,0L184,83.31l18.34,18.35a8,8,0,0,0,11.32-11.32L195.31,72l18.35-18.34a8,8,0,0,0-11.32-11.32L184,60.69,165.66,42.34a8,8,0,0,0-11.32,11.32L172.69,72,154.34,90.34A8,8,0,0,0,154.34,101.66Z"})))},mapButtonSets=buttonSets=>{const keypadButtonSets={};return buttonSets?(buttonSets.forEach((buttonSet=>{switch(buttonSet){case"advanced relations":keypadButtonSets.advancedRelations=!0;break;case"basic relations":keypadButtonSets.basicRelations=!0;break;case"basic+div":keypadButtonSets.divisionKey=!0;break;case"logarithms":keypadButtonSets.logarithms=!0;break;case"prealgebra":keypadButtonSets.preAlgebra=!0;break;case"trig":keypadButtonSets.trigonometry=!0}})),keypadButtonSets):keypadButtonSets},inputFocused={borderWidth:2,borderColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.blue,margin:-1},styles=aphrodite__WEBPACK_IMPORTED_MODULE_7__.StyleSheet.create({iconContainer:{display:"flex",justifyContent:"center",height:"100%",padding:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_6__.Z.xxxSmall_4,borderRadius:1},iconInactive:{backgroundColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.offBlack8},iconActive:{backgroundColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.offBlack64},outerWrapper:{display:"inline-block",borderStyle:"solid",borderWidth:1,borderColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.offBlack50,borderRadius:3,background:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.white,":hover":inputFocused},wrapperFocused:inputFocused,wrapperError:{borderColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.red,background:(0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.U1)(_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.red,.08),":hover":{borderColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_2__.default.red}},popoverContent:{padding:0,paddingBottom:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_6__.Z.xxSmall_6,maxWidth:"initial"}}),__WEBPACK_DEFAULT_EXPORT__=MathInput;try{MathInput.displayName="MathInput",MathInput.__docgenInfo={description:"",displayName:"MathInput",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"any"}},convertDotToTimes:{defaultValue:{value:"false"},description:"",name:"convertDotToTimes",required:!1,type:{name:"boolean"}},buttonSets:{defaultValue:null,description:"@deprecated Use `keypadButtonSets` instead. Maps to `keypadButtonSets`.\n@see keypadButtonSets",name:"buttonSets",required:!1,type:{name:"LegacyButtonSets"}},keypadButtonSets:{defaultValue:null,description:"Overrides deprecated `buttonSets` prop.",name:"keypadButtonSets",required:!1,type:{name:"KeypadButtonSets"}},labelText:{defaultValue:null,description:"",name:"labelText",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!1,type:{name:"boolean"}},extraKeys:{defaultValue:null,description:"",name:"extraKeys",required:!1,type:{name:'readonly ("UP" | "DOWN" | "LEFT" | "RIGHT" | "T" | "PLUS" | "MINUS" | "NEGATIVE" | "TIMES" | "DIVIDE" | "DECIMAL" | "PERIOD" | "PERCENT" | "CDOT" | "EQUAL" | "NEQ" | "GT" | "LT" | "GEQ" | ... 94 more ... | "LOG_B")[]'}},buttonsVisible:{defaultValue:null,description:"Whether to show the keypad buttons.\nThe strings now misleading, but we keep them for backwards compatibility.\n- `focused` means that the keypad **appears on toggle, *off* by default**.\n- `always` means that the keypad **appears on toggle, *on* by default.**\n- `never` means that the keypad is **never shown**.",name:"buttonsVisible",required:!1,type:{name:"enum",value:[{value:'"focused"'},{value:'"always"'},{value:'"never"'}]}},analytics:{defaultValue:null,description:"",name:"analytics",required:!0,type:{name:"{ onAnalyticsEvent: AnalyticsEventHandlerFn; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/math-input.tsx#MathInput"]={docgenInfo:MathInput.__docgenInfo,name:"MathInput",path:"packages/perseus/src/components/math-input.tsx#MathInput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/math-output.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_dependencies__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/dependencies.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/perseus-api.tsx");const ModifyTex=__webpack_require__("./packages/perseus/src/tex-wrangler.ts").Z.modifyTex;class MathOutput extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static defaultProps={value:"",onFocus:function(){},onBlur:function(){}};state={focused:!1,selectorNamespace:underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.uniqueId("math-output")};_getInputClassName=()=>{let className="math-output "+_perseus_api__WEBPACK_IMPORTED_MODULE_5__.m.INPUT+" "+_perseus_api__WEBPACK_IMPORTED_MODULE_5__.m.INTERACTIVE;return this.state.focused&&(className+=" "+_perseus_api__WEBPACK_IMPORTED_MODULE_5__.m.FOCUSED),this.props.className&&(className+=" "+this.props.className),className};_getDisplayValue=value=>{let displayText;return displayText=null!=value?""+value:"",ModifyTex(displayText)};render(){const{TeX}=(0,_dependencies__WEBPACK_IMPORTED_MODULE_4__.getDependencies)();return react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{ref:"input",className:this._getInputClassName(),"aria-label":this.props.labelText,onMouseDown:this.focus,onTouchStart:this.focus},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{textAlign:"center"}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(TeX,null,this._getDisplayValue(this.props.value))))}getValue=()=>this.props.value;focus=()=>{this.state.focused||(this.props.onFocus(),this._bindBlurHandler(),this.setState({focused:!0}))};blur=()=>{this.state.focused&&(this.props.onBlur(),this._unbindBlurHandler(),this.setState({focused:!1}))};_bindBlurHandler=()=>{jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).bind("vclick."+this.state.selectorNamespace,(e=>{jquery__WEBPACK_IMPORTED_MODULE_0___default()(e.target).closest(react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this)).length||this.blur()}))};_unbindBlurHandler=()=>{jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).unbind("."+this.state.selectorNamespace)};componentWillUnmount(){this._unbindBlurHandler()}}const __WEBPACK_DEFAULT_EXPORT__=MathOutput;try{MathOutput.displayName="MathOutput",MathOutput.__docgenInfo={description:"",displayName:"MathOutput",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},labelText:{defaultValue:null,description:"",name:"labelText",required:!1,type:{name:"string"}},onFocus:{defaultValue:{value:"function () {}"},description:"",name:"onFocus",required:!1,type:{name:"() => void"}},onBlur:{defaultValue:{value:"function () {}"},description:"",name:"onBlur",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/math-output.tsx#MathOutput"]={docgenInfo:MathOutput.__docgenInfo,name:"MathOutput",path:"packages/perseus/src/components/math-output.tsx#MathOutput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/multi-button-group.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var aphrodite__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-dom/index.js");class MultiButtonGroup extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static defaultProps={values:[],allowEmpty:!0};focus(){return react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this)?.focus(),!0}toggleSelect=newValue=>{const values=(this.props.values||[]).slice(0),allowEmpty=this.props.allowEmpty;values.indexOf(newValue)>=0&&(values.length>1||allowEmpty)?values.splice(values.indexOf(newValue),1):values.indexOf(newValue)<0&&values.push(newValue),this.props.onChange(values)};render(){const values=this.props.values||[],buttons=this.props.buttons.map(((button,i)=>{const selected=values.indexOf(button.value)>=0;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{title:button.title,type:"button",id:""+i,key:""+i,ref:"button"+i,className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.buttonStyle,selected&&styles.selectedStyle),onClick:()=>this.toggleSelect(button.value)},button.content||""+button.value)}));return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{display:"inline-block"}},buttons)}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_0__.StyleSheet.create({buttonStyle:{backgroundColor:"white",border:"1px solid #ccc",borderLeft:"0",cursor:"pointer",margin:"0",padding:"5px 10px",position:"relative",":first-child":{borderLeft:"1px solid #ccc",borderTopLeftRadius:"3px",borderBottomLeftRadius:"3px"},":last-child":{borderRight:"1px solid #ccc",borderTopRightRadius:"3px",borderBottomRightRadius:"3px"},":hover":{backgroundColor:"#ccc"},":focus":{zIndex:2}},selectedStyle:{backgroundColor:"#ddd"}}),__WEBPACK_DEFAULT_EXPORT__=MultiButtonGroup;try{MultiButtonGroup.displayName="MultiButtonGroup",MultiButtonGroup.__docgenInfo={description:"MultiButtonGroup is an aesthetically pleasing group of buttons,\nwhich allows multiple buttons to be selected at the same time.\n\nNOTE: This component is almost identical to ./button-group.jsx except that\nthis component allows multiple selection!",displayName:"MultiButtonGroup",props:{values:{defaultValue:{value:"[]"},description:"",name:"values",required:!1,type:{name:"readonly any[] | null"}},buttons:{defaultValue:null,description:"",name:"buttons",required:!0,type:{name:"readonly { value: any; content: ReactNode; title?: string | undefined; }[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(values?: any) => unknown"}},allowEmpty:{defaultValue:{value:"true"},description:"",name:"allowEmpty",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/multi-button-group.tsx#MultiButtonGroup"]={docgenInfo:MultiButtonGroup.__docgenInfo,name:"MultiButtonGroup",path:"packages/perseus/src/components/multi-button-group.tsx#MultiButtonGroup"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/number-input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),jquery__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/util.ts"),_util_math__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/util/math.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const{firstNumericalParse,captureScratchpadTouchStart}=_util__WEBPACK_IMPORTED_MODULE_6__.default,toNumericString=_util_math__WEBPACK_IMPORTED_MODULE_7__.ZP.toNumericString,getNumericFormat=_util_math__WEBPACK_IMPORTED_MODULE_7__.ZP.getNumericFormat;class NumberInput extends react__WEBPACK_IMPORTED_MODULE_3__.Component{static propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_8___default().number,format:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_8___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,prop_types__WEBPACK_IMPORTED_MODULE_8___default().number]),onChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func.isRequired,onFormatChange:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func,checkValidity:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func,size:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,label:prop_types__WEBPACK_IMPORTED_MODULE_8___default().oneOf(["put your labels outside your inputs!"])};static defaultProps={value:null,placeholder:null,format:null,onFormatChange:()=>null,checkValidity:()=>!0,useArrowKeys:!1};state={format:this.props.format};render(){let classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()({"number-input":!0,"invalid-input":!this._checkValidity(this.props.value),mini:"mini"===this.props.size,small:"small"===this.props.size,normal:"normal"===this.props.size});null!=this.props.className&&(classes=classes+" "+this.props.className);const{onFormatChange,checkValidity,useArrowKeys,...restProps}=this.props;return react__WEBPACK_IMPORTED_MODULE_3__.createElement("input",_extends({},restProps,{className:classes,type:"text",ref:"input",onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyPress:this._handleBlur,onKeyDown:this._onKeyDown,onTouchStart:captureScratchpadTouchStart,defaultValue:toNumericString(this.props.value,this.state.format),value:void 0}))}componentDidUpdate(prevProps){_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.equal(this.getValue(),this.props.value)||this._setValue(this.props.value,this.state.format)}getValue=()=>this.parseInputValue(react_dom__WEBPACK_IMPORTED_MODULE_4__.findDOMNode(this.refs.input).value);getStringValue=()=>react_dom__WEBPACK_IMPORTED_MODULE_4__.findDOMNode(this.refs.input).value.toString();parseInputValue=value=>{if(""===value){const placeholder=this.props.placeholder;return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.isFinite(placeholder)?+placeholder:null}const result=firstNumericalParse(value);return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.isFinite(result)?result:this.props.value};focus=()=>{react_dom__WEBPACK_IMPORTED_MODULE_4__.findDOMNode(this.refs.input).focus(),this._handleFocus()};blur=()=>{react_dom__WEBPACK_IMPORTED_MODULE_4__.findDOMNode(this.refs.input).blur(),this._handleBlur()};setSelectionRange=(selectionStart,selectionEnd)=>{react_dom__WEBPACK_IMPORTED_MODULE_4__.findDOMNode(this).setSelectionRange(selectionStart,selectionEnd)};getSelectionStart=()=>react_dom__WEBPACK_IMPORTED_MODULE_4__.findDOMNode(this).selectionStart;getSelectionEnd=()=>react_dom__WEBPACK_IMPORTED_MODULE_4__.findDOMNode(this).selectionEnd;_checkValidity=value=>{if(null==value)return!0;const val=firstNumericalParse(value),checkValidity=this.props.checkValidity;return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.isFinite(val)&&checkValidity(val)};_handleChange=e=>{const text=e.target.value,value=this.parseInputValue(text),format=getNumericFormat(text);this.props.onChange(value),format&&(this.props.onFormatChange(value,format),this.setState({format}))};_handleFocus=()=>{this.props.onFocus&&this.props.onFocus()};_handleBlur=e=>{e&&"keypress"===e.type&&13!==e.keyCode||(this._setValue(this.props.value,this.state.format),this.props.onBlur&&this.props.onBlur())};_onKeyDown=e=>{if(this.props.onKeyDown&&this.props.onKeyDown(e),!this.props.useArrowKeys||!underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.contains(["ArrowUp","ArrowDown"],e.key))return;let val=this.getValue();val===Math.floor(val)&&("ArrowUp"===e.key?val+=1:"ArrowDown"===e.key&&(val-=1),this._checkValidity(val)&&this.props.onChange(val))};_setValue=(val,format)=>{jquery__WEBPACK_IMPORTED_MODULE_2___default()(react_dom__WEBPACK_IMPORTED_MODULE_4__.findDOMNode(this.refs.input)).val(toNumericString(val,format))}}const __WEBPACK_DEFAULT_EXPORT__=NumberInput;try{NumberInput.displayName="NumberInput",NumberInput.__docgenInfo={description:"",displayName:"NumberInput",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/number-input.tsx#NumberInput"]={docgenInfo:NumberInput.__docgenInfo,name:"NumberInput",path:"packages/perseus/src/components/number-input.tsx#NumberInput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/prop-check-box.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var create_react_class__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/create-react-class/index.js"),create_react_class__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_logging_log__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/logging/log.ts"),_perseus_error__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/perseus-error.ts");const __WEBPACK_DEFAULT_EXPORT__=create_react_class__WEBPACK_IMPORTED_MODULE_0___default()({displayName:"PropCheckBox",propTypes:{labelAlignment:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOf(["left","right"])},DEFAULT_PROPS:{label:null,onChange:null,labelAlignment:"left"},getDefaultProps:function(){return this.DEFAULT_PROPS},propName:function(){const propName=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.find(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.keys(this.props),(function(localPropName){return!underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.has(this.DEFAULT_PROPS,localPropName)}),this);if(!propName)throw new _perseus_error__WEBPACK_IMPORTED_MODULE_5__.u("Attempted to create a PropCheckBox with no prop!",_logging_log__WEBPACK_IMPORTED_MODULE_3__.D.InvalidInput);return propName},_labelAlignLeft:function(){return"left"===this.props.labelAlignment},render:function(){const propName=this.propName();return react__WEBPACK_IMPORTED_MODULE_1__.createElement("label",null,this._labelAlignLeft()&&this.props.label,react__WEBPACK_IMPORTED_MODULE_1__.createElement("input",{type:"checkbox",checked:this.props[propName],onChange:this.toggle}),!this._labelAlignLeft()&&this.props.label)},toggle:function(){const propName=this.propName(),changes={};changes[propName]=!this.props[propName],this.props.onChange(changes)}})},"./packages/perseus/src/components/range-input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_number_input__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/components/number-input.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const truth=()=>!0;class RangeInput extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_2___default().array.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_2___default().array,checkValidity:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func};static defaultProps={placeholder:[null,null]};render(){const value=this.props.value,checkValidity=this.props.checkValidity||truth;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"range-input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_number_input__WEBPACK_IMPORTED_MODULE_1__.Z,_extends({},this.props,{value:value[0],checkValidity:val=>checkValidity([val,value[1]]),onChange:this.onChange.bind(this,0),placeholder:this.props.placeholder[0]})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_number_input__WEBPACK_IMPORTED_MODULE_1__.Z,_extends({},this.props,{value:value[1],checkValidity:val=>checkValidity([value[0],val]),onChange:this.onChange.bind(this,1),placeholder:this.props.placeholder[1]})))}onChange=(i,newVal)=>{const value=this.props.value;0===i?this.props.onChange([newVal,value[1]]):this.props.onChange([value[0],newVal])}}const __WEBPACK_DEFAULT_EXPORT__=RangeInput;try{RangeInput.displayName="RangeInput",RangeInput.__docgenInfo={description:"",displayName:"RangeInput",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/range-input.tsx#RangeInput"]={docgenInfo:RangeInput.__docgenInfo,name:"RangeInput",path:"packages/perseus/src/components/range-input.tsx#RangeInput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/simple-keypad-input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>SimpleKeypadInput});var _khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/math-input/src/index.ts"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}class SimpleKeypadInput extends react__WEBPACK_IMPORTED_MODULE_1__.Component{_isMounted=!1;componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}focus(){this.refs.input.focus()}blur(){this.refs.input.blur()}getValue(){return this.props.value}render(){const _this=this,{keypadElement,onFocus,value,...rest}=_this.props;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.VF,_extends({ref:"input",keypadElement,onFocus:()=>{keypadElement?keypadElement.configure({keypadType:_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.H5.FRACTION},(()=>{_this._isMounted&&onFocus&&onFocus()})):onFocus&&onFocus()},value:null==value?"":""+value},rest))}}SimpleKeypadInput.propTypes={keypadElement:_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.si,onFocus:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,value:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,prop_types__WEBPACK_IMPORTED_MODULE_2___default().number])};try{simplekeypadinput.displayName="simplekeypadinput",simplekeypadinput.__docgenInfo={description:"",displayName:"simplekeypadinput",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/simple-keypad-input.tsx#simplekeypadinput"]={docgenInfo:simplekeypadinput.__docgenInfo,name:"simplekeypadinput",path:"packages/perseus/src/components/simple-keypad-input.tsx#simplekeypadinput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/sortable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Layout,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),_khanacademy_wonder_blocks_progress_spinner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-progress-spinner/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),jquery__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_dependencies__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/dependencies.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_renderer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/util.ts");let Layout=function(Layout){return Layout.HORIZONTAL="horizontal",Layout.VERTICAL="vertical",Layout}({});var ItemState=function(ItemState){return ItemState.STATIC="static",ItemState.DRAGGING="dragging",ItemState.ANIMATING="animating",ItemState.DISABLED="disabled",ItemState}(ItemState||{});const addOffsetParentScroll=($el,position)=>{const $offsetParent=$el.offsetParent();return{top:position.top+$offsetParent.scrollTop(),left:position.left+$offsetParent.scrollLeft()}};class Placeholder extends react__WEBPACK_IMPORTED_MODULE_4__.Component{render(){const{layout}=this.props,className=(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.card,styles.placeholder,layout===Layout.HORIZONTAL&&styles.horizontalCard),style={width:this.props.width,height:this.props.height};return null!=this.props.margin&&(style.margin=this.props.margin),react__WEBPACK_IMPORTED_MODULE_4__.createElement("li",{className,style})}}class Draggable extends react__WEBPACK_IMPORTED_MODULE_4__.Component{animationFrameRequest=null;static defaultProps={includePadding:!0,type:ItemState.STATIC,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_};state={startPosition:{left:0,top:0},startMouse:{left:0,top:0},mouse:{left:0,top:0},dragging:!1};componentDidMount(){this._mounted=!0,this.isMouseMoveUpBound=!1,document.addEventListener("touchmove",this.onMouseMove,!!_util__WEBPACK_IMPORTED_MODULE_10__.default.supportsPassiveEvents()&&{passive:!1})}componentWillUnmount(){this._mounted=!1,this.isMouseMoveUpBound&&this.unbindMouseMoveUp(),this.animationFrameRequest&&cancelAnimationFrame(this.animationFrameRequest),document.removeEventListener("touchmove",this.onMouseMove)}getCurrentPosition=()=>({left:this.state.startPosition.left+this.state.mouse.left-this.state.startMouse.left,top:this.state.startPosition.top+this.state.mouse.top-this.state.startMouse.top});render(){const{includePadding,layout,state:type}=this.props;let className=(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.card,styles.draggable,layout===Layout.HORIZONTAL&&styles.horizontalCard,layout===Layout.VERTICAL&&styles.verticalCard,type===ItemState.DRAGGING&&styles.dragging,type===ItemState.DISABLED&&styles.disabled,!includePadding&&styles.unpaddedCard)+" "+_perseus_api__WEBPACK_IMPORTED_MODULE_8__.m.INTERACTIVE+" perseus-sortable-draggable";includePadding||(className+=" perseus-sortable-draggable-unpadded");const style={position:"static"};return this.props.state!==ItemState.DRAGGING&&this.props.state!==ItemState.ANIMATING||underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.extend(style,{position:"absolute"},this.getCurrentPosition()),this.props.width&&(style.width=this.props.width+1),this.props.height&&(style.height=this.props.height),null!=this.props.margin&&(style.margin=this.props.margin),react__WEBPACK_IMPORTED_MODULE_4__.createElement("li",{className,style,onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,onTouchMove:this.onMouseMove,onTouchEnd:this.onMouseUp,onTouchCancel:this.onMouseUp},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_9__.Z,{content:this.props.content,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.fQ(this.props.linterContext,"draggable"),onRender:this.props.onRender}))}componentDidUpdate(prevProps){if(this.props.state!==prevProps.state)if(this.props.state===ItemState.ANIMATING&&this.props.endPosition){const current=this.getCurrentPosition(),duration=15*Math.sqrt(Math.sqrt(Math.pow(this.props.endPosition.left-current.left,2)+Math.pow(this.props.endPosition.top-current.top,2)));jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this)).animate(this.props.endPosition,{duration:Math.max(duration,1),complete:this.props.onAnimationEnd})}else this.props.state===ItemState.STATIC&&jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this)).finish()}bindMouseMoveUp=()=>{this.isMouseMoveUpBound=!0,jquery__WEBPACK_IMPORTED_MODULE_3___default()(document).on("mousemove",this.onMouseMove),jquery__WEBPACK_IMPORTED_MODULE_3___default()(document).on("mouseup",this.onMouseUp)};unbindMouseMoveUp=()=>{this.isMouseMoveUpBound=!1,jquery__WEBPACK_IMPORTED_MODULE_3___default()(document).off("mousemove",this.onMouseMove),jquery__WEBPACK_IMPORTED_MODULE_3___default()(document).off("mouseup",this.onMouseUp)};onMouseDown=event=>{if(this.props.state!==ItemState.STATIC)return;if(0!==event.button&&(null==event.touches||1!==event.touches.length))return;event.preventDefault();const loc=_util__WEBPACK_IMPORTED_MODULE_10__.default.extractPointerLocation(event);this.animationFrameRequest=requestAnimationFrame((()=>{const $el=jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this)),position=$el.position(),startPosition=addOffsetParentScroll($el,position);loc&&this._mounted&&this.setState({startPosition,startMouse:loc,mouse:loc,dragging:!0},(function(){this.bindMouseMoveUp(),this.props.onMouseDown()}))}))};onMouseMove=event=>{if(this.props.state!==ItemState.DRAGGING||!this.state.dragging)return;event.preventDefault();const loc=_util__WEBPACK_IMPORTED_MODULE_10__.default.extractPointerLocation(event);loc&&(this.animationFrameRequest=requestAnimationFrame((()=>{this.setState({mouse:loc},this.props.onMouseMove)})))};onMouseUp=event=>{if(this.props.state!==ItemState.DRAGGING||!this.state.dragging)return;event.preventDefault();_util__WEBPACK_IMPORTED_MODULE_10__.default.extractPointerLocation(event)&&(this.setState({dragging:!1}),this.unbindMouseMoveUp(),this.props.onMouseUp())}}class Sortable extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={layout:Layout.HORIZONTAL,padding:!0,disabled:!1,constraints:{},onMeasure:function(){},margin:5,onChange:function(){},linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_,waitForTexRendererToLoad:!0};constructor(props){super(props),this.state={items:Sortable.itemsFromProps(this.props),texRendererLoaded:!1}}UNSAFE_componentWillReceiveProps(nextProps){const prevProps=this.props;underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.isEqual(nextProps.options,prevProps.options)?nextProps.layout===prevProps.layout&&nextProps.padding===prevProps.padding&&nextProps.disabled===prevProps.disabled&&underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.isEqual(nextProps.constraints,prevProps.constraints)||this.setState({items:Sortable.clearItemMeasurements(this.state.items)}):this.setState({items:Sortable.itemsFromProps(nextProps)})}componentDidUpdate(){!this.state.items.length||this.state.items[0].width||this.state.items[0].height||setTimeout((()=>{this.measureItems()}),0)}static itemsFromProps(props){const state=props.disabled?ItemState.DISABLED:ItemState.STATIC;return props.options.map(((option,i)=>({option,key:i,state,width:0,height:0})))}static clearItemMeasurements(items){return items.map((item=>({...item,width:0,height:0})))}measureItems(){let items=[...this.state.items];const $items=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.map(items,(function(item){return jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs[item.key]))}),this),widths=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.invoke($items,"outerWidth"),heights=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.invoke($items,"outerHeight"),{constraints,layout}=this.props;let syncWidth=null;constraints?.width?syncWidth=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.max(widths.concat(constraints.width)):layout===Layout.VERTICAL&&(syncWidth=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.max(widths));let syncHeight=null;constraints?.height?syncHeight=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.max(heights.concat(constraints.height)):layout===Layout.HORIZONTAL&&(syncHeight=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.max(heights)),items=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.map(items,(function(item,i){return item.width=syncWidth||widths[i],item.height=syncHeight||heights[i],item})),this.setState({items},(()=>{this.props.onMeasure&&this.props.onMeasure({widths,heights})}))}remeasureItems=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.debounce((()=>{this.setState({items:Sortable.clearItemMeasurements(this.state.items)})}),20);render(){if(this.props.waitForTexRendererToLoad&&!this.state.texRendererLoaded){const{TeX}=(0,_dependencies__WEBPACK_IMPORTED_MODULE_7__.getDependencies)();return react__WEBPACK_IMPORTED_MODULE_4__.createElement(react__WEBPACK_IMPORTED_MODULE_4__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4__.createElement(_khanacademy_wonder_blocks_progress_spinner__WEBPACK_IMPORTED_MODULE_1__.y,null),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{display:"none"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(TeX,{onRender:()=>this.setState({texRendererLoaded:!0})},"1")))}const cards=[],{layout}=this.props,className=(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.sortable)+" perseus-sortable",syncWidth=this.props.constraints?.width||layout===Layout.VERTICAL,syncHeight=this.props.constraints?.height||layout===Layout.HORIZONTAL;return underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.each(this.state.items,(function(item,i,items){const isLast=i===items.length-1,isStatic=item.state===ItemState.STATIC||item.state===ItemState.DISABLED;let margin;this.props.layout===Layout.HORIZONTAL?margin="0 "+this.props.margin+"px 0 0":this.props.layout===Layout.VERTICAL&&(margin="0 0 "+this.props.margin+"px 0"),cards.push(react__WEBPACK_IMPORTED_MODULE_4__.createElement(Draggable,{content:item.option,key:item.key,state:item.state,ref:item.key,width:syncWidth?item.width:void 0,height:syncHeight?item.height:void 0,layout,includePadding:this.props.padding,margin:isLast&&isStatic?0:margin,endPosition:item.endPosition,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.fQ(this.props.linterContext,"sortable"),onRender:this.remeasureItems,onMouseDown:this.onMouseDown.bind(this,item.key),onMouseMove:this.onMouseMove.bind(this,item.key),onMouseUp:this.onMouseUp.bind(this,item.key),onTouchMove:this.onMouseMove.bind(this,item.key),onTouchEnd:this.onMouseUp.bind(this,item.key),onTouchCancel:this.onMouseUp.bind(this,item.key),onAnimationEnd:this.onAnimationEnd.bind(this,item.key)})),item.state!==ItemState.DRAGGING&&item.state!==ItemState.ANIMATING||cards.push(react__WEBPACK_IMPORTED_MODULE_4__.createElement(Placeholder,{key:"placeholder_"+item.key,ref:"placeholder_"+item.key,width:item.width,height:item.height,layout,margin:isLast?0:margin}))}),this),react__WEBPACK_IMPORTED_MODULE_4__.createElement("ul",{className},cards)}onMouseDown(key){const items=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.map(this.state.items,(function(item){return item.key===key&&(item.state=ItemState.DRAGGING),item}));this.setState({items})}moveOptionToIndex(option,index){const{items}=this.state;if(index<0||index>items.length)throw new Error(`index ${index} out of bounds`);const nextItems=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.clone(items),item=items.filter((item=>item.option===option))[0];if(null==item)throw new Error(`option ${option} not found`);const currentIndex=items.findIndex((i=>i.key===item.key));nextItems.splice(currentIndex,1),nextItems.splice(index,0,item),this.setState({items:nextItems}),this.props.onChange&&this.props.onChange({})}onMouseMove(key){const $draggable=jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs[key])),$sortable=jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this)),items=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.clone(this.state.items),item=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.findWhere(this.state.items,{key}),margin=this.props.margin||0,currentIndex=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.indexOf(items,item);let newIndex=0;if(items.splice(currentIndex,1),this.props.layout===Layout.HORIZONTAL){const midWidth=$draggable.offset().left-$sortable.offset().left;let cardWidth,sumWidth=0;underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.each(items,(function(item){cardWidth=item.width,midWidth>sumWidth+cardWidth/2&&(newIndex+=1),sumWidth+=cardWidth+margin}))}else{const midHeight=$draggable.offset().top-$sortable.offset().top;let cardHeight,sumHeight=0;underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.each(items,(function(item){cardHeight=item.height,midHeight>sumHeight+cardHeight/2&&(newIndex+=1),sumHeight+=cardHeight+margin}))}newIndex!==currentIndex&&(items.splice(newIndex,0,item),this.setState({items}))}onMouseUp(key){const nextAnimationFrame=requestAnimationFrame((()=>{const items=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.map(this.state.items,(function(item){if(item.key===key){item.state=ItemState.ANIMATING;const $placeholder=jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs["placeholder_"+key])),position=$placeholder.position(),endPosition=addOffsetParentScroll($placeholder,position);item.endPosition=endPosition}return item}),this);this.setState({items}),this.props.onChange&&this.props.onChange({})}));this.animationFrameRequest=nextAnimationFrame}onAnimationEnd(key){const items=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.map(this.state.items,(function(item){return item.key===key&&(item.state=ItemState.STATIC),item}));this.setState({items})}getOptions(){return underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.pluck(this.state.items,"option")}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({sortable:{boxSizing:"border-box",float:"left",padding:0,margin:0},card:{boxSizing:"border-box",background:"#fff",border:"1px solid #ddd",borderRadius:4,cursor:"pointer",minWidth:25,minHeight:44,padding:10,listStyleType:"none",userSelect:"none",touchAction:"none"},placeholder:{background:"#ddd",border:"1px solid #ccc"},draggable:{textAlign:"center"},horizontalCard:{float:"left",cursor:"ew-resize"},verticalCard:{maxWidth:"100%",cursor:"ns-resize"},unpaddedCard:{padding:0},dragging:{background:"#ffedcd",opacity:.8},disabled:{backgroundColor:"inherit",border:"1px solid transparent",cursor:"default"}}),__WEBPACK_DEFAULT_EXPORT__=Sortable;try{Sortable.displayName="Sortable",Sortable.__docgenInfo={description:"",displayName:"Sortable",props:{constraints:{defaultValue:{value:"{}"},description:"",name:"constraints",required:!1,type:{name:"{ width: number; height: number; } | Record<any, any>"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},layout:{defaultValue:{value:"Layout.HORIZONTAL"},description:"",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},margin:{defaultValue:{value:"5"},description:"",name:"margin",required:!1,type:{name:"number"}},onChange:{defaultValue:{value:"function () {}"},description:"",name:"onChange",required:!1,type:{name:"(arg1: any) => void"}},onMeasure:{defaultValue:{value:"function () {}"},description:"",name:"onMeasure",required:!1,type:{name:"(arg1: { widths: readonly number[]; heights: readonly number[]; }) => void"}},padding:{defaultValue:{value:"true"},description:"",name:"padding",required:!1,type:{name:"boolean"}},linterContext:{defaultValue:{value:"PerseusLinter.linterContextDefault"},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"readonly string[]"}},waitForTexRendererToLoad:{defaultValue:{value:"true"},description:"",name:"waitForTexRendererToLoad",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/sortable.tsx#Sortable"]={docgenInfo:Sortable.__docgenInfo,name:"Sortable",path:"packages/perseus/src/components/sortable.tsx#Sortable"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/stub-tag-editor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_text_list_editor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/components/text-list-editor.tsx");const EMPTY_ARRAY=[];class StubTagEditor extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_2___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default().string),onChange:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired,showTitle:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool.isRequired};static defaultProps={value:EMPTY_ARRAY,showTitle:!0};render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,this.props.showTitle&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{fontSize:14}},"Tags:"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_text_list_editor__WEBPACK_IMPORTED_MODULE_1__.Z,{options:this.props.value||EMPTY_ARRAY,layout:"vertical",onChange:this.props.onChange}))}}const __WEBPACK_DEFAULT_EXPORT__=StubTagEditor;try{StubTagEditor.displayName="StubTagEditor",StubTagEditor.__docgenInfo={description:"",displayName:"StubTagEditor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/stub-tag-editor.tsx#StubTagEditor"]={docgenInfo:StubTagEditor.__docgenInfo,name:"StubTagEditor",path:"packages/perseus/src/components/stub-tag-editor.tsx#StubTagEditor"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/svg-image.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>svg_image});var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-progress-spinner/dist/es/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jquery=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery),react=__webpack_require__("./node_modules/react/index.js"),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),dependencies=__webpack_require__("./packages/perseus/src/dependencies.ts"),log=__webpack_require__("./packages/perseus/src/logging/log.ts"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts"),util=__webpack_require__("./packages/perseus/src/util.ts");function changeViewportTag(contentString,callback){const scrollX=window.scrollX,scrollY=window.scrollY,viewport=document.querySelector("meta[name=viewport]");viewport?viewport.setAttribute("content",contentString):jquery_default()("head").append(`<meta name="viewport" content="${contentString}">`),document.body.style.opacity=.9999,setTimeout((()=>{document.body.style.opacity=1,window.scrollTo(scrollX,scrollY),callback&&setTimeout(callback,0)}),0)}function ZoomServiceClass(){}function Zoom(img,enableMobilePinch){this._fullHeight=this._fullWidth=this._overlay=null,this._targetImage=img,this._enableMobilePinch=enableMobilePinch,this._$body=jquery_default()(document.body)}jquery_default().fn.emulateTransitionEnd=function(duration){let called=!1;const $el=this;jquery_default()(this).one("bsTransitionEnd",(function(){called=!0}));return setTimeout((function(){called||jquery_default()($el).trigger(jquery_default().support.transition.end)}),duration),this},jquery_default()((function(){jquery_default().support.transition=function transitionEnd(){const el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(const name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}(),jquery_default().support.transition&&(jquery_default().event.special.bsTransitionEnd={bindType:jquery_default().support.transition.end,delegateType:jquery_default().support.transition.end,handle:function(e){if(jquery_default()(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})),ZoomServiceClass.prototype._initialize=function(enableMobilePinch){this._$document||(this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=jquery_default()(document),this._$window=jquery_default()(window),this._$body=jquery_default()(document.body),this._boundClick=jquery_default().proxy(this._clickHandler,this),this._enableMobilePinch=enableMobilePinch)},ZoomServiceClass.prototype.handleZoomClick=function(e,enableMobilePinch){this._initialize(enableMobilePinch);const target=e.target;if(target&&"IMG"===target.tagName&&!this._$body.hasClass("zoom-overlay-open"))return e.metaKey||e.ctrlKey?window.open(e.target.src,"_blank"):void(!enableMobilePinch&&target.width>=window.innerWidth-Zoom.getOffset()||(this._activeZoomClose(!0),enableMobilePinch?changeViewportTag("width=device-width, initial-scale=1, minimum-scale=1",(()=>this._zoom(target))):this._zoom(target),enableMobilePinch||(this._$window.on("scroll.zoom",jquery_default().proxy(this._scrollHandler,this)),this._$document.on("keyup.zoom",jquery_default().proxy(this._keyHandler,this)),this._$document.on("touchstart.zoom",jquery_default().proxy(this._touchStart,this))),document.addEventListener("click",this._boundClick,!0),e.stopPropagation()))},ZoomServiceClass.prototype._zoom=function(target){this._activeZoom=new Zoom(target,this._enableMobilePinch),this._activeZoom.zoomImage()},ZoomServiceClass.prototype._activeZoomClose=function(forceDispose){this._activeZoom&&(forceDispose?(this._activeZoom.dispose(),this._disposeActiveZoom()):changeViewportTag("width=device-width, initial-scale=1, minimum-scale=1,\n            maximum-scale=1",(()=>{this._activeZoom&&(this._activeZoom.close(),this._disposeActiveZoom())})))},ZoomServiceClass.prototype._disposeActiveZoom=function(){this._$window.off(".zoom"),this._$document.off(".zoom"),document.removeEventListener("click",this._boundClick,!0),this._activeZoom=null},ZoomServiceClass.prototype._scrollHandler=function(e){null===this._initialScrollPosition&&(this._initialScrollPosition=window.scrollY);const deltaY=this._initialScrollPosition-window.scrollY;Math.abs(deltaY)>=40&&this._activeZoomClose()},ZoomServiceClass.prototype._keyHandler=function(e){27===e.keyCode&&this._activeZoomClose()},ZoomServiceClass.prototype._clickHandler=function(e){e.stopPropagation(),e.preventDefault(),this._activeZoomClose()},ZoomServiceClass.prototype._touchStart=function(e){this._initialTouchPosition=e.originalEvent.touches[0].pageY,jquery_default()(e.target).on("touchmove.zoom",jquery_default().proxy(this._touchMove,this))},ZoomServiceClass.prototype._touchMove=function(e){Math.abs(e.originalEvent.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),jquery_default()(e.target).off("touchmove.zoom"))},Zoom._OFFSET=80,Zoom._MAX_WIDTH=2560,Zoom._MAX_HEIGHT=4096,Zoom.getOffset=function(zoomToFitOnMobile){return zoomToFitOnMobile?0:Zoom._OFFSET},Zoom.prototype.getOffset=function(){return Zoom.getOffset(this._enableMobilePinch)},Zoom.prototype.zoomImage=function(){const img=document.createElement("img"),$zoomedImage=jquery_default()(img);img.onload=function(){this._fullHeight=Number(img.height),this._fullWidth=Number(img.width);const imageOffset=this._imageOffset=jquery_default()(this._targetImage).offset(),left=this._left=imageOffset.left-jquery_default()(window).scrollLeft(),top=this._top=imageOffset.top-jquery_default()(window).scrollTop();$zoomedImage.css({left,top,width:this._targetImage.width,height:this._targetImage.height}),this._zoomOriginal()}.bind(this),img.src=this._targetImage.src,this.$zoomedImage=$zoomedImage},Zoom.prototype._zoomOriginal=function(){this.$zoomedImage.addClass("zoom-img").attr("data-action","zoom-out"),jquery_default()(this._targetImage).css("visibility","hidden"),this._backdrop=document.createElement("div"),this._backdrop.className="zoom-backdrop",document.body?.appendChild(this._backdrop),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",document.body?.appendChild(this._overlay),this._overlay?.appendChild(this.$zoomedImage[0]),this._calculateZoom(),this._triggerAnimation()},Zoom.prototype._calculateZoom=function(){const originalFullImageWidth=this._fullWidth,originalFullImageHeight=this._fullHeight,viewportHeight=window.innerHeight-this.getOffset(),viewportWidth=window.innerWidth-this.getOffset(),maxScaleFactor=originalFullImageWidth/this._targetImage.width,imageAspectRatio=originalFullImageWidth/originalFullImageHeight,viewportAspectRatio=viewportWidth/viewportHeight;this._imgScaleFactor=originalFullImageWidth<viewportWidth&&originalFullImageHeight<viewportHeight?maxScaleFactor:imageAspectRatio<viewportAspectRatio?viewportHeight/originalFullImageHeight*maxScaleFactor:viewportWidth/(originalFullImageWidth??0)*maxScaleFactor},Zoom.prototype._triggerAnimation=function(){const viewportY=jquery_default()(window).scrollTop()+window.innerHeight/2,viewportX=jquery_default()(window).scrollLeft()+window.innerWidth/2,scaleFactor=this._imgScaleFactor,imageCenterY=this._imageOffset.top+this._targetImage.height/2,imageCenterX=this._imageOffset.left+this._targetImage.width/2;this._translateY=(viewportY-imageCenterY)/scaleFactor,this._translateX=(viewportX-imageCenterX)/scaleFactor,this._zoomedInTransformString=`\n        scale(${scaleFactor})\n        translate3d(${this._translateX}px, ${this._translateY}px, 0)\n    `,this.$zoomedImage.css({transform:this._zoomedInTransformString}).addClass("zoom-transition").one(jquery_default().support.transition.end,jquery_default().proxy(this._onZoomInFinish,this)).emulateTransitionEnd(300),this._$body.addClass("zoom-overlay-open")},Zoom.prototype._onZoomInFinish=function(){const height=this._targetImage.height*this._imgScaleFactor,width=this._targetImage.width*this._imgScaleFactor;let left=0,top=0,marginLeft=0,marginTop=0,scrollLeft=0,scrollTop=0;width<window.innerWidth?(left="50%",marginLeft=-width/2):scrollLeft=(width-window.innerWidth)/2,height<window.innerHeight?(top="50%",marginTop=-height/2):scrollTop=(height-window.innerHeight)/2,this.$zoomedImage.css({height,left,marginLeft,marginTop,top,transform:"",width}).removeClass("zoom-transition"),jquery_default()(this._overlay).scrollLeft(scrollLeft).scrollTop(scrollTop)},Zoom.prototype.close=function(){this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning"),this.$zoomedImage.css({height:this._targetImage.height,left:this._left,marginLeft:0,marginTop:0,top:this._top,transform:this._zoomedInTransformString,width:this._targetImage.width}).removeClass("zoom-transition"),jquery_default()(this._overlay).scrollLeft(0).scrollTop(0),setTimeout((()=>{this.$zoomedImage.css({transform:"scale(1)"}).addClass("zoom-transition").one(jquery_default().support.transition.end,jquery_default().proxy(this.dispose,this)).emulateTransitionEnd(300)}),10)},Zoom.prototype.dispose=function(){this.$zoomedImage&&this.$zoomedImage[0].parentNode&&(this.$zoomedImage.remove(),this.$zoomedImage=null,this._overlay.parentNode.removeChild(this._overlay),this._backdrop.parentNode.removeChild(this._backdrop),this._$body.removeClass("zoom-overlay-transitioning")),jquery_default()(this._targetImage).css("visibility","visible"),this._targetImage.focus()};const ZoomService=new ZoomServiceClass;var fixed_to_responsive=__webpack_require__("./packages/perseus/src/components/fixed-to-responsive.tsx"),components_graphie=__webpack_require__("./packages/perseus/src/components/graphie.tsx"),image_loader=__webpack_require__("./packages/perseus/src/components/image-loader.tsx");const labelDataCache={},svgLocalLabelsRegex=/^file\+graphie:/,hashRegex=/\/([^/]+)$/;function isImageProbablyPhotograph(imageUrl){return/\.(jpg|jpeg)$/i.test(imageUrl)}function getLocale(){const{JIPT,kaLocale}=(0,dependencies.getDependencies)();return JIPT.useJIPT?"en-pt":kaLocale}function shouldUseLocalizedData(){return"en"!==getLocale()}const splitHashRegex=/\/(?=[^/]+$)/;function defaultPreloader(dimensions){return react.createElement("span",{style:{top:0,left:0,width:"100%",height:"100%",position:"absolute",minWidth:"20px",display:"flex",justifyContent:"center",alignContent:"center"}},react.createElement(es.y,{size:"medium"}))}class SvgImage extends react.Component{static defaultProps={constrainHeight:!1,onUpdate:()=>{},responsive:!0,src:"",scale:1,zoomToFullSizeOnMobile:!1,setAssetStatus:(src,status)=>{}};constructor(props){super(props),props.setAssetStatus(props.src,!1),this._isMounted=!1,this.state={imageLoaded:!1,imageDimensions:null,dataLoaded:!1,labelDataIsLocalized:!1,labels:[],labelsRendered:{},range:[[0,0],[0,0]]}}componentDidMount(){this._isMounted=!0,util.default.isLabeledSVG(this.props.src)&&this.loadResources()}UNSAFE_componentWillReceiveProps(nextProps){this.props.src!==nextProps.src&&this.setState({imageLoaded:!1,dataLoaded:!1})}shouldComponentUpdate(nextProps,nextState){if(!index_all.ZP.isEqual(this.props,nextProps))return!0;return this.isLoadedInState(this.state)!==this.isLoadedInState(nextState)}componentDidUpdate(prevProps,prevState){const wasLoaded=this.isLoadedInState(prevState),isLoaded=this.isLoadedInState(this.state);util.default.isLabeledSVG(this.props.src)&&!isLoaded&&this.loadResources(),!wasLoaded&&isLoaded&&this.props.setAssetStatus(this.props.src,!0)}componentWillUnmount(){this._isMounted=!1}isLoadedInState(state){return util.default.isLabeledSVG(this.props.src)?state.imageLoaded&&state.dataLoaded:state.imageLoaded}loadResources(){const hash=function getUrlHash(url){const match=url.match(hashRegex);if(null==match)throw new perseus_error.u("not a valid URL",log.D.InvalidInput);return match&&match[1]}(this.props.src);if(labelDataCache[hash])if(labelDataCache[hash].loaded){const{data,localized}=labelDataCache[hash];this.onDataLoaded(data,localized)}else labelDataCache[hash].dataCallbacks.push(this.onDataLoaded);else{const cacheData={loaded:!1,dataCallbacks:[this.onDataLoaded],data:null,localized:shouldUseLocalizedData()};labelDataCache[hash]=cacheData;const retrieveData=(url,errorCallback)=>{!function(url,options){options={callbackName:"callback",success:jquery_default().noop,error:jquery_default().noop,...options};const script=document.createElement("script");function cleanup(){document.head&&document.head.removeChild(script),delete window[options.callbackName]}script.setAttribute("async",""),script.setAttribute("src",url),window[options.callbackName]=function(){cleanup();for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];options.success.apply(null,args)},script.addEventListener("error",(function(){cleanup();for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];options.error.apply(null,args)})),document.head&&document.head.appendChild(script)}(url,{callbackName:"svgData"+hash,success:data=>{cacheData.data=data,cacheData.loaded=!0,index_all.ZP.each(cacheData.dataCallbacks,(callback=>{callback(cacheData.data,cacheData.localized)}))},error:errorCallback})};shouldUseLocalizedData()?retrieveData(function getLocalizedDataUrl(url){if(svgLocalLabelsRegex.test(url))return util.default.getDataUrl(url);const[base,hash]=util.default.getBaseUrl(url).split(splitHashRegex);return`${base}/${getLocale()}/${hash}-data.json`}(this.props.src),((x,status,error)=>{cacheData.localized=!1,retrieveData(util.default.getDataUrl(this.props.src),((x,status,error)=>{log.Z.error("Data load failed for svg-image",log.D.Service,{cause:error,loggedMetadata:{dataUrl:util.default.getDataUrl(this.props.src),status}})}))})):retrieveData(util.default.getDataUrl(this.props.src),((x,status,error)=>{log.Z.error("Data load failed for svg-image",log.D.Service,{cause:error,loggedMetadata:{dataUrl:util.default.getDataUrl(this.props.src),status}})}))}}onDataLoaded=(data,localized)=>{if(this._isMounted&&data.labels&&data.range){const labelsRendered=data.labels.reduce(((dict,label)=>({...dict,[label.content]:!1})),{});this.setState({dataLoaded:!0,labelDataIsLocalized:localized,labelsRendered,labels:data.labels,range:data.range})}};sizeProvided(){return null!=this.props.width&&null!=this.props.height}onImageLoad=()=>{this.sizeProvided()?this.setState({imageLoaded:!0}):util.default.getImageSize(this.props.src,((width,height)=>{this._isMounted&&this.setState({imageLoaded:!0,imageDimensions:[width,height]})}))};setupGraphie=(graphie,options)=>{index_all.ZP.map(options.labels,(labelData=>{const{JIPT}=(0,dependencies.getDependencies)();if(JIPT.useJIPT&&this.state.labelDataIsLocalized){const elem=graphie.label(labelData.coordinates,labelData.content,labelData.alignment,!1);(0,dependencies.getDependencies)().svgImageJiptLabels.addLabel(elem,labelData.typesetAsMath)}else if(labelData.coordinates){const label=graphie.label(labelData.coordinates,labelData.content,labelData.alignment,labelData.typesetAsMath,{"font-size":100*this.props.scale+"%"}),labelStyle=label[0].style;let labelTop=this._tryGetPixels(labelStyle.top),labelLeft=this._tryGetPixels(labelStyle.left);if(null===labelTop||null===labelLeft){const labelPosition=label.position();labelTop=labelPosition.top,labelLeft=labelPosition.left}const svgHeight=(this.props.height||0)*this.props.scale,svgWidth=(this.props.width||0)*this.props.scale;label.css({top:labelTop/svgHeight*100+"%",left:labelLeft/svgWidth*100+"%"}),index_all.ZP.each(labelData.style,((styleValue,styleName)=>{label.css(styleName,styleValue)}))}this.setState({labelsRendered:{...this.state.labelsRendered,[labelData.content]:!0}})}))};_tryGetPixels(value){return(value=value||"").endsWith("px")&&parseFloat(value)||null}_handleZoomClick=e=>{(jquery_default()(e.target).width()<this.props.width||this.props.zoomToFullSizeOnMobile)&&ZoomService.handleZoomClick(e,this.props.zoomToFullSizeOnMobile),this.props.trackInteraction&&this.props.trackInteraction()};handleUpdate=status=>{this.props.onUpdate(),util.default.isLabeledSVG(this.props.src)||"loaded"!==status||this.setState({imageLoaded:!0})};render(){const imageSrc=this.props.src,imageProps={alt:this.props.alt,title:this.props.title,tabIndex:"0"};this.props.alt&&this.props.overrideAriaHidden&&(imageProps["aria-hidden"]=!0);const width=this.props.width&&this.props.width*this.props.scale,height=this.props.height&&this.props.height*this.props.scale,dimensions={width,height},responsive=this.props.responsive&&!(!width||!height);let extraGraphie;this.props.extraGraphie&&this.props.extraGraphie.labels.length&&(extraGraphie=react.createElement(components_graphie.default,{box:this.props.extraGraphie.box,range:this.props.extraGraphie.range,options:{labels:this.props.extraGraphie.labels},responsive:!0,addMouseLayer:!1,setup:this.setupGraphie}));const preloaderBaseFunc=void 0===this.props.preloader?defaultPreloader:this.props.preloader,preloader=preloaderBaseFunc?()=>preloaderBaseFunc(dimensions):null;if(!util.default.isLabeledSVG(imageSrc)){if(responsive){const wrapperClasses=classnames_default()({zoomable:(width||0)>700,"svg-image":!0});return imageProps.onClick=this._handleZoomClick,react.createElement(fixed_to_responsive.Z,{className:wrapperClasses,width,height,constrainHeight:this.props.constrainHeight,allowFullBleed:this.props.allowFullBleed&&isImageProbablyPhotograph(imageSrc)},react.createElement(image_loader.Z,{src:imageSrc,imgProps:imageProps,preloader,onUpdate:this.handleUpdate}),extraGraphie)}return imageProps.style=dimensions,react.createElement(image_loader.Z,{src:imageSrc,preloader,imgProps:imageProps,onUpdate:this.handleUpdate})}const imageUrl=util.default.getSvgUrl(imageSrc);let graphie;if(this.isLoadedInState(this.state)){let box;if(this.sizeProvided())box=[width,height];else{if(!this.state.imageDimensions)throw new perseus_error.u("svg-image has no dimensions",log.D.InvalidInput,{metadata:{src:this.props.src}});box=[this.state.imageDimensions[0]*this.props.scale,this.state.imageDimensions[1]*this.props.scale]}graphie=react.createElement(components_graphie.default,{ref:"graphie",box,scale:[40*this.props.scale,40*this.props.scale],range:this.state.range,options:index_all.ZP.pick(this.state,"labels"),responsive,addMouseLayer:!1,setup:this.setupGraphie})}return responsive?react.createElement(fixed_to_responsive.Z,{className:"svg-image",width,height,constrainHeight:this.props.constrainHeight},react.createElement(image_loader.Z,{src:imageUrl,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader,imgProps:imageProps}),graphie,extraGraphie):(imageProps.style=dimensions,react.createElement("div",{className:"unresponsive-svg-image",style:dimensions},react.createElement(image_loader.Z,{src:imageUrl,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader,imgProps:imageProps}),graphie))}}const svg_image=SvgImage;try{SvgImage.displayName="SvgImage",SvgImage.__docgenInfo={description:"",displayName:"SvgImage",props:{allowFullBleed:{defaultValue:null,description:"",name:"allowFullBleed",required:!1,type:{name:"boolean"}},alt:{defaultValue:null,description:"",name:"alt",required:!0,type:{name:"string"}},constrainHeight:{defaultValue:{value:"false"},description:"",name:"constrainHeight",required:!1,type:{name:"boolean"}},extraGraphie:{defaultValue:null,description:"",name:"extraGraphie",required:!1,type:{name:"{ box: Size; range: [Coord, Coord]; labels: readonly any[]; }"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},onUpdate:{defaultValue:{value:"() => {}"},description:"",name:"onUpdate",required:!1,type:{name:"() => void"}},overrideAriaHidden:{defaultValue:null,description:"",name:"overrideAriaHidden",required:!1,type:{name:"boolean"}},preloader:{defaultValue:null,description:"",name:"preloader",required:!1,type:{name:"((dimensions: Dimensions) => ReactNode)"}},responsive:{defaultValue:{value:"true"},description:"",name:"responsive",required:!1,type:{name:"boolean"}},scale:{defaultValue:{value:"1"},description:"",name:"scale",required:!1,type:{name:"number"}},src:{defaultValue:{value:""},description:"",name:"src",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},trackInteraction:{defaultValue:null,description:"",name:"trackInteraction",required:!1,type:{name:"(() => void)"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},zoomToFullSizeOnMobile:{defaultValue:{value:"false"},description:"",name:"zoomToFullSizeOnMobile",required:!1,type:{name:"boolean"}},setAssetStatus:{defaultValue:{value:"(src: string, status: boolean) => {}"},description:"",name:"setAssetStatus",required:!1,type:{name:"(assetKey: string, loaded: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/svg-image.tsx#SvgImage"]={docgenInfo:SvgImage.__docgenInfo,name:"SvgImage",path:"packages/perseus/src/components/svg-image.tsx#SvgImage"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/tex.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Tex});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_dependencies__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/dependencies.ts");class Tex extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static defaultProps={onRender:()=>{},setAssetStatus:(src,status)=>{}};constructor(props){super(props),this.props.setAssetStatus(this.props.children,!1),this.state={rendered:!1},this._hasRendered=!1}handleRender=()=>{this.props.onRender(),this.setState({rendered:!0}),this.props.onRender(),this._hasRendered||(this._hasRendered=!0,this.props.setAssetStatus(this.props.children,!0))};render(){const{TeX:BaseTeX}=(0,_dependencies__WEBPACK_IMPORTED_MODULE_1__.getDependencies)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(BaseTeX,{onRender:this.handleRender},this.props.children)}}try{tex.displayName="tex",tex.__docgenInfo={description:"",displayName:"tex",props:{onRender:{defaultValue:{value:"() => {}"},description:"",name:"onRender",required:!1,type:{name:"() => void"}},setAssetStatus:{defaultValue:{value:"(src: string, status: boolean) => {}"},description:"",name:"setAssetStatus",required:!1,type:{name:"(assetKey: string, loaded: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/tex.tsx#tex"]={docgenInfo:tex.__docgenInfo,name:"tex",path:"packages/perseus/src/components/tex.tsx#tex"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/text-input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_form__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-form/dist/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-dom/index.js");let lastId=0;class TextInput extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static defaultProps={value:"",disabled:!1};constructor(props){super(props),props.id?this.id=props.id:this.id=function uniqueIdForInput(){return lastId++,`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input-"}${lastId}`}()}render(){const{labelText,value,onFocus,onBlur,disabled,placeholder,onKeyDown,style}=this.props,formattedValue=null===value?"":value.toString();return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_khanacademy_wonder_blocks_form__WEBPACK_IMPORTED_MODULE_0__.nv,{style,disabled,id:this.id,value:formattedValue,type:"text","aria-label":labelText,onChange:value=>this.props.onChange(value),placeholder,onFocus,onBlur,onKeyDown,autoCorrect:"off",autoCapitalize:"off",autoComplete:"off"})}focus=()=>{react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this).focus()};blur=()=>{react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this).blur()};getValue=()=>react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this)?.value;getStringValue=()=>react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this)?.value.toString();setSelectionRange=(selectionStart,selectionEnd)=>{react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this).setSelectionRange(selectionStart,selectionEnd)};getSelectionStart=()=>react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this).selectionStart;getSelectionEnd=()=>react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this).selectionEnd}const __WEBPACK_DEFAULT_EXPORT__=TextInput;try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string | number | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(arg1?: any) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},labelText:{defaultValue:null,description:"",name:"labelText",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(() => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/text-input.tsx#TextInput"]={docgenInfo:TextInput.__docgenInfo,name:"TextInput",path:"packages/perseus/src/components/text-input.tsx#TextInput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/text-list-editor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/underscore/modules/index-all.js");const textWidthCache={};function getTextWidth(text){if(!textWidthCache[text]){const $test=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<span>").text(text).appendTo("body");textWidthCache[text]=$test.width()+5,$test.remove()}return textWidthCache[text]}class TextListEditor extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static propTypes={options:prop_types__WEBPACK_IMPORTED_MODULE_4___default().array,layout:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func.isRequired};static defaultProps={options:[],layout:"horizontal"};state={items:this.props.options.concat("")};UNSAFE_componentWillReceiveProps(nextProps){this.setState({items:nextProps.options.concat("")})}render(){const className=["perseus-text-list-editor","perseus-clearfix","layout-"+this.props.layout].join(" "),inputs=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.map(this.state.items,(function(item,i){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("li",{key:i},react__WEBPACK_IMPORTED_MODULE_1__.createElement("input",{ref:"input_"+i,type:"text",value:item,onChange:this.onChange.bind(this,i),onKeyDown:this.onKeyDown.bind(this,i),style:{width:getTextWidth(item)}}))}),this);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("ul",{className},inputs)}onChange=(index,event)=>{let items=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.clone(this.state.items);items[index]=event.target.value,index===items.length-1&&(items=items.concat("")),this.setState({items}),this.props.onChange(underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.compact(items))};onKeyDown=(index,event)=>{const which=event.nativeEvent.keyCode;if(8===which&&""===this.state.items[index]){event.preventDefault();const items=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.clone(this.state.items),focusIndex=0===index?0:index-1;index!==items.length-1||0!==index&&""===items[focusIndex]?(items.splice(index,1),this.setState({items},(function(){react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this.refs["input_"+focusIndex]).focus()}))):react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this.refs["input_"+focusIndex]).focus()}else if(8===which&&1===this.state.items[index].length&&index===this.state.items.length-2){event.preventDefault();const items=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.clone(this.state.items);items.splice(index,1),this.setState({items}),this.props.onChange(underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.compact(items))}else if(13===which){event.preventDefault();const items=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.clone(this.state.items),focusIndex=index+1;index===items.length-2?react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this.refs["input_"+focusIndex]).focus():(items.splice(focusIndex,0,""),this.setState({items},(function(){react_dom__WEBPACK_IMPORTED_MODULE_2__.findDOMNode(this.refs["input_"+focusIndex]).focus()})))}}}const __WEBPACK_DEFAULT_EXPORT__=TextListEditor;try{TextListEditor.displayName="TextListEditor",TextListEditor.__docgenInfo={description:"",displayName:"TextListEditor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/text-list-editor.tsx#TextListEditor"]={docgenInfo:TextListEditor.__docgenInfo,name:"TextListEditor",path:"packages/perseus/src/components/text-list-editor.tsx#TextListEditor"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{HO:()=>VerticalDirection,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,po:()=>HorizontalDirection});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");let HorizontalDirection=function(HorizontalDirection){return HorizontalDirection.Left="left",HorizontalDirection.Right="right",HorizontalDirection}({}),VerticalDirection=function(VerticalDirection){return VerticalDirection.Top="top",VerticalDirection.Bottom="bottom",VerticalDirection}({});const Triangle=props=>{let borderLeft,borderRight,borderTop,borderBottom;const hBorder=`${props.width}px solid transparent`;"right"===props.horizontalDirection?borderLeft=hBorder:borderRight=hBorder;const vBorder=`${props.height}px solid ${props.color}`;return"top"===props.verticalDirection?borderTop=vBorder:borderBottom=vBorder,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"block",height:0,width:0,position:"absolute",left:props.left,top:props.top,borderLeft,borderRight,borderTop,borderBottom}})},TooltipArrow=props=>{const isTop="top"===props.verticalDirection,frontTopOffset=isTop?0:1,borderTopOffset=isTop?0:-1;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"block",position:props.position,visibility:props.visibility,left:props.left,top:props.top,width:props.width+2,height:props.height+1,marginTop:-1,marginBottom:-2,zIndex:10}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Triangle,{horizontalDirection:props.horizontalDirection,verticalDirection:props.verticalDirection,color:props.border,left:0,top:borderTopOffset,width:props.width+2,height:props.height+2}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Triangle,{horizontalDirection:props.horizontalDirection,verticalDirection:props.verticalDirection,color:props.color,left:1,top:frontTopOffset,width:props.width,height:props.height}))};TooltipArrow.defaultProps={position:"relative",visibility:"visible",left:0,top:0};const VERTICAL_CORNERS={top:{top:"-100%"},bottom:{top:0}},HORIZONTAL_CORNERS={left:{targetLeft:0},right:{targetLeft:"100%"}},HORIZONTAL_ALIGNMNENTS={left:{tooltipLeft:0,arrowLeft:arrowSize=>0},right:{tooltipLeft:"-100%",arrowLeft:arrowSize=>-arrowSize-2}};class Tooltip extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static defaultProps={className:"",arrowSize:10,borderColor:"#ccc",verticalPosition:VerticalDirection.Bottom,horizontalPosition:HorizontalDirection.Left,horizontalAlign:HorizontalDirection.Left,targetContainerStyle:{}};state={height:null};componentDidMount(){this._updateHeight()}UNSAFE_componentWillReceiveProps(){this.setState({height:null})}componentDidUpdate(){this._updateHeight()}_renderToolTipDiv(isTooltipAbove){const settings=Object.assign({},HORIZONTAL_CORNERS[this.props.horizontalPosition],HORIZONTAL_ALIGNMNENTS[this.props.horizontalAlign],VERTICAL_CORNERS[this.props.verticalPosition]);let arrowAbove,arrowBelow;return isTooltipAbove?(arrowAbove=react__WEBPACK_IMPORTED_MODULE_0__.createElement(TooltipArrow,{verticalDirection:VerticalDirection.Top,horizontalDirection:this.props.horizontalAlign,position:"absolute",color:"white",border:this.props.borderColor,left:settings.arrowLeft(this.props.arrowSize),top:2-this.props.arrowSize,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:10}),arrowBelow=react__WEBPACK_IMPORTED_MODULE_0__.createElement(TooltipArrow,{verticalDirection:VerticalDirection.Top,horizontalDirection:this.props.horizontalAlign,visibility:"hidden",color:"white",border:this.props.borderColor,left:settings.arrowLeft(this.props.arrowSize),top:-1,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:10})):(arrowAbove=react__WEBPACK_IMPORTED_MODULE_0__.createElement(TooltipArrow,{verticalDirection:VerticalDirection.Bottom,horizontalDirection:this.props.horizontalAlign,color:"white",border:this.props.borderColor,left:settings.arrowLeft(this.props.arrowSize),top:-1,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:10}),arrowBelow=null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"relative",height:0,display:this.props.show?"block":"none"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:"tooltipContainer",className:"tooltipContainer",style:{position:"absolute",height:this.state.height||void 0,left:settings.targetLeft}},arrowAbove,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:this.props.className,ref:"tooltipContent",style:{position:"relative",top:settings.top,left:settings.tooltipLeft,border:"1px solid "+this.props.borderColor,boxShadow:"0 1px 3px "+this.props.borderColor,zIndex:9}},this.props.children.slice(1)),arrowBelow))}_updateHeight(){const height=react_dom__WEBPACK_IMPORTED_MODULE_1__.findDOMNode(this.refs.tooltipContainer).offsetHeight;height!==this.state.height&&this.setState({height})}render(){const isTooltipAbove="top"===this.props.verticalPosition;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,isTooltipAbove&&this._renderToolTipDiv(isTooltipAbove),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:this.props.targetContainerStyle},this.props.children[0]),!isTooltipAbove&&this._renderToolTipDiv())}}const __WEBPACK_DEFAULT_EXPORT__=Tooltip;try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},arrowSize:{defaultValue:{value:"10"},description:"",name:"arrowSize",required:!1,type:{name:"number"}},borderColor:{defaultValue:{value:"#ccc"},description:"",name:"borderColor",required:!1,type:{name:"string"}},verticalPosition:{defaultValue:{value:"VerticalDirection.Bottom"},description:"",name:"verticalPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},horizontalPosition:{defaultValue:{value:"HorizontalDirection.Left"},description:"",name:"horizontalPosition",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},horizontalAlign:{defaultValue:{value:"HorizontalDirection.Left"},description:"",name:"horizontalAlign",required:!1,type:{name:"HorizontalDirection.Left"}},targetContainerStyle:{defaultValue:{value:"{}"},description:"",name:"targetContainerStyle",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/tooltip.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"packages/perseus/src/components/tooltip.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/zoomable-tex.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ZoomableTeX});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_asset_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/asset-context.ts"),_tex__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/components/tex.tsx"),_zoomable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/components/zoomable.tsx");const computeMathBounds=(parentNode,parentBounds)=>{const textElement=parentNode.querySelector(".katex-html")||parentNode.querySelector(".MathJax"),textBounds={width:textElement.offsetWidth,height:textElement.offsetHeight};return{width:Math.max(parentBounds.width,textBounds.width),height:Math.max(parentBounds.height,textBounds.height)}};class ZoomableTeX extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(),this.state={isRendered:!1}}handleRender=()=>{this.setState({isRendered:!0})};render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_zoomable__WEBPACK_IMPORTED_MODULE_3__.Z,{readyToMeasure:this.state.isRendered,computeChildBounds:computeMathBounds,animateHeight:!1,disableEntranceAnimation:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_asset_context__WEBPACK_IMPORTED_MODULE_1__.Z.Consumer,null,(_ref=>{let{setAssetStatus}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tex__WEBPACK_IMPORTED_MODULE_2__.Z,{onRender:this.handleRender,setAssetStatus},this.props.children)})))}}try{zoomabletex.displayName="zoomabletex",zoomabletex.__docgenInfo={description:"",displayName:"zoomabletex",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/zoomable-tex.tsx#zoomabletex"]={docgenInfo:zoomabletex.__docgenInfo,name:"zoomabletex",path:"packages/perseus/src/components/zoomable-tex.tsx#zoomabletex"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/components/zoomable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");class Zoomable extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static defaultProps={animateHeight:!1,readyToMeasure:!0,disableEntranceAnimation:!1,computeChildBounds:parentNode=>{const firstChild=parentNode.firstElementChild;return{width:firstChild.offsetWidth,height:firstChild.offsetHeight}}};state={visible:!1,marginBottomPx:0,zoomed:!0};componentDidMount(){this._isMounted=!0,this.maybeInitializeMeasuring()}componentDidUpdate(){this.maybeInitializeMeasuring()}componentWillUnmount(){window.removeEventListener("resize",this.reset),this._observer&&this._observer.disconnect(),this._isMounted=!1}reset=()=>{this._isMounted&&this.state.visible&&(this._originalWidth=null,this.setState({visible:!1,compactHeight:null,expandedHeight:null,zoomed:!0},(()=>{this.measureAndScaleChildToFit(!1)})))};maybeInitializeMeasuring(){const shouldInitialize=this.props.readyToMeasure&&!this._measuringInitialized;this._isMounted&&shouldInitialize&&(this._measuringInitialized=!0,this._node=react_dom__WEBPACK_IMPORTED_MODULE_1__.findDOMNode(this),setTimeout((()=>this.measureAndScaleChildToFit(!1)),0),window.MutationObserver&&(this._observer=new MutationObserver((mutations=>{if(this._isMounted)for(const mutation of mutations)if(mutation.target!==this._node){this.measureAndScaleChildToFit(this.state.zoomed);break}})),this._observer.observe(this._node,{childList:!0,subtree:!0,attributes:!0})),window.addEventListener("resize",this.reset))}stopPropagationIfZoomed=e=>{this.state.zoomed||e.stopPropagation()};measureAndScaleChildToFit(zoomed){if(!this._isMounted)return;const parentBounds={width:this._node.offsetWidth,height:this._node.offsetHeight},childBounds=this.props.computeChildBounds(this._node,parentBounds),childWidth=childBounds.width+1,childHeight=childBounds.height+1;if(childWidth>parentBounds.width){const scale=parentBounds.width/childWidth;this.setState({scale,zoomed,compactHeight:Math.ceil(scale*childHeight),expandedHeight:childHeight}),setTimeout((()=>{this._isMounted&&this.setState({visible:!0})}))}else this.setState({visible:!0})}handleClickIfZoomed=e=>{this.state.zoomed||(e.stopPropagation(),this.handleClick())};handleClick=()=>{this.setState({zoomed:!this.state.zoomed})};render(){const{visible,scale,compactHeight,expandedHeight,zoomed}=this.state,{animateHeight,disableEntranceAnimation}=this.props,transitionStyle=visible?{transitionProperty:animateHeight?"opacity transform height":"opacity transform",transitionDuration:"0.3s",transitionTimingFunction:"ease-out"}:{},shouldSlide=!disableEntranceAnimation&&!visible,translateOffset=shouldSlide?" translate(0, 8px)":"",opacity=shouldSlide?0:1,scaleString=(scale??1).toString(),style={display:"block",width:"100%",height:zoomed?expandedHeight:compactHeight,transform:zoomed?`scale(1, 1) ${translateOffset}`:`scale(${scaleString}, ${scaleString}) ${translateOffset}`,transformOrigin:"0 0",opacity,WebkitTapHighlightColor:"transparent",...transitionStyle};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{onClick:this.handleClick,onClickCapture:this.handleClickIfZoomed,onTouchCancelCapture:this.stopPropagationIfZoomed,onTouchEndCapture:this.stopPropagationIfZoomed,onTouchStartCapture:this.stopPropagationIfZoomed,style},this.props.children)}}const __WEBPACK_DEFAULT_EXPORT__=Zoomable;try{Zoomable.displayName="Zoomable",Zoomable.__docgenInfo={description:"",displayName:"Zoomable",props:{animateHeight:{defaultValue:{value:"false"},description:"",name:"animateHeight",required:!1,type:{name:"boolean"}},disableEntranceAnimation:{defaultValue:{value:"false"},description:"",name:"disableEntranceAnimation",required:!1,type:{name:"boolean"}},computeChildBounds:{defaultValue:{value:"(parentNode) => {\n            const firstChild = parentNode.firstElementChild;\n\n            return {\n                // @ts-expect-error - TS2531 - Object is possibly 'null'. | TS2339 - Property 'offsetWidth' does not exist on type 'Element'.\n                width: firstChild.offsetWidth,\n                // @ts-expect-error - TS2531 - Object is possibly 'null'. | TS2339 - Property 'offsetHeight' does not exist on type 'Element'.\n                height: firstChild.offsetHeight,\n            };\n        }"},description:"Optional function that allows customizations in zooming.\n\nDefaults to just using the bounding client rect of the first DOM\nelement of this component.",name:"computeChildBounds",required:!1,type:{name:"(parentNode: HTMLElement, parentBounds: Bounds) => Bounds"}},readyToMeasure:{defaultValue:{value:"true"},description:"Optional boolean specifying whether the component is ready to measure\nor not.  Defaults to true for synchronous components like tables.",name:"readyToMeasure",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/zoomable.tsx#Zoomable"]={docgenInfo:Zoomable.__docgenInfo,name:"Zoomable",path:"packages/perseus/src/components/zoomable.tsx#Zoomable"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/definition-context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>DefinitionProvider,Z:()=>DefinitionConsumer});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const defaultContext={activeDefinitionId:null,setActiveDefinitionId:()=>{}},DefinitionContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultContext);class DefinitionProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{state={activeDefinitionId:null};setActiveDefinitionId=activeDefinitionId=>{this.setState((prevState=>({activeDefinitionId})))};render(){const{children}=this.props,{activeDefinitionId}=this.state,{setActiveDefinitionId}=this;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefinitionContext.Provider,{value:{activeDefinitionId,setActiveDefinitionId}},children)}}const DefinitionConsumer=DefinitionContext.Consumer;try{DefinitionProvider.displayName="DefinitionProvider",DefinitionProvider.__docgenInfo={description:"",displayName:"DefinitionProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/definition-context.tsx#DefinitionProvider"]={docgenInfo:DefinitionProvider.__docgenInfo,name:"DefinitionProvider",path:"packages/perseus/src/definition-context.tsx#DefinitionProvider"})}catch(__react_docgen_typescript_loader_error){}try{DefinitionConsumer.displayName="DefinitionConsumer",DefinitionConsumer.__docgenInfo={description:"",displayName:"DefinitionConsumer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/definition-context.tsx#DefinitionConsumer"]={docgenInfo:DefinitionConsumer.__docgenInfo,name:"DefinitionConsumer",path:"packages/perseus/src/definition-context.tsx#DefinitionConsumer"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/dependencies.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DependenciesContext:()=>DependenciesContext,getDependencies:()=>getDependencies,setDependencies:()=>setDependencies,useDependencies:()=>useDependencies});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");let _dependencies=null;const setDependencies=dependencies=>{_dependencies=dependencies},getDependencies=()=>{if(_dependencies)return _dependencies;throw new Error(["Perseus has not been provided required dependencies.","setDependencies(dependencies) must be called first.","Make sure Perseus is being imported from javascript/perseus/perseus.js."].join("\n"))},DependenciesContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({analytics:{onAnalyticsEvent:async()=>{}}}),useDependencies=()=>react__WEBPACK_IMPORTED_MODULE_0__.useContext(DependenciesContext)},"./packages/perseus/src/extra-widgets.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>extra_widgets});var categorizer=__webpack_require__("./packages/perseus/src/widgets/categorizer.tsx"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),jquery=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),dependencies=__webpack_require__("./packages/perseus/src/dependencies.ts"),changeable=__webpack_require__("./packages/perseus/src/mixins/changeable.ts"),constants=__webpack_require__("./packages/perseus/src/styles/constants.ts"),util=__webpack_require__("./packages/perseus/src/util.ts");let _cachedClientLocation;const parseUrl=url=>new URL(url,(_cachedClientLocation||(_cachedClientLocation=window.location),_cachedClientLocation).origin),toAbsoluteUrl=url=>parseUrl(url).href,{updateQueryString}=util.default;class CSProgram extends react.Component{static propTypes={...changeable.i,programID:prop_types_default().string,programType:prop_types_default().oneOf(["pjs","sql","webpage"]),width:prop_types_default().number,height:prop_types_default().number,settings:prop_types_default().array,showEditor:prop_types_default().bool,showButtons:prop_types_default().bool,status:prop_types_default().oneOf(["incomplete","incorrect","correct"]),message:prop_types_default().string};static validate(state,rubric){return"correct"===state.status?{type:"points",earned:1,total:1,message:state.message||null}:"incorrect"===state.status?{type:"points",earned:0,total:1,message:state.message||null}:{type:"invalid",message:"Keep going, you're not there yet!"}}static defaultProps={showEditor:!1,showButtons:!1,status:"incomplete",message:null};componentDidMount(){jquery_default()(window).on("message",this.handleMessageEvent)}componentWillUnmount(){jquery_default()(window).off("message",this.handleMessageEvent)}handleMessageEvent=e=>{let data={};try{data=JSON.parse(e.originalEvent.data)}catch(err){return}if(index_all.ZP.isUndefined(data.testsPassed))return;const status=data.testsPassed?"correct":"incorrect";this.change({status,message:data.message})};change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();simpleValidate=rubric=>CSProgram.validate({status:this.props.status,message:this.props.message},rubric);render(){if(!this.props.programID)return react.createElement("div",null);let className,styleContainer=!1,url=function getUrlFromProgramID(programID){const{InitialRequestUrl}=(0,dependencies.getDependencies)(),path=`/computer-programming/program/${programID}/embedded?embed=yes&author=no`;return(protocol=InitialRequestUrl.protocol)&&"file:"===protocol.toLowerCase()?`https://khanacademy.org${path}`:toAbsoluteUrl(path);var protocol}(this.props.programID);const style={height:this.props.height,width:"100%"};if(this.props.showEditor?(url+="&editor=yes",className="perseus-scratchpad-editor"):(url+=`&editor=no&width=${constants.Gw}`,className="perseus-scratchpad","webpage"!==this.props.programType&&(styleContainer=!0)),this.props.showButtons?(url+="&buttons=yes",style.height+=67):url+="&buttons=no",this.props.settings){const settings={};index_all.ZP.each(this.props.settings,(function(setting){setting.name&&setting.value&&(settings[setting.name]=setting.value)})),url=updateQueryString(url,"settings",JSON.stringify(settings))}const sandboxOptions=["allow-popups","allow-same-origin","allow-scripts","allow-top-navigation"].join(" ");return react.createElement("div",{className:(0,lib.css)(styles.widthOverride,styleContainer&&styles.container)},react.createElement("iframe",{sandbox:sandboxOptions,src:url,style,className,allowFullScreen:!0}))}}const styles=lib.StyleSheet.create({widthOverride:{width:820},container:{margin:"auto"}}),cs_program={name:"cs-program",displayName:"CS Program",supportedAlignments:["block","full-width"],widget:CSProgram,hidden:!0};var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-clickable/dist/es/index.js"),dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),wonder_blocks_popover_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-popover/dist/es/index.js"),definition_context=__webpack_require__("./packages/perseus/src/definition-context.tsx"),renderer=__webpack_require__("./packages/perseus/src/renderer.tsx");class Definition extends react.Component{static defaultProps={togglePrompt:"define me",definition:"definition goes here"};static validate(userInput,rubric){return{type:"points",earned:0,total:0,message:null}}getUserInput=()=>({});simpleValidate=rubric=>Definition.validate(this.getUserInput(),rubric);render(){return react.createElement(definition_context.Z,null,(_ref=>{let{activeDefinitionId,setActiveDefinitionId}=_ref;return react.createElement(wonder_blocks_popover_dist_es.J2,{content:react.createElement(wonder_blocks_popover_dist_es.wV,{color:"white",style:definition_styles.tooltipBody,closeButtonVisible:!0},react.createElement(renderer.Z,{apiOptions:this.props.apiOptions,content:this.props.definition,widgets:this.props.widgets})),opened:activeDefinitionId===this.props.widgetId,onClose:()=>setActiveDefinitionId(null),placement:"top"},react.createElement(es.ZP,{onClick:()=>{this.props.trackInteraction(),setActiveDefinitionId(this.props.widgetId)}},(_ref2=>{let{hovered,focused,pressed}=_ref2;return react.createElement("span",{style:{color:dist_es.default.blue,borderBottom:hovered||focused||pressed?`2px solid ${dist_es.default.blue}`:"none"}},this.props.togglePrompt)})))}))}}const definition_styles={tooltipBody:{color:dist_es.default.offBlack,fontSize:20,fontWeight:500,lineHeight:"30px"}},definition={name:"definition",displayName:"Definition",accessible:!0,defaultAlignment:"inline",widget:Definition,transform:x=>x};var wonder_blocks_banner_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-banner/dist/es/index.js"),wonder_blocks_i18n_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js");class DeprecatedStandin extends react.Component{static validate(userInput,rubric){return{type:"points",earned:1,total:1,message:null}}getUserInput=()=>({});simpleValidate=rubric=>DeprecatedStandin.validate(this.getUserInput(),rubric);render(){return react.createElement("div",{style:{paddingTop:8,paddingBottom:8}},react.createElement(wonder_blocks_banner_dist_es.Z,{text:wonder_blocks_i18n_dist_es._("Sorry, this part of the question is no longer available. 😅 Don't worry, you won't be graded on this part. Keep going!"),kind:"info",layout:"full-width"}))}}const deprecated_standin={name:"deprecated-standin",displayName:"Deprecated Standin",widget:DeprecatedStandin,hidden:!0};var wonder_blocks_dropdown_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-dropdown/dist/es/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),perseus_api=__webpack_require__("./packages/perseus/src/perseus-api.tsx");class Dropdown extends react.Component{static defaultProps={choices:[],selected:0,placeholder:"",apiOptions:perseus_api._.defaults};static validate(userInput,rubric){const selected=userInput.value;if(0===selected)return{type:"invalid",message:null};return{type:"points",earned:rubric.choices[selected-1].correct?1:0,total:1,message:null}}focus=()=>(react_dom.findDOMNode(this).focus(),!0);_handleChangeEvent=e=>{this._handleChange(parseInt(e.target.value))};_handleChange=selected=>{this.props.trackInteraction(),this.props.onChange({selected})};getUserInput=()=>({value:this.props.selected});simpleValidate=rubric=>Dropdown.validate(this.getUserInput(),rubric);render(){const children=[react.createElement(wonder_blocks_dropdown_dist_es.BA,{key:"placeholder",value:"0",disabled:!0,label:this.props.placeholder}),...this.props.choices.map(((choice,i)=>react.createElement(wonder_blocks_dropdown_dist_es.BA,{key:String(i+1),value:String(i+1),label:choice})))];return react.createElement("div",{onClick:e=>{e.stopPropagation()},onTouchStart:e=>{e.stopPropagation()}},react.createElement(wonder_blocks_dropdown_dist_es.q4,{placeholder:"",onChange:value=>this._handleChange(parseInt(value)),selectedValue:String(this.props.selected),disabled:this.props.apiOptions.readOnly},children))}}const dropdown={name:"dropdown",displayName:"Drop down",defaultAlignment:"inline-block",accessible:!0,widget:Dropdown,transform:widgetOptions=>({placeholder:widgetOptions.placeholder,choices:widgetOptions.choices.map((choice=>choice.content))})};var src=__webpack_require__("./packages/perseus-linter/src/index.ts"),media_queries=__webpack_require__("./packages/perseus/src/styles/media-queries.ts");class Explanation extends react.Component{static defaultProps={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:"explanation goes here\n\nmore explanation",widgets:{},linterContext:src.j_};static validate(userInput,rubric){return{type:"points",earned:0,total:0,message:null}}state={expanded:!1};change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();_onClick=()=>{this.setState({expanded:!this.state.expanded}),this.props.trackInteraction()};render(){const{Link}=this.props.apiOptions.baseElements,{isArticle,isMobile}=this.props.apiOptions,linkAnchor=this.state.expanded?this.props.hidePrompt:this.props.showPrompt;let linkContainer;const href="javascript:void(0)",onClick=this._onClick;linkContainer=isMobile?react.createElement("div",{className:(0,lib.css)(explanation_styles.linkContainer)},react.createElement("a",{className:(0,lib.css)(explanation_styles.mobileExplanationLink),href,onClick,role:"button","aria-expanded":this.state.expanded},linkAnchor),this.state.expanded&&react.createElement("svg",{className:(0,lib.css)(explanation_styles.disclosureArrow)},react.createElement("polygon",{style:{fill:backgroundColor},points:`0,${arrowHeight} ${arrowWidth},${arrowHeight} `+arrowWidth/2+",0"}))):isArticle?react.createElement("div",{className:(0,lib.css)(explanation_styles.linkContainer,explanation_styles.articleLink)},react.createElement(Link,{className:(0,lib.css)(explanation_styles.explanationLink),style:explanation_styles.explanationLink,href,onClick,role:"button","aria-expanded":this.state.expanded},`[${linkAnchor}]`)):react.createElement("div",{className:(0,lib.css)(explanation_styles.linkContainer,explanation_styles.exerciseLink)},react.createElement(Link,{className:(0,lib.css)(explanation_styles.explanationLink),href,onClick,role:"button","aria-expanded":this.state.expanded},`[${linkAnchor}]`));const expandedStyle=isMobile?explanation_styles.contentExpandedMobile:explanation_styles.contentExpanded;return react.createElement("div",{className:(0,lib.css)(explanation_styles.container)},linkContainer,this.state.expanded&&react.createElement("div",{className:(0,lib.css)(explanation_styles.content,isMobile&&explanation_styles.contentMobile,this.state.expanded&&expandedStyle),ref:"content"},react.createElement(renderer.Z,{apiOptions:this.props.apiOptions,content:this.props.explanation,widgets:this.props.widgets,linterContext:this.props.linterContext})))}getUserInput=()=>({});simpleValidate=rubric=>Explanation.validate(this.getUserInput(),rubric)}const arrowWidth=30,arrowHeight=14,backgroundColor=constants.Gu,explanation_styles=lib.StyleSheet.create({container:{display:"inline",position:"relative"},linkContainer:{display:"inline-block"},explanationLink:{fontStyle:"italic",color:"#007d96"},articleLink:{fontSize:20,lineHeight:"30px"},exerciseLink:{fontSize:14,lineHeight:"19.6px"},mobileExplanationLink:{color:constants.Ke,borderBottom:`dashed 1px ${constants.Ke}`,textDecoration:"none",[media_queries.Z.xl]:{fontSize:22,lineHeight:1.4},[media_queries.Z.lgOrSmaller]:{fontSize:20,lineHeight:1.5},[media_queries.Z.smOrSmaller]:{fontSize:18,lineHeight:1.2}},content:{position:"relative",transition:"margin-top 0.1s"},contentExpanded:{borderLeft:"5px solid #ccc",marginLeft:-23,paddingLeft:23,paddingBottom:10,marginBottom:arrowHeight,marginTop:arrowHeight},contentExpandedMobile:{boxSizing:"content-box",paddingTop:32,paddingBottom:32,marginTop:arrowHeight},contentMobile:{background:backgroundColor,marginLeft:constants.mi,marginRight:constants.mi,paddingLeft:constants.yB,paddingRight:constants.yB},disclosureArrow:{bottom:-(arrowHeight+5),height:arrowHeight,left:"50%",marginLeft:-arrowWidth/2,position:"absolute",width:arrowWidth}}),explanation={name:"explanation",displayName:"Explanation",accessible:!0,defaultAlignment:"inline",widget:Explanation,transform:index_all.ZP.identity,isLintable:!0};var wonder_blocks_button_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-button/dist/es/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),inline_icon=__webpack_require__("./packages/perseus/src/components/inline-icon.tsx"),icon_paths=__webpack_require__("./packages/perseus/src/icon-paths.ts"),a11y=__webpack_require__("./packages/perseus/src/util/a11y.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}class GradedGroupAnswerBar extends react.Component{render(){const{apiOptions,answerBarState,onCheckAnswer,onNextQuestion}=this.props,answerBarStyle={...graded_group_answer_bar_styles.answerBar,backgroundColor:"CORRECT"===answerBarState?dist_es.default.offWhite:"white",justifyContent:"CORRECT"!==answerBarState||onNextQuestion?"space-between":"center"},message="INCORRECT"===answerBarState?react.createElement("span",{style:graded_group_answer_bar_styles.text},react.createElement("span",{style:graded_group_answer_bar_styles.tryAgainIcon},react.createElement(inline_icon.Z,icon_paths.iconTryAgain)),react.createElement("span",{style:{marginLeft:8}},wonder_blocks_i18n_dist_es._("Keep trying"))):react.createElement("span",null);if("CORRECT"!==answerBarState){const buttonLabel="INCORRECT"===answerBarState?wonder_blocks_i18n_dist_es._("Try again"):wonder_blocks_i18n_dist_es._("Check");return react.createElement("div",{style:answerBarStyle},message,react.createElement(wonder_blocks_button_dist_es.Z,{disabled:apiOptions.readOnly||"ACTIVE"!==answerBarState,onClick:onCheckAnswer},buttonLabel))}return react.createElement("div",{style:answerBarStyle},react.createElement("span",{style:graded_group_answer_bar_styles.text},react.createElement("span",{style:{fontSize:28,color:dist_es.default.green}},react.createElement(inline_icon.Z,_extends({},icon_paths.iconStar,{style:{marginBottom:5}}))),react.createElement("span",{role:"alert","aria-label":wonder_blocks_i18n_dist_es._("Correct!"),style:{marginLeft:8}},wonder_blocks_i18n_dist_es._("Correct!"))),onNextQuestion&&react.createElement(wonder_blocks_button_dist_es.Z,{onClick:onNextQuestion},wonder_blocks_i18n_dist_es._("Next question")))}}const graded_group_answer_bar_styles={answerBar:{display:"flex",alignItems:"center",height:68,marginLeft:constants.mi,marginRight:constants.mi,marginBottom:constants.mi,marginTop:constants.yB,paddingLeft:constants.yB,paddingRight:10,borderTop:`1px solid ${dist_es.default.offBlack50}`},tryAgainIcon:{fontSize:28,color:"#63D9EA",transform:"scale(-1,1) rotate(-268deg)"},text:{display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"bold",fontSize:17}},graded_group_answer_bar=GradedGroupAnswerBar;try{GradedGroupAnswerBar.displayName="GradedGroupAnswerBar",GradedGroupAnswerBar.__docgenInfo={description:"",displayName:"GradedGroupAnswerBar",props:{answerBarState:{defaultValue:null,description:"",name:"answerBarState",required:!0,type:{name:"enum",value:[{value:'"HIDDEN"'},{value:'"ACTIVE"'},{value:'"INACTIVE"'},{value:'"INCORRECT"'},{value:'"CORRECT"'}]}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},onCheckAnswer:{defaultValue:null,description:"",name:"onCheckAnswer",required:!0,type:{name:"() => unknown"}},onNextQuestion:{defaultValue:null,description:"",name:"onNextQuestion",required:!1,type:{name:"(() => unknown)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/graded-group-answer-bar.tsx#GradedGroupAnswerBar"]={docgenInfo:GradedGroupAnswerBar.__docgenInfo,name:"GradedGroupAnswerBar",path:"packages/perseus/src/widgets/graded-group-answer-bar.tsx#GradedGroupAnswerBar"})}catch(__react_docgen_typescript_loader_error){}function graded_group_extends(){return graded_group_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},graded_group_extends.apply(this,arguments)}const GRADING_STATUSES_ungraded="ungraded",GRADING_STATUSES_correct="correct",GRADING_STATUSES_incorrect="incorrect",GRADING_STATUSES_invalid="invalid",getNextState=(currentState,answerable)=>{switch(currentState){case"HIDDEN":case"INACTIVE":return answerable?"ACTIVE":currentState;case"ACTIVE":return answerable?currentState:"INACTIVE";case"INCORRECT":return answerable?"ACTIVE":"INACTIVE";default:return currentState}},INVALID_MESSAGE_PREFIX=wonder_blocks_i18n_dist_es._("We couldn't grade your answer."),DEFAULT_INVALID_MESSAGE=wonder_blocks_i18n_dist_es._("It looks like you left something blank or ")+wonder_blocks_i18n_dist_es._("entered in an invalid answer.");class GradedGroup extends react.Component{static defaultProps={title:"",content:"",widgets:{},images:{},hint:null,hasHint:!1,linterContext:src.j_};state={status:GRADING_STATUSES_ungraded,showHint:!1,message:"",answerBarState:"HIDDEN"};shouldComponentUpdate(nextProps,nextState){return nextProps!==this.props||nextState!==this.state}change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();_onInteractWithWidget=id=>{if(this.setState({status:GRADING_STATUSES_ungraded,message:""}),this.refs.renderer){this.change("widgets",this.props.widgets);const answerable=0===this.refs.renderer.emptyWidgets().length,answerBarState=this.state.answerBarState;this.setState({answerBarState:getNextState(answerBarState,answerable)})}};_checkAnswer=()=>{this.refs.renderer.showRationalesForCurrentlySelectedChoices();const score=this.refs.renderer.score(),status="points"===score.type?score.total===score.earned?GRADING_STATUSES_correct:GRADING_STATUSES_incorrect:GRADING_STATUSES_invalid,message="points"===score.type?score.message||"":score.message?`${INVALID_MESSAGE_PREFIX} ${score.message}`:`${INVALID_MESSAGE_PREFIX} ${DEFAULT_INVALID_MESSAGE}`;this.setState({status,message,answerBarState:"correct"===status?"CORRECT":"INCORRECT"}),this.props.trackInteraction({status})};getInputPaths=()=>this.refs.renderer.getInputPaths();setInputValue=(path,newValue,cb)=>this.refs.renderer.setInputValue(path,newValue,cb);focus=()=>this.refs.renderer.focus();focusInputPath=path=>{this.refs.renderer.focusPath(path)};blurInputPath=path=>{this.refs.renderer.blurPath(path)};render(){const apiOptions=index_all.ZP.extend({},perseus_api._.defaults,this.props.apiOptions,{onFocusChange:(newFocus,oldFocus)=>{oldFocus&&this.props.onBlur(oldFocus),newFocus&&this.props.onFocus(newFocus)}});let gradeStatus=null,icon=null;this.state.status===GRADING_STATUSES_correct?(icon=react.createElement(inline_icon.Z,graded_group_extends({},icon_paths.iconOk,{style:{color:"#526f03"}})),gradeStatus=wonder_blocks_i18n_dist_es._("Correct")):this.state.status===GRADING_STATUSES_incorrect&&(icon=react.createElement(inline_icon.Z,graded_group_extends({},icon_paths.iconRemove,{style:{color:"#ff5454"}})),gradeStatus=wonder_blocks_i18n_dist_es._("Incorrect"));const mobileClass=this.props.inGradedGroupSet?(0,lib.css)(graded_group_styles.gradedGroupInSet):(0,lib.css)(graded_group_styles.gradedGroup),classes=classnames_default()({[mobileClass]:apiOptions.isMobile,"perseus-graded-group":!0,"answer-correct":!apiOptions.isMobile&&this.state.status===GRADING_STATUSES_correct,"answer-incorrect":!apiOptions.isMobile&&this.state.status===GRADING_STATUSES_incorrect}),{answerBarState}=this.state,isCorrect="CORRECT"===answerBarState,readOnly=apiOptions.readOnly||apiOptions.isMobile&&isCorrect;return react.createElement("div",{className:classes},!!this.props.title&&react.createElement("div",{className:(0,lib.css)(graded_group_styles.title)},this.props.title),react.createElement(renderer.Z,graded_group_extends({},this.props,{ref:"renderer",apiOptions:{...apiOptions,readOnly},onInteractWithWidget:this._onInteractWithWidget,linterContext:this.props.linterContext})),!apiOptions.isMobile&&icon&&react.createElement("div",{className:"group-icon"},icon),!apiOptions.isMobile&&gradeStatus&&react.createElement("div",{className:(0,lib.css)(a11y.Z.srOnly),role:"alert","aria-label":gradeStatus},gradeStatus),!apiOptions.isMobile&&react.createElement("p",{role:"status","aria-live":"polite"},this.state.message),!apiOptions.isMobile&&react.createElement(wonder_blocks_button_dist_es.Z,{kind:"secondary",disabled:this.props.apiOptions.readOnly,onClick:this._checkAnswer},wonder_blocks_i18n_dist_es._("Check")),!apiOptions.isMobile&&isCorrect&&this.props.onNextQuestion&&react.createElement(wonder_blocks_button_dist_es.Z,{kind:"secondary",disabled:this.props.apiOptions.readOnly,onClick:this.props.onNextQuestion,style:{marginLeft:5}},wonder_blocks_i18n_dist_es._("Next question")),this.props.hint&&this.props.hint.content&&(this.state.showHint?react.createElement("div",null,react.createElement("button",{tabIndex:"0",className:(0,lib.css)(graded_group_styles.explanationTitle),onClick:()=>this.setState({showHint:!1}),onKeyPress:e=>{e.preventDefault(),this.setState({showHint:!1})}},wonder_blocks_i18n_dist_es._("Hide explanation")),react.createElement(renderer.Z,graded_group_extends({},this.props.hint,{ref:"hints-renderer",apiOptions,linterContext:this.props.linterContext}))):react.createElement("button",{tabIndex:"0",onClick:()=>this.setState({showHint:!0}),onKeyPress:e=>{e.preventDefault(),this.setState({showHint:!0})},className:(0,lib.css)(graded_group_styles.showHintLink)},wonder_blocks_i18n_dist_es._("Explain"))),apiOptions.isMobile&&"HIDDEN"!==answerBarState&&react.createElement(graded_group_answer_bar,{apiOptions,answerBarState,onCheckAnswer:this._checkAnswer,onNextQuestion:this.props.onNextQuestion}))}}const graded_group_styles=lib.StyleSheet.create({gradedGroupInSet:{marginLeft:0,paddingLeft:0},gradedGroup:{borderTop:`1px solid ${constants.o}`,borderBottom:`1px solid ${constants.o}`,backgroundColor:constants.zC,marginLeft:constants.mi,marginRight:constants.mi,paddingBottom:constants.yB,paddingLeft:constants.yB,paddingRight:constants.yB,paddingTop:10,width:"auto"},showHintLink:{backgroundColor:"unset",fontSize:14,padding:0,border:"none",marginTop:20,color:dist_es.default.blue,cursor:"pointer",display:"block",clear:"both"},explanationTitle:{backgroundColor:"unset",marginTop:20,color:dist_es.default.blue,marginBottom:10,cursor:"pointer",fontSize:14,padding:0,border:"none",display:"block",clear:"both"},title:{fontSize:12,color:constants.uD,textTransform:"uppercase",marginBottom:11,letterSpacing:.8}}),graded_group={name:"graded-group",displayName:"Graded group (articles only)",widget:GradedGroup,traverseChildWidgets:function(props,traverseRenderer){return index_all.ZP.extend({},props,traverseRenderer(props))},hidden:!1,tracking:"all",isLintable:!0};try{GradedGroup.displayName="GradedGroup",GradedGroup.__docgenInfo={description:"",displayName:"GradedGroup",props:{title:{defaultValue:{value:""},description:"",name:"title",required:!1,type:{name:"string"}},hasHint:{defaultValue:{value:"false"},description:"",name:"hasHint",required:!1,type:{name:"boolean | null"}},hint:{defaultValue:{value:"null"},description:"",name:"hint",required:!1,type:{name:"PerseusRenderer | null"}},content:{defaultValue:{value:""},description:"",name:"content",required:!1,type:{name:"string"}},widgets:{defaultValue:{value:"{}"},description:"",name:"widgets",required:!1,type:{name:"{ [key: string]: PerseusWidget; }"}},widgetEnabled:{defaultValue:null,description:"",name:"widgetEnabled",required:!1,type:{name:"boolean | null"}},immutableWidgets:{defaultValue:null,description:"",name:"immutableWidgets",required:!1,type:{name:"boolean | null"}},images:{defaultValue:{value:"{}"},description:"",name:"images",required:!1,type:{name:"{ [key: string]: PerseusImageDetail; }"}},widgetId:{defaultValue:null,description:"",name:"widgetId",required:!0,type:{name:"string"}},alignment:{defaultValue:null,description:"",name:"alignment",required:!0,type:{name:"string | null | undefined"}},static:{defaultValue:null,description:"",name:"static",required:!0,type:{name:"boolean | null | undefined"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!0,type:{name:"number | null | undefined"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"(blurPath: FocusPath) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"(blurPath: FocusPath) => void"}},findWidgets:{defaultValue:null,description:"",name:"findWidgets",required:!0,type:{name:"(arg1: FilterCriterion) => readonly any[]"}},reviewModeRubric:{defaultValue:null,description:"",name:"reviewModeRubric",required:!0,type:{name:"PerseusGradedGroupWidgetOptions"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}},trackInteraction:{defaultValue:null,description:"",name:"trackInteraction",required:!0,type:{name:"(extraData?: TrackingGradedGroupExtraArguments | undefined) => void"}},isLastUsedWidget:{defaultValue:null,description:"",name:"isLastUsedWidget",required:!0,type:{name:"boolean"}},linterContext:{defaultValue:{value:'{\n    contentType: "",\n    highlightLint: false,\n    paths: [] as ReadonlyArray<any>,\n    stack: [] as ReadonlyArray<any>,\n}'},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},containerSizeClass:{defaultValue:null,description:"",name:"containerSizeClass",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},inGradedGroupSet:{defaultValue:null,description:"",name:"inGradedGroupSet",required:!1,type:{name:"boolean"}},onNextQuestion:{defaultValue:null,description:"",name:"onNextQuestion",required:!1,type:{name:"(() => unknown)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/graded-group.tsx#GradedGroup"]={docgenInfo:GradedGroup.__docgenInfo,name:"GradedGroup",path:"packages/perseus/src/widgets/graded-group.tsx#GradedGroup"})}catch(__react_docgen_typescript_loader_error){}var wonder_blocks_core_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js");function graded_group_set_extends(){return graded_group_set_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},graded_group_set_extends.apply(this,arguments)}class Indicators extends react.Component{handleKeyDown=(e,i)=>{"Enter"!==e.key&&" "!==e.key||this.props.onChangeCurrentGroup(i)};render(){return react.createElement("ul",{className:classnames_default()((0,lib.css)(graded_group_set_styles.indicatorContainer),"indicatorContainer")},this.props.gradedGroups.map(((_ref,i)=>{let{title}=_ref;return react.createElement("li",{className:(0,lib.css)(graded_group_set_styles.indicator),key:title},react.createElement(es.ZP,{role:"button","aria-label":wonder_blocks_i18n_dist_es._("Skip to %(title)s",{title}),style:graded_group_set_styles.indicatorButton,onClick:()=>this.props.onChangeCurrentGroup(i),onKeyDown:e=>this.handleKeyDown(e,i)},(_ref2=>{let{hovered,focused,pressed}=_ref2;return react.createElement(wonder_blocks_core_dist_es.G7,{style:[graded_group_set_styles.indicatorDot,(hovered||focused||pressed)&&graded_group_set_styles.indicatorDotFocused]},i===this.props.currentGroup&&react.createElement(wonder_blocks_core_dist_es.G7,{style:graded_group_set_styles.indicatorDotActive},react.createElement("span",{className:(0,lib.css)(a11y.Z.srOnly)},wonder_blocks_i18n_dist_es._("Current"))))})))})))}}class GradedGroupSet extends react.Component{static defaultProps={gradedGroups:[],linterContext:src.j_};state={currentGroup:0};shouldComponentUpdate(nextProps,nextState){return nextProps.gradedGroups,nextProps!==this.props||nextState!==this.state}change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();getInputPaths=()=>this._childGroup.getInputPaths();setInputValue=(path,newValue,cb)=>this._childGroup.setInputValue(path,newValue,cb);focus=()=>this._childGroup.focus();focusInputPath=path=>{this._childGroup.focusInputPath(path)};blurInputPath=path=>{this._childGroup.blurInputPath(path)};handleNextQuestion=()=>{const{currentGroup}=this.state;currentGroup<this.props.gradedGroups.length-1&&this.setState({currentGroup:currentGroup+1})};render(){const{JIPT}=(0,dependencies.getDependencies)();if(JIPT.useJIPT&&this.props.gradedGroups.length>1)return react.createElement("div",{className:(0,lib.css)(graded_group_set_styles.container)},this.props.gradedGroups.map(((gradedGroup,i)=>react.createElement(GradedGroup,graded_group_set_extends({key:i},this.props,gradedGroup,{inGradedGroupSet:!1,linterContext:this.props.linterContext})))));const currentGroup=this.props.gradedGroups[this.state.currentGroup];if(!currentGroup)return react.createElement("span",null,wonder_blocks_i18n_dist_es.doNotTranslate("No current group..."));const numGroups=this.props.gradedGroups.length,handleNextQuestion=this.state.currentGroup<numGroups-1?this.handleNextQuestion:null;return react.createElement("div",{className:(0,lib.css)(graded_group_set_styles.container)},react.createElement("div",{className:(0,lib.css)(graded_group_set_styles.top)},react.createElement("div",{className:(0,lib.css)(graded_group_set_styles.title)},currentGroup.title),react.createElement("div",{className:(0,lib.css)(graded_group_set_styles.spacer)}),react.createElement(Indicators,{currentGroup:this.state.currentGroup,gradedGroups:this.props.gradedGroups,onChangeCurrentGroup:currentGroup=>this.setState({currentGroup})})),react.createElement(GradedGroup,graded_group_set_extends({key:this.state.currentGroup,ref:comp=>this._childGroup=comp},this.props,currentGroup,{inGradedGroupSet:!0,title:null,onNextQuestion:handleNextQuestion,linterContext:this.props.linterContext})))}}const graded_group_set={name:"graded-group-set",displayName:"Graded group set (articles only)",widget:GradedGroupSet,traverseChildWidgets:function(props,traverseRenderer){return{groups:props.gradedGroups.map(traverseRenderer)}},hidden:!1,tracking:"all",isLintable:!0},graded_group_set_styles=lib.StyleSheet.create({top:{display:"flex",flexDirection:"row"},spacer:{flex:1},title:{fontSize:12,color:dist_es.default.offBlack64,textTransform:"uppercase",marginBottom:11,letterSpacing:.8},indicatorContainer:{display:"flex",flexDirection:"row",listStyle:"none",margin:"unset",paddingInlineStart:"unset",flexWrap:"wrap"},indicator:{width:24,height:24},indicatorButton:{width:"100%",height:"100%",display:"flex",flexWrap:"wrap",placeContent:"center",cursor:"pointer",":focus":{outline:"none"}},indicatorDot:{boxSizing:"content-box",width:10,height:10,borderRadius:"100%",borderWidth:2,borderColor:dist_es.default.blue,borderStyle:"solid"},indicatorDotFocused:{borderWidth:5,borderStyle:"double"},indicatorDotActive:{backgroundColor:dist_es.default.blue,width:"100%",height:"100%"},container:{borderTop:`1px solid ${constants.o}`,borderBottom:`1px solid ${constants.o}`,backgroundColor:constants.zC,marginLeft:constants.mi,marginRight:constants.mi,paddingBottom:constants.yB,paddingLeft:constants.yB,paddingRight:constants.yB,paddingTop:10,width:"auto"}});var grapher=__webpack_require__("./packages/perseus/src/widgets/grapher.tsx");class Group extends react.Component{static defaultProps={content:"",widgets:{},images:{},linterContext:src.j_};componentDidMount(){this.forceUpdate()}change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();getUserInput=()=>this.rendererRef?.getUserInput();getSerializedState=()=>this.rendererRef?.getSerializedState();restoreSerializedState=(state,callback)=>(this.rendererRef?.restoreSerializedState(state,callback),null);simpleValidate=rubric=>this.rendererRef?.score();getInputPaths=()=>this.rendererRef?.getInputPaths();setInputValue=(path,newValue,callback)=>this.rendererRef?.setInputValue(path,newValue,callback);focus=()=>this.rendererRef?.focus();focusInputPath=path=>{this.rendererRef?.focusPath(path)};blurInputPath=path=>{this.rendererRef?.blurPath(path)};showRationalesForCurrentlySelectedChoices=()=>{this.rendererRef?.showRationalesForCurrentlySelectedChoices()};render(){const apiOptions={...perseus_api._.defaults,...this.props.apiOptions,onFocusChange:(newFocus,oldFocus)=>{oldFocus&&this.props.onBlur(oldFocus),newFocus&&this.props.onFocus(newFocus)}},number=this.props.findWidgets("group").indexOf(this),problemNumComponent=this.props.apiOptions.groupAnnotator(number,this.props.widgetId),score=this.rendererRef?.score(),isValid=score&&"invalid"!==score.type,isInvalid=score&&"invalid"===score.type;return react.createElement("div",{className:classnames_default()({"perseus-group":!0,"perseus-group-valid-answer":isValid,"perseus-group-invalid-answer":isInvalid})},problemNumComponent,react.createElement(renderer.Z,{content:this.props.content,widgets:this.props.widgets,images:this.props.images,ref:ref=>this.rendererRef=ref,apiOptions,findExternalWidgets:this.props.findWidgets,reviewMode:!!this.props.reviewModeRubric,onInteractWithWidget:id=>{this.rendererRef&&this.change("widgets",this.rendererRef.props.widgets)},linterContext:this.props.linterContext}),this.props.icon&&react.createElement("div",{className:"group-icon"},this.props.icon))}}const group={name:"group",displayName:"Group (SAT only)",widget:Group,traverseChildWidgets:function(props,traverseRenderer){return{...props,...traverseRenderer(props)}},hidden:!1,isLintable:!0};var widget_jsonify_deprecated=__webpack_require__("./packages/perseus/src/mixins/widget-jsonify-deprecated.ts");const{updateQueryString:iframe_updateQueryString}=util.default;class Iframe extends react.Component{static propTypes={...changeable.i,width:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),height:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),url:prop_types_default().string,settings:prop_types_default().array,status:prop_types_default().oneOf(["incomplete","incorrect","correct"]),message:prop_types_default().string,allowFullScreen:prop_types_default().bool,allowTopNavigation:prop_types_default().bool};static defaultProps={status:"incomplete",message:null,allowFullScreen:!1,allowTopNavigation:!1};getUserInput=()=>widget_jsonify_deprecated.Z.getUserInput.call(this);handleMessageEvent=e=>{let data={};try{data=JSON.parse(e.originalEvent.data)}catch(err){return}if(index_all.ZP.isUndefined(data.testsPassed))return;const status=data.testsPassed?"correct":"incorrect";this.change({status,message:data.message})};componentDidMount(){jquery_default()(window).on("message",this.handleMessageEvent)}componentWillUnmount(){jquery_default()(window).off("message",this.handleMessageEvent)}render(){const style={width:String(this.props.width),height:String(this.props.height)},{InitialRequestUrl}=(0,dependencies.getDependencies)();Object.entries(style).forEach((_ref=>{let[key,value]=_ref;value.endsWith("%")||value.endsWith("px")||(style[key]=value+"px")}));let url=this.props.url;if(url&&url.length&&0!==url.indexOf("http")&&(url="https://www.khanacademy.org/computer-programming/program/"+url+"/embedded?buttons=no&embed=yes&editor=no&author=no",url=iframe_updateQueryString(url,"width",this.props.width),url=iframe_updateQueryString(url,"height",this.props.height),url=iframe_updateQueryString(url,"origin",InitialRequestUrl.origin)),this.props.settings){const settings={};index_all.ZP.each(this.props.settings,(function(setting){setting.name&&setting.value&&(settings[setting.name]=setting.value)})),url=iframe_updateQueryString(url,"settings",JSON.stringify(settings))}let sandboxProperties="allow-same-origin allow-scripts";return sandboxProperties+=" allow-top-navigation",react.createElement("iframe",{sandbox:"allow-same-origin allow-scripts allow-top-navigation",style,src:url,allowFullScreen:this.props.allowFullScreen})}change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();simpleValidate=rubric=>Iframe.validate(this.getUserInput(),rubric)}index_all.ZP.extend(Iframe,{validate:function(state,rubric){return"correct"===state.status?{type:"points",earned:1,total:1,message:state.message||null}:"incorrect"===state.status?{type:"points",earned:0,total:1,message:state.message||null}:{type:"invalid",message:"Keep going, you're not there yet!"}}});const iframe={name:"iframe",displayName:"Iframe (deprecated)",widget:Iframe,hidden:!0};var asset_context=__webpack_require__("./packages/perseus/src/asset-context.ts"),svg_image=__webpack_require__("./packages/perseus/src/components/svg-image.tsx");const defaultRange=[0,10],defaultBackgroundImage={url:null,width:0,height:0};class ImageWidget extends react.Component{static defaultProps={alignment:"block",title:"",range:[defaultRange,defaultRange],box:[400,400],backgroundImage:defaultBackgroundImage,labels:[],alt:"",caption:"",linterContext:src.j_};change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();getUserInput=()=>null;simpleValidate=rubric=>ImageWidget.validate(this.getUserInput(),rubric);focus=()=>{};render(){let image,alt;const{apiOptions}=this.props,backgroundImage=this.props.backgroundImage;if(backgroundImage.url){const url=backgroundImage.url;image=react.createElement(asset_context.Z.Consumer,null,(_ref=>{let{setAssetStatus}=_ref;return react.createElement(svg_image.Z,{src:url,alt:this.props.alt,overrideAriaHidden:!0,width:backgroundImage.width,height:backgroundImage.height,preloader:apiOptions.imagePreloader,extraGraphie:{box:this.props.box,range:this.props.range,labels:this.props.labels},trackInteraction:this.props.trackInteraction,zoomToFullSizeOnMobile:apiOptions.isMobile,constrainHeight:apiOptions.isMobile,allowFullBleed:apiOptions.isMobile,setAssetStatus})}))}if(this.props.alt&&(alt=react.createElement("span",{className:"perseus-sr-only"},react.createElement(renderer.Z,{content:this.props.alt,apiOptions,linterContext:this.props.linterContext}))),apiOptions.isMobile){let titleAndCaption;if(this.props.title||this.props.caption){let title=this.props.title;title&&(this.props.caption&&!/[.?!"']\s*$/.test(title)&&(title+="."),title=`**${title}** `);const className=classnames_default()({"perseus-image-caption":!0,"has-title":!!title}),alignment=this.props.alignment,minWidth="block"===alignment||"full-width"===alignment?null:"0 !important";titleAndCaption=react.createElement("figcaption",{className,style:{maxWidth:backgroundImage.width}},react.createElement("div",{style:{minWidth}},react.createElement(renderer.Z,{content:title+this.props.caption,apiOptions,linterContext:this.props.linterContext})))}return react.createElement("figure",{className:"perseus-image-widget",style:{maxWidth:backgroundImage.width}},image,alt,titleAndCaption)}let title,caption;return this.props.title&&(title=react.createElement("div",{className:"perseus-image-title"},react.createElement(renderer.Z,{content:this.props.title,apiOptions,linterContext:this.props.linterContext}))),this.props.caption&&(caption=react.createElement("figcaption",{className:"perseus-image-caption",style:{maxWidth:backgroundImage.width}},react.createElement(renderer.Z,{content:this.props.caption,apiOptions,linterContext:this.props.linterContext}))),react.createElement("figure",{className:"perseus-image-widget",style:{maxWidth:backgroundImage.width}},title,image,alt,caption)}static validate(userInput,rubric){return{type:"points",earned:0,total:0,message:null}}}const widgets_image={name:"image",accessible:widgetOptions=>{const bgImage=widgetOptions.backgroundImage;return!(bgImage&&bgImage.url&&!widgetOptions.alt)},defaultAlignment:"block",supportedAlignments:["block","full-width"],displayName:"Image",widget:ImageWidget,isLintable:!0};var kas_src=__webpack_require__("./packages/kas/src/index.js"),kmath_src=__webpack_require__("./packages/kmath/src/index.ts"),graphie=__webpack_require__("./packages/perseus/src/components/graphie.tsx");const Label=graphie.default.Label,Line=graphie.default.Line,MovablePoint=graphie.default.MovablePoint,MovableLine=graphie.default.MovableLine,Plot=graphie.default.Plot,PlotParametric=graphie.default.PlotParametric,Point=graphie.default.Point,Rect=graphie.default.Rect,{unescapeMathMode}=util.default,KAShashFunc=(expr,options)=>{let result=expr+"||"+(options=options||{}).decimal_separator+"||";const functions=options.functions,functionsLength=functions?functions.length:0;for(let i=0;i<functionsLength;i++)result+=functions[i]+"|";return result},_parseCache=Object.create(null),KASparse=(expr,options)=>{const hash=KAShashFunc(expr,options);let cached=_parseCache[hash];return cached||(cached=kas_src.Qc(expr,options),_parseCache[hash]=cached,cached)},_compileCache=Object.create(null),KAScompile=(expr,options)=>{const hash=KAShashFunc(expr,options);let cached=_compileCache[hash];if(cached)return cached;const parsed=kas_src.Qc(expr,options).expr;return cached=parsed?parsed.compile():function(){return 0},_compileCache[hash]=cached,cached};class Interaction extends react.Component{static defaultProps={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]};state={variables:_getInitialVariables(this.props.elements),functions:_getInitialFunctions(this.props.elements)};UNSAFE_componentWillReceiveProps(nextProps){index_all.ZP.isEqual(this.props.elements,nextProps.elements)||this.setState({variables:_getInitialVariables(nextProps.elements),functions:_getInitialFunctions(nextProps.elements)})}_setupGraphie=(graphie,options)=>{graphie.graphInit(index_all.ZP.extend({},options,{grid:index_all.ZP.contains(["graph","grid"],this.props.graph.markings),axes:index_all.ZP.contains(["graph"],this.props.graph.markings),ticks:index_all.ZP.contains(["graph"],this.props.graph.markings),labels:index_all.ZP.contains(["graph"],this.props.graph.markings),labelFormat:function(s){return"\\small{"+s+"}"},axisArrows:"<->",unityLabels:!1}))};_updatePointLocation=(subscript,coord)=>{const variables=index_all.ZP.clone(this.state.variables);variables["x_"+subscript]=coord[0],variables["y_"+subscript]=coord[1],this.setState({variables}),this.props.trackInteraction()};_updateLineLocation=(options,startCoord)=>{const xDiff=this._eval("("+options.endX+")-("+options.startX+")"),yDiff=this._eval("("+options.endY+")-("+options.startY+")"),endCoord=kmath_src.xr.add(startCoord,[xDiff,yDiff]),variables=index_all.ZP.clone(this.state.variables);variables["x_"+options.startSubscript]=startCoord[0],variables["y_"+options.startSubscript]=startCoord[1],variables["x_"+options.endSubscript]=endCoord[0],variables["y_"+options.endSubscript]=endCoord[1],this.setState({variables}),this.props.trackInteraction()};_eval=(expression,variables)=>{const func=KAScompile(expression,{functions:this.state.functions}),compiledVars=index_all.ZP.extend({},this.state.variables,variables);return index_all.ZP.each(index_all.ZP.keys(compiledVars),(name=>{if(index_all.ZP.isString(compiledVars[name])){const func=KAScompile(compiledVars[name],{functions:this.state.functions});compiledVars[name]=function(x){return func(index_all.ZP.extend({},compiledVars,{x}))}}})),func(compiledVars)||0};_extractVars=expr=>{if(null==expr)return[];let vars=[];return index_all.ZP.each(expr.args(),(function(arg){arg&&"Expr"===arg.constructor.name&&(vars=vars.concat(this._extractVars(arg)))}),this),"Var"===expr.name()&&vars.push(expr.prettyPrint()),vars};change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();render(){const range=this.props.graph.range;let labels=this.props.graph.labels;return"graph"===this.props.graph.markings&&(labels=this.props.graph.labels.map((label=>label.startsWith("$")&&label.endsWith("$")?label.slice(1,-1):label))),react.createElement(graphie.default,{box:this.props.graph.box,range:this.props.graph.range,options:this.props.graph,setup:this._setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable},"graph"===this.props.graph.markings&&react.createElement(Label,{coord:[0,range[1][1]],text:labels[1],direction:"above"}),"graph"===this.props.graph.markings&&react.createElement(Label,{coord:[range[0][1],0],text:labels[0],direction:"right"}),index_all.ZP.map(this.props.elements,(function(element,n){if("point"===element.type)return react.createElement(Point,{key:element.key,coord:[this._eval(element.options.coordX),this._eval(element.options.coordY)],color:element.options.color});if("line"===element.type){const start=[this._eval(element.options.startX),this._eval(element.options.startY)],end=[this._eval(element.options.endX),this._eval(element.options.endY)];return react.createElement(Line,{key:element.key,start,end,style:{stroke:element.options.color,strokeWidth:element.options.strokeWidth,strokeDasharray:element.options.strokeDasharray,arrows:element.options.arrows}})}if("movable-point"===element.type){const constraints=[coord=>[Math.max(this._eval(element.options.constraintXMin),Math.min(this._eval(element.options.constraintXMax),coord[0])),Math.max(this._eval(element.options.constraintYMin),Math.min(this._eval(element.options.constraintYMax),coord[1]))]];return"snap"===element.options.constraint?constraints.push(MovablePoint.constraints.snap(element.options.snap)):"x"===element.options.constraint?constraints.push((coord=>[this._eval(element.options.constraintFn,{y:coord[1]}),coord[1]])):"y"===element.options.constraint&&constraints.push((coord=>[coord[0],this._eval(element.options.constraintFn,{x:coord[0]})])),react.createElement(MovablePoint,{key:element.key,coord:[this.state.variables["x_"+element.options.varSubscript],this.state.variables["y_"+element.options.varSubscript]],constraints,foo_x:element.options.constraint,foo_y:element.options.constraintFn,foo_z:element.options.snap,onMove:index_all.ZP.partial(this._updatePointLocation,element.options.varSubscript)})}if("movable-line"===element.type){const constraints=[coord=>[Math.max(this._eval(element.options.constraintXMin),Math.min(this._eval(element.options.constraintXMax),coord[0])),Math.max(this._eval(element.options.constraintYMin),Math.min(this._eval(element.options.constraintYMax),coord[1]))]];"snap"===element.options.constraint?constraints.push(MovablePoint.constraints.snap(element.options.snap)):"x"===element.options.constraint?constraints.push((coord=>[this._eval(element.options.constraintFn,{y:coord[1]}),coord[1]])):"y"===element.options.constraint&&constraints.push((coord=>[coord[0],this._eval(element.options.constraintFn,{x:coord[0]})]));const start=[this.state.variables["x_"+element.options.startSubscript],this.state.variables["y_"+element.options.startSubscript]],end=[this.state.variables["x_"+element.options.endSubscript],this.state.variables["y_"+element.options.endSubscript]];return react.createElement(MovableLine,{key:element.key,constraints,onMove:index_all.ZP.bind(this._updateLineLocation,this,element.options),foo_x:element.options.constraint,foo_y:element.options.constraintFn,foo_z:element.options.snap},react.createElement(MovablePoint,{coord:start,static:!0,normalStyle:{stroke:"none",fill:"none"}}),react.createElement(MovablePoint,{coord:end,static:!0,normalStyle:{stroke:"none",fill:"none"}}))}if("function"===element.type){const fn=x=>this._eval(element.options.value,{x}),vars=index_all.ZP.without(this._extractVars(KASparse(element.options.value).expr),"x"),varValues=index_all.ZP.object(vars,index_all.ZP.map(vars,(v=>this.state.variables[v]))),range=[this._eval(element.options.rangeMin,this.state.variables),this._eval(element.options.rangeMax,this.state.variables)];return react.createElement(Plot,{key:element.key,fn,foo_fn:element.options.value,foo_varvalues:varValues,range,style:{stroke:element.options.color,strokeWidth:element.options.strokeWidth,strokeDasharray:element.options.strokeDasharray,plotPoints:100}})}if("parametric"===element.type){const fn=t=>[this._eval(element.options.x,{t}),this._eval(element.options.y,{t})],vars=index_all.ZP.without(this._extractVars(KASparse(element.options.x).expr).concat(this._extractVars(KASparse(element.options.y).expr)),"t"),varValues=index_all.ZP.object(vars,index_all.ZP.map(vars,(v=>this.state.variables[v]))),range=[this._eval(element.options.rangeMin,this.state.variables),this._eval(element.options.rangeMax,this.state.variables)];return react.createElement(PlotParametric,{key:element.key,fn,foo_fnx:element.options.x,foo_fny:element.options.y,foo_varvalues:varValues,range,style:{stroke:element.options.color,strokeWidth:element.options.strokeWidth,strokeDasharray:element.options.strokeDasharray,plotPoints:100}})}if("label"===element.type){const coord=[this._eval(element.options.coordX),this._eval(element.options.coordY)];return react.createElement(Label,{key:n+1,coord,text:unescapeMathMode(element.options.label),style:{color:element.options.color}})}return"rectangle"===element.type?react.createElement(Rect,{key:n+1,x:this._eval(element.options.coordX),y:this._eval(element.options.coordY),width:index_all.ZP.max([this._eval(element.options.width),0]),height:index_all.ZP.max([this._eval(element.options.height),0]),style:{stroke:"none",fill:element.options.color}}):void 0}),this))}getUserInput=()=>({});simpleValidate=rubric=>Interaction.validate(this.getUserInput(),rubric);static validate(state,rubric){return{type:"points",earned:0,total:0,message:null}}}const _getInitialVariables=elements=>{const variables={};return index_all.ZP.each(index_all.ZP.where(elements,{type:"movable-point"}),(element=>{const subscript=element.options.varSubscript,startXExpr=KASparse(element.options.startX||"0").expr,startYExpr=KASparse(element.options.startY||"0").expr;let startX=0,startY=0;startXExpr&&(startX=startXExpr.eval({})||0),startYExpr&&(startY=startYExpr.eval({})||0),variables["x_"+subscript]=startX,variables["y_"+subscript]=startY})),index_all.ZP.each(index_all.ZP.where(elements,{type:"movable-line"}),(element=>{const startSubscript=element.options.startSubscript,endSubscript=element.options.endSubscript,startXExpr=KASparse(element.options.startX||"0").expr,startYExpr=KASparse(element.options.startY||"0").expr,endXExpr=KASparse(element.options.endX||"0").expr,endYExpr=KASparse(element.options.endY||"0").expr;let startX=0,startY=0,endX=0,endY=0;startXExpr&&(startX=startXExpr.eval({})||0),startYExpr&&(startY=startYExpr.eval({})||0),endXExpr&&(endX=endXExpr.eval({})||0),endYExpr&&(endY=endYExpr.eval({})||0),variables["x_"+startSubscript]=startX,variables["y_"+startSubscript]=startY,variables["x_"+endSubscript]=endX,variables["y_"+endSubscript]=endY})),index_all.ZP.each(index_all.ZP.where(elements,{type:"function"}),(element=>{variables[element.options.funcName]=element.options.value})),variables},_getInitialFunctions=elements=>index_all.ZP.map(index_all.ZP.where(elements,{type:"function"}),(element=>element.options.funcName)),interaction={name:"interaction",displayName:"Interaction",widget:Interaction,transform:index_all.ZP.identity,hidden:!0};var interactive_graph=__webpack_require__("./packages/perseus/src/widgets/interactive-graph.tsx"),global_styles=__webpack_require__("./packages/perseus/src/styles/global-styles.ts"),answer_choices=__webpack_require__("./packages/perseus/src/widgets/label-image/answer-choices.tsx"),wonder_blocks_switch_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-switch/dist/es/index.js"),wonder_blocks_typography_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-typography/dist/es/index.js");const strings={hideAnswersToggleLabel:wonder_blocks_i18n_dist_es._("Hide answer choices")},HideAnswersToggle=props=>{const idFactory=(0,wonder_blocks_core_dist_es._u)(),switchId=idFactory.get("hide-answers-toggle"),labelId=idFactory.get("hide-answers-label");return react.createElement(wonder_blocks_core_dist_es.G7,{style:hide_answers_toggle_styles.switchWrapper},react.createElement(wonder_blocks_switch_dist_es.Z,{id:switchId,checked:props.areAnswersHidden,onChange:props.onChange,"aria-labelledby":labelId}),react.createElement(wonder_blocks_typography_dist_es.Uc,{id:labelId,htmlFor:switchId,tag:"label"},strings.hideAnswersToggleLabel))},hide_answers_toggle_styles=lib.StyleSheet.create({switchWrapper:{display:"flex",flexDirection:"row",flexWrap:"wrap-reverse",alignItems:"center",gap:"0.5em",marginTop:"1em"}});try{HideAnswersToggle.displayName="HideAnswersToggle",HideAnswersToggle.__docgenInfo={description:"",displayName:"HideAnswersToggle",props:{areAnswersHidden:{defaultValue:null,description:"",name:"areAnswersHidden",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"((newCheckedState: boolean) => unknown) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/label-image/hide-answers-toggle.tsx#HideAnswersToggle"]={docgenInfo:HideAnswersToggle.__docgenInfo,name:"HideAnswersToggle",path:"packages/perseus/src/widgets/label-image/hide-answers-toggle.tsx#HideAnswersToggle"})}catch(__react_docgen_typescript_loader_error){}var label_image_marker=__webpack_require__("./packages/perseus/src/widgets/label-image/marker.tsx");function label_image_extends(){return label_image_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},label_image_extends.apply(this,arguments)}class LabelImage extends react.Component{static gradeMarker(marker){const score={hasAnswers:!1,isCorrect:!1};return marker.selected&&marker.selected.length>0&&(score.hasAnswers=!0),marker.answers.length>0?marker.selected&&marker.selected.length===marker.answers.length&&(score.isCorrect=marker.selected.every((choice=>marker.answers.includes(choice)))):marker.selected&&0!==marker.selected.length||(score.isCorrect=!0),score}static validate(state,rubric){let numAnswered=0,numCorrect=0;for(const marker of state.markers){const score=LabelImage.gradeMarker(marker);score.hasAnswers&&numAnswered++,score.isCorrect&&numCorrect++}return numAnswered!==state.markers.length?{type:"invalid",message:null}:{type:"points",earned:numCorrect===state.markers.length?1:0,total:1,message:null}}static pointInTriangle(p,a,b,c){const sign=(p1,p2,p3)=>(p1.x-p3.x)*(p2.y-p3.y)-(p2.x-p3.x)*(p1.y-p3.y),b1=sign(p,a,b)<0,b2=sign(p,b,c)<0,b3=sign(p,c,a)<0;return b1===b2&&b2===b3}static imageSideForMarkerPosition(x,y,preferredDirection){if(preferredDirection&&"NONE"!==preferredDirection){if("LEFT"===preferredDirection&&x>20)return"right";if("RIGHT"===preferredDirection&&x<80)return"left";if("UP"===preferredDirection&&y>20)return"bottom";if("DOWN"===preferredDirection&&y<80)return"top"}if(x<20)return"left";if(x>80)return"right";const tl={x:20,y:0},tr={x:80,y:0},br={x:80,y:100},bl={x:20,y:100},cp={x:50,y:50},triangles={top:[tl,tr,cp],right:[cp,tr,br],bottom:[bl,cp,br],left:[tl,cp,bl]},p={x,y};for(const side of Object.keys(triangles)){const corners=triangles[side];if(LabelImage.pointInTriangle(p,...corners))return side}return"center"}static navigateToMarkerIndex(navigateDirection,markers,thisIndex){const thisMarker=markers[thisIndex],sortedMarkers=markers.map(((otherMarker,index)=>{const x=otherMarker.x-thisMarker.x,y=otherMarker.y-thisMarker.y,dist=Math.sqrt(x**2+y**2);return{index,dist,dir:{x:0!==dist?x/dist:0,y:0!==dist?y/dist:0}}})).filter((marker=>marker.index!==thisIndex&&"correct"!==markers[marker.index].showCorrectness)).sort(((a,b)=>{const distA=Math.round(a.dist*(navigateDirection.x*a.dir.x+navigateDirection.y*a.dir.y)),distB=Math.round(b.dist*(navigateDirection.x*b.dir.x+navigateDirection.y*b.dir.y));let dirA,dirB;return navigateDirection.x>0?(dirA=a.dir.x>0&&0!==distA,dirB=b.dir.x>0&&0!==distB):navigateDirection.x<0?(dirA=a.dir.x<0&&0!==distA,dirB=b.dir.x<0&&0!==distB):navigateDirection.y>0?(dirA=a.dir.y>0&&0!==distA,dirB=b.dir.y>0&&0!==distB):navigateDirection.y<0&&(dirA=a.dir.y<0&&0!==distA,dirB=b.dir.y<0&&0!==distB),dirA!==dirB?dirA?-1:1:distA-distB}));return sortedMarkers.length>0?sortedMarkers[0].index:thisIndex}constructor(props){super(props),this._markers=[],this.state={activeMarkerIndex:-1,markersInteracted:!1,hideAnswers:!1}}simpleValidate(rubric){return LabelImage.validate(this.getUserInput(),rubric)}getUserInput(){const{markers}=this.props;return{markers}}showRationalesForCurrentlySelectedChoices(rubric){const{markers}=this.props,{onChange}=this.props;onChange({markers:markers.map((marker=>{const score=LabelImage.gradeMarker(marker);return{...marker,showCorrectness:score.hasAnswers?score.isCorrect?"correct":"incorrect":void 0}}))},null,!0)}handleMarkerChange(index,marker){const{markers,onChange}=this.props;onChange({markers:[...markers.slice(0,index),{...marker,showCorrectness:void 0},...markers.slice(index+1)]})}activateMarker(index,opened){this.props.analytics?.onAnalyticsEvent({type:"perseus:label-image:marker-interacted-with",payload:null});const{activeMarkerIndex}=this.state;activeMarkerIndex!==index&&opened?this.setState({activeMarkerIndex:index,markersInteracted:!0}):this.setState({activeMarkerIndex:-1})}handleMarkerKeyDown(index,e){const{markers}=this.props;if(markers.length<2)return;const navigateDirection={ArrowUp:{x:0,y:-1},ArrowRight:{x:1,y:0},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0}}[e.key];if(!navigateDirection)return;e.preventDefault();const marker=this._markers[LabelImage.navigateToMarkerIndex(navigateDirection,markers,index)];marker&&react_dom.findDOMNode(marker).focus()}handleAnswerChoicesChangeForMarker(index,selection){const{choices,markers}=this.props,selected=choices.filter(((_,index)=>selection[index]));this.handleMarkerChange(index,{...markers[index],selected:selected.length?selected:void 0})}renderMarkers(){const{markers,questionCompleted,preferredPopoverDirection}=this.props,{activeMarkerIndex,markersInteracted}=this.state;return markers.map(((marker,index)=>{const isNarrowPage=window.matchMedia(media_queries.Z.xsOrSmaller.replace("@media ","")).matches,isWideImage=this.props.imageWidth/2>this.props.imageHeight;let side,markerPosition;isNarrowPage||isWideImage?(side=marker.y>50?"top":"bottom",markerPosition=marker.y>50?"bottom":"top"):(markerPosition=LabelImage.imageSideForMarkerPosition(marker.x,marker.y,preferredPopoverDirection),"center"===markerPosition&&(markerPosition="bottom"),side={left:"right",top:"bottom",right:"left",bottom:"top"}[markerPosition]);const score=LabelImage.gradeMarker(marker),showCorrectness=questionCompleted&&score.hasAnswers&&score.isCorrect?"correct":marker.showCorrectness,disabled="correct"===showCorrectness,adjustPillDistance={[`margin${markerPosition.charAt(0).toUpperCase()+markerPosition.slice(1)}`]:10},answerChoicesActive=index===activeMarkerIndex,showAnswerChoice=marker.selected&&!answerChoicesActive&&!this.state.hideAnswers;return react.createElement(wonder_blocks_core_dist_es.G7,{style:{position:"absolute",left:`${marker.x}%`,top:`${marker.y}%`,zIndex:"unset"}},react.createElement(answer_choices.Z,{key:`answers-${marker.x}.${marker.y}`,choices:this.props.choices.map((choice=>({content:choice,checked:!!marker.selected&&marker.selected.includes(choice)}))),multipleSelect:this.props.multipleAnswers,onChange:selection=>{this.props.analytics?.onAnalyticsEvent({type:"perseus:label-image:choiced-interacted-with",payload:null}),this.handleAnswerChoicesChangeForMarker(index,selection)},onToggle:opened=>this.activateMarker(index,opened),disabled,opener:_ref=>{let{opened}=_ref;return react.createElement(es.ZP,{role:"button","aria-expanded":opened,key:`marker-${marker.x}.${marker.y}`},(_ref2=>{let{hovered,focused,pressed}=_ref2;return react.createElement(label_image_marker.Z,label_image_extends({},marker,{showCorrectness,showSelected:opened,showPulsate:!markersInteracted,ref:node=>this._markers[index]=node,showAnswer:showAnswerChoice,answerSide:side,answerStyles:adjustPillDistance,analytics:this.props.analytics,focused:focused||pressed,hovered}))}))}}))}))}renderInstructions(){const{apiOptions:{isMobile},choices,multipleAnswers,hideChoicesFromInstructions:hideChoices}=this.props,promptString=isMobile?multipleAnswers?wonder_blocks_i18n_dist_es._("Tap each dot on the image to select all answers that apply."):wonder_blocks_i18n_dist_es._("Tap each dot on the image to select an answer."):multipleAnswers?wonder_blocks_i18n_dist_es._("Click each dot on the image to select all answers that apply."):wonder_blocks_i18n_dist_es._("Click each dot on the image to select an answer."),choicesString=wonder_blocks_i18n_dist_es._("Choices:");return react.createElement("div",{className:classnames_default()("perseus-label-image-widget-instructions",(0,lib.css)(label_image_styles.instructions))},react.createElement("div",{className:(0,lib.css)(label_image_styles.instructionsCaption)},promptString," ",!hideChoices&&choicesString),!hideChoices&&react.createElement("div",{className:(0,lib.css)(label_image_styles.instructionsChoices)},choices.map(((choice,index)=>react.createElement("div",{className:(0,lib.css)(label_image_styles.instructionsChoice),key:index},react.createElement(renderer.Z,{content:choice}))))))}render(){const{imageAlt,imageUrl,imageWidth,imageHeight}=this.props,{activeMarkerIndex}=this.state;return react.createElement("div",null,this.renderInstructions(),react.createElement("div",{className:(0,lib.css)(label_image_styles.markersCanvas),style:{maxWidth:imageWidth,maxHeight:imageHeight}},react.createElement("div",{className:(0,lib.css)(label_image_styles.imageContainer,-1!==activeMarkerIndex&&label_image_styles.imageInteractionDisabled)},react.createElement(asset_context.Z.Consumer,null,(_ref3=>{let{setAssetStatus}=_ref3;return react.createElement(svg_image.Z,{alt:imageAlt,src:imageUrl,width:imageWidth,height:imageHeight,setAssetStatus})}))),this.renderMarkers()),react.createElement(HideAnswersToggle,{areAnswersHidden:this.state.hideAnswers,onChange:hideAnswers=>{this.props.analytics?.onAnalyticsEvent({type:"perseus:label-image:toggle-answers-hidden",payload:null}),this.setState({hideAnswers})}}))}}const label_image_styles=lib.StyleSheet.create({instructions:{paddingBottom:16},instructionsCaption:{...global_styles.typography.bodyXsmallBold,paddingBottom:16},instructionsChoices:{display:"flex",flexWrap:"wrap",margin:"-8px 0"},instructionsChoice:{display:"flex",alignItems:"center",margin:"8px 0",":not(:last-child)":{"::after":{content:"''",display:"inline-block",position:"relative",width:2,height:2,marginLeft:5,marginRight:5,background:"rgba(33, 36, 44, 0.32)",borderRadius:2}}},markersCanvas:{position:"relative"},imageContainer:{display:"flex"},imageInteractionDisabled:{pointerEvents:"none"}}),LabelImageWithDependencies=react.forwardRef(((props,ref)=>{const deps=(0,dependencies.useDependencies)();return react.createElement(LabelImage,label_image_extends({ref,analytics:deps.analytics},props))}));LabelImageWithDependencies.validate=LabelImage.validate,LabelImageWithDependencies.gradeMarker=LabelImage.gradeMarker;const label_image={name:"label-image",displayName:"Label Image",widget:LabelImageWithDependencies,accessible:!0,isLintable:!0};try{LabelImage.displayName="LabelImage",LabelImage.__docgenInfo={description:"",displayName:"LabelImage",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(values: { [key: string]: any; }, callback?: (() => unknown) | null | undefined, silent?: boolean | undefined) => unknown"}},analytics:{defaultValue:null,description:"",name:"analytics",required:!1,type:{name:"{ onAnalyticsEvent: AnalyticsEventHandlerFn; }"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},choices:{defaultValue:null,description:"",name:"choices",required:!0,type:{name:"readonly string[]"}},imageAlt:{defaultValue:null,description:"",name:"imageAlt",required:!0,type:{name:"string"}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}},imageWidth:{defaultValue:null,description:"",name:"imageWidth",required:!0,type:{name:"number"}},imageHeight:{defaultValue:null,description:"",name:"imageHeight",required:!0,type:{name:"number"}},markers:{defaultValue:null,description:"",name:"markers",required:!0,type:{name:"readonly InteractiveMarkerType[]"}},multipleAnswers:{defaultValue:null,description:"",name:"multipleAnswers",required:!0,type:{name:"boolean"}},hideChoicesFromInstructions:{defaultValue:null,description:"",name:"hideChoicesFromInstructions",required:!0,type:{name:"boolean"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!0,type:{name:"boolean"}},preferredPopoverDirection:{defaultValue:null,description:"",name:"preferredPopoverDirection",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"UP"'},{value:'"DOWN"'},{value:'"LEFT"'},{value:'"RIGHT"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/label-image.tsx#LabelImage"]={docgenInfo:LabelImage.__docgenInfo,name:"LabelImage",path:"packages/perseus/src/widgets/label-image.tsx#LabelImage"})}catch(__react_docgen_typescript_loader_error){}const TABLE_STYLE={display:"table",tableLayout:"fixed"},ROW_STYLE={display:"table-row"},CELL_STYLE={display:"table-cell",padding:5},BASE_TILE_STYLE={borderRadius:10,cursor:"pointer"},MOVE_COUNT_STYLE={padding:5,display:"inline-block"},RESET_BUTTON_STYLE={float:"right",paddingRight:5},PATTERNS={plus:()=>[[!1,!0,!1],[!0,!0,!0],[!1,!0,!1]],x:()=>[[!0,!1,!0],[!1,!0,!1],[!0,!1,!0]],"plus/x":iter=>iter%2?PATTERNS.x():PATTERNS.plus()};class Tile extends react.Component{static propTypes={value:prop_types_default().bool.isRequired,size:prop_types_default().number.isRequired};render(){const color=this.props.value?"#55dd55":"#115511",style=index_all.ZP.extend({},BASE_TILE_STYLE,{width:this.props.size,height:this.props.size,backgroundColor:color});return react.createElement("div",{style,onClick:this._flip})}_flip=()=>{this.props.onChange(!this.props.value)}}class TileGrid extends react.Component{static propTypes={cells:prop_types_default().arrayOf(prop_types_default().arrayOf(prop_types_default().bool)).isRequired,size:prop_types_default().number.isRequired};render(){return react.createElement("div",{style:TABLE_STYLE,className:"no-select"},index_all.ZP.map(this.props.cells,((row,y)=>react.createElement("div",{key:y,style:ROW_STYLE},index_all.ZP.map(row,((cell,x)=>react.createElement("div",{key:x,style:CELL_STYLE},react.createElement(Tile,{value:cell,size:this.props.size,onChange:index_all.ZP.partial(this.props.onChange,y,x)}))))))))}}const flipTilesPattern=(oldCells,tileY,tileX,pattern)=>((oldCells,predicate)=>index_all.ZP.map(oldCells,((row,y)=>index_all.ZP.map(row,((cell,x)=>predicate(y,x)?!cell:cell)))))(oldCells,((y,x)=>{const offsetY=y-tileY,offsetX=x-tileX;return Math.abs(offsetY)<=1&&Math.abs(offsetX)<=1&&pattern[offsetY+1][offsetX+1]}));class LightsPuzzle extends react.Component{static propTypes={...changeable.i,cells:prop_types_default().arrayOf(prop_types_default().arrayOf(prop_types_default().bool)),startCells:prop_types_default().arrayOf(prop_types_default().arrayOf(prop_types_default().bool)),flipPattern:prop_types_default().string.isRequired,moveCount:prop_types_default().number.isRequired};static defaultProps={cells:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],startCells:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],flipPattern:"plus",moveCount:0};getUserInput=()=>widget_jsonify_deprecated.Z.getUserInput.call(this);render(){const pxWidth=60*this._width();return react.createElement("div",null,react.createElement(TileGrid,{cells:this.props.cells,size:50,onChange:this._flipTile}),react.createElement("div",{style:{width:pxWidth}},react.createElement("div",{style:MOVE_COUNT_STYLE},wonder_blocks_i18n_dist_es.ngettext("Moves: %(num)s","Moves: %(num)s",this.props.moveCount)),react.createElement("div",{style:RESET_BUTTON_STYLE},react.createElement("input",{type:"button",value:"Reset",onClick:this._reset,className:"simple-button"}))),react.createElement("div",{className:"clearfix"}))}change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();_width=()=>0!==this.props.cells.length?this.props.cells[0].length:0;componentDidMount(){this._initNextPatterns()}componentDidUpdate(prevProps){prevProps.flipPattern!==this.props.flipPattern&&this._initNextPatterns()}_initNextPatterns=()=>{this._currPattern=PATTERNS[this.props.flipPattern](0),this._nextPattern=PATTERNS[this.props.flipPattern](1),this._patternIndex=2};_shiftPatterns=()=>{this._currPattern=this._nextPattern,this._nextPattern=PATTERNS[this.props.flipPattern](this._patternIndex),this._patternIndex++};_flipTile=(tileY,tileX)=>{const newCells=flipTilesPattern(this.props.cells,tileY,tileX,this._currPattern);this._shiftPatterns(),this.change({cells:newCells,moveCount:this.props.moveCount+1})};_reset=()=>{this.change({cells:this.props.startCells,moveCount:0})};simpleValidate=rubric=>validate(rubric,this.getUserInput())}const validate=function(rubric,state){if(index_all.ZP.all(state.cells,((row,y)=>index_all.ZP.all(row,((cell,x)=>cell===rubric.startCells[y][x])))))return{type:"invalid",message:wonder_blocks_i18n_dist_es._("Click on the tiles to change the lights.")};return index_all.ZP.all(state.cells,(row=>index_all.ZP.all(row,(cell=>cell))))?{type:"points",earned:1,total:1,message:null}:rubric.gradeIncompleteAsWrong?{type:"points",earned:0,total:1,message:null}:{type:"invalid",message:wonder_blocks_i18n_dist_es._("You must turn on all of the lights to continue.")}},lights_puzzle={name:"lights-puzzle",displayName:"Lights puzzle (deprecated)",hidden:!0,widget:LightsPuzzle,transform:function(editorProps){return{cells:editorProps.startCells,startCells:editorProps.startCells,flipPattern:editorProps.flipPattern}}};var wonder_blocks_progress_spinner_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-progress-spinner/dist/es/index.js"),sortable=__webpack_require__("./packages/perseus/src/components/sortable.tsx");const{shuffle,seededRNG}=util.default;class Matcher extends react.Component{static propTypes={apiOptions:perseus_api._.propTypes,labels:prop_types_default().array,left:prop_types_default().array,onChange:prop_types_default().func,orderMatters:prop_types_default().bool,padding:prop_types_default().bool,problemNum:prop_types_default().number,right:prop_types_default().array,trackInteraction:prop_types_default().func.isRequired,linterContext:src.LZ};static defaultProps={left:[],right:[],labels:["",""],orderMatters:!1,padding:!0,problemNum:0,onChange:function(){},linterContext:src.j_};state={leftHeight:0,rightHeight:0,texRendererLoaded:!1};render(){if(!this.state.texRendererLoaded){const{TeX}=(0,dependencies.getDependencies)();return react.createElement(react.Fragment,null,react.createElement(wonder_blocks_progress_spinner_dist_es.y,null),react.createElement("div",{style:{display:"none"}},react.createElement(TeX,{onRender:()=>{this.setState({texRendererLoaded:!0})}},"1")))}const rng=seededRNG(this.props.problemNum);let left;left=this.props.orderMatters?shuffle(this.props.left,rng,!0):this.props.left;const right=shuffle(this.props.right,rng,!0),showLabels=index_all.ZP.any(this.props.labels),constraints={height:index_all.ZP.max([this.state.leftHeight,this.state.rightHeight])},cellMarginPx=this.props.apiOptions.isMobile?8:5;return react.createElement("table",{className:(0,lib.css)(matcher_styles.widget)+" perseus-widget-matcher"},react.createElement("tbody",null,showLabels&&react.createElement("tr",{className:(0,lib.css)(matcher_styles.row)},react.createElement("th",{className:(0,lib.css)(matcher_styles.column,matcher_styles.columnLabel)},react.createElement(renderer.Z,{content:this.props.labels[0]||"...",linterContext:this.props.linterContext})),react.createElement("th",{className:(0,lib.css)(matcher_styles.column,matcher_styles.columnRight,matcher_styles.columnLabel)},react.createElement(renderer.Z,{content:this.props.labels[1]||"...",linterContext:this.props.linterContext}))),react.createElement("tr",{className:(0,lib.css)(matcher_styles.row)},react.createElement("td",{className:(0,lib.css)(matcher_styles.column)},react.createElement(sortable.Z,{options:left,layout:sortable.A.VERTICAL,padding:this.props.padding,disabled:!this.props.orderMatters,constraints,onMeasure:this.onMeasureLeft,onChange:this.changeAndTrack,margin:cellMarginPx,linterContext:this.props.linterContext,ref:"left"})),react.createElement("td",{className:(0,lib.css)(matcher_styles.column,matcher_styles.columnRight)},react.createElement(sortable.Z,{options:right,layout:sortable.A.VERTICAL,padding:this.props.padding,constraints,onMeasure:this.onMeasureRight,onChange:this.changeAndTrack,margin:cellMarginPx,linterContext:this.props.linterContext,ref:"right"})))))}changeAndTrack=e=>{this.props.onChange(e),this.props.trackInteraction()};onMeasureLeft=dimensions=>{const height=index_all.ZP.max(dimensions.heights);this.setState({leftHeight:height})};onMeasureRight=dimensions=>{const height=index_all.ZP.max(dimensions.heights);this.setState({rightHeight:height})};getUserInput=()=>this.state.texRendererLoaded?{left:this.refs.left.getOptions(),right:this.refs.right.getOptions()}:{left:[],right:[]};moveLeftOptionToIndex=(option,index)=>{this.refs.left.moveOptionToIndex(option,index)};moveRightOptionToIndex=(option,index)=>{this.refs.right.moveOptionToIndex(option,index)};simpleValidate=rubric=>Matcher.validate(this.getUserInput(),rubric)}index_all.ZP.extend(Matcher,{validate:function(state,rubric){return{type:"points",earned:index_all.ZP.isEqual(state.left,rubric.left)&&index_all.ZP.isEqual(state.right,rubric.right)?1:0,total:1,message:null}}});const matcher_styles=lib.StyleSheet.create({widget:{paddingTop:5,maxWidth:"100%",minWidth:"auto"},row:{border:0},column:{padding:0,border:0},columnRight:{borderLeft:"1px solid #444"},columnLabel:{fontWeight:"inherit",borderBottom:"1px solid #444",padding:"0 5px 5px 5px",textAlign:"center"}}),matcher={name:"matcher",displayName:"Matcher (two column)",widget:Matcher,isLintable:!0};try{Matcher.displayName="Matcher",Matcher.__docgenInfo={description:"",displayName:"Matcher",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/matcher.tsx#Matcher"]={docgenInfo:Matcher.__docgenInfo,name:"Matcher",path:"packages/perseus/src/widgets/matcher.tsx#Matcher"})}catch(__react_docgen_typescript_loader_error){}var matrix=__webpack_require__("./packages/perseus/src/widgets/matrix.tsx"),create_react_class=__webpack_require__("./node_modules/create-react-class/index.js"),create_react_class_default=__webpack_require__.n(create_react_class),graph_utils=__webpack_require__("./packages/perseus/src/util/graph-utils.ts");const defaultImage={url:null,top:0,left:0},Measurer=create_react_class_default()({displayName:"Measurer",propTypes:{apiOptions:perseus_api._.propTypes,box:prop_types_default().arrayOf(prop_types_default().number),image:prop_types_default().shape({url:prop_types_default().string,top:prop_types_default().number,left:prop_types_default().number}),showProtractor:prop_types_default().bool,protractorX:prop_types_default().number,protractorY:prop_types_default().number,showRuler:prop_types_default().bool,rulerLabel:prop_types_default().string,rulerTicks:prop_types_default().number,rulerPixels:prop_types_default().number,rulerLength:prop_types_default().number},getDefaultProps:function(){return{box:[480,480],image:{},showProtractor:!0,protractorX:7.5,protractorY:.5,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10}},getInitialState:function(){return{}},render:function(){const image=index_all.ZP.extend({},defaultImage,this.props.image);return react.createElement("div",{className:"perseus-widget perseus-widget-measurer graphie-container above-scratchpad",style:{width:this.props.box[0],height:this.props.box[1]}},image.url&&react.createElement("div",{style:{position:"relative",top:image.top,left:image.left}},react.createElement(svg_image.Z,{src:image.url})),react.createElement("div",{className:"graphie",ref:"graphieDiv"}))},componentDidMount:function(){this.setupGraphie()},componentDidUpdate:function(prevProps){index_all.ZP.any(["box","showProtractor","showRuler","rulerLabel","rulerTicks","rulerPixels","rulerLength"],(function(prop){return prevProps[prop]!==this.props[prop]}),this)&&this.setupGraphie()},setupGraphie:function(){const graphieDiv=react_dom.findDOMNode(this.refs.graphieDiv);jquery_default()(graphieDiv).empty();const graphie=this.graphie=graph_utils.Z.createGraphie(graphieDiv),scale=[40,40],range=[[0,this.props.box[0]/scale[0]],[0,this.props.box[1]/scale[1]]];graphie.init({range,scale}),graphie.addMouseLayer({allowScratchpad:!0,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}),this.protractor&&this.protractor.remove(),this.props.showProtractor&&(this.protractor=graphie.protractor([this.props.protractorX,this.props.protractorY])),this.ruler&&this.ruler.remove(),this.props.showRuler&&(this.ruler=graphie.ruler({center:[(range[0][0]+range[0][1])/2,(range[1][0]+range[1][1])/2],label:this.props.rulerLabel,pixelsPerUnit:this.props.rulerPixels,ticksPerUnit:this.props.rulerTicks,units:this.props.rulerLength}))},getUserInput:function(){return{}},simpleValidate:function(rubric){return Measurer.validate(this.getUserInput(),rubric)},focus:jquery_default().noop});index_all.ZP.extend(Measurer,{validate:function(state,rubric){return{type:"points",earned:1,total:1,message:null}}});const measurer={name:"measurer",displayName:"Measurer",widget:Measurer,version:{major:1,minor:0},propUpgrades:{1:v0props=>(0,index_all.ZP)(v0props).chain().omit("imageUrl","imageTop","imageLeft").extend({image:{url:v0props.imageUrl,top:v0props.imageTop,left:v0props.imageLeft}}).value()}};function drawLine(ctx,item){const path=new Path2D;ctx.lineWidth=molecule_drawing_styles.lineWidth,ctx.strokeStyle=molecule_drawing_styles.fgColor,path.moveTo(item.startPos[0],item.startPos[1]),path.lineTo(item.endPos[0],item.endPos[1]),ctx.stroke(path)}const drawingFuncs={text:function drawText(ctx,item){null!==item.value&&(ctx.fillStyle=molecule_drawing_styles.fgColor,ctx.font=molecule_drawing_styles.font,ctx.fillText(item.value,item.pos[0]-molecule_drawing_styles.fontSizePx/2+1,item.pos[1]+molecule_drawing_styles.fontSizePx/2))},"line:single":drawLine,"line:double":function drawDoubleLine(ctx,item){let path=new Path2D;ctx.lineWidth=5*molecule_drawing_styles.lineWidth,ctx.strokeStyle=molecule_drawing_styles.fgColor,path.moveTo(item.startPos[0],item.startPos[1]),path.lineTo(item.endPos[0],item.endPos[1]),ctx.stroke(path),path=new Path2D,ctx.lineWidth=3*molecule_drawing_styles.lineWidth,ctx.strokeStyle=molecule_drawing_styles.bgColor,path.moveTo(item.startPos[0],item.startPos[1]),path.lineTo(item.endPos[0],item.endPos[1]),ctx.stroke(path)},"line:triple":function drawTripleLine(ctx,item){let path=new Path2D;ctx.lineWidth=7*molecule_drawing_styles.lineWidth,ctx.strokeStyle=molecule_drawing_styles.fgColor,path.moveTo(item.startPos[0],item.startPos[1]),path.lineTo(item.endPos[0],item.endPos[1]),ctx.stroke(path),path=new Path2D,ctx.lineWidth=5*molecule_drawing_styles.lineWidth,ctx.strokeStyle=molecule_drawing_styles.bgColor,path.moveTo(item.startPos[0],item.startPos[1]),path.lineTo(item.endPos[0],item.endPos[1]),ctx.stroke(path),drawLine(ctx,item)}};const ordering={"line:single":0,"line:double":0,"line:triple":0,text:1};function compareElements(item0,item1){return ordering[item0.type]-ordering[item1.type]}const molecule_drawing_styles={bgColor:"rgb(255, 255, 255)",fgColor:"rgb(0, 0, 0)",fontSizePx:12,lineWidth:1,font:"12px sans"},molecule_drawing=function draw(ctx,items){items.sort(compareElements).forEach(function drawItem(ctx){return function(item){drawingFuncs[item.type](ctx,item)}}(ctx))},bondLength=30;function atomLayout(atom,atoms,bonds,rotationAngle){let textValue=atom.symbol;if("C"===textValue&&1!==Object.keys(atoms).length&&(textValue=null),"1,0"===atom.idx){const pos=[0,0];return atom.pos=pos,atom.baseAngle=-30+rotationAngle,{type:"text",value:textValue,pos,idx:atom.idx}}const prevPositionedAtom=atoms[atom.connections.find((function(c){return atoms[c].pos}))],myIndex=prevPositionedAtom.connections.indexOf(atom.idx);let baseAngleIncrement=60,angleIncrement=120;4===prevPositionedAtom.connections.length?(angleIncrement=90,baseAngleIncrement=90):(bonds.find((bond=>"triple"===bond.bondType&&bond.to===atom.idx))||bonds.find((bond=>"triple"===bond.bondType&&bond.to===prevPositionedAtom.idx)))&&(angleIncrement=0,baseAngleIncrement=0);let angle=0;const idxPath=prevPositionedAtom.idx.split(":"),lastAtomIdx=idxPath[idxPath.length-1].split(",")[0];angle=parseInt(lastAtomIdx)%2!=0?prevPositionedAtom.baseAngle-(baseAngleIncrement-angleIncrement*myIndex):prevPositionedAtom.baseAngle+(baseAngleIncrement-angleIncrement*myIndex);const pos=function polarAdd(origin,angle,length){const x=origin[0],y=origin[1];return[x+Math.cos(2*angle*Math.PI/360)*length,y+-1*Math.sin(2*angle*Math.PI/360)*length]}(prevPositionedAtom.pos,angle,bondLength);return atom.pos=pos,atom.baseAngle=angle,{type:"text",value:textValue,pos,idx:atom.idx}}function bondLayout(bond,atoms){const startAndEndPos=function maybeShrinkLines(fromAtom,toAtom){let fromPos=[fromAtom.pos[0],fromAtom.pos[1]],toPos=[toAtom.pos[0],toAtom.pos[1]];return"C"!==fromAtom.symbol&&(fromPos=[toAtom.pos[0]-.75*(toAtom.pos[0]-fromAtom.pos[0]),toAtom.pos[1]-.75*(toAtom.pos[1]-fromAtom.pos[1])]),"C"!==toAtom.symbol&&(toPos=[fromAtom.pos[0]-.75*(fromAtom.pos[0]-toAtom.pos[0]),fromAtom.pos[1]-.75*(fromAtom.pos[1]-toAtom.pos[1])]),[fromPos,toPos]}(atoms[bond.from],atoms[bond.to]);return{type:"line:"+bond.bondType,startPos:startAndEndPos[0],endPos:startAndEndPos[1]}}function idxString(idx){return idx.join(":")}function convertTree(atoms,bonds,tree){if(null===tree)return[atoms,bonds];if("atom"===tree.type){const treeIdx=idxString(tree.idx);atoms[treeIdx]={idx:treeIdx,symbol:tree.symbol,connections:[]},tree.bonds&&tree.bonds.forEach((function(b){const toIdx=idxString(b.to.idx);atoms[treeIdx].connections.push(toIdx),bonds.push({from:treeIdx,to:toIdx,bondType:b.bondType}),convertTree(atoms,bonds,b.to),atoms[toIdx].connections.push(treeIdx)}))}return[atoms,bonds]}function atomLayoutHelper(outputs,atomProcessingQueue,atoms,bonds,rotationAngle){if(0===atomProcessingQueue.length)return outputs;const queuedAtomIdx=atomProcessingQueue.shift(),atom=atoms[queuedAtomIdx];return atom.connections.forEach((function(c){atoms[c].pos||atomProcessingQueue.push(c)})),atomLayoutHelper(outputs.concat(atomLayout(atom,atoms,bonds,rotationAngle)),atomProcessingQueue,atoms,bonds,rotationAngle)}function bondLayoutHelper(outputs,atoms,bonds){return 0===bonds.length?outputs:bondLayoutHelper(outputs.concat(bondLayout(bonds[0],atoms)),atoms,bonds.slice(1))}const molecule_layout={layout:function layout(tree,rotationAngle){const converted=convertTree({},[],tree),atoms=converted[0],bonds=converted[1];return bondLayoutHelper(atomLayoutHelper([],["1,0"],atoms,bonds,rotationAngle),atoms,bonds)},_atomLayout:atomLayout,_bondLayout:bondLayout,_bondLength:bondLength,_convertTree:convertTree},smilesRe=new RegExp("^[A-Za-z\\[\\]()=#+-]*$"),atomRe=new RegExp("^(Cl|Br|[CONPSFBI]|\\[)");function ParseError(message){this.message=message}function _mset(obj,keylist,val){const k0=keylist[0],rest=keylist.slice(1);let newObj;newObj=Array.isArray(obj)?[...obj]:{...obj||{}};let newVal=val;return rest.length>0&&(newVal=_mset(newObj[k0],rest,val)),newObj[k0]=newVal,newObj}function sliceFromMatchingCloseParen(smiles,parenStack){if(0===parenStack.length)return smiles;if(""===smiles)throw new ParseError("Mismatched parentheses");const firstChar=smiles[0],rest=smiles.slice(1);return sliceFromMatchingCloseParen(rest,"("===firstChar?parenStack.concat(firstChar):")"===firstChar?parenStack.slice(1):parenStack)}function parseParenthesizedExpression(smiles,ctx){const firstChar=smiles[0],rest=smiles.slice(1);if("("===firstChar){let newCtx={...ctx,parens:ctx.parens+"("};newCtx=function _inc(obj,keylist){const val=keylist.reduce((function(acc,elt){return acc[elt]}),obj);return _mset(obj,keylist,val+1)}(ctx,["idx",ctx.idx.length-1,1]);let inBranchIdx=-1;ctx.idx[ctx.idx.length-1][0]%2==0&&(inBranchIdx=0);const parenExpr=parse(rest,{...newCtx,idx:newCtx.idx.concat([[inBranchIdx,0]]),parens:newCtx.parens.concat("(")}),remainder=parse(sliceFromMatchingCloseParen(rest,["("]),newCtx);return[parenExpr].concat(remainder)}if(")"===firstChar){if("("!==ctx.parens[ctx.parens.length-1])throw new ParseError("Mismatched parentheses");return null}throw new ParseError("Invalid bare character: "+firstChar)}function parseAtom(smiles,ctx){const symbolInfo=function readAtomSymbol(smiles,_ctx){let sym=null,rest=null;if("["===smiles[0]){const closingIdx=smiles.indexOf("]");if(-1===closingIdx)return["",smiles];sym=smiles.slice(1,closingIdx),rest=smiles.slice(closingIdx+1)}else sym=atomRe.exec(smiles)[1],rest=smiles.slice(sym.length);return[sym,rest]}(smiles),atom=symbolInfo[0];if(""===atom)return["error","Unable to parse bracketed atom."];const rest=symbolInfo[1],newCtx=_mset(ctx,["idx",ctx.idx.length-1],[1+ctx.idx[ctx.idx.length-1][0],0]);let restOfMolecule=parse(rest,_mset(newCtx,["bond","bondType"],"single"));!Array.isArray(restOfMolecule)&&restOfMolecule&&(restOfMolecule=[restOfMolecule]);const atomObj={type:"atom",symbol:atom,bonds:restOfMolecule,idx:newCtx.idx};return ctx.bond?{type:"bond",bondType:ctx.bond.bondType,to:atomObj}:atomObj}function parse(smiles,ctx){if(!function smiles_parser_validate(smiles){return smilesRe.test(smiles)}(smiles))throw new ParseError("Invalid input.");return smiles&&0!==smiles.length?function startsWithAtom(s){return atomRe.test(s)}(smiles)?parseAtom(smiles,ctx||{idx:[[0,0]],parens:[],stack:[],bondModifiers:[]}):function isModifierChar(s){return"="===s||"#"===s}(smiles[0])?function parseBondModifier(smiles,ctx){const firstChar=smiles[0],rest=smiles.slice(1);if("="===firstChar)return parse(rest,_mset(ctx,["bond","bondType"],"double"));if("#"===firstChar)return parse(rest,_mset(ctx,["bond","bondType"],"triple"));throw new ParseError("Invalid character: "+firstChar)}(smiles,ctx):parseParenthesizedExpression(smiles,ctx):null}const smiles_parser_parse=parse,smiles_parser_ParseError=ParseError,{layout:widgets_molecule_layout}=molecule_layout,molecule_parse=smiles_parser_parse,molecule_ParseError=smiles_parser_ParseError;class Molecule extends react.Component{static propTypes={id:prop_types_default().string.isRequired,rotationAngle:prop_types_default().number,smiles:prop_types_default().string};state={parsedSmiles:null,error:null};UNSAFE_componentWillMount(){this.stateFromSmiles(this.props.smiles)}componentDidMount(){this.canvasRender()}UNSAFE_componentWillReceiveProps(nextProps){this.stateFromSmiles(nextProps.smiles)}componentDidUpdate(){this.canvasRender()}stateFromSmiles=smiles=>{try{this.setState({parsedSmiles:molecule_parse(smiles),error:null})}catch(e){if(!(e instanceof molecule_ParseError))throw e;this.setState({error:e.message})}};setCanvasBounds=(canvas,items)=>{const xmax=Math.max(...items.map((item=>item.pos?item.pos[0]:-1/0))),ymax=Math.max(...items.map((item=>item.pos?item.pos[1]:-1/0))),xmin=Math.min(...items.map((item=>item.pos?item.pos[0]:1/0))),ymin=Math.min(...items.map((item=>item.pos?item.pos[1]:1/0))),width=xmax-xmin+60,height=ymax-ymin+60;return canvas.width=width,canvas.height=height,[30-xmin,30-ymin]};canvasRender=()=>{if(this.state.error||!this.state.parsedSmiles)return;const items=widgets_molecule_layout(this.state.parsedSmiles,this.props.rotationAngle),canvas=this.refs.canvas,translation=this.setCanvasBounds(canvas,items),ctx=canvas.getContext("2d");ctx.clearRect(0,0,canvas.width,canvas.height),ctx.save(),ctx.translate(translation[0],translation[1]),molecule_drawing(ctx,items),ctx.restore()};render(){let content=react.createElement("canvas",{className:"molecule-canvas",id:this.props.id+"-molecule",ref:"canvas"},wonder_blocks_i18n_dist_es.$_("A molecular structure drawing. SMILES notation: %(content)s",{content:this.props.smiles}));return this.state.error&&(content=react.createElement("div",{className:"error"},this.state.error)),react.createElement("div",{className:"molecule-canvas"},content)}}class MoleculeWidget extends react.Component{static propTypes={rotationAngle:prop_types_default().number,smiles:prop_types_default().string,widgetId:prop_types_default().string};static defaultProps={rotationAngle:0};simpleValidate=()=>({type:"points",earned:0,total:0,message:null});getUserInput=()=>[];validate=(state,rubric)=>({type:"points",earned:0,total:0,message:null});render(){return react.createElement(Molecule,{id:this.props.widgetId,smiles:this.props.smiles,rotationAngle:this.props.rotationAngle})}}const molecule={name:"molecule-renderer",displayName:"Molecule renderer",hidden:!0,widget:MoleculeWidget};try{Molecule.displayName="Molecule",Molecule.__docgenInfo={description:"",displayName:"Molecule",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/molecule.tsx#Molecule"]={docgenInfo:Molecule.__docgenInfo,name:"Molecule",path:"packages/perseus/src/widgets/molecule.tsx#Molecule"})}catch(__react_docgen_typescript_loader_error){}var number_input=__webpack_require__("./packages/perseus/src/components/number-input.tsx"),simple_keypad_input=__webpack_require__("./packages/perseus/src/components/simple-keypad-input.tsx"),interactive_util=__webpack_require__("./packages/perseus/src/interactive2/interactive-util.ts"),colors=__webpack_require__("./packages/perseus/src/util/colors.ts"),math=__webpack_require__("./packages/perseus/src/util/math.ts");function number_line_extends(){return number_line_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},number_line_extends.apply(this,arguments)}const number_line_MovablePoint=graphie.default.MovablePoint,number_line_Line=graphie.default.Line,{assert}=interactive_util.default,reverseRel={ge:"le",gt:"lt",le:"ge",lt:"gt"},toggleStrictRel={ge:"gt",gt:"ge",le:"lt",lt:"le"};function formatImproper(n,d){return 1===d?""+n:`\\dfrac{${n}}{${d}}`}function formatMixed(n,d){if(n<0)return"-"+formatMixed(-n,d);const w=Math.floor(n/d);return 0===w?formatImproper(n,d):n-w*d==0?""+w:w+formatImproper(n-w*d,d)}const _label=(graphie,labelStyle,pos,value,base)=>{if(value=value||pos,"decimal"===labelStyle||"decimal ticks"===labelStyle)return graphie.label([pos,-.53],Math.round(100*value)/100,"center");if("improper"===labelStyle){const frac=math.ZP.toFraction(value);return graphie.label([pos,-.17],formatImproper(frac[0],frac[1]),"below")}if("mixed"===labelStyle){const frac=math.ZP.toFraction(value);return graphie.label([pos,-.17],formatMixed(frac[0],frac[1]),"below")}if("non-reduced"===labelStyle){const frac=math.ZP.toFraction(value);return graphie.label([pos,-.17],function formatNonReduced(n,d,base){return formatImproper(n*Math.floor(base/d),base)}(frac[0],frac[1],base),"below")}},TickMarks=graphie.default.createSimpleClass(((graphie,props)=>{if(!index_all.ZP.isFinite(props.tickStep)||props.tickStep<=0)return[];const results=[],range=props.range,labelRange=props.labelRange,leftLabel=null==labelRange[0]?range[0]:labelRange[0],rightLabel=null==labelRange[1]?range[1]:labelRange[1];let base;if("non-reduced"===props.labelStyle){const fractions=[leftLabel,rightLabel];for(let i=0;i<=props.numDivisions;i++){const x=range[0]+i*props.tickStep;fractions.push(x)}const getDenom=x=>kmath_src.Rx.toFraction(x)[1],denoms=index_all.ZP.map(fractions,getDenom);base=index_all.ZP.reduce(denoms,((x,y)=>math.ZP.getLCM(x,y)))}else base=void 0;for(let i=0;i<=props.numDivisions;i++){const x=range[0]+i*props.tickStep;results.push(graphie.line([x,-.2],[x,.2]));(props.labelTicks||"decimal ticks"===props.labelStyle)&&results.push(_label(graphie,props.labelStyle,x,x,base))}return results.push(graphie.style(props.isMobile?{color:colors.Z.BLUE_D}:{},(()=>_label(graphie,props.labelStyle,leftLabel,leftLabel,base)))),results.push(graphie.style(props.isMobile?{color:colors.Z.BLUE_D}:{},(()=>_label(graphie,props.labelStyle,rightLabel,rightLabel,base)))),graphie.style({stroke:props.isMobile?colors.Z.BLUE_D:colors.Z.DYNAMIC,strokeWidth:3.5},(()=>{results.push(graphie.line([leftLabel,-.2],[leftLabel,.2])),results.push(graphie.line([rightLabel,-.2],[rightLabel,.2]))})),results}));class NumberLine extends react.Component{static defaultProps={range:[0,10],labelStyle:"decimal",labelRange:[null,null],divisionRange:[1,12],labelTicks:!0,isTickCtrl:!1,isInequality:!1,numLinePosition:0,snapDivisions:2,showTooltips:!1,rel:"ge",apiOptions:perseus_api._.defaults};state={numDivisionsEmpty:!1};change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();isValid=()=>{const range=this.props.range;let initialX=this.props.numLinePosition;const divisionRange=this.props.divisionRange;return initialX=null==initialX?range[0]:initialX,range[0]<range[1]&&kmath_src.Rx.sign(initialX-range[0])>=0&&kmath_src.Rx.sign(initialX-range[1])<=0&&divisionRange[0]<divisionRange[1]&&0<this.props.numDivisions&&0<this.props.snapDivisions};onNumDivisionsChange=(numDivisions,cb)=>{const divRange=this.props.divisionRange.slice(),width=this.props.range[1]-this.props.range[0];if(numDivisions=(numDivisions=Math.round(numDivisions))<0?-1*numDivisions:numDivisions){const nextProps=index_all.ZP.extend({},this.props,{tickStep:width/numDivisions}),newNumLinePosition=this.snapNumLinePosition(nextProps,this.props.numLinePosition);this.setState({numDivisionsEmpty:!1},(()=>{this.props.onChange({divisionRange:divRange,numDivisions,numLinePosition:newNumLinePosition},cb)}))}else this.setState({numDivisionsEmpty:!0},cb)};_handleTickCtrlFocus=()=>{this.props.onFocus(["tick-ctrl"])};_handleTickCtrlBlur=()=>{this.props.onBlur(["tick-ctrl"])};focus=()=>{if(this.props.isTickCtrl)return this.refs["tick-ctrl"].focus(),!0};focusInputPath=path=>{1===path.length&&this.refs[path[0]].focus()};blurInputPath=path=>{1===path.length&&this.refs[path[0]].blur()};getInputPaths=()=>this.props.isTickCtrl?[["tick-ctrl"]]:[];getDOMNodeForPath=inputPath=>{if(1===inputPath.length)return react_dom.findDOMNode(this.refs[inputPath[0]])};getGrammarTypeForPath=inputPath=>{if(1===inputPath.length&&"tick-ctrl"===inputPath[0])return"number"};setInputValue=(inputPath,value,callback)=>{1===inputPath.length&&"tick-ctrl"===inputPath[0]&&this.onNumDivisionsChange(value,callback)};_renderGraphie=()=>{const range=this.props.range,width=range[1]-range[0],options=index_all.ZP.pick(this.props,["range","isTickCtrl"]),props=index_all.ZP.extend({},this.props,{tickStep:width/this.props.numDivisions});return react.createElement(graphie.default,{ref:"graphie",key:this.props.labelStyle,box:[this.props.apiOptions.isMobile?288:460,80],options,onMouseDown:coord=>{this.refs.graphie.movables.numberLinePoint.grab(coord)},setup:this._setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile:this.props.apiOptions.isMobile},react.createElement(TickMarks,number_line_extends({},index_all.ZP.pick(props,["range","numDivisions","labelTicks","labelStyle","labelRange","tickStep"]),{isMobile:this.props.apiOptions.isMobile})),this._renderInequality(props),this._renderNumberLinePoint(props))};snapNumLinePosition=(props,numLinePosition)=>{const left=props.range[0],right=props.range[1],snapX=props.tickStep/props.snapDivisions;let x=((x,gt,lt)=>Math.min(Math.max(x,gt),lt))(numLinePosition,left,right);return x=left+kmath_src.Rx.roundTo(x-left,snapX),assert(index_all.ZP.isFinite(x)),x};movePosition=targetPosition=>{this.change({numLinePosition:targetPosition}),this.props.trackInteraction()};_renderNumberLinePoint=props=>{const isOpen=(0,index_all.ZP)(["lt","gt"]).contains(props.rel);let fill;fill=isOpen?colors.Z._BACKGROUND:props.static?colors.Z.DYNAMIC:colors.Z.INTERACTIVE;const normalStyle={fill,stroke:props.static?colors.Z.DYNAMIC:colors.Z.INTERACTIVE,"stroke-width":isOpen?3:1},highlightStyle={fill:isOpen?colors.Z._BACKGROUND:colors.Z.INTERACTING,"stroke-width":isOpen?3:1},mobileDotStyle=props.isInequality?{stroke:colors.Z.INTERACTIVE,"fill-opacity":isOpen?0:1}:{};return react.createElement(number_line_MovablePoint,{ref:"numberLinePoint",pointSize:6,coord:[props.numLinePosition,0],constraints:[(coord,prevCoord)=>[coord[0],prevCoord[1]],(coord,prevCoord)=>[this.snapNumLinePosition(props,coord[0]),coord[1]]],normalStyle,highlightStyle,onMove:coord=>{this.movePosition(coord[0])},isMobile:this.props.apiOptions.isMobile,mobileStyleOverride:mobileDotStyle,showTooltips:this.props.showTooltips,xOnlyTooltip:!0})};handleReverse=()=>{const newRel=reverseRel[this.props.rel];this.props.onChange({rel:newRel})};handleToggleStrict=()=>{const newRel=toggleStrictRel[this.props.rel];this.props.onChange({rel:newRel})};_getInequalityEndpoint=props=>{const isGreater=(0,index_all.ZP)(["ge","gt"]).contains(props.rel),range=props.range,buffer=30*((range[1]-range[0])/400),left=range[0]-buffer,right=range[1]+buffer;return isGreater?[right,0]:[left,0]};_renderInequality=props=>{if(props.isInequality){const end=this._getInequalityEndpoint(props),style={arrows:"->",stroke:this.props.apiOptions.isMobile?colors.Z.INTERACTIVE:colors.Z.DYNAMIC,strokeWidth:3.5},isGreater=["ge","gt"].includes(props.rel);return react.createElement(number_line_Line,{start:[(isGreater?.4:-.4)+props.numLinePosition,0],end,style})}return null};_setupGraphie=(graphie,options)=>{if(!this.isValid())return;const widthInPixels=this.props.apiOptions.isMobile?228:400,range=options.range,scale=(range[1]-range[0])/widthInPixels,buffer=30*scale,left=range[0]-buffer,right=range[1]+buffer,bottom="improper"===this.props.labelStyle||"mixed"===this.props.labelStyle||"non-reduced"===this.props.labelStyle?-1.5:-1;graphie.init({range:[[left,right],[bottom,1]],scale:[1/scale,40],isMobile:this.props.apiOptions.isMobile});const center=(range[0]+range[1])/2;graphie.line([center,0],[right,0],{arrows:"->"}),graphie.line([center,0],[left,0],{arrows:"->"})};getUserInput=()=>({numLinePosition:this.props.numLinePosition,rel:this.props.isInequality?this.props.rel:"eq",numDivisions:this.props.numDivisions,divisionRange:this.props.divisionRange});simpleValidate=rubric=>NumberLine.validate(this.getUserInput(),rubric);render(){const divisionRange=this.props.divisionRange,divRangeString=divisionRange[0]+"–"+divisionRange[1],invalidNumDivisions=this.props.numDivisions<divisionRange[0]||this.props.numDivisions>divisionRange[1],inequalityControls=react.createElement("div",null,react.createElement("input",{type:"button",className:"simple-button",value:wonder_blocks_i18n_dist_es._("Switch direction"),onClick:this.handleReverse}),react.createElement("input",{type:"button",className:"simple-button",value:(0,index_all.ZP)(["le","ge"]).contains(this.props.rel)?wonder_blocks_i18n_dist_es._("Make circle open"):wonder_blocks_i18n_dist_es._("Make circle filled"),onClick:this.handleToggleStrict}));let tickCtrl;if(this.props.isTickCtrl){let Input;Input=this.props.apiOptions.customKeypad?simple_keypad_input.Z:number_input.Z,tickCtrl=react.createElement("label",null,wonder_blocks_i18n_dist_es._("Number of divisions:")," ",react.createElement(Input,{ref:"tick-ctrl",value:this.state.numDivisionsEmpty?null:this.props.numDivisions||divisionRange[0],checkValidity:val=>val>=divisionRange[0]&&val<=divisionRange[1],onChange:this.onNumDivisionsChange,onFocus:this._handleTickCtrlFocus,onBlur:this._handleTickCtrlBlur,useArrowKeys:!0,keypadElement:this.props.keypadElement}))}return react.createElement("div",{className:"perseus-widget perseus-widget-interactive-number-line"},tickCtrl,this.isValid()?this.props.isTickCtrl&&invalidNumDivisions?react.createElement("div",{className:"perseus-error"},wonder_blocks_i18n_dist_es.$_("Please make sure the number of divisions is in the range %(divRangeString)s.",{divRangeString})):this._renderGraphie():react.createElement("div",{className:"perseus-error"},wonder_blocks_i18n_dist_es.doNotTranslate("Invalid number line configuration.")),!this.props.static&&this.props.isInequality&&inequalityControls)}}index_all.ZP.extend(NumberLine,{validate:function(state,rubric){const range=rubric.range,divisionRange=state.divisionRange,start=null!=rubric.initialX?rubric.initialX:range[0],startRel=rubric.isInequality?"ge":"eq",correctRel=rubric.correctRel||"eq",correctPos=kmath_src.Rx.equal(state.numLinePosition,rubric.correctX||0),outsideAllowedRange=state.numDivisions>divisionRange[1]||state.numDivisions<divisionRange[0];return state.isTickCrtl&&outsideAllowedRange?{type:"invalid",message:"Number of divisions is outside the allowed range."}:correctPos&&correctRel===state.rel?{type:"points",earned:1,total:1,message:null}:state.numLinePosition===start&&state.rel===startRel?{type:"invalid",message:null}:{type:"points",earned:0,total:1,message:null}}});const number_line={name:"number-line",displayName:"Number line",widget:NumberLine,transform:editorProps=>{const props=index_all.ZP.pick(editorProps,["range","labelRange","labelStyle","labelTicks","divisionRange","snapDivisions","isTickCtrl","isInequality","showTooltips"]),numLinePosition=null!=editorProps.initialX?editorProps.initialX:editorProps.range[0],width=editorProps.range[1]-editorProps.range[0];let numDivisions;return numDivisions=null!=editorProps.numDivisions?editorProps.numDivisions:null!=editorProps.tickStep?width/editorProps.tickStep:void 0,index_all.ZP.extend(props,{numLinePosition,numDivisions,snapDivisions:props.snapDivisions||void 0}),props},staticTransform:editorProps=>{const props=index_all.ZP.pick(editorProps,["range","labelRange","labelStyle","labelTicks","divisionRange","snapDivisions","isInequality"]),numLinePosition=null!=editorProps.correctX?editorProps.correctX:editorProps.range[0],width=editorProps.range[1]-editorProps.range[0];let numDivisions;return numDivisions=null!=editorProps.numDivisions?editorProps.numDivisions:null!=editorProps.tickStep?width/editorProps.tickStep:void 0,index_all.ZP.extend(props,{numLinePosition,numDivisions,rel:editorProps.isInequality?editorProps.correctRel:null,snapDivisions:props.snapDivisions||void 0}),props}};var log=__webpack_require__("./packages/perseus/src/logging/log.ts");function orderer_extends(){return orderer_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},orderer_extends.apply(this,arguments)}class PlaceholderCard extends react.Component{static propTypes={width:prop_types_default().number.isRequired,height:prop_types_default().number.isRequired};render(){return react.createElement("div",{className:"card-wrap "+perseus_api.m.INTERACTIVE,style:{width:this.props.width}},react.createElement("div",{className:"card placeholder",style:{height:this.props.height}}))}}class DragHintCard extends react.Component{render(){return react.createElement("div",{className:"card-wrap "+perseus_api.m.INTERACTIVE},react.createElement("div",{className:"card drag-hint"}))}}const PropTypePosition=prop_types_default().shape({left:prop_types_default().number,top:prop_types_default().number});class Card extends react.Component{static propTypes={floating:prop_types_default().bool.isRequired,animating:prop_types_default().bool,width:prop_types_default().number,stack:prop_types_default().bool,onMouseDown:prop_types_default().func,onMouseMove:prop_types_default().func,onMouseUp:prop_types_default().func,startMouse:PropTypePosition,startOffset:PropTypePosition,animateTo:PropTypePosition,onAnimationEnd:prop_types_default().func,linterContext:src.LZ};static defaultProps={stack:!1,animating:!1,linterContext:src.j_};state={dragging:!1};render(){let style={};this.props.floating&&(style={position:"absolute",left:this.props.startOffset.left,top:this.props.startOffset.top}),this.props.width&&(style.width=this.props.width);const className=["card"];this.props.stack&&className.push("stack"),this.props.floating&&!this.props.animating&&(className.push("dragging"),style.left+=this.props.mouse.left-this.props.startMouse.left,style.top+=this.props.mouse.top-this.props.startMouse.top);const rendererProps=index_all.ZP.pick(this.props,"content"),onMouseDown=this.props.animating?jquery_default().noop:this.onMouseDown;return react.createElement("div",{className:"card-wrap "+perseus_api.m.INTERACTIVE,style,onMouseDown,onTouchStart:onMouseDown,onTouchEnd:this.onMouseUp,onTouchCancel:this.onMouseUp},react.createElement("div",{className:className.join(" ")},react.createElement(renderer.Z,orderer_extends({},rendererProps,{linterContext:this.props.linterContext}))))}shouldComponentUpdate(nextProps,nextState){return this.props.floating||nextProps.floating||this.props.content!==nextProps.content||this.props.fakeRef!==nextProps.fakeRef}componentDidMount(){this.mouseMoveUpBound=!1,document.addEventListener("touchmove",this.onMouseMove,!!util.default.supportsPassiveEvents()&&{passive:!1})}componentDidUpdate(prevProps,prevState){if(this.props.animating&&!prevProps.animating){const ms=15*Math.sqrt(Math.sqrt(Math.pow(this.props.animateTo.left-this.props.startOffset.left,2)+Math.pow(this.props.animateTo.top-this.props.startOffset.top,2)));jquery_default()(react_dom.findDOMNode(this)).animate(this.props.animateTo,Math.max(ms,1),this.props.onAnimationEnd)}}componentWillUnmount(){this.mouseMoveUpBound&&(log.Z.error("Removing an element with bound event handlers.",log.D.Internal),this.unbindMouseMoveUp(),util.default.resetTouchHandlers()),document.removeEventListener("touchmove",this.onMouseMove)}bindMouseMoveUp=()=>{this.mouseMoveUpBound=!0,jquery_default()(document).on("mousemove",this.onMouseMove),jquery_default()(document).on("mouseup",this.onMouseUp)};unbindMouseMoveUp=()=>{this.mouseMoveUpBound=!1,jquery_default()(document).off("mousemove",this.onMouseMove),jquery_default()(document).off("mouseup",this.onMouseUp)};onMouseDown=event=>{event.preventDefault();const loc=util.default.extractPointerLocation(event);loc&&(this.setState({dragging:!0}),this.bindMouseMoveUp(),this.props.onMouseDown&&this.props.onMouseDown(loc,this))};onMouseMove=event=>{if(!this.state.dragging)return;event.preventDefault();const loc=util.default.extractPointerLocation(event);loc&&this.props.onMouseMove&&this.props.onMouseMove(loc)};onMouseUp=event=>{event.preventDefault();const loc=util.default.extractPointerLocation(event);loc&&(this.setState({dragging:!1}),this.unbindMouseMoveUp(),this.props.onMouseUp&&this.props.onMouseUp(loc))}}class Orderer extends react.Component{static defaultProps={current:[],options:[],correctOptions:[],height:"normal",layout:"horizontal",linterContext:src.j_};state={current:[],dragging:!1,placeholderIndex:null,dragKey:null,animating:!1,dragContent:null,dragWidth:null,dragHeight:null,offsetPos:null,animateTo:null,grabPos:null};UNSAFE_componentWillReceiveProps(nextProps){index_all.ZP.isEqual(this.props.current,nextProps.current)||this.setState({current:nextProps.current})}render(){const dragging=this.state.dragging&&react.createElement(Card,{ref:"dragging",floating:!0,content:this.state.dragContent,startOffset:this.state.offsetPos,startMouse:this.state.grabPos,mouse:this.state.mousePos,width:this.state.dragWidth,onMouseUp:this.onRelease,onMouseMove:this.onMouseMove,key:this.state.dragKey||"draggingCard",linterContext:this.props.linterContext}),animating=this.state.animating&&react.createElement(Card,{floating:!0,animating:!0,content:this.state.dragContent,startOffset:this.state.offsetPos,width:this.state.dragWidth,animateTo:this.state.animateTo,onAnimationEnd:this.state.onAnimationEnd,key:this.state.dragKey||"draggingCard",linterContext:this.props.linterContext}),sortableCards=index_all.ZP.map(this.state.current,(function(opt,i){return react.createElement(Card,{key:`sortableCard${i}`,ref:"sortable"+i,fakeRef:"sortable"+i,floating:!1,content:opt.content,width:opt.width,linterContext:this.props.linterContext,onMouseDown:this.state.animating?jquery_default().noop:this.onClick.bind(null,"current",i)})}),this);if(null!=this.state.placeholderIndex){const placeholder=react.createElement(PlaceholderCard,{ref:"placeholder",width:this.state.dragWidth,height:this.state.dragHeight,key:"placeholder"});sortableCards.splice(this.state.placeholderIndex,0,placeholder)}const anySortableCards=sortableCards.length>0;sortableCards.push(dragging,animating);const sortable=react.createElement("div",{className:"perseus-clearfix draggable-box"},!anySortableCards&&react.createElement(DragHintCard,null),react.createElement("div",{ref:"dragList"},sortableCards)),bank=react.createElement("div",{ref:"bank",className:"bank perseus-clearfix"},index_all.ZP.map(this.props.options,((opt,i)=>react.createElement(Card,{ref:"bank"+i,floating:!1,content:opt.content,stack:!0,key:i,linterContext:this.props.linterContext,onMouseDown:this.state.animating?jquery_default().noop:this.onClick.bind(null,"bank",i),onMouseMove:this.onMouseMove,onMouseUp:this.onRelease})),this));return react.createElement("div",{className:"draggy-boxy-thing orderer height-"+this.props.height+" layout-"+this.props.layout+" above-scratchpad blank-background perseus-clearfix "+perseus_api.m.INTERACTIVE,ref:"orderer"},bank,sortable)}onClick=(type,index,loc,draggable)=>{const $draggable=jquery_default()(react_dom.findDOMNode(draggable)),list=this.state.current.slice();let opt,placeholderIndex=null;"current"===type?(list.splice(index,1),opt=this.state.current[index],placeholderIndex=index):"bank"===type&&(opt=this.props.options[index]),this.setState({current:list,dragging:!0,placeholderIndex,dragKey:opt.key,dragContent:opt.content,dragWidth:$draggable.width(),dragHeight:$draggable.height(),grabPos:loc,mousePos:loc,offsetPos:$draggable.position()})};onRelease=loc=>{const draggable=this.refs.dragging;if(null==draggable)return;const inCardBank=this.isCardInBank(draggable),index=this.state.placeholderIndex||0,onAnimationEnd=()=>{const list=this.state.current.slice();if(!inCardBank){const newCard={content:this.state.dragContent,key:index_all.ZP.uniqueId("perseus_draggable_card_"),width:this.state.dragWidth};list.splice(index,0,newCard)}this.props.onChange({current:list}),this.setState({current:list,dragging:!1,placeholderIndex:null,animating:!1}),this.props.trackInteraction()},offset=jquery_default()(react_dom.findDOMNode(draggable)).position();let finalOffset=null;inCardBank?index_all.ZP.each(this.props.options,(function(opt,i){if(opt.content===this.state.dragContent){const card=react_dom.findDOMNode(this.refs["bank"+i]);finalOffset=jquery_default()(card).position()}}),this):null!=this.refs.placeholder&&(finalOffset=jquery_default()(react_dom.findDOMNode(this.refs.placeholder)).position()),null==finalOffset?onAnimationEnd():this.setState({offsetPos:offset,animateTo:finalOffset,onAnimationEnd,animating:!0,dragging:!1})};onMouseMove=loc=>{const draggable=this.refs.dragging;if(null==draggable)return;let index;index=this.isCardInBank(draggable)?null:this.findCorrectIndex(draggable,this.state.current),this.setState({mousePos:loc,placeholderIndex:index})};findCorrectIndex=(draggable,list)=>{const isHorizontal="horizontal"===this.props.layout,$dragList=jquery_default()(react_dom.findDOMNode(this.refs.dragList)),leftEdge=$dragList.offset().left,topEdge=$dragList.offset().top,midWidth=jquery_default()(react_dom.findDOMNode(draggable)).offset().left-leftEdge,midHeight=jquery_default()(react_dom.findDOMNode(draggable)).offset().top-topEdge;let index=0,sumWidth=0,sumHeight=0;return isHorizontal?index_all.ZP.each(list,(function(opt,i){const card=react_dom.findDOMNode(this.refs["sortable"+i]),outerWidth=jquery_default()(card).outerWidth(!0);midWidth>sumWidth+outerWidth/2&&(index+=1),sumWidth+=outerWidth}),this):index_all.ZP.each(list,(function(opt,i){const card=react_dom.findDOMNode(this.refs["sortable"+i]),outerHeight=jquery_default()(card).outerHeight(!0);midHeight>sumHeight+outerHeight/2&&(index+=1),sumHeight+=outerHeight}),this),index};isCardInBank=draggable=>{if(null==draggable)return!1;const isHorizontal="horizontal"===this.props.layout,$draggable=jquery_default()(react_dom.findDOMNode(draggable)),$bank=jquery_default()(react_dom.findDOMNode(this.refs.bank)),draggableOffset=$draggable.offset(),bankOffset=$bank.offset(),draggableHeight=$draggable.outerHeight(!0),bankHeight=$bank.outerHeight(!0),bankWidth=$bank.outerWidth(!0),dragList=react_dom.findDOMNode(this.refs.dragList),draggableWidth=(jquery_default()(dragList).width(),$draggable.outerWidth(!0));return isHorizontal?draggableOffset.top+draggableHeight/2<bankOffset.top+bankHeight:draggableOffset.left+draggableWidth/2<bankOffset.left+bankWidth};setListValues=values=>{const list=values.map((value=>({content:value})));this.props.onChange({current:list}),this.setState({current:list})};getUserInput=()=>({current:index_all.ZP.map(this.props.current,(function(v){return v.content}))});simpleValidate=rubric=>Orderer.validate(this.getUserInput(),rubric)}index_all.ZP.extend(Orderer,{validate:function(state,rubric){if(0===state.current.length)return{type:"invalid",message:null};return{type:"points",earned:index_all.ZP.isEqual(state.current,index_all.ZP.pluck(rubric.correctOptions,"content"))?1:0,total:1,message:null}}});const orderer={name:"orderer",displayName:"Orderer",widget:Orderer,isLintable:!0};var perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts");function compareRangeBoundaryPoints(a,whichA,b,whichB){let mode;return mode="start"===whichA&&"start"===whichB?Range.START_TO_START:"start"===whichA&&"end"===whichB?Range.END_TO_START:"end"===whichA&&"start"===whichB?Range.START_TO_END:Range.END_TO_END,a.compareBoundaryPoints(mode,b)}function spanRanges(a,b){const range=a.cloneRange();return range.setEnd(b.endContainer,b.endOffset),range}function rangesOverlap(a,b){return!(compareRangeBoundaryPoints(a,"end",b,"start")<0||compareRangeBoundaryPoints(b,"end",a,"start")<0)}function unionRanges(a,b){if(!rangesOverlap(a,b))return null;return spanRanges(compareRangeBoundaryPoints(a,"start",b,"start")<0?a:b,compareRangeBoundaryPoints(a,"end",b,"end")>0?a:b)}function findBoundaryWordIndex(selectionRange,wordRanges,goal,initialLowerBound,initialUpperBound){let bestValidWordIndex=-1,lowerBound=initialLowerBound,upperBound=initialUpperBound,iterationCount=0;for(;lowerBound<=upperBound;){if(iterationCount++,iterationCount>2*wordRanges.length)throw new Error(`Assertion error: Binary search isn't terminating? lower=${lowerBound}, upper=${upperBound}`);const mid=Math.floor((lowerBound+upperBound)/2);if("first"===goal){compareRangeBoundaryPoints(wordRanges[mid],"end",selectionRange,"start")<=0?lowerBound=mid+1:(bestValidWordIndex=mid,upperBound=mid-1)}else{compareRangeBoundaryPoints(wordRanges[mid],"start",selectionRange,"end")>=0?upperBound=mid-1:(bestValidWordIndex=mid,lowerBound=mid+1)}}return bestValidWordIndex}function addHighlight(existingHighlights,newHighlight){const newHighlights={};let mergedDomRange=newHighlight.domRange,mergedFirstWordIndex=newHighlight.firstWordIndex,mergedLastWordIndex=newHighlight.lastWordIndex;for(const key of Object.keys(existingHighlights)){const h=existingHighlights[key],newMergedDomRange=unionRanges(h.domRange,mergedDomRange);newMergedDomRange?(mergedDomRange=newMergedDomRange,mergedFirstWordIndex=Math.min(h.firstWordIndex,mergedFirstWordIndex),mergedLastWordIndex=Math.max(h.lastWordIndex,mergedLastWordIndex)):newHighlights[key]=h}const newMergedHighlight={firstWordIndex:mergedFirstWordIndex,lastWordIndex:mergedLastWordIndex,domRange:mergedDomRange},newKey=function createNewUniqueKey(existingKeys){const base=`${(new Date).getTime()}`;if(!existingKeys.includes(base))return base;let key,suffix=0;do{key=`${base}-${suffix}`,suffix++}while(existingKeys.includes(key));return key}(Object.keys(newHighlights));return newHighlights[newKey]=newMergedHighlight,newHighlights}function buildHighlight(existingHighlights,wordRanges,newHighlightRange){for(const key of Object.keys(existingHighlights)){const existingHighlightRange=existingHighlights[key].domRange;if(compareRangeBoundaryPoints(a=existingHighlightRange,"start",b=newHighlightRange,"start")<=0&&compareRangeBoundaryPoints(a,"end",b,"end")>=0)return null}var a,b;const indexes=function findFirstAndLastWordIndexes(selectionRange,wordRanges){const firstWordIndex=findBoundaryWordIndex(selectionRange,wordRanges,"first",0,wordRanges.length-1);if(firstWordIndex<0)return null;const lastWordIndex=findBoundaryWordIndex(selectionRange,wordRanges,"last",firstWordIndex,wordRanges.length-1);return lastWordIndex<0?null:[firstWordIndex,lastWordIndex]}(newHighlightRange,wordRanges);if(!indexes)return null;const[firstWordIndex,lastWordIndex]=indexes;return{firstWordIndex,lastWordIndex,domRange:spanRanges(wordRanges[firstWordIndex],wordRanges[lastWordIndex])}}function deserializeHighlight(serializedHighlight,wordRanges){const{firstWordIndex,lastWordIndex}=serializedHighlight.range,firstWord=wordRanges[firstWordIndex];if(!firstWord)throw new perseus_error.u(`first word index ${firstWord} is out of bounds: must be 0–${wordRanges.length-1} inclusive`,log.D.InvalidInput,{metadata:{firstWord,wordRanges:JSON.stringify(wordRanges)}});const lastWord=wordRanges[lastWordIndex];if(!lastWord)throw new perseus_error.u(`last word index ${lastWord} is out of bounds: must be 0–${wordRanges.length-1} inclusive`,log.D.InvalidInput,{metadata:{lastWord,wordRanges:JSON.stringify(wordRanges)}});return{firstWordIndex,lastWordIndex,domRange:spanRanges(firstWord,lastWord)}}function serializeHighlight(highlight){const{firstWordIndex,lastWordIndex}=highlight;return{range:{type:"word-indexes",firstWordIndex,lastWordIndex}}}function getRelativePosition(child,parent){return{left:child.left-parent.left,top:child.top-parent.top}}function getRelativeRect(_ref,parent){let{left,top,width,height}=_ref;return{...getRelativePosition({left,top},parent),width,height}}function getClientRectsForTextInRange(range){const mutableRects=[];return addClientRectsForTextInNodeAndRange(range.commonAncestorContainer,range,mutableRects),mutableRects}function addClientRectsForTextInNodeAndRange(node,range,mutableRects){const nodeContentsRange=new Range;if(nodeContentsRange.selectNodeContents(node),node.nodeType===Node.TEXT_NODE){const intersectedRange=function intersectRanges(a,b){return rangesOverlap(a,b)?spanRanges(compareRangeBoundaryPoints(a,"start",b,"start")>0?a:b,compareRangeBoundaryPoints(a,"end",b,"end")<0?a:b):null}(range,nodeContentsRange);intersectedRange&&function addClientRectsForText(textNode,textRange,mutableRects){const parentElement=textNode.parentElement,computedStyle=window.getComputedStyle(parentElement);let lineHeight=null;if("string"==typeof computedStyle.lineHeight&&computedStyle.lineHeight.endsWith("px")){const parsedLineHeight=parseFloat(computedStyle.lineHeight);isNaN(parsedLineHeight)||(lineHeight=parsedLineHeight)}const boundingRects=Array.from(textRange.getClientRects());for(const boundingRect of boundingRects){const rect={left:boundingRect.left,top:boundingRect.top,height:boundingRect.height,width:boundingRect.width};if(null!==lineHeight){const heightIncrease=lineHeight-rect.height;rect.top-=heightIncrease,rect.height=lineHeight}mutableRects.push(rect)}}(node,intersectedRange,mutableRects)}else if(node.nodeType===Node.ELEMENT_NODE){if(!rangesOverlap(range,nodeContentsRange))return;for(const child of Array.from(node.childNodes))addClientRectsForTextInNodeAndRange(child,range,mutableRects)}}class HighlightRenderer extends react.PureComponent{state={cachedHighlightRects:this._computeRects(this.props),tooltipIsHovered:!1};UNSAFE_componentWillReceiveProps(nextProps){this.props.highlight===nextProps.highlight&&this.props.offsetParent===nextProps.offsetParent||this.setState({cachedHighlightRects:this._computeRects(nextProps)})}_computeRects(props){const{highlight,offsetParent}=props,clientRects=getClientRectsForTextInRange(highlight.domRange),{left,top}=offsetParent.getBoundingClientRect();return clientRects.map((rect=>getRelativeRect(rect,{left,top})))}_rectIsHovered(rect,mouseOffsetPosition){const positionWithinRect=getRelativePosition(mouseOffsetPosition,{left:rect.left,top:rect.top});return 0<=positionWithinRect.left&&positionWithinRect.left<rect.width&&0<=positionWithinRect.top&&positionWithinRect.top<rect.height}isHovered(mouseClientPosition){if(!mouseClientPosition)return!1;const{offsetParent}=this.props,{cachedHighlightRects}=this.state,{left,top}=offsetParent.getBoundingClientRect(),mouseOffsetPosition=getRelativePosition(mouseClientPosition,{left,top});return cachedHighlightRects.some((rect=>this._rectIsHovered(rect,mouseOffsetPosition)))}render(){const rects=this.state.cachedHighlightRects;return react.createElement("div",null,rects.map(((rect,index)=>react.createElement("div",{key:index,className:(0,lib.css)(highlight_renderer_styles.highlightRect),style:{position:"absolute",width:rect.width,height:rect.height,top:rect.top,left:rect.left,zIndex:this.props.zIndexes.belowContent}}))))}}const highlight_renderer_styles=lib.StyleSheet.create({highlightRect:{background:"#fffabe"}}),highlight_renderer=HighlightRenderer;try{HighlightRenderer.displayName="HighlightRenderer",HighlightRenderer.__docgenInfo={description:"",displayName:"HighlightRenderer",props:{highlight:{defaultValue:null,description:"",name:"highlight",required:!0,type:{name:"DOMHighlight"}},highlightKey:{defaultValue:null,description:"",name:"highlightKey",required:!0,type:{name:"string"}},offsetParent:{defaultValue:null,description:"",name:"offsetParent",required:!0,type:{name:"Element"}},zIndexes:{defaultValue:null,description:"",name:"zIndexes",required:!0,type:{name:"ZIndexes"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/highlighting/ui/highlight-renderer.tsx#HighlightRenderer"]={docgenInfo:HighlightRenderer.__docgenInfo,name:"HighlightRenderer",path:"packages/perseus/src/components/highlighting/ui/highlight-renderer.tsx#HighlightRenderer"})}catch(__react_docgen_typescript_loader_error){}var wonder_blocks_spacing_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-spacing/dist/es/index.js"),wonder_blocks_tooltip_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-tooltip/dist/es/index.js");class HighlightTooltip extends react.PureComponent{_getFocusRect(){const{focusNode,focusOffset,offsetParent}=this.props,focusRange=document.createRange();focusRange.setStart(focusNode,focusOffset),focusRange.setEnd(focusNode,focusOffset);const focusRect=focusRange.getClientRects()[0];if(!focusRect)return log.Z.log('[Highlighting] Known bug: Could not determine the focus position, so did not show an "Add Highlight" tooltip. https://app.asana.com/0/329800276300868/413878480039713 (see also /r/asana-links)'),null;const{left,top}=offsetParent.getBoundingClientRect();return getRelativeRect({left:focusRect.left,top:focusRect.top,width:focusRect.width,height:focusRect.height},{left,top})}render(){const focusRect=this._getFocusRect();if(!focusRect)return null;const content=react.createElement("div",{className:(0,lib.css)(highlight_tooltip_styles.tooltipLabel),onClick:this.props.onClick},this.props.label),style={position:"absolute",left:focusRect.left,top:`calc(${Math.round(focusRect.top)}px + 0.95em)`,height:0};return react.createElement("div",{style,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},react.createElement(wonder_blocks_tooltip_dist_es.ZP,{content,opened:!0},react.createElement("div",null)))}}const highlight_tooltip_styles=lib.StyleSheet.create({tooltipLabel:{userSelect:"none",fontFamily:'"Lato", sans-serif',padding:`10px ${wonder_blocks_spacing_dist_es.Z.medium_16}px`,cursor:"pointer"}}),highlight_tooltip=HighlightTooltip;try{HighlightTooltip.displayName="HighlightTooltip",HighlightTooltip.__docgenInfo={description:"",displayName:"HighlightTooltip",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => unknown"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"(() => unknown)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"(() => unknown)"}},focusNode:{defaultValue:null,description:"",name:"focusNode",required:!0,type:{name:"Node"}},focusOffset:{defaultValue:null,description:"",name:"focusOffset",required:!0,type:{name:"number"}},offsetParent:{defaultValue:null,description:"",name:"offsetParent",required:!0,type:{name:"Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/highlighting/ui/highlight-tooltip.tsx#HighlightTooltip"]={docgenInfo:HighlightTooltip.__docgenInfo,name:"HighlightTooltip",path:"packages/perseus/src/components/highlighting/ui/highlight-tooltip.tsx#HighlightTooltip"})}catch(__react_docgen_typescript_loader_error){}class HighlightSetRenderer extends react.PureComponent{state={hoveredHighlightKey:null,hoveringTooltipFor:null};_highlightRenderers={};componentDidMount(){this._updateEditListeners(!1,this.props.editable)}UNSAFE_componentWillReceiveProps(nextProps){this._updateEditListeners(this.props.editable,nextProps.editable),null==this.state.hoveredHighlightKey||this.state.hoveredHighlightKey in nextProps.highlights||this.setState({hoveredHighlightKey:null}),null==this.state.hoveringTooltipFor||this.state.hoveringTooltipFor in nextProps.highlights||this.setState({hoveringTooltipFor:null})}componentWillUnmount(){this._updateEditListeners(this.props.editable,!1)}_updateEditListeners(wasListening,willListen){!wasListening&&willListen?window.addEventListener("mousemove",this._handleMouseMove):wasListening&&!willListen&&(window.removeEventListener("mousemove",this._handleMouseMove),this.setState({hoveredHighlightKey:null,hoveringTooltipFor:null}))}_handleMouseMove=e=>{const mouseClientPosition={left:e.clientX,top:e.clientY},hoveredHighlightKey=this._getHoveredHighlightKey(mouseClientPosition);this.setState({hoveredHighlightKey})};_getHoveredHighlightKey(mouseClientPosition){const{hoveringTooltipFor}=this.state;if("string"==typeof hoveringTooltipFor)return hoveringTooltipFor;return Object.keys(this.props.highlights).find((key=>{const highlightRenderer=this._highlightRenderers[key];return highlightRenderer&&highlightRenderer.isHovered(mouseClientPosition)}))}_renderTooltip(){const{hoveredHighlightKey}=this.state;if(null==hoveredHighlightKey)return null;const hoveredHighlight=this.props.highlights[hoveredHighlightKey];return react.createElement(highlight_tooltip,{label:wonder_blocks_i18n_dist_es._("Remove highlight"),focusNode:hoveredHighlight.domRange.endContainer,focusOffset:hoveredHighlight.domRange.endOffset,offsetParent:this.props.offsetParent,onClick:()=>this.props.onRemoveHighlight(hoveredHighlightKey),onMouseEnter:()=>this.setState({hoveringTooltipFor:hoveredHighlightKey}),onMouseLeave:()=>this.setState({hoveringTooltipFor:null})})}render(){return react.createElement("div",null,Object.keys(this.props.highlights).map((key=>react.createElement(highlight_renderer,{ref:r=>{r?this._highlightRenderers[key]=r:delete this._highlightRenderers[key]},key,highlight:this.props.highlights[key],highlightKey:key,offsetParent:this.props.offsetParent,zIndexes:this.props.zIndexes}))),this.props.editable&&this._renderTooltip())}}const highlight_set_renderer=HighlightSetRenderer;try{HighlightSetRenderer.displayName="HighlightSetRenderer",HighlightSetRenderer.__docgenInfo={description:"",displayName:"HighlightSetRenderer",props:{editable:{defaultValue:null,description:"",name:"editable",required:!0,type:{name:"boolean"}},highlights:{defaultValue:null,description:"",name:"highlights",required:!0,type:{name:"DOMHighlightSet"}},offsetParent:{defaultValue:null,description:"",name:"offsetParent",required:!0,type:{name:"Element"}},onRemoveHighlight:{defaultValue:null,description:"",name:"onRemoveHighlight",required:!0,type:{name:"(highlightKey: string) => unknown"}},zIndexes:{defaultValue:null,description:"",name:"zIndexes",required:!0,type:{name:"ZIndexes"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/highlighting/ui/highlight-set-renderer.tsx#HighlightSetRenderer"]={docgenInfo:HighlightSetRenderer.__docgenInfo,name:"HighlightSetRenderer",path:"packages/perseus/src/components/highlighting/ui/highlight-set-renderer.tsx#HighlightSetRenderer"})}catch(__react_docgen_typescript_loader_error){}class SelectionTracker extends react.PureComponent{state={mouseState:"up",trackedSelection:null};componentDidMount(){this._updateListeners(!1,this.props.enabled)}componentDidUpdate(prevProps){this.props.buildHighlight!==prevProps.buildHighlight&&this._updateTrackedSelection(),this._updateListeners(prevProps.enabled,this.props.enabled)}componentWillUnmount(){this._updateListeners(this.props.enabled,!1)}_updateListeners(wasListening,willListen){!wasListening&&willListen?(window.addEventListener("mousedown",this._handleMouseDown),window.addEventListener("mouseup",this._handleMouseUp),document.addEventListener("selectionchange",this._handleSelectionChange)):wasListening&&!willListen&&(window.removeEventListener("mousedown",this._handleMouseDown),window.removeEventListener("mouseup",this._handleMouseUp),document.removeEventListener("selectionchange",this._handleSelectionChange),this.setState({mouseState:"up",trackedSelection:null}))}_computeFocusAndRange(){const selection=document.getSelection();if(!selection||0===selection.rangeCount)return null;const range=selection.getRangeAt(0);if(range.collapsed)return null;return{focusNode:selection.focusNode,focusOffset:selection.focusOffset,range}}_updateTrackedSelection(){const focusAndRange=this._computeFocusAndRange();if(!focusAndRange)return void this.setState({trackedSelection:null});const{focusNode,focusOffset,range}=focusAndRange,proposedHighlight=this.props.buildHighlight(range);if(!proposedHighlight)return void this.setState({trackedSelection:null});const trackedSelection={focusNode,focusOffset,proposedHighlight};this.setState({trackedSelection})}_handleSelectionChange=()=>{this._updateTrackedSelection(),"down"===this.state.mouseState&&this.setState({mouseState:"down-and-selecting"})};_handleMouseDown=()=>{this.setState({mouseState:"down"})};_handleMouseUp=()=>{this.setState({mouseState:"up"})};render(){const{mouseState,trackedSelection}=this.state,userIsMouseSelecting="down-and-selecting"===mouseState;return this.props.children?react.createElement("div",null,this.props.children(trackedSelection,userIsMouseSelecting)):null}}const selection_tracker=SelectionTracker;try{SelectionTracker.displayName="SelectionTracker",SelectionTracker.__docgenInfo={description:"",displayName:"SelectionTracker",props:{buildHighlight:{defaultValue:null,description:"",name:"buildHighlight",required:!0,type:{name:"(domRange: Range) => DOMHighlight | null | undefined"}},enabled:{defaultValue:null,description:"",name:"enabled",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/highlighting/ui/selection-tracker.tsx#SelectionTracker"]={docgenInfo:SelectionTracker.__docgenInfo,name:"SelectionTracker",path:"packages/perseus/src/components/highlighting/ui/selection-tracker.tsx#SelectionTracker"})}catch(__react_docgen_typescript_loader_error){}class HighlightingUI extends react.PureComponent{_handleAddHighlight(highlightToAdd){this.props.onAddHighlight(highlightToAdd);const selection=document.getSelection();selection&&selection.collapseToEnd()}_selectionIsValid(trackedSelection){if(!trackedSelection)return!1;const{contentNode}=this.props,contentRange=new Range;contentRange.selectNodeContents(contentNode);const focusRange=new Range;focusRange.setStart(trackedSelection.focusNode,trackedSelection.focusOffset),focusRange.collapse(!0);return rangesOverlap(contentRange,focusRange)}render(){return react.createElement(selection_tracker,{buildHighlight:this.props.buildHighlight,enabled:this.props.editable},((trackedSelection,userIsMouseSelecting)=>react.createElement("div",null,react.createElement(highlight_set_renderer,{editable:this.props.editable&&!this._selectionIsValid(trackedSelection),highlights:this.props.highlights,offsetParent:this.props.offsetParent,onRemoveHighlight:this.props.onRemoveHighlight,zIndexes:this.props.zIndexes}),this._selectionIsValid(trackedSelection)&&!userIsMouseSelecting&&react.createElement(highlight_tooltip,{label:wonder_blocks_i18n_dist_es._("Add highlight"),onClick:()=>this._handleAddHighlight(trackedSelection.proposedHighlight),focusNode:trackedSelection.focusNode,focusOffset:trackedSelection.focusOffset,offsetParent:this.props.offsetParent}))))}}const highlighting_ui=HighlightingUI;try{HighlightingUI.displayName="HighlightingUI",HighlightingUI.__docgenInfo={description:"",displayName:"HighlightingUI",props:{buildHighlight:{defaultValue:null,description:"",name:"buildHighlight",required:!0,type:{name:"(range: Range) => DOMHighlight | null | undefined"}},contentNode:{defaultValue:null,description:"",name:"contentNode",required:!0,type:{name:"Node"}},editable:{defaultValue:null,description:"",name:"editable",required:!0,type:{name:"boolean"}},highlights:{defaultValue:null,description:"",name:"highlights",required:!0,type:{name:"DOMHighlightSet"}},offsetParent:{defaultValue:null,description:"",name:"offsetParent",required:!0,type:{name:"Element"}},onAddHighlight:{defaultValue:null,description:"",name:"onAddHighlight",required:!0,type:{name:"(range: DOMHighlight) => unknown"}},onRemoveHighlight:{defaultValue:null,description:"",name:"onRemoveHighlight",required:!0,type:{name:"(highlightKey: string) => unknown"}},zIndexes:{defaultValue:null,description:"",name:"zIndexes",required:!0,type:{name:"ZIndexes"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/highlighting/ui/highlighting-ui.tsx#HighlightingUI"]={docgenInfo:HighlightingUI.__docgenInfo,name:"HighlightingUI",path:"packages/perseus/src/components/highlighting/ui/highlighting-ui.tsx#HighlightingUI"})}catch(__react_docgen_typescript_loader_error){}class WordIndexer extends react.PureComponent{componentDidMount(){this._sendWordsUpdate()}componentDidUpdate(){this._sendWordsUpdate()}_sendWordsUpdate(){this.props.onWordsUpdate(this._getWordRanges())}_getWordRanges(){const container=this._container;if(!container)throw new perseus_error.u("invariant violation: `this._container` is not defined, but this method is only called after mount/update",log.D.NotAllowed);const treeWalker=container.ownerDocument.createTreeWalker(container,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,(()=>NodeFilter.FILTER_ACCEPT),!1),index=[];let trailingWordRange=null;for(;treeWalker.nextNode();){const node=treeWalker.currentNode;if(node.nodeType===Node.ELEMENT_NODE){"inline"!==getComputedStyle(node).display&&(trailingWordRange=null)}else if(node.nodeType===Node.TEXT_NODE){const text=node.nodeValue,wordPattern=/\S+/g;let wordMatch,newTrailingWordRange=null;for(;null!==(wordMatch=wordPattern.exec(text));){const startOffset=wordMatch.index,endOffset=wordMatch.index+wordMatch[0].length;let range;0===startOffset&&trailingWordRange?(range=trailingWordRange,range.setEnd(node,endOffset)):(range=node.ownerDocument.createRange(),range.setStart(node,startOffset),range.setEnd(node,endOffset),index.push(range)),endOffset===text.length&&(newTrailingWordRange=range)}trailingWordRange=newTrailingWordRange}}return index}render(){return react.createElement("div",{ref:container=>this._container=container},this.props.children)}}const word_indexer=WordIndexer;try{WordIndexer.displayName="WordIndexer",WordIndexer.__docgenInfo={description:"",displayName:"WordIndexer",props:{onWordsUpdate:{defaultValue:null,description:"",name:"onWordsUpdate",required:!0,type:{name:"(wordRanges: readonly Range[]) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/highlighting/word-indexer.tsx#WordIndexer"]={docgenInfo:WordIndexer.__docgenInfo,name:"WordIndexer",path:"packages/perseus/src/components/highlighting/word-indexer.tsx#WordIndexer"})}catch(__react_docgen_typescript_loader_error){}class HighlightableContent extends react.PureComponent{state={wordRanges:[]};_buildHighlight(highlightRange){return buildHighlight(this._getDOMHighlights(),this.state.wordRanges,highlightRange)}_getDOMHighlights(){const{serializedHighlights}=this.props,{wordRanges}=this.state,domHighlights={};for(const key of Object.keys(serializedHighlights))domHighlights[key]=deserializeHighlight(serializedHighlights[key],wordRanges);return domHighlights}_handleAddHighlight=highlight=>{const newDomHighlights=addHighlight(this._getDOMHighlights(),highlight),newSerializedHighlights={};for(const key of Object.keys(newDomHighlights))newSerializedHighlights[key]=serializeHighlight(newDomHighlights[key]);this.props.onSerializedHighlightsUpdate(newSerializedHighlights)};_handleRemoveHighlight=keyToRemove=>{const{serializedHighlights}=this.props,newSerializedHighlights={...serializedHighlights};delete newSerializedHighlights[keyToRemove],this.props.onSerializedHighlightsUpdate(newSerializedHighlights)};_handleWordsUpdate=wordRanges=>{this.setState({wordRanges})};render(){const highlights=this._getDOMHighlights();return react.createElement("div",{className:(0,lib.css)(highlightable_content_styles.container),ref:container=>this._container=container},react.createElement("div",null,this.props.enabled&&this._container&&this._content&&react.createElement(highlighting_ui,{buildHighlight:r=>this._buildHighlight(r),contentNode:this._content,editable:this.props.editable,highlights,offsetParent:this._container,zIndexes:{belowContent:0},onAddHighlight:this._handleAddHighlight,onRemoveHighlight:this._handleRemoveHighlight})),react.createElement("div",{className:(0,lib.css)(highlightable_content_styles.content),ref:content=>this._content=content},react.createElement(word_indexer,{onWordsUpdate:this._handleWordsUpdate},this.props.children)))}}const highlightable_content_styles=lib.StyleSheet.create({container:{position:"relative",zIndex:0},content:{position:"relative",zIndex:1}}),highlightable_content=HighlightableContent;try{HighlightableContent.displayName="HighlightableContent",HighlightableContent.__docgenInfo={description:"",displayName:"HighlightableContent",props:{editable:{defaultValue:null,description:"",name:"editable",required:!0,type:{name:"boolean"}},enabled:{defaultValue:null,description:"",name:"enabled",required:!0,type:{name:"boolean"}},onSerializedHighlightsUpdate:{defaultValue:null,description:"",name:"onSerializedHighlightsUpdate",required:!0,type:{name:"(serializedHighlights: SerializedHighlightSet) => unknown"}},serializedHighlights:{defaultValue:null,description:"",name:"serializedHighlights",required:!0,type:{name:"SerializedHighlightSet"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/components/highlighting/highlightable-content.tsx#HighlightableContent"]={docgenInfo:HighlightableContent.__docgenInfo,name:"HighlightableContent",path:"packages/perseus/src/components/highlighting/highlightable-content.tsx#HighlightableContent"})}catch(__react_docgen_typescript_loader_error){}var simple_markdown_src=__webpack_require__("./packages/simple-markdown/src/index.ts");function getInitialParseState(){return{currentRef:[],useRefs:!0,lastRef:0,firstSentenceRef:null,firstQuestionRef:null,lastFootnote:{id:0,text:""}}}class RefStart extends react.Component{render(){return react.createElement("span",{style:REF_STYLE},wonder_blocks_i18n_dist_es.doNotTranslate("_"))}getRefContent=()=>this.props.refContent}class RefEnd extends react.Component{render(){return react.createElement("span",{style:REF_STYLE},wonder_blocks_i18n_dist_es.doNotTranslate("_"))}}const rules={newline:simple_markdown_src.Z.defaultRules.newline,paragraph:simple_markdown_src.Z.defaultRules.paragraph,escape:simple_markdown_src.Z.defaultRules.escape,passageFootnote:{order:simple_markdown_src.Z.defaultRules.escape.order+.1,match:simple_markdown_src.Z.inlineRegex(/^\^/),parse:(capture,parse,state)=>{const id=state.lastFootnote.id+1,footnote={id,text:1===id?"*":""+id};return"*"===state.lastFootnote.text&&(state.lastFootnote.text=""+state.lastFootnote.id),state.lastFootnote=footnote,footnote},react:(node,output,state)=>react.createElement("sup",{key:state.key},node.text)},refStart:{order:simple_markdown_src.Z.defaultRules.escape.order+.2,match:function(source){const capture=/^\{\{/.exec(source);if(capture){let closeIndex=2,refNestingLevel=0;for(;closeIndex<source.length;){const token=source.slice(closeIndex,closeIndex+2);if("{{"===token)refNestingLevel++,closeIndex++;else if("}}"===token){if(!(refNestingLevel>0))break;refNestingLevel--,closeIndex++}closeIndex++}return capture[1]=source.slice(2,closeIndex),capture}return null},parse:(capture,parse,state)=>{if(!state.useRefs)return{ref:null,refContent:null};const ref=state.lastRef+1;state.lastRef=ref,state.currentRef.push(ref);return{ref,refContent:parse("(“"+capture[1]+"”)\n\n",index_all.ZP.defaults({useRefs:!1},{currentRef:[],useRefs:!0,lastRef:0,firstSentenceRef:null,firstQuestionRef:null,lastFootnote:{id:0,text:""}}))}},react:(node,output,state)=>{const ref=node.ref;if(null==ref)return null;const refContent=output(node.refContent,{});return react.createElement(RefStart,{ref:START_REF_PREFIX+ref,key:START_REF_PREFIX+ref,refContent})}},refEnd:{order:simple_markdown_src.Z.defaultRules.escape.order+.3,match:simple_markdown_src.Z.inlineRegex(/^\}\}/),parse:(capture,parse,state)=>{if(!state.useRefs)return{ref:null};return{ref:state.currentRef.pop()||null}},react:(node,output,state)=>null!=node.ref?react.createElement(RefEnd,{ref:END_REF_PREFIX+node.ref,key:END_REF_PREFIX+node.ref}):null},squareLabel:{order:simple_markdown_src.Z.defaultRules.escape.order+.4,match:simple_markdown_src.Z.inlineRegex(/^\[\[(\w+)\]\]( *)/),parse:(capture,parse,state)=>(state.firstQuestionRef||(state.firstQuestionRef=capture[1]),{content:capture[1],space:capture[2].length>0}),react:(node,output,state)=>[react.createElement("span",{key:"visual-square",className:"perseus-passage-square-label",style:LABEL_OUTER_STYLE,"aria-hidden":"true"},react.createElement("span",{style:SQUARE_LABEL_STYLE},node.content)),react.createElement("span",{key:"alt-text",className:"perseus-sr-only"},wonder_blocks_i18n_dist_es.$_("[Marker for question %(number)s]",{number:node.content})),node.space?" ":null]},circleLabel:{order:simple_markdown_src.Z.defaultRules.escape.order+.5,match:simple_markdown_src.Z.inlineRegex(/^\(\((\w+)\)\)( *)/),parse:(capture,parse,state)=>({content:capture[1],space:capture[2].length>0}),react:(node,output,state)=>[react.createElement("span",{key:"visual-circle",className:"perseus-passage-circle-label",style:LABEL_OUTER_STYLE,"aria-hidden":!0},react.createElement("span",{style:CIRCLE_LABEL_STYLE},node.content)),react.createElement("span",{key:"alt-text",className:"perseus-sr-only"},wonder_blocks_i18n_dist_es.$_("[Circle marker %(number)s]",{number:node.content})),node.space?" ":null]},squareBracketRef:{order:simple_markdown_src.Z.defaultRules.escape.order+.6,match:simple_markdown_src.Z.inlineRegex(/^\[(\d+)\]( *)/),parse:(capture,parse,state)=>(state.firstSentenceRef||(state.firstSentenceRef=capture[1]),{content:capture[1],space:capture[2].length>0}),react:(node,output,state)=>[react.createElement("span",{key:"visual-brackets",className:"perseus-passage-bracket-label","aria-hidden":"true"},"[",node.content,"]"),react.createElement("span",{key:"alt-text",className:"perseus-sr-only"},wonder_blocks_i18n_dist_es.$_("[Sentence %(number)s]",{number:node.content})),node.space?" ":null]},highlight:{order:simple_markdown_src.Z.defaultRules.escape.order+.7,match:simple_markdown_src.Z.inlineRegex(/^{highlighting.start}(.+?){highlighting.end}/),parse:(capture,parse,state)=>({content:capture[1]}),react:(node,output,state)=>[react.createElement("span",{key:0,className:"perseus-highlight"},node.content)]},reviewHighlight:{order:simple_markdown_src.Z.defaultRules.escape.order+.7,match:simple_markdown_src.Z.inlineRegex(/^{review-highlighting.start}(.+?){review-highlighting.end}/),parse:(capture,parse,state)=>({content:capture[1]}),react:(node,output,state)=>[react.createElement("span",{key:0,className:"perseus-review-highlight"},node.content)]},strong:simple_markdown_src.Z.defaultRules.strong,u:simple_markdown_src.Z.defaultRules.u,em:simple_markdown_src.Z.defaultRules.em,del:simple_markdown_src.Z.defaultRules.del,text:{...simple_markdown_src.Z.defaultRules.text,react:(node,output,state)=>react.createElement("span",{key:state.key},node.content)}},START_REF_PREFIX="start-ref-",END_REF_PREFIX="end-ref-",REF_STYLE={display:"inline-block",width:0,visibility:"hidden"},LABEL_OUTER_STYLE={display:"inline",whiteSpace:"nowrap"},SQUARE_LABEL_STYLE={display:"inline-block",color:"rgb(255, 255, 255)",backgroundColor:"rgb(90, 90, 90)",paddingLeft:10,paddingRight:10,userSelect:"none",WebkitUserSelect:"none"},CIRCLE_LABEL_STYLE={display:"inline-block",color:"rgb(255, 255, 255)",backgroundColor:"rgb(90, 90, 90)",userSelect:"none",WebkitUserSelect:"none",width:22,height:22,borderRadius:"50%",textAlign:"center"},builtParser=simple_markdown_src.Z.parserFor(rules),passage_markdown={parse:(source,state)=>{state=state||{};return builtParser(source+"\n\n",index_all.ZP.extend(state,{currentRef:[],useRefs:!0,lastRef:0,firstSentenceRef:null,firstQuestionRef:null,lastFootnote:{id:0,text:""}}))},output:simple_markdown_src.Z.reactFor(simple_markdown_src.Z.ruleOutput(rules,"react")),START_REF_PREFIX,END_REF_PREFIX,getInitialParseState};class LineHeightMeasurer extends react.Component{measureLineHeight(){return this._line?this._line.clientHeight:0}render(){return react.createElement("div",{className:(0,lib.css)(passage_styles.measurer),"aria-hidden":"true"},react.createElement("div",{ref:ref=>this._line=ref,className:"paragraph"},"Line Height Measurement"))}}const passage_styles=lib.StyleSheet.create({measurer:{position:"absolute",top:0,left:0,visibility:"hidden",zIndex:-1}});class Passage extends react.Component{static defaultProps={passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0,highlights:{},linterContext:src.j_};state={nLines:null,startLineNumbersAfter:0,stylesAreApplied:!1};componentDidMount(){this._updateState(),this._onResize=index_all.ZP.throttle((()=>{this.shouldRenderJipt()||(this._lineHeightMeasurerRef?.measureLineHeight(),this._updateState())}),500),window.addEventListener("resize",this._onResize),this._stylesAppiedTimer=window.setTimeout((()=>{this.setState({stylesAreApplied:!0})}),0)}shouldComponentUpdate(nextProps,nextState){return!index_all.ZP.isEqual(this.props,nextProps)||!index_all.ZP.isEqual(this.state,nextState)}componentDidUpdate(){this._updateState()}componentWillUnmount(){window.removeEventListener("resize",this._onResize),clearTimeout(this._stylesAppiedTimer)}_handleSerializedHighlightsUpdate=serializedHighlights=>{this.props.onChange({highlights:serializedHighlights})};_updateState(){this.shouldRenderJipt()||this.setState({nLines:this._measureLines(),startLineNumbersAfter:this._getInitialLineNumber()})}_measureLines(){const renderer=react_dom.findDOMNode(this._contentRef),contentsHeight=jquery_default()(renderer).height(),lineHeight=this._getLineHeight();return Math.round(contentsHeight/lineHeight)}_getInitialLineNumber(){let isPassageBeforeThisPassage=!0;return this.props.findWidgets(((id,widgetInfo)=>"passage"===widgetInfo.type&&(id===this.props.widgetId&&(isPassageBeforeThisPassage=!1),isPassageBeforeThisPassage))).map((passageWidget=>passageWidget.getLineCount())).reduce(((a,b)=>a+b),0)}_getLineHeight(){return this._lineHeightMeasurerRef?.measureLineHeight()||0}getLineCount(){return null!=this.state.nLines?this.state.nLines:this._measureLines()}_getStartRefLineNumber(referenceNumber){const refRef=passage_markdown.START_REF_PREFIX+referenceNumber,ref=this.refs[refRef];if(!ref)return null;const $ref=jquery_default()(react_dom.findDOMNode(ref));let $refText=$ref.next();0===$refText.length&&($refText=$ref);const vPos=$refText.offset().top;return this.state.startLineNumbersAfter+1+this._convertPosToLineNumber(vPos)}_getEndRefLineNumber(referenceNumber){const refRef=passage_markdown.END_REF_PREFIX+referenceNumber,ref=this.refs[refRef];if(!ref)return null;const $ref=jquery_default()(react_dom.findDOMNode(ref));let $refText=$ref.prev();0===$refText.length&&($refText=$ref);const height=$refText.height(),vPos=$refText.offset().top;let line=this._convertPosToLineNumber(vPos+height);return 0===height&&(line+=1),this.state.startLineNumbersAfter+line}_convertPosToLineNumber(absoluteVPos){const content=react_dom.findDOMNode(this._contentRef),relativeVPos=absoluteVPos-jquery_default()(content).offset().top,lineHeight=this._getLineHeight();return Math.round(relativeVPos/lineHeight)}_getRefContent(referenceNumber){const refRef=passage_markdown.START_REF_PREFIX+referenceNumber,ref=this.refs[refRef];return ref?ref.getRefContent():null}getReference(referenceNumber){const refStartLine=this._getStartRefLineNumber(referenceNumber),refEndLine=this._getEndRefLineNumber(referenceNumber);if(null==refStartLine||null==refEndLine)return null;return{startLine:refStartLine,endLine:refEndLine,content:this._getRefContent(referenceNumber)}}getUserInput(){return null}simpleValidate(rubric){return Passage.validate(this.getUserInput(),rubric)}static validate(state,rubric){return{type:"points",earned:0,total:0,message:null}}_renderInstructions(parseState){const firstQuestionNumber=parseState.firstQuestionRef,firstSentenceRef=parseState.firstSentenceRef;let instructions="";firstQuestionNumber&&(instructions+=wonder_blocks_i18n_dist_es._("The symbol %(questionSymbol)s indicates that question %(questionNumber)s references this portion of the passage.",{questionSymbol:"[["+firstQuestionNumber+"]]",questionNumber:firstQuestionNumber})),firstSentenceRef&&(instructions+=wonder_blocks_i18n_dist_es._(" The symbol %(sentenceSymbol)s indicates that the following sentence is referenced in a question.",{sentenceSymbol:"["+firstSentenceRef+"]"}));const parsedInstructions=passage_markdown.parse(instructions);return react.createElement("div",{className:"perseus-widget-passage-instructions"},passage_markdown.output(parsedInstructions))}shouldRenderJipt(){const{JIPT}=(0,dependencies.getDependencies)();return JIPT.useJIPT&&-1!==this.props.passageText.indexOf("crwdns")}_renderContent(parsed){const enabled=this.state.stylesAreApplied,editable=!this.props.reviewModeRubric;return react.createElement(highlightable_content,{editable,enabled,onSerializedHighlightsUpdate:this._handleSerializedHighlightsUpdate,serializedHighlights:this.props.highlights},react.createElement("div",{ref:ref=>this._contentRef=ref},react.createElement(LineHeightMeasurer,{ref:ref=>this._lineHeightMeasurerRef=ref}),passage_markdown.output(parsed)))}_hasFootnotes(){const rawContent=this.props.footnotes;return!/^\s*$/.test(rawContent)}_renderFootnotes(){const rawContent=this.props.footnotes,parsed=passage_markdown.parse(rawContent);return passage_markdown.output(parsed)}render(){let lineNumbers;const nLines=this.state.nLines;this.props.showLineNumbers&&nLines&&(lineNumbers=index_all.ZP.range(1,nLines+1).map((lineN=>{const lineAt=lineN+this.state.startLineNumbersAfter;if(4===lineAt){const translatedLine=wonder_blocks_i18n_dist_es._("Line ");return react.createElement("span",{key:"line-marker",className:"line-marker"},translatedLine)}return react.createElement("span",{key:lineN},lineAt)})));const parseState=passage_markdown.getInitialParseState(),doubleQuoteParsedContent=this.props.passageText.replace(/("{1})([^"]*)("{1})/g,"“$2”"),parsedContent=passage_markdown.parse(doubleQuoteParsedContent,parseState),hasTitle=/\S/.test(this.props.passageTitle);return react.createElement("div",null,react.createElement("div",{className:"perseus-widget-passage-container"},this._renderInstructions(parseState),react.createElement("div",{className:"perseus-widget-passage"},hasTitle&&react.createElement("h3",{className:"passage-title"},react.createElement(renderer.Z,{content:this.props.passageTitle,linterContext:this.props.linterContext})),lineNumbers&&react.createElement("div",{className:"line-numbers","aria-hidden":!0},lineNumbers),!hasTitle&&react.createElement("h3",{className:"perseus-sr-only"},wonder_blocks_i18n_dist_es._("Beginning of reading passage.")),react.createElement("div",{className:"passage-text"},this.shouldRenderJipt()?react.createElement(renderer.Z,{content:this.props.passageText}):this._renderContent(parsedContent)),this._hasFootnotes()&&[react.createElement("h4",{key:"footnote-start",className:"perseus-sr-only"},wonder_blocks_i18n_dist_es._("Beginning of reading passage footnotes.")),react.createElement("div",{key:"footnotes",className:"footnotes"},this._renderFootnotes())],react.createElement("div",{className:"perseus-sr-only"},wonder_blocks_i18n_dist_es._("End of reading passage.")))))}}const passage={name:"passage",displayName:"Passage (SAT only)",widget:Passage,transform:editorProps=>index_all.ZP.pick(editorProps,"passageTitle","passageText","footnotes","showLineNumbers"),isLintable:!0};try{LineHeightMeasurer.displayName="LineHeightMeasurer",LineHeightMeasurer.__docgenInfo={description:"",displayName:"LineHeightMeasurer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/passage.tsx#LineHeightMeasurer"]={docgenInfo:LineHeightMeasurer.__docgenInfo,name:"LineHeightMeasurer",path:"packages/perseus/src/widgets/passage.tsx#LineHeightMeasurer"})}catch(__react_docgen_typescript_loader_error){}try{Passage.displayName="Passage",Passage.__docgenInfo={description:"",displayName:"Passage",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"((values: { [key: string]: any; }, callback?: (() => unknown) | null | undefined, silent?: boolean | undefined) => unknown) & ChangeHandler"}},passageTitle:{defaultValue:{value:""},description:"",name:"passageTitle",required:!1,type:{name:"string"}},passageText:{defaultValue:{value:""},description:"",name:"passageText",required:!1,type:{name:"string"}},footnotes:{defaultValue:{value:""},description:"",name:"footnotes",required:!1,type:{name:"string"}},showLineNumbers:{defaultValue:{value:"true"},description:"",name:"showLineNumbers",required:!1,type:{name:"boolean"}},widgetId:{defaultValue:null,description:"",name:"widgetId",required:!0,type:{name:"string"}},alignment:{defaultValue:null,description:"",name:"alignment",required:!0,type:{name:"string | null | undefined"}},static:{defaultValue:null,description:"",name:"static",required:!0,type:{name:"boolean | null | undefined"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!0,type:{name:"number | null | undefined"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"(blurPath: FocusPath) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"(blurPath: FocusPath) => void"}},findWidgets:{defaultValue:null,description:"",name:"findWidgets",required:!0,type:{name:"((arg1: FilterCriterion) => readonly any[]) & ((arg1: FindWidgetsCallback) => readonly Passage[])"}},reviewModeRubric:{defaultValue:null,description:"",name:"reviewModeRubric",required:!0,type:{name:"PerseusPassageWidgetOptions"}},trackInteraction:{defaultValue:null,description:"",name:"trackInteraction",required:!0,type:{name:"(extraData?: Empty | undefined) => void"}},isLastUsedWidget:{defaultValue:null,description:"",name:"isLastUsedWidget",required:!0,type:{name:"boolean"}},linterContext:{defaultValue:{value:'{\n    contentType: "",\n    highlightLint: false,\n    paths: [] as ReadonlyArray<any>,\n    stack: [] as ReadonlyArray<any>,\n}'},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},containerSizeClass:{defaultValue:null,description:"",name:"containerSizeClass",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},highlights:{defaultValue:{value:"{}"},description:"",name:"highlights",required:!1,type:{name:"SerializedHighlightSet"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/passage.tsx#Passage"]={docgenInfo:Passage.__docgenInfo,name:"Passage",path:"packages/perseus/src/widgets/passage.tsx#Passage"})}catch(__react_docgen_typescript_loader_error){}var passage_ref=__webpack_require__("./packages/perseus/src/widgets/passage-ref.tsx");class PassageRefTarget extends react.Component{static propTypes={...changeable.i,content:prop_types_default().string,linterContext:src.LZ};static defaultProps={content:"",linterContext:src.j_};static validate(state,rubric){return{type:"points",earned:0,total:0,message:null}}getUserInput=()=>widget_jsonify_deprecated.Z.getUserInput.call(this);change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();simpleValidate=rubric=>PassageRefTarget.validate(this.getUserInput(),rubric);render(){return react.createElement(renderer.Z,{content:this.props.content,apiOptions:this.props.apiOptions,linterContext:this.props.linterContext})}}const passage_ref_target={name:"passage-ref-target",displayName:"PassageRefTarget",defaultAlignment:"inline",widget:PassageRefTarget,hidden:!0,transform:editorProps=>index_all.ZP.pick(editorProps,"content"),version:{major:0,minor:0},isLintable:!0};var plotter=__webpack_require__("./packages/perseus/src/widgets/plotter.tsx");class PythonProgram extends react.Component{static defaultProps={height:400};render(){const url=function python_program_getUrlFromProgramID(programID){return toAbsoluteUrl(`/python-program/${programID}/embedded`)}(this.props.programID),iframeStyle={height:this.props.height,width:"100%"},sandboxOptions=["allow-popups","allow-same-origin","allow-scripts","allow-top-navigation"].join(" ");return react.createElement(wonder_blocks_core_dist_es.G7,{style:python_program_styles.container},react.createElement("iframe",{sandbox:sandboxOptions,src:url,style:iframeStyle,allowFullScreen:!0}))}}const python_program_styles=lib.StyleSheet.create({container:{margin:"auto",width:"100%"}}),python_program={name:"python-program",displayName:"Python Program",widget:PythonProgram};class Separator extends react.Component{arrowLength=100;static propTypes={data:prop_types_default().any,index:prop_types_default().number};componentDidMount(){this.drawArrow()}componentDidUpdate(){this.drawArrow()}drawArrow=()=>{const canvas=this.refs["arrowCanvas"+this.props.index],ctx=canvas.getContext("2d");ctx.clearRect(0,0,canvas.width,canvas.height);const path=new Path2D;ctx.strokeStyle="rgb(0,0,0)",ctx.lineWidth=1.2,ctx.lineCap="round";path.moveTo(5,canvas.height/2),path.lineTo(canvas.width-5,canvas.height/2),path.moveTo(canvas.width-10,canvas.height/2-5),path.lineTo(canvas.width-5,canvas.height/2),path.moveTo(canvas.width-10,canvas.height/2+5),path.lineTo(canvas.width-5,canvas.height/2),ctx.stroke(path)};render(){return react.createElement("div",{className:"arrow-container"},react.createElement("div",{className:"above-text"},this.props.data.topText),react.createElement("canvas",{height:"30",id:"arrowCanvas"+this.props.index,ref:"arrowCanvas"+this.props.index,width:this.arrowLength},wonder_blocks_i18n_dist_es._("Reaction arrow pointing to the right.")),react.createElement("div",{className:"below-text"},this.props.data.bottomText))}}class ReactionDiagramWidget extends react.Component{static propTypes={rotationAngle:prop_types_default().arrayOf(prop_types_default().number),separators:prop_types_default().arrayOf(prop_types_default().object),smiles:prop_types_default().arrayOf(prop_types_default().string),widgetId:prop_types_default().string};static defaultProps={smiles:[],rotationAngle:[],separators:[]};simpleValidate=()=>({type:"points",earned:0,total:0,message:null});getUserInput=()=>[];validate=(state,rubric)=>({type:"points",earned:0,total:0,message:null});focus=()=>!0;render(){return react.createElement("div",{className:"reaction",ref:"reaction"},this.props.smiles.map(((s,i)=>{const id=this.props.widgetId+"-"+i;return react.createElement("div",{key:id,className:"molecule-container"},react.createElement(Molecule,{id,rotationAngle:this.props.rotationAngle[i],smiles:s}),i===this.props.smiles.length-1?null:react.createElement(Separator,{data:this.props.separators[i],index:i}))})))}}const reaction_diagram={name:"reaction-diagram",displayName:"Chemical reaction diagram (deprecated)",hidden:!0,widget:ReactionDiagramWidget};function sequence_extends(){return sequence_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},sequence_extends.apply(this,arguments)}class Sequence extends react.Component{static defaultProps={json:[{content:"",widgets:{},images:{}}],linterContext:src.j_};state={visible:1};shouldComponentUpdate(nextProps,nextState){return nextProps!==this.props||nextState!==this.state}change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();_handleInteraction=groupWidgetId=>{const step=parseInt(groupWidgetId.split(" ")[1]);if(step===this.state.visible-1){const widget=this.refs.renderer.getWidgetInstance("group "+step);widget.showRationalesForCurrentlySelectedChoices();const score=widget.simpleValidate();"points"===score.type&&score.total===score.earned&&(this.setState({visible:this.state.visible+1}),this.props.trackInteraction({visible:this.state.visible+1}))}};render(){const icon=react.createElement(inline_icon.Z,sequence_extends({},icon_paths.iconOk,{style:{color:"green"}})),content=index_all.ZP.chain(this.props.json).first(this.state.visible).map(((step,i)=>`[[${util.default.snowman} group ${i}]]`)).join("\n\n").value(),widgets={};return index_all.ZP.each(this.props.json,((step,i)=>{widgets[`group ${i}`]={type:"group",graded:!0,version:{major:0,minor:0},options:index_all.ZP.extend({},step,{icon:i<this.state.visible-1?icon:null})}})),react.createElement("div",{className:"perseus-sequence"},react.createElement(renderer.Z,{ref:"renderer",content,widgets,onInteractWithWidget:this._handleInteraction,apiOptions:this.props.apiOptions,linterContext:this.props.linterContext}))}}const sequence={name:"sequence",displayName:"Graded sequence (deprecated)",widget:Sequence,traverseChildWidgets:function(props,traverseRenderer){let oldJson=props.json;index_all.ZP.isArray(oldJson)||(oldJson=[oldJson]);const json=index_all.ZP.map(oldJson,(rendererOptions=>traverseRenderer(rendererOptions)));return index_all.ZP.extend({},props,{json})},tracking:"all",hidden:!0,isLintable:!0};var info_tip=__webpack_require__("./packages/perseus/src/components/info-tip.tsx");const{assert:simulator_assert}=interactive_util.default,{seededRNG:simulator_seededRNG}=util.default,{Path,Arc,Circle,Label:simulator_Label,Line:simulator_Line,MovablePoint:simulator_MovablePoint,MovableLine:simulator_MovableLine}=graphie.default;class Histogram extends react.Component{static propTypes={data:prop_types_default().arrayOf(prop_types_default().number),xAxisLabel:prop_types_default().string,yAxisLabel:prop_types_default().string,box:prop_types_default().arrayOf(prop_types_default().number)};static defaultProps={data:null,xAxisLabel:"Proportion (%)",yAxisLabel:"Number of times seen",box:[400,400]};UNSAFE_componentWillReceiveProps(nextProps){const oldRange=this._range(),nextRange=this._range(nextProps);util.default.deepEq(oldRange,nextRange)||this.setState({threshold:this._getInitialThreshold(nextRange)})}_renderThresholdLine=()=>{const yRange=[0,this._range()[1][1]],coords=index_all.ZP.map(yRange,(y=>[this.state.threshold,y]));return react.createElement(simulator_MovableLine,{onMove:this.handleMouseInteraction},index_all.ZP.map(coords,((coord,i)=>react.createElement(simulator_MovablePoint,{key:i,static:!0,coord,normalStyle:{stroke:"none",fill:"none"}}))))};_renderCircle=()=>{const data=this.props.data,total=index_all.ZP.reduce(data,((sum,next)=>sum+next),0),numBelow=index_all.ZP.reduce(data,((sum,next,i)=>null!=this.state.threshold&&i<=this.state.threshold?sum+next:sum),0),proportionBelow=numBelow/total,center=[this.props.box[0]-30,30],xRange=this._range()[0],formattedThreshold=Math.min(Math.max(this.state.threshold,xRange[0]),xRange[1]).toFixed(2);return[proportionBelow>0&&(()=>{const options={key:"below",center,radius:20,startAngle:0,endAngle:proportionBelow<1?360*proportionBelow:359.99999,sector:1!==proportionBelow,unscaled:!0,style:{fill:colors.Z.LIGHT_RED,stroke:colors.Z.RED}};return react.createElement(Arc,options)})(),proportionBelow<1&&(()=>{const options={key:"above",center,radius:20,startAngle:proportionBelow>0?360*proportionBelow:1e-5,endAngle:360,sector:0!==proportionBelow,unscaled:!0,style:{fill:colors.Z.LIGHT_BLUE,stroke:colors.Z.BLUE}};return react.createElement(Arc,options)})(),(()=>{const options={key:"label",coord:[center[0],center[1]+30],text:numBelow+" of "+total+" results below "+formattedThreshold+"%",direction:"center",tex:!1,unscaled:!0,style:{fontSize:"12px"}};return react.createElement(simulator_Label,options)})()]};_renderData=()=>{const data=this.props.data;this._range();return index_all.ZP.map(data,((count,i)=>{if(!count)return;const isBelow=null!=this.state.threshold&&i<=this.state.threshold,style={fill:isBelow?colors.Z.LIGHT_RED:colors.Z.LIGHT_BLUE,stroke:isBelow?colors.Z.RED:colors.Z.BLUE},coords=[[i,0],[i,count],[i+1,count],[i+1,0]];return react.createElement(Path,{key:i,coords,style})}))};render(){const data=this.props.data,range=this._range(),options={xAxisLabel:this.props.xAxisLabel,yAxisLabel:this.props.yAxisLabel,box:this.props.box,range,data,scale:[util.default.scaleFromExtent(range[0],this.props.box[0]),util.default.scaleFromExtent(range[1],this.props.box[1])]},origin=[range[0][0],0],bottomRight=[range[0][1],0];return react.createElement(graphie.default,{box:options.box,range:options.range,options,setup:this._setupGraphie,onMouseMove:this.handleMouseInteraction,onMouseDown:this.handleMouseInteraction,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable},react.createElement(simulator_Line,{start:origin,end:bottomRight,style:{stroke:"#000",strokeWidth:1,opacity:1}}),data&&this._renderData(),data&&this._renderCircle(),data&&this._renderThresholdLine())}_setupGraphie=(graphie,options)=>{const data=options.data,range=options.range,scale=options.scale,xWidth=range[0][1]-range[0][0],yWidth=range[1][1]-0,ySkip=Math.ceil(yWidth/20);if(index_all.ZP.each(index_all.ZP.range(0,range[1][1],ySkip),(y=>{data&&graphie.label([range[0][0],y],math.ZP.roundToApprox(y,2),"left",!0),graphie.line([range[0][0],y],[range[0][1],y],{stroke:"#000",strokeWidth:1,opacity:.3})})),data){const maxXAxisEntities=15,xSkip=Math.ceil(xWidth/maxXAxisEntities);index_all.ZP.each(index_all.ZP.range(range[0][0],range[0][1],xSkip),(x=>{graphie.label([x,0],kmath_src.Rx.round(x,2),"below",!0);graphie.line([x,0],[x,-8/scale[1]],{stroke:"#000",strokeWidth:1})}))}const origin=[range[0][0],0],topLeft=[range[0][0],range[1][1]];graphie.line(origin,topLeft,{stroke:"#000",strokeWidth:2,opacity:1});const xMid=range[0][0]+xWidth/2,xOffset=data?25:0;graphie.label([xMid,-xOffset/scale[1]],options.xAxisLabel,"below",!1).css("font-weight","bold");const yMid=0+yWidth/2,yOffset=data?55:28;graphie.label([range[0][0]-yOffset/scale[0],yMid],options.yAxisLabel,"center",!1).css("font-weight","bold").css("-webkit-transform","rotate(-90deg)")};handleMouseInteraction=point=>{this.setState({threshold:point[0]})};_range=props=>(props=props||this.props).data?this._getRangeForData(props.data):[[0,100],[-1,10]];_getRangeForData=data=>{const firstIndex=index_all.ZP.indexOf(data,index_all.ZP.find(data,(n=>n>0))),xMin=Math.max(0,firstIndex-10),lastIndex=index_all.ZP.lastIndexOf(data,index_all.ZP.last(index_all.ZP.filter(data,(n=>n>0))));return[[xMin,Math.min(101,lastIndex+1+10)],[-1,index_all.ZP.max(data)]]};_getInitialThreshold=range=>{const xRange=range[0];return xRange[0]+(xRange[1]-xRange[0])/3};state={threshold:this._getInitialThreshold(this._range())}}class Simulator extends react.Component{static propTypes={...changeable.i,apiOptions:perseus_api._.propTypes,data:prop_types_default().arrayOf(prop_types_default().number),numTrials:prop_types_default().number,proportionLabel:prop_types_default().string,proportionOrPercentage:prop_types_default().string,randomSeed:prop_types_default().number,sampleSize:prop_types_default().number,trackInteraction:prop_types_default().func.isRequired,userProportion:prop_types_default().number,xAxisLabel:prop_types_default().string,yAxisLabel:prop_types_default().string};static defaultProps={data:null,userProportion:null,sampleSize:null,numTrials:null,randomSeed:0,xAxisLabel:"Proportion (%)",yAxisLabel:"Number of times seen",proportionLabel:"Underlying proportion",proportionOrPercentage:"proportion",apiOptions:perseus_api._.defaults};state={invalidInput:!1};UNSAFE_componentWillMount(){null!=this.props.randomSeed&&(this.generateNumber=util.default.seededRNG(this.props.randomSeed))}UNSAFE_componentWillReceiveProps(nextProps){nextProps.randomSeed!==this.props.randomSeed&&(this.generateNumber=util.default.seededRNG(nextProps.randomSeed))}render(){const inputStyle={marginLeft:"5px"},highlightStyle=index_all.ZP.extend({},inputStyle,{boxShadow:"0px 0px 0px 2px rgba(255, 165, 0, 1)",transition:"all 0.15s"}),unhighlightStyle=index_all.ZP.extend({},inputStyle,{transition:"all 0.15s"}),style=this.state.invalidInput?highlightStyle:unhighlightStyle,proportionInput=react.createElement("div",null,react.createElement(number_input.Z,{ref:"userProportion",style,value:this.calculateDisplayProportion(),checkValidity:this.checkProportionValidity,disabled:this.props.apiOptions.readOnly,onChange:this.handleUserProportionChange,onFocus:()=>this.props.onFocus(["userProportion"]),onBlur:()=>this.props.onBlur(["userProportion"])}),react.createElement(info_tip.Z,null,react.createElement("p",null,wonder_blocks_i18n_dist_es._("This controls the proportion or percentage that will be used in your simulation.")))),sampleSizeInput=react.createElement("div",null,react.createElement(number_input.Z,{ref:"sampleSize",style,value:this.props.sampleSize,checkValidity:val=>val>=0,disabled:this.props.apiOptions.readOnly,onChange:this.handleSampleSizeChange,onFocus:()=>this.props.onFocus(["sampleSize"]),onBlur:()=>this.props.onBlur(["sampleSize"])}),react.createElement(info_tip.Z,null,react.createElement("p",null,wonder_blocks_i18n_dist_es._("This controls the sample size that will be used in your simulation. For example, if you set this to 100, then for each trial, responses from 100 participants will be simulated.")))),numTrialsDisplay=react.createElement("div",{style:{textAlign:"right"}},react.createElement("b",null,this.props.numTrials),react.createElement(info_tip.Z,null,react.createElement("p",null,wonder_blocks_i18n_dist_es._("This is the number of trials used in the simulation. For example, if set to 50, then the survey will be conducted 50 times.")))),contents=[{title:this.props.proportionLabel+":",value:proportionInput},{title:wonder_blocks_i18n_dist_es._("Sample size:"),value:sampleSizeInput},{title:wonder_blocks_i18n_dist_es._("Number of trials:"),value:numTrialsDisplay}],startButton=react.createElement("button",{className:"simple-button",style:{margin:"20px 0"},disabled:this.props.apiOptions.readOnly,onClick:this.handleRunSimulation},wonder_blocks_i18n_dist_es._("Run simulation")),histogramStyle={paddingBottom:this.props.data?40:0},histogram=react.createElement("div",{style:histogramStyle},react.createElement(Histogram,{data:this.props.data,xAxisLabel:this.props.xAxisLabel,yAxisLabel:this.props.yAxisLabel,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}));return react.createElement("div",null,(contents=>{const header=react.createElement("thead",null,react.createElement("tr",null,react.createElement("th",null,wonder_blocks_i18n_dist_es._("Parameter")),react.createElement("th",null,wonder_blocks_i18n_dist_es._("Value")))),body=react.createElement("tbody",null,index_all.ZP.map(contents,((row,i)=>react.createElement("tr",{key:i},react.createElement("td",null,row.title),react.createElement("td",null,row.value)))));return react.createElement("table",null,header,body)})(contents),startButton,histogram)}calculateDisplayProportion=()=>{const userProportion=this.props.userProportion;return"percentage"===this.props.proportionOrPercentage?Math.round(100*userProportion):userProportion};change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();checkProportionValidity=value=>value>=0&&"proportion"===this.props.proportionOrPercentage&&value<=1||"percentage"===this.props.proportionOrPercentage&&value<=100;handleUserProportionChange=(value,cb)=>{let userProportion;userProportion="percentage"===this.props.proportionOrPercentage?value/100:value,null!=userProportion&&(userProportion=Math.min(1,Math.max(0,userProportion))),this.props.onChange({userProportion},cb)};handleSampleSizeChange=(sampleSize,cb)=>{null!=sampleSize&&(sampleSize=Math.min(1e3,Math.max(0,Math.floor(sampleSize)))),this.props.onChange({sampleSize},cb)};handleRunSimulation=()=>{null!=this.props.numTrials&&null!=this.props.userProportion&&null!=this.props.sampleSize?(this.setState({invalidInput:!1}),this.props.onChange({data:this.generateData()}),this.props.trackInteraction()):this.setState({invalidInput:!0})};generateData=props=>((sampleSize,numTrials,proportion)=>{const draw=()=>this.generateNumber()<proportion,sampleDistribution=index_all.ZP.times(101,(()=>0));return index_all.ZP.times(numTrials,(()=>{const results=index_all.ZP.times(sampleSize,draw),count=index_all.ZP.filter(results,index_all.ZP.identity).length,normalizedCount=Math.floor(100*count/sampleSize);sampleDistribution[normalizedCount]++})),sampleDistribution})((props=props||this.props).sampleSize,props.numTrials,props.userProportion);getInputPaths=()=>[["userProportion"],["sampleSize"]];focus=()=>{const path=index_all.ZP.head(this.getInputPaths());return this.focusInputPath(path),!0};focusInputPath=path=>{simulator_assert(path.length>0);const inputID=index_all.ZP.head(path);this.refs[inputID].focus()};blurInputPath=path=>{simulator_assert(path.length>0);const inputID=index_all.ZP.head(path);this.refs[inputID].blur()};getDOMNodeForPath=path=>{simulator_assert(path.length>0);const inputID=index_all.ZP.head(path);return react_dom.findDOMNode(this.refs[inputID])};getGrammarTypeForPath=path=>(simulator_assert(path.length>0),"number");setInputValue=(path,newValue,cb)=>{simulator_assert(path.length>0);const inputID=index_all.ZP.head(path);this["handle"+(inputID.charAt(0).toUpperCase()+inputID.slice(1))+"Change"](newValue,cb)};getUserInput=()=>null;simpleValidate=rubric=>Simulator.validate(this.getUserInput(),rubric)}index_all.ZP.extend(Simulator,{validate:function(state,rubric){return{type:"points",earned:0,total:0,message:null}}});const simulator={name:"simulator",displayName:"Simulator (deprecated)",widget:Simulator,transform:editorProps=>{const widgetProps=index_all.ZP.clone(editorProps);return widgetProps.randomSeed=editorProps.problemNum,widgetProps},hidden:!0},{shuffle:sorter_shuffle}=util.default;class Sorter extends react.Component{static propTypes={apiOptions:perseus_api._.propTypes,correct:prop_types_default().array,layout:prop_types_default().oneOf(["horizontal","vertical"]),onChange:prop_types_default().func,padding:prop_types_default().bool,problemNum:prop_types_default().number,trackInteraction:prop_types_default().func.isRequired,linterContext:src.LZ};static defaultProps={correct:[],layout:"horizontal",padding:!0,problemNum:0,onChange:function(){},linterContext:src.j_};static validate(state,rubric){return{type:"points",earned:index_all.ZP.isEqual(state.options,rubric.correct)?1:0,total:1,message:null}}state={changed:!1};componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}handleChange=e=>{this._isMounted&&this.setState({changed:!0},(()=>{setTimeout((()=>{this.props.onChange(e),this.props.trackInteraction()}),0)}))};getUserInput=()=>({options:this.refs.sortable.getOptions()});moveOptionToIndex=(option,index)=>{this.refs.sortable.moveOptionToIndex(option,index)};simpleValidate=rubric=>this.state.changed?Sorter.validate(this.getUserInput(),rubric):{type:"invalid",message:null};render(){const options=sorter_shuffle(this.props.correct,this.props.problemNum,!0),{apiOptions}=this.props,marginPx=apiOptions.isMobile?8:5;return react.createElement("div",{className:"perseus-widget-sorter perseus-clearfix"},react.createElement(sortable.Z,{options,layout:this.props.layout,margin:marginPx,padding:this.props.padding,onChange:this.handleChange,linterContext:this.props.linterContext,ref:"sortable"}))}}const sorter={name:"sorter",displayName:"Sorter",widget:Sorter,isLintable:!0};var table=__webpack_require__("./packages/perseus/src/widgets/table.tsx"),unit=__webpack_require__("./packages/perseus/src/widgets/unit.tsx"),fixed_to_responsive=__webpack_require__("./packages/perseus/src/components/fixed-to-responsive.tsx"),video_transcript_link=__webpack_require__("./packages/perseus/src/widgets/video-transcript-link.tsx");const KA_EMBED="{host}/embed_video?slug={slug}&internal_video_only=1",IS_URL=/^https?:\/\//,IS_KA_SITE=/(khanacademy\.org|localhost)/,IS_VIMEO=/(vimeo\.com)/;class Video extends react.Component{static validate(userInput,rubric){return{type:"points",earned:0,total:0,message:null}}getUserInput=()=>null;simpleValidate=rubric=>Video.validate(null,rubric);change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return changeable.m.apply(_this,args)}})();render(){const{InitialRequestUrl}=(0,dependencies.getDependencies)(),location=this.props.location;if(!location)return react.createElement("div",null);let url;if(IS_URL.test(location))url=location,IS_VIMEO.test(url)&&(-1===url.indexOf("?")?url+="?dnt=1":url+="&dnt=1");else{url=KA_EMBED.replace("{slug}",location);let embedHostname="https://www.khanacademy.org";IS_KA_SITE.test(InitialRequestUrl.host)&&(embedHostname=InitialRequestUrl.origin),url=url.replace("{host}",embedHostname)}return react.createElement(wonder_blocks_core_dist_es.G7,null,react.createElement(fixed_to_responsive.Z,{width:1280,height:720,key:location+this.props.alignment},react.createElement(wonder_blocks_core_dist_es.G7,{style:a11y.Z.srOnly},wonder_blocks_i18n_dist_es._("Khan Academy video wrapper")),react.createElement("iframe",{className:"perseus-video-widget",sandbox:"allow-same-origin allow-scripts",width:1280,height:720,src:url,allowFullScreen:!0})),react.createElement(video_transcript_link.Z,{location}))}}const video={name:"video",displayName:"Video",defaultAlignment:"block",supportedAlignments:["block","float-left","float-right","full-width"],widget:Video},extra_widgets=[categorizer.Z,cs_program,dropdown,explanation,definition,grapher.Z,graded_group,graded_group_set,group,iframe,widgets_image,interaction,interactive_graph.Z,label_image,lights_puzzle,matrix.Z,matcher,measurer,molecule,number_line,orderer,passage,passage_ref.Z,passage_ref_target,plotter.Z,python_program,reaction_diagram,sequence,simulator,sorter,table.Z,unit.ZP,video,deprecated_standin]},"./packages/perseus/src/hint-renderer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),_renderer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_styles_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/styles/constants.ts"),_styles_media_queries__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/styles/media-queries.ts");class HintRenderer extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_};getSerializedState=()=>this.refs.renderer.getSerializedState();restoreSerializedState=(state,callback)=>{this.refs.renderer.restoreSerializedState(state,callback)};render(){const{apiOptions,className,hint,lastHint,lastRendered,pos,totalHints}=this.props,{isMobile}=apiOptions,classNames=classnames__WEBPACK_IMPORTED_MODULE_3___default()("hint",!isMobile&&"perseus-hint-renderer",isMobile&&(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.newHint),isMobile&&lastRendered&&(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.lastRenderedNewHint),lastHint&&"last-hint",lastRendered&&"last-rendered",className),rendererApiOptions={...apiOptions,customKeypad:!1};return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:classNames,tabIndex:"-1"},!apiOptions.isMobile&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"perseus-sr-only"},_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Hint #%(pos)s",{pos:pos+1})),!apiOptions.isMobile&&null!=totalHints&&null!=pos&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"perseus-hint-label",style:{display:"block",color:apiOptions.hintProgressColor}},`${pos+1} / ${totalHints}`),react__WEBPACK_IMPORTED_MODULE_4__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_5__.Z,{ref:"renderer",widgets:hint.widgets,content:hint.content||"",images:hint.images,apiOptions:rendererApiOptions,findExternalWidgets:this.props.findExternalWidgets,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.fQ(this.props.linterContext,"hint")}))}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({newHint:{marginBottom:1.5*_styles_constants__WEBPACK_IMPORTED_MODULE_6__.hZ,borderLeftColor:_styles_constants__WEBPACK_IMPORTED_MODULE_6__.ce,borderLeftStyle:"solid",borderLeftWidth:_styles_constants__WEBPACK_IMPORTED_MODULE_6__.eS,[_styles_media_queries__WEBPACK_IMPORTED_MODULE_7__.Z.lgOrSmaller]:{paddingLeft:_styles_constants__WEBPACK_IMPORTED_MODULE_6__.hZ},[_styles_media_queries__WEBPACK_IMPORTED_MODULE_7__.Z.smOrSmaller]:{paddingLeft:0},":focus":{outline:"none"}},lastRenderedNewHint:{marginBottom:0,borderLeftColor:_styles_constants__WEBPACK_IMPORTED_MODULE_6__.Ke}}),__WEBPACK_DEFAULT_EXPORT__=HintRenderer;try{HintRenderer.displayName="HintRenderer",HintRenderer.__docgenInfo={description:"",displayName:"HintRenderer",props:{apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},hint:{defaultValue:null,description:"",name:"hint",required:!0,type:{name:"any"}},lastHint:{defaultValue:null,description:"",name:"lastHint",required:!1,type:{name:"boolean"}},lastRendered:{defaultValue:null,description:"",name:"lastRendered",required:!1,type:{name:"boolean"}},pos:{defaultValue:null,description:"",name:"pos",required:!0,type:{name:"number"}},totalHints:{defaultValue:null,description:"",name:"totalHints",required:!1,type:{name:"number"}},findExternalWidgets:{defaultValue:null,description:"",name:"findExternalWidgets",required:!1,type:{name:"any"}},linterContext:{defaultValue:{value:"PerseusLinter.linterContextDefault"},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/hint-renderer.tsx#HintRenderer"]={docgenInfo:HintRenderer.__docgenInfo,name:"HintRenderer",path:"packages/perseus/src/hint-renderer.tsx#HintRenderer"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/hints-renderer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_hint_renderer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/hint-renderer.tsx"),_perseus_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_styles_constants__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/styles/constants.ts"),_styles_media_queries__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/styles/media-queries.ts"),_styles_shared__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/perseus/src/styles/shared.ts"),_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/perseus/src/util.ts");class HintsRenderer extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_};state={isFinalHelpPage:!1};componentDidMount(){this._cacheHintImages()}UNSAFE_componentWillReceiveProps(nextProps){nextProps.hintsVisible-this.props.hintsVisible>1&&this.setState({isFinalHelpPage:!0})}componentDidUpdate(prevProps,prevState){underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.isEqual(prevProps.hints,this.props.hints)&&prevProps.hintsVisible===this.props.hintsVisible||this._cacheHintImages();const prevHintsVisible=prevProps.hintsVisible||0,nextHintsVisible=this.props.hintsVisible||0;if(prevHintsVisible<nextHintsVisible&&nextHintsVisible<=this.props.hints.length&&nextHintsVisible>=0){const pos=nextHintsVisible-1;react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs["hintRenderer"+pos]).focus()}}_hintsVisible=()=>null==this.props.hintsVisible||-1===this.props.hintsVisible?this.props.hints.length:this.props.hintsVisible;_cacheImagesInHint=hint=>{underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.each(hint.images,((data,src)=>{(new Image).src=_util__WEBPACK_IMPORTED_MODULE_12__.default.getRealImageUrl(src)}))};_cacheHintImages=()=>{this._hintsVisible()>0?underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.each(this.props.hints,this._cacheImagesInHint):this.props.hints.length>0&&this._cacheImagesInHint(this.props.hints[0])};getApiOptions=()=>({..._perseus_api__WEBPACK_IMPORTED_MODULE_8__._.defaults,...this.props.apiOptions,readOnly:!1});getSerializedState=()=>underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.times(this._hintsVisible(),(i=>this.refs["hintRenderer"+i].getSerializedState()));restoreSerializedState=(state,callback)=>{let numCallbacks=1;const fireCallback=()=>{--numCallbacks,callback&&0===numCallbacks&&callback()};underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.each(state,((hintState,i)=>{const hintRenderer=this.refs["hintRenderer"+i];hintRenderer&&(++numCallbacks,hintRenderer.restoreSerializedState(hintState,fireCallback))})),fireCallback()};render(){const apiOptions=this.getApiOptions(),hintsVisible=this._hintsVisible(),hints=[],isFinalHelpPage=this.state.isFinalHelpPage;this.props.hints.slice(0,hintsVisible).forEach(((hint,i)=>{const lastHint=i===this.props.hints.length-1&&!/\*\*/.test(hint.content),lastRendered=i===hintsVisible-1,renderer=react__WEBPACK_IMPORTED_MODULE_4__.createElement(_hint_renderer__WEBPACK_IMPORTED_MODULE_7__.Z,{lastHint,lastRendered,hint,pos:i,totalHints:this.props.hints.length,ref:"hintRenderer"+i,key:"hintRenderer"+i,apiOptions,findExternalWidgets:this.props.findExternalWidgets,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.fQ(this.props.linterContext,"hints["+i+"]")});isFinalHelpPage?hints.push(renderer):hint.replace&&hints.length>0?hints[hints.length-1]=renderer:hints.push(renderer)}));const{getAnotherHint}=apiOptions,showGetAnotherHint=getAnotherHint&&hintsVisible>0&&hintsVisible<this.props.hints.length,hintRatioCopy=`(${hintsVisible}/${this.props.hints.length})`,classNames=classnames__WEBPACK_IMPORTED_MODULE_3___default()(this.props.className,apiOptions.isMobile&&hintsVisible>0&&(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.mobileHintStylesHintsRenderer));return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:classNames},apiOptions.isMobile&&hintsVisible>0&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.mobileHintStylesHintTitle,_styles_shared__WEBPACK_IMPORTED_MODULE_11__.Z.responsiveLabel)},_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Hints")),hints,showGetAnotherHint&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("button",{rel:"button",className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.linkButton,styles.getAnotherHintButton,apiOptions.isMobile&&styles.mobileHintStylesGetAnotherHintButton),onClick:evt=>{evt.preventDefault(),evt.stopPropagation(),getAnotherHint&&getAnotherHint()}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.plusText,apiOptions.isMobile&&styles.mobileHintStylesPlusText)},"+"),react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.getAnotherHintText)},_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Get another hint")," ",hintRatioCopy)))}}const hintIndentation=_styles_constants__WEBPACK_IMPORTED_MODULE_9__.hZ+_styles_constants__WEBPACK_IMPORTED_MODULE_9__.eS,styles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({rendererMargins:{marginTop:_styles_constants__WEBPACK_IMPORTED_MODULE_9__.hZ},linkButton:{cursor:"pointer",border:"none",backgroundColor:"transparent",fontSize:"100%",fontFamily:"inherit",fontWeight:"bold",color:_styles_constants__WEBPACK_IMPORTED_MODULE_9__.Ke,padding:0,position:"relative"},plusText:{fontSize:20,position:"absolute",top:-3,left:0},getAnotherHintText:{marginLeft:16},mobileHintStylesHintsRenderer:{marginTop:4*_styles_constants__WEBPACK_IMPORTED_MODULE_9__.hZ,border:`solid ${_styles_constants__WEBPACK_IMPORTED_MODULE_9__.Yw}`,borderWidth:"1px 0 0 0",position:"relative",":before":{content:'""',display:"table",clear:"both"},":after":{content:'""',display:"table",clear:"both"}},mobileHintStylesHintTitle:{fontFamily:"inherit",fontStyle:"normal",fontWeight:"bold",color:_styles_constants__WEBPACK_IMPORTED_MODULE_9__.$I,paddingTop:_styles_constants__WEBPACK_IMPORTED_MODULE_9__.hZ,paddingBottom:1.5*_styles_constants__WEBPACK_IMPORTED_MODULE_9__.hZ,[_styles_media_queries__WEBPACK_IMPORTED_MODULE_10__.Z.lgOrSmaller]:{paddingLeft:0},[_styles_media_queries__WEBPACK_IMPORTED_MODULE_10__.Z.smOrSmaller]:{paddingLeft:hintIndentation}},getAnotherHintButton:{marginTop:1.5*_styles_constants__WEBPACK_IMPORTED_MODULE_9__.hZ},mobileHintStylesGetAnotherHintButton:{[_styles_media_queries__WEBPACK_IMPORTED_MODULE_10__.Z.lgOrSmaller]:{paddingLeft:0},[_styles_media_queries__WEBPACK_IMPORTED_MODULE_10__.Z.smOrSmaller]:{paddingLeft:hintIndentation}},mobileHintStylesPlusText:{[_styles_media_queries__WEBPACK_IMPORTED_MODULE_10__.Z.lgOrSmaller]:{left:0},[_styles_media_queries__WEBPACK_IMPORTED_MODULE_10__.Z.smOrSmaller]:{left:hintIndentation}}}),__WEBPACK_DEFAULT_EXPORT__=HintsRenderer;try{HintsRenderer.displayName="HintsRenderer",HintsRenderer.__docgenInfo={description:"",displayName:"HintsRenderer",props:{inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},analytics:{defaultValue:null,description:"",name:"analytics",required:!1,type:{name:"{ onAnalyticsEvent: AnalyticsEventHandlerFn; }"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!1,type:{name:"number"}},legacyPerseusLint:{defaultValue:null,description:"",name:"legacyPerseusLint",required:!1,type:{name:"readonly string[]"}},alwaysUpdate:{defaultValue:null,description:"",name:"alwaysUpdate",required:!1,type:{name:"boolean"}},findExternalWidgets:{defaultValue:null,description:"",name:"findExternalWidgets",required:!1,type:{name:"any"}},highlightedWidgets:{defaultValue:null,description:"",name:"highlightedWidgets",required:!1,type:{name:"readonly any[]"}},images:{defaultValue:null,description:"",name:"images",required:!1,type:{name:"{ [key: string]: PerseusImageDetail; }"}},onInteractWithWidget:{defaultValue:null,description:"",name:"onInteractWithWidget",required:!1,type:{name:"((id: string) => void)"}},onRender:{defaultValue:null,description:"",name:"onRender",required:!1,type:{name:"((node?: any) => void)"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},reviewMode:{defaultValue:null,description:"",name:"reviewMode",required:!1,type:{name:"boolean | null"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string"}},serializedState:{defaultValue:null,description:"",name:"serializedState",required:!1,type:{name:"any"}},onSerializedStateUpdated:{defaultValue:null,description:"",name:"onSerializedStateUpdated",required:!1,type:{name:"((serializedState: { [key: string]: any; }) => unknown)"}},linterContext:{defaultValue:{value:"PerseusLinter.linterContextDefault"},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},widgets:{defaultValue:null,description:"",name:"widgets",required:!1,type:{name:"{ [key: string]: PerseusWidget; }"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},hints:{defaultValue:null,description:"",name:"hints",required:!0,type:{name:"readonly any[]"}},hintsVisible:{defaultValue:null,description:"",name:"hintsVisible",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/hints-renderer.tsx#HintsRenderer"]={docgenInfo:HintsRenderer.__docgenInfo,name:"HintsRenderer",path:"packages/perseus/src/hints-renderer.tsx#HintsRenderer"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/icon-paths.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{iconCheck:()=>iconCheck,iconCheckMedium:()=>iconCheckMedium,iconChevronDown:()=>iconChevronDown,iconChevronRight:()=>iconChevronRight,iconCircle:()=>iconCircle,iconCircleArrowDown:()=>iconCircleArrowDown,iconCircleArrowUp:()=>iconCircleArrowUp,iconCircleThin:()=>iconCircleThin,iconDesktop:()=>iconDesktop,iconDropdownArrow:()=>iconDropdownArrow,iconExclamationSign:()=>iconExclamationSign,iconGear:()=>iconGear,iconMinus:()=>iconMinus,iconMobilePhone:()=>iconMobilePhone,iconOk:()=>iconOk,iconPlus:()=>iconPlus,iconRemove:()=>iconRemove,iconStar:()=>iconStar,iconTablet:()=>iconTablet,iconTrash:()=>iconTrash,iconTryAgain:()=>iconTryAgain,iconUndo:()=>iconUndo});const iconCheck={path:"M8.70710678,12.2928932 C8.31658249,11.9023689 7.68341751,11.9023689 7.29289322,12.2928932 C6.90236893,12.6834175 6.90236893,13.3165825 7.29289322,13.7071068 L9.82842712,16.2426407 C10.2207367,16.6349502 10.8574274,16.6328935 11.2471942,16.2380576 L16.7116603,10.7025237 C17.0996535,10.3094846 17.0955629,9.67633279 16.7025237,9.28833966 C16.3094846,8.90034653 15.6763328,8.90443714 15.2883397,9.29747629 L10.5309507,14.1167372 L8.70710678,12.2928932 Z",width:24,height:24},iconCheckMedium={path:"M6.072 10.4l6.175-7.058a1 1 0 1 1 1.506 1.317L6.769 12.64a1 1 0 0 1-1.55-.054L2.203 8.604a1 1 0 1 1 1.594-1.208L6.072 10.4z",width:16,height:16},iconChevronDown={path:"M99.669 13.048q0 3.36-2.352 5.712l-41.664 41.664q-2.408 2.408-5.88 2.408t-5.712-2.408l-41.664-41.664q-2.408-2.24-2.408-5.712t2.408-5.88l4.76-4.816q2.52-2.352 5.88-2.352t5.656 2.352l31.136 31.136 31.08-31.136q2.352-2.352 5.712-2.352t5.88 2.352l4.816 4.816q2.352 2.52 2.352 5.88z",width:100,height:63.034},iconChevronRight={path:"M62.808 49.728q0 3.36-2.352 5.88l-41.72 41.664q-2.352 2.408-5.768 2.408t-5.768-2.408l-4.872-4.76q-2.352-2.52-2.352-5.88t2.352-5.712l31.08-31.136-31.08-31.024q-2.352-2.52-2.352-5.88t2.352-5.712l4.872-4.76q2.296-2.408 5.768-2.408t5.768 2.408l41.72 41.664q2.352 2.296 2.352 5.656z",width:63.034,height:100},iconCircle={path:"M100.035 50.046q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowDown={path:"M50.046 83.676q1.767 0 2.907-1.14l29.526-29.526q1.197-1.197 1.197-2.907t-1.197-2.964l-5.928-5.928q-1.197-1.14-2.964-1.14t-2.907 1.14l-12.312 12.312l0-32.661q0-1.71-1.254-2.964t-2.907-1.254l-8.322 0q-1.71 0-2.964 1.254t-1.254 2.964l0 32.661l-12.312-12.312q-1.197-1.254-2.907-1.254t-2.907 1.254l-5.928 5.928q-1.197 1.197-1.197 2.964t1.197 2.907l29.469 29.526q1.197 1.14 2.964 1.14zm49.989-33.63q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowUp={path:"M54.207 83.391q1.653 0 2.907-1.254t1.254-2.907l0-32.718l12.312 12.312q1.254 1.254 2.964 1.254t2.907-1.254l5.928-5.928q1.197-1.197 1.14-2.964 0-1.767-1.14-2.907l-29.526-29.526q-1.197-1.14-2.907-1.14t-2.964 1.14l-29.469 29.526q-1.197 1.254-1.197 2.964t1.197 2.907l5.928 5.928q1.197 1.197 2.907 1.197t2.907-1.197l12.312-12.312l0 32.718q0 1.653 1.254 2.907t2.964 1.254l8.322 0zm45.828-33.345q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleThin={path:"M50.046 8.322q-8.493 0-16.188 3.306-15.561 6.669-22.173 22.23-3.363 7.695-3.363 16.188t3.306 16.188 8.949 13.281q5.586 5.586 13.281 8.892t16.188 3.306 16.188-3.306 13.281-8.892 8.892-13.281 3.306-16.188-3.306-16.188-8.892-13.281-13.281-8.949q-7.695-3.306-16.188-3.306zm0 91.713q-13.623 0-25.137-6.726t-18.183-18.183q-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.126q-11.514 6.726-25.08 6.726z",width:100,height:99.944},iconDesktop={path:"M94.208 52.119l0-43.746q0-.69-.506-1.15t-1.196-.506l-84.088 0q-.69 0-1.196.506t-.506 1.15l0 43.746q0 .69.506 1.196t1.196.506l84.088 0q.69 0 1.196-.506t.506-1.196zm6.716-43.746l0 57.224q0 3.45-2.484 5.934t-5.934 2.484l-28.566 0q0 3.128 2.53 7.774.828 1.61.828 2.622t-1.012 2.07q-1.012 1.012-2.346.966l-26.91 0q-1.38 0-2.392-1.012t-1.012-2.024q0-1.058 1.656-4.14t1.748-6.256l-28.612 0q-3.45 0-5.934-2.484t-2.484-5.934l0-57.224q0-3.45 2.484-5.934t5.934-2.438l84.088 0q3.45 0 5.98 2.438 2.438 2.484 2.438 5.934z",width:100,height:86.648},iconDropdownArrow={path:"M9 9.8c0 .5.7 1.7 1.5 2.8 1.5 1.9 1.5 1.9 3 0C15.7 9.7 15.4 9 12 9c-1.6 0-3 .4-3 .8z",width:24,height:24},iconExclamationSign={path:"M58.368 81.225l0-12.369q0-.912-.57-1.539t-1.425-.627l-12.54 0q-.855-.057-1.482.627t-.684 1.539l0 12.369q-.057.855.627 1.482t1.539.684l12.54 0q.855 0 1.425-.627t.57-1.539zm1.026-62.871q0-1.596-2.223-1.71l-14.307 0q-2.109 0-2.223 1.71l1.14 40.47q0 .627.627 1.14t1.539.456l12.084 0q.912-.057 1.539-.513t.684-1.083zm-9.348-18.354q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669z",width:100,height:99.944},iconGear={path:"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z",width:1792,height:1792},iconMobilePhone={path:"M36.04 89.557q0-2.584-1.836-4.42t-4.42-1.836-4.352 1.836q-1.836 1.836-1.836 4.42t1.836 4.352 4.42 1.836q2.652-.068 4.42-1.836t1.768-4.352zm16.184-12.444l0-54.74q0-1.088-.748-1.768t-1.768-.68l-39.78 0q-1.088 0-1.768.748t-.68 1.7l0 54.74q0 1.02.748 1.768t1.7.68l39.78 0q1.02-.068 1.768-.748t.748-1.7zm-14.892-65.892q0-1.224-1.292-1.292l-12.444 0q-1.224.068-1.224 1.292t1.224 1.224l12.444 0q1.292 0 1.292-1.224zm22.372-1.292l0 79.628q0 3.944-2.992 6.936t-7.004 2.992l-39.78 0q-4.012 0-7.004-2.924-2.924-2.924-2.924-7.004l0-79.628q0-4.012 2.924-6.936t7.004-2.992l39.78 0q4.012-.068 7.004 2.924t2.992 7.004z",width:60.013,height:100},iconOk={path:"M37.964 76.048q-2.576 0-4.368-1.792l-31.864-31.864q-1.792-1.792-1.792-4.368t1.792-4.368l8.736-8.68q1.792-1.792 4.368-1.792t4.312 1.792l18.816 18.872 42-42.056q1.792-1.792 4.368-1.792t4.312 1.792l8.736 8.736q1.792 1.792 1.792 4.368t-1.792 4.312l-55.048 55.048q-1.792 1.792-4.368 1.792z",width:100,height:76.637},iconPlus={path:"M99.758 43.09l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-29.45 0l0 29.45q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-29.45l-29.45 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l29.45 0l0-29.45q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836l0 29.45l29.45 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:100},iconRemove={path:"M100.464 80.808q0 3.404-2.368 5.772l-11.47 11.544q-2.368 2.368-5.772 2.368t-5.698-2.368l-24.864-24.864-24.864 24.864q-2.368 2.368-5.772 2.368t-5.772-2.368l-11.47-11.544q-2.368-2.368-2.368-5.772t2.368-5.698l24.864-24.864-24.864-24.864q-2.368-2.368-2.368-5.772t2.368-5.772l11.47-11.47q2.368-2.368 5.772-2.368t5.772 2.368l24.864 24.864 24.864-24.864q2.294-2.368 5.698-2.368t5.772 2.368l11.47 11.47q2.368 2.368 2.368 5.772t-2.368 5.772l-24.864 24.864 24.864 24.864q2.368 2.294 2.368 5.698z",width:100,height:100},iconStar={path:"M15.1052249,9.55978547 L22.0028147,9.55978545 C23.6568673,9.55978545 23.9349557,10.3753626 22.6181351,11.3858845 L16.9943688,15.7015366 L19.2518801,22.8294455 C19.7526645,24.4106317 19.0984455,24.8825885 17.769353,23.8673293 L12.0490577,19.4977438 L6.5116497,23.8422153 C5.20921411,24.8640642 4.53299569,24.4067544 5.00266927,22.8160582 L7.10332364,15.7015366 L1.42794544,11.3634306 C0.110226041,10.3562014 0.383967283,9.54239221 2.0409646,9.54574013 L8.9924676,9.55978547 L11.1485117,2.72669438 C11.6458693,1.15043244 12.4548928,1.15900049 12.9494787,2.72669438 L15.1052249,9.55978547 Z",width:24,height:24},iconTryAgain={path:"M3.74890556,17.9799506 C2.19251241,16.1970909 1.10103636,13.4971457 1.13090903,11.1491783 C1.17160478,7.95052637 4.01704076,0.865059407 11.7028044,0.865059407 C19.388568,0.865059407 22.3026521,7.35203035 22.3026521,11.5879453 C22.3026521,15.8238603 19.386629,20.5574509 13.6832464,21.7131548 L13.6757539,17.3722171 C17.0812986,16.2190517 18.331158,14.1944123 18.3311578,11.5879451 C18.3311574,8.16554692 15.6664205,5.03476549 11.7028048,5.20494205 C7.73918903,5.37511861 5.59244567,8.66930079 5.59244567,11.1491783 C5.59244567,12.9090077 6.11128139,14.1753512 6.93640437,15.3053215 L8.14052356,14.2949456 C8.98559348,13.5858477 9.6994861,13.9070448 9.73489556,15.0076413 L9.91284941,20.5388014 C9.94832683,21.6415103 9.09967118,22.3514475 8.02194403,22.1254594 L2.60571602,20.9897332 C1.5259204,20.7633114 1.34338662,19.9984207 2.18070755,19.295825 L3.74890556,17.9799506 Z",width:23,height:23},iconTablet={path:"M45.322 90.706q0-1.86-1.302-3.224-1.364-1.364-3.224-1.364t-3.224 1.364-1.302 3.224q0 1.86 1.364 3.224 1.302 1.364 3.162 1.302 1.86.062 3.224-1.302t1.302-3.224zm27.218-11.346l0-68.014q0-.93-.682-1.612t-1.55-.682l-58.962 0q-.93 0-1.612.682t-.682 1.612l0 68.014q0 .93.682 1.612t1.612.62l58.962 0q.992-.062 1.612-.682t.62-1.55zm9.114-68.014l0 77.066q0 4.65-3.348 7.998t-7.998 3.348l-58.962 0q-4.65 0-7.998-3.348t-3.348-7.998l0-77.066q0-4.65 3.348-7.998t7.998-3.348l58.962 0q4.65 0 7.998 3.348t3.348 7.998z",width:81.852,height:100},iconTrash={path:"M31.293 37.506q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.218 0q-.912-.057-1.482-.627t-.57-1.482l0-37.506q0-2.109 2.052-2.109l4.218 0zm18.753 2.109l0 37.506q0 .912-.57 1.482t-1.539.627l-4.161 0q-1.995 0-2.109-2.109l0-37.506q.057-.912.627-1.482t1.482-.627l4.161 0q.969.057 1.539.627t.57 1.482zm14.592-2.109q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.161 0q-.969-.057-1.539-.627t-.57-1.482l0-37.506q0-2.109 2.109-2.109l4.161 0zm10.431 49.248l0-61.731l-58.368 0l0 61.731q.057 2.679.969 3.819t1.083 1.14l54.207 0q.171 0 1.14-1.083t.969-3.876zm-43.776-70.11l29.184 0l-3.135-7.581q-.456-.57-1.14-.741l-20.634 0q-.627.114-1.083.741zm-31.293 2.109q0-1.995 2.109-2.109l20.121 0l4.56-10.83q.969-2.394 3.477-4.104 2.565-1.71 5.187-1.71l20.805 0q2.622 0 5.187 1.71t3.477 4.104l4.56 10.83l20.178 0q.912.057 1.482.627t.57 1.482l0 4.161q0 1.995-2.052 2.109l-6.27 0l0 61.731q0 5.415-3.078 9.348t-7.353 3.933l-54.207 0q-4.275 0-7.353-3.819t-3.078-9.177l0-62.016l-6.213 0q-.969 0-1.539-.57t-.57-1.539l0-4.161z",width:91.681,height:100},iconUndo={path:"M10,6.6C10,7.2,9.8,8,9.3,9.1c0,0,0,0.1-0.1,0.1S9.2,9.3,9.2,9.4c0,0,0,0.1-0.1,0.1C9,9.6,9,9.6,8.9,9.6 c-0.1,0-0.1,0-0.1-0.1c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1s0-0.1,0-0.1c0-0.3,0-0.5,0-0.7c0-0.4,0-0.7-0.1-1C8.6,7.1,8.5,6.9,8.4,6.7S8.2,6.3,8,6.1C7.8,5.9,7.6,5.8,7.4,5.7S6.9,5.5,6.7,5.5S6.1,5.4,5.8,5.4c-0.3,0-0.6,0-1,0H3.6v1.4c0,0.1,0,0.2-0.1,0.3C3.4,7.1,3.3,7.1,3.2,7.1C3.1,7.1,3,7.1,3,7L0.1,4.1C0,4.1,0,4,0,3.9s0-0.2,0.1-0.3L3,0.8C3,0.7,3.1,0.7,3.2,0.7c0.1,0,0.2,0,0.3,0.1C3.5,0.9,3.6,0.9,3.6,1v1.4h1.2c2.6,0,4.3,0.7,4.9,2.2C9.9,5.2,10,5.8,10,6.6z",width:10,height:10},iconMinus={path:"M8,13 L16,13 C16.5522847,13 17,12.5522847 17,12 C17,11.4477153 16.5522847,11 16,11 L8,11 C7.44771525,11 7,11.4477153 7,12 C7,12.5522847 7.44771525,13 8,13 Z",width:24,height:24}},"./packages/perseus/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_E:()=>perseus_api._,B7:()=>arrow_picker,Zp:()=>base_radio.Z,Cx:()=>categorizer.Z,ye:()=>changeable,ms:()=>perseus_api.m,zH:()=>color_picker,Nx:()=>dash_picker,Dependencies:()=>dependencies,yU:()=>editor_jsonify,F7:()=>element_container,D1:()=>log.D,A2:()=>expression.A,GrapherUtil:()=>util,AE:()=>grapher.Z,Gl:()=>interactive_graph.Z,vW:()=>perseus_types.vW,eA:()=>colors.Z,TR:()=>math.ZP,Zb:()=>log.Z,x7:()=>matrix.Z,MultiItems:()=>multi_items,uI:()=>perseus_error.u,v5:()=>perseus_types.v5,ZU:()=>perseus_markdown.Z,YD:()=>plotter.Z,Th:()=>renderer.Z,UT:()=>server_item_renderer.Z,SizingUtils:()=>sizing_utils,dm:()=>table.Z,Util:()=>src_util.default,WJ:()=>widget_prop_denylist.Z,E:()=>widget_jsonify_deprecated.Z,Cu:()=>widgets,o:()=>buildEmptyItemTreeForShape,f_:()=>buildMapper,components:()=>components_namespaceObject,constants:()=>constants_namespaceObject,Md:()=>sigfigs.M,w_:()=>global_constants,globalStyles:()=>global_styles,icons:()=>icon_paths,Yu:()=>constants.interactiveSizes,rz:()=>itemDataVersion,uJ:()=>itemToTree,KT:()=>perseus_types.KT,F9:()=>katex_preprocess.Z,JZ:()=>shapes.Z,fw:()=>traversal_traverse,DA:()=>all_widgets.Z});var components_namespaceObject={};__webpack_require__.r(components_namespaceObject),__webpack_require__.d(components_namespaceObject,{ButtonGroup:()=>button_group.Z,Graphie:()=>graphie.default,HUD:()=>hud.Z,Icon:()=>icon.Z,InfoTip:()=>info_tip.Z,InlineIcon:()=>inline_icon.Z,MultiButtonGroup:()=>multi_button_group.Z,NumberInput:()=>number_input.Z,PropCheckBox:()=>prop_check_box.Z,RangeInput:()=>range_input.Z,SvgImage:()=>svg_image.Z,TextInput:()=>text_input.Z,TextListEditor:()=>text_list_editor.Z});var constants_namespaceObject={};__webpack_require__.r(constants_namespaceObject),__webpack_require__.d(constants_namespaceObject,{devices:()=>devices,F:()=>lintGutterWidth,n:()=>perseusFrameBorderWidth});__webpack_require__("./packages/perseus/src/basic-widgets.ts"),__webpack_require__("./packages/perseus/src/extra-widgets.ts");var widgets=__webpack_require__("./packages/perseus/src/widgets.ts");var perseus_api=__webpack_require__("./packages/perseus/src/perseus-api.tsx");(0,__webpack_require__("./packages/perseus-core/src/index.ts").C)("@khanacademy/perseus","__lib_version__");const itemDataVersion={major:0,minor:1};var all_widgets=__webpack_require__("./packages/perseus/src/all-widgets.ts");widgets.registerWidgets(all_widgets.Z);const ItemVersion=widgets.getVersionVector();ItemVersion["::renderer::"]=itemDataVersion;__webpack_require__("./packages/perseus/src/article-renderer.tsx");var server_item_renderer=__webpack_require__("./packages/perseus/src/server-item-renderer.tsx"),hints_renderer=__webpack_require__("./packages/perseus/src/hints-renderer.tsx"),renderer=(__webpack_require__("./packages/perseus/src/hint-renderer.tsx"),__webpack_require__("./packages/perseus/src/renderer.tsx")),expression=__webpack_require__("./packages/perseus/src/widgets/expression.tsx"),base_radio=(__webpack_require__("./packages/perseus/src/widgets/input-number.tsx"),__webpack_require__("./packages/perseus/src/widgets/numeric-input.tsx"),__webpack_require__("./packages/perseus/src/widgets/radio.ts"),__webpack_require__("./packages/perseus/src/widgets/radio/base-radio.tsx")),categorizer=__webpack_require__("./packages/perseus/src/widgets/categorizer.tsx"),interactive_graph=__webpack_require__("./packages/perseus/src/widgets/interactive-graph.tsx"),matrix=__webpack_require__("./packages/perseus/src/widgets/matrix.tsx"),table=__webpack_require__("./packages/perseus/src/widgets/table.tsx"),plotter=__webpack_require__("./packages/perseus/src/widgets/plotter.tsx"),grapher=__webpack_require__("./packages/perseus/src/widgets/grapher.tsx"),react=__webpack_require__("./node_modules/react/index.js"),button_group=__webpack_require__("./packages/perseus/src/components/button-group.tsx");class ArrowPicker extends react.Component{static defaultProps={value:""};render(){return react.createElement(button_group.Z,{value:this.props.value,allowEmpty:!1,buttons:[{value:"",content:react.createElement("span",null,"—")},{value:"->",content:react.createElement("span",null,"→")}],onChange:this.props.onChange})}}const arrow_picker=ArrowPicker;try{ArrowPicker.displayName="ArrowPicker",ArrowPicker.__docgenInfo={description:"",displayName:"ArrowPicker",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(values: { [key: string]: any; }, callback?: (() => unknown) | null | undefined, silent?: boolean | undefined) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/interaction/arrow-picker.tsx#ArrowPicker"]={docgenInfo:ArrowPicker.__docgenInfo,name:"ArrowPicker",path:"packages/perseus/src/widgets/interaction/arrow-picker.tsx#ArrowPicker"})}catch(__react_docgen_typescript_loader_error){}var index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),colors=__webpack_require__("./packages/perseus/src/util/colors.ts");const COLORS=[colors.Z.BLACK,colors.Z.BLUE,colors.Z.GREEN,colors.Z.PINK,colors.Z.PURPLE,colors.Z.RED,colors.Z.GRAY],LIGHT_COLORS=[colors.Z.LIGHT_BLUE,colors.Z.LIGHT_ORANGE,colors.Z.LIGHT_PINK,colors.Z.LIGHT_GREEN,colors.Z.LIGHT_PURPLE,colors.Z.LIGHT_RED,"#fff"];class ColorPicker extends react.Component{static defaultProps={value:colors.Z.BLACK,lightColors:!1};render(){const colors=this.props.lightColors?LIGHT_COLORS:COLORS;return react.createElement(button_group.Z,{value:this.props.value,allowEmpty:!1,buttons:index_all.ZP.map(colors,(color=>({value:color,content:react.createElement("span",null,react.createElement("span",{className:"colorpicker-circle",style:{background:color}})," ")}))),onChange:this.props.onChange})}}const color_picker=ColorPicker;try{ColorPicker.displayName="ColorPicker",ColorPicker.__docgenInfo={description:"",displayName:"ColorPicker",props:{lightColors:{defaultValue:{value:"false"},description:"",name:"lightColors",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:"black"},description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(values: { [key: string]: any; }, callback?: (() => unknown) | null | undefined, silent?: boolean | undefined) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/interaction/color-picker.tsx#ColorPicker"]={docgenInfo:ColorPicker.__docgenInfo,name:"ColorPicker",path:"packages/perseus/src/widgets/interaction/color-picker.tsx#ColorPicker"})}catch(__react_docgen_typescript_loader_error){}class DashPicker extends react.Component{static defaultProps={value:""};render(){return react.createElement(button_group.Z,{value:this.props.value,allowEmpty:!1,buttons:[{value:"",content:react.createElement("span",null,"—")},{value:"-",content:react.createElement("span",null,"–––")},{value:"- ",content:react.createElement("span",null,"–  –")},{value:".",content:react.createElement("span",null,"····")},{value:". ",content:react.createElement("span",null,"· · ·")}],onChange:this.props.onChange})}}const dash_picker=DashPicker;try{DashPicker.displayName="DashPicker",DashPicker.__docgenInfo={description:"",displayName:"DashPicker",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(values: { [key: string]: any; }, callback?: (() => unknown) | null | undefined, silent?: boolean | undefined) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/interaction/dash-picker.tsx#DashPicker"]={docgenInfo:DashPicker.__docgenInfo,name:"DashPicker",path:"packages/perseus/src/widgets/interaction/dash-picker.tsx#DashPicker"})}catch(__react_docgen_typescript_loader_error){}var inline_icon=__webpack_require__("./packages/perseus/src/components/inline-icon.tsx"),icon_paths=__webpack_require__("./packages/perseus/src/icon-paths.ts");class ElementContainer extends react.Component{static defaultProps={initiallyVisible:!1,title:"More"};constructor(props){super(props),this.state={show:props.initiallyVisible}}toggle=e=>{e.preventDefault(),this.setState({show:!this.state.show})};render(){return react.createElement("div",{className:"perseus-interaction-element"},react.createElement("a",{href:"#",className:"perseus-interaction-element-title "+(this.state.show?"open":"closed"),onClick:this.toggle},this.state.show?react.createElement(inline_icon.Z,icon_paths.iconChevronDown):react.createElement(inline_icon.Z,icon_paths.iconChevronRight),this.props.title),react.createElement("div",{className:"perseus-interaction-element-content "+(this.state.show?"enter":"leave")},this.props.children,(null!=this.props.onUp||null!=this.props.onDown||null!=this.props.onDelete)&&react.createElement("div",{className:"edit-controls"},null!=this.props.onUp&&react.createElement("button",{onClick:this.props.onUp},react.createElement(inline_icon.Z,icon_paths.iconCircleArrowUp)),null!=this.props.onDown&&react.createElement("button",{onClick:this.props.onDown},react.createElement(inline_icon.Z,icon_paths.iconCircleArrowDown)),null!=this.props.onDelete&&react.createElement("button",{onClick:this.props.onDelete},react.createElement(inline_icon.Z,icon_paths.iconTrash)))))}}const element_container=ElementContainer;try{ElementContainer.displayName="ElementContainer",ElementContainer.__docgenInfo={description:"",displayName:"ElementContainer",props:{initiallyVisible:{defaultValue:{value:"false"},description:"",name:"initiallyVisible",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"(() => void | null)"}},onDown:{defaultValue:null,description:"",name:"onDown",required:!1,type:{name:"(() => void | null)"}},onUp:{defaultValue:null,description:"",name:"onUp",required:!1,type:{name:"(() => void | null)"}},title:{defaultValue:{value:"More"},description:"",name:"title",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/interaction/element-container.tsx#ElementContainer"]={docgenInfo:ElementContainer.__docgenInfo,name:"ElementContainer",path:"packages/perseus/src/widgets/interaction/element-container.tsx#ElementContainer"})}catch(__react_docgen_typescript_loader_error){}var util=__webpack_require__("./packages/perseus/src/widgets/grapher/util.tsx"),graphie=(__webpack_require__("./packages/perseus/src/components/graph.tsx"),__webpack_require__("./packages/perseus/src/components/graphie.tsx")),hud=__webpack_require__("./packages/perseus/src/components/hud.tsx"),icon=__webpack_require__("./packages/perseus/src/components/icon.tsx"),info_tip=__webpack_require__("./packages/perseus/src/components/info-tip.tsx"),multi_button_group=(__webpack_require__("./packages/perseus/src/components/math-input.tsx"),__webpack_require__("./packages/perseus/src/components/multi-button-group.tsx")),number_input=__webpack_require__("./packages/perseus/src/components/number-input.tsx"),prop_check_box=__webpack_require__("./packages/perseus/src/components/prop-check-box.tsx"),range_input=__webpack_require__("./packages/perseus/src/components/range-input.tsx"),svg_image=__webpack_require__("./packages/perseus/src/components/svg-image.tsx"),text_input=__webpack_require__("./packages/perseus/src/components/text-input.tsx"),text_list_editor=__webpack_require__("./packages/perseus/src/components/text-list-editor.tsx");const devices={PHONE:"phone",TABLET:"tablet",DESKTOP:"desktop"},lintGutterWidth=36,perseusFrameBorderWidth=1;var global_styles=__webpack_require__("./packages/perseus/src/styles/global-styles.ts"),global_constants=__webpack_require__("./packages/perseus/src/styles/global-constants.ts"),dependencies=__webpack_require__("./packages/perseus/src/dependencies.ts"),log=__webpack_require__("./packages/perseus/src/logging/log.ts"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts"),math=(__webpack_require__("./packages/perseus/src/jipt-paragraphs.ts"),__webpack_require__("./packages/perseus/src/util/math.ts")),perseus_markdown=(__webpack_require__("./packages/perseus/src/loading-context.ts"),__webpack_require__("./packages/perseus/src/styles/media-queries.ts"),__webpack_require__("./packages/perseus/src/perseus-markdown.tsx")),perseus_types=__webpack_require__("./packages/perseus/src/perseus-types.ts"),objective_=__webpack_require__("./packages/perseus/src/interactive2/objective_.ts");const noop=function(){},traverseRenderer=function(rendererOptions,contentCallback,deepWidgetCallback,optionsCallback){let newContent=rendererOptions.content;if(null!=rendererOptions.content){const modifiedContent=contentCallback(rendererOptions.content);void 0!==modifiedContent&&(newContent=modifiedContent)}const newWidgets=objective_.default.mapObject(rendererOptions.widgets||{},(function(widgetInfo,widgetId){return null==widgetInfo||null==widgetInfo.type?widgetInfo:deepWidgetCallback(widgetInfo,widgetId)})),newOptions=index_all.ZP.extend({},rendererOptions,{content:newContent,widgets:newWidgets}),userOptions=optionsCallback(newOptions);return void 0!==userOptions?userOptions:newOptions},traversal_traverse=function(rendererOptions,contentCallback,widgetCallback,optionsCallback){return traverseRenderer(rendererOptions,contentCallback=contentCallback||noop,function(contentCallback,widgetCallback,optionsCallback){const deepCallback=function(widgetInfo,widgetId){const upgradedWidgetInfo=widgets.upgradeWidgetInfoToLatestVersion(widgetInfo),latestVersion=widgets.getVersion(upgradedWidgetInfo.type);let newWidgetInfo;newWidgetInfo=latestVersion&&upgradedWidgetInfo.version?.major===latestVersion.major?widgets.traverseChildWidgets(upgradedWidgetInfo,(rendererOptions=>traverseRenderer(rendererOptions,contentCallback,deepCallback,optionsCallback))):upgradedWidgetInfo;const userWidgetInfo=widgetCallback(newWidgetInfo,widgetId);return void 0!==userWidgetInfo?userWidgetInfo:newWidgetInfo};return deepCallback}(contentCallback,widgetCallback=widgetCallback||noop,optionsCallback=optionsCallback||noop),optionsCallback)};var shapes=__webpack_require__("./packages/perseus/src/multi-items/shapes.ts");class TreeMapperJustForLeaves{constructor(content,hint,tags){this.content=content,this.hint=hint,this.tags=tags,this.array=identity}setContentMapper(newContentMapper){return new TreeMapperJustForLeaves(newContentMapper,this.hint,this.tags)}setHintMapper(newHintMapper){return new TreeMapperJustForLeaves(this.content,newHintMapper,this.tags)}setTagsMapper(newTagsMapper){return new TreeMapperJustForLeaves(this.content,this.hint,newTagsMapper)}setArrayMapper(newArrayMapper){return new TreeMapperForLeavesAndCollections(this.content,this.hint,this.tags,newArrayMapper)}mapTree(tree,shape){return mapTree(tree,shape,[],this)}}class TreeMapperForLeavesAndCollections{constructor(content,hint,tags,array){this.content=content,this.hint=hint,this.tags=tags,this.array=array}setArrayMapper(newArrayMapper){return new TreeMapperForLeavesAndCollections(this.content,this.hint,this.tags,newArrayMapper)}mapTree(tree,shape){return mapTree(tree,shape,[],this)}}function identity(x){return x}function buildMapper(){return new TreeMapperJustForLeaves(identity,identity,identity)}function mapTree(tree,shape,path,mappers){if("content"===shape.type){const content=tree;return mappers.content(content,shape,path)}if("hint"===shape.type){const hint=tree;return mappers.hint(hint,shape,path)}if("tags"===shape.type){const tags=tree;return mappers.tags(tags,shape,path)}if("array"===shape.type){const array=tree;if(!Array.isArray(array))throw new perseus_error.u(`Invalid object of type "${typeof array}" found at path ${["<root>"].concat(path).join(".")}. Expected array.`,log.D.Internal);const elementShape=shape.elementShape,mappedElements=array.map(((inner,i)=>mapTree(inner,elementShape,path.concat(i),mappers)));return mappers.array(mappedElements,array,shape,path)}if("object"===shape.type){const object=tree;if(object&&"object"!=typeof object)throw new perseus_error.u(`Invalid object of type "${typeof object}" found at path ${["<root>"].concat(path).join(".")}. Expected "object" type.`,log.D.InvalidInput);const valueShapes=shape.shape;if(!valueShapes)throw new perseus_error.u(`Unexpected shape ${JSON.stringify(shape)} at path ${["<root>"].concat(path).join(".")}.`,log.D.InvalidInput);const newObject={};return Object.keys(valueShapes).forEach((key=>{if(!(key in object))throw new perseus_error.u(`Key "${key}" is missing from shape at path ${["<root>"].concat(path).join(".")}.`,log.D.InvalidInput);newObject[key]=mapTree(object[key],valueShapes[key],path.concat(key),mappers)})),newObject}throw new perseus_error.u(`unexpected shape type ${shape.type}`,log.D.InvalidInput)}function buildEmptyItemTreeForShape(shape){if("content"===shape.type)return{__type:"content",content:"",images:{},widgets:{}};if("hint"===shape.type)return{__type:"hint",replace:!1,content:"",images:{},widgets:{}};if("tags"===shape.type)return[];if("array"===shape.type)return[];if("object"===shape.type){const valueShapes=shape.shape,object={};return Object.keys(valueShapes).forEach((key=>{object[key]=buildEmptyItemTreeForShape(valueShapes[key])})),object}throw new perseus_error.u(`unexpected shape type ${shape.type}`,log.D.InvalidInput)}function inferItemTreeShape(node){if(Array.isArray(node))return node.length?"string"==typeof node[0]?shapes.Z.tags:shapes.Z.arrayOf(inferItemTreeShape(node[0])):shapes.Z.arrayOf(shapes.Z.content);if("object"==typeof node&&("content"===node.__type||"item"===node.__type))return shapes.Z.content;if("object"==typeof node&&"hint"===node.__type)return shapes.Z.hint;if("object"==typeof node){const valueShapes={};return Object.keys(node).forEach((key=>{valueShapes[key]=inferItemTreeShape(node[key])})),shapes.Z.shape(valueShapes)}throw new perseus_error.u(`unexpected multi-item node ${JSON.stringify(node)}`,log.D.InvalidInput)}function itemToTree(item){return item._multi}var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),hubble=__webpack_require__("./vendor/hubble/hubble.js"),src_util=__webpack_require__("./packages/perseus/src/util.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}class MultiRenderer extends react.Component{constructor(props){super(props),this.rendererDataTreeMapper=buildMapper().setContentMapper(((c,_,p)=>this._makeContentRendererData(c,p))).setHintMapper((h=>this._makeHintRendererData(h))).setTagsMapper((t=>null)),this.getRenderersMapper=buildMapper().setContentMapper((c=>c.makeRenderer())).setHintMapper((h=>h.makeRenderer())).setArrayMapper(((renderers,data,shape)=>this._annotateRendererArray(renderers,data,shape))),this.state=this._tryMakeRendererState(this.props)}UNSAFE_componentWillReceiveProps(nextProps){nextProps.item!==this.props.item&&this.setState(this._tryMakeRendererState(nextProps))}_tryMakeRendererState(props){try{return{rendererDataTree:this._makeRendererDataTree(props.item,props.shape),renderError:null}}catch(e){return log.Z.error("Error building tree state",log.D.Internal,{cause:e}),{rendererDataTree:null,renderError:e}}}_handleSerializedStateUpdated=(path,newState)=>{const{onSerializedStateUpdated}=this.props;if(onSerializedStateUpdated){const oldState=this._getSerializedState(this.props.serializedState);onSerializedStateUpdated((0,hubble.Z)(oldState).set(path,newState).freeze())}};_getRendererProps(){const{item:_,children:__,shape:___,serializedState:____,onSerializedStateUpdated:_____,...otherProps}=this.props;return otherProps}_makeContentRendererData(content,path){const data={ref:null,makeRenderer:null},refFunc=e=>data.ref=e,findExternalWidgets=criterion=>this._findWidgets(data,criterion),handleSerializedState=state=>this._handleSerializedStateUpdated(path,state);return data.makeRenderer=()=>react.createElement(renderer.Z,_extends({},this._getRendererProps(),content,{ref:refFunc,findExternalWidgets,serializedState:this.props.serializedState?(0,hubble.Z)(this.props.serializedState).get(path):null,onSerializedStateUpdated:handleSerializedState})),data}_makeHintRendererData(hint){const findExternalWidgets=criterion=>this._findWidgets({},criterion);return{hint,findExternalWidgets,ref:null,makeRenderer:()=>react.createElement(hints_renderer.Z,_extends({},this._getRendererProps(),{findExternalWidgets,hints:[hint]}))}}_makeRendererDataTree(item,shape){const itemTree=itemToTree(item);return this.rendererDataTreeMapper.mapTree(itemTree,shape)}_findWidgets(callingData,filterCriterion){const results=[];return this._mapRenderers((data=>{callingData!==data&&data.ref&&results.push(...data.ref.findInternalWidgets(filterCriterion))})),results}_mapRenderers(leafMapper){const{rendererDataTree}=this.state;if(!rendererDataTree)return null;return buildMapper().setContentMapper(leafMapper).setHintMapper(leafMapper).mapTree(rendererDataTree,this.props.shape)}_scoreFromRef(ref){if(!ref)return null;const[guess,score]=ref.guessAndScore();let state;return ref.getSerializedState&&(state=ref.getSerializedState()),src_util.default.keScoreFromPerseusScore(score,guess,state)}getScores(){return this._mapRenderers((data=>this._scoreFromRef(data.ref)))}score(){const scores=[],state=[],guess=this._mapRenderers((data=>data.ref?(data.ref.getSerializedState&&state.push(data.ref.getSerializedState()),scores.push(data.ref.score()),data.ref?.getUserInput()):null)),combinedScore=scores.reduce(src_util.default.combineScores);return src_util.default.keScoreFromPerseusScore(combinedScore,guess,state)}_getSerializedState(lastSerializedState){return this._mapRenderers(((data,_,path)=>data.ref?data.ref.getSerializedState():lastSerializedState?(0,hubble.Z)(lastSerializedState).get(path):null))}restoreSerializedState(serializedState,callback){let numCallbacks=0;const countCallback=()=>{numCallbacks--,callback&&0===numCallbacks&&callback()};this._mapRenderers(((data,_,path)=>{if(!data.ref)return;const state=(0,hubble.Z)(serializedState).get(path);state&&(numCallbacks++,data.ref?.restoreSerializedState(state,countCallback))}))}_annotateRendererArray(renderers,rendererDatas,shape){if("hint"===shape.elementShape.type){const hintRendererDatas=rendererDatas;(renderers=[...renderers]).firstN=n=>react.createElement(hints_renderer.Z,_extends({},this._getRendererProps(),{findExternalWidgets:hintRendererDatas[0]?hintRendererDatas[0].findExternalWidgets:void 0,hints:hintRendererDatas.map((d=>d.hint)),hintsVisible:n}))}return renderers}_getRenderers(){return this.getRenderersMapper.mapTree(this.state.rendererDataTree,this.props.shape)}render(){return this.state.renderError?react.createElement("div",{className:(0,lib.css)(styles.error)},es.$_("Error rendering: %(error)s",{error:String(this.state.renderError)})):react.createElement(dependencies.DependenciesContext.Provider,{value:this.props.dependencies},this.props.children({renderers:this._getRenderers()}))}}const styles=lib.StyleSheet.create({error:{color:"red"}}),multi_renderer=MultiRenderer;try{MultiRenderer.displayName="MultiRenderer",MultiRenderer.__docgenInfo={description:"",displayName:"MultiRenderer",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}},shape:{defaultValue:null,description:"",name:"shape",required:!0,type:{name:"Shape"}},serializedState:{defaultValue:null,description:"",name:"serializedState",required:!1,type:{name:"any"}},onSerializedStateUpdated:{defaultValue:null,description:"",name:"onSerializedStateUpdated",required:!1,type:{name:"((state: any) => void)"}},onInteractWithWidget:{defaultValue:null,description:"",name:"onInteractWithWidget",required:!1,type:{name:"((id: string) => void)"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},reviewMode:{defaultValue:null,description:"",name:"reviewMode",required:!1,type:{name:"boolean | null"}},dependencies:{defaultValue:null,description:"",name:"dependencies",required:!0,type:{name:"PerseusDependenciesV2"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/multi-items/multi-renderer.tsx#MultiRenderer"]={docgenInfo:MultiRenderer.__docgenInfo,name:"MultiRenderer",path:"packages/perseus/src/multi-items/multi-renderer.tsx#MultiRenderer"})}catch(__react_docgen_typescript_loader_error){}var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);function buildTreePropTypeForShape(shape){if("content"===shape.type)return prop_types_default().shape({__type:prop_types_default().oneOf(["content","item"]).isRequired,content:prop_types_default().string,images:prop_types_default().objectOf(prop_types_default().any),widgets:prop_types_default().objectOf(prop_types_default().any)});if("hint"===shape.type)return prop_types_default().shape({__type:prop_types_default().oneOf(["hint"]).isRequired,content:prop_types_default().string,images:prop_types_default().objectOf(prop_types_default().any),widgets:prop_types_default().objectOf(prop_types_default().any),replace:prop_types_default().bool});if("tags"===shape.type)return prop_types_default().arrayOf(prop_types_default().string.isRequired);if("array"===shape.type){const elementPropType=buildTreePropTypeForShape(shape.elementShape);return prop_types_default().arrayOf(elementPropType.isRequired)}if("object"===shape.type){const valueShapes=shape.shape,propTypeShape={};return Object.keys(valueShapes).forEach((key=>{propTypeShape[key]=buildTreePropTypeForShape(valueShapes[key]).isRequired})),prop_types_default().shape(propTypeShape)}throw new perseus_error.u(`unexpected shape type ${shape.type}`,log.D.InvalidInput)}const multi_items={MultiRenderer:multi_renderer,shapes:shapes.Z,buildPropTypeForShape:function buildPropTypeForShape(shape){return prop_types_default().oneOfType([prop_types_default().shape({_multi:buildTreePropTypeForShape(shape)}),prop_types_default().oneOf([null,void 0])])},buildEmptyItemForShape:function buildEmptyItemForShape(shape){return function treeToItem(node){return{_multi:node}}(buildEmptyItemTreeForShape(shape))},findContentNodesInItem:function findContentNodesInItem(item,shape,callback){const itemTree=itemToTree(item);buildMapper().setContentMapper(callback).mapTree(itemTree,shape)},findHintNodesInItem:function findHintNodesInItem(item,shape,callback){const itemTree=itemToTree(item);buildMapper().setHintMapper(callback).mapTree(itemTree,shape)},inferItemShape:function inferItemShape(item){return inferItemTreeShape(itemToTree(item))}},{findContentNodesInItem:renderability_findContentNodesInItem,inferItemShape:renderability_inferItemShape}=multi_items,{findContentNodesInItem:a11y_findContentNodesInItem,inferItemShape:a11y_inferItemShape}=multi_items;var constants=__webpack_require__("./packages/perseus/src/styles/constants.ts"),sigfigs=__webpack_require__("./packages/perseus/src/sigfigs.ts"),katex_preprocess=__webpack_require__("./packages/perseus/src/util/katex-preprocess.ts"),sizing_utils=(__webpack_require__("./packages/perseus/src/util/register-all-widgets-for-testing.ts"),__webpack_require__("./packages/perseus/src/util/sizing-utils.ts"));__webpack_require__("./node_modules/@khanacademy/wonder-stuff-core/dist/browser/es/index.js");var changeable=__webpack_require__("./packages/perseus/src/mixins/changeable.ts"),widget_prop_denylist=__webpack_require__("./packages/perseus/src/mixins/widget-prop-denylist.ts");const editor_jsonify={serialize:function(){return index_all.ZP.omit(this.props,widget_prop_denylist.Z)}};var widget_jsonify_deprecated=__webpack_require__("./packages/perseus/src/mixins/widget-jsonify-deprecated.ts")},"./packages/perseus/src/interactive2.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>interactive2});var src=__webpack_require__("./packages/kmath/src/index.ts"),jquery=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),log=__webpack_require__("./packages/perseus/src/logging/log.ts"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts"),interactive_util=__webpack_require__("./packages/perseus/src/interactive2/interactive-util.ts");const normalizeOptions=interactive_util.default.normalizeOptions,assert=interactive_util.default.assert,DEFAULT_PROPS={cursor:null},DEFAULT_STATE={added:!1,isHovering:!1,isMouseOver:!1,isDragging:!1,mouseTarget:null};class Movable{_listenerMap={};constructor(graphie,options){this.graphie=graphie,this.state={id:index_all.ZP.uniqueId("movable")},this.modify({...DEFAULT_STATE,...options})}modify(options){this.update({...this._createDefaultState(),...options})}_createDefaultState(){return{id:this.state.id,add:[],modify:[],draw:[],remove:[],onMoveStart:[],onMove:[],onMoveEnd:[],onClick:[],...DEFAULT_PROPS}}update(options){const graphie=this.graphie,prevState=this.cloneState(),state=Object.assign(this.state,normalizeOptions(options));if(state.mouseTarget&&!prevState.mouseTarget){let $mouseTarget;$mouseTarget=state.mouseTarget.getMouseTarget?jquery_default()(state.mouseTarget.getMouseTarget()):jquery_default()(state.mouseTarget[0]);!("ontouchstart"in window)&&($mouseTarget.on("vmouseover",(()=>{state.isMouseOver=!0,graphie.isDragging||(state.isHovering=!0),this.state.added&&this.draw()})),$mouseTarget.on("vmouseout",(()=>{state.isMouseOver=!1,state.isDragging||(state.isHovering=!1),this.state.added&&this.draw()}))),$mouseTarget[0].addEventListener("touchstart",(function(event){event.preventDefault()}),{passive:!1}),$mouseTarget.on("vmousedown",(e=>{if(0!==e.which&&1!==e.which)return;e.preventDefault();const mouseCoord=graphie.getMouseCoord(e);this.grab(mouseCoord)}))}if(state.mouseTarget&&void 0!==state.cursor){let $mouseTarget;$mouseTarget=state.mouseTarget.getMouseTarget?jquery_default()(state.mouseTarget.getMouseTarget()):jquery_default()(state.mouseTarget[0]),$mouseTarget.css("cursor",state.cursor||"")}state.added||(this._fireEvent(state.modify,this.cloneState(),{}),state.added=!0,this.prevState=this.cloneState()),this._fireEvent(state.modify,this.cloneState(),this.prevState)}cloneState(){return{...this.state}}_fireEvent(listeners){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];if(null!=listeners)for(const listener of listeners)listener.call(this,...args)}draw(){const currState=this.cloneState();this._fireEvent(this.state.draw,currState,this.prevState),this.prevState=currState}grab(coord){assert(src.xm.is(coord));const graphie=this.graphie,state=this.state;state.isHovering=!0,state.isDragging=!0,graphie.isDragging=!0;const startMouseCoord=coord;let prevMouseCoord=startMouseCoord;this._fireEvent(state.onMoveStart,startMouseCoord,startMouseCoord);const moveHandler=e=>{e.preventDefault();const mouseCoord=graphie.getMouseCoord(e);this._fireEvent(state.onMove,mouseCoord,prevMouseCoord),this.draw(),prevMouseCoord=mouseCoord},upHandler=()=>{jquery_default()(document).unbind("vmousemove",moveHandler),jquery_default()(document).unbind("vmouseup",upHandler),state.isHovering&&this._fireEvent(state.onClick,prevMouseCoord,startMouseCoord),state.isHovering=this.state.isMouseOver,state.isDragging=!1,graphie.isDragging=!1,this._fireEvent(state.onMoveEnd,prevMouseCoord,startMouseCoord),this.draw()};jquery_default()(document).bind("vmousemove",moveHandler),jquery_default()(document).bind("vmouseup",upHandler)}_applyConstraints(current,previous,extraOptions){let skipRemaining=!1;return(this.state.constraints??[]).reduce(((memo,constraint)=>{if(!1===memo)return!1;if(skipRemaining)return memo;const result=constraint.call(this,memo,previous,{onSkipRemaining:()=>{skipRemaining=!0},...extraOptions});if(!1===result)return!1;if(src.xm.is(result,2))return result;if(!0===result||null==result)return memo;throw new perseus_error.u("Constraint returned invalid result: "+result,log.D.Internal)}),current)}toBack(){this.state.mouseTarget&&this.state.mouseTarget.toBack()}toFront(){this.state.mouseTarget&&this.state.mouseTarget.toFront()}listen(eventName,id,func){this._listenerMap=this._listenerMap||{};const key=getKey(eventName,id),index=this._listenerMap[key]=this._listenerMap[key]||this.state[eventName].length;this.state[eventName][index]=func}unlisten(eventName,id){this._listenerMap=this._listenerMap||{};const key=getKey(eventName,id),index=this._listenerMap[key];if(void 0!==index){this.state[eventName].splice(index,1),delete this._listenerMap[key];index_all.ZP.keys(this._listenerMap).forEach((key=>{(function getEventName(key){return key.split(":")[0]})(key)===eventName&&this._listenerMap[key]>index&&this._listenerMap[key]--}))}}remove(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.mouseTarget&&(jquery_default()(this.state.mouseTarget).off(),this.state.mouseTarget.remove(),this.state.mouseTarget=null)}cursor(){return this.state.cursor}added(){return this.state.added}isHovering(){return this.state.isHovering}isMouseOver(){return this.state.isMouseOver}isDragging(){return this.state.isDragging}mouseTarget(){return this.state.mouseTarget}}function getKey(eventName,id){return eventName+":"+id}var colors=__webpack_require__("./packages/perseus/src/util/colors.ts"),arrowhead=__webpack_require__("./packages/perseus/src/interactive2/arrowhead.ts"),get_clip_point=__webpack_require__("./packages/perseus/src/interactive2/get-clip-point.ts"),wrapped_line=__webpack_require__("./packages/perseus/src/interactive2/wrapped-line.ts");const getScaledAngle=function(line){const scaledA=line.graphie.scalePoint(line.coord(0)),scaledZ=line.graphie.scalePoint(line.coord(1));return src.xr.polarDegFromCart(src.xr.subtract(scaledZ,scaledA))[1]},add={draw:function(){this.draw()},pointsToFront:function(state){index_all.ZP.invoke(state.points,"toFront")}};add.standard=[add.draw,add.pointsToFront];const modify={draw:function(){this.draw()}};modify.standard=[modify.draw];const draw={basic:function(state){const graphie=this.graphie;let start=this.coord(0),end=this.coord(1);if(!this.state.visibleShape){const options={thickness:10};this.state.visibleShape=new wrapped_line.Z(graphie,start,end,options),this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}const angle=getScaledAngle(this);state.extendLine?(start=(0,get_clip_point.U)(graphie,start,360-angle),end=(0,get_clip_point.U)(graphie,end,(540-angle)%360)):state.extendRay&&(end=(0,get_clip_point.U)(graphie,end,360-angle));const elements=[this.state.visibleShape];this.mouseTarget()&&elements.push(this.mouseTarget()),index_all.ZP.each(elements,(function(element){element.moveTo(start,end)}))},arrows:function(state){null==this._arrows&&(this._arrows=[],state.extendLine?(this._arrows.push(new arrowhead.X(this.graphie,this.normalStyle())),this._arrows.push(new arrowhead.X(this.graphie,this.normalStyle()))):state.extendRay&&this._arrows.push(new arrowhead.X(this.graphie,this.normalStyle())));const angle=getScaledAngle(this),angleForArrow=[360-angle,(540-angle)%360];index_all.ZP.each(this._arrows,(function(arrow,i){arrow.toCoordAtAngle(this.coord(i),angleForArrow[i])}),this)},highlight:function(state,prevState){state.isHovering&&!prevState.isHovering?state.visibleShape.animate(state.highlightStyle,50):!state.isHovering&&prevState.isHovering&&state.visibleShape.animate(state.normalStyle,50)}};draw.standard=[draw.basic,draw.arrows,draw.highlight];const remove={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},arrows:function(){null!=this._arrows&&index_all.ZP.invoke(this._arrows,"remove"),this._arrows=null}};remove.standard=[remove.basic,remove.arrows];const constraints={fixed:function(){return function(){return!1}},snap:function(snap){return function(coord,prevCoord){if(null===snap)return!0;let delta=src.xr.subtract(coord,prevCoord);return snap=snap||this.graphie.snap,delta=src.xm.roundTo(delta,snap),src.xr.add(prevCoord,delta)}},bound:function(range,snap,paddingPx){return void 0===paddingPx&&(paddingPx=void 0===range?10:0),function(coord,prevCoord){const graphie=this.graphie,delta=src.xr.subtract(coord,prevCoord);range=range||graphie.range,void 0===snap&&(snap=graphie.snap);let absoluteLower=graphie.unscalePoint([paddingPx,graphie.ypixels-paddingPx]),absoluteUpper=graphie.unscalePoint([graphie.xpixels-paddingPx,paddingPx]);snap&&(absoluteLower=src.xm.ceilTo(absoluteLower,snap),absoluteUpper=src.xm.floorTo(absoluteUpper,snap));const deltaBounds=index_all.ZP.map(this.coords(),(function(coord,i){const max=src.xr.subtract(absoluteUpper,coord);return[src.xr.subtract(absoluteLower,coord),max]})),boundedDelta=index_all.ZP.reduce(deltaBounds,(function(delta,bound){const lower=bound[0],upper=bound[1];return[Math.max(lower[0],Math.min(upper[0],delta[0])),Math.max(lower[1],Math.min(upper[1],delta[1]))]}),delta);return src.xr.add(prevCoord,boundedDelta)}},standard:null},onMove={updatePoints:function(coord,prevCoord){const actualDelta=src.xr.subtract(coord,prevCoord);index_all.ZP.each(this.state.points,(function(point){point.setCoord(src.xr.add(point.coord(),actualDelta))}))},standard:null},movable_line_options={add,modify,draw,remove,onMoveStart:{standard:null},constraints,onMove,onMoveEnd:{standard:null}};var objective_=__webpack_require__("./packages/perseus/src/interactive2/objective_.ts");const movable_line_assert=interactive_util.default.assert,movable_line_normalizeOptions=interactive_util.default.normalizeOptions,movable_line_DEFAULT_PROPS={points:null,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,extendLine:!1,extendRay:!1},movable_line_DEFAULT_STATE={visibleShape:null,mouseTarget:null},MovableLine=function(graphie,movable,options){movable_line_assert(null!=graphie),movable_line_assert(null!=options),index_all.ZP.extend(this,{graphie,movable,state:{id:index_all.ZP.uniqueId("movableLine")}}),this.modify(index_all.ZP.extend({},movable_line_DEFAULT_STATE,options))};index_all.ZP.extend(MovableLine,movable_line_options),interactive_util.default.createGettersFor(MovableLine,index_all.ZP.extend({},movable_line_DEFAULT_PROPS,movable_line_DEFAULT_STATE)),interactive_util.default.addMovableHelperMethodsTo(MovableLine),index_all.ZP.extend(MovableLine.prototype,{cloneState:function(){return index_all.ZP.extend(this.movable.cloneState(),{coords:this.coords()},this.state)},_createDefaultState:function(){return index_all.ZP.extend({id:this.state.id},movable_line_normalizeOptions(objective_.default.pluck(movable_line_options,"standard")),movable_line_DEFAULT_PROPS)},modify:function(options){this.update(index_all.ZP.extend(this._createDefaultState(),options))},update:function(options){const self=this,graphie=this.graphie,state=self.state=index_all.ZP.extend(self.state,movable_line_normalizeOptions(options)),normalColor=state.static?colors.Z.DYNAMIC:colors.Z.INTERACTIVE;if(state.normalStyle=index_all.ZP.extend({stroke:normalColor,"stroke-width":2},state.normalStyle),state.highlightStyle=index_all.ZP.extend({stroke:colors.Z.INTERACTING,"stroke-width":3},state.highlightStyle),!state.static&&!state.mouseTarget){const options={thickness:30,mouselayer:!0,interactiveKindForTesting:"movable-line"};state.mouseTarget=new wrapped_line.Z(graphie,this.coord(0),this.coord(1),options),state.mouseTarget.attr({fill:"#000",opacity:0})}state.static&&state.mouseTarget&&(state.mouseTarget.remove(),state.mouseTarget=null),self.movable.modify(index_all.ZP.extend({},state,{mouseTarget:state.mouseTarget,add:null,modify:null,draw:self.draw.bind(self),remove:null,onMoveStart:function(){self._initialRefCoord=self.coord(0),self._prevRefCoord=self._initialRefCoord,self._totalDelta=[0,0],self._fireEvent(self.state.onMoveStart,self.coord(0),self.coord(0))},onMove:function(mouseCoord,prevMouseCoord){const delta=src.xr.subtract(mouseCoord,prevMouseCoord);self._totalDelta=src.xr.add(self._totalDelta,delta);let refCoord=src.xr.add(self._initialRefCoord,self._totalDelta);refCoord=self._applyConstraints(refCoord,self._prevRefCoord),!1!==refCoord&&(self._fireEvent(self.state.onMove,refCoord,self._prevRefCoord),self._prevRefCoord=refCoord)},onMoveEnd:function(){self._fireEvent(self.state.onMoveEnd,self._prevRefCoord,self._initialRefCoord)}})),state.added||(self.prevState={},self._fireEvent(state.add,self.cloneState(),self.prevState),state.added=!0,index_all.ZP.invoke(state.points,"listen","onMove",state.id,self.draw.bind(self)),self.prevState=self.cloneState()),self._fireEvent(state.modify,self.cloneState(),self.prevState)},coords:function(){return index_all.ZP.invoke(this.state.points,"coord")},point:function(index){return this.state.points[index]},coord:function(index){return this.point(index).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.points&&index_all.ZP.invoke(this.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove()},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}});const movable_line=MovableLine;var react=__webpack_require__("./node_modules/react/index.js"),inline_icon=__webpack_require__("./packages/perseus/src/components/inline-icon.tsx"),icon_paths=__webpack_require__("./packages/perseus/src/icon-paths.ts"),react_render=__webpack_require__("./packages/perseus/src/util/react-render.tsx"),tex=__webpack_require__("./packages/perseus/src/util/tex.ts"),wrapped_ellipse=__webpack_require__("./packages/perseus/src/interactive2/wrapped-ellipse.ts");const movable_point_options_add={constrain:function(){this.constrain()}};movable_point_options_add.standard=[movable_point_options_add.constrain];const movable_point_options_modify={draw:function(){this.draw()}};movable_point_options_modify.standard=[movable_point_options_modify.draw];const movable_point_options_draw={basic:function(state,prevState){const graphie=this.graphie;if(!this.state.visibleShape){const radii=[this.pointSize()/graphie.scale[0],this.pointSize()/graphie.scale[1]],options={maxScale:Math.max(this.highlightStyle().scale,this.normalStyle().scale),padding:10,shadow:state.shadow};this.state.visibleShape=new wrapped_ellipse.Z(graphie,this.coord(),radii,options),this.state.visibleShape.attr(index_all.ZP.omit(this.normalStyle(),"scale")),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}state.normalStyle===prevState.normalStyle||index_all.ZP.isEqual(state.normalStyle,prevState.normalStyle)||this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.moveTo(this.coord()),this.mouseTarget()&&this.mouseTarget().moveTo(this.coord())},highlight:function(state,prevState){state.isHovering&&!prevState.isHovering?state.visibleShape.animate(this.highlightStyle(),50):!state.isHovering&&prevState.isHovering&&state.visibleShape.animate(this.normalStyle(),50)}};movable_point_options_draw.standard=[movable_point_options_draw.basic,movable_point_options_draw.highlight];const movable_point_options_remove={basic:function(){this.state.visibleShape&&(this.state.visibleShape.remove(),this.state.visibleShape=null)}};movable_point_options_remove.standard=movable_point_options_remove.basic;const movable_point_options_constraints={fixed:function(){return function(){return!1}},snap:function(snap){return function(coord){return null===snap||src.xm.roundTo(coord,snap||this.graphie.snap)}},bound:function(range,snap,optionalPaddingPx){const paddingPx=void 0===optionalPaddingPx?void 0===range?10:0:optionalPaddingPx;return function(coord,prev,options){const graphie=this.graphie;range=range||graphie.range,void 0===snap&&(snap=graphie.snap);let lower=graphie.unscalePoint([paddingPx,graphie.ypixels-paddingPx]),upper=graphie.unscalePoint([graphie.xpixels-paddingPx,paddingPx]);if(snap&&(lower=src.xm.ceilTo(lower,snap),upper=src.xm.floorTo(upper,snap)),options&&options.onOutOfBounds)return(coord[0]>upper[0]||coord[0]<lower[0]||coord[1]>upper[1]||coord[1]<lower[1])&&(options.onSkipRemaining(),options.onOutOfBounds()),coord;return[Math.max(lower[0],Math.min(upper[0],coord[0])),Math.max(lower[1],Math.min(upper[1],coord[1]))]}},standard:null},movable_point_options={add:movable_point_options_add,modify:movable_point_options_modify,draw:movable_point_options_draw,remove:movable_point_options_remove,onMoveStart:{standard:null},constraints:movable_point_options_constraints,onMove:{standard:null},onMoveEnd:{standard:null},onClick:{standard:null}};function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const movable_point_assert=interactive_util.default.assert,movable_point_normalizeOptions=interactive_util.default.normalizeOptions,{processMath}=tex.default,movable_point_DEFAULT_PROPS={coord:[0,0],pointSize:4,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,shadow:!1,tooltip:!1},movable_point_DEFAULT_STATE={added:!1,hasMoved:!1,visibleShape:null,outOfBounds:!1,mouseTarget:null,touchOffset:null},tooltipResetFunctions=[];class MovablePoint{_listenerMap={};constructor(graphie,movable,options){this.graphie=graphie,this.movable=movable,this.state={id:index_all.ZP.uniqueId("movablePoint")},this.modify({...movable_point_DEFAULT_STATE,...options})}modify(options){this.update(index_all.ZP.extend(this._createDefaultState(),options))}_createDefaultState(){return{id:this.state.id,...movable_point_normalizeOptions(objective_.default.pluck(movable_point_options,"standard")),...movable_point_DEFAULT_PROPS}}cloneState(){return{...this.movable.cloneState(),...this.state}}update(options){const self=this,graphie=self.graphie,state=index_all.ZP.extend(self.state,movable_point_normalizeOptions(options));movable_point_assert(src.xm.is(state.coord));const normalColor=state.static?colors.Z.DYNAMIC:colors.Z.INTERACTIVE;if(state.normalStyle=index_all.ZP.extend({fill:normalColor,stroke:normalColor,scale:1},state.normalStyle),state.highlightStyle=index_all.ZP.extend({fill:colors.Z.INTERACTING,stroke:colors.Z.INTERACTING,scale:2},state.highlightStyle),!state.static&&!state.mouseTarget){const center=self.state.coord,radii=graphie.unscaleVector(24),options={mouselayer:!0,padding:0,interactiveKindForTesting:"movable-point"};state.mouseTarget=new wrapped_ellipse.Z(graphie,center,radii,options),state.mouseTarget.attr({fill:"#000",opacity:0})}const showTrashTooltip=()=>{this._showTooltip((container=>{(0,react_render.Z)(react.createElement("span",{style:{fontSize:"2em"}},react.createElement(inline_icon.Z,_extends({},icon_paths.iconTrash,{style:{position:"static",color:colors.Z.INTERACTIVE,marginLeft:9,marginRight:9}}))),container)}))};let startCoord=state.coord;self.movable.modify(index_all.ZP.extend({},state,{add:null,modify:null,draw:self.draw.bind(self),remove:null,onMoveStart:startMouseCoord=>{if(state.hasMoved=!1,startCoord=state.coord,null==state.touchOffset){const isMouse=!("ontouchstart"in window);state.touchOffset=isMouse?[0,0]:src.xr.subtract(startCoord,startMouseCoord)}const svgElem=state.visibleShape.wrapper;if(state.shadow){const filter="none";svgElem.style.filter=filter}if(state.showHairlines&&state.showHairlines(state.coord),tooltipResetFunctions.forEach((f=>f())),state.tooltip&&(state.xOnlyTooltip?this._showTooltip(`${state.coord[0]}`):this._showTooltip(`(${state.coord[0]}, ${state.coord[1]})`),state.shadow)){const filter="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";svgElem.getElementsByClassName("tooltip-content")[0].style.filter=filter}self._fireEvent(state.onMoveStart,startCoord,startCoord),self.draw()},onMove:(mouseCoord,prevMouseCoord)=>{const transformedCoord=src.xr.add(mouseCoord,state.touchOffset);self.moveTo(transformedCoord),state.showHairlines&&(this.state.outOfBounds?state.hideHairlines():state.showHairlines(state.coord)),state.tooltip&&(this.state.outOfBounds||(state.xOnlyTooltip?this._showTooltip(`${state.coord[0]}`):this._showTooltip(`(${state.coord[0]}, ${state.coord[1]})`))),state.onRemove&&this.state.outOfBounds&&showTrashTooltip()},onMoveEnd:()=>{self.isHovering()&&!state.hasMoved&&self._fireEvent(state.onClick,state.coord,startCoord);const svgElem=state.visibleShape.wrapper;if(state.shadow){const filter="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";svgElem.style.filter=filter}if(state.hideHairlines&&state.hideHairlines(),state.hasMoved)this._hideTooltip();else if(state.onRemove){showTrashTooltip();svgElem.getElementsByClassName("tooltip-content")[0].style.filter="none",this._tooltip.firstChild.addEventListener("touchstart",(e=>{e.stopPropagation()}),!0),this._tooltip.firstChild.addEventListener("touchend",(e=>{state.onRemove(),e.stopPropagation()}),!0)}else state.tooltip&&this._hideTooltip();state.outOfBounds&&state.onRemove(),self._fireEvent(state.onMoveEnd,state.coord,startCoord),state.hasMoved=!1,state.touchOffset=null,self.draw()}})),state.added||(self.prevState={},self._fireEvent(state.add,self.cloneState(),self.prevState),state.added=!0,self.prevState=self.cloneState()),self._fireEvent(state.modify,self.cloneState(),self.prevState)}draw(){const currState=this.cloneState();this._fireEvent(this.state.draw,currState,this.prevState),this.prevState=currState}constrain(){const result=this._applyConstraints(this.coord(),this.coord());return src.xm.is(result)&&this.setCoord(result),!1!==result}_fireEvent(listeners){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];for(const listener of listeners)listener.call(this,...args)}_applyConstraints(current,previous,extraOptions){let skipRemaining=!1;return this.state.constraints.reduce(((memo,constraint)=>{if(!1===memo)return!1;if(skipRemaining)return memo;const result=constraint.call(this,memo,previous,{onSkipRemaining:()=>{skipRemaining=!0},...extraOptions});if(!1===result)return!1;if(src.xm.is(result,2))return result;if(!0===result||null==result)return memo;throw new perseus_error.u("Constraint returned invalid result: "+result,log.D.Internal)}),current)}_showTooltip(contents){this._tooltip||(this._tooltip=document.createElement("div"),this._tooltip.className="tooltip-content",this.state.visibleShape.wrapper.className="tooltip",this.state.visibleShape.wrapper.appendChild(this._tooltip),tooltipResetFunctions.push((()=>{this.state.added&&this._hideTooltip()}))),this._tooltip.firstChild&&this._tooltip.removeChild(this._tooltip.firstChild),this.state.visibleShape.wrapper.className="tooltip visible",this._tooltip.appendChild(document.createElement("span")),"string"==typeof contents?processMath(this._tooltip.firstChild,contents,!1):"function"==typeof contents?contents(this._tooltip.firstChild):this._tooltip.firstChild.appendChild(contents)}_hideTooltip(){this._tooltip&&(this.state.visibleShape.wrapper.className="tooltip")}coord(){return this.state.coord}setCoord(coord){movable_point_assert(src.xm.is(coord,2)),this.state.coord=index_all.ZP.clone(coord),this.draw()}setCoordConstrained(coord){movable_point_assert(src.xm.is(coord,2));const result=this._applyConstraints(coord,this.coord());!1!==result&&(this.state.coord=index_all.ZP.clone(result),this.draw())}listen(eventName,id,func){this._listenerMap=this._listenerMap||{};const key=movable_point_getKey(eventName,id),index=this._listenerMap[key]=this._listenerMap[key]||this.state[eventName].length;this.state[eventName][index]=func}unlisten(eventName,id){this._listenerMap=this._listenerMap||{};const key=movable_point_getKey(eventName,id),index=this._listenerMap[key];if(void 0!==index){this.state[eventName].splice(index,1),delete this._listenerMap[key];const keys=index_all.ZP.keys(this._listenerMap);index_all.ZP.each(keys,(key=>{(function movable_point_getEventName(key){return key.split(":")[0]})(key)===eventName&&this._listenerMap[key]>index&&this._listenerMap[key]--}),this)}}grab(coord){this.state.touchOffset=[0,0],this.movable.grab(coord),this.moveTo(coord)}moveTo(coord){const state=this.state;this.state.outOfBounds=!1;const result=this._applyConstraints(coord,state.coord,state.onRemove?{onOutOfBounds:()=>{this.state.outOfBounds=!0},onSkipRemaining:()=>{}}:{onSkipRemaining:()=>{}});if(!1!==result&&(src.xm.is(result)&&(coord=result),!src.xm.equal(coord,state.coord))){const prevCoord=state.coord;state.coord=coord,state.hasMoved=!0,this._fireEvent(state.onMove,state.coord,prevCoord),this.draw()}}remove(){this.state.added=!1,this._fireEvent(this.state.remove),this.movable&&this.movable.remove(),this.state.mouseTarget=null}pointSize(){return this.state.pointSize}static(){return this.state.static}cursor(){return this.state.cursor}normalStyle(){return this.state.normalStyle}highlightStyle(){return this.state.highlightStyle}shadow(){return this.state.shadow}tooltip(){return this.state.tooltip}added(){return this.state.added}hasMoved(){return this.state.hasMoved}visibleShape(){return this.state.visibleShape}outOfBounds(){return this.state.outOfBounds}mouseTarget(){return this.state.mouseTarget}touchOffset(){return this.state.touchOffset}isHovering(){return this.movable.isHovering()}isDragging(){return this.movable.isDragging()}toBack(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()}toFront(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()}static add=movable_point_options.add;static modify=movable_point_options.modify;static draw=movable_point_options.draw;static remove=movable_point_options.remove;static onMoveStart=movable_point_options.onMoveStart;static constraints=movable_point_options.constraints;static onMove=movable_point_options.onMove;static onMoveEnd=movable_point_options.onMoveEnd;static onClick=movable_point_options.onClick}function movable_point_getKey(eventName,id){return eventName+":"+id}var graph_utils=__webpack_require__("./packages/perseus/src/util/graph-utils.ts");function clockwise(points){const segments=index_all.ZP.zip(points,points.slice(1).concat(points.slice(0,1)));return function sum(array){return index_all.ZP.reduce(array,(function(memo,arg){return memo+arg}),0)}(index_all.ZP.map(segments,(function(segment){const p1=segment[0],p2=segment[1];return(p2[0]-p1[0])*(p2[1]+p1[1])})))>0}const movable_polygon_options_add={constrain:function(){this.constrain()},pointsToFront:function(state){index_all.ZP.invoke(state.points,"toFront")}};movable_polygon_options_add.standard=[movable_polygon_options_add.constrain,movable_polygon_options_add.pointsToFront];const movable_polygon_options_modify={draw:function(){this.draw()}};movable_polygon_options_modify.standard=[movable_polygon_options_modify.draw];const movable_polygon_options_draw={basic:function(state,prevState){const graphie=this.graphie,path=this.path(state);this.state.visibleShape||(this.state.visibleShape=graphie.raphael.path(path),this.state.visibleShape.attr(this.normalStyle())),state.normalStyle===prevState.normalStyle||index_all.ZP.isEqual(state.normalStyle,prevState.normalStyle)||this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.attr({path}),this.mouseTarget()&&this.mouseTarget().attr({path})},labels:function(state,prevState){const graphie=this.graphie,self=this,coords=index_all.ZP.invoke(state.points,"coord"),isClockwise=clockwise(coords),n=coords.length;null!=self.state._labelCache&&index_all.ZP.invoke(self.state._labelCache,"remove"),self.state._labelCache=[],(state.angleLabels.length||state.showRightAngleMarkers.length)&&(null==self.state._labeledAngles&&(self.state._labeledAngles=index_all.ZP.times(Math.max(state.angleLabels.length,state.showRightAngleMarkers.length),(function(){return graphie.label([0,0],"","center",state.labelStyle)}))),index_all.ZP.each(self.state._labeledAngles,(function(label,i){self.state._labelCache.push(graphie.labelAngle({point1:coords[(i-1+n)%n],vertex:coords[i],point3:coords[(i+1)%n],label,text:state.angleLabels[i],showRightAngleMarker:state.showRightAngleMarkers[i],numArcs:state.numArcs[i],clockwise:isClockwise,style:state.labelStyle}))}))),state.sideLabels.length&&(null==self.state._labeledSides&&(self.state._labeledSides=index_all.ZP.map(state.sideLabels,(function(label){return graphie.label([0,0],"","center",state.labelStyle)}))),index_all.ZP.each(self.state._labeledSides,(function(label,i){self.state._labelCache.push(graphie.labelSide({point1:coords[i],point2:coords[(i+1)%n],label,text:state.sideLabels[i],numArrows:state.numArrows[i],numTicks:state.numTicks[i],clockwise:isClockwise,style:state.labelStyle}))}))),state.vertexLabels.length&&(null==self.state._labeledVertices&&(self.state._labeledVertices=index_all.ZP.map(state.vertexLabels,(function(label){return graphie.label([0,0],"","center",state.labelStyle)}))),index_all.ZP.each(self.state._labeledVertices,(function(label,i){self.state._labelCache.push(graphie.labelVertex({point1:coords[(i-1+n)%n],vertex:coords[i],point3:coords[(i+1)%n],label,text:state.vertexLabels[i],clockwise:isClockwise,style:state.labelStyle}))}))),self.state._labelCache=index_all.ZP.flatten(self.state._labelCache)},highlight:function(state,prevState){state.isHovering&&!prevState.isHovering?state.visibleShape.animate(this.highlightStyle(),50):!state.isHovering&&prevState.isHovering&&state.visibleShape.animate(this.normalStyle(),50)}};movable_polygon_options_draw.standard=[movable_polygon_options_draw.basic,movable_polygon_options_draw.labels,movable_polygon_options_draw.highlight];const movable_polygon_options_remove={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},labels:function(){const labels=[this.state._labeledSides,this.state._labeledVertices,this.state._labeledAngles,this.state._labelCache];index_all.ZP.each(labels,(function(labelType){null!=labelType&&labelType.length&&index_all.ZP.invoke(labelType,"remove")}))}};movable_polygon_options_remove.standard=[movable_polygon_options_remove.basic,movable_polygon_options_remove.labels];const movable_polygon_options_constraints={fixed:function(){return function(){return!1}},snap:function(snap){return function(coord){return null===snap||(snap=snap||this.graphie.snap,src.xm.roundTo(coord,snap))}},bound:function(range,snap,paddingPx){return void 0===paddingPx&&(paddingPx=void 0===range?10:0),function(coord,prevCoord){const graphie=this.graphie,delta=src.xr.subtract(coord,prevCoord);range=range||graphie.range,void 0===snap&&(snap=graphie.snap);let absoluteLower=graphie.unscalePoint([paddingPx,graphie.ypixels-paddingPx]),absoluteUpper=graphie.unscalePoint([graphie.xpixels-paddingPx,paddingPx]);snap&&(absoluteLower=src.xm.ceilTo(absoluteLower,snap),absoluteUpper=src.xm.floorTo(absoluteUpper,snap));const deltaBounds=index_all.ZP.map(this.coords(),(function(coord,i){const max=src.xr.subtract(absoluteUpper,coord);return[src.xr.subtract(absoluteLower,coord),max]})),boundedDelta=index_all.ZP.reduce(deltaBounds,(function(delta,bound){const lower=bound[0],upper=bound[1];return[Math.max(lower[0],Math.min(upper[0],delta[0])),Math.max(lower[1],Math.min(upper[1],delta[1]))]}),delta);return src.xr.add(prevCoord,boundedDelta)}},standard:null},movable_polygon_options_onMove={updatePoints:function(coord,prevCoord){const actualDelta=src.xr.subtract(coord,prevCoord);index_all.ZP.each(this.state.points,(function(point){point.setCoord(src.xr.add(point.coord(),actualDelta))}))},standard:null},movable_polygon_options={add:movable_polygon_options_add,modify:movable_polygon_options_modify,draw:movable_polygon_options_draw,remove:movable_polygon_options_remove,onMoveStart:{standard:null},constraints:movable_polygon_options_constraints,onMove:movable_polygon_options_onMove,onMoveEnd:{standard:null},onClick:{standard:null}},movable_polygon_assert=interactive_util.default.assert,movable_polygon_normalizeOptions=interactive_util.default.normalizeOptions,movable_polygon_DEFAULT_PROPS={points:null,angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],closed:!0,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,labelStyle:null},movable_polygon_DEFAULT_STATE={added:!1,hasMoved:!1,visibleShape:null,mouseTarget:null},MovablePolygon=function(graphie,movable,options){movable_polygon_assert(null!=graphie),movable_polygon_assert(null!=options),index_all.ZP.extend(this,{graphie,movable,state:{id:index_all.ZP.uniqueId("movablePolygon")}}),this.modify(index_all.ZP.extend({},movable_polygon_DEFAULT_STATE,options))};index_all.ZP.extend(MovablePolygon,movable_polygon_options),interactive_util.default.createGettersFor(MovablePolygon,index_all.ZP.extend({},movable_polygon_DEFAULT_PROPS,movable_polygon_DEFAULT_STATE)),interactive_util.default.addMovableHelperMethodsTo(MovablePolygon),index_all.ZP.extend(MovablePolygon.prototype,{cloneState:function(){return index_all.ZP.extend(this.movable.cloneState(),this.state)},_createDefaultState:function(){return index_all.ZP.extend({id:this.state.id},movable_polygon_normalizeOptions(objective_.default.pluck(movable_polygon_options,"standard")),movable_polygon_DEFAULT_PROPS)},modify:function(options){this.update(index_all.ZP.extend(this._createDefaultState(),options))},update:function(options){const self=this,graphie=self.graphie,state=index_all.ZP.extend(self.state,movable_polygon_normalizeOptions(options)),normalColor=state.static?colors.Z.DYNAMIC:colors.Z.INTERACTIVE;state.normalStyle=index_all.ZP.extend({},state.normalStyle,{"stroke-width":2,"fill-opacity":0,fill:normalColor,stroke:normalColor},options.normalStyle),state.highlightStyle=index_all.ZP.extend({},{stroke:colors.Z.INTERACTING,"stroke-width":2,fill:colors.Z.INTERACTING,"fill-opacity":.05},state.highlightStyle),state.labelStyle=index_all.ZP.extend({},{stroke:colors.Z.DYNAMIC,"stroke-width":1,color:colors.Z.DYNAMIC},state.labelStyle),state.static||state.mouseTarget||(state.mouseTarget=graphie.mouselayer.path(this.path()),state.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})),self.movable.modify(index_all.ZP.extend({},state,{modify:null,draw:self.draw.bind(self),remove:null,onMoveStart:function(){self._initialRefCoord=self.coord(0),self._prevRefCoord=self._initialRefCoord,self._totalDelta=[0,0],self._fireEvent(self.state.onMoveStart,self.coord(0),self.coord(0))},onMove:function(mouseCoord,prevMouseCoord){const delta=src.xr.subtract(mouseCoord,prevMouseCoord);self._totalDelta=src.xr.add(self._totalDelta,delta);let refCoord=src.xr.add(self._initialRefCoord,self._totalDelta);refCoord=self._applyConstraints(refCoord,self._prevRefCoord),!1!==refCoord&&(self._fireEvent(self.state.onMove,refCoord,self._prevRefCoord),self._prevRefCoord=refCoord)},onMoveEnd:function(){self._fireEvent(self.state.onMoveEnd,self._prevRefCoord,self._initialRefCoord)}})),index_all.ZP.invoke(state.points,"listen","onMove",state.id,self.draw.bind(self)),state.added||(self.prevState={},self._fireEvent(state.add,self.cloneState(),self.prevState),state.added=!0,self.prevState=self.cloneState()),self._fireEvent(state.modify,self.cloneState(),self.prevState)},path:function(state){const graphie=this.graphie;state=state||this.state;let coords=index_all.ZP.map(state.points,(function(point){return graphie.scalePoint(point.coord())}));return state.closed?coords.push(!0):coords=coords.concat(index_all.ZP.clone(coords).reverse()),graph_utils.Z.unscaledSvgPath(coords)},coords:function(){return index_all.ZP.invoke(this.state.points,"coord")},point:function(index){return this.state.points[index]},coord:function(index){return this.point(index).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.points&&index_all.ZP.invoke(this.state.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove(),this.state.mouseTarget=null},constrain:function(){if(null==this.points||0===this.points.length)return;const prevRefCoord=this.coord(0),refCoord=this._applyConstraints(prevRefCoord,prevRefCoord);!1!==refCoord&&this._fireEvent(this.state.onMove,refCoord,prevRefCoord)},normalStyle:function(){return index_all.ZP.clone(this.state.normalStyle)},highlightStyle:function(){return index_all.ZP.clone(this.state.highlightStyle)},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}});const movable_polygon=MovablePolygon,Interactive2={MovablePoint,addMovablePoint:function(graphie,options){const movable=new Movable(graphie,{});return new MovablePoint(graphie,movable,options)},MovableLine:movable_line,addMovableLine:function(graphie,options){const movable=new Movable(graphie,{});return new movable_line(graphie,movable,options)},MovablePolygon,addMovablePolygon:function(graphie,options){const movable=new Movable(graphie,{});return new movable_polygon(graphie,movable,options)},addMaybeMobileMovablePoint:function(widget,extraProps){const isMobile=widget.props.apiOptions.isMobile,commonStyle=isMobile?{stroke:"#ffffff","stroke-width":3,fill:colors.Z.INTERACTIVE}:{stroke:colors.Z.INTERACTIVE,fill:colors.Z.INTERACTIVE},normalStyle=Object.assign(commonStyle,extraProps.normalStyle),highlightStyle=Object.assign(isMobile?{...commonStyle,"stroke-width":0,scale:.75}:{},extraProps.highlightStyle),props=Object.assign({normalStyle,highlightStyle,shadow:isMobile,tooltip:isMobile&&widget.props.showTooltips,showHairlines:widget.showHairlines,hideHairlines:widget.hideHairlines},isMobile?{pointSize:7}:{});return Interactive2.addMovablePoint(widget.graphie,Object.assign(extraProps,props))}},interactive2=Interactive2},"./packages/perseus/src/interactive2/arrowhead.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>Arrowhead});var src=__webpack_require__("./packages/kmath/src/index.ts"),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),math=__webpack_require__("./packages/perseus/src/util/math.ts"),get_clip_point=__webpack_require__("./packages/perseus/src/interactive2/get-clip-point.ts"),wrapped_drawing=__webpack_require__("./packages/perseus/src/interactive2/wrapped-drawing.ts");const DEFAULT_OPTIONS={center:null,createPath:null,mouselayer:!1};class WrappedPath extends wrapped_drawing.Z{constructor(graphie,points,options){const initialPoint=graphie.scalePoint(index_all.ZP.head(points));super(graphie,initialPoint),options=index_all.ZP.extend({},DEFAULT_OPTIONS,options);const fixedPath=graphie.fixedPath(points,options.center,options.createPath);this.wrapper=fixedPath.wrapper,this.visibleShape=fixedPath.visibleShape,options.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper)}}const wrapped_path=WrappedPath;class Arrowhead extends wrapped_path{static scale=1.4;constructor(graphie,style){const center=[.75,0];super(graphie,[[-3,4],[-2.75,2.5],[0,.25],center,[0,-.25],[-2.75,-2.5],[-3,-4]].map((point=>{const pv=src.xr.subtract(point,center),pvScaled=src.xr.scale(pv,Arrowhead.scale);return src.xr.add(center,pvScaled)})).map(graphie.unscalePoint),{center:graphie.unscalePoint(center),createPath:createCubicPath}),this.center=center,this.attr(index_all.ZP.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},style))}toCoordAtAngle(coord,angle){const clipPoint=this.graphie.scalePoint((0,get_clip_point.U)(this.graphie,coord,angle));this.transform("translateX("+(clipPoint[0]+Arrowhead.scale*this.center[0])+"px) translateY("+(clipPoint[1]+Arrowhead.scale*this.center[1])+"px) translateZ(0) rotate("+(360-math.ZP.bound(angle))+"deg)")}}const createCubicPath=function(points){let path="M"+points[0][0]+" "+points[0][1];for(let i=1;i<points.length;i+=3)path+="C"+points[i][0]+" "+points[i][1]+" "+points[i+1][0]+" "+points[i+1][1]+" "+points[i+2][0]+" "+points[i+2][1];return path}},"./packages/perseus/src/interactive2/get-clip-point.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>getClipPoint});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts");const getClipPoint=function(graph,coord,angle){const distance=graph.range[0][1]-graph.range[0][0]+(graph.range[1][1]-graph.range[1][0]),angleVec=graph.unscaleVector(_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.cartFromPolarDeg(1,angle)),distVec=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.scale(_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.normalize(angleVec),distance),farCoord=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.add(coord,distVec),scaledAngle=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.polarDegFromCart(angleVec)[1];return graph.constrainToBoundsOnAngle(farCoord,4,scaledAngle*Math.PI/180)}},"./packages/perseus/src/interactive2/interactive-util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>interactive_util});var index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),log=__webpack_require__("./packages/perseus/src/logging/log.ts"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts"),src=__webpack_require__("./packages/kmath/src/index.ts");function getKey(eventName,id){return eventName+":"+id}const MovableHelperMethods={_fireEvent:function(listeners){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];for(const listener of listeners)listener.call(this,...args)},_applyConstraints:function(current,previous,extraOptions){let skipRemaining=!1;return index_all.ZP.reduce(this.state.constraints,((memo,constraint)=>{if(!1===memo)return!1;if(skipRemaining)return memo;const result=constraint.call(this,memo,previous,{onSkipRemaining:()=>{skipRemaining=!0},...extraOptions});if(!1===result)return!1;if(src.xm.is(result,2))return result;if(!0===result||null==result)return memo;throw new perseus_error.u("Constraint returned invalid result: "+result,log.D.Internal)}),current,this)},draw:function(){const currState=this.cloneState();MovableHelperMethods._fireEvent.call(this,this.state.draw,currState,this.prevState),this.prevState=currState},listen:function(eventName,id,func){this._listenerMap=this._listenerMap||{};const key=getKey(eventName,id),index=this._listenerMap[key]=this._listenerMap[key]||this.state[eventName].length;this.state[eventName][index]=func},unlisten:function(eventName,id){this._listenerMap=this._listenerMap||{};const key=getKey(eventName,id),index=this._listenerMap[key];if(void 0!==index){this.state[eventName].splice(index,1),delete this._listenerMap[key];const keys=index_all.ZP.keys(this._listenerMap);index_all.ZP.each(keys,(function(key){(function getEventName(key){return key.split(":")[0]})(key)===eventName&&this._listenerMap[key]>index&&this._listenerMap[key]--}),this)}}},movable_helper_methods=MovableHelperMethods;let prefixedTransform=null;let canUse3dTransform=null;const FUNCTION_ARRAY_OPTIONS=["add","modify","draw","remove","constraints","onMoveStart","onMove","onMoveEnd","onClick"],InteractiveUtil={assert:function(isTrue,message){if(!isTrue)throw new perseus_error.u("Assertion Error"+(message?": "+message:""),log.D.Internal)},createGettersFor:function(Class,defaults){index_all.ZP.each(index_all.ZP.keys(defaults),(function(key){void 0===Class.prototype[key]&&(Class.prototype[key]=function(){return this.state[key]})}))},addMovableHelperMethodsTo:function(Class){index_all.ZP.each(movable_helper_methods,(function(methodFunc,methodName){void 0===Class.prototype[methodName]&&(Class.prototype[methodName]=methodFunc)}))},arrayify:function(funcOrArray){return null==funcOrArray?[]:index_all.ZP.isArray(funcOrArray)?index_all.ZP.filter(index_all.ZP.flatten(funcOrArray),index_all.ZP.identity):[funcOrArray]},normalizeOptions:function(options){const result={...options};return FUNCTION_ARRAY_OPTIONS.forEach((function(eventName){void 0!==options[eventName]&&(result[eventName]=InteractiveUtil.arrayify(options[eventName]))})),result},getPrefixedTransform:function(){return prefixedTransform=prefixedTransform||function computePrefixedTransform(){const el=document.createElement("div");let correctPrefix=null;return index_all.ZP.each(["transform","msTransform","MozTransform","WebkitTransform","OTransform"],(function(prefix){void 0!==el.style[prefix]&&(correctPrefix=prefix)})),correctPrefix}(),prefixedTransform},getCanUse3dTransform:function(){return null==canUse3dTransform&&(canUse3dTransform=function computeCanUse3dTransform(){const el=document.createElement("div"),prefix=InteractiveUtil.getPrefixedTransform();return el.style[prefix]="translateZ(0px)",!!el.style[prefix]}()),canUse3dTransform}},interactive_util=InteractiveUtil},"./packages/perseus/src/interactive2/objective_.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/underscore/modules/index-all.js");const __WEBPACK_DEFAULT_EXPORT__={pluck:function(table,subKey){return underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.object(underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.map(table,(function(value,key){return[key,value[subKey]]})))},mapObject:function(obj,lambda){const result={};return underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.each(underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.keys(obj),(function(key){result[key]=lambda(obj[key],key)})),result},mapObjectFromArray:function(arr,lambda){const result={};return underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.each(arr,(function(elem){result[elem]=lambda(elem)})),result}}},"./packages/perseus/src/interactive2/wrapped-drawing.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>WrappedDrawing});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),_interactive_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/interactive2/interactive-util.ts");class WrappedDrawing{constructor(graphie,initialPoint){this.graphie=graphie,this.initialPoint=initialPoint}transform(transformation){const prefixedTransform=_interactive_util__WEBPACK_IMPORTED_MODULE_2__.default.getPrefixedTransform();this.wrapper.style[prefixedTransform]=transformation}toFront(){const parentNode=this.wrapper.parentNode;parentNode&&parentNode.appendChild(this.wrapper)}toBack(){const parentNode=this.wrapper.parentNode;null!=parentNode&&parentNode.firstChild!==this.wrapper&&parentNode.insertBefore(this.wrapper,parentNode.firstChild)}remove(){this.visibleShape.remove(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(this.wrapper).remove()}getMouseTarget(){return this.visibleShape[0]}moveTo(point){const delta=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.subtract(this.graphie.scalePoint(point),this.graphie.scalePoint(this.initialPoint)),do3dTransform=_interactive_util__WEBPACK_IMPORTED_MODULE_2__.default.getCanUse3dTransform(),transformation="translateX("+delta[0]+"px) translateY("+delta[1]+"px)"+(do3dTransform?" translateZ(0)":"");this.transform(transformation)}hide(){this.visibleShape.hide()}show(){this.visibleShape.show()}attr(){this.visibleShape.attr(...arguments)}animate(){this.visibleShape.animate(...arguments)}}},"./packages/perseus/src/interactive2/wrapped-ellipse.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),underscore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_interactive_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/interactive2/interactive-util.ts"),_wrapped_drawing__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/interactive2/wrapped-drawing.ts");const DEFAULT_OPTIONS={maxScale:1,mouselayer:!1,shadow:!1,disableMouseEventsOnWrapper:!1};class WrappedEllipse extends _wrapped_drawing__WEBPACK_IMPORTED_MODULE_3__.Z{constructor(graphie,center,radii,options){super(graphie,center),options=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.extend({},DEFAULT_OPTIONS,options);const fixedEllipse=graphie.fixedEllipse(center,radii,options.maxScale,options.padding);if(this.visibleShape=fixedEllipse.visibleShape,this.wrapper=fixedEllipse.wrapper,this.graphie=graphie,this.initialPoint=center,options.interactiveKindForTesting&&this.wrapper.setAttribute("data-interactive-kind-for-testing",options.interactiveKindForTesting),options.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper),options.shadow){const filter="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";this.wrapper.style.filter=filter,this.moveTo=function(point){const delta=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.subtract(this.graphie.scalePoint(point),this.graphie.scalePoint(this.initialPoint)),do3dTransform=_interactive_util__WEBPACK_IMPORTED_MODULE_2__.default.getCanUse3dTransform(),transform="translateX("+Math.round(delta[0])+"px) translateY("+Math.round(delta[1])+"px)"+(do3dTransform?" translateZ(0)":"");this.transform(transform)}}options.disableMouseEventsOnWrapper&&(this.wrapper.style.pointerEvents="none",this.visibleShape.node.style.pointerEvents="auto")}}const __WEBPACK_DEFAULT_EXPORT__=WrappedEllipse},"./packages/perseus/src/interactive2/wrapped-line.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),underscore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_util_math__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/util/math.ts"),_interactive_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/interactive2/interactive-util.ts"),_wrapped_drawing__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/interactive2/wrapped-drawing.ts");const DEFAULT_OPTIONS={thickness:2,mouselayer:!1};class WrappedLine extends _wrapped_drawing__WEBPACK_IMPORTED_MODULE_4__.Z{constructor(graphie,start,end,options){const initialStart=[graphie.range[0][0],0],initialEnd=[graphie.range[0][1],0],initialPoint=graphie.scalePoint(initialStart);super(graphie,initialPoint),options=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.extend({},DEFAULT_OPTIONS,options);const fixedLine=graphie.fixedLine(initialStart,initialEnd,options.thickness);this.wrapper=fixedLine.wrapper,this.visibleShape=fixedLine.visibleShape,options.interactiveKindForTesting&&this.wrapper.setAttribute("data-interactive-kind-for-testing",options.interactiveKindForTesting),this.visibleShape.attr(options.normalStyle),this.initialPoint=initialPoint,this.initialLength=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.distanceToPoint(graphie.scalePoint(initialStart),graphie.scalePoint(initialEnd)),options.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper),this.moveTo(start,end)}getMouseTarget(){return this.wrapper}moveTo(start,end){const scaledStart=this.graphie.scalePoint(start),scaledEnd=this.graphie.scalePoint(end),polarDiff=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.polarDegFromCart(_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.subtract(scaledEnd,scaledStart)),lineLength=polarDiff[0],angle=_util_math__WEBPACK_IMPORTED_MODULE_2__.ZP.bound(polarDiff[1]),delta=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.subtract(scaledStart,this.initialPoint),scale=_util_math__WEBPACK_IMPORTED_MODULE_2__.ZP.bound(lineLength/this.initialLength),do3dTransform=_interactive_util__WEBPACK_IMPORTED_MODULE_3__.default.getCanUse3dTransform(),transformation="translateX("+delta[0]+"px) translateY("+delta[1]+"px) "+(do3dTransform?" translateZ(0)":"")+"rotate("+angle+"deg) scaleX("+scale+") scaleY(1)";this.transform(transformation)}}const __WEBPACK_DEFAULT_EXPORT__=WrappedLine},"./packages/perseus/src/jipt-paragraphs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_simple_markdown__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/simple-markdown/src/index.ts");const arrayRules={fence:{match:_khanacademy_simple_markdown__WEBPACK_IMPORTED_MODULE_0__.Z.defaultRules.fence.match,order:1,parse:(capture,state,parse)=>({type:"codeBlock",lang:capture[2]||void 0,content:capture[3]})},paragraph:{match:_khanacademy_simple_markdown__WEBPACK_IMPORTED_MODULE_0__.Z.defaultRules.paragraph.match,order:2,parse:(capture,state,parse)=>({content:capture[1]})}},builtArrayParser=_khanacademy_simple_markdown__WEBPACK_IMPORTED_MODULE_0__.Z.parserFor(arrayRules),__WEBPACK_DEFAULT_EXPORT__={parseToArray:source=>{const paragraphedSource=source.replace(/^\n\s*\n/,"")+"\n\n";return builtArrayParser(paragraphedSource,{inline:!1}).map((c=>c.content))},joinFromArray:paragraphs=>paragraphs.join("\n\n")}},"./packages/perseus/src/loading-context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const defaultContext={onRendered:isRendered=>{}},__WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext(defaultContext)},"./packages/perseus/src/logging/log.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>Errors,Z:()=>Log});var _dependencies__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus/src/dependencies.ts");const Errors=Object.freeze({Unknown:"Unknown",Internal:"Internal",InvalidInput:"InvalidInput",NotAllowed:"NotAllowed",TransientService:"TransientService",Service:"Service"}),Log={log:(message,extra)=>{(0,_dependencies__WEBPACK_IMPORTED_MODULE_0__.getDependencies)().Log.log(message,extra)},error:(message,kind,extra)=>{(0,_dependencies__WEBPACK_IMPORTED_MODULE_0__.getDependencies)().Log.error(message,kind,extra)}}},"./packages/perseus/src/mixins/changeable.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>propTypes,m:()=>change});var prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_logging_log__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/logging/log.ts"),_perseus_error__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/perseus-error.ts"),_widget_prop_denylist__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/mixins/widget-prop-denylist.ts");const _changeMultiple=function(component,newProps,callback){const currProps=underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.omit(component.props,_widget_prop_denylist__WEBPACK_IMPORTED_MODULE_2__.Z),nextProps=underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.extend(currProps,newProps);component.props.onChange(nextProps,callback)},_changeSingle=function(component,propName,value,callback){if(void 0===value)return underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.partial(_changeSingle,component,propName);const newProps={};newProps[propName]=value,_changeMultiple(component,newProps,callback)},change=function(newPropsOrSinglePropName,propValue,callback){if(underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.isObject(newPropsOrSinglePropName)&&void 0===callback)return _changeMultiple(this,newPropsOrSinglePropName,callback=propValue);if("string"==typeof newPropsOrSinglePropName)return _changeSingle(this,newPropsOrSinglePropName,propValue,callback);throw new _perseus_error__WEBPACK_IMPORTED_MODULE_3__.u("Invalid types sent to this.change(): "+underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.toArray(arguments).join()+'\nUsage:\n  this.change({propName: 5}, callback);\n  this.change("propName", 5, callback);\n  this.change("propName")',_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.Internal)},propTypes={onChange:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func.isRequired}},"./packages/perseus/src/mixins/widget-jsonify-deprecated.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_widget_prop_denylist__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/mixins/widget-prop-denylist.ts");const __WEBPACK_DEFAULT_EXPORT__={getUserInput:function(){return underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.omit(this.props,_widget_prop_denylist__WEBPACK_IMPORTED_MODULE_1__.Z)},getUserInputFromProps:function(props){return underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.omit(props,_widget_prop_denylist__WEBPACK_IMPORTED_MODULE_1__.Z)}}},"./packages/perseus/src/mixins/widget-prop-denylist.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>removeDenylistProps,Z:()=>__WEBPACK_DEFAULT_EXPORT__});const denylist=["key","ref","containerSizeClass","widgetId","onChange","problemNum","apiOptions","questionCompleted","findWidgets","onRemove","id","onBlur","onFocus","trackInteraction","keypadElement"],removeDenylistProps=props=>{const newProps={...props};for(const prop of denylist)prop in newProps&&delete newProps[prop];return newProps},__WEBPACK_DEFAULT_EXPORT__=denylist},"./packages/perseus/src/multi-items/shapes.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const hintShape={type:"hint"},buildArrayShape=elementShape=>({type:"array",elementShape}),__WEBPACK_DEFAULT_EXPORT__={content:{type:"content"},hint:hintShape,hints:buildArrayShape(hintShape),tags:{type:"tags"},arrayOf:buildArrayShape,shape:shape=>({type:"object",shape})}},"./packages/perseus/src/perseus-api.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>ApiOptions,m:()=>ClassNames});var prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_stub_tag_editor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/components/stub-tag-editor.tsx");const ApiOptions={propTypes:prop_types__WEBPACK_IMPORTED_MODULE_2___default().shape({isArticle:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool.isRequired,onInputError:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired,onFocusChange:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired,GroupMetadataEditor:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired,showAlignmentOptions:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool.isRequired,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool.isRequired,answerableCallback:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,getAnotherHint:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,interactionCallback:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,groupAnnotator:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired,imagePlaceholder:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node,widgetPlaceholder:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node,baseElements:prop_types__WEBPACK_IMPORTED_MODULE_2___default().shape({Link:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func}),imagePreloader:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,trackInteraction:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,customKeypad:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,nativeKeypadProxy:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,setDrawingAreaAvailable:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,useDraftEditor:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,hintProgressColor:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,canScrollPage:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,inModal:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,crossOutEnabled:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,editorChangeDelay:prop_types__WEBPACK_IMPORTED_MODULE_2___default().number}).isRequired,defaults:{isArticle:!1,isMobile:!1,onInputError:function(){},onFocusChange:function(){},GroupMetadataEditor:_components_stub_tag_editor__WEBPACK_IMPORTED_MODULE_1__.Z,showAlignmentOptions:!1,readOnly:!1,groupAnnotator:function(){return null},baseElements:{Link:props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",props)},setDrawingAreaAvailable:function(){},useDraftEditor:!1,canScrollPage:!1,inModal:!1,crossOutEnabled:!1,editorChangeDelay:0}},ClassNames={RENDERER:"perseus-renderer",TWO_COLUMN_RENDERER:"perseus-renderer-two-columns",RESPONSIVE_RENDERER:"perseus-renderer-responsive",INPUT:"perseus-input",FOCUSED:"perseus-focused",RADIO:{OPTION:"perseus-radio-option",SELECTED:"perseus-radio-selected",OPTION_CONTENT:"perseus-radio-option-content"},INTERACTIVE:"perseus-interactive",CORRECT:"perseus-correct",INCORRECT:"perseus-incorrect",UNANSWERED:"perseus-unanswered",MOBILE:"perseus-mobile"}},"./packages/perseus/src/perseus-error.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>PerseusError});class PerseusError extends Error{constructor(message,kind,options){super(message),this.kind=kind,this.metadata=options?.metadata}}},"./packages/perseus/src/perseus-markdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>perseus_markdown});(0,__webpack_require__("./packages/perseus-core/src/index.ts").C)("@khanacademy/pure-markdown","__lib_version__");var simple_markdown_src=__webpack_require__("./packages/simple-markdown/src/index.ts");const mathMatcher=(source,state,isBlock)=>{const length=source.length;let index=0;if(isBlock){if(state.inline)return null;for(;index<length&&" "===source[index];)index++}if(!(index<length&&"$"===source[index]))return null;index++;const startIndex=index;let braceLevel=0;for(;index<length;){const character=source[index];if("\\"===character)index++;else{if(braceLevel<=0&&"$"===character){let endIndex=index+1;if(isBlock){const match=/^(?: *\n){2,}/.exec(source.slice(endIndex));endIndex=match?endIndex+match[0].length:null}return endIndex?[source.substring(0,endIndex),source.substring(startIndex,index)]:null}if("{"===character)braceLevel++;else if("}"===character)braceLevel--;else if("\n"===character&&"\n"===source[index-1])return null}index++}return null},TITLED_TABLE_REGEX=new RegExp("^\\|\\| +(.*) +\\|\\| *\\n("+simple_markdown_src.Z.defaultRules.nptable.match.regex.source.substring(1)+")"),crowdinJiptMatcher=simple_markdown_src.Z.blockRegex(/^(crwdns.*)\n\s*\n/),pureMarkdownRules={...simple_markdown_src.Z.defaultRules,columns:{order:-2,match:simple_markdown_src.Z.blockRegex(/^([\s\S]*\n\n)={5,}\n\n([\s\S]*)/),parse:(capture,parse,state)=>({col1:parse(capture[1],state),col2:parse(capture[2],state)})},crowdinId:{order:-1,match:(source,state,prevCapture)=>state.isJipt?crowdinJiptMatcher(source,state,prevCapture):null,parse:(capture,parse,state)=>({id:capture[1]})},titledTable:{order:simple_markdown_src.Z.defaultRules.nptable.order-.5,match:simple_markdown_src.Z.blockRegex(TITLED_TABLE_REGEX),parse:(capture,parse,state)=>{const title=simple_markdown_src.Z.parseInline(parse,capture[1],state),tableCapture=capture.slice(2);return{title,table:simple_markdown_src.Z.defaultRules.nptable.parse(tableCapture,parse,state)}}},widget:{order:simple_markdown_src.Z.defaultRules.link.order-.75,match:simple_markdown_src.Z.inlineRegex(/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/),parse:(capture,parse,state)=>({id:capture[1],widgetType:capture[2]})},blockMath:{order:simple_markdown_src.Z.defaultRules.codeBlock.order+.5,match:(source,state)=>mathMatcher(source,state,!0),parse:(capture,parse,state)=>({content:capture[1]})},math:{order:simple_markdown_src.Z.defaultRules.link.order-.25,match:(source,state)=>mathMatcher(source,state,!1),parse:(capture,parse,state)=>({content:capture[1]})},unescapedDollar:{order:simple_markdown_src.Z.defaultRules.link.order-.24,match:simple_markdown_src.Z.inlineRegex(/^(?!\\)\$/),parse:(capture,parse,state)=>({})},fence:{...simple_markdown_src.Z.defaultRules.fence,parse:(capture,parse,state)=>{const node=simple_markdown_src.Z.defaultRules.fence.parse(capture,parse,state);return"alt"===node.lang?{type:"codeBlock",lang:"alt",content:parse(node.content+"\n\n",state)}:node}},blockQuote:{...simple_markdown_src.Z.defaultRules.blockQuote,match:simple_markdown_src.Z.blockRegex(/^ *>[^\n]+(\n( *>)?[^\n]+)*\n{2,}/)},list:{...simple_markdown_src.Z.defaultRules.list,match:(source,state,prevCapture)=>state.isJipt?null:simple_markdown_src.Z.defaultRules.list.match(source,state,prevCapture)},lint:{order:1e3,match:s=>null,parse:(capture,parse,state)=>({})}};simple_markdown_src.Z.parserFor(pureMarkdownRules);var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),lint=__webpack_require__("./packages/perseus/src/components/lint.tsx"),dependencies=__webpack_require__("./packages/perseus/src/dependencies.ts");const rules={...pureMarkdownRules,columns:{...pureMarkdownRules.columns,react:(node,output,state)=>react.createElement("div",{className:"perseus-two-columns",key:state.key},react.createElement("div",{className:"perseus-column"},react.createElement("div",{className:"perseus-column-content"},output(node.col1,state))),react.createElement("div",{className:"perseus-column"},react.createElement("div",{className:"perseus-column-content"},output(node.col2,state))))},crowdinId:{...pureMarkdownRules.crowdinId,react:(node,output,state)=>node.id},table:{...pureMarkdownRules.table,react:function(node,output,state){const table=simple_markdown_src.Z.defaultRules.table.react(node,output,state);return state.isMobile?react.cloneElement(table,{tabIndex:0}):table}},titledTable:{...pureMarkdownRules.titledTable,react:(node,output,state)=>{let contents;if(node.table)if("lint"===node.table.type)contents="table"===node.table.content?.type?rules.lint.react({...node.table,content:{...node,table:node.table.content}},output,{...state,unwrapTitledTableContents:!0}):rules.lint.react(node.table,output,state);else{const tableOutput=simple_markdown_src.Z.defaultRules.table.react(node.table,output,state),caption=react.createElement("caption",{key:"caption",className:"perseus-table-title"},output(node.title,state));contents=react.cloneElement(tableOutput,null,[caption,...tableOutput.props.children])}else contents="//invalid table//";return state.unwrapTitledTableContents?contents:react.createElement("div",{className:"perseus-titled-table",key:state.key},contents)}},widget:{...pureMarkdownRules.widget,react:(node,output,state)=>react.createElement("em",{key:state.key},es.doNotTranslate("[Widget: ",node.id,"]"))},blockMath:{...pureMarkdownRules.blockMath,react:(node,output,state)=>{const{TeX}=(0,dependencies.getDependencies)();return react.createElement(TeX,{key:state.key},node.content)}},math:{...pureMarkdownRules.math,react:(node,output,state)=>{const{TeX}=(0,dependencies.getDependencies)();return react.createElement(TeX,{key:state.key},node.content)}},unescapedDollar:{...pureMarkdownRules.unescapedDollar,react:(node,output,state)=>"$"},link:{...pureMarkdownRules.link,react:function(node,output,state){const link=simple_markdown_src.Z.defaultRules.link.react(node,output,state),href=link.props.href;let rel=null;!!href&&href.match(/https?:\/\/[^\/]*khanacademy.org|^\//)||(rel="noopener noreferrer");const newProps={...link.props,target:"_blank",href,rel};return state.baseElements&&state.baseElements.Link?state.baseElements.Link(newProps):react.cloneElement(link,newProps)}},codeBlock:{...pureMarkdownRules.codeBlock,react:(node,output,state)=>"alt"===node.lang?react.createElement("div",{key:state.key,className:"perseus-markdown-alt perseus-sr-only"},output(node.content,state)):simple_markdown_src.Z.defaultRules.codeBlock.react(node,output,state)},lint:{...pureMarkdownRules.lint,react:(node,output,state)=>react.createElement(lint.Z,{message:node.message,ruleName:node.ruleName,inline:isInline(node.content),blockHighlight:node.blockHighlight,insideTable:node.insideTable,severity:node.severity},output(node.content,state))}};function isInline(node){return!!(node&&node.type&&inlineNodeTypes.hasOwnProperty(node.type))}const inlineNodeTypes={text:!0,math:!0,unescapedDollar:!0,link:!0,img:!0,strong:!0,u:!0,em:!0,del:!0,code:!0},perseus_markdown_builtParser=simple_markdown_src.Z.parserFor(rules),perseus_markdown_parse=(source,state)=>perseus_markdown_builtParser(source+"\n\n",{...state,inline:!1}),traverseContent=(ast,cb)=>{index_all.ZP.isArray(ast)?index_all.ZP.each(ast,(node=>traverseContent(node,cb))):index_all.ZP.isObject(ast)&&(cb(ast),"table"===ast.type?(traverseContent(ast.header,cb),traverseContent(ast.cells,cb)):"list"===ast.type?traverseContent(ast.items,cb):"titledTable"===ast.type?traverseContent(ast.table,cb):"columns"===ast.type?(traverseContent(ast.col1,cb),traverseContent(ast.col2,cb)):index_all.ZP.isArray(ast.content)&&traverseContent(ast.content,cb))},getContent=ast=>{if(index_all.ZP.isArray(ast))return index_all.ZP.flatten(index_all.ZP.map(ast,getContent));if(ast.content&&index_all.ZP.isString(ast.content))return-1!==ast.type.toLowerCase().indexOf("code")?["",ast.content,""]:[ast.content.replace(/\s+/g," ")];const children=index_all.ZP.chain(ast).values().flatten().filter((object=>null!=object&&index_all.ZP.has(object,"type"))).value();if(!children.length)return[];const nestedContent=getContent(children);if("paragraph"===ast.type&&nestedContent.length){nestedContent[0]=nestedContent[0].replace(/^\s+/,"");const last=nestedContent.length-1;nestedContent[last]=nestedContent[last].replace(/\s+$/,"")}return nestedContent},perseus_markdown={characterCount:source=>{const ast=perseus_markdown_parse(source);return getContent(ast).join("").length},traverseContent,parse:perseus_markdown_parse,parseInline:(source,state)=>perseus_markdown_builtParser(source,{...state,inline:!0}),reactFor:simple_markdown_src.Z.reactFor,ruleOutput:simple_markdown_src.Z.ruleOutput(rules,"react"),basicOutput:simple_markdown_src.Z.reactFor(simple_markdown_src.Z.ruleOutput(rules,"react")),sanitizeUrl:simple_markdown_src.Z.sanitizeUrl}},"./packages/perseus/src/perseus-types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{KT:()=>plotterPlotTypes,v5:()=>PerseusExpressionAnswerFormConsidered,vW:()=>ItemExtras});const ItemExtras=["calculator","chi2Table","financialCalculatorMonthlyPayment","financialCalculatorTotalAmount","financialCalculatorTimeToPayOff","periodicTable","periodicTableWithKey","tTable","zTable"],PerseusExpressionAnswerFormConsidered=["correct","wrong","ungraded"],plotterPlotTypes=["bar","line","pic","histogram","dotplot"]},"./packages/perseus/src/renderer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>renderer});var src=__webpack_require__("./packages/perseus-linter/src/index.ts"),es=__webpack_require__("./node_modules/@khanacademy/wonder-stuff-core/dist/browser/es/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jquery=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),asset_context=__webpack_require__("./packages/perseus/src/asset-context.ts"),svg_image=__webpack_require__("./packages/perseus/src/components/svg-image.tsx"),components_tex=__webpack_require__("./packages/perseus/src/components/tex.tsx"),zoomable=__webpack_require__("./packages/perseus/src/components/zoomable.tsx"),zoomable_tex=__webpack_require__("./packages/perseus/src/components/zoomable-tex.tsx"),definition_context=__webpack_require__("./packages/perseus/src/definition-context.tsx"),dependencies=__webpack_require__("./packages/perseus/src/dependencies.ts"),log=__webpack_require__("./packages/perseus/src/logging/log.ts");class ErrorBoundary extends react.Component{constructor(props){super(props),this.state={error:""}}componentDidCatch(error,info){this.setState({error:error.toString()}),this.props.onError?.(error,info),log.Z.error("Unhandled Perseus error: "+error.message,log.D.Internal,{cause:error,loggedMetadata:{componentStack:info&&"componentStack"in info?info.componentStack:"componentStack not provided",...this.props.metadata}})}render(){return this.state.error?react.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16",role:"img"},react.createElement("title",null,"Rendering Error!"),react.createElement("path",{d:"m8 16c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3c0.55 0 1-0.45 1-1s-0.45-1-1-1-1 0.45-1 1 0.45 1 1 1zm0-9c-0.55 0-1 0.45-1 1v4c0 0.55.45 1 1 1s1-0.45 1-1v-4c0-0.55-0.45-1-1-1z",fill:"#d92916",fillRule:"evenodd"})):this.props.children}}const error_boundary=ErrorBoundary;try{ErrorBoundary.displayName="ErrorBoundary",ErrorBoundary.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{metadata:{defaultValue:null,description:"",name:"metadata",required:!1,type:{name:"Record<string, string>"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: Error, info: any) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/error-boundary.tsx#ErrorBoundary"]={docgenInfo:ErrorBoundary.__docgenInfo,name:"ErrorBoundary",path:"packages/perseus/src/error-boundary.tsx#ErrorBoundary"})}catch(__react_docgen_typescript_loader_error){}function _noop(){}const interaction_tracker=class InteractionTracker{constructor(trackApi,widgetType,widgetID,setting){trackApi?(this._tracked=!1,this.trackApi=trackApi,this.widgetType=widgetType,this.widgetID=widgetID,this.setting=setting,this.track=this._track):this.track=_noop}_track=extraData=>{this._tracked&&!this.setting||(this._tracked=!0,this.trackApi({type:this.widgetType,id:this.widgetID,...extraData}))}};var objective_=__webpack_require__("./packages/perseus/src/interactive2/objective_.ts"),jipt_paragraphs=__webpack_require__("./packages/perseus/src/jipt-paragraphs.ts"),perseus_api=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts"),perseus_markdown=__webpack_require__("./packages/perseus/src/perseus-markdown.tsx");class QuestionParagraph extends react.Component{render(){const className=this.props.className?"paragraph "+this.props.className:"paragraph";return react.createElement("div",{className:this.props.inline?this.props.className??void 0:className,"data-perseus-component-index":this.props.translationIndex,"data-perseus-paragraph-index":this.props.paragraphIndex},this.props.children)}}const question_paragraph=QuestionParagraph;try{QuestionParagraph.displayName="QuestionParagraph",QuestionParagraph.__docgenInfo={description:"",displayName:"QuestionParagraph",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | null"}},translationIndex:{defaultValue:null,description:"",name:"translationIndex",required:!0,type:{name:"number"}},paragraphIndex:{defaultValue:null,description:"",name:"paragraphIndex",required:!1,type:{name:"number"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/question-paragraph.tsx#QuestionParagraph"]={docgenInfo:QuestionParagraph.__docgenInfo,name:"QuestionParagraph",path:"packages/perseus/src/question-paragraph.tsx#QuestionParagraph"})}catch(__react_docgen_typescript_loader_error){}class TranslationLinter{previousContent=null;runLinter=(0,index_all.Ds)(((perseusStr,onLintErrorsGenerated)=>{"undefined"!=typeof KA&&perseusStr!==this.previousContent&&(this.previousContent=perseusStr,""!==perseusStr?fetch("/api/internal/translations/lint_poentry?preview=1&lang=en",{headers:{"Content-Type":"application/json"},body:JSON.stringify({msgid:perseusStr,msgstr:perseusStr,format:"perseus_text",filename:""}),method:"POST"}).then((response=>response.status>=400?{status:"error",message:"Could not run i18n linter."}:response.json()),(rejection=>({status:"error",message:"Could not run i18n linter."}))).then((json=>{"error"===json.status?onLintErrorsGenerated(["Some part of this text makes it untranslatable. The specific message from the i18n linter was: "+json.message.replace(/\n/g," ")]):onLintErrorsGenerated([])})):onLintErrorsGenerated([]))}),1e3);applyLintErrors(parsedMarkdown,translationLintErrors){if(translationLintErrors.length){const errorText=translationLintErrors.join("\n\n");parsedMarkdown.unshift({content:{type:"text",content:""},insideTable:!1,message:errorText,ruleName:"legacy-error",severity:src.$9.Severity.ERROR,type:"lint"})}}}var util=__webpack_require__("./packages/perseus/src/util.ts"),katex_preprocess=__webpack_require__("./packages/perseus/src/util/katex-preprocess.ts"),constants=__webpack_require__("./packages/perseus/src/styles/constants.ts"),sizing_utils=__webpack_require__("./packages/perseus/src/util/sizing-utils.ts"),widgets=__webpack_require__("./packages/perseus/src/widgets.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}class WidgetContainer extends react.Component{widgetRef=react.createRef();static defaultProps={linterContext:src.j_};state={sizeClass:sizing_utils.containerSizeClass.MEDIUM,widgetProps:this.props.initialProps};componentDidMount(){if(this.state.widgetProps.apiOptions.isMobile){const containerWidth=react_dom.findDOMNode(this).offsetWidth;this.setState({sizeClass:(0,sizing_utils.J)(containerWidth)})}}render(){let className=classnames_default()({"perseus-widget-container":!0,"widget-highlight":this.props.shouldHighlight,"widget-nohighlight":!this.props.shouldHighlight,"perseus-widget__definition":"definition"===this.props.type});const type=this.props.type,WidgetType=widgets.getWidget(type);if(null==WidgetType)return console.warn(`Widget type '${type}' not found!`),react.createElement("div",{className});let alignment=this.state.widgetProps.alignment;"default"===alignment&&(alignment=widgets.getDefaultAlignment(type)),className+=" widget-"+alignment;const apiOptions=this.state.widgetProps.apiOptions,isStatic=this.state.widgetProps.static||apiOptions.readOnly,staticOverlayStyles={width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:constants.zIndexInteractiveComponent},linterContext=widgets.isLintable(type)?this.props.linterContext:{...this.props.linterContext,highlightLint:!1};return react.createElement("div",{className,style:isStatic?{position:"relative",overflow:"visible"}:{}},react.createElement(dependencies.DependenciesContext.Consumer,null,(_ref=>{let{analytics}=_ref;return react.createElement(error_boundary,{metadata:{widget_type:type,widget_id:this.props.id},onError:()=>{analytics.onAnalyticsEvent({type:"perseus:widget-rendering-error",payload:{widgetType:type,widgetId:this.props.id}})}},react.createElement(WidgetType,_extends({},this.state.widgetProps,{linterContext,containerSizeClass:this.state.sizeClass,ref:this.widgetRef})),isStatic&&react.createElement("div",{style:staticOverlayStyles}))})))}UNSAFE_componentWillReceiveProps(nextProps){if(this.props.type!==nextProps.type)throw new Error("WidgetContainer can't change widget type; set a different key instead to recreate the container.")}shouldComponentUpdate(nextProps,nextState){return this.props.shouldHighlight!==nextProps.shouldHighlight||this.props.type!==nextProps.type||this.state.widgetProps!==nextState.widgetProps||this.state.sizeClass!==nextState.sizeClass}getWidget=()=>this.widgetRef.current;replaceWidgetProps=newWidgetProps=>{this.setState({widgetProps:newWidgetProps})}}const widget_container=WidgetContainer;try{WidgetContainer.displayName="WidgetContainer",WidgetContainer.__docgenInfo={description:"",displayName:"WidgetContainer",props:{shouldHighlight:{defaultValue:null,description:"",name:"shouldHighlight",required:!0,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},initialProps:{defaultValue:null,description:"",name:"initialProps",required:!0,type:{name:"any"}},linterContext:{defaultValue:{value:'{\n    contentType: "",\n    highlightLint: false,\n    paths: [] as ReadonlyArray<any>,\n    stack: [] as ReadonlyArray<any>,\n}'},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widget-container.tsx#WidgetContainer"]={docgenInfo:WidgetContainer.__docgenInfo,name:"WidgetContainer",path:"packages/perseus/src/widget-container.tsx#WidgetContainer"})}catch(__react_docgen_typescript_loader_error){}var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),perseus_renderer=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[12].use[1]!./node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[12].use[2]!./packages/perseus/src/styles/perseus-renderer.less"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(perseus_renderer.Z,options);perseus_renderer.Z&&perseus_renderer.Z.locals&&perseus_renderer.Z.locals;function renderer_extends(){return renderer_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},renderer_extends.apply(this,arguments)}const{mapObject,mapObjectFromArray}=objective_.default,rContainsNonWhitespace=/\S/,rImageURL=/(web\+graphie|https):\/\/[^\s]*/,noopOnRender=()=>{},SHOULD_CLEAR_WIDGETS_PROP_LIST=["content","problemNum","widgets"],makeContainerId=id=>"container:"+id;class Renderer extends react.Component{_widgetContainers=new Map;static defaultProps={content:"",widgets:{},images:{},highlightedWidgets:[],questionCompleted:!1,onRender:noopOnRender,onInteractWithWidget:function(){},findExternalWidgets:()=>[],alwaysUpdate:!1,reviewMode:!1,serializedState:null,onSerializedStateUpdated:()=>{},linterContext:src.j_};constructor(props){super(props),this._translationLinter=new TranslationLinter,this.state={jiptContent:null,translationLintErrors:[],lastUsedWidgetId:null,...this._getInitialWidgetState(props)}}componentDidMount(){this._isMounted=!0,this.handleRender({}),this._currentFocus=null,this.props.serializedState&&this.restoreSerializedState(this.props.serializedState),this.props.linterContext.highlightLint&&this._translationLinter.runLinter(this.props.content,this.handletranslationLintErrors)}UNSAFE_componentWillReceiveProps(nextProps){index_all.ZP.isEqual(index_all.ZP.pick(this.props,SHOULD_CLEAR_WIDGETS_PROP_LIST),index_all.ZP.pick(nextProps,SHOULD_CLEAR_WIDGETS_PROP_LIST))||this.setState(this._getInitialWidgetState(nextProps))}shouldComponentUpdate(nextProps,nextState){if(this.props.alwaysUpdate)return!0;const stateChanged=!index_all.ZP.isEqual(this.state,nextState);return!index_all.ZP.isEqual(this.props,nextProps)||stateChanged}UNSAFE_componentWillUpdate(nextProps,nextState){const oldJipt=this.shouldRenderJiptPlaceholder(this.props,this.state),newJipt=this.shouldRenderJiptPlaceholder(nextProps,nextState),oldContent=this.getContent(this.props,this.state),newContent=this.getContent(nextProps,nextState),oldHighlightedWidgets=this.props.highlightedWidgets,newHighlightedWidgets=nextProps.highlightedWidgets;this.reuseMarkdown=!oldJipt&&!newJipt&&oldContent===newContent&&index_all.ZP.isEqual(this.state.translationLintErrors,nextState.translationLintErrors)&&(!this.props.linterContext.highlightLint||index_all.ZP.isEqual(this.props.widgets,nextProps.widgets))&&this.props.linterContext.highlightLint===nextProps.linterContext.highlightLint&&oldHighlightedWidgets===newHighlightedWidgets}componentDidUpdate(prevProps,prevState){this.handleRender(prevProps),index_all.ZP.each(this.widgetIds,(id=>{const container=this._widgetContainers.get(makeContainerId(id));container&&container.replaceWidgetProps(this.getWidgetProps(id))})),this.props.serializedState&&!index_all.ZP.isEqual(this.props.serializedState,this.getSerializedState())&&this.restoreSerializedState(this.props.serializedState),this.props.linterContext.highlightLint&&this._translationLinter.runLinter(this.props.content,this.handletranslationLintErrors)}componentWillUnmount(){this.widgetIds=[],null!=this.translationIndex&&(0,dependencies.getDependencies)().rendererTranslationComponents.removeComponentAtIndex(this.translationIndex),this._isMounted=!1}getApiOptions=()=>({...perseus_api._.defaults,...this.props.apiOptions});_getInitialWidgetState=props=>{const allWidgetInfo=this._getAllWidgetsInfo(props);return{widgetInfo:allWidgetInfo,widgetProps:this._getAllWidgetsStartProps(allWidgetInfo,props)}};_getAllWidgetsInfo=props=>mapObject(props.widgets,((widgetInfo,widgetId)=>{if(!widgetInfo.type||!widgetInfo.alignment){const newValues={};widgetInfo.type||(newValues.type=widgetId.split(" ")[0]),widgetInfo.alignment||(newValues.alignment="default"),widgetInfo=index_all.ZP.extend({},widgetInfo,newValues)}return widgets.upgradeWidgetInfoToLatestVersion(widgetInfo)}));_getAllWidgetsStartProps=(allWidgetInfo,props)=>{const{apiOptions,problemNum}=props,widgetsStartProps={};return(0,es.qh)(allWidgetInfo).forEach((_ref=>{let[key,widgetInfo]=_ref;widgetsStartProps[key]=widgets.getRendererPropsForWidgetInfo(widgetInfo,problemNum)})),apiOptions?.onWidgetStartProps?.(widgetsStartProps),widgetsStartProps};_getDefaultWidgetInfo=widgetId=>{const widgetIdParts=util.default.rTypeFromWidgetId.exec(widgetId);return null==widgetIdParts?{}:{type:widgetIdParts[1],graded:!0,options:{}}};_getWidgetInfo=widgetId=>this.state.widgetInfo[widgetId]||this._getDefaultWidgetInfo(widgetId);renderWidget=(impliedType,id,state)=>{const widgetInfo=this.state.widgetInfo[id];if(widgetInfo&&"full-width"===widgetInfo.alignment&&(state.foundFullWidth=!0),widgetInfo){const type=widgetInfo&&widgetInfo.type||impliedType,shouldHighlight=index_all.ZP.contains(this.props.highlightedWidgets,id);return react.createElement(widget_container,{key:makeContainerId(id),id,ref:node=>{const containerId=makeContainerId(id);null!=node?this._widgetContainers.set(containerId,node):this._widgetContainers.delete(containerId)},type,initialProps:this.getWidgetProps(id),shouldHighlight,linterContext:src.fQ(this.props.linterContext,"widget")})}return null};getWidgetProps=id=>{var _this=this;const apiOptions=this.getApiOptions(),widgetProps=this.state.widgetProps[id]||{};let reviewModeRubric=null;const widgetInfo=this.state.widgetInfo[id];this.props.reviewMode&&widgetInfo&&(reviewModeRubric=widgetInfo.options),this._interactionTrackers||(this._interactionTrackers={});let interactionTracker=this._interactionTrackers[id];return interactionTracker||(interactionTracker=this._interactionTrackers[id]=new interaction_tracker(apiOptions.trackInteraction,widgetInfo&&widgetInfo.type,id,widgets.getTracking(widgetInfo&&widgetInfo.type))),{...widgetProps,widgetId:id,alignment:widgetInfo&&widgetInfo.alignment,static:widgetInfo&&widgetInfo.static&&!this.props.problemNum,problemNum:this.props.problemNum,apiOptions:this.getApiOptions(),keypadElement:this.props.keypadElement,questionCompleted:this.props.questionCompleted,onFocus:index_all.ZP.partial(this._onWidgetFocus,id),onBlur:index_all.ZP.partial(this._onWidgetBlur,id),findWidgets:this.findWidgets,reviewModeRubric,onChange:function(newProps,cb){let silent=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_this._setWidgetProps(id,newProps,cb,silent)},trackInteraction:interactionTracker.track,isLastUsedWidget:id===this.state.lastUsedWidgetId}};getSerializedState=widgetProps=>mapObject(widgetProps||this.state.widgetProps,((props,widgetId)=>{const widget=this.getWidgetInstance(widgetId);return widget&&widget.getSerializedState?widget.getSerializedState():props}));restoreSerializedState=(serializedState,callback)=>{const serializedWidgetIds=index_all.ZP.keys(serializedState),widgetPropIds=index_all.ZP.keys(this.state.widgetProps);if(serializedWidgetIds.length!==widgetPropIds.length||index_all.ZP.intersection(serializedWidgetIds,widgetPropIds).length!==serializedWidgetIds.length)return void log.Z.error("Refusing to restore bad serialized state:",log.D.Internal,{loggedMetadata:{serializedState:JSON.stringify(serializedState),currentProps:JSON.stringify(this.state.widgetProps)}});let numCallbacks=1;const fireCallback=()=>{--numCallbacks,callback&&0===numCallbacks&&callback()};this.setState({widgetProps:mapObject(serializedState,((props,widgetId)=>{const widget=this.getWidgetInstance(widgetId);if(widget&&widget.restoreSerializedState){++numCallbacks;const restoreResult=widget.restoreSerializedState(props,fireCallback);return index_all.ZP.extend({},this.state.widgetProps[widgetId],restoreResult)}return props}))},(()=>{setTimeout(fireCallback,0)}))};showRationalesForCurrentlySelectedChoices=()=>{Object.keys(this.props.widgets).forEach((widgetId=>{const widget=this.getWidgetInstance(widgetId);widget&&widget.showRationalesForCurrentlySelectedChoices&&widget.showRationalesForCurrentlySelectedChoices(this._getWidgetInfo(widgetId).options)}))};deselectIncorrectSelectedChoices=()=>{Object.keys(this.props.widgets).forEach((widgetId=>{const widget=this.getWidgetInstance(widgetId);widget&&widget.deselectIncorrectSelectedChoices&&widget.deselectIncorrectSelectedChoices()}))};findInternalWidgets=filterCriterion=>{let filterFunc;if("string"==typeof filterCriterion)if(-1!==filterCriterion.indexOf(" ")){const widgetId=filterCriterion;filterFunc=(id,widgetInfo,widget)=>id===widgetId}else{const widgetType=filterCriterion;filterFunc=(id,widgetInfo,widget)=>widgetInfo.type===widgetType}else filterFunc=filterCriterion;return this.widgetIds.filter((id=>{const widgetInfo=this._getWidgetInfo(id),widget=this.getWidgetInstance(id);return filterFunc(id,widgetInfo,widget)})).map(this.getWidgetInstance)};findWidgets=filterCriterion=>[...this.findInternalWidgets(filterCriterion),...this.props.findExternalWidgets(filterCriterion)];getWidgetInstance=id=>{const ref=this._widgetContainers.get(makeContainerId(id));return ref?ref.getWidget():null};_onWidgetFocus=(()=>{var _this2=this;return function(id){let focusPath=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!index_all.ZP.isArray(focusPath))throw new perseus_error.u("widget props.onFocus focusPath must be an Array, but was"+JSON.stringify(focusPath),log.D.Internal);_this2._setCurrentFocus([id].concat(focusPath))}})();_onWidgetBlur=(id,blurPath)=>{const blurringFocusPath=this._currentFocus,fullPath=[id].concat(blurPath);index_all.ZP.isEqual(fullPath,blurringFocusPath)&&index_all.ZP.defer((()=>{index_all.ZP.isEqual(this._currentFocus,blurringFocusPath)&&this._setCurrentFocus(null)}))};getContent=(props,state)=>state.jiptContent||props.content;shouldRenderJiptPlaceholder=(props,state)=>(0,dependencies.getDependencies)().JIPT.useJIPT&&null==state.jiptContent&&-1!==props.content.indexOf("crwdns");replaceJiptContent=(content,paragraphIndex)=>{if(null==paragraphIndex)this.setState({jiptContent:content});else{/^\s*(`{3,}|~{3,})\s*(\S+)?\s*\n([\s\S]+?)\s*\1\s*$/.test(content)||(/\S\n\s*\n\S/.test(content)?content="$\\large{\\red{\\text{Please translate each paragraph to a single paragraph.}}}$":/^\s*$/.test(content)&&(content="$\\large{\\red{\\text{Translated paragraph is currently empty}}}$"));const allContent=this.getContent(this.props,this.state),paragraphs=jipt_paragraphs.Z.parseToArray(allContent);paragraphs[paragraphIndex]=content,this.setState({jiptContent:jipt_paragraphs.Z.joinFromArray(paragraphs)})}};outputMarkdown=(ast,state)=>{if(index_all.ZP.isArray(ast)){const oldKey=state.key,result=[];let lastWasString=!1;for(let i=0;i<ast.length;i++){state.key=i,state.paragraphIndex=i;const nodeOut=this.outputMarkdown(ast[i],state),isString="string"==typeof nodeOut;"string"==typeof nodeOut&&lastWasString?result[result.length-1]+=nodeOut:result.push(nodeOut),lastWasString=isString}return state.key=oldKey,result}this._foundTextNodes=!1,state.foundFullWidth=!1;const output=this.outputNested(ast,state);let className;return className=null!=this.translationIndex?null:classnames_default()({"perseus-paragraph-centered":!this._foundTextNodes,"perseus-paragraph-full-width":state.foundFullWidth&&1===ast.content.length}),react.createElement(question_paragraph,{key:state.key,className,translationIndex:this.translationIndex,paragraphIndex:state.paragraphIndex,inline:this.props.inline},react.createElement(error_boundary,null,output))};outputNested=(ast,state)=>{if(index_all.ZP.isArray(ast)){const oldKey=state.key,result=[];let lastWasString=!1;for(let i=0;i<ast.length;i++){state.key=i;const nodeOut=this.outputNested(ast[i],state),isString="string"==typeof nodeOut;"string"==typeof nodeOut&&lastWasString?result[result.length-1]+=nodeOut:result.push(nodeOut),lastWasString=isString}return state.key=oldKey,result}return this.outputNode(ast,this.outputNested,state)};outputNode=(node,nestedOutput,state)=>{const apiOptions=this.getApiOptions(),imagePlaceholder=apiOptions.imagePlaceholder;if("widget"===node.type){const widgetPlaceholder=apiOptions.widgetPlaceholder;return widgetPlaceholder||(this._foundTextNodes=!0,index_all.ZP.contains(this.widgetIds,node.id)?react.createElement("span",{key:state.key,className:"renderer-widget-error"},["Widget [[","☃"," ",node.id,"]] already exists."].join("")):(this.widgetIds.push(node.id),this.renderWidget(node.widgetType,node.id,state)))}if("blockMath"===node.type){const content=(0,katex_preprocess.Z)(node.content),innerStyle={overflowX:"auto",overflowY:"hidden",paddingTop:10,paddingBottom:10,marginTop:-10,marginBottom:-10};if(apiOptions.isMobile){const margin=16,outerStyle={marginLeft:-margin,marginRight:-margin},horizontalPadding={paddingLeft:margin,paddingRight:margin},mobileInnerStyle={...innerStyle,...styles.mobileZoomableParentFix};return react.createElement("div",{key:state.key,className:"perseus-block-math",style:outerStyle},react.createElement(error_boundary,null,react.createElement("div",{className:"perseus-block-math-inner",style:{...mobileInnerStyle,...horizontalPadding}},react.createElement(zoomable_tex.Z,null,content))))}return react.createElement("div",{key:state.key,className:"perseus-block-math"},react.createElement(error_boundary,null,react.createElement("div",{className:"perseus-block-math-inner",style:innerStyle},react.createElement(asset_context.Z.Consumer,null,(_ref2=>{let{setAssetStatus}=_ref2;return react.createElement(components_tex.Z,{setAssetStatus},content)})))))}if("math"===node.type){const tex=node.content.replace(/\{align[*]?\}/g,"{aligned}");return react.createElement("span",{key:state.key,style:{whiteSpace:"nowrap"}},react.createElement(error_boundary,null,react.createElement("span",null),react.createElement(asset_context.Z.Consumer,null,(_ref3=>{let{setAssetStatus}=_ref3;return react.createElement(components_tex.Z,{onRender:this.props.onRender,setAssetStatus},tex)})),react.createElement("span",null)))}if("image"===node.type){if(imagePlaceholder)return imagePlaceholder;const extraAttrs=index_all.ZP.has(this.props.images,node.target)?this.props.images[node.target]:null,responsive=!state.inTable;return react.createElement(error_boundary,{key:state.key},react.createElement(asset_context.Z.Consumer,null,(_ref4=>{let{setAssetStatus}=_ref4;return react.createElement(svg_image.Z,renderer_extends({setAssetStatus,src:perseus_markdown.Z.sanitizeUrl(node.target),alt:node.alt,title:node.title,responsive,onUpdate:this.props.onRender,zoomToFullSizeOnMobile:apiOptions.isMobile&&apiOptions.isArticle},extraAttrs))})))}if("columns"===node.type)return this._isTwoColumn=!0,react.createElement(error_boundary,{key:state.key},perseus_markdown.Z.ruleOutput(node,nestedOutput,state));if("text"===node.type)return rContainsNonWhitespace.test(node.content)&&(this._foundTextNodes=!0),imagePlaceholder&&rImageURL.test(node.content)?imagePlaceholder:node.content;if("table"===node.type||"titledTable"===node.type){const output=perseus_markdown.Z.ruleOutput(node,nestedOutput,{...state,isMobile:apiOptions.isMobile,inTable:!0});if(!apiOptions.isMobile)return output;const margin=16,outerStyle={marginLeft:-margin,marginRight:-margin},mobileInnerStyle={...{paddingLeft:0,paddingRight:0},...styles.mobileZoomableParentFix},wrappedOutput=react.createElement("div",{style:{...mobileInnerStyle,overflowX:"auto"}},react.createElement(error_boundary,null,react.createElement(zoomable.Z,{animateHeight:!0},output)));return react.createElement("div",{style:outerStyle},wrappedOutput)}return react.createElement(error_boundary,{key:state.key},perseus_markdown.Z.ruleOutput(node,nestedOutput,state))};handleRender=prevProps=>{const onRender=this.props.onRender,oldOnRender=prevProps.onRender;if(onRender!==noopOnRender||oldOnRender!==noopOnRender){const $images=jquery_default()(react_dom.findDOMNode(this)).find("img");oldOnRender!==noopOnRender&&$images.off("load",oldOnRender),onRender!==noopOnRender&&$images.on("load",onRender)}onRender()};_setCurrentFocus=path=>{const apiOptions=this.getApiOptions();if(prefixArray=path,wholeArray=this._currentFocus,!(null===prefixArray||null===wholeArray?prefixArray===wholeArray:index_all.ZP.every(prefixArray,((elem,i)=>{if(null!=wholeArray)return index_all.ZP.isEqual(elem,wholeArray[i])})))){const prevFocus=this._currentFocus;prevFocus&&this.blurPath(prevFocus),this._currentFocus=path,apiOptions.onFocusChange(this._currentFocus,prevFocus)}var prefixArray,wholeArray};focus=()=>{let id,focusResult;for(let i=0;i<this.widgetIds.length;i++){const widgetId=this.widgetIds[i],widget=this.getWidgetInstance(widgetId),widgetFocusResult=widget&&widget.focus&&widget.focus();if(widgetFocusResult){id=widgetId,focusResult=widgetFocusResult;break}}if(id){let path;return"object"==typeof focusResult?(path=[id].concat(focusResult.path||[]),log.Z.error("Renderer received a focus result of type 'object' instead of the expected type 'boolean'",log.D.Internal,{loggedMetadata:{focusResult:JSON.stringify(focusResult),currentProps:JSON.stringify(this.state.widgetProps)}})):path=[id],this._setCurrentFocus(path),!0}};getDOMNodeForPath=path=>{const widgetId=index_all.ZP.first(path),interWidgetPath=index_all.ZP.rest(path),widget=this.getWidgetInstance(widgetId),getNode=widget&&widget.getDOMNodeForPath;return getNode?getNode(interWidgetPath):0===interWidgetPath.length?react_dom.findDOMNode(widget):void 0};getGrammarTypeForPath=path=>{const widgetId=index_all.ZP.first(path),interWidgetPath=index_all.ZP.rest(path),widget=this.getWidgetInstance(widgetId);if(widget&&widget.getGrammarTypeForPath)return widget.getGrammarTypeForPath(interWidgetPath)};getInputPaths=()=>{const inputPaths=[];return index_all.ZP.each(this.widgetIds,(widgetId=>{const widget=this.getWidgetInstance(widgetId);if(widget&&widget.getInputPaths){const widgetInputPaths=widget.getInputPaths();index_all.ZP.each(widgetInputPaths,(inputPath=>{const relativeInputPath=[widgetId].concat(inputPath);inputPaths.push(relativeInputPath)}))}})),inputPaths};focusPath=path=>{if(index_all.ZP.isEqual(this._currentFocus,path))return;this._currentFocus&&this.blurPath(this._currentFocus);const widgetId=index_all.ZP.first(path),interWidgetPath=index_all.ZP.rest(path),focusWidget=this.getWidgetInstance(widgetId);focusWidget&&focusWidget.focusInputPath&&focusWidget.focusInputPath(interWidgetPath)};blurPath=path=>{if(!index_all.ZP.isEqual(this._currentFocus,path))return;const widgetId=index_all.ZP.first(path),interWidgetPath=index_all.ZP.rest(path);if(this.getWidgetInstance(widgetId)){const blurWidget=this.getWidgetInstance(widgetId);blurWidget&&blurWidget.blurInputPath&&blurWidget.blurInputPath(interWidgetPath)}};blur=()=>{this._currentFocus&&this.blurPath(this._currentFocus)};serialize=()=>{const state={};return index_all.ZP.each(this.state.widgetInfo,(function(info,id){const s=this.getWidgetInstance(id).serialize();index_all.ZP.isEmpty(s)||(state[id]=s)}),this),state};emptyWidgets=()=>index_all.ZP.filter(this.widgetIds,(id=>{const widgetInfo=this._getWidgetInfo(id);if(widgetInfo.static)return!1;const widget=this.getWidgetInstance(id);if(widget&&widget.simpleValidate){const score=widget.simpleValidate(widgetInfo.options,null);return util.default.scoreIsEmpty(score)}}));_setWidgetProps=(id,newProps,cb,silent)=>{this.setState((prevState=>{const widgetProps={...prevState.widgetProps,[id]:{...prevState.widgetProps[id],...newProps}},lastUsedWidgetId=silent?prevState.lastUsedWidgetId:id;return silent||this.props.onSerializedStateUpdated(this.getSerializedState(widgetProps)),{lastUsedWidgetId,widgetProps}}),(()=>{setTimeout((()=>{const cbResult=cb&&cb();silent||this.props.onInteractWithWidget(id),!1!==cbResult&&this._setCurrentFocus([id])}),0)}))};setInputValue=(path,newValue,focus)=>{const widgetId=index_all.ZP.first(path),interWidgetPath=index_all.ZP.rest(path),widget=this.getWidgetInstance(widgetId);widget?.setInputValue?.(interWidgetPath,newValue,focus)};getUserInput=()=>this.widgetIds.map((id=>{const widget=this.getWidgetInstance(id);if(widget&&widget.getUserInput)return widget.getUserInput()}));getWidgetIds=()=>this.widgetIds;getUserInputForWidgets=()=>mapObjectFromArray(this.widgetIds,(id=>{const widget=this.getWidgetInstance(id);if(widget&&widget.getUserInput)return widget.getUserInput()}));scoreWidgets=()=>{const widgetProps=this.state.widgetInfo,onInputError=this.getApiOptions().onInputError,gradedWidgetIds=index_all.ZP.filter(this.widgetIds,(id=>{const props=widgetProps[id];return(null==props?.graded||props.graded)&&!!!props?.static})),widgetScores={};return index_all.ZP.each(gradedWidgetIds,(id=>{const props=widgetProps[id],widget=this.getWidgetInstance(id);widget&&widget.simpleValidate&&(widgetScores[id]=widget.simpleValidate({...props?.options,scoring:!0},onInputError))})),widgetScores};score=()=>index_all.ZP.reduce(this.scoreWidgets(),util.default.combineScores,util.default.noScore);guessAndScore=()=>[this.getUserInput(),this.score()];examples=()=>{const widgetIds=this.widgetIds,examples=index_all.ZP.compact(index_all.ZP.map(widgetIds,(widgetId=>{const widget=this.getWidgetInstance(widgetId);return null!=widget&&widget.examples?widget.examples():null})));if(!examples.length)return null;return index_all.ZP.all(examples,(function(example){return index_all.ZP.isEqual(examples[0],example)}))?examples[0]:null};handletranslationLintErrors=lintErrors=>{this._isMounted&&this.setState({translationLintErrors:lintErrors})};render(){const apiOptions=this.getApiOptions();if(this.reuseMarkdown)return this.lastRenderedMarkdown;const content=this.getContent(this.props,this.state);if(this.widgetIds=[],this.shouldRenderJiptPlaceholder(this.props,this.state)&&(this.translationIndex||(this.translationIndex=(0,dependencies.getDependencies)().rendererTranslationComponents.addComponent(this)),!apiOptions.isArticle))return react.createElement(definition_context.M,null,react.createElement("div",{"data-perseus-component-index":this.translationIndex},content));this._isTwoColumn=!1;const parsedMarkdown=this.props.inline?perseus_markdown.Z.parseInline(content,{isJipt:null!=this.translationIndex}):perseus_markdown.Z.parse(content,{isJipt:null!=this.translationIndex});if(this.props.linterContext.highlightLint){const context={content:this.props.content,widgets:this.props.widgets,...this.props.linterContext};src.WI(parsedMarkdown,context,!0),this._translationLinter.applyLintErrors(parsedMarkdown,[...this.state.translationLintErrors,...this.props.legacyPerseusLint||[]])}const markdownContents=this.outputMarkdown(parsedMarkdown,{baseElements:apiOptions.baseElements}),className=classnames_default()({[perseus_api.m.RENDERER]:!0,[perseus_api.m.RESPONSIVE_RENDERER]:!0,[perseus_api.m.TWO_COLUMN_RENDERER]:this._isTwoColumn});return this.lastRenderedMarkdown=react.createElement(definition_context.M,null,react.createElement("div",{className},markdownContents)),this.lastRenderedMarkdown}}const styles={mobileZoomableParentFix:{transform:"translate3d(0,0,0)"}},renderer=Renderer;try{Renderer.displayName="Renderer",Renderer.__docgenInfo={description:"",displayName:"Renderer",props:{analytics:{defaultValue:null,description:"",name:"analytics",required:!1,type:{name:"{ onAnalyticsEvent: AnalyticsEventHandlerFn; }"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},alwaysUpdate:{defaultValue:{value:"false"},description:"",name:"alwaysUpdate",required:!1,type:{name:"boolean"}},findExternalWidgets:{defaultValue:{value:"() => []"},description:"",name:"findExternalWidgets",required:!1,type:{name:"any"}},highlightedWidgets:{defaultValue:{value:"[]"},description:"",name:"highlightedWidgets",required:!1,type:{name:"readonly any[]"}},images:{defaultValue:{value:"{}"},description:"",name:"images",required:!1,type:{name:"{ [key: string]: PerseusImageDetail; }"}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},onInteractWithWidget:{defaultValue:{value:"function () {}"},description:"",name:"onInteractWithWidget",required:!1,type:{name:"(id: string) => void"}},onRender:{defaultValue:{value:"() => {}"},description:"",name:"onRender",required:!1,type:{name:"(node?: any) => void"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!1,type:{name:"number"}},questionCompleted:{defaultValue:{value:"false"},description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},reviewMode:{defaultValue:{value:"false"},description:"",name:"reviewMode",required:!1,type:{name:"boolean | null"}},content:{defaultValue:{value:""},description:"",name:"content",required:!1,type:{name:"string"}},serializedState:{defaultValue:{value:"null"},description:"",name:"serializedState",required:!1,type:{name:"any"}},onSerializedStateUpdated:{defaultValue:{value:"() => {}"},description:"",name:"onSerializedStateUpdated",required:!1,type:{name:"(serializedState: { [key: string]: any; }) => unknown"}},linterContext:{defaultValue:{value:"PerseusLinter.linterContextDefault"},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},legacyPerseusLint:{defaultValue:null,description:"",name:"legacyPerseusLint",required:!1,type:{name:"readonly string[]"}},widgets:{defaultValue:{value:"{}"},description:"",name:"widgets",required:!1,type:{name:"{ [key: string]: PerseusWidget; }"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/renderer.tsx#Renderer"]={docgenInfo:Renderer.__docgenInfo,name:"Renderer",path:"packages/perseus/src/renderer.tsx#Renderer"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/server-item-renderer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>ServerItemRenderer,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),aphrodite__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_asset_context__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/asset-context.ts"),_dependencies__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/dependencies.ts"),_hints_renderer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/hints-renderer.tsx"),_interactive2_objective___WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/interactive2/objective_.ts"),_loading_context__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/loading-context.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_renderer__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/perseus/src/util.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const{mapObject}=_interactive2_objective___WEBPACK_IMPORTED_MODULE_7__.default;class ServerItemRenderer extends react__WEBPACK_IMPORTED_MODULE_2__.Component{static defaultProps={apiOptions:{},linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_,onRendered:isRendered=>{}};constructor(props){super(props),this.state={questionCompleted:!1,questionHighlightedWidgets:[],assetStatuses:{}},this._fullyRendered=!1}componentDidMount(){this._currentFocus=null,this._fullyRendered=!1}UNSAFE_componentWillReceiveProps(nextProps){this.setState({questionHighlightedWidgets:[]})}componentDidUpdate(prevProps,prevState){if(this.props.apiOptions.answerableCallback){const isAnswerable=0===this.questionRenderer.emptyWidgets().length,{answerableCallback}=this.props.apiOptions;answerableCallback&&answerableCallback(isAnswerable)}if(!this._fullyRendered){Object.values(this.state.assetStatuses).every(Boolean)&&(this._fullyRendered=!0,this.props.onRendered(!0))}}componentWillUnmount(){null!=this.blurTimeoutID&&(clearTimeout(this.blurTimeoutID),this.blurTimeoutID=null)}_handleFocusChange=(newFocus,oldFocus)=>{null!=newFocus?(this._setCurrentFocus(newFocus),this.props.apiOptions?.interactionCallback?.(this.questionRenderer.getUserInputForWidgets())):this._onRendererBlur(oldFocus)};_setCurrentFocus(newFocus){const{apiOptions:{isMobile,onFocusChange},keypadElement}=this.props,prevFocus=this._currentFocus;this._currentFocus=newFocus;const inputPaths=this.getInputPaths(),didFocusInput=this._currentFocus&&inputPaths.some((inputPath=>_util__WEBPACK_IMPORTED_MODULE_11__.default.inputPathsEqual(inputPath,this._currentFocus)));null!=onFocusChange&&setTimeout((()=>{const keypadDomNode=keypadElement?.getDOMNode(),keypadHeight=keypadDomNode&&didFocusInput?keypadDomNode.getBoundingClientRect().height:0;onFocusChange(this._currentFocus,prevFocus,keypadHeight,didFocusInput&&this.questionRenderer.getDOMNodeForPath(newFocus))}),0),keypadElement&&isMobile&&(didFocusInput?keypadElement.activate():keypadElement.dismiss())}_onRendererBlur(blurPath){const blurringFocusPath=this._currentFocus;underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.isEqual(blurPath,blurringFocusPath)&&(this.blurTimeoutID=setTimeout((()=>{underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.isEqual(this._currentFocus,blurringFocusPath)&&this._setCurrentFocus(null)}),0))}_setWidgetProps(widgetId,newProps,callback){this.questionRenderer._setWidgetProps(widgetId,newProps,callback)}setInputValue(path,newValue,focus){return this.questionRenderer.setInputValue(path,newValue,focus)}focusPath(path){return this.questionRenderer.focusPath(path)}blurPath(path){return this.questionRenderer.blurPath(path)}getDOMNodeForPath(path){return this.questionRenderer.getDOMNodeForPath(path)}getGrammarTypeForPath(path){return this.questionRenderer.getGrammarTypeForPath(path)}getInputPaths(){return this.questionRenderer.getInputPaths()}handleInteractWithWidget=widgetId=>{const withRemoved=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.difference(this.state.questionHighlightedWidgets,[widgetId]);this.setState({questionCompleted:!1,questionHighlightedWidgets:withRemoved}),this.props.apiOptions?.interactionCallback?.(this.questionRenderer.getUserInputForWidgets())};focus(){return this.questionRenderer.focus()}blur(){this._currentFocus&&this.blurPath(this._currentFocus)}getNumHints(){return this.props.item.hints.length}scoreInput(){const guessAndScore=this.questionRenderer.guessAndScore(),guess=guessAndScore[0],score=guessAndScore[1],maxCompatGuess=[guess,[]],keScore=_util__WEBPACK_IMPORTED_MODULE_11__.default.keScoreFromPerseusScore(score,maxCompatGuess,this.questionRenderer.getSerializedState()),emptyQuestionAreaWidgets=this.questionRenderer.emptyWidgets();return this.setState({questionCompleted:keScore.correct,questionHighlightedWidgets:emptyQuestionAreaWidgets}),keScore}getWidgetIds(){return this.questionRenderer.getWidgetIds()}scoreWidgets(){const qScore=this.questionRenderer.scoreWidgets(),qGuess=this.questionRenderer.getUserInputForWidgets(),state=this.questionRenderer.getSerializedState();return mapObject(qScore,((score,id)=>_util__WEBPACK_IMPORTED_MODULE_11__.default.keScoreFromPerseusScore(score,qGuess[id],state)))}getSerializedState(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}}restoreSerializedState(state,callback){let numCallbacks=2;const fireCallback=()=>{--numCallbacks,callback&&0===numCallbacks&&callback()};this.questionRenderer.restoreSerializedState(state.question,fireCallback),this.hintsRenderer.restoreSerializedState(state.hints,fireCallback)}showRationalesForCurrentlySelectedChoices(){this.questionRenderer.showRationalesForCurrentlySelectedChoices()}deselectIncorrectSelectedChoices(){this.questionRenderer.deselectIncorrectSelectedChoices()}setAssetStatus=(assetKey,status)=>{const assetStatuses={...this.state.assetStatuses,[assetKey]:status};this.setState({assetStatuses})};render(){const apiOptions={..._perseus_api__WEBPACK_IMPORTED_MODULE_9__._.defaults,...this.props.apiOptions,onFocusChange:this._handleFocusChange},contextValue={assetStatuses:this.state.assetStatuses,setAssetStatus:this.setAssetStatus},questionRenderer=react__WEBPACK_IMPORTED_MODULE_2__.createElement(_asset_context__WEBPACK_IMPORTED_MODULE_4__.Z.Provider,{value:contextValue},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_10__.Z,_extends({keypadElement:this.props.keypadElement,problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions,questionCompleted:this.state.questionCompleted,reviewMode:this.props.reviewMode,ref:elem=>{null!=elem&&(this.questionRenderer=elem)},content:this.props.item.question.content,widgets:this.props.item.question.widgets,images:this.props.item.question.images,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.fQ(this.props.linterContext,"question")},this.props.dependencies))),hintsRenderer=react__WEBPACK_IMPORTED_MODULE_2__.createElement(_hints_renderer__WEBPACK_IMPORTED_MODULE_6__.Z,{hints:this.props.item.hints,hintsVisible:this.props.hintsVisible,apiOptions,ref:elem=>this.hintsRenderer=elem,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.fQ(this.props.linterContext,"hints")});return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_dependencies__WEBPACK_IMPORTED_MODULE_5__.DependenciesContext.Provider,{value:this.props.dependencies},react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",null,questionRenderer),react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:apiOptions.isMobile?void 0:(0,aphrodite__WEBPACK_IMPORTED_MODULE_1__.css)(styles.hintsContainer)},hintsRenderer)))}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({hintsContainer:{marginLeft:50}}),__WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(((props,ref)=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(_loading_context__WEBPACK_IMPORTED_MODULE_8__.Z.Consumer,null,(_ref=>{let{onRendered}=_ref;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(ServerItemRenderer,_extends({},props,{onRendered,ref}))}))));try{ServerItemRenderer.displayName="ServerItemRenderer",ServerItemRenderer.__docgenInfo={description:"",displayName:"ServerItemRenderer",props:{apiOptions:{defaultValue:{value:"{} as any"},description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},hintsVisible:{defaultValue:null,description:"",name:"hintsVisible",required:!1,type:{name:"number"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"PerseusItem"}},linterContext:{defaultValue:{value:"PerseusLinter.linterContextDefault"},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!1,type:{name:"number"}},reviewMode:{defaultValue:null,description:"",name:"reviewMode",required:!1,type:{name:"boolean"}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"KeypadAPI | null"}},dependencies:{defaultValue:null,description:"",name:"dependencies",required:!0,type:{name:"PerseusDependenciesV2"}},onRendered:{defaultValue:{value:"(isRendered: boolean) => {}"},description:"",name:"onRendered",required:!1,type:{name:"(isRendered: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/server-item-renderer.tsx#ServerItemRenderer"]={docgenInfo:ServerItemRenderer.__docgenInfo,name:"ServerItemRenderer",path:"packages/perseus/src/server-item-renderer.tsx#ServerItemRenderer"})}catch(__react_docgen_typescript_loader_error){}try{serveritemrenderer.displayName="serveritemrenderer",serveritemrenderer.__docgenInfo={description:"",displayName:"serveritemrenderer",props:{apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"KeypadAPI | null"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!1,type:{name:"number"}},reviewMode:{defaultValue:null,description:"",name:"reviewMode",required:!1,type:{name:"boolean"}},linterContext:{defaultValue:null,description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},hintsVisible:{defaultValue:null,description:"",name:"hintsVisible",required:!1,type:{name:"number"}},dependencies:{defaultValue:null,description:"",name:"dependencies",required:!0,type:{name:"PerseusDependenciesV2"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"PerseusItem"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/server-item-renderer.tsx#serveritemrenderer"]={docgenInfo:serveritemrenderer.__docgenInfo,name:"serveritemrenderer",path:"packages/perseus/src/server-item-renderer.tsx#serveritemrenderer"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/sigfigs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>displaySigFigs,n:()=>SignificantFigures});class SignificantFigures{constructor(s){this.order=parseOrder(s),this.mantissa=parseMantissa(s),this.positive=parseSign(s),this.sigFigs=this.mantissa.length,this.sigDecs=this.order-this.mantissa.length}}function displaySigFigs(f,sigFigs,sigDecs,scientific){const s=""+f;let add,decAdd,sigAdd,order=parseOrder(s),mantissa=parseMantissa(s),positive=parseSign(s),zeroScientific=!1;if(0==f||""==mantissa||"0"==mantissa){mantissa="";for(let i=0;i<sigFigs;i++)mantissa+="0";order=sigFigs+sigDecs,sigDecs<0&&-sigDecs>=sigFigs&&(zeroScientific=!0)}else{if(decAdd=order-mantissa.length-sigDecs,sigAdd=sigFigs-mantissa.length,add=Math.min(sigAdd,decAdd),add<0){let rounded=round(mantissa,-add);rounded.length>mantissa.length+add&&(order++,decAdd>sigAdd&&(rounded=round(rounded,1))),mantissa=rounded}else if(add>0)for(let i=0;i<add;i++)mantissa+="0";""!=mantissa&&"0"!=mantissa||(mantissa="0",positive=!0,order=1+sigDecs,0!=order&&(zeroScientific=!0))}let returnVal="";if(positive||(returnVal+="-"),scientific||mantissa.length>20||order>4||order<-2||order-mantissa.length>0&&trailingZeros(mantissa)>0||zeroScientific)returnVal+=mantissa.charAt(0),mantissa.length>1&&(returnVal+="."+mantissa.substring(1,mantissa.length)),order-1!=0&&(returnVal+=" x 10^"+(order-1));else{let wholePart="",fractPart="",needDot=!0;if(order>0)if(mantissa.length>order)wholePart=mantissa.substring(0,order),fractPart=mantissa.substring(order,mantissa.length);else{wholePart=mantissa,needDot=0!=trailingZeros(mantissa);for(let i=0;i<order-mantissa.length;i++)wholePart+="0"}else{for(let i=0;i<-order;i++)fractPart+="0";fractPart+=mantissa}returnVal+=(""==wholePart?"0":wholePart)+(needDot?".":"")+fractPart}return returnVal}function trailingZeros(mantissa){let zeros=0;for(let i=mantissa.length-1;i>=0;i--){if("0"!=mantissa.charAt(i))return zeros;zeros++}return zeros}function parseSign(s){let beginning=!0,seenDot=!1,seenSomething=!1,zeros="",leadZeros="",all="",decPlaces=0,totalDecs=0,pos=!0;for(let i=0;i<s.length;i++){const c=s.charAt(i);if(c>="1"&&c<="9")all+=zeros+c,zeros="",seenSomething=!0,seenDot||(totalDecs++,decPlaces++),beginning=!1;else if("0"==c)seenDot?seenSomething?(all+=zeros+c,zeros=""):(leadZeros+=c,decPlaces--):(totalDecs++,seenSomething?(leadZeros+=c,decPlaces++,zeros+=c):leadZeros+=c),beginning=!1;else if(seenDot||"."!=c)if("e"==c||"E"==c&&i+1<s.length){const raised=parseInt(s.substring(i+1,s.length));decPlaces+=raised,totalDecs+=raised,i=s.length}else!beginning||"+"!=c&&"-"!=c||"-"==c&&(pos=!pos);else all+=zeros,zeros="",seenDot=!0,beginning=!1}return""==all||pos}function parseMantissa(s){let beginning=!0,seenDot=!1,seenSomething=!1,zeros="",leadZeros="",all="",decPlaces=0,totalDecs=0,pos=!0;for(let i=0;i<s.length;i++){const c=s.charAt(i);if(c>="1"&&c<="9")all+=zeros+c,zeros="",seenSomething=!0,seenDot||(totalDecs++,decPlaces++),beginning=!1;else if("0"==c)seenDot?seenSomething?(all+=zeros+c,zeros=""):(leadZeros+=c,decPlaces--):(totalDecs++,seenSomething?(leadZeros+=c,decPlaces++,zeros+=c):leadZeros+=c),beginning=!1;else if(seenDot||"."!=c)if("e"==c||"E"==c&&i+1<s.length){const raised=parseInt(s.substring(i+1,s.length));decPlaces+=raised,totalDecs+=raised,i=s.length}else!beginning||"+"!=c&&"-"!=c||"-"==c&&(pos=!pos);else all+=zeros,zeros="",seenDot=!0,beginning=!1}return""==all?leadZeros:all}function parseOrder(s){let beginning=!0,seenDot=!1,seenSomething=!1,zeros="",leadZeros="",all="",decPlaces=0,totalDecs=0,pos=!0;for(let i=0;i<s.length;i++){const c=s.charAt(i);if(c>="1"&&c<="9")all+=zeros+c,zeros="",seenSomething=!0,seenDot||(totalDecs++,decPlaces++),beginning=!1;else if("0"==c)seenDot?seenSomething?(all+=zeros+c,zeros=""):(leadZeros+=c,decPlaces--):(totalDecs++,seenSomething?(leadZeros+=c,decPlaces++,zeros+=c):leadZeros+=c),beginning=!1;else if(seenDot||"."!=c)if("e"==c||"E"==c&&i+1<s.length){const raised=parseInt(s.substring(i+1,s.length));decPlaces+=raised,totalDecs+=raised,i=s.length}else!beginning||"+"!=c&&"-"!=c||"-"==c&&(pos=!pos);else all+=zeros,zeros="",seenDot=!0,beginning=!1}return""==all?totalDecs:decPlaces}function round(mantissa,digits){const last=mantissa.length-digits-1;if(last<0)return"";if(last>=mantissa.length-1)return mantissa;const nextToLast=mantissa.charAt(last+1),lastChar=mantissa.charAt(last);let roundUp=!1;if(nextToLast>"5")roundUp=!0;else if("5"==nextToLast){for(let j=last+2;j<mantissa.length;j++)"0"!=mantissa.charAt(j)&&(roundUp=!0);lastChar%2==1&&(roundUp=!0)}let result="";for(let i=last;i>=0;i--){const c=mantissa.charAt(i);if(roundUp){let nextChar;if("9"==c)nextChar="0";else{switch(c){case"0":nextChar="1";break;case"1":nextChar="2";break;case"2":nextChar="3";break;case"3":nextChar="4";break;case"4":nextChar="5";break;case"5":nextChar="6";break;case"6":nextChar="7";break;case"7":nextChar="8";break;case"8":nextChar="9"}roundUp=!1}result=nextChar+result}else result=c+result}return roundUp&&(result="1"+result),result}},"./packages/perseus/src/styles/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$I:()=>gray17,Gl:()=>baseFontFamily,Gu:()=>gray95,Gw:()=>articleMaxWidthInPx,KK:()=>publishBlockingErrorColor,Ke:()=>kaGreen,NV:()=>boldFontFamily,Yw:()=>gray85,ce:()=>gray97,checkedColor:()=>checkedColor,circleSize:()=>circleSize,eS:()=>hintBorderWidth,hZ:()=>baseUnitPx,interactiveSizes:()=>interactiveSizes,ix:()=>white,mi:()=>negativePhoneMargin,nI:()=>warningColor,o:()=>gray76,pureLgMax:()=>pureLgMax,pureLgMin:()=>pureLgMin,pureMdMax:()=>pureMdMax,pureMdMin:()=>pureMdMin,pureSmMax:()=>pureSmMax,pureSmMin:()=>pureSmMin,pureXlMin:()=>pureXlMin,pureXsMax:()=>pureXsMax,radioBorderColor:()=>radioBorderColor,radioMarginWidth:()=>radioMarginWidth,rk:()=>warningColorActive,ty:()=>warningColorHover,uD:()=>gray68,yB:()=>phoneMargin,yx:()=>articleMaxWidthTableInPx,zC:()=>tableBackgroundAccent,zIndexAboveScratchpad:()=>zIndexAboveScratchpad,zIndexInteractiveComponent:()=>zIndexInteractiveComponent});const baseFontFamily="'Lato', sans-serif",boldFontFamily="'Lato-Bold', 'Lato', sans-serif",kaGreen="#71B307",white="#FFFFFF",gray97="#F6F7F7",gray95="#F0F1F2",gray85="#D6D8DA",gray76="#BABEC2",gray68="#888D93",gray17="#21242c",pureSmMin="568px",pureMdMin="768px",pureLgMin="1024px",pureXlMin="1280px",pureXsMax="567px",pureSmMax="767px",pureMdMax="1023px",pureLgMax="1279px",tableBackgroundAccent="#F9F9F9",zIndexAboveScratchpad=2,zIndexInteractiveComponent=3,phoneMargin=16,negativePhoneMargin=-16,hintBorderWidth=4,baseUnitPx=16,interactiveSizes={defaultBoxSize:400,defaultBoxSizeSmall:288},circleSize=24,radioMarginWidth=2,warningColor="#f86700",warningColorHover="#df5c00",warningColorActive="#c75300",publishBlockingErrorColor="#be2612",radioBorderColor="#BABEC2",checkedColor="#71B307",articleMaxWidthInPx=688,articleMaxWidthTableInPx=512},"./packages/perseus/src/styles/global-constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ke2:()=>kaGreen,M4N:()=>homepageBlue,PdU:()=>kaBlue,S_i:()=>backgroundBlue,_Po:()=>kaBlueLight,fzC:()=>kaGreenLight,g5L:()=>zindexDropdown,n$N:()=>learnstormBlue,tvc:()=>alertRed});const zindexDropdown=1e3,kaGreen="#71B307",kaGreenLight="#BED47A",kaBlue="#314453",kaBlueLight="#4D6779",alertRed="#C42420",learnstormBlue="#4898FC",homepageBlue="#46A8BF",backgroundBlue="#00294A"},"./packages/perseus/src/styles/global-styles.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{borderRadius:()=>borderRadius,colors:()=>colors,typography:()=>typography});var _global_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/styles/global-constants.ts"),_media_queries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus/src/styles/media-queries.ts");const colors={white:"#FFFFFF",gray98:"#FAFAFA",gray97:"#F6F7F7",gray95:"#F0F1F2",gray90:"#E3E5E6",gray85:"#D6D8DA",gray76:"#BABEC2",gray72:"#999A9D",gray68:"#888D93",gray55:"#707378",gray41:"#626569",gray25:"#3B3E40",gray17:"#21242C",gray10:"#1499af",black:"#000000",alertRed:_global_constants__WEBPACK_IMPORTED_MODULE_1__.tvc,homepageBlue:_global_constants__WEBPACK_IMPORTED_MODULE_1__.M4N,kaBlue:_global_constants__WEBPACK_IMPORTED_MODULE_1__.PdU,kaBlueLight:_global_constants__WEBPACK_IMPORTED_MODULE_1__._Po,kaGreen:_global_constants__WEBPACK_IMPORTED_MODULE_1__.Ke2,kaGreenLight:_global_constants__WEBPACK_IMPORTED_MODULE_1__.fzC,learnstormBlue:_global_constants__WEBPACK_IMPORTED_MODULE_1__.n$N,backgroundBlue:_global_constants__WEBPACK_IMPORTED_MODULE_1__.S_i,adminGreen:"#78C008",kaBlueExtraLight:"#39c2db",kaBlueHover:"#0c7f99",kaGreenHover:"#518005",skyDark:"#001f4d",recommendationGold:"#ffbe26",starAced:"#ff9c39",google:"#C1432f",modernGoogle:"#be2612",modernGoogleHover:"#8c1c0d",facebook:"#4267B2",modernFacebook:"#4267B2",modernFacebookHover:"#00294a",wonderBlocksGold:"#FFB100",wonderBlocksLightBlue:"#37C5FD",breadcrumbs:"rgba(255, 255, 255, 0.7)"},borderRadius=4,breadcrumbStyles={color:colors.breadcrumbs,fontFamily:"inherit",fontSize:15,fontWeight:"bold",letterSpacing:.8,lineHeight:"19px",textTransform:"uppercase",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased"},fonts_regular="inherit",typography={subjectHeadingDesktop:{fontFamily:"inherit",fontSize:50,fontWeight:"bold",lineHeight:"61px"},subjectHeadingMobile:{fontFamily:"inherit",fontSize:35,fontWeight:"bold",lineHeight:"37px"},conceptHeadingDesktop:{fontFamily:"inherit",fontSize:35,fontWeight:"bold",lineHeight:"37px"},conceptHeadingMobile:{fontFamily:"inherit",fontSize:23,fontWeight:"bold",lineHeight:"27px"},subheadingDesktop:{fontFamily:"inherit",fontSize:23,fontWeight:"bold",lineHeight:"27px"},subheadingMobile:{fontFamily:"inherit",fontSize:20,fontWeight:"bold",lineHeight:"24px"},smallSubheadingDesktop:{fontFamily:"inherit",fontSize:20,lineHeight:1.25},smallSubheadingMobile:{fontFamily:"inherit",fontSize:15,lineHeight:1.25},smallHeading:{color:colors.gray25,fontFamily:"inherit",fontSize:17,fontWeight:"bold",lineHeight:"23px"},smallHeadingMobile:{color:colors.gray25,fontFamily:"inherit",fontSize:15,fontWeight:"bold",lineHeight:"18px"},accentHeading:{color:colors.gray68,fontFamily:"inherit",fontSize:15,fontWeight:"bold",letterSpacing:.8,lineHeight:"19px",textTransform:"uppercase"},bodyLarge:{fontFamily:fonts_regular,fontSize:20,lineHeight:"30px"},bodySmall:{fontFamily:fonts_regular,fontSize:17,fontWeight:"normal",lineHeight:"23px"},bodySmallBold:{fontFamily:fonts_regular,fontSize:17,fontWeight:"bold",lineHeight:"23px"},bodyXsmall:{fontFamily:fonts_regular,fontSize:15,lineHeight:"22px"},bodyXsmallBold:{fontFamily:"inherit",fontSize:15,fontWeight:"bold",lineHeight:"22px"},breadcrumb:breadcrumbStyles,breadcrumbSmall:{...breadcrumbStyles,fontSize:12,lineHeight:"13px"},labelLarge:{fontFamily:"inherit",fontSize:23,fontWeight:"bold",lineHeight:"27px"},labelMedium:{fontFamily:"inherit",fontSize:15,fontWeight:"bold",lineHeight:"18px"},labelSmall:{fontFamily:fonts_regular,fontSize:12,lineHeight:"14px"},caption:{fontFamily:fonts_regular,fontSize:14,fontStyle:"italic",lineHeight:"17px"},desktopScalingOnMobile:{MozTextSizeAdjust:"100%",MsTextSizeAdjust:"100%",WebkitTextSizeAdjust:"100%"},modalSubtitle:{fontSize:12,lineHeight:1.65,WebkitFontSmoothing:"antialiased",fontWeight:"bold"},wonderBlocksHeader:{paddingLeft:16,paddingRight:16,paddingBottom:24,paddingTop:34,[_media_queries__WEBPACK_IMPORTED_MODULE_0__.Z.mdOrLarger]:{paddingBottom:32}},wonderBlocksTitle:{color:colors.white,fontWeight:900,fontSize:28,lineHeight:"32px",margin:0,[_media_queries__WEBPACK_IMPORTED_MODULE_0__.Z.mdOrLarger]:{fontSize:36,lineHeight:"40px"}},wonderBlocksLabelLarge:{fontSize:16,lineHeight:"20px",fontWeight:700}}},"./packages/perseus/src/styles/media-queries.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus/src/styles/constants.ts");const{pureXsMax,pureSmMin,pureSmMax,pureMdMin,pureMdMax,pureLgMin,pureLgMax,pureXlMin}=_constants__WEBPACK_IMPORTED_MODULE_0__,__WEBPACK_DEFAULT_EXPORT__={xs:`@media screen and (max-width: ${pureXsMax})`,sm:`@media screen and (min-width: ${pureSmMin}) and (max-width: ${pureSmMax})`,md:`@media screen and (min-width: ${pureMdMin}) and (max-width: ${pureMdMax})`,lg:`@media screen and (min-width: ${pureLgMin}) and (max-width: ${pureLgMax})`,xl:`@media screen and (min-width: ${pureXlMin})`,xsOrSmaller:`@media screen and (max-width: ${pureXsMax})`,smOrSmaller:`@media screen and (max-width: ${pureSmMax})`,mdOrSmaller:`@media screen and (max-width: ${pureMdMax})`,lgOrSmaller:`@media screen and (max-width: ${pureLgMax})`,smOrLarger:`@media screen and (min-width: ${pureSmMin})`,mdOrLarger:`@media screen and (min-width: ${pureMdMin})`,lgOrLarger:`@media screen and (min-width: ${pureLgMin})`,xlOrLarger:`@media screen and (min-width: ${pureXlMin})`}},"./packages/perseus/src/styles/shared.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var aphrodite__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/styles/constants.ts"),_media_queries__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/styles/media-queries.ts");const{zIndexAboveScratchpad,zIndexInteractiveComponent,radioBorderColor,checkedColor,circleSize,radioMarginWidth}=_constants__WEBPACK_IMPORTED_MODULE_1__,__WEBPACK_DEFAULT_EXPORT__=aphrodite__WEBPACK_IMPORTED_MODULE_0__.StyleSheet.create({perseusInteractive:{zIndex:zIndexInteractiveComponent,position:"relative"},aboveScratchpad:{position:"relative",zIndex:zIndexAboveScratchpad},blankBackground:{backgroundColor:"#FDFDFD"},perseusSrOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},responsiveLabel:{[_media_queries__WEBPACK_IMPORTED_MODULE_2__.Z.smOrSmaller]:{fontSize:14,lineHeight:1.3},[_media_queries__WEBPACK_IMPORTED_MODULE_2__.Z.md]:{fontSize:17,lineHeight:1.4},[_media_queries__WEBPACK_IMPORTED_MODULE_2__.Z.lgOrLarger]:{fontSize:20,lineHeight:1.4}},responsiveInput:{display:"inline-block",WebkitAppearance:"none",appearance:"none","::-ms-check":{display:"none"},backgroundColor:"#fff",border:"2px solid #fff",boxShadow:`0 0px 0px 1px ${radioBorderColor}`,outline:"none",boxSizing:"border-box",flexShrink:0,marginBottom:1,marginLeft:1,marginRight:1,marginTop:1,height:circleSize-2,width:circleSize-2},responsiveRadioInput:{borderRadius:"50%",":checked":{backgroundColor:checkedColor,border:"none",borderRadius:"50%",boxShadow:`inset 0px 0px 0px 2px white, 0 0px 0px 2px ${checkedColor}`,marginTop:radioMarginWidth,marginBottom:radioMarginWidth,marginLeft:radioMarginWidth,marginRight:radioMarginWidth,height:circleSize-2*radioMarginWidth,width:circleSize-2*radioMarginWidth}},responsiveRadioInputActive:{backgroundColor:"#fff",border:"2px solid #fff",borderRadius:"50%",boxShadow:`0 0px 0px 2px ${checkedColor}`,marginTop:radioMarginWidth,marginBottom:radioMarginWidth,marginLeft:radioMarginWidth,marginRight:radioMarginWidth,height:circleSize-2*radioMarginWidth,width:circleSize-2*radioMarginWidth,":checked":{backgroundColor:"#fff"}},disableTextSelection:{userSelect:"none"}})},"./packages/perseus/src/tex-wrangler.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function parseNextExpression(tex,currentIndex,handler){const nextExpIndex=tex.indexOf("{",currentIndex)+1,endpoint=function findEndpoint(tex,currentIndex){let bracketDepth=0;for(let i=currentIndex,len=tex.length;i<len;i++){const c=tex[i];if("{"===c?bracketDepth++:"}"===c&&bracketDepth--,bracketDepth<0)return i}return tex.length}(tex,nextExpIndex);return{endpoint,expression:walkTex(tex.substring(nextExpIndex,endpoint),handler)}}function getNextFracIndex(tex,currentIndex){const nextFrac=tex.indexOf("\\frac",currentIndex),nextDFrac=tex.indexOf("\\dfrac",currentIndex);return nextFrac>-1&&nextDFrac>-1?Math.min(nextFrac,nextDFrac):nextFrac>-1?nextFrac:nextDFrac>-1?nextDFrac:-1}function walkTex(tex,handler){if(!tex)return"";let parsedString="",currentIndex=0,nextFrac=getNextFracIndex(tex,currentIndex);for(;nextFrac>-1;){parsedString+=tex.substring(currentIndex,nextFrac),currentIndex=nextFrac;const firstParsedExpression=parseNextExpression(tex,currentIndex,handler);currentIndex=firstParsedExpression.endpoint+1;const secondParsedExpression=parseNextExpression(tex,currentIndex,handler);currentIndex=secondParsedExpression.endpoint+1,parsedString.length&&(parsedString+=" "),parsedString+=handler(firstParsedExpression.expression,secondParsedExpression.expression),nextFrac=getNextFracIndex(tex,currentIndex)}return parsedString+=tex.slice(currentIndex),parsedString}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={parseTex:function parseTex(tex){return walkTex(tex,(function(exp1,exp2){return exp1+"/"+exp2})).replace("\\%","%")},modifyTex:function modifyTex(tex){function isNestedFraction(tex){return tex.indexOf("\\frac")>-1||tex.indexOf("\\dfrac")>-1}return walkTex(tex,(function(exp1,exp2){let prefix;return prefix=isNestedFraction(exp1)||isNestedFraction(exp2)?"\\dfrac":"\\frac",prefix+" {"+exp1+"}{"+exp2+"}"}))}}},"./packages/perseus/src/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>util});var index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),log=__webpack_require__("./packages/perseus/src/logging/log.ts"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts"),answer_types=__webpack_require__("./packages/perseus/src/util/answer-types.ts");const svgLabelsRegex=/^web\+graphie:/,svgLocalLabelsRegex=/^file\+graphie:/;function getRealImageUrl(graphieUrl){return isLabeledSVG(graphieUrl)?getSvgUrl(graphieUrl):graphieUrl}function isLabeledSVG(graphieUrl){return svgLabelsRegex.test(graphieUrl)||svgLocalLabelsRegex.test(graphieUrl)}function getBaseUrl(graphieUrl){return graphieUrl.replace(svgLabelsRegex,"https:").replace(svgLocalLabelsRegex,"file:")}function getSvgUrl(graphieUrl){return getBaseUrl(graphieUrl)+".svg"}let supportsPassive=!1;const nestedMap=function(children,func,context){return Array.isArray(children)?index_all.ZP.map(children,(function(child){return nestedMap(child,func)})):func.call(context,children)};const rWidgetRule=/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,rWidgetParts=new RegExp(rWidgetRule.source+"$"),seededRNG=function(seed){let randomSeed=seed;return function(){let seed=randomSeed;return seed=seed+2127912214+(seed<<12)&4294967295,seed=4294967295&(3345072700^seed^seed>>>19),seed=seed+374761393+(seed<<5)&4294967295,seed=4294967295&(seed+3550635116^seed<<9),seed=seed+4251993797+(seed<<3)&4294967295,seed=4294967295&(3042594569^seed^seed>>>16),(randomSeed=268435455&seed)/268435456}};const split="x".split(/(.)/g).length?function(str,r){return str.split(r)}:function(str,r){const output=[];let match,lastIndex=r.lastIndex=0;for(;match=r.exec(str);){const m=match;output.push(str.slice(lastIndex,m.index)),output.push(...m.slice(1)),lastIndex=m.index+m[0].length}return output.push(str.slice(lastIndex)),output};function gridStepFromTickStep(tickStep,scale){const tickWidth=tickStep*scale,x=tickStep,y=Math.pow(10,Math.floor(Math.log(x)/Math.LN10)),leadingDigit=Math.floor(x/y);return tickWidth<25?tickStep:tickWidth<50?5===leadingDigit?tickStep:tickStep/2:1===leadingDigit?tickStep/2:2===leadingDigit?tickStep/4:5===leadingDigit?tickStep/5:void 0}function scaleFromExtent(extent,dimensionConstraint){return dimensionConstraint/(extent[1]-extent[0])}function tickStepFromNumTicks(span,numTicks){let step=Math.pow(10,Math.floor(Math.log(span/numTicks)/Math.LN10));const err=numTicks/span*step;return err<=.15?step*=10:err<=.35?step*=5:err<=.75&&(step*=2),step}const constrainTickStep=(step,range)=>{const span=range[1]-range[0],numTicks=span/step;return numTicks<=10?step:numTicks<=20?2*step:tickStepFromNumTicks(span,10)};const DeprecationMixin={UNSAFE_componentWillMount:function(){const newProps={};index_all.ZP.each(this.deprecatedProps,(function(func,prop){index_all.ZP.has(this.props,prop)&&index_all.ZP.extend(newProps,func(this.props))}),this),index_all.ZP.isEmpty(newProps)||(index_all.ZP.extend(this.props,newProps),setTimeout(this.props.onChange,0,newProps))}};function eq(x,y){return"number"==typeof x&&"number"==typeof y?Math.abs(x-y)<1e-9:x===y}const touchHandlers={pointerDown:!1,currentTouchIdentifier:null};const util_textarea={getWordBeforeCursor:function getWordBeforeCursor(textarea){const text=textarea.value,endPos=textarea.selectionStart-1,startPos=Math.max(text.lastIndexOf("\n",endPos),text.lastIndexOf(" ",endPos))+1;return{string:text.substring(startPos,endPos+1),pos:{start:startPos,end:endPos}}},moveCursor:function moveCursor(textarea,pos){textarea.selectionStart=pos,textarea.selectionEnd=pos}},random=seededRNG(4294967295&(new Date).getTime()),Util={inputPathsEqual:function inputPathsEqual(a,b){return null==a||null==b?null==a==(null==b):a.length===b.length&&a.every(((item,index)=>b[index]===item))},nestedMap,rWidgetRule,rTypeFromWidgetId:/^([a-z-]+) ([0-9]+)$/,rWidgetParts,snowman:"☃",noScore:{type:"points",earned:0,total:0,message:null},seededRNG,shuffle:function shuffle(array,randomSeed){let ensurePermuted=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const shuffled=index_all.ZP.clone(array);if(!shuffled.length||index_all.ZP.all(shuffled,(function(value){return index_all.ZP.isEqual(value,shuffled[0])})))return shuffled;let random;random="function"==typeof randomSeed?randomSeed:seededRNG(randomSeed);do{for(let top=shuffled.length;top>0;top--){const newEnd=Math.floor(random()*top),temp=shuffled[newEnd];shuffled[newEnd]=shuffled[top-1],shuffled[top-1]=temp}}while(ensurePermuted&&index_all.ZP.isEqual(array,shuffled));return shuffled},split,combineScores:function combineScores(scoreA,scoreB){let message;if("points"===scoreA.type&&"points"===scoreB.type)return message=scoreA.message&&scoreB.message&&scoreA.message!==scoreB.message?null:scoreA.message||scoreB.message,{type:"points",earned:scoreA.earned+scoreB.earned,total:scoreA.total+scoreB.total,message};if("points"===scoreA.type&&"invalid"===scoreB.type)return scoreB;if("invalid"===scoreA.type&&"points"===scoreB.type)return scoreA;if("invalid"===scoreA.type&&"invalid"===scoreB.type)return message=scoreA.message&&scoreB.message&&scoreA.message!==scoreB.message?null:scoreA.message||scoreB.message,{type:"invalid",message};throw new perseus_error.u("PerseusScore with unknown type encountered",log.D.InvalidInput,{metadata:{scoreA:JSON.stringify(scoreA),scoreB:JSON.stringify(scoreB)}})},keScoreFromPerseusScore:function keScoreFromPerseusScore(score,guess,state){if("points"===score.type)return{empty:!1,correct:score.earned>=score.total,message:score.message,guess,state};if("invalid"===score.type)return{empty:!0,correct:!1,message:score.message,suppressAlmostThere:score.suppressAlmostThere,guess,state};throw new perseus_error.u("Invalid score type: "+score.type,log.D.InvalidInput,{metadata:{score:JSON.stringify(score),guess:JSON.stringify(guess),state:JSON.stringify(state)}})},firstNumericalParse:function firstNumericalParse(text){let first;return answer_types.Z.predicate.createValidatorFunctional((function(ans){return first=ans,!0}),{simplify:"optional",inexact:!0,forms:"integer, proper, improper, pi, log, mixed, decimal"})(text),first},stringArrayOfSize:function stringArrayOfSize(size){return(0,index_all.ZP)(size).times((function(){return""}))},gridDimensionConfig:function gridDimensionConfig(absTickStep,extent,dimensionConstraint,gridStep){const scale=scaleFromExtent(extent,dimensionConstraint);return{scale,tickStep:absTickStep/gridStep,unityLabel:absTickStep*scale>30}},getGridStep:function getGridStep(range,step,boxSize){return(0,index_all.ZP)(2).times((function(i){const scale=scaleFromExtent(range[i],boxSize);return gridStepFromTickStep(step[i],scale)}))},snapStepFromGridStep:function snapStepFromGridStep(gridStep){return[gridStep[0]/2,gridStep[1]/2]},scaleFromExtent,tickStepFromExtent:function tickStepFromExtent(extent,dimensionConstraint){const span=extent[1]-extent[0];let tickFactor;return tickFactor=15<span&&span<=20?23:span>100||span<5?10:16,tickStepFromNumTicks(span,tickFactor*(dimensionConstraint/500))},gridStepFromTickStep,tickStepFromNumTicks,constrainedTickStepsFromTickSteps:function constrainedTickStepsFromTickSteps(tickSteps,ranges){return[constrainTickStep(tickSteps[0],ranges[0]),constrainTickStep(tickSteps[1],ranges[1])]},DeprecationMixin,eq,deepEq:function deepEq(x,y){if(Array.isArray(x)&&Array.isArray(y)){if(x.length!==y.length)return!1;for(let i=0;i<x.length;i++)if(!deepEq(x[i],y[i]))return!1;return!0}return!Array.isArray(x)&&!Array.isArray(y)&&("function"==typeof x&&"function"==typeof y?eq(x,y):"function"!=typeof x&&"function"!=typeof y&&("object"==typeof x&&"object"==typeof y&&x&&y?x===y||index_all.ZP.all(x,(function(v,k){return deepEq(y[k],v)}))&&index_all.ZP.all(y,(function(v,k){return deepEq(x[k],v)})):!("object"==typeof x&&x||"object"==typeof y&&y)&&eq(x,y)))},parseQueryString:function parseQueryString(query){query=query||window.location.search.substring(1);const urlParams={},a=/\+/g,r=/([^&=]+)=?([^&]*)/g,d=function(s){return decodeURIComponent(s.replace(a," "))};let e;for(;e=r.exec(query);){const m=e;urlParams[d(m[1])]=d(m[2])}return urlParams},updateQueryString:function updateQueryString(uri,key,value){value=encodeURIComponent(value);const re=new RegExp("([?&])"+key+"=.*?(&|$)","i"),separator=-1!==uri.indexOf("?")?"&":"?";return uri.match(re)?uri.replace(re,"$1"+key+"="+value+"$2"):uri+separator+key+"="+value},strongEncodeURIComponent:function strongEncodeURIComponent(str){return encodeURIComponent(str).replace(/['()!]/g,window.escape).replace(/\*/g,"%2A")},widgetShouldHighlight:function widgetShouldHighlight(widget){if(!widget)return!1;switch(widget.type){case"measurer":case"protractor":return!0;default:return!1}},scoreIsEmpty:function scoreIsEmpty(score){return"invalid"===score.type&&(!score.message||0===score.message.length)},touchHandlers,resetTouchHandlers:function resetTouchHandlers(){Object.assign(touchHandlers,{pointerDown:!1,currentTouchIdentifier:null})},extractPointerLocation:function extractPointerLocation(event){let touchOrEvent;if(touchHandlers.pointerDown){if(null!=touchHandlers.currentTouchIdentifier){const len=event.changedTouches?event.changedTouches.length:0;for(let i=0;i<len;i++)event.changedTouches[i].identifier===touchHandlers.currentTouchIdentifier&&(touchOrEvent=event.changedTouches[i])}else touchOrEvent=event;const isEndish="touchend"===event.type||"touchcancel"===event.type;touchOrEvent&&isEndish&&(touchHandlers.pointerDown=!1,touchHandlers.currentTouchIdentifier=null)}else touchHandlers.pointerDown=!0,event.changedTouches?(touchOrEvent=event.changedTouches[0],touchHandlers.currentTouchIdentifier=touchOrEvent.identifier):touchOrEvent=event;if(touchOrEvent)return{left:touchOrEvent.pageX,top:touchOrEvent.pageY}},supportsPassiveEvents:()=>{try{const opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("testPassive",null,opts),window.removeEventListener("testPassive",null,opts)}catch(e){}return supportsPassive},captureScratchpadTouchStart:function captureScratchpadTouchStart(e){e.stopPropagation()},getImageSize:function getImageSize(url,callback){const img=new Image;img.onload=function(){0===img.width&&0===img.height?(document.body?.appendChild(img),index_all.ZP.defer((function(){callback(img.clientWidth,img.clientHeight),document.body?.removeChild(img)}))):callback(img.width,img.height)},img.src=getRealImageUrl(url)},getImageSizeModern:async function getImageSizeModern(url){const image=new Image;return new Promise(((resolve,reject)=>{image.onload=()=>{resolve([image.naturalWidth,image.naturalHeight])},image.onerror=reject,image.src=getRealImageUrl(url)}))},getRealImageUrl,isLabeledSVG,getBaseUrl,getSvgUrl,getDataUrl:function getDataUrl(graphieUrl){return getBaseUrl(graphieUrl)+"-data.json"},textarea:util_textarea,unescapeMathMode:label=>label.startsWith("$")&&label.endsWith("$")?label.slice(1,-1):label,random},util=Util},"./packages/perseus/src/util/a11y.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var aphrodite__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/aphrodite/lib/index.js");const __WEBPACK_DEFAULT_EXPORT__=aphrodite__WEBPACK_IMPORTED_MODULE_0__.StyleSheet.create({srOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}})},"./packages/perseus/src/util/answer-types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kas/src/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),jquery__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__),underscore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_logging_log__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/logging/log.ts"),_perseus_error__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/perseus-error.ts"),_math__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/util/math.ts");const MAXERROR_EPSILON=Math.pow(2,-42),errors={APPROXIMATED_PI_ERROR:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Your answer is close, but you may have approximated pi. Enter your answer as a multiple of pi, like <code>12\\ \\text{pi}</code> or <code>2/3\\ \\text{pi}</code>"),EXTRA_SYMBOLS_ERROR:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("We could not understand your answer. Please check your answer for extra text or symbols."),NEEDS_TO_BE_SIMPLFIED_ERROR:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Your answer is almost correct, but it needs to be simplified."),MISSING_PERCENT_ERROR:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Your answer is almost correct, but it is missing a <code>\\%</code> at the end."),MULTIPLICATION_SIGN_ERROR:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign."),WRONG_CASE_ERROR:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Your answer includes use of a variable with the wrong case."),WRONG_LETTER_ERROR:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Your answer includes a wrong variable letter.")},KhanAnswerTypes={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function(predicate,options){let acceptableForms;options=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.extend({simplify:"required",ratio:!1,forms:KhanAnswerTypes.predicate.defaultForms},options),acceptableForms=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.isArray(options.forms)?options.forms:options.forms.split(/\s*,\s*/),void 0===options.inexact&&(options.maxError=0),options.maxError=+options.maxError+MAXERROR_EPSILON,underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.contains(acceptableForms,"percent")&&(acceptableForms=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.without(acceptableForms,"percent"),acceptableForms.push("percent"));const fractionTransformer=function(text){const match=(text=text.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"")).match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/),mobileDeviceMatch=text.match(/^([+-]?)\\frac\{([+-]?\d+)\}\{([+-]?\d+)\}$/),parsedInt=parseInt(text,10);if(match||mobileDeviceMatch){let num,denom,simplified=!0;return match?(num=parseFloat(match[1]),denom=parseFloat(match[2])):(num=parseFloat(mobileDeviceMatch[2]),"-"===mobileDeviceMatch[1]&&(num<0&&(simplified=!1),num=-num),denom=parseFloat(mobileDeviceMatch[3])),simplified=simplified&&denom>0&&(options.ratio||1!==denom)&&1===_math__WEBPACK_IMPORTED_MODULE_5__.ZP.getGCD(num,denom),[{value:num/denom,exact:simplified}]}return isNaN(parsedInt)||""+parsedInt!==text?[]:[{value:parsedInt,exact:!0}]},forms={integer:function(text){const decimal=forms.decimal(text),rounded=forms.decimal(text,1);return null!=decimal[0].value&&decimal[0].value===rounded[0].value||null!=decimal[1].value&&decimal[1].value===rounded[1].value?decimal:[]},proper:function(text){return jquery__WEBPACK_IMPORTED_MODULE_2___default().map(fractionTransformer(text),(function(o){return Math.abs(o.value)<1?[o]:[]}))},improper:function(text){return jquery__WEBPACK_IMPORTED_MODULE_2___default().map(fractionTransformer(text),(function(o){return Math.abs(o.value)>=1?[o]:[]}))},pi:function(text){let match,possibilities=[];if(match=(text=text.replace(/\u2212/,"-")).match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))possibilities=[{value:parseFloat(match[1]+"1"),exact:!0}];else if(match=text.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))possibilities=fractionTransformer(match[1]);else if(match=text.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){const sign=parseFloat(match[1]+"1"),integ=parseFloat(match[2]),num=parseFloat(match[3]),denom=parseFloat(match[4]);possibilities=[{value:sign*(integ+num/denom),exact:num<denom&&1===_math__WEBPACK_IMPORTED_MODULE_5__.ZP.getGCD(num,denom)}]}else if(match=text.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i))possibilities=fractionTransformer(match[1]+"/"+match[3]);else if(match=text.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i))possibilities=fractionTransformer(match[1]+"1/"+match[3]);else if("0"===text)possibilities=[{value:0,exact:!0}];else{if(!(match=text.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))){possibilities=underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.reduce(KhanAnswerTypes.predicate.defaultForms.split(/\s*,\s*/),(function(memo,form){return memo.concat(forms[form](text))}),[]);let approximatesPi=!1;const number=parseFloat(text);if(isNaN(number)||number===parseInt(text))text.match(/\/\s*7/)&&(approximatesPi=!0);else{const piMult=Math.PI/12,roundedNumber=piMult*Math.round(number/piMult);Math.abs(number-roundedNumber)<.01&&(approximatesPi=!0)}return approximatesPi&&underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.each(possibilities,(function(possibility){possibility.piApprox=!0})),possibilities}possibilities=forms.decimal(match[1])}let multiplier=Math.PI;return text.match(/\\?tau|t|\u03c4/)&&(multiplier=2*Math.PI),text.match(/pau/)&&(multiplier=1.5*Math.PI),jquery__WEBPACK_IMPORTED_MODULE_2___default().each(possibilities,(function(ix,possibility){possibility.value*=multiplier})),possibilities},coefficient:function(text){let possibilities=[];return""===(text=text.replace(/\u2212/,"-"))?possibilities=[{value:1,exact:!0}]:"-"===text&&(possibilities=[{value:-1,exact:!0}]),possibilities},log:function(text){let match,possibilities=[];return(match=(text=(text=text.replace(/\u2212/,"-")).replace(/[ \(\)]/g,"")).match(/^log\s*(\S+)\s*$/i))?possibilities=forms.decimal(match[1]):"0"===text&&(possibilities=[{value:0,exact:!0}]),possibilities},percent:function(text){text=jquery__WEBPACK_IMPORTED_MODULE_2___default().trim(text);let hasPercentSign=!1;text.indexOf("%")===text.length-1&&(text=jquery__WEBPACK_IMPORTED_MODULE_2___default().trim(text.substring(0,text.length-1)),hasPercentSign=!0);const transformed=forms.decimal(text);return jquery__WEBPACK_IMPORTED_MODULE_2___default().each(transformed,(function(ix,t){t.exact=hasPercentSign,t.value=t.value/100})),transformed},mixed:function(text){const match=text.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/);if(match){const sign=parseFloat(match[1]+"1"),integ=parseFloat(match[2]),num=parseFloat(match[3]),denom=parseFloat(match[4]);return[{value:sign*(integ+num/denom),exact:num<denom&&1===_math__WEBPACK_IMPORTED_MODULE_5__.ZP.getGCD(num,denom)}]}return[]},decimal:function(text){let precision=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;const normal=function(text){const match=(text=jquery__WEBPACK_IMPORTED_MODULE_2___default().trim(text)).replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/),badLeadingZero=text.match(/^0[0,]*,/);if(match&&!badLeadingZero){let x=parseFloat(match[1].replace(/[, ]/g,""));return void 0===options.inexact&&(x=Math.round(x*precision)/precision),x}};return[{value:normal(text),exact:!0},{value:function(text){return text=text.replace(/([\.,])/g,(function(_,c){return"."===c?",":"."})),normal(text)}(text),exact:!0}]}};return function(guess){const fallback=null!=options.fallback?""+options.fallback:"",score={empty:""===(guess=jquery__WEBPACK_IMPORTED_MODULE_2___default().trim(guess)||fallback),correct:!1,message:null,guess};if(jquery__WEBPACK_IMPORTED_MODULE_2___default().each(acceptableForms,(function(i,form){const transformed=forms[form](guess);for(let j=0,l=transformed.length;j<l;j++){const val=transformed[j].value,exact=transformed[j].exact,piApprox=transformed[j].piApprox;if(predicate(val,options.maxError))return exact||"optional"===options.simplify?(score.correct=!0,score.message=options.message||null,score.empty=!1):"percent"===form?(score.empty=!0,score.message=errors.MISSING_PERCENT_ERROR):("enforced"!==options.simplify&&(score.empty=!0),score.message=errors.NEEDS_TO_BE_SIMPLFIED_ERROR),!1;piApprox&&predicate(val,Math.abs(.001*val))&&(score.empty=!0,score.message=errors.APPROXIMATED_PI_ERROR)}})),!1===score.correct){let interpretedGuess=!1;if(underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.each(forms,(function(form){underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.any(form(guess),(function(t){return null!=t.value&&!underscore__WEBPACK_IMPORTED_MODULE_3__.ZP.isNaN(t.value)}))&&(interpretedGuess=!0)})),!interpretedGuess)return score.empty=!0,score.message=errors.EXTRA_SYMBOLS_ERROR,score}return score}}},number:{convertToPredicate:function(correctAnswer,options){const correctFloat=parseFloat(correctAnswer);return[function(guess,maxError){return Math.abs(guess-correctFloat)<maxError},jquery__WEBPACK_IMPORTED_MODULE_2___default().extend({},options,{type:"predicate"})]},createValidatorFunctional:function(correctAnswer,options){return KhanAnswerTypes.predicate.createValidatorFunctional(...KhanAnswerTypes.number.convertToPredicate(correctAnswer,options))}},expression:{parseSolution:function(solutionString,options){let solution=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.Qc(solutionString,options);if(!solution.parsed)throw new _perseus_error__WEBPACK_IMPORTED_MODULE_6__.u("The provided solution ("+solutionString+") didn't parse.",_logging_log__WEBPACK_IMPORTED_MODULE_4__.D.InvalidInput);if(options.simplified&&!solution.expr.isSimplified())throw new _perseus_error__WEBPACK_IMPORTED_MODULE_6__.u("The provided solution ("+solutionString+") isn't fully expanded and simplified.",_logging_log__WEBPACK_IMPORTED_MODULE_4__.D.InvalidInput);return solution=solution.expr,solution},createValidatorFunctional:function(solution,options){return function(guess){const score={empty:!1,correct:!1,message:null,guess,ungraded:!1};if(!guess)return score.empty=!0,score;const answer=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.Qc(guess,options);if(!answer.parsed)return score.empty=!0,score;"string"==typeof solution&&(solution=KhanAnswerTypes.expression.parseSolution(solution,options));const result=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.qu(answer.expr,solution,options);if(result.equal)score.correct=!0;else if(result.wrongVariableNames||result.wrongVariableCase)score.ungraded=!0,score.message=result.wrongVariableCase?errors.WRONG_CASE_ERROR:errors.WRONG_LETTER_ERROR,score.suppressAlmostThere=!0;else if(result.message)score.message=result.message;else{const answerX=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.Qc(guess.replace(/[xX]/g,"*"),options);if(answerX.parsed){const resultX=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.qu(answerX.expr,solution,options);resultX.equal?(score.ungraded=!0,score.message=errors.MULTIPLICATION_SIGN_ERROR):resultX.message&&(score.message=resultX.message+" Also, I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign.")}}return score}}}},__WEBPACK_DEFAULT_EXPORT__=KhanAnswerTypes},"./packages/perseus/src/util/colors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={BLUE:"#6495ED",ORANGE:"#FFA500",PINK:"#FF00AF",GREEN:"#28AE7B",PURPLE:"#9D38BD",RED:"#DF0030",GRAY:"gray",BLACK:"black",LIGHT_BLUE:"#9AB8ED",LIGHT_ORANGE:"#EDD19B",LIGHT_PINK:"#ED9BD3",LIGHT_GREEN:"#9BEDCE",LIGHT_PURPLE:"#DA9BED",LIGHT_RED:"#ED9AAC",LIGHT_GRAY:"#ED9B9B",LIGHT_BLACK:"#ED9B9B",GRAY10:"#D6D6D6",GRAY20:"#CDCDCD",GRAY30:"#B3B3B3",GRAY40:"#9A9A9A",GRAY50:"#808080",GRAY60:"#666666",GRAY70:"#4D4D4D",GRAY80:"#333333",GRAY90:"#1A1A1A",BLUE_A:"#CCFAFF",BLUE_B:"#80F6FF",BLUE_C:"#63D9EA",BLUE_D:"#11ACCD",BLUE_E:"#0C7F99",TEAL_A:"#94FFF5",TEAL_B:"#26EDD5",TEAL_C:"#01D1C1",TEAL_D:"#01A995",TEAL_E:"#208170",GREEN_A:"#B6FFB0",GREEN_B:"#8AF281",GREEN_C:"#74CF70",GREEN_D:"#1FAB54",GREEN_E:"#0D923F",GOLD_A:"#FFD0A9",GOLD_B:"#FFBB71",GOLD_C:"#FF9C39",GOLD_D:"#E07D10",GOLD_E:"#A75A05",RED_A:"#FCA9A9",RED_B:"#FF8482",RED_C:"#F9685D",RED_D:"#E84D39",RED_E:"#BC2612",MAROON_A:"#FFBDE0",MAROON_B:"#FF92C6",MAROON_C:"#ED5FA6",MAROON_D:"#CA337C",MAROON_E:"#9E034E",PURPLE_A:"#DDD7FF",PURPLE_B:"#C6B9FC",PURPLE_C:"#AA87FF",PURPLE_D:"#7854AB",PURPLE_E:"#543B78",MINT_A:"#F5F9E8",MINT_B:"#EDF2DF",MINT_C:"#E0E5CC",GRAY_A:"#F6F7F7",GRAY_B:"#F0F1F2",GRAY_C:"#E3E5E6",GRAY_D:"#D6D8DA",GRAY_E:"#BABEC2",GRAY_F:"#888D93",GRAY_G:"#626569",GRAY_H:"#3B3E40",GRAY_I:"#21242C",KA_BLUE:"#314453",KA_GREEN:"#71B307",_BACKGROUND:"#FDFDFD",INTERACTING:"#71B307",INTERACTIVE:"#71B307",DYNAMIC:"#6495ED"}},"./packages/perseus/src/util/geometry.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{GA:()=>getLineIntersection,P6:()=>canonicalSineCoefficients,TO:()=>angleMeasures,U1:()=>rotate,VE:()=>magnitude,Xx:()=>sign,al:()=>clockwise,bz:()=>similar,g5:()=>reverseVector,kK:()=>intersects,m4:()=>lawOfCosines,oH:()=>ccw,u1:()=>collinear,un:()=>getLineEquation,xr:()=>vector});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),underscore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/util.ts"),_math__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/util/math.ts");const{eq,deepEq}=_util__WEBPACK_IMPORTED_MODULE_2__.default;function sign(val){return eq(val,0)?0:val>0?1:-1}function ccw(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1])}function collinear(a,b,c){return eq(ccw(a,b,c),0)}function pointInRect(a,b,c){return c[0]<=Math.max(a[0],b[0])&&c[0]>=Math.min(a[0],b[0])&&c[1]<=Math.max(a[1],b[1])&&c[1]>=Math.min(a[1],b[1])}function intersects(ab,cd){const triplets=[[ab[0],ab[1],cd[0]],[ab[0],ab[1],cd[1]],[cd[0],cd[1],ab[0]],[cd[0],cd[1],ab[1]]],orientations=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.map(triplets,(function(triplet){return sign(ccw(...triplet))}));if(orientations[0]!==orientations[1]&&orientations[2]!==orientations[3])return!0;for(let i=0;i<4;i++)if(0===orientations[i]&&pointInRect(...triplets[i]))return!0;return!1}function vector(a,b){return underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.map(underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.zip(a,b),(function(pair){return pair[0]-pair[1]}))}function reverseVector(vector){return[-vector[0],-vector[1]]}function clockwise(points){const segments=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.zip(points,points.slice(1).concat(points.slice(0,1))),areas=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.map(segments,(function(segment){const p1=segment[0],p2=segment[1];return(p2[0]-p1[0])*(p2[1]+p1[1])}));return(0,_math__WEBPACK_IMPORTED_MODULE_3__.Sm)(areas)>0}function magnitude(v){return Math.sqrt(underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.reduce(v,(function(memo,el){return memo+Math.pow(el,2)}),0))}function sideLengths(coords){return underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.zip(coords,rotate(coords)).map((function(segment){return magnitude(vector(...segment))}))}function angleMeasures(coords){const triplets=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.zip(rotate(coords,-1),coords,rotate(coords,1)),offsets=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.map(triplets,(function(triplet){const p=vector(triplet[1],triplet[0]),q=vector(triplet[2],triplet[1]),raw=Math.acos(function dotProduct(a,b){return underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.reduce(underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.zip(a,b),(function(memo,pair){return memo+pair[0]*pair[1]}),0)}(p,q)/(magnitude(p)*magnitude(q)));return sign(ccw(...triplet))>0?raw:-raw})),sum=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.reduce(offsets,(function(memo,arg){return memo+arg}),0);return underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.map(offsets,(function(offset){return sum>0?Math.PI-offset:Math.PI+offset}))}function similar(coords1,coords2,tolerance){if(coords1.length!==coords2.length)return!1;const n=coords1.length,angles1=angleMeasures(coords1),angles2=angleMeasures(coords2),sides1=sideLengths(coords1),sides2=sideLengths(coords2);for(let i=0;i<2*n;i++){let angles=angles2.slice(),sides=sides2.slice();if(i>=n&&(angles.reverse(),sides.reverse(),sides=rotate(sides,1)),angles=rotate(angles,i),sides=rotate(sides,i),deepEq(angles1,angles)){const sidePairs=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.zip(sides1,sides),factors=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.map(sidePairs,(function(pair){return pair[0]/pair[1]})),same=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.all(factors,(function(factor){return eq(factors[0],factor)})),congruentEnough=underscore__WEBPACK_IMPORTED_MODULE_1__.ZP.all(sidePairs,(function(pair){return _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.equal(pair[0],pair[1],tolerance)}));if(same&&congruentEnough)return!0}}return!1}function lawOfCosines(a,b,c){return 180*Math.acos((a*a+b*b-c*c)/(2*a*b))/Math.PI}function canonicalSineCoefficients(_ref){let[amplitude,angularFrequency,phase,verticalOffset]=_ref;amplitude<0&&(amplitude*=-1,angularFrequency*=-1,phase*=-1);const period=2*Math.PI;for(angularFrequency<0&&(angularFrequency*=-1,phase*=-1,phase+=period/2);phase>0;)phase-=period;for(;phase<0;)phase+=period;return[amplitude,angularFrequency,phase,verticalOffset]}function rotate(array,n){return n=void 0===n?1:n%array.length,array.slice(n).concat(array.slice(0,n))}function getLineEquation(first,second){if(eq(first[0],second[0]))return"x = "+first[0].toFixed(3);const m=(second[1]-first[1])/(second[0]-first[0]),b=first[1]-m*first[0];return"y = "+m.toFixed(3)+"x + "+b.toFixed(3)}function getLineIntersection(firstPoints,secondPoints){const x1=firstPoints[0][0],y1=firstPoints[0][1],x2=firstPoints[1][0],y2=firstPoints[1][1],x3=secondPoints[0][0],y3=secondPoints[0][1],x4=secondPoints[1][0],y4=secondPoints[1][1],determinant=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(Math.abs(determinant)<1e-9)return"Lines are parallel";const y=((x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4))/determinant;return"Intersection: ("+(((x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4))/determinant).toFixed(3)+", "+y.toFixed(3)+")"}},"./packages/perseus/src/util/graph-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>graph_utils});var util_graphie=__webpack_require__("./packages/perseus/src/util/graphie.ts"),src=__webpack_require__("./packages/kmath/src/index.ts"),jquery=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js");!function($,window,document,undefined){if(void 0!==$){var dataPropertyName="virtualMouseBindings",touchTargetPropertyName="virtualTouchID",virtualEventNames="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),touchEventProps="clientX clientY pageX pageY screenX screenY".split(" "),mouseHookProps=$.event.mouseHooks?$.event.mouseHooks.props:[],mouseEventProps=$.event.props.concat(mouseHookProps),activeDocHandlers={},resetTimerID=0,startX=0,startY=0,didScroll=!1,clickBlockList=[],blockMouseTriggers=!1,blockTouchTriggers=!1,eventCaptureSupported="addEventListener"in document,$document=$(document),nextTouchID=1,lastTouchID=0;$.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var i=0;i<virtualEventNames.length;i++)$.event.special[virtualEventNames[i]]=getSpecialEventObject(virtualEventNames[i]);eventCaptureSupported&&document.addEventListener("click",(function(e){var x,y,ele,i,o,cnt=clickBlockList.length,target=e.target;if(cnt)for(x=e.clientX,y=e.clientY,threshold=$.vmouse.clickDistanceThreshold,ele=target;ele;){for(i=0;i<cnt;i++)if(o=clickBlockList[i],0,ele===target&&Math.abs(o.x-x)<threshold&&Math.abs(o.y-y)<threshold||$.data(ele,touchTargetPropertyName)===o.touchID)return e.preventDefault(),void e.stopPropagation();ele=ele.parentNode}}),!0)}function getNativeEvent(event){for(;event&&void 0!==event.originalEvent;)event=event.originalEvent;return event}function getVirtualBindingFlags(element){for(var b,k,flags={};element;){for(k in b=$.data(element,dataPropertyName))b[k]&&(flags[k]=flags.hasVirtualBinding=!0);element=element.parentNode}return flags}function disableTouchBindings(){blockTouchTriggers=!0}function disableMouseBindings(){!function enableTouchBindings(){blockTouchTriggers=!1}()}function startResetTimer(){clearResetTimer(),resetTimerID=setTimeout((function(){resetTimerID=0,function enableMouseBindings(){lastTouchID=0,clickBlockList.length=0,blockMouseTriggers=!1,disableTouchBindings()}()}),$.vmouse.resetTimerDuration)}function clearResetTimer(){resetTimerID&&(clearTimeout(resetTimerID),resetTimerID=0)}function triggerVirtualEvent(eventType,event,flags){var ve;return(flags&&flags[eventType]||!flags&&function getClosestElementWithVirtualBinding(element,eventType){for(var b;element;){if((b=$.data(element,dataPropertyName))&&(!eventType||b[eventType]))return element;element=element.parentNode}return null}(event.target,eventType))&&(ve=function createVirtualEvent(event,eventType){var oe,props,ne,prop,ct,touch,i,j,len,t=event.type;if((event=$.Event(event)).type=eventType,oe=event.originalEvent,props=$.event.props,t.search(/mouse/)>-1&&(props=mouseEventProps),oe)for(i=props.length;i;)event[prop=props[--i]]=oe[prop];if(t.search(/mouse(down|up)|click/)>-1&&!event.which&&(event.which=1),-1!==t.search(/^touch/)&&(t=(ne=getNativeEvent(oe)).touches,ct=ne.changedTouches,touch=t&&t.length?t[0]:ct&&ct.length?ct[0]:undefined))for(j=0,len=touchEventProps.length;j<len;j++)event[prop=touchEventProps[j]]=touch[prop];return event}(event,eventType),$(event.target).trigger(ve)),ve}function mouseEventCallback(event){var touchID=$.data(event.target,touchTargetPropertyName);if(!(blockMouseTriggers||lastTouchID&&lastTouchID===touchID)){var ve=triggerVirtualEvent("v"+event.type,event);ve&&(ve.isDefaultPrevented()&&event.preventDefault(),ve.isPropagationStopped()&&event.stopPropagation(),ve.isImmediatePropagationStopped()&&event.stopImmediatePropagation())}}function handleTouchStart(event){var target,flags,touches=getNativeEvent(event).touches;if(touches&&1===touches.length&&(flags=getVirtualBindingFlags(target=event.target)).hasVirtualBinding){lastTouchID=nextTouchID++,$.data(target,touchTargetPropertyName,lastTouchID),clearResetTimer(),disableMouseBindings(),didScroll=!1;var t=getNativeEvent(event).touches[0];startX=t.pageX,startY=t.pageY,triggerVirtualEvent("vmouseover",event,flags),triggerVirtualEvent("vmousedown",event,flags)}}function handleScroll(event){blockTouchTriggers||(didScroll||triggerVirtualEvent("vmousecancel",event,getVirtualBindingFlags(event.target)),didScroll=!0,startResetTimer())}function handleTouchMove(event){if(!blockTouchTriggers){var t=getNativeEvent(event).touches[0],didCancel=didScroll,moveThreshold=$.vmouse.moveDistanceThreshold,didScroll=didScroll||Math.abs(t.pageX-startX)>moveThreshold||Math.abs(t.pageY-startY)>moveThreshold,flags=getVirtualBindingFlags(event.target);didScroll&&!didCancel&&triggerVirtualEvent("vmousecancel",event,flags),triggerVirtualEvent("vmousemove",event,flags),startResetTimer()}}function handleTouchEnd(event){if(!blockTouchTriggers){disableTouchBindings();var t,flags=getVirtualBindingFlags(event.target);if(triggerVirtualEvent("vmouseup",event,flags),!didScroll){var ve=triggerVirtualEvent("vclick",event,flags);ve&&ve.isDefaultPrevented()&&(t=getNativeEvent(event).changedTouches[0],clickBlockList.push({touchID:lastTouchID,x:t.clientX,y:t.clientY}),blockMouseTriggers=!0)}triggerVirtualEvent("vmouseout",event,flags),didScroll=!1,startResetTimer()}}function hasVirtualBindings(ele){var k,bindings=$.data(ele,dataPropertyName);if(bindings)for(k in bindings)if(bindings[k])return!0;return!1}function dummyMouseHandler(){}function getSpecialEventObject(eventType){var realType=eventType.substr(1);return{setup:function(data,namespace){hasVirtualBindings(this)||$.data(this,dataPropertyName,{}),$.data(this,dataPropertyName)[eventType]=!0,activeDocHandlers[eventType]=(activeDocHandlers[eventType]||0)+1,1===activeDocHandlers[eventType]&&$document.bind(realType,mouseEventCallback),$(this).bind(realType,dummyMouseHandler),eventCaptureSupported&&(activeDocHandlers.touchstart=(activeDocHandlers.touchstart||0)+1,1===activeDocHandlers.touchstart&&$document.bind("touchstart",handleTouchStart).bind("touchend",handleTouchEnd).bind("touchmove",handleTouchMove).bind("scroll",handleScroll))},teardown:function(data,namespace){--activeDocHandlers[eventType],activeDocHandlers[eventType]||$document.unbind(realType,mouseEventCallback),eventCaptureSupported&&(--activeDocHandlers.touchstart,activeDocHandlers.touchstart||$document.unbind("touchstart",handleTouchStart).unbind("touchmove",handleTouchMove).unbind("touchend",handleTouchEnd).unbind("scroll",handleScroll));var $this=$(this),bindings=$.data(this,dataPropertyName);bindings&&(bindings[eventType]=!1),$this.unbind(realType,dummyMouseHandler),hasVirtualBindings(this)||$this.removeData(dataPropertyName)}}}}(jquery_default(),window,document);var arrowhead=__webpack_require__("./packages/perseus/src/interactive2/arrowhead.ts"),wrapped_ellipse=__webpack_require__("./packages/perseus/src/interactive2/wrapped-ellipse.ts"),wrapped_line=__webpack_require__("./packages/perseus/src/interactive2/wrapped-line.ts"),log=__webpack_require__("./packages/perseus/src/logging/log.ts"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts"),colors=__webpack_require__("./packages/perseus/src/util/colors.ts"),geometry=__webpack_require__("./packages/perseus/src/util/geometry.ts"),math=__webpack_require__("./packages/perseus/src/util/math.ts");function scaledDistanceFromAngle(angle){const b=11.374597405497571;return 58.919514629750836*Math.exp(-.037587715462826674*angle)+b}function scaledPolarRad(radius,radians){return[radius*Math.cos(radians),radius*Math.sin(radians)*-1]}function scaledPolarDeg(radius,degrees){return scaledPolarRad(radius,degrees*Math.PI/180)}let dragging=!1;const InteractiveUtils={bogusShape:{animate:function(){},attr:function(){},remove:function(){}}};function Protractor(graph,center){this.set=graph.raphael.set(),this.cx=center[0],this.cy=center[1];const pro=this,r=graph.unscaleVector(180.5)[0],imgPos=graph.scalePoint([this.cx-r,this.cy+r-graph.unscaleVector(10.5)[1]]),image=graph.mouselayer.image("https://ka-perseus-graphie.s3.amazonaws.com/e9d032f2ab8b95979f674fbfa67056442ba1ff6a.png",imgPos[0],imgPos[1],360,180);this.set.push(image),image.node.addEventListener("touchstart",(function(event){event.preventDefault()}),{passive:!1});const arrowHelper=function(angle,pixelsFromEdge){const scaledRadius=graph.scaleVector(r);scaledRadius[0]-=16,scaledRadius[1]-=16;const scaledCenter=graph.scalePoint(center);return Math.sin((angle+90)*Math.PI/180)*(scaledRadius[0]+pixelsFromEdge)+scaledCenter[0]+","+(Math.cos((angle+90)*Math.PI/180)*(scaledRadius[1]+pixelsFromEdge)+scaledCenter[1])},arrow=graph.raphael.path(" M"+arrowHelper(180,6)+" L"+arrowHelper(180,2)+" L"+arrowHelper(183,10)+" L"+arrowHelper(180,18)+" L"+arrowHelper(180,14)+" A"+(graph.scaleVector(r)[0]+10)+","+(graph.scaleVector(r)[1]+10)+",0,0,1,"+arrowHelper(170,14)+" L"+arrowHelper(170,18)+" L"+arrowHelper(167,10)+" L"+arrowHelper(170,2)+" L"+arrowHelper(170,6)+" A"+(graph.scaleVector(r)[0]+10)+","+(graph.scaleVector(r)[1]+10)+",0,0,0,"+arrowHelper(180,6)+" Z").attr({stroke:null,fill:colors.Z.INTERACTIVE});this.set.push(arrow),this.centerPoint=graph.addMovablePoint({coord:center,visible:!1}),this.rotateHandle=graph.addMovablePoint({bounded:!1,coord:[Math.sin(275*Math.PI/180)*r+this.cx,Math.cos(275*Math.PI/180)*r+this.cy],onMove:function(x,y){const angle=180*Math.atan2(pro.centerPoint.coord[1]-y,pro.centerPoint.coord[0]-x)/Math.PI;pro.rotate(-angle-5,!0)}}),this.rotateHandle.constraints.fixedDistance.dist=r,this.rotateHandle.constraints.fixedDistance.point=this.centerPoint,this.rotateHandle.visibleShape.remove(),this.rotateHandle.mouseTarget.attr({scale:2});let isDragging=!1,isHovering=!1;const isHighlight=function(){return isHovering||isDragging},$mouseTarget=jquery_default()(this.rotateHandle.mouseTarget.getMouseTarget());$mouseTarget.bind("vmousedown",(function(event){isDragging=!0,$mouseTarget.css("cursor","-webkit-grabbing"),$mouseTarget.css("cursor","grabbing"),arrow.animate({scale:1.5,fill:colors.Z.INTERACTING},50),jquery_default()(document).bind("vmouseup.rotateHandle",(function(event){isDragging=!1,$mouseTarget.css("cursor","-webkit-grab"),$mouseTarget.css("cursor","grab"),isHighlight()||arrow.animate({scale:1,fill:colors.Z.INTERACTIVE},50),jquery_default()(document).unbind("vmouseup.rotateHandle")}))})),$mouseTarget.bind("vmouseover",(function(event){isHovering=!0,arrow.animate({scale:1.5,fill:colors.Z.INTERACTING},50)})),$mouseTarget.bind("vmouseout",(function(event){isHovering=!1,isHighlight()||arrow.animate({scale:1,fill:colors.Z.INTERACTIVE},50)}));const setNodes=jquery_default().map(this.set,(function(el){return el.node}));return this.makeTranslatable=function makeTranslatable(){jquery_default()(setNodes).css("cursor","move"),$mouseTarget.css("cursor","-webkit-grab"),$mouseTarget.css("cursor","grab"),jquery_default()(setNodes).bind("vmousedown",(function(event){event.preventDefault();let startx=event.pageX-jquery_default()(graph.raphael.canvas.parentNode).offset().left,starty=event.pageY-jquery_default()(graph.raphael.canvas.parentNode).offset().top;jquery_default()(document).bind("vmousemove.protractor",(function(event){let mouseX=event.pageX-jquery_default()(graph.raphael.canvas.parentNode).offset().left,mouseY=event.pageY-jquery_default()(graph.raphael.canvas.parentNode).offset().top;mouseX=Math.max(10,Math.min(graph.xpixels-10,mouseX)),mouseY=Math.max(10,Math.min(graph.ypixels-10,mouseY));const dx=mouseX-startx,dy=mouseY-starty;jquery_default().each(pro.set.items,(function(){this.translate(dx,dy)})),pro.centerPoint.setCoord([pro.centerPoint.coord[0]+dx/graph.scale[0],pro.centerPoint.coord[1]-dy/graph.scale[1]]),pro.rotateHandle.setCoord([pro.rotateHandle.coord[0]+dx/graph.scale[0],pro.rotateHandle.coord[1]-dy/graph.scale[1]]),startx=mouseX,starty=mouseY})),jquery_default()(document).one("vmouseup",(function(event){jquery_default()(document).unbind("vmousemove.protractor")}))}))},this.rotation=0,this.rotate=function(offset,absolute){const center=graph.scalePoint(this.centerPoint.coord);return absolute&&(this.rotation=0),this.set.rotate(this.rotation+offset,center[0],center[1]),this.rotation=this.rotation+offset,this},this.moveTo=function moveTo(x,y){const start=graph.scalePoint(pro.centerPoint.coord),end=graph.scalePoint([x,y]),time=2*util_graphie.ZP.getDistance(start,end);jquery_default()({x:start[0],y:start[1]}).animate({x:end[0],y:end[1]},{duration:time,step:function(now,fx){let dx=0,dy=0;"x"===fx.prop?dx=now-graph.scalePoint(pro.centerPoint.coord)[0]:"y"===fx.prop&&(dy=now-graph.scalePoint(pro.centerPoint.coord)[1]),jquery_default().each(pro.set.items,(function(){this.translate(dx,dy)})),pro.centerPoint.setCoord([pro.centerPoint.coord[0]+dx/graph.scale[0],pro.centerPoint.coord[1]-dy/graph.scale[1]]),pro.rotateHandle.setCoord([pro.rotateHandle.coord[0]+dx/graph.scale[0],pro.rotateHandle.coord[1]-dy/graph.scale[1]])}})},this.rotateTo=function rotateTo(angle){Math.abs(this.rotation-angle)>180&&(this.rotation+=360);const time=5*Math.abs(this.rotation-angle);jquery_default()({0:this.rotation}).animate({0:angle},{duration:time,step:function(now,fx){pro.rotate(now,!0),pro.rotateHandle.setCoord([Math.sin((now+275)*Math.PI/180)*r+pro.centerPoint.coord[0],Math.cos((now+275)*Math.PI/180)*r+pro.centerPoint.coord[1]])}})},this.remove=function(){this.set.remove()},this.makeTranslatable(),this}function Ruler(graphie,options){index_all.ZP.defaults(options,{center:[0,0],pixelsPerUnit:40,ticksPerUnit:10,units:10,label:"",style:{fill:null,stroke:colors.Z.GRAY}});const light=index_all.ZP.extend({},options.style,{strokeWidth:1}),bold=index_all.ZP.extend({},options.style,{strokeWidth:2}),width=options.units*options.pixelsPerUnit,leftBottom=graphie.unscalePoint(src.xr.subtract(graphie.scalePoint(options.center),src.xr.scale([width,-50],.5))),graphieUnitsPerUnit=options.pixelsPerUnit/graphie.scale[0],graphieUnitsHeight=50/graphie.scale[0],rightTop=src.xr.add(leftBottom,[options.units*graphieUnitsPerUnit,graphieUnitsHeight]);let tickHeightMap;if(10===options.ticksPerUnit)tickHeightMap={10:1,5:.55,1:.35};else{const sizes=[1,.6,.45,.3];tickHeightMap={};for(let i=options.ticksPerUnit;i>=1;i/=2)tickHeightMap[i]=1*(sizes.shift()||.2)}const tickFrequencies=index_all.ZP.keys(tickHeightMap).sort((function(a,b){return b-a}));const left=leftBottom[0],bottom=leftBottom[1],right=rightTop[0],top=rightTop[1],numTicks=options.units*options.ticksPerUnit+1,set=graphie.raphael.set(),px=1/graphie.scale[0];set.push(graphie.line([left-px,bottom],[right+px,bottom],bold)),set.push(graphie.line([left-px,top],[right+px,top],bold)),index_all.ZP.times(numTicks,(function(i){const n=i/options.ticksPerUnit,x=left+n*graphieUnitsPerUnit,height=function getTickHeight(i){for(let k=0;k<tickFrequencies.length;k++){const key=tickFrequencies[k];if(i%key==0)return tickHeightMap[key]}return 0}(i)*graphieUnitsHeight,style=0===i||i===numTicks-1?bold:light;if(set.push(graphie.line([x,bottom],[x,bottom+height],style)),n%1==0){const coord=graphie.scalePoint([x,top]);let text,offset;0===n?(text=options.label,offset={mm:13,cm:11,m:8,km:11,in:8,ft:8,yd:10,mi:10}[text]||3*text.toString().length):(text=n,offset=-3*(n.toString().length+1));const label=graphie.raphael.text(coord[0]+offset,coord[1]+10,text);label.attr({"font-family":"KaTeX_Main","font-size":"12px",color:"#444"}),set.push(label)}}));const mouseTarget=graphie.mouselayer.path(graphie.svgPath([leftBottom,[left,top],rightTop,[right,bottom],!0]));mouseTarget.attr({fill:"#000",opacity:0,stroke:"#000","stroke-width":2}),set.push(mouseTarget),mouseTarget.node.addEventListener("touchstart",(function(event){event.preventDefault()}),{passive:!1});const setNodes=jquery_default().map(set,(function(el){return el.node}));jquery_default()(setNodes).css("cursor","move"),jquery_default()(setNodes).bind("vmousedown",(function(event){event.preventDefault();let startx=event.pageX-jquery_default()(graphie.raphael.canvas.parentNode).offset().left,starty=event.pageY-jquery_default()(graphie.raphael.canvas.parentNode).offset().top;jquery_default()(document).bind("vmousemove.ruler",(function(event){let mouseX=event.pageX-jquery_default()(graphie.raphael.canvas.parentNode).offset().left,mouseY=event.pageY-jquery_default()(graphie.raphael.canvas.parentNode).offset().top;mouseX=Math.max(10,Math.min(graphie.xpixels-10,mouseX)),mouseY=Math.max(10,Math.min(graphie.ypixels-10,mouseY));const dx=mouseX-startx,dy=mouseY-starty;set.translate(dx,dy),leftBottomHandle.setCoord([leftBottomHandle.coord[0]+dx/graphie.scale[0],leftBottomHandle.coord[1]-dy/graphie.scale[1]]),rightBottomHandle.setCoord([rightBottomHandle.coord[0]+dx/graphie.scale[0],rightBottomHandle.coord[1]-dy/graphie.scale[1]]),startx=mouseX,starty=mouseY})),jquery_default()(document).one("vmouseup",(function(event){jquery_default()(document).unbind("vmousemove.ruler")}))}));const leftBottomHandle=graphie.addMovablePoint({coord:leftBottom,normalStyle:{fill:colors.Z.INTERACTIVE,"fill-opacity":0,stroke:colors.Z.INTERACTIVE},highlightStyle:{fill:colors.Z.INTERACTING,"fill-opacity":.1,stroke:colors.Z.INTERACTING},pointSize:6,onMove:function(x,y){const dy=rightBottomHandle.coord[1]-y,dx=rightBottomHandle.coord[0]-x,angle=180*Math.atan2(dy,dx)/Math.PI,center=src.xr.scale(src.xr.add([x,y],rightBottomHandle.coord),.5),scaledCenter=graphie.scalePoint(center),oldCenter=src.xr.scale(src.xr.add(leftBottomHandle.coord,rightBottomHandle.coord),.5),scaledOldCenter=graphie.scalePoint(oldCenter),diff=src.xr.subtract(scaledCenter,scaledOldCenter);set.rotate(-angle,scaledOldCenter[0],scaledOldCenter[1]),set.translate(diff[0],diff[1])}}),rightBottomHandle=graphie.addMovablePoint({coord:[right,bottom],normalStyle:{fill:colors.Z.INTERACTIVE,"fill-opacity":0,stroke:colors.Z.INTERACTIVE},highlightStyle:{fill:colors.Z.INTERACTING,"fill-opacity":.1,stroke:colors.Z.INTERACTING},pointSize:6,onMove:function(x,y){const dy=y-leftBottomHandle.coord[1],dx=x-leftBottomHandle.coord[0],angle=180*Math.atan2(dy,dx)/Math.PI,center=src.xr.scale(src.xr.add([x,y],leftBottomHandle.coord),.5),scaledCenter=graphie.scalePoint(center),oldCenter=src.xr.scale(src.xr.add(leftBottomHandle.coord,rightBottomHandle.coord),.5),scaledOldCenter=graphie.scalePoint(oldCenter),diff=src.xr.subtract(scaledCenter,scaledOldCenter);set.rotate(-angle,scaledOldCenter[0],scaledOldCenter[1]),set.translate(diff[0],diff[1])}});return leftBottomHandle.constraints.fixedDistance.dist=width/graphie.scale[0],leftBottomHandle.constraints.fixedDistance.point=rightBottomHandle,rightBottomHandle.constraints.fixedDistance.dist=width/graphie.scale[0],rightBottomHandle.constraints.fixedDistance.point=leftBottomHandle,this.remove=function(){set.remove(),leftBottomHandle.remove(),rightBottomHandle.remove()},this}function MovableAngle(graphie,options){if(this.graphie=graphie,index_all.ZP.extend(this,options),index_all.ZP.defaults(this,{normalStyle:{stroke:colors.Z.INTERACTIVE,"stroke-width":2,fill:colors.Z.INTERACTIVE},highlightStyle:{stroke:colors.Z.INTERACTING,"stroke-width":2,fill:colors.Z.INTERACTING},labelStyle:{stroke:colors.Z.DYNAMIC,"stroke-width":1,color:colors.Z.DYNAMIC},angleStyle:{stroke:colors.Z.DYNAMIC,"stroke-width":1,color:colors.Z.DYNAMIC},allowReflex:!0}),!this.points||3!==this.points.length)throw new perseus_error.u("MovableAngle requires 3 points",log.D.InvalidInput);this.points=index_all.ZP.map(options.points,(function(point){return index_all.ZP.isArray(point)?graphie.addMovablePoint({coord:point,visible:!1,constraints:{fixed:!0},normalStyle:this.normalStyle}):point}),this),this.coords=index_all.ZP.pluck(this.points,"coord"),null==this.reflex&&(this.allowReflex?this.reflex=this._getClockwiseAngle(this.coords)>180:this.reflex=!1),this.rays=index_all.ZP.map([0,2],(function(i){return graphie.addMovableLineSegment({pointA:this.points[1],pointZ:this.points[i],fixed:!0,extendRay:!0})}),this),this.temp=[],this.labeledAngle=graphie.label([0,0],"","center",this.labelStyle),this.fixed||(this.addMoveHandlers(),this.addHighlightHandlers()),this.update()}index_all.ZP.extend(util_graphie.ZP.Graphie.prototype,{labelAngle:function(options){const graphie=this;index_all.ZP.defaults(options,{point1:[0,0],vertex:[0,0],point3:[0,0],label:null,numArcs:1,showRightAngleMarker:!0,pushOut:0,clockwise:!1,style:{}});let text=void 0===options.text?"":options.text;const vertex=options.vertex,sVertex=graphie.scalePoint(vertex);let p1,p3;options.clockwise?(p1=options.point1,p3=options.point3):(p1=options.point3,p3=options.point1);const startAngle=util_graphie.ZP.findAngle(p1,vertex),endAngle=util_graphie.ZP.findAngle(p3,vertex),angle=(endAngle+360-startAngle)%360,halfAngle=(startAngle+angle/2)%360;let sRadius=5*options.pushOut+scaledDistanceFromAngle(angle);const temp=[];if(Math.abs(angle-90)<1e-9&&options.showRightAngleMarker){const v1=src.xr.add(sVertex,scaledPolarDeg(sRadius,startAngle)),v2=src.xr.add(sVertex,scaledPolarDeg(sRadius,endAngle));sRadius*=Math.SQRT2;const v3=src.xr.add(sVertex,scaledPolarDeg(sRadius,halfAngle));index_all.ZP.each([v1,v2],(function(v){temp.push(graphie.scaledPath([v,v3],options.style))}))}else index_all.ZP.times(options.numArcs,(function(i){temp.push(graphie.arc(vertex,graphie.unscaleVector(sRadius),startAngle,endAngle,options.style)),sRadius+=3}));if(text){const match=text.match(/\$deg(\d)?/);if(match){const precision=match[1]||1;text=text.replace(match[0],math.ZP.toFixedApprox(angle,precision)+"^{\\circ}")}const sOffset=scaledPolarDeg(sRadius+15,halfAngle),sPosition=src.xr.add(sVertex,sOffset),position=graphie.unscalePoint(sPosition);options.label?(options.label.setPosition(position),options.label.processMath(text,!0)):graphie.label(position,text,"center",options.style)}return temp},labelSide:function(options){const graphie=this;let p1,p2;index_all.ZP.defaults(options,{point1:[0,0],point2:[0,0],label:null,text:"",numTicks:0,numArrows:0,clockwise:!1,style:{}}),options.clockwise?(p1=options.point1,p2=options.point2):(p1=options.point2,p2=options.point1);const midpoint=[(p1[0]+p2[0])/2,(p1[1]+p2[1])/2],sMidpoint=graphie.scalePoint(midpoint),parallelAngle=Math.atan2(p2[1]-p1[1],p2[0]-p1[0]),perpendicularAngle=parallelAngle+Math.PI/2,temp=[];let sCumulativeOffset=0;if(options.numTicks){const n=options.numTicks,sSpacing=5,sHeight=5,style=index_all.ZP.extend({},options.style,{strokeWidth:2});index_all.ZP.times(n,(function(i){const sOffsetVector=scaledPolarRad(sSpacing*(i-(n-1)/2),parallelAngle),sHeightVector=scaledPolarRad(sHeight,perpendicularAngle),sPath=[src.xr.add(sMidpoint,sOffsetVector,sHeightVector),src.xr.add(sMidpoint,sOffsetVector,(0,geometry.g5)(sHeightVector))];temp.push(graphie.scaledPath(sPath,style))})),sCumulativeOffset+=sSpacing*(n-1)+15}if(options.numArrows){const n=options.numArrows,start=[p1,p2].sort((function(a,b){return a[1]===b[1]?a[0]-b[0]:a[1]-b[1]}))[0],sStart=graphie.scalePoint(start),style=index_all.ZP.extend({},options.style,{arrows:"->",strokeWidth:2}),sSpacing=5;index_all.ZP.times(n,(function(i){let sOffsetVector=scaledPolarRad(sCumulativeOffset+sSpacing*i,parallelAngle);start!==p1&&(sOffsetVector=(0,geometry.g5)(sOffsetVector));const sEnd=src.xr.add(sMidpoint,sOffsetVector);temp.push(graphie.scaledPath([sStart,sEnd],style))}))}let text=options.text;if(text){const match=text.match(/\$len(\d)?/);if(match){const distance=util_graphie.ZP.getDistance(p1,p2),precision=match[1]||1;text=text.replace(match[0],math.ZP.toFixedApprox(distance,precision))}const sOffsetVector=scaledPolarRad(20,perpendicularAngle),sPosition=src.xr.add(sMidpoint,sOffsetVector),position=graphie.unscalePoint(sPosition);options.label?(options.label.setPosition(position),options.label.processMath(text,!0)):graphie.label(position,text,"center",options.style)}return temp},labelVertex:function(options){const graphie=this;if(index_all.ZP.defaults(options,{point1:null,vertex:[0,0],point3:null,label:null,text:"",clockwise:!1,style:{}}),!options.text)return;const vertex=options.vertex,sVertex=graphie.scalePoint(vertex);let p1,p3;options.clockwise?(p1=options.point1,p3=options.point3):(p1=options.point3,p3=options.point1);let halfAngle,angle=135;if(p1&&p3){const startAngle=util_graphie.ZP.findAngle(p1,vertex);angle=(util_graphie.ZP.findAngle(p3,vertex)+360-startAngle)%360,halfAngle=(startAngle+angle/2+180)%360}else if(p1){halfAngle=util_graphie.ZP.findAngle(vertex,p1)+90}else if(p3){halfAngle=util_graphie.ZP.findAngle(p3,vertex)+90}else halfAngle=135;const sOffsetVector=scaledPolarDeg(10+scaledDistanceFromAngle(360-angle),halfAngle),sPosition=src.xr.add(sVertex,sOffsetVector),position=graphie.unscalePoint(sPosition);options.label?(options.label.setPosition(position),options.label.processMath(options.text,!0)):graphie.label(position,options.text,"center",options.style)},addMovablePoint:function(options){const movablePoint=jquery_default().extend(!0,{graph:this,coord:[0,0],snapX:0,snapY:0,pointSize:4,highlight:!1,dragging:!1,visible:!0,bounded:!0,constraints:{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},lineStarts:[],lineEnds:[],polygonVertices:[],normalStyle:{},highlightStyle:{fill:colors.Z.INTERACTING,stroke:colors.Z.INTERACTING},labelStyle:{color:colors.Z.INTERACTIVE},vertexLabel:"",mouseTarget:null},options),normalColor=movablePoint.constraints.fixed?colors.Z.DYNAMIC:colors.Z.INTERACTIVE;movablePoint.normalStyle=index_all.ZP.extend({},{fill:normalColor,stroke:normalColor},options.normalStyle),void 0!==options.coordX&&(movablePoint.coord[0]=options.coordX),void 0!==options.coordY&&(movablePoint.coord[1]=options.coordY);const graph=movablePoint.graph,applySnapAndConstraints=function(coord){movablePoint.visible&&movablePoint.bounded&&!movablePoint.constraints.fixed&&(coord=graph.constrainToBounds(coord,10));let coordX=coord[0],coordY=coord[1];if(0!==movablePoint.snapX&&(coordX=Math.round(coordX/movablePoint.snapX)*movablePoint.snapX),0!==movablePoint.snapY&&(coordY=Math.round(coordY/movablePoint.snapY)*movablePoint.snapY),movablePoint.constraints.fixedDistance.snapPoints){const mouse=graph.scalePoint(coord);let mouseX=mouse[0],mouseY=mouse[1];const snapRadians=2*Math.PI/movablePoint.constraints.fixedDistance.snapPoints,radius=movablePoint.constraints.fixedDistance.dist,centerCoord=movablePoint.constraints.fixedDistance.point,centerX=(centerCoord[0]-graph.range[0][0])*graph.scale[0],centerY=(-centerCoord[1]+graph.range[1][1])*graph.scale[1];let mouseXrel=mouseX-centerX,mouseYrel=-mouseY+centerY,radians=Math.atan(mouseYrel/mouseXrel);mouseXrel<0&&(radians+=Math.PI),radians=Math.round(radians/snapRadians)*snapRadians,mouseXrel=radius*Math.cos(radians),mouseYrel=radius*Math.sin(radians),mouseX=mouseXrel+centerX,mouseY=-mouseYrel+centerY,coordX=math.ZP.roundTo(5,mouseX/graph.scale[0]+graph.range[0][0]),coordY=math.ZP.roundTo(5,graph.range[1][1]-mouseY/graph.scale[1])}return movablePoint.applyConstraint([coordX,coordY])};movablePoint.applyConstraint=function(coord,extraConstraints,override){let newCoord=coord.slice();const constraints={};if(override?jquery_default().extend(constraints,{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},extraConstraints):jquery_default().extend(constraints,this.constraints,extraConstraints),constraints.constrainX)newCoord=[this.coord[0],coord[1]];else if(constraints.constrainY)newCoord=[coord[0],this.coord[1]];else if("number"==typeof constraints.fixedAngle.angle&&"number"==typeof constraints.fixedDistance.dist){const vertex=constraints.fixedAngle.vertex.coord||constraints.fixedAngle.vertex,ref=constraints.fixedAngle.ref.coord||constraints.fixedAngle.ref,distPoint=constraints.fixedDistance.point.coord||constraints.fixedDistance.point,constrainedAngle=(constraints.fixedAngle.angle+util_graphie.ZP.findAngle(ref,vertex))*Math.PI/180,length=constraints.fixedDistance.dist;newCoord[0]=length*Math.cos(constrainedAngle)+distPoint[0],newCoord[1]=length*Math.sin(constrainedAngle)+distPoint[1]}else if("number"==typeof constraints.fixedAngle.angle){const vertex=constraints.fixedAngle.vertex.coord||constraints.fixedAngle.vertex,ref=constraints.fixedAngle.ref.coord||constraints.fixedAngle.ref,constrainedAngle=(constraints.fixedAngle.angle+util_graphie.ZP.findAngle(ref,vertex))*Math.PI/180,angle=util_graphie.ZP.findAngle(coord,vertex)*Math.PI/180;let length=util_graphie.ZP.getDistance(coord,vertex)*Math.cos(constrainedAngle-angle);length=length<1?1:length,newCoord[0]=length*Math.cos(constrainedAngle)+vertex[0],newCoord[1]=length*Math.sin(constrainedAngle)+vertex[1]}else if("number"==typeof constraints.fixedDistance.dist){const distPoint=constraints.fixedDistance.point.coord||constraints.fixedDistance.point;let angle=util_graphie.ZP.findAngle(coord,distPoint);const length=constraints.fixedDistance.dist;angle=angle*Math.PI/180,newCoord[0]=length*Math.cos(angle)+distPoint[0],newCoord[1]=length*Math.sin(angle)+distPoint[1]}else constraints.fixed&&(newCoord=movablePoint.coord);return newCoord},movablePoint.coord=applySnapAndConstraints(movablePoint.coord);if(movablePoint.visible&&graph.style(movablePoint.normalStyle,(function(){const radii=[movablePoint.pointSize/graph.scale[0],movablePoint.pointSize/graph.scale[1]],options={maxScale:2,padding:2};movablePoint.visibleShape=new wrapped_ellipse.Z(graph,movablePoint.coord,radii,options),movablePoint.visibleShape.attr(index_all.ZP.omit(movablePoint.normalStyle,"scale")),movablePoint.visibleShape.toFront()})),movablePoint.normalStyle.scale=1,movablePoint.highlightStyle.scale=2,movablePoint.vertexLabel&&(movablePoint.labeledVertex=this.label([0,0],"","center",movablePoint.labelStyle)),movablePoint.drawLabel=function(){movablePoint.vertexLabel&&movablePoint.graph.labelVertex({vertex:movablePoint.coord,label:movablePoint.labeledVertex,text:movablePoint.vertexLabel,style:movablePoint.labelStyle})},movablePoint.drawLabel(),movablePoint.grab=function(offset){offset=offset||[0,0],jquery_default()(document).bind("vmousemove.point vmouseup.point",(function(event){event.preventDefault(),movablePoint.dragging=!0,dragging=!0;let coord=src.xr.add(graph.getMouseCoord(event),offset);coord=applySnapAndConstraints(coord);let mouseX,mouseY,coordX=coord[0],coordY=coord[1];if("vmousemove"===event.type){let doMove=!0;if(index_all.ZP.isFunction(movablePoint.onMove)){const result=movablePoint.onMove(coordX,coordY);!1===result&&(doMove=!1),index_all.ZP.isArray(result)&&(coordX=result[0],coordY=result[1])}if(mouseX=(coordX-graph.range[0][0])*graph.scale[0],mouseY=(-coordY+graph.range[1][1])*graph.scale[1],doMove){const point=graph.unscalePoint([mouseX,mouseY]);movablePoint.visibleShape.moveTo(point),movablePoint.mouseTarget.moveTo(point),movablePoint.coord=[coordX,coordY],movablePoint.updateLineEnds(),jquery_default()(movablePoint).trigger("move")}movablePoint.drawLabel()}else if("vmouseup"===event.type){if(jquery_default()(document).unbind(".point"),movablePoint.dragging=!1,dragging=!1,index_all.ZP.isFunction(movablePoint.onMoveEnd)){const result=movablePoint.onMoveEnd(coordX,coordY);if(index_all.ZP.isArray(result)){coordX=result[0],coordY=result[1],mouseX=(coordX-graph.range[0][0])*graph.scale[0],mouseY=(-coordY+graph.range[1][1])*graph.scale[1];const point=graph.unscalePoint([mouseX,mouseY]);movablePoint.visibleShape.moveTo(point),movablePoint.mouseTarget.moveTo(point),movablePoint.coord=[coordX,coordY]}}movablePoint.highlight||(movablePoint.visibleShape.animate(movablePoint.normalStyle,50),movablePoint.onUnhighlight&&movablePoint.onUnhighlight())}}))},movablePoint.visible&&!movablePoint.constraints.fixed){if(!movablePoint.mouseTarget){const radii=graph.unscaleVector(16),options={mouselayer:!0,padding:0,disableMouseEventsOnWrapper:!0,interactiveKindForTesting:"movable-point"};movablePoint.mouseTarget=new wrapped_ellipse.Z(graph,movablePoint.coord,radii,options),movablePoint.mouseTarget.attr({fill:"#000",opacity:0})}const $mouseTarget=jquery_default()(movablePoint.mouseTarget.getMouseTarget());$mouseTarget.css("cursor","move"),$mouseTarget.bind("vmousedown vmouseover vmouseout",(function(event){if("vmouseover"===event.type)movablePoint.highlight=!0,dragging||(movablePoint.visibleShape.animate(movablePoint.highlightStyle,50),movablePoint.onHighlight&&movablePoint.onHighlight());else if("vmouseout"===event.type)movablePoint.highlight=!1,movablePoint.dragging||dragging||(movablePoint.visibleShape.animate(movablePoint.normalStyle,50),movablePoint.onUnhighlight&&movablePoint.onUnhighlight());else if("vmousedown"===event.type&&(1===event.which||0===event.which)){event.preventDefault();const startCoord=movablePoint.coord,startMouseCoord=graph.getMouseCoord(event),touchOffset=!("ontouchstart"in window)?[0,0]:src.xr.subtract(startCoord,startMouseCoord);movablePoint.grab(touchOffset)}}))}return movablePoint.moveTo=function(coordX,coordY,updateLines){const time=5*util_graphie.ZP.getDistance(this.graph.scalePoint([coordX,coordY]),this.graph.scalePoint(this.coord)),cb=updateLines&&function(coord){movablePoint.coord=coord,movablePoint.updateLineEnds()};this.visibleShape.animateTo([coordX,coordY],time,cb),this.mouseTarget.animateTo([coordX,coordY],time,cb),this.coord=[coordX,coordY],index_all.ZP.isFunction(this.onMove)&&this.onMove(coordX,coordY)},movablePoint.updateLineEnds=function(){jquery_default()(this.lineStarts).each((function(){this.coordA=movablePoint.coord,this.transform()})),jquery_default()(this.lineEnds).each((function(){this.coordZ=movablePoint.coord,this.transform()})),jquery_default()(this.polygonVertices).each((function(){this.transform()}))},movablePoint.setCoord=function(coord){this.visible&&(this.visibleShape.moveTo(coord),null!=this.mouseTarget&&this.mouseTarget.moveTo(coord)),this.coord=coord.slice()},movablePoint.setCoordConstrained=function(coord){this.setCoord(applySnapAndConstraints(coord))},movablePoint.toBack=function(){this.visible&&(null!=this.mouseTarget&&this.mouseTarget.toBack(),this.visibleShape.toBack())},movablePoint.toFront=function(){this.visible&&(null!=this.mouseTarget&&this.mouseTarget.toFront(),this.visibleShape.toFront())},movablePoint.remove=function(){this.visibleShape&&this.visibleShape.remove(),this.mouseTarget&&this.mouseTarget.remove(),this.labeledVertex&&this.labeledVertex.remove()},movablePoint},addMovableLineSegment:function(options){const lineSegment=jquery_default().extend({graph:this,coordA:[0,0],coordZ:[1,1],snapX:0,snapY:0,fixed:!1,ticks:0,normalStyle:{},highlightStyle:{stroke:colors.Z.INTERACTING,"stroke-width":6},labelStyle:{stroke:colors.Z.INTERACTIVE,color:colors.Z.INTERACTIVE},highlight:!1,dragging:!1,tick:[],extendLine:!1,extendRay:!1,constraints:{fixed:!1,constrainX:!1,constrainY:!1},sideLabel:"",vertexLabels:[],numArrows:0,numTicks:0,movePointsWithLine:!1},options),normalColor=lineSegment.fixed?colors.Z.DYNAMIC:colors.Z.INTERACTIVE;lineSegment.normalStyle=index_all.ZP.extend({},{"stroke-width":2,stroke:normalColor},options.normalStyle),lineSegment.arrowStyle=index_all.ZP.extend({},lineSegment.normalStyle,{color:lineSegment.normalStyle.stroke}),void 0!==options.pointA?(lineSegment.coordA=options.pointA.coord,lineSegment.pointA.lineStarts.push(lineSegment)):void 0!==options.coordA&&(lineSegment.coordA=options.coordA.slice()),void 0!==options.pointZ?(lineSegment.coordZ=options.pointZ.coord,lineSegment.pointZ.lineEnds.push(lineSegment)):void 0!==options.coordA&&(lineSegment.coordA=lineSegment.coordA.slice());const graph=lineSegment.graph;graph.style(lineSegment.normalStyle);for(let i=0;i<lineSegment.ticks;++i)lineSegment.tick[i]=InteractiveUtils.bogusShape;let path=util_graphie.ZP.unscaledSvgPath([[0,0],[1,0]]);for(let i=0;i<lineSegment.ticks;++i){const tickoffset=.5-(lineSegment.ticks-1+2*i)/graph.scale[0];path+=util_graphie.ZP.unscaledSvgPath([[tickoffset,-7],[tickoffset,7]])}if(options={thickness:Math.max(lineSegment.normalStyle["stroke-width"],lineSegment.highlightStyle["stroke-width"])},lineSegment.visibleLine=new wrapped_line.Z(graph,[0,0],[1,0],options),lineSegment.visibleLine.attr(lineSegment.normalStyle),!lineSegment.fixed){const options={thickness:30,mouselayer:!0,interactiveKindForTesting:"movable-line"};lineSegment.mouseTarget=new wrapped_line.Z(graph,[0,0],[1,0],options),lineSegment.mouseTarget.attr({fill:"#000",opacity:0})}if(lineSegment.transform=function(syncToPoints){syncToPoints&&("object"==typeof this.pointA&&(this.coordA=this.pointA.coord),"object"==typeof this.pointZ&&(this.coordZ=this.pointZ.coord));const getClipPoint=function(graph,coord,angle){const distance=(graph=lineSegment.graph).range[0][1]-graph.range[0][0]+(graph.range[1][1]-graph.range[1][0]),angleVec=graph.unscaleVector(src.xr.cartFromPolarDeg(1,angle)),distVec=src.xr.scale(src.xr.normalize(angleVec),distance),farCoord=src.xr.add(coord,distVec),scaledAngle=src.xr.polarDegFromCart(angleVec)[1];return graph.constrainToBoundsOnAngle(farCoord,4,scaledAngle*Math.PI/180)},angle=function(line){const scaledA=line.graph.scalePoint(line.coordA),scaledZ=line.graph.scalePoint(line.coordZ);return src.xr.polarDegFromCart(src.xr.subtract(scaledZ,scaledA))[1]}(this);let start=this.coordA,end=this.coordZ;this.extendLine?(start=getClipPoint(graph,start,360-angle),end=getClipPoint(graph,end,(540-angle)%360)):this.extendRay&&(end=getClipPoint(graph,start,360-angle));const elements=[this.visibleLine];this.fixed||elements.push(this.mouseTarget),index_all.ZP.each(elements,(function(element){element.moveTo(start,end)})),null==this._arrows&&(this._arrows=[],this.extendLine?(this._arrows.push(new arrowhead.X(graph,this.normalStyle)),this._arrows.push(new arrowhead.X(graph,this.normalStyle))):this.extendRay&&this._arrows.push(new arrowhead.X(graph,this.normalStyle)));const coordForArrow=[this.coordA,this.coordZ],angleForArrow=[360-angle,(540-angle)%360];index_all.ZP.each(this._arrows,(function(arrow,i){arrow.toCoordAtAngle(coordForArrow[i],angleForArrow[i])})),index_all.ZP.invoke(this.temp,"remove"),this.temp=[];const isClockwise=this.coordA[0]<this.coordZ[0]||this.coordA[0]===this.coordZ[0]&&this.coordA[1]>this.coordZ[1];this.sideLabel&&this.temp.push(this.graph.labelSide({point1:this.coordA,point2:this.coordZ,label:this.labeledSide,text:this.sideLabel,numArrows:this.numArrows,numTicks:this.numTicks,clockwise:isClockwise,style:this.labelStyle})),this.vertexLabels.length&&(this.graph.labelVertex({vertex:this.coordA,point3:this.coordZ,label:this.labeledVertices[0],text:this.vertexLabels[0],clockwise:isClockwise,style:this.labelStyle}),this.graph.labelVertex({point1:this.coordA,vertex:this.coordZ,label:this.labeledVertices[1],text:this.vertexLabels[1],clockwise:isClockwise,style:this.labelStyle})),this.temp=index_all.ZP.flatten(this.temp)},lineSegment.toBack=function(){lineSegment.fixed||lineSegment.mouseTarget.toBack(),lineSegment.visibleLine.toBack()},lineSegment.toFront=function(){lineSegment.fixed||lineSegment.mouseTarget.toFront(),lineSegment.visibleLine.toFront()},lineSegment.remove=function(){lineSegment.fixed||lineSegment.mouseTarget.remove(),lineSegment.visibleLine.remove(),lineSegment.labeledSide&&lineSegment.labeledSide.remove(),lineSegment.labeledVertices&&index_all.ZP.invoke(lineSegment.labeledVertices,"remove"),lineSegment._arrows&&index_all.ZP.invoke(lineSegment._arrows,"remove"),lineSegment.temp.length&&index_all.ZP.invoke(lineSegment.temp,"remove")},lineSegment.hide=function(){lineSegment.visibleLine.hide(),lineSegment.temp.length&&index_all.ZP.invoke(lineSegment.temp,"hide"),lineSegment._arrows&&index_all.ZP.invoke(lineSegment._arrows,"hide")},lineSegment.show=function(){lineSegment.visibleLine.show(),lineSegment.temp.length&&index_all.ZP.invoke(lineSegment.temp,"show"),lineSegment._arrows&&index_all.ZP.invoke(lineSegment._arrows,"show")},lineSegment.sideLabel&&(lineSegment.labeledSide=this.label([0,0],"","center",lineSegment.labelStyle)),lineSegment.vertexLabels.length&&(lineSegment.labeledVertices=index_all.ZP.map(lineSegment.vertexLabels,(function(label){return this.label([0,0],"","center",lineSegment.labelStyle)}),this)),!lineSegment.fixed&&!lineSegment.constraints.fixed){const $mouseTarget=jquery_default()(lineSegment.mouseTarget.getMouseTarget());$mouseTarget.css("cursor","move"),$mouseTarget.bind("vmousedown vmouseover vmouseout",(function(event){if("vmouseover"===event.type)dragging||(lineSegment.highlight=!0,lineSegment.visibleLine.animate(lineSegment.highlightStyle,50),lineSegment.arrowStyle=index_all.ZP.extend({},lineSegment.arrowStyle,{color:lineSegment.highlightStyle.stroke,stroke:lineSegment.highlightStyle.stroke}),lineSegment.transform());else if("vmouseout"===event.type)lineSegment.highlight=!1,lineSegment.dragging||(lineSegment.visibleLine.animate(lineSegment.normalStyle,50),lineSegment.arrowStyle=index_all.ZP.extend({},lineSegment.arrowStyle,{color:lineSegment.normalStyle.stroke,stroke:lineSegment.normalStyle.stroke}),lineSegment.transform());else if("vmousedown"===event.type&&(1===event.which||0===event.which)){event.preventDefault();let coordX=(event.pageX-jquery_default()(graph.raphael.canvas.parentNode).offset().left)/graph.scale[0]+graph.range[0][0],coordY=graph.range[1][1]-(event.pageY-jquery_default()(graph.raphael.canvas.parentNode).offset().top)/graph.scale[1];lineSegment.snapX>0&&(coordX=Math.round(coordX/lineSegment.snapX)*lineSegment.snapX),lineSegment.snapY>0&&(coordY=Math.round(coordY/lineSegment.snapY)*lineSegment.snapY);const mouseOffsetA=[lineSegment.coordA[0]-coordX,lineSegment.coordA[1]-coordY],mouseOffsetZ=[lineSegment.coordZ[0]-coordX,lineSegment.coordZ[1]-coordY],offsetLeft=-Math.min(graph.scaleVector(mouseOffsetA)[0],graph.scaleVector(mouseOffsetZ)[0]),offsetRight=Math.max(graph.scaleVector(mouseOffsetA)[0],graph.scaleVector(mouseOffsetZ)[0]),offsetTop=Math.max(graph.scaleVector(mouseOffsetA)[1],graph.scaleVector(mouseOffsetZ)[1]),offsetBottom=-Math.min(graph.scaleVector(mouseOffsetA)[1],graph.scaleVector(mouseOffsetZ)[1]);jquery_default()(document).bind("vmousemove.lineSegment vmouseup.lineSegment",(function(event){event.preventDefault(),lineSegment.dragging=!0,dragging=!0;let mouseX=event.pageX-jquery_default()(graph.raphael.canvas.parentNode).offset().left,mouseY=event.pageY-jquery_default()(graph.raphael.canvas.parentNode).offset().top;mouseX=Math.max(offsetLeft+10,Math.min(graph.xpixels-10-offsetRight,mouseX)),mouseY=Math.max(offsetTop+10,Math.min(graph.ypixels-10-offsetBottom,mouseY));let coordX=mouseX/graph.scale[0]+graph.range[0][0],coordY=graph.range[1][1]-mouseY/graph.scale[1];if(lineSegment.snapX>0&&(coordX=Math.round(coordX/lineSegment.snapX)*lineSegment.snapX),lineSegment.snapY>0&&(coordY=Math.round(coordY/lineSegment.snapY)*lineSegment.snapY),"vmousemove"===event.type){lineSegment.constraints.constrainX&&(coordX=lineSegment.coordA[0]-mouseOffsetA[0]),lineSegment.constraints.constrainY&&(coordY=lineSegment.coordA[1]-mouseOffsetA[1]);const dX=coordX+mouseOffsetA[0]-lineSegment.coordA[0],dY=coordY+mouseOffsetA[1]-lineSegment.coordA[1];lineSegment.coordA=[coordX+mouseOffsetA[0],coordY+mouseOffsetA[1]],lineSegment.coordZ=[coordX+mouseOffsetZ[0],coordY+mouseOffsetZ[1]],lineSegment.transform(),lineSegment.movePointsWithLine&&("object"==typeof lineSegment.pointA&&lineSegment.pointA.setCoord([lineSegment.pointA.coord[0]+dX,lineSegment.pointA.coord[1]+dY]),"object"==typeof lineSegment.pointZ&&lineSegment.pointZ.setCoord([lineSegment.pointZ.coord[0]+dX,lineSegment.pointZ.coord[1]+dY])),index_all.ZP.isFunction(lineSegment.onMove)&&lineSegment.onMove(dX,dY)}else"vmouseup"===event.type&&(jquery_default()(document).unbind(".lineSegment"),lineSegment.dragging=!1,dragging=!1,lineSegment.highlight||(lineSegment.visibleLine.animate(lineSegment.normalStyle,50),lineSegment.arrowStyle=index_all.ZP.extend({},lineSegment.arrowStyle,{color:lineSegment.normalStyle.stroke,stroke:lineSegment.normalStyle.stroke}),lineSegment.transform()),index_all.ZP.isFunction(lineSegment.onMoveEnd)&&lineSegment.onMoveEnd());jquery_default()(lineSegment).trigger("move")}))}}))}return void 0!==lineSegment.pointA&&lineSegment.pointA.toFront(),void 0!==lineSegment.pointZ&&lineSegment.pointZ.toFront(),lineSegment.transform(),lineSegment},addMovablePolygon:function(options){const graphie=this,polygon=jquery_default().extend({snapX:0,snapY:0,fixed:!1,constrainToGraph:!0,normalStyle:{},highlightStyle:{stroke:colors.Z.INTERACTING,"stroke-width":2,fill:colors.Z.INTERACTING,"fill-opacity":.05},pointHighlightStyle:{fill:colors.Z.INTERACTING,stroke:colors.Z.INTERACTING},labelStyle:{stroke:colors.Z.DYNAMIC,"stroke-width":1,color:colors.Z.DYNAMIC},angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],updateOnPointMove:!0,closed:!0},index_all.ZP.omit(options,"points")),normalColor=polygon.fixed?colors.Z.DYNAMIC:colors.Z.INTERACTIVE;polygon.normalStyle=index_all.ZP.extend({"stroke-width":2,"fill-opacity":0,fill:normalColor,stroke:normalColor},options.normalStyle),polygon.points=options.points;const isPoint=function(coordOrPoint){return!index_all.ZP.isArray(coordOrPoint)};if(polygon.update=function(){const n=polygon.points.length;polygon.coords=index_all.ZP.map(polygon.points,(function(coordOrPoint,i){return isPoint(coordOrPoint)?coordOrPoint.coord:coordOrPoint})),polygon.left=index_all.ZP.min(index_all.ZP.pluck(polygon.coords,0)),polygon.right=index_all.ZP.max(index_all.ZP.pluck(polygon.coords,0)),polygon.top=index_all.ZP.max(index_all.ZP.pluck(polygon.coords,1)),polygon.bottom=index_all.ZP.min(index_all.ZP.pluck(polygon.coords,1));let scaledCoords=index_all.ZP.map(polygon.coords,(function(coord){return graphie.scalePoint(coord)}));polygon.closed?scaledCoords.push(!0):scaledCoords=scaledCoords.concat(index_all.ZP.clone(scaledCoords).reverse()),polygon.path=util_graphie.ZP.unscaledSvgPath(scaledCoords),index_all.ZP.invoke(polygon.temp,"remove"),polygon.temp=[];const isClockwise=(0,geometry.al)(polygon.coords);(polygon.angleLabels.length||polygon.showRightAngleMarkers.length)&&index_all.ZP.each(polygon.labeledAngles,(function(label,i){polygon.temp.push(graphie.labelAngle({point1:polygon.coords[(i-1+n)%n],vertex:polygon.coords[i],point3:polygon.coords[(i+1)%n],label,text:polygon.angleLabels[i],showRightAngleMarker:polygon.showRightAngleMarkers[i],numArcs:polygon.numArcs[i],clockwise:isClockwise,style:polygon.labelStyle}))})),polygon.sideLabels.length&&index_all.ZP.each(polygon.labeledSides,(function(label,i){polygon.temp.push(graphie.labelSide({point1:polygon.coords[i],point2:polygon.coords[(i+1)%n],label,text:polygon.sideLabels[i],numArrows:polygon.numArrows[i],numTicks:polygon.numTicks[i],clockwise:isClockwise,style:polygon.labelStyle}))})),polygon.vertexLabels.length&&index_all.ZP.each(polygon.labeledVertices,(function(label,i){graphie.labelVertex({point1:polygon.coords[(i-1+n)%n],vertex:polygon.coords[i],point3:polygon.coords[(i+1)%n],label,text:polygon.vertexLabels[i],clockwise:isClockwise,style:polygon.labelStyle})})),polygon.temp=index_all.ZP.flatten(polygon.temp)},polygon.transform=function(){polygon.update(),polygon.visibleShape.attr({path:polygon.path}),polygon.fixed||polygon.mouseTarget.attr({path:polygon.path})},polygon.remove=function(){polygon.visibleShape.remove(),polygon.fixed||polygon.mouseTarget.remove(),polygon.labeledAngles&&index_all.ZP.invoke(polygon.labeledAngles,"remove"),polygon.labeledSides&&index_all.ZP.invoke(polygon.labeledSides,"remove"),polygon.labeledVertices&&index_all.ZP.invoke(polygon.labeledVertices,"remove"),polygon.temp.length&&index_all.ZP.invoke(polygon.temp,"remove")},polygon.toBack=function(){polygon.fixed||polygon.mouseTarget.toBack(),polygon.visibleShape.toBack()},polygon.toFront=function(){polygon.fixed||polygon.mouseTarget.toFront(),polygon.visibleShape.toFront()},polygon.updateOnPointMove&&index_all.ZP.each(index_all.ZP.filter(polygon.points,isPoint),(function(coordOrPoint){coordOrPoint.polygonVertices.push(polygon)})),polygon.coords=new Array(polygon.points.length),polygon.angleLabels.length){const numLabels=Math.max(polygon.angleLabels.length,polygon.showRightAngleMarkers.length);polygon.labeledAngles=index_all.ZP.times(numLabels,(function(){return this.label([0,0],"","center",polygon.labelStyle)}),this)}return polygon.sideLabels.length&&(polygon.labeledSides=index_all.ZP.map(polygon.sideLabels,(function(label){return this.label([0,0],"","center",polygon.labelStyle)}),this)),polygon.vertexLabels.length&&(polygon.labeledVertices=index_all.ZP.map(polygon.vertexLabels,(function(label){return this.label([0,0],"","center",polygon.labelStyle)}),this)),polygon.update(),polygon.visibleShape=graphie.raphael.path(polygon.path),polygon.visibleShape.attr(polygon.normalStyle),polygon.fixed||(polygon.mouseTarget=graphie.mouselayer.path(polygon.path),polygon.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"}),jquery_default()(polygon.mouseTarget[0]).bind("vmousedown vmouseover vmouseout",(function(event){if("vmouseover"===event.type)dragging&&!polygon.dragging||(polygon.highlight=!0,polygon.visibleShape.animate(polygon.highlightStyle,50),index_all.ZP.each(index_all.ZP.filter(polygon.points,isPoint),(function(point){point.visibleShape.animate(polygon.pointHighlightStyle,50)})));else if("vmouseout"===event.type){if(polygon.highlight=!1,!polygon.dragging){polygon.visibleShape.animate(polygon.normalStyle,50);const points=index_all.ZP.filter(polygon.points,isPoint);index_all.ZP.any(index_all.ZP.pluck(points,"dragging"))||index_all.ZP.each(points,(function(point){point.visibleShape.animate(point.normalStyle,50)}))}}else if("vmousedown"===event.type&&(1===event.which||0===event.which)){event.preventDefault(),index_all.ZP.each(index_all.ZP.filter(polygon.points,isPoint),(function(point){point.dragging=!0}));let startX=(event.pageX-jquery_default()(graphie.raphael.canvas.parentNode).offset().left)/graphie.scale[0]+graphie.range[0][0],startY=graphie.range[1][1]-(event.pageY-jquery_default()(graphie.raphael.canvas.parentNode).offset().top)/graphie.scale[1];polygon.snapX>0&&(startX=Math.round(startX/polygon.snapX)*polygon.snapX),polygon.snapY>0&&(startY=Math.round(startY/polygon.snapY)*polygon.snapY);let lastX=startX,lastY=startY;const polygonCoords=polygon.coords.slice(),offsetLeft=(startX-polygon.left)*graphie.scale[0],offsetRight=(polygon.right-startX)*graphie.scale[0],offsetTop=(polygon.top-startY)*graphie.scale[1],offsetBottom=(startY-polygon.bottom)*graphie.scale[1];jquery_default()(document).bind("vmousemove.polygon vmouseup.polygon",(function(event){event.preventDefault(),polygon.dragging=!0,dragging=!0;let mouseX=event.pageX-jquery_default()(graphie.raphael.canvas.parentNode).offset().left,mouseY=event.pageY-jquery_default()(graphie.raphael.canvas.parentNode).offset().top;polygon.constrainToGraph&&(mouseX=Math.max(offsetLeft+10,Math.min(graphie.xpixels-10-offsetRight,mouseX)),mouseY=Math.max(offsetTop+10,Math.min(graphie.ypixels-10-offsetBottom,mouseY)));let currentX=mouseX/graphie.scale[0]+graphie.range[0][0],currentY=graphie.range[1][1]-mouseY/graphie.scale[1];if(polygon.snapX>0&&(currentX=Math.round(currentX/polygon.snapX)*polygon.snapX),polygon.snapY>0&&(currentY=Math.round(currentY/polygon.snapY)*polygon.snapY),"vmousemove"===event.type){let dX=currentX-startX,dY=currentY-startY,doMove=!0;if(index_all.ZP.isFunction(polygon.onMove)){const onMoveResult=polygon.onMove(dX,dY);!1===onMoveResult?doMove=!1:index_all.ZP.isArray(onMoveResult)&&(dX=onMoveResult[0],dY=onMoveResult[1],currentX=startX+dX,currentY=startY+dY)}const increment=function(i){return[polygonCoords[i][0]+dX,polygonCoords[i][1]+dY]};doMove&&(index_all.ZP.each(polygon.points,(function(coordOrPoint,i){isPoint(coordOrPoint)?coordOrPoint.setCoord(increment(i)):polygon.points[i]=increment(i)})),polygon.transform(),jquery_default()(polygon).trigger("move"),lastX=currentX,lastY=currentY)}else if("vmouseup"===event.type){jquery_default()(document).unbind(".polygon");const points=index_all.ZP.filter(polygon.points,isPoint);index_all.ZP.each(points,(function(point){point.dragging=!1})),polygon.dragging=!1,dragging=!1,polygon.highlight||(polygon.visibleShape.animate(polygon.normalStyle,50),index_all.ZP.each(points,(function(point){point.visibleShape.animate(point.normalStyle,50)}))),index_all.ZP.isFunction(polygon.onMoveEnd)&&polygon.onMoveEnd(lastX-startX,lastY-startY)}}))}}))),index_all.ZP.invoke(index_all.ZP.filter(polygon.points,isPoint),"toFront"),polygon},constrainToBounds:function(point,padding){const lower=this.unscalePoint([padding,this.ypixels-padding]),upper=this.unscalePoint([this.xpixels-padding,padding]);return[Math.max(lower[0],Math.min(upper[0],point[0])),Math.max(lower[1],Math.min(upper[1],point[1]))]},constrainToBoundsOnAngle:function(point,padding,angle){const lower=this.unscalePoint([padding,this.ypixels-padding]),upper=this.unscalePoint([this.xpixels-padding,padding]);let result=point.slice();return result[0]<lower[0]?result=[lower[0],result[1]+(lower[0]-result[0])*Math.tan(angle)]:result[0]>upper[0]&&(result=[upper[0],result[1]-(result[0]-upper[0])*Math.tan(angle)]),result[1]<lower[1]?result=[result[0]+(lower[1]-result[1])/Math.tan(angle),lower[1]]:result[1]>upper[1]&&(result=[result[0]-(result[1]-upper[1])/Math.tan(angle),upper[1]]),result},addMovableAngle:function(options){return new MovableAngle(this,options)},addCircleGraph:function(options){const graphie=this,circle=jquery_default().extend({center:[0,0],radius:2,snapX:.5,snapY:.5,snapRadius:.5,minRadius:1,centerConstraints:{},centerNormalStyle:{},centerHighlightStyle:{stroke:colors.Z.INTERACTING,fill:colors.Z.INTERACTING},circleNormalStyle:{stroke:colors.Z.INTERACTIVE,"fill-opacity":0},circleHighlightStyle:{stroke:colors.Z.INTERACTING,fill:colors.Z.INTERACTING,"fill-opacity":.05}},options),normalColor=circle.centerConstraints.fixed?colors.Z.DYNAMIC:colors.Z.INTERACTIVE,centerNormalStyle=options?options.centerNormalStyle:null;circle.centerNormalStyle=index_all.ZP.extend({},{fill:normalColor,stroke:normalColor},centerNormalStyle),circle.centerPoint=graphie.addMovablePoint({graph:graphie,coord:circle.center,normalStyle:circle.centerNormalStyle,snapX:circle.snapX,snapY:circle.snapY,constraints:circle.centerConstraints}),circle.circ=graphie.circle(circle.center,circle.radius,circle.circleNormalStyle),circle.perim=graphie.mouselayer.circle(graphie.scalePoint(circle.center)[0],graphie.scalePoint(circle.center)[1],graphie.scaleVector(circle.radius)[0]).attr({"stroke-width":20,opacity:.002}),circle.centerConstraints.fixed||jquery_default()(circle.centerPoint.mouseTarget.getMouseTarget()).on("vmouseover vmouseout",(function(event){circle.centerPoint.highlight||circle.centerPoint.dragging?circle.circ.animate(circle.circleHighlightStyle,50):circle.circ.animate(circle.circleNormalStyle,50)})),circle.toFront=function(){circle.circ.toFront(),circle.perim.toFront(),circle.centerPoint.visibleShape.toFront(),circle.centerConstraints.fixed||circle.centerPoint.mouseTarget.toFront()},circle.centerPoint.onMove=function(x,y){circle.toFront(),circle.circ.attr({cx:graphie.scalePoint(x)[0],cy:graphie.scalePoint(y)[1]}),circle.perim.attr({cx:graphie.scalePoint(x)[0],cy:graphie.scalePoint(y)[1]}),circle.onMove&&circle.onMove(x,y)},jquery_default()(circle.centerPoint).on("move",(function(){circle.center=this.coord,jquery_default()(circle).trigger("move")})),circle.setCenter=function(x,y){circle.centerPoint.setCoord([x,y]),circle.centerPoint.onMove(x,y),circle.center=[x,y]},circle.setRadius=function(r){circle.radius=r,circle.perim.attr({r:graphie.scaleVector(r)[0]}),circle.circ.attr({rx:graphie.scaleVector(r)[0],ry:graphie.scaleVector(r)[1]})},circle.remove=function(){circle.centerPoint.remove(),circle.circ.remove(),circle.perim.remove()};const cursorAxes=[[-1*Math.PI,-.875*Math.PI,"ew-resize"],[-.875*Math.PI,-.625*Math.PI,"nesw-resize"],[-.625*Math.PI,-.375*Math.PI,"ns-resize"],[-.375*Math.PI,-.125*Math.PI,"nwse-resize"],[-.125*Math.PI,.125*Math.PI,"ew-resize"],[.125*Math.PI,.375*Math.PI,"nesw-resize"],[.375*Math.PI,.625*Math.PI,"ns-resize"],[.625*Math.PI,.875*Math.PI,"nwse-resize"],[.875*Math.PI,1*Math.PI,"ew-resize"]];return jquery_default()(circle.perim.node).on("vmousemove",(event=>{let[x,y]=this.getMouseCoord(event);x-=circle.center[0],y-=circle.center[1];const theta=Math.atan2(y,x);cursorAxes.forEach((function(axes){const[min,max,cursorName]=axes;theta>=min&&theta<max&&jquery_default()(circle.perim.node).css("cursor",cursorName)}))})),jquery_default()(circle.perim.node).css("cursor","nesw-resize"),circle.perim.node.addEventListener("touchstart",(function(event){event.preventDefault()}),{passive:!1}),jquery_default()(circle.perim.node).on("vmouseover vmouseout vmousedown",(function(event){if("vmouseover"===event.type)circle.highlight=!0,dragging||(circle.circ.animate(circle.circleHighlightStyle,50),circle.centerPoint.visibleShape.animate(circle.centerHighlightStyle,50));else if("vmouseout"===event.type)circle.highlight=!1,circle.dragging||circle.centerPoint.dragging||(circle.circ.animate(circle.circleNormalStyle,50),circle.centerPoint.visibleShape.animate(circle.centerNormalStyle,50));else if("vmousedown"===event.type&&(1===event.which||0===event.which)){event.preventDefault(),circle.toFront();const startRadius=circle.radius;jquery_default()(document).on("vmousemove vmouseup",(function(event){if(event.preventDefault(),circle.dragging=!0,dragging=!0,"vmousemove"===event.type){const coord=graphie.constrainToBounds(graphie.getMouseCoord(event),10);let radius=util_graphie.ZP.getDistance(circle.centerPoint.coord,coord);radius=Math.max(circle.minRadius,Math.round(radius/circle.snapRadius)*circle.snapRadius);const oldRadius=circle.radius;let doResize=!0;if(circle.onResize){const onResizeResult=circle.onResize(radius,oldRadius);index_all.ZP.isNumber(onResizeResult)?radius=onResizeResult:!1===onResizeResult&&(doResize=!1)}doResize&&(circle.setRadius(radius),jquery_default()(circle).trigger("move"))}else"vmouseup"===event.type&&(jquery_default()(document).off("vmousemove vmouseup"),circle.dragging=!1,dragging=!1,circle.onResizeEnd&&circle.onResizeEnd(circle.radius,startRadius))}))}})),circle},addRotateHandle:function(options){const graph=this;let rotatePoint=options.center;const radius=options.radius,lengthAngle=options.lengthAngle||30,hideArrow=options.hideArrow||!1,mouseTarget=options.mouseTarget,id=index_all.ZP.uniqueId("rotateHandle");index_all.ZP.isArray(rotatePoint)&&(rotatePoint={coord:rotatePoint});const rotateHandle=graph.addMovablePoint({coord:src.xm.addVector(rotatePoint.coord,src.xr.cartFromPolarDeg(radius,options.angleDeg||0)),constraints:{fixedDistance:{dist:radius,point:rotatePoint}},mouseTarget});rotatePoint.toFront();let drawnRotateHandle,rotatePointPrevCoord=rotatePoint.coord,rotateHandlePrevCoord=rotateHandle.coord,rotateHandleStartCoord=rotateHandlePrevCoord,isRotating=!1,isHovering=!1;const redrawRotateHandle=function(handleCoord){if(hideArrow)return;const handleVec=src.xr.subtract(handleCoord,rotatePoint.coord),angle=src.xr.polarDegFromCart(handleVec)[1];drawnRotateHandle&&drawnRotateHandle.remove(),drawnRotateHandle=function(graphie,center,radius,halfWidth,lengthAngle,angle,interacting){const getRotateHandlePoint=function(offset,distanceFromArrowMidline){const distFromRotationCenter=radius+distanceFromArrowMidline,vec=src.xr.cartFromPolarDeg(distFromRotationCenter,angle+offset),absolute=src.xr.add(center,vec),pixels=graphie.scalePoint(absolute);return pixels[0]+","+pixels[1]},innerR=graphie.scaleVector(radius-halfWidth),outerR=graphie.scaleVector(radius+halfWidth);return graphie.raphael.path(" M"+getRotateHandlePoint(lengthAngle,-halfWidth)+" L"+getRotateHandlePoint(lengthAngle,-3*halfWidth)+" L"+getRotateHandlePoint(2*lengthAngle,0)+" L"+getRotateHandlePoint(lengthAngle,3*halfWidth)+" L"+getRotateHandlePoint(lengthAngle,halfWidth)+" A"+outerR[0]+","+outerR[1]+",0,0,1,"+getRotateHandlePoint(-lengthAngle,halfWidth)+" L"+getRotateHandlePoint(-lengthAngle,3*halfWidth)+" L"+getRotateHandlePoint(-2*lengthAngle,0)+" L"+getRotateHandlePoint(-lengthAngle,-3*halfWidth)+" L"+getRotateHandlePoint(-lengthAngle,-halfWidth)+" A"+innerR[0]+","+innerR[1]+",0,0,0,"+getRotateHandlePoint(lengthAngle,-halfWidth)+" Z").attr({stroke:null,fill:interacting?colors.Z.INTERACTING:colors.Z.INTERACTIVE})}(graph,rotatePoint.coord,options.radius,isRotating||isHovering?options.hoverWidth/2:options.width/2,lengthAngle,angle,isRotating||isHovering)};jquery_default()(rotatePoint).on("move."+id,(function(){const delta=src.xr.subtract(rotatePoint.coord,rotatePointPrevCoord);rotateHandle.setCoord(src.xr.add(rotateHandle.coord,delta)),redrawRotateHandle(rotateHandle.coord),rotatePointPrevCoord=rotatePoint.coord,rotateHandle.constraints.fixedDistance.point=rotatePoint,rotateHandlePrevCoord=rotateHandle.coord})),rotateHandle.onMove=function(x,y){isRotating||(rotateHandleStartCoord=rotateHandlePrevCoord,isRotating=!0);let coord=[x,y];if(options.onMove){const oldPolar=src.xr.polarDegFromCart(src.xr.subtract(rotateHandlePrevCoord,rotatePoint.coord)),newPolar=src.xr.polarDegFromCart(src.xr.subtract(coord,rotatePoint.coord)),oldAngle=oldPolar[1],newAngle=newPolar[1];let result=options.onMove(newAngle,oldAngle);null!=result&&!0!==result&&(!1===result&&(result=oldAngle),coord=src.xr.add(rotatePoint.coord,src.xr.cartFromPolarDeg(oldPolar[0],result)))}return redrawRotateHandle(coord),rotateHandlePrevCoord=coord,coord},rotateHandle.onMoveEnd=function(){if(isRotating=!1,redrawRotateHandle(rotateHandle.coord),options.onMoveEnd){const oldPolar=src.xr.polarDegFromCart(src.xr.subtract(rotateHandleStartCoord,rotatePoint.coord)),newPolar=src.xr.polarDegFromCart(src.xr.subtract(rotateHandle.coord,rotatePoint.coord));options.onMoveEnd(newPolar[1],oldPolar[1])}},rotateHandle.visibleShape.remove(),mouseTarget||rotateHandle.mouseTarget.attr({scale:2});const $mouseTarget=jquery_default()(rotateHandle.mouseTarget.getMouseTarget());$mouseTarget.bind("vmouseover",(function(e){isHovering=!0,redrawRotateHandle(rotateHandle.coord)})),$mouseTarget.bind("vmouseout",(function(e){isHovering=!1,redrawRotateHandle(rotateHandle.coord)})),redrawRotateHandle(rotateHandle.coord);const oldRemove=rotateHandle.remove;return rotateHandle.remove=function(){oldRemove.call(rotateHandle),drawnRotateHandle&&drawnRotateHandle.remove(),jquery_default()(rotatePoint).off("move."+id)},rotateHandle.update=function(){redrawRotateHandle(rotateHandle.coord)},rotateHandle},addReflectButton:function(options){const graphie=this,line=options.line,button=graphie.addMovablePoint({constraints:options.constraints,coord:src.jv.midpoint([line.pointA.coord,line.pointZ.coord]),snapX:graphie.snap[0],snapY:graphie.snap[1],onMove:function(x,y){return!1},onMoveEnd:function(x,y){options.onMoveEnd&&options.onMoveEnd.call(this,x,y)}});let currentlyDrawnButton,isHovering=!1,isFlipped=!1;const isHighlight=function(){return isHovering},styles=index_all.ZP.map([0,1],(function(isHighlight){const baseStyle=isHighlight?options.highlightStyle:options.normalStyle;return index_all.ZP.map([0,1],(function(opacity){return index_all.ZP.defaults({"fill-opacity":opacity},baseStyle)}))})),getStyle=function(isRight){return isFlipped&&(isRight=!isRight),styles[+isHighlight()][+isRight]},redraw=function(coord,lineCoords){currentlyDrawnButton&&currentlyDrawnButton.remove(),currentlyDrawnButton=function(graphie,buttonCoord,lineCoords,size,distanceFromCenter,leftStyle,rightStyle){src.xm.equal(lineCoords[0],lineCoords[1])&&(lineCoords=[lineCoords[0],src.xm.addVector(lineCoords[0],[1,1])]);const lineDirection=src.xr.normalize(src.xr.subtract(lineCoords[1],lineCoords[0])),lineVec=src.xr.scale(lineDirection,size/2),centerVec=src.xr.scale(lineDirection,distanceFromCenter),leftCenterVec=src.xr.rotateDeg(centerVec,90),rightCenterVec=src.xr.rotateDeg(centerVec,-90),negLineVec=src.xr.negate(lineVec),leftVec=src.xr.rotateDeg(lineVec,90),rightVec=src.xr.rotateDeg(lineVec,-90),leftCenter=src.xm.addVectors(buttonCoord,leftCenterVec),rightCenter=src.xm.addVectors(buttonCoord,rightCenterVec),leftCoord1=src.xm.addVectors(buttonCoord,leftCenterVec,lineVec,leftVec),leftCoord2=src.xm.addVectors(buttonCoord,leftCenterVec,negLineVec,leftVec),rightCoord1=src.xm.addVectors(buttonCoord,rightCenterVec,lineVec,rightVec),rightCoord2=src.xm.addVectors(buttonCoord,rightCenterVec,negLineVec,rightVec),leftButton=graphie.path([leftCenter,leftCoord1,leftCoord2,!0],leftStyle),rightButton=graphie.path([rightCenter,rightCoord1,rightCoord2,!0],rightStyle);return{remove:function(){leftButton.remove(),rightButton.remove()}}}(graphie,coord,lineCoords,isHighlight()?1.5*options.size:options.size,isHighlight()?.125*options.size:.25,getStyle(0),getStyle(1))},update=function(coordA,coordZ){coordA=coordA||line.pointA.coord,coordZ=coordZ||line.pointZ.coord;const buttonCoord=src.jv.midpoint([coordA,coordZ]);button.setCoord(buttonCoord),redraw(buttonCoord,[coordA,coordZ])};jquery_default()(line).on("move",index_all.ZP.bind(update,button,null,null));const $mouseTarget=jquery_default()(button.mouseTarget.getMouseTarget());$mouseTarget.on("vclick",(function(){!1!==options.onClick()&&(isFlipped=!isFlipped,redraw(button.coord,[line.pointA.coord,line.pointZ.coord]))})),line.pointA.toFront(),line.pointZ.toFront(),button.visibleShape.remove();const pointScale=graphie.scaleVector(options.size)[0]/20;button.mouseTarget.attr({scale:1.5*pointScale}),$mouseTarget.css("cursor","pointer"),$mouseTarget.bind("vmouseover",(function(e){isHovering=!0,redraw(button.coord,[line.pointA.coord,line.pointZ.coord])})),$mouseTarget.bind("vmouseout",(function(e){isHovering=!1,redraw(button.coord,[line.pointA.coord,line.pointZ.coord])}));const oldButtonRemove=button.remove;return button.remove=function(){currentlyDrawnButton.remove(),oldButtonRemove.call(button)},button.update=update,button.isFlipped=function(){return isFlipped},update(),button},protractor:function(center){return new Protractor(this,center)},ruler:function(options){return new Ruler(this,options||{})},addPoints:src.xr.add}),index_all.ZP.extend(MovableAngle.prototype,{points:[],snapDegrees:0,snapOffsetDeg:0,angleLabel:"",numArcs:1,pushOut:0,fixed:!1,addMoveHandlers:function(){const graphie=this.graphie;function tooClose(point1,point2){return util_graphie.ZP.getDistance(graphie.scalePoint(point1),graphie.scalePoint(point2))<30}const points=this.points;points[1].onMove=function(x,y){const oldVertex=points[1].coord,newVertex=[x,y],delta=src.xr.add(newVertex,(0,geometry.g5)(oldVertex));let valid=!0;const newPoints={};return index_all.ZP.each([0,2],(function(i){const oldPoint=points[i].coord;let newPoint=src.xr.add(oldPoint,delta),angle=util_graphie.ZP.findAngle(newVertex,newPoint);angle*=Math.PI/180,newPoint=graphie.constrainToBoundsOnAngle(newPoint,10,angle),newPoints[i]=newPoint,tooClose(newVertex,newPoint)&&(valid=!1)})),valid&&index_all.ZP.each(newPoints,(function(newPoint,i){points[i].setCoord(newPoint)})),valid};const snap=this.snapDegrees,snapOffset=this.snapOffsetDeg;index_all.ZP.each([0,2],(function(i){points[i].onMove=function(x,y){const newPoint=[x,y],vertex=points[1].coord;if(tooClose(vertex,newPoint))return!1;if(snap){let angle=util_graphie.ZP.findAngle(newPoint,vertex);angle=Math.round((angle-snapOffset)/snap)*snap+snapOffset;const distance=util_graphie.ZP.getDistance(newPoint,vertex);return src.xr.add(vertex,(0,util_graphie.JO)(distance,angle))}return!0}})),jquery_default()(points).on("move",function(){this.update(),jquery_default()(this).trigger("move")}.bind(this))},addHighlightHandlers:function(){const vertex=this.points[1];vertex.onHighlight=function(){index_all.ZP.each(this.points,(function(point){point.visibleShape.animate(this.highlightStyle,50)}),this),index_all.ZP.each(this.rays,(function(ray){ray.visibleLine.animate(this.highlightStyle,50),ray.arrowStyle=index_all.ZP.extend({},ray.arrowStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})}),this),this.angleStyle=index_all.ZP.extend({},this.angleStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke}),this.update()}.bind(this),vertex.onUnhighlight=function(){index_all.ZP.each(this.points,(function(point){point.visibleShape.animate(this.normalStyle,50)}),this),index_all.ZP.each(this.rays,(function(ray){ray.visibleLine.animate(ray.normalStyle,50),ray.arrowStyle=index_all.ZP.extend({},ray.arrowStyle,{color:ray.normalStyle.stroke,stroke:ray.normalStyle.stroke})}),this),this.angleStyle=index_all.ZP.extend({},this.angleStyle,{color:colors.Z.DYNAMIC,stroke:colors.Z.DYNAMIC}),this.update()}.bind(this)},_getClockwiseAngle:function(coords){return util_graphie.ZP.findAngle(coords[2],coords[0],coords[1])+0},isReflex:function(){return this.reflex},isClockwise:function(){return this._getClockwiseAngle(this.coords)>180===this.reflex},getClockwiseCoords:function(){return this.isClockwise()?index_all.ZP.clone(this.coords):index_all.ZP.clone(this.coords).reverse()},update:function(shouldChangeReflexivity){const prevCoords=this.coords;this.coords=index_all.ZP.pluck(this.points,"coord"),index_all.ZP.invoke(this.points,"updateLineEnds");const prevAngle=this._getClockwiseAngle(prevCoords),angle=this._getClockwiseAngle(this.coords),prevClockwiseReflexive=prevAngle>180,clockwiseReflexive=angle>180;this.allowReflex&&(null==shouldChangeReflexivity&&(shouldChangeReflexivity=prevClockwiseReflexive!==clockwiseReflexive&&Math.abs(angle-prevAngle)<180),shouldChangeReflexivity&&(this.reflex=!this.reflex)),index_all.ZP.invoke(this.temp,"remove"),this.temp=this.graphie.labelAngle({point1:this.coords[0],vertex:this.coords[1],point3:this.coords[2],label:this.labeledAngle,text:this.angleLabel,numArcs:this.numArcs,pushOut:this.pushOut,clockwise:this.reflex===clockwiseReflexive,style:this.angleStyle})},remove:function(){index_all.ZP.invoke(this.rays,"remove"),index_all.ZP.invoke(this.temp,"remove"),this.labeledAngle.remove()}});const graph_utils=util_graphie.ZP},"./packages/perseus/src/util/graphie.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{GM:()=>Graphie,ZP:()=>graphie,JO:()=>polar});var src=__webpack_require__("./packages/kmath/src/index.ts"),es=__webpack_require__("./node_modules/@khanacademy/wonder-stuff-core/dist/browser/es/index.js"),jquery=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery);const raphael=function(){var setAttr;function R(){if(R.is(arguments[0],array)){for(var a=arguments[0],cnv=create[apply](R,a.splice(0,3+R.is(a[0],nu))),res=cnv.set(),i=0,ii=a[length];i<ii;i++){var j=a[i]||{};elements[has](j.type)&&res[push](cnv[j.type]().attr(j))}return res}return create[apply](R,arguments)}setAttr="".trim?function(node,att,value){node.setAttribute(att,String(value).trim())}:function(node,att,value){node.setAttribute(att,String(value))},R.version="1.5.2";var paperproto,separator=/[, ]+/,elements={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},formatrg=/\{(\d+)\}/g,proto="prototype",has="hasOwnProperty",doc=document,win=window,oldRaphael={was:Object[proto][has].call(win,"Raphael"),is:win.Raphael},Paper=function(){this.customAttributes={}},appendChild="appendChild",apply="apply",concat="concat",supportsTouch="createTouch"in doc,E="",S=" ",Str=String,split="split",events="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[split](S),touchMap={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},join="join",length="length",lowerCase=Str[proto].toLowerCase,math=Math,mmax=math.max,mmin=math.min,abs=math.abs,pow=math.pow,PI=math.PI,nu="number",array="array",toString="toString",objectToString=Object[proto][toString],push="push",ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,colourRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,isnan={NaN:1,Infinity:1,"-Infinity":1},bezierrg=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,round=math.round,toFloat=parseFloat,toInt=parseInt,ms=" progid:DXImageTransform.Microsoft",upperCase=Str[proto].toUpperCase,availableAttrs={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},availableAnimAttrs={along:"along",blur:nu,"clip-rect":"csv",cx:nu,cy:nu,fill:"colour","fill-opacity":nu,"font-size":nu,height:nu,opacity:nu,path:"path",r:nu,rotation:"csv",rx:nu,ry:nu,scale:"csv",stroke:"colour","stroke-opacity":nu,"stroke-width":nu,translation:"csv",width:nu,x:nu,y:nu},rp="replace",animKeyFrames=/^(from|to|\d+%?)$/,commaSpaces=/\s*,\s*/,hsrg={hs:1,rg:1},p2s=/,?([achlmqrstvxz]),?/gi,pathCommand=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValues=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,sortByKey=function(a,b){return a.key-b.key};if(R.type=win.SVGAngle||doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==R.type){var b,d=doc.createElement("div");if(d.innerHTML='<v:shape adj="1"/>',(b=d.firstChild).style.behavior="url(#default#VML)",!b||"object"!=typeof b.adj)return R.type=null;d=null}function createUUID(){for(var s=[],i=0;i<32;i++)s[i]=(~~(16*math.random()))[toString](16);return s[12]=4,s[16]=(3&s[16]|8)[toString](16),"r-"+s[join]("")}R.svg=!(R.vml="VML"==R.type),Paper[proto]=R[proto],paperproto=Paper[proto],R._id=0,R._oid=0,R.fn={},R.is=function(o,type){return"finite"==(type=lowerCase.call(type))?!isnan[has](+o):"null"==type&&null===o||type==typeof o||"object"==type&&o===Object(o)||"array"==type&&Array.isArray&&Array.isArray(o)||objectToString.call(o).slice(8,-1).toLowerCase()==type},R.angle=function(x1,y1,x2,y2,x3,y3){if(null==x3){var x=x1-x2,y=y1-y2;return x||y?(180*(x<0)+180*math.atan(-y/-x)/PI+360)%360:0}return R.angle(x1,y1,x3,y3)-R.angle(x2,y2,x3,y3)},R.rad=function(deg){return deg%360*PI/180},R.deg=function(rad){return 180*rad/PI%360},R.snapTo=function(values,value,tolerance){if(tolerance=R.is(tolerance,"finite")?tolerance:10,R.is(values,array)){for(var i=values.length;i--;)if(abs(values[i]-value)<=tolerance)return values[i]}else{var rem=value%(values=+values);if(rem<tolerance)return value-rem;if(rem>values-tolerance)return value-rem+values}return value},R.setWindow=function(newwin){doc=(win=newwin).document};var toHex=function(color){if(R.vml){var bod,trim=/^\s+|\s+$/g;try{var docum=new ActiveXObject("htmlfile");docum.write("<body>"),docum.close(),bod=docum.body}catch(e){bod=createPopup().document.body}var range=bod.createTextRange();toHex=cacher((function(color){try{bod.style.color=Str(color)[rp](trim,E);var value=range.queryCommandValue("ForeColor");return"#"+("000000"+(value=(255&value)<<16|65280&value|(16711680&value)>>>16)[toString](16)).slice(-6)}catch(e){return"none"}}))}else{var i=doc.createElement("i");i.title="Raphaël Colour Picker",i.style.display="none",doc.body[appendChild](i),toHex=cacher((function(color){return i.style.color=color,doc.defaultView.getComputedStyle(i,E).getPropertyValue("color")}))}return toHex(color)},hsbtoString=function(){return"hsb("+[this.h,this.s,this.b]+")"},hsltoString=function(){return"hsl("+[this.h,this.s,this.l]+")"},rgbtoString=function(){return this.hex};function cacher(f,scope,postprocessor){return function newf(){var arg=Array[proto].slice.call(arguments,0),args=arg[join]("►"),cache=newf.cache=newf.cache||{},count=newf.count=newf.count||[];return cache[has](args)||(count[length]>=1e3&&delete cache[count.shift()],count[push](args),cache[args]=f[apply](scope,arg)),postprocessor?postprocessor(cache[args]):cache[args]}}R.hsb2rgb=function(h,s,b,o){return R.is(h,"object")&&"h"in h&&"s"in h&&"b"in h&&(b=h.b,s=h.s,o=(h=h.h).o),R.hsl2rgb(h,s,b/2,o)},R.hsl2rgb=function(h,s,l,o){R.is(h,"object")&&"h"in h&&"s"in h&&"l"in h&&(l=h.l,s=h.s,h=h.h),(h>1||s>1||l>1)&&(h/=360,s/=100,l/=100);var t2,t1,t3,rgb={},channels=["r","g","b"];if(s){t1=2*l-(t2=l<.5?l*(1+s):l+s-l*s);for(var i=0;i<3;i++)(t3=h+1/3*-(i-1))<0&&t3++,t3>1&&t3--,rgb[channels[i]]=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1}else rgb={r:l,g:l,b:l};return rgb.r*=255,rgb.g*=255,rgb.b*=255,rgb.hex="#"+(16777216|rgb.b|rgb.g<<8|rgb.r<<16).toString(16).slice(1),R.is(o,"finite")&&(rgb.opacity=o),rgb.toString=rgbtoString,rgb},R.rgb2hsb=function(red,green,blue){if(null==green&&R.is(red,"object")&&"r"in red&&"g"in red&&"b"in red&&(blue=red.b,green=red.g,red=red.r),null==green&&R.is(red,"string")){var clr=R.getRGB(red);red=clr.r,green=clr.g,blue=clr.b}(red>1||green>1||blue>1)&&(red/=255,green/=255,blue/=255);var hue,max=mmax(red,green,blue),min=mmin(red,green,blue);if(min==max)return{h:0,s:0,b:max,toString:hsbtoString};var delta=max-min;return hue=red==max?(green-blue)/delta:green==max?2+(blue-red)/delta:4+(red-green)/delta,(hue/=6)<0&&hue++,hue>1&&hue--,{h:hue,s:delta/max,b:max,toString:hsbtoString}},R.rgb2hsl=function(red,green,blue){if(null==green&&R.is(red,"object")&&"r"in red&&"g"in red&&"b"in red&&(blue=red.b,green=red.g,red=red.r),null==green&&R.is(red,"string")){var clr=R.getRGB(red);red=clr.r,green=clr.g,blue=clr.b}(red>1||green>1||blue>1)&&(red/=255,green/=255,blue/=255);var h,hsl,max=mmax(red,green,blue),min=mmin(red,green,blue),l=(max+min)/2;if(min==max)hsl={h:0,s:0,l};else{var delta=max-min;h=red==max?(green-blue)/delta:green==max?2+(blue-red)/delta:4+(red-green)/delta,(h/=6)<0&&h++,h>1&&h--,hsl={h,s:l<.5?delta/(max+min):delta/(2-max-min),l}}return hsl.toString=hsltoString,hsl},R._path2string=function(){return this.join(",")[rp](p2s,"$1")},R.getRGB=cacher((function(colour){if(!colour||(colour=Str(colour)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==colour)return{r:-1,g:-1,b:-1,hex:"none"};!hsrg[has](colour.toLowerCase().substring(0,2))&&"#"!=colour.charAt()&&(colour=toHex(colour));var red,green,blue,opacity,t,values,rgb=colour.match(colourRegExp);return rgb?(rgb[2]&&(blue=toInt(rgb[2].substring(5),16),green=toInt(rgb[2].substring(3,5),16),red=toInt(rgb[2].substring(1,3),16)),rgb[3]&&(blue=toInt((t=rgb[3].charAt(3))+t,16),green=toInt((t=rgb[3].charAt(2))+t,16),red=toInt((t=rgb[3].charAt(1))+t,16)),rgb[4]&&(values=rgb[4][split](commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),"rgba"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100)),rgb[5]?(values=rgb[5][split](commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),("deg"==values[0].slice(-3)||"°"==values[0].slice(-1))&&(red/=360),"hsba"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100),R.hsb2rgb(red,green,blue,opacity)):rgb[6]?(values=rgb[6][split](commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),("deg"==values[0].slice(-3)||"°"==values[0].slice(-1))&&(red/=360),"hsla"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100),R.hsl2rgb(red,green,blue,opacity)):((rgb={r:red,g:green,b:blue}).hex="#"+(16777216|blue|green<<8|red<<16).toString(16).slice(1),R.is(opacity,"finite")&&(rgb.opacity=opacity),rgb)):{r:-1,g:-1,b:-1,hex:"none",error:1}}),R),R.getColor=function(value){var start=this.getColor.start=this.getColor.start||{h:0,s:1,b:value||.75},rgb=this.hsb2rgb(start.h,start.s,start.b);return start.h+=.075,start.h>1&&(start.h=0,start.s-=.2,start.s<=0&&(this.getColor.start={h:0,s:1,b:start.b})),rgb.hex},R.getColor.reset=function(){delete this.start},R.parsePathString=cacher((function(pathString){if(!pathString)return null;var paramCounts={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},data=[];return R.is(pathString,array)&&R.is(pathString[0],array)&&(data=pathClone(pathString)),data[length]||Str(pathString)[rp](pathCommand,(function(a,b,c){var params=[],name=lowerCase.call(b);for(c[rp](pathValues,(function(a,b){b&&params[push](+b)})),"m"==name&&params[length]>2&&(data[push]([b][concat](params.splice(0,2))),name="l",b="m"==b?"l":"L");params[length]>=paramCounts[name]&&(data[push]([b][concat](params.splice(0,paramCounts[name]))),paramCounts[name]););})),data[toString]=R._path2string,data})),R.findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,x=pow(t1,3)*p1x+3*pow(t1,2)*t*c1x+3*t1*t*t*c2x+pow(t,3)*p2x,y=pow(t1,3)*p1y+3*pow(t1,2)*t*c1y+3*t1*t*t*c2y+pow(t,3)*p2y,mx=p1x+2*t*(c1x-p1x)+t*t*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t*t*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t*t*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t*t*(p2y-2*c2y+c1y),ax=(1-t)*p1x+t*c1x,ay=(1-t)*p1y+t*c1y,cx=(1-t)*c2x+t*p2x,cy=(1-t)*c2y+t*p2y,alpha=90-180*math.atan((mx-nx)/(my-ny))/PI;return(mx>nx||my<ny)&&(alpha+=180),{x,y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:ax,y:ay},end:{x:cx,y:cy},alpha}};var pathDimensions=cacher((function(path){if(!path)return{x:0,y:0,width:0,height:0};for(var p,x=0,y=0,X=[],Y=[],i=0,ii=(path=path2curve(path))[length];i<ii;i++)if("M"==(p=path[i])[0])x=p[1],y=p[2],X[push](x),Y[push](y);else{var dim=curveDim(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);X=X[concat](dim.min.x,dim.max.x),Y=Y[concat](dim.min.y,dim.max.y),x=p[5],y=p[6]}var xmin=mmin[apply](0,X),ymin=mmin[apply](0,Y);return{x:xmin,y:ymin,width:mmax[apply](0,X)-xmin,height:mmax[apply](0,Y)-ymin}})),pathClone=function(pathArray){var res=[];R.is(pathArray,array)&&R.is(pathArray&&pathArray[0],array)||(pathArray=R.parsePathString(pathArray));for(var i=0,ii=pathArray[length];i<ii;i++){res[i]=[];for(var j=0,jj=pathArray[i][length];j<jj;j++)res[i][j]=pathArray[i][j]}return res[toString]=R._path2string,res},pathToRelative=cacher((function(pathArray){R.is(pathArray,array)&&R.is(pathArray&&pathArray[0],array)||(pathArray=R.parsePathString(pathArray));var res=[],x=0,y=0,mx=0,my=0,start=0;"M"==pathArray[0][0]&&(mx=x=pathArray[0][1],my=y=pathArray[0][2],start++,res[push](["M",x,y]));for(var i=start,ii=pathArray[length];i<ii;i++){var r=res[i]=[],pa=pathArray[i];if(pa[0]!=lowerCase.call(pa[0]))switch(r[0]=lowerCase.call(pa[0]),r[0]){case"a":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+(pa[6]-x).toFixed(3),r[7]=+(pa[7]-y).toFixed(3);break;case"v":r[1]=+(pa[1]-y).toFixed(3);break;case"m":mx=pa[1],my=pa[2];default:for(var j=1,jj=pa[length];j<jj;j++)r[j]=+(pa[j]-(j%2?x:y)).toFixed(3)}else{r=res[i]=[],"m"==pa[0]&&(mx=pa[1]+x,my=pa[2]+y);for(var k=0,kk=pa[length];k<kk;k++)res[i][k]=pa[k]}var len=res[i][length];switch(res[i][0]){case"z":x=mx,y=my;break;case"h":x+=+res[i][len-1];break;case"v":y+=+res[i][len-1];break;default:x+=+res[i][len-2],y+=+res[i][len-1]}}return res[toString]=R._path2string,res}),0,pathClone),pathToAbsolute=cacher((function(pathArray){R.is(pathArray,array)&&R.is(pathArray&&pathArray[0],array)||(pathArray=R.parsePathString(pathArray));var res=[],x=0,y=0,mx=0,my=0,start=0;"M"==pathArray[0][0]&&(mx=x=+pathArray[0][1],my=y=+pathArray[0][2],start++,res[0]=["M",x,y]);for(var i=start,ii=pathArray[length];i<ii;i++){var r=res[i]=[],pa=pathArray[i];if(pa[0]!=upperCase.call(pa[0]))switch(r[0]=upperCase.call(pa[0]),r[0]){case"A":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+(pa[6]+x),r[7]=+(pa[7]+y);break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"M":mx=+pa[1]+x,my=+pa[2]+y;default:for(var j=1,jj=pa[length];j<jj;j++)r[j]=+pa[j]+(j%2?x:y)}else for(var k=0,kk=pa[length];k<kk;k++)res[i][k]=pa[k];switch(r[0]){case"Z":x=mx,y=my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=res[i][res[i][length]-2],my=res[i][res[i][length]-1];default:x=res[i][res[i][length]-2],y=res[i][res[i][length]-1]}}return res[toString]=R._path2string,res}),null,pathClone),l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){var _13=1/3,_23=2/3;return[_13*x1+_23*ax,_13*y1+_23*ay,_13*x2+_23*ax,_13*y2+_23*ay,x2,y2]},a2c=function(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){var xy,_120=120*PI/180,rad=PI/180*(+angle||0),res=[],rotate=cacher((function(x,y,rad){return{x:x*math.cos(rad)-y*math.sin(rad),y:x*math.sin(rad)+y*math.cos(rad)}}));if(recursive)f1=recursive[0],f2=recursive[1],cx=recursive[2],cy=recursive[3];else{x1=(xy=rotate(x1,y1,-rad)).x,y1=xy.y,x2=(xy=rotate(x2,y2,-rad)).x,y2=xy.y;math.cos(PI/180*angle),math.sin(PI/180*angle);var x=(x1-x2)/2,y=(y1-y2)/2,h=x*x/(rx*rx)+y*y/(ry*ry);h>1&&(rx*=h=math.sqrt(h),ry*=h);var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag==sweep_flag?-1:1)*math.sqrt(abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x))),cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=math.asin(((y1-cy)/ry).toFixed(9)),f2=math.asin(((y2-cy)/ry).toFixed(9));(f1=x1<cx?PI-f1:f1)<0&&(f1=2*PI+f1),(f2=x2<cx?PI-f2:f2)<0&&(f2=2*PI+f2),sweep_flag&&f1>f2&&(f1-=2*PI),!sweep_flag&&f2>f1&&(f2-=2*PI)}var df=f2-f1;if(abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1),x2=cx+rx*math.cos(f2),y2=cy+ry*math.sin(f2),res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=math.cos(f1),s1=math.sin(f1),c2=math.cos(f2),s2=math.sin(f2),t=math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];if(m2[0]=2*m1[0]-m2[0],m2[1]=2*m1[1]-m2[1],recursive)return[m2,m3,m4][concat](res);for(var newres=[],i=0,ii=(res=[m2,m3,m4][concat](res)[join]()[split](","))[length];i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres},findDotAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t;return{x:pow(t1,3)*p1x+3*pow(t1,2)*t*c1x+3*t1*t*t*c2x+pow(t,3)*p2x,y:pow(t1,3)*p1y+3*pow(t1,2)*t*c1y+3*t1*t*t*c2y+pow(t,3)*p2y}},curveDim=cacher((function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){var dot,a=c2x-2*c1x+p1x-(p2x-2*c2x+c1x),b=2*(c1x-p1x)-2*(c2x-c1x),c=p1x-c1x,t1=(-b+math.sqrt(b*b-4*a*c))/2/a,t2=(-b-math.sqrt(b*b-4*a*c))/2/a,y=[p1y,p2y],x=[p1x,p2x];return abs(t1)>"1e12"&&(t1=.5),abs(t2)>"1e12"&&(t2=.5),t1>0&&t1<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1),x[push](dot.x),y[push](dot.y)),t2>0&&t2<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2),x[push](dot.x),y[push](dot.y)),a=c2y-2*c1y+p1y-(p2y-2*c2y+c1y),c=p1y-c1y,t1=(-(b=2*(c1y-p1y)-2*(c2y-c1y))+math.sqrt(b*b-4*a*c))/2/a,t2=(-b-math.sqrt(b*b-4*a*c))/2/a,abs(t1)>"1e12"&&(t1=.5),abs(t2)>"1e12"&&(t2=.5),t1>0&&t1<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1),x[push](dot.x),y[push](dot.y)),t2>0&&t2<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2),x[push](dot.x),y[push](dot.y)),{min:{x:mmin[apply](0,x),y:mmin[apply](0,y)},max:{x:mmax[apply](0,x),y:mmax[apply](0,y)}}})),path2curve=cacher((function(path,path2){for(var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},processPath=function(path,d){if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null),path[0]){case"M":d.X=path[1],d.Y=path[2];break;case"A":path=["C"][concat](a2c[apply](0,[d.x,d.y][concat](path.slice(1))));break;case"S":path=["C",d.x+(d.x-(d.bx||d.x)),d.y+(d.y-(d.by||d.y))][concat](path.slice(1));break;case"T":d.qx=d.x+(d.x-(d.qx||d.x)),d.qy=d.y+(d.y-(d.qy||d.y)),path=["C"][concat](q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1],d.qy=path[2],path=["C"][concat](q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"][concat](l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"][concat](l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"][concat](l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"][concat](l2c(d.x,d.y,d.X,d.Y))}return path},fixArc=function(pp,i){if(pp[i][length]>7){pp[i].shift();for(var pi=pp[i];pi[length];)pp.splice(i++,0,["C"][concat](pi.splice(0,6)));pp.splice(i,1),ii=mmax(p[length],p2&&p2[length]||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&"M"==path1[i][0]&&"M"!=path2[i][0]&&(path2.splice(i,0,["M",a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=mmax(p[length],p2&&p2[length]||0))},i=0,ii=mmax(p[length],p2&&p2[length]||0);i<ii;i++){p[i]=processPath(p[i],attrs),fixArc(p,i),p2&&(p2[i]=processPath(p2[i],attrs2)),p2&&fixArc(p2,i),fixM(p,p2,attrs,attrs2,i),fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg[length],seg2len=p2&&seg2[length];attrs.x=seg[seglen-2],attrs.y=seg[seglen-1],attrs.bx=toFloat(seg[seglen-4])||attrs.x,attrs.by=toFloat(seg[seglen-3])||attrs.y,attrs2.bx=p2&&(toFloat(seg2[seg2len-4])||attrs2.x),attrs2.by=p2&&(toFloat(seg2[seg2len-3])||attrs2.y),attrs2.x=p2&&seg2[seg2len-2],attrs2.y=p2&&seg2[seg2len-1]}return p2?[p,p2]:p}),null,pathClone),parseDots=cacher((function(gradient){for(var dots=[],i=0,ii=gradient[length];i<ii;i++){var dot={},par=gradient[i].match(/^([^:]*):?([\d\.]*)/);if(dot.color=R.getRGB(par[1]),dot.color.error)return null;dot.color=dot.color.hex,par[2]&&(dot.offset=par[2]+"%"),dots[push](dot)}for(i=1,ii=dots[length]-1;i<ii;i++)if(!dots[i].offset){for(var start=toFloat(dots[i-1].offset||0),end=0,j=i+1;j<ii;j++)if(dots[j].offset){end=dots[j].offset;break}end||(end=100,j=ii);for(var d=((end=toFloat(end))-start)/(j-i+1);i<j;i++)start+=d,dots[i].offset=start+"%"}return dots})),getContainer=function(x,y,w,h){var container;return R.is(x,"string")||R.is(x,"object")?(container=R.is(x,"string")?doc.getElementById(x):x).tagName?null==y?{container,width:container.style.pixelWidth||container.offsetWidth,height:container.style.pixelHeight||container.offsetHeight}:{container,width:y,height:w}:void 0:{container:1,x,y,width:w,height:h}},plugins=function(con,add){var that=this;for(var prop in add)if(add[has](prop)&&!(prop in con))switch(typeof add[prop]){case"function":!function(f){con[prop]=con===that?f:function(){return f[apply](that,arguments)}}(add[prop]);break;case"object":con[prop]=con[prop]||{},plugins.call(this,con[prop],add[prop]);break;default:con[prop]=add[prop]}},tear=function(el,paper){el==paper.top&&(paper.top=el.prev),el==paper.bottom&&(paper.bottom=el.next),el.next&&(el.next.prev=el.prev),el.prev&&(el.prev.next=el.next)},tofront=function(el,paper){paper.top!==el&&(tear(el,paper),el.next=null,el.prev=paper.top,paper.top.next=el,paper.top=el)},toback=function(el,paper){paper.bottom!==el&&(tear(el,paper),el.next=paper.bottom,el.prev=null,paper.bottom.prev=el,paper.bottom=el)},insertafter=function(el,el2,paper){tear(el,paper),el2==paper.top&&(paper.top=el),el2.next&&(el2.next.prev=el),el.next=el2.next,el.prev=el2,el2.next=el},insertbefore=function(el,el2,paper){tear(el,paper),el2==paper.bottom&&(paper.bottom=el),el2.prev&&(el2.prev.next=el),el.prev=el2.prev,el2.prev=el,el.next=el2},removed=function(methodname){return function(){throw new Error("Raphaël: you are calling to method “"+methodname+"” of removed object")}};if(R.pathToRelative=pathToRelative,R.svg){paperproto.svgns="http://www.w3.org/2000/svg",paperproto.xlink="http://www.w3.org/1999/xlink",round=function(num){return+num+.5*(~~num===num)};var $=function(el,attr){if(!attr)return(el=doc.createElementNS(paperproto.svgns,el)).style.webkitTapHighlightColor="rgba(0,0,0,0)",el;for(var key in attr)attr[has](key)&&setAttr(el,key,Str(attr[key]))};R[toString]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var thePath=function(pathString,SVG){var el=$("path");SVG.canvas&&SVG.canvas[appendChild](el);var p=new Element(el,SVG);return p.type="path",setFillAndStroke(p,{fill:"none",stroke:"#000",path:pathString}),p},addGradientFill=function(o,gradient,SVG){var type="linear",fx=.5,fy=.5,s=o.style;if(gradient=(gradient=Str(gradient)[rp](radial_gradient,(function(all,_fx,_fy){if(type="radial",_fx&&_fy){fx=toFloat(_fx);var dir=2*((fy=toFloat(_fy))>.5)-1;pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=math.sqrt(.25-pow(fx-.5,2))*dir+.5)&&.5!=fy&&(fy=fy.toFixed(5)-1e-5*dir)}return E})))[split](/\s*\-\s*/),"linear"==type){var angle=gradient.shift();if(angle=-toFloat(angle),isNaN(angle))return null;var vector=[0,0,math.cos(angle*PI/180),math.sin(angle*PI/180)],max=1/(mmax(abs(vector[2]),abs(vector[3]))||1);vector[2]*=max,vector[3]*=max,vector[2]<0&&(vector[0]=-vector[2],vector[2]=0),vector[3]<0&&(vector[1]=-vector[3],vector[3]=0)}var dots=parseDots(gradient);if(!dots)return null;var id=o.getAttribute("fill");(id=id.match(/^url\(#(.*)\)$/))&&SVG.defs.removeChild(doc.getElementById(id[1]));var el=$(type+"Gradient");el.id=createUUID(),$(el,"radial"==type?{fx,fy}:{x1:vector[0],y1:vector[1],x2:vector[2],y2:vector[3]}),SVG.defs[appendChild](el);for(var i=0,ii=dots[length];i<ii;i++){var stop=$("stop");$(stop,{offset:dots[i].offset?dots[i].offset:i?"100%":"0%","stop-color":dots[i].color||"#fff"}),el[appendChild](stop)}return $(o,{fill:"url(#"+el.id+")",opacity:1,"fill-opacity":1}),s.fill=E,s.opacity=1,s.fillOpacity=1,1},updatePosition=function(o){var bbox=o.getBBox();$(o.pattern,{patternTransform:R.format("translate({0},{1})",bbox.x,bbox.y)})},setFillAndStroke=function(o,params){var dasharray={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},node=o.node,attrs=o.attrs,rot=o.rotate(),addDashes=function(o,value){if(value=dasharray[lowerCase.call(value)]){for(var width=o.attrs["stroke-width"]||"1",butt={round:width,square:width,butt:0}[o.attrs["stroke-linecap"]||params["stroke-linecap"]]||0,dashes=[],i=value[length];i--;)dashes[i]=value[i]*width+(i%2?1:-1)*butt;$(node,{"stroke-dasharray":dashes[join](",")})}};params[has]("rotation")&&(rot=params.rotation);var rotxy=Str(rot)[split](separator);for(var att in rotxy.length-1?(rotxy[1]=+rotxy[1],rotxy[2]=+rotxy[2]):rotxy=null,toFloat(rot)&&o.rotate(0,!0),params)if(params[has](att)){if(!availableAttrs[has](att))continue;var value=params[att];switch(attrs[att]=value,att){case"blur":o.blur(value);break;case"rotation":o.rotate(value,!0);break;case"href":case"title":case"target":var pn=node.parentNode;if("a"!=lowerCase.call(pn.tagName)){var hl=$("a");pn.insertBefore(hl,node),hl[appendChild](node),pn=hl}"target"==att&&"blank"==value?pn.setAttributeNS(o.paper.xlink,"show","new"):pn.setAttributeNS(o.paper.xlink,att,value);break;case"cursor":node.style.cursor=value;break;case"clip-rect":var rect=Str(value)[split](separator);if(4==rect[length]){o.clip&&o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);var el=$("clipPath"),rc=$("rect");el.id=createUUID(),$(rc,{x:rect[0],y:rect[1],width:rect[2],height:rect[3]}),el[appendChild](rc),o.paper.defs[appendChild](el),$(node,{"clip-path":"url(#"+el.id+")"}),o.clip=rc}if(!value){var clip=doc.getElementById(node.getAttribute("clip-path")[rp](/(^url\(#|\)$)/g,E));clip&&clip.parentNode.removeChild(clip),$(node,{"clip-path":E}),delete o.clip}break;case"path":"path"==o.type&&$(node,{d:value?attrs.path=pathToAbsolute(value):"M0,0"});break;case"width":if(setAttr(node,att,value),!attrs.fx)break;att="x",value=attrs.x;case"x":attrs.fx&&(value=-attrs.x-(attrs.width||0));case"rx":if("rx"==att&&"rect"==o.type)break;case"cx":rotxy&&("x"==att||"cx"==att)&&(rotxy[1]+=value-attrs[att]),setAttr(node,att,value),o.pattern&&updatePosition(o);break;case"height":if(setAttr(node,att,value),!attrs.fy)break;att="y",value=attrs.y;case"y":attrs.fy&&(value=-attrs.y-(attrs.height||0));case"ry":if("ry"==att&&"rect"==o.type)break;case"cy":rotxy&&("y"==att||"cy"==att)&&(rotxy[2]+=value-attrs[att]),setAttr(node,att,value),o.pattern&&updatePosition(o);break;case"r":"rect"==o.type?$(node,{rx:value,ry:value}):setAttr(node,att,value);break;case"src":"image"==o.type&&node.setAttributeNS(o.paper.xlink,"href",value);break;case"stroke-width":node.style.strokeWidth=value,setAttr(node,att,value),attrs["stroke-dasharray"]&&addDashes(o,attrs["stroke-dasharray"]);break;case"stroke-dasharray":addDashes(o,value);break;case"translation":var xy=Str(value)[split](separator);xy[0]=+xy[0]||0,xy[1]=+xy[1]||0,rotxy&&(rotxy[1]+=xy[0],rotxy[2]+=xy[1]),translate.call(o,xy[0],xy[1]);break;case"scale":xy=Str(value)[split](separator),o.scale(+xy[0]||1,+xy[1]||+xy[0]||1,isNaN(toFloat(xy[2]))?null:+xy[2],isNaN(toFloat(xy[3]))?null:+xy[3]);break;case"fill":var isURL=Str(value).match(ISURL);if(isURL){el=$("pattern");var ig=$("image");el.id=createUUID(),$(el,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),$(ig,{x:0,y:0}),ig.setAttributeNS(o.paper.xlink,"href",isURL[1]),el[appendChild](ig);var img=doc.createElement("img");img.style.cssText="position:absolute;left:-9999em;top-9999em",img.onload=function(){$(el,{width:this.offsetWidth,height:this.offsetHeight}),$(ig,{width:this.offsetWidth,height:this.offsetHeight}),doc.body.removeChild(this),o.paper.safari()},doc.body[appendChild](img),img.src=isURL[1],o.paper.defs[appendChild](el),node.style.fill="url(#"+el.id+")",$(node,{fill:"url(#"+el.id+")"}),o.pattern=el,o.pattern&&updatePosition(o);break}var clr=R.getRGB(value);if(clr.error){if(({circle:1,ellipse:1}[has](o.type)||"r"!=Str(value).charAt())&&addGradientFill(node,value,o.paper)){attrs.gradient=value,attrs.fill="none";break}}else delete params.gradient,delete attrs.gradient,!R.is(attrs.opacity,"undefined")&&R.is(params.opacity,"undefined")&&$(node,{opacity:attrs.opacity}),!R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")&&$(node,{"fill-opacity":attrs["fill-opacity"]});clr[has]("opacity")&&$(node,{"fill-opacity":clr.opacity>1?clr.opacity/100:clr.opacity});case"stroke":clr=R.getRGB(value),setAttr(node,att,clr.hex),"stroke"==att&&clr[has]("opacity")&&$(node,{"stroke-opacity":clr.opacity>1?clr.opacity/100:clr.opacity});break;case"gradient":({circle:1,ellipse:1}[has](o.type)||"r"!=Str(value).charAt())&&addGradientFill(node,value,o.paper);break;case"opacity":attrs.gradient&&!attrs[has]("stroke-opacity")&&$(node,{"stroke-opacity":value>1?value/100:value});case"fill-opacity":if(attrs.gradient){var gradient=doc.getElementById(node.getAttribute("fill")[rp](/^url\(#|\)$/g,E));if(gradient){var stops=gradient.getElementsByTagName("stop");setAttr(stops[stops[length]-1],"stop-opacity",value)}break}default:"font-size"==att&&(value=toInt(value,10)+"px");var cssrule=att[rp](/(\-.)/g,(function(w){return upperCase.call(w.substring(1))}));node.style[cssrule]=value,setAttr(node,att,value)}}tuneText(o,params),rotxy?o.rotate(rotxy.join(S)):toFloat(rot)&&o.rotate(rot,!0)},tuneText=function(el,params){if("text"==el.type&&(params[has]("text")||params[has]("font")||params[has]("font-size")||params[has]("x")||params[has]("y"))){var a=el.attrs,node=el.node,fontSize=node.firstChild?toInt(doc.defaultView.getComputedStyle(node.firstChild,E).getPropertyValue("font-size"),10):10;if(params[has]("text")){for(a.text=params.text;node.firstChild;)node.removeChild(node.firstChild);for(var texts=Str(params.text)[split]("\n"),i=0,ii=texts[length];i<ii;i++)if(texts[i]){var tspan=$("tspan");i&&$(tspan,{dy:1.2*fontSize,x:a.x}),tspan[appendChild](doc.createTextNode(texts[i])),node[appendChild](tspan)}}else for(i=0,ii=(texts=node.getElementsByTagName("tspan"))[length];i<ii;i++)i&&$(texts[i],{dy:1.2*fontSize,x:a.x});$(node,{y:a.y});var bb=el.getBBox(),dif=a.y-(bb.y+bb.height/2);dif&&R.is(dif,"finite")&&$(node,{y:a.y+dif})}},Element=function(node,svg){this[0]=node,this.id=R._oid++,this.node=node,node.raphael=this,this.paper=svg,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!svg.bottom&&(svg.bottom=this),this.prev=svg.top,svg.top&&(svg.top.next=this),svg.top=this,this.next=null},elproto=Element[proto];Element[proto].rotate=function(deg,cx,cy){if(this.removed)return this;if(null==deg)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][join](S):this._.rt.deg;var bbox=this.getBBox();return(deg=Str(deg)[split](separator))[length]-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),null!=cx&&!1!==cx?this._.rt.deg=deg:this._.rt.deg+=deg,null==cy&&(cx=null),this._.rt.cx=cx,this._.rt.cy=cy,cx=null==cx?bbox.x+bbox.width/2:cx,cy=null==cy?bbox.y+bbox.height/2:cy,this._.rt.deg?(this.transformations[0]=R.format("rotate({0} {1} {2})",this._.rt.deg,cx,cy),this.clip&&$(this.clip,{transform:R.format("rotate({0} {1} {2})",-this._.rt.deg,cx,cy)})):(this.transformations[0]=E,this.clip&&$(this.clip,{transform:E})),$(this.node,{transform:this.transformations[join](S)}),this},Element[proto].hide=function(){return!this.removed&&(this.node.style.display="none"),this},Element[proto].show=function(){return!this.removed&&(this.node.style.display=""),this},Element[proto].remove=function(){if(!this.removed){for(var i in tear(this,this.paper),this.node.parentNode.removeChild(this.node),this)delete this[i];this.removed=!0}},Element[proto].getBBox=function(){if(this.removed)return this;if("path"==this.type)return pathDimensions(this.attrs.path);if("none"==this.node.style.display){this.show();var hide=!0}var bbox={};try{bbox=this.node.getBBox()}catch(e){}finally{bbox=bbox||{}}if("text"==this.type){bbox={x:bbox.x,y:1/0,width:0,height:0};for(var i=0,ii=this.node.getNumberOfChars();i<ii;i++){var bb=this.node.getExtentOfChar(i);bb.y<bbox.y&&(bbox.y=bb.y),bb.y+bb.height-bbox.y>bbox.height&&(bbox.height=bb.y+bb.height-bbox.y),bb.x+bb.width-bbox.x>bbox.width&&(bbox.width=bb.x+bb.width-bbox.x)}}return hide&&this.hide(),bbox},Element[proto].attr=function(name,value){if(this.removed)return this;if(null==name){var res={};for(var i in this.attrs)this.attrs[has](i)&&(res[i]=this.attrs[i]);return this._.rt.deg&&(res.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(res.scale=this.scale()),res.gradient&&"none"==res.fill&&(res.fill=res.gradient)&&delete res.gradient,res}if(null==value&&R.is(name,"string"))return"translation"==name?translate.call(this):"rotation"==name?this.rotate():"scale"==name?this.scale():"fill"==name&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[name];if(null==value&&R.is(name,array)){for(var values={},j=0,jj=name.length;j<jj;j++)values[name[j]]=this.attr(name[j]);return values}if(null!=value){var params={};params[name]=value}else null!=name&&R.is(name,"object")&&(params=name);for(var key in this.paper.customAttributes)if(this.paper.customAttributes[has](key)&&params[has](key)&&R.is(this.paper.customAttributes[key],"function")){var par=this.paper.customAttributes[key].apply(this,[][concat](params[key]));for(var subkey in this.attrs[key]=params[key],par)par[has](subkey)&&(params[subkey]=par[subkey])}return setFillAndStroke(this,params),this},Element[proto].toFront=function(){if(this.removed)return this;this.node.parentNode[appendChild](this.node);var svg=this.paper;return svg.top!=this&&tofront(this,svg),this},Element[proto].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),toback(this,this.paper);this.paper}return this},Element[proto].insertAfter=function(element){if(this.removed)return this;var node=element.node||element[element.length-1].node;return node.nextSibling?node.parentNode.insertBefore(this.node,node.nextSibling):node.parentNode[appendChild](this.node),insertafter(this,element,this.paper),this},Element[proto].insertBefore=function(element){if(this.removed)return this;var node=element.node||element[0].node;return node.parentNode.insertBefore(this.node,node),insertbefore(this,element,this.paper),this},Element[proto].blur=function(size){var t=this;if(0!=+size){var fltr=$("filter"),blur=$("feGaussianBlur");t.attrs.blur=size,fltr.id=createUUID(),$(blur,{stdDeviation:+size||1.5}),fltr.appendChild(blur),t.paper.defs.appendChild(fltr),t._blur=fltr,$(t.node,{filter:"url(#"+fltr.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter")};var theCircle=function(svg,x,y,r){var el=$("circle");svg.canvas&&svg.canvas[appendChild](el);var res=new Element(el,svg);return res.attrs={cx:x,cy:y,r,fill:"none",stroke:"#000"},res.type="circle",$(el,res.attrs),res},theRect=function(svg,x,y,w,h,r){var el=$("rect");svg.canvas&&svg.canvas[appendChild](el);var res=new Element(el,svg);return res.attrs={x,y,width:w,height:h,r:r||0,rx:r||0,ry:r||0,fill:"none",stroke:"#000"},res.type="rect",$(el,res.attrs),res},theEllipse=function(svg,x,y,rx,ry){var el=$("ellipse");svg.canvas&&svg.canvas[appendChild](el);var res=new Element(el,svg);return res.attrs={cx:x,cy:y,rx,ry,fill:"none",stroke:"#000"},res.type="ellipse",$(el,res.attrs),res},theImage=function(svg,src,x,y,w,h){var el=$("image");$(el,{x,y,width:w,height:h,preserveAspectRatio:"none"}),el.setAttributeNS(svg.xlink,"href",src),svg.canvas&&svg.canvas[appendChild](el);var res=new Element(el,svg);return res.attrs={x,y,width:w,height:h,src},res.type="image",res},theText=function(svg,x,y,text){var el=$("text");$(el,{x,y,"text-anchor":"middle"}),svg.canvas&&svg.canvas[appendChild](el);var res=new Element(el,svg);return res.attrs={x,y,"text-anchor":"middle",text,font:availableAttrs.font,stroke:"none",fill:"#000"},res.type="text",setFillAndStroke(res,res.attrs),res},setSize=function(width,height){return this.width=width||this.width,this.height=height||this.height,setAttr(this.canvas,"width",this.width),setAttr(this.canvas,"height",this.height),this},create=function(){var con=getContainer[apply](0,arguments),container=con&&con.container,x=con.x,y=con.y,width=con.width,height=con.height;if(!container)throw new Error("SVG container not found.");var cnvs=$("svg");return x=x||0,y=y||0,$(cnvs,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:width=width||512,height:height=height||342}),1==container?(cnvs.style.cssText="position:absolute;left:"+x+"px;top:"+y+"px",doc.body[appendChild](cnvs)):container.firstChild?container.insertBefore(cnvs,container.firstChild):container[appendChild](cnvs),(container=new Paper).width=width,container.height=height,container.canvas=cnvs,plugins.call(container,container,R.fn),container.clear(),container};paperproto.clear=function(){for(var c=this.canvas;c.firstChild;)c.removeChild(c.firstChild);this.bottom=this.top=null,(this.desc=$("desc"))[appendChild](doc.createTextNode("Created with Raphaël")),c[appendChild](this.desc),c[appendChild](this.defs=$("defs"))},paperproto.remove=function(){for(var i in this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[i]=removed(i)}}if(R.vml){var createNode,map={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bites=/([clmz]),?([^clmz]*)/gi,blurregexp=/ progid:\S+Blur\([^\)]+\)/g,val=/-?[^,\s-]+/g,pathlike={path:1,rect:1};function rectPath(x,y,w,h,r){return r?R.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",x+r,y,w-2*r,r,-r,h-2*r,2*r-w,2*r-h):R.format("M{0},{1}l{2},0,0,{3},{4},0z",x,y,w,h,-w)}R[toString]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},thePath=function(pathString,vml){var g=createNode("group");g.style.cssText="position:absolute;left:0;top:0;width:"+vml.width+"px;height:"+vml.height+"px",g.coordsize=vml.coordsize,g.coordorigin=vml.coordorigin;var el=createNode("shape"),ol=el.style;ol.width=vml.width+"px",ol.height=vml.height+"px",el.coordsize="1000 1000",el.coordorigin=vml.coordorigin,g[appendChild](el);var p=new Element(el,g,vml),attr={fill:"none",stroke:"#000"};return pathString&&(attr.path=pathString),p.type="path",p.path=[],p.Path=E,setFillAndStroke(p,attr),vml.canvas[appendChild](g),p},setFillAndStroke=function(o,params){o.attrs=o.attrs||{};var xy,node=o.node,a=o.attrs,s=node.style,newpath=(params.x!=a.x||params.y!=a.y||params.width!=a.width||params.height!=a.height||params.r!=a.r)&&"rect"==o.type,res=o;for(var par in params)params[has](par)&&(a[par]=params[par]);if(newpath&&(a.path=rectPath(a.x,a.y,a.width,a.height,a.r),o.X=a.x,o.Y=a.y,o.W=a.width,o.H=a.height),params.href&&(node.href=params.href),params.title&&(node.title=params.title),params.target&&(node.target=params.target),params.cursor&&(s.cursor=params.cursor),"blur"in params&&o.blur(params.blur),(params.path&&"path"==o.type||newpath)&&(node.path=function(path){var total=/[ahqstv]/gi,command=pathToAbsolute;if(Str(path).match(total)&&(command=path2curve),total=/[clmz]/g,command==pathToAbsolute&&!Str(path).match(total)){var res=Str(path)[rp](bites,(function(all,command,args){var vals=[],isMove="m"==lowerCase.call(command),res=map[command];return args[rp](val,(function(value){isMove&&2==vals[length]&&(res+=vals+map["m"==command?"l":"L"],vals=[]),vals[push](round(10*value))})),res+vals}));return res}var p,r,pa=command(path);res=[];for(var i=0,ii=pa[length];i<ii;i++){p=pa[i],"z"==(r=lowerCase.call(pa[i][0]))&&(r="x");for(var j=1,jj=p[length];j<jj;j++)r+=round(10*p[j])+(j!=jj-1?",":E);res[push](r)}return res[join](S)}(a.path)),null!=params.rotation&&o.rotate(params.rotation,!0),params.translation&&(xy=Str(params.translation)[split](separator),translate.call(o,xy[0],xy[1]),null!=o._.rt.cx&&(o._.rt.cx+=+xy[0],o._.rt.cy+=+xy[1],o.setBox(o.attrs,xy[0],xy[1]))),params.scale&&(xy=Str(params.scale)[split](separator),o.scale(+xy[0]||1,+xy[1]||+xy[0]||1,+xy[2]||null,+xy[3]||null)),"clip-rect"in params){var rect=Str(params["clip-rect"])[split](separator);if(4==rect[length]){rect[2]=+rect[2]+ +rect[0],rect[3]=+rect[3]+ +rect[1];var div=node.clipRect||doc.createElement("div"),dstyle=div.style,group=node.parentNode;dstyle.clip=R.format("rect({1}px {2}px {3}px {0}px)",rect),node.clipRect||(dstyle.position="absolute",dstyle.top=0,dstyle.left=0,dstyle.width=o.paper.width+"px",dstyle.height=o.paper.height+"px",group.parentNode.insertBefore(div,group),div[appendChild](group),node.clipRect=div)}params["clip-rect"]||node.clipRect&&(node.clipRect.style.clip=E)}if("image"==o.type&&params.src&&(node.src=params.src),"image"==o.type&&params.opacity&&(node.filterOpacity=ms+".Alpha(opacity="+100*params.opacity+")",s.filter=(node.filterMatrix||E)+(node.filterOpacity||E)),params.font&&(s.font=params.font),params["font-family"]&&(s.fontFamily='"'+params["font-family"][split](",")[0][rp](/^['"]+|['"]+$/g,E)+'"'),params["font-size"]&&(s.fontSize=params["font-size"]),params["font-weight"]&&(s.fontWeight=params["font-weight"]),params["font-style"]&&(s.fontStyle=params["font-style"]),null!=params.opacity||null!=params["stroke-width"]||null!=params.fill||null!=params.stroke||null!=params["stroke-width"]||null!=params["stroke-opacity"]||null!=params["fill-opacity"]||null!=params["stroke-dasharray"]||null!=params["stroke-miterlimit"]||null!=params["stroke-linejoin"]||null!=params["stroke-linecap"]){var fill=(node=o.shape||node).getElementsByTagName("fill")&&node.getElementsByTagName("fill")[0],newfill=!1;if(!fill&&(newfill=fill=createNode("fill")),"fill-opacity"in params||"opacity"in params){var opacity=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+R.getRGB(params.fill).o+1||2)-1);opacity=mmin(mmax(opacity,0),1),fill.opacity=opacity}if(params.fill&&(fill.on=!0),null!=fill.on&&"none"!=params.fill||(fill.on=!1),fill.on&&params.fill){var isURL=params.fill.match(ISURL);isURL?(fill.src=isURL[1],fill.type="tile"):(fill.color=R.getRGB(params.fill).hex,fill.src=E,fill.type="solid",R.getRGB(params.fill).error&&(res.type in{circle:1,ellipse:1}||"r"!=Str(params.fill).charAt())&&addGradientFill(res,params.fill)&&(a.fill="none",a.gradient=params.fill))}newfill&&node[appendChild](fill);var stroke=node.getElementsByTagName("stroke")&&node.getElementsByTagName("stroke")[0],newstroke=!1;!stroke&&(newstroke=stroke=createNode("stroke")),(params.stroke&&"none"!=params.stroke||params["stroke-width"]||null!=params["stroke-opacity"]||params["stroke-dasharray"]||params["stroke-miterlimit"]||params["stroke-linejoin"]||params["stroke-linecap"])&&(stroke.on=!0),("none"==params.stroke||null==stroke.on||0==params.stroke||0==params["stroke-width"])&&(stroke.on=!1);var strokeColor=R.getRGB(params.stroke);stroke.on&&params.stroke&&(stroke.color=strokeColor.hex),opacity=((+a["stroke-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+strokeColor.o+1||2)-1);var width=.75*(toFloat(params["stroke-width"])||1);if(opacity=mmin(mmax(opacity,0),1),null==params["stroke-width"]&&(width=a["stroke-width"]),params["stroke-width"]&&(stroke.weight=width),width&&width<1&&(opacity*=width)&&(stroke.weight=1),stroke.opacity=opacity,params["stroke-linejoin"]&&(stroke.joinstyle=params["stroke-linejoin"]||"miter"),stroke.miterlimit=params["stroke-miterlimit"]||8,params["stroke-linecap"]&&(stroke.endcap="butt"==params["stroke-linecap"]?"flat":"square"==params["stroke-linecap"]?"square":"round"),params["stroke-dasharray"]){var dasharray={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};stroke.dashstyle=dasharray[has](params["stroke-dasharray"])?dasharray[params["stroke-dasharray"]]:E}newstroke&&node[appendChild](stroke)}if("text"==res.type)switch(s=res.paper.span.style,a.font&&(s.font=a.font),a["font-family"]&&(s.fontFamily=a["font-family"]),a["font-size"]&&(s.fontSize=a["font-size"]),a["font-weight"]&&(s.fontWeight=a["font-weight"]),a["font-style"]&&(s.fontStyle=a["font-style"]),res.node.string&&(res.paper.span.innerHTML=Str(res.node.string)[rp](/</g,"&#60;")[rp](/&/g,"&#38;")[rp](/\n/g,"<br>")),res.W=a.w=res.paper.span.offsetWidth,res.H=a.h=res.paper.span.offsetHeight,res.X=a.x,res.Y=a.y+round(res.H/2),a["text-anchor"]){case"start":res.node.style["v-text-align"]="left",res.bbx=round(res.W/2);break;case"end":res.node.style["v-text-align"]="right",res.bbx=-round(res.W/2);break;default:res.node.style["v-text-align"]="center"}},addGradientFill=function(o,gradient){o.attrs=o.attrs||{};o.attrs;var fill,type="linear",fxfy=".5 .5";if(o.attrs.gradient=gradient,gradient=(gradient=Str(gradient)[rp](radial_gradient,(function(all,fx,fy){return type="radial",fx&&fy&&(fx=toFloat(fx),fy=toFloat(fy),pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=math.sqrt(.25-pow(fx-.5,2))*(2*(fy>.5)-1)+.5),fxfy=fx+S+fy),E})))[split](/\s*\-\s*/),"linear"==type){var angle=gradient.shift();if(angle=-toFloat(angle),isNaN(angle))return null}var dots=parseDots(gradient);if(!dots)return null;if(!(fill=(o=o.shape||o.node).getElementsByTagName("fill")[0]||createNode("fill")).parentNode&&o.appendChild(fill),dots[length]){fill.on=!0,fill.method="none",fill.color=dots[0].color,fill.color2=dots[dots[length]-1].color;for(var clrs=[],i=0,ii=dots[length];i<ii;i++)dots[i].offset&&clrs[push](dots[i].offset+S+dots[i].color);fill.colors&&(fill.colors.value=clrs[length]?clrs[join]():"0% "+fill.color),"radial"==type?(fill.type="gradientradial",fill.focus="100%",fill.focussize=fxfy,fill.focusposition=fxfy):(fill.type="gradient",fill.angle=(270-angle)%360)}return 1},(elproto=(Element=function(node,group,vml){this[0]=node,this.id=R._oid++,this.node=node,node.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=group,this.paper=vml,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!vml.bottom&&(vml.bottom=this),this.prev=vml.top,vml.top&&(vml.top.next=this),vml.top=this,this.next=null})[proto]).rotate=function(deg,cx,cy){return this.removed?this:null==deg?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][join](S):this._.rt.deg:((deg=Str(deg)[split](separator))[length]-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),null!=cx?this._.rt.deg=deg:this._.rt.deg+=deg,null==cy&&(cx=null),this._.rt.cx=cx,this._.rt.cy=cy,this.setBox(this.attrs,cx,cy),this.Group.style.rotation=this._.rt.deg,this)},elproto.setBox=function(params,cx,cy){if(this.removed)return this;var gs=this.Group.style,os=this.shape&&this.shape.style||this.node.style;for(var i in params=params||{})params[has](i)&&(this.attrs[i]=params[i]);cx=cx||this._.rt.cx,cy=cy||this._.rt.cy;var x,y,w,h,attr=this.attrs;switch(this.type){case"circle":x=attr.cx-attr.r,y=attr.cy-attr.r,w=h=2*attr.r;break;case"ellipse":x=attr.cx-attr.rx,y=attr.cy-attr.ry,w=2*attr.rx,h=2*attr.ry;break;case"image":x=+attr.x,y=+attr.y,w=attr.width||0,h=attr.height||0;break;case"text":this.textpath.v=["m",round(attr.x),", ",round(attr.y-2),"l",round(attr.x)+1,", ",round(attr.y-2)][join](E),x=attr.x-round(this.W/2),y=attr.y-this.H/2,w=this.W,h=this.H;break;case"rect":case"path":if(this.attrs.path){var dim=pathDimensions(this.attrs.path);x=dim.x,y=dim.y,w=dim.width,h=dim.height}else x=0,y=0,w=this.paper.width,h=this.paper.height;break;default:x=0,y=0,w=this.paper.width,h=this.paper.height}cy=null==cy?y+h/2:cy;var t,left=(cx=null==cx?x+w/2:cx)-this.paper.width/2,top=cy-this.paper.height/2;gs.left!=(t=left+"px")&&(gs.left=t),gs.top!=(t=top+"px")&&(gs.top=t),this.X=pathlike[has](this.type)?-left:x,this.Y=pathlike[has](this.type)?-top:y,this.W=w,this.H=h,pathlike[has](this.type)?(os.left!=(t=10*-left+"px")&&(os.left=t),os.top!=(t=10*-top+"px")&&(os.top=t)):"text"==this.type?(os.left!=(t=-left+"px")&&(os.left=t),os.top!=(t=-top+"px")&&(os.top=t)):(gs.width!=(t=this.paper.width+"px")&&(gs.width=t),gs.height!=(t=this.paper.height+"px")&&(gs.height=t),os.left!=(t=x-left+"px")&&(os.left=t),os.top!=(t=y-top+"px")&&(os.top=t),os.width!=(t=w+"px")&&(os.width=t),os.height!=(t=h+"px")&&(os.height=t))},elproto.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},elproto.show=function(){return!this.removed&&(this.Group.style.display="block"),this},elproto.getBBox=function(){return this.removed?this:pathlike[has](this.type)?pathDimensions(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},elproto.remove=function(){if(!this.removed){for(var i in tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape),this)delete this[i];this.removed=!0}},elproto.attr=function(name,value){if(this.removed)return this;if(null==name){var res={};for(var i in this.attrs)this.attrs[has](i)&&(res[i]=this.attrs[i]);return this._.rt.deg&&(res.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(res.scale=this.scale()),res.gradient&&"none"==res.fill&&(res.fill=res.gradient)&&delete res.gradient,res}if(null==value&&R.is(name,"string"))return"translation"==name?translate.call(this):"rotation"==name?this.rotate():"scale"==name?this.scale():"fill"==name&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[name];if(this.attrs&&null==value&&R.is(name,array)){var ii,values={};for(i=0,ii=name[length];i<ii;i++)values[name[i]]=this.attr(name[i]);return values}var params;if(null!=value&&((params={})[name]=value),null==value&&R.is(name,"object")&&(params=name),params){for(var key in this.paper.customAttributes)if(this.paper.customAttributes[has](key)&&params[has](key)&&R.is(this.paper.customAttributes[key],"function")){var par=this.paper.customAttributes[key].apply(this,[][concat](params[key]));for(var subkey in this.attrs[key]=params[key],par)par[has](subkey)&&(params[subkey]=par[subkey])}params.text&&"text"==this.type&&(this.node.string=params.text),setFillAndStroke(this,params),params.gradient&&({circle:1,ellipse:1}[has](this.type)||"r"!=Str(params.gradient).charAt())&&addGradientFill(this,params.gradient),(!pathlike[has](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},elproto.toFront=function(){return!this.removed&&this.Group.parentNode[appendChild](this.Group),this.paper.top!=this&&tofront(this,this.paper),this},elproto.toBack=function(){return this.removed||this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),toback(this,this.paper)),this},elproto.insertAfter=function(element){return this.removed||(element.constructor==Set&&(element=element[element.length-1]),element.Group.nextSibling?element.Group.parentNode.insertBefore(this.Group,element.Group.nextSibling):element.Group.parentNode[appendChild](this.Group),insertafter(this,element,this.paper)),this},elproto.insertBefore=function(element){return this.removed||(element.constructor==Set&&(element=element[0]),element.Group.parentNode.insertBefore(this.Group,element.Group),insertbefore(this,element,this.paper)),this},elproto.blur=function(size){var s=this.node.runtimeStyle,f=s.filter;f=f.replace(blurregexp,E),0!=+size?(this.attrs.blur=size,s.filter=f+S+ms+".Blur(pixelradius="+(+size||1.5)+")",s.margin=R.format("-{0}px 0 0 -{0}px",round(+size||1.5))):(s.filter=f,s.margin=0,delete this.attrs.blur)},theCircle=function(vml,x,y,r){var g=createNode("group"),o=createNode("oval");o.style;g.style.cssText="position:absolute;left:0;top:0;width:"+vml.width+"px;height:"+vml.height+"px",g.coordsize="1000 1000",g.coordorigin=vml.coordorigin,g[appendChild](o);var res=new Element(o,g,vml);return res.type="circle",setFillAndStroke(res,{stroke:"#000",fill:"none"}),res.attrs.cx=x,res.attrs.cy=y,res.attrs.r=r,res.setBox({x:x-r,y:y-r,width:2*r,height:2*r}),vml.canvas[appendChild](g),res},theRect=function(vml,x,y,w,h,r){var path=rectPath(x,y,w,h,r),res=vml.path(path),a=res.attrs;return res.X=a.x=x,res.Y=a.y=y,res.W=a.width=w,res.H=a.height=h,a.r=r,a.path=path,res.type="rect",res},theEllipse=function(vml,x,y,rx,ry){var g=createNode("group"),o=createNode("oval");o.style;g.style.cssText="position:absolute;left:0;top:0;width:"+vml.width+"px;height:"+vml.height+"px",g.coordsize="1000 1000",g.coordorigin=vml.coordorigin,g[appendChild](o);var res=new Element(o,g,vml);return res.type="ellipse",setFillAndStroke(res,{stroke:"#000"}),res.attrs.cx=x,res.attrs.cy=y,res.attrs.rx=rx,res.attrs.ry=ry,res.setBox({x:x-rx,y:y-ry,width:2*rx,height:2*ry}),vml.canvas[appendChild](g),res},theImage=function(vml,src,x,y,w,h){var g=createNode("group"),o=createNode("image");g.style.cssText="position:absolute;left:0;top:0;width:"+vml.width+"px;height:"+vml.height+"px",g.coordsize="1000 1000",g.coordorigin=vml.coordorigin,o.src=src,g[appendChild](o);var res=new Element(o,g,vml);return res.type="image",res.attrs.src=src,res.attrs.x=x,res.attrs.y=y,res.attrs.w=w,res.attrs.h=h,res.setBox({x,y,width:w,height:h}),vml.canvas[appendChild](g),res},theText=function(vml,x,y,text){var g=createNode("group"),el=createNode("shape"),ol=el.style,path=createNode("path"),o=(path.style,createNode("textpath"));g.style.cssText="position:absolute;left:0;top:0;width:"+vml.width+"px;height:"+vml.height+"px",g.coordsize="1000 1000",g.coordorigin=vml.coordorigin,path.v=R.format("m{0},{1}l{2},{1}",round(10*x),round(10*y),round(10*x)+1),path.textpathok=!0,ol.width=vml.width,ol.height=vml.height,o.string=Str(text),o.on=!0,el[appendChild](o),el[appendChild](path),g[appendChild](el);var res=new Element(o,g,vml);return res.shape=el,res.textpath=path,res.type="text",res.attrs.text=text,res.attrs.x=x,res.attrs.y=y,res.attrs.w=1,res.attrs.h=1,setFillAndStroke(res,{font:availableAttrs.font,stroke:"none",fill:"#000"}),res.setBox(),vml.canvas[appendChild](g),res},setSize=function(width,height){var cs=this.canvas.style;return width==+width&&(width+="px"),height==+height&&(height+="px"),cs.width=width,cs.height=height,cs.clip="rect(0 "+width+" "+height+" 0)",this},doc.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!doc.namespaces.rvml&&doc.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),createNode=function(tagName){return doc.createElement("<rvml:"+tagName+' class="rvml">')}}catch(e){createNode=function(tagName){return doc.createElement("<"+tagName+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}create=function(){var con=getContainer[apply](0,arguments),container=con.container,height=con.height,width=con.width,x=con.x,y=con.y;if(!container)throw new Error("VML container not found.");var res=new Paper,c=res.canvas=doc.createElement("div"),cs=c.style;return x=x||0,y=y||0,(width=width||512)==+width&&(width+="px"),(height=height||342)==+height&&(height+="px"),res.width=1e3,res.height=1e3,res.coordsize="10000 10000",res.coordorigin="0 0",res.span=doc.createElement("span"),res.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",c[appendChild](res.span),cs.cssText=R.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",width,height),1==container?(doc.body[appendChild](c),cs.left=x+"px",cs.top=y+"px",cs.position="absolute"):container.firstChild?container.insertBefore(c,container.firstChild):container[appendChild](c),plugins.call(res,res,R.fn),res},paperproto.clear=function(){this.canvas.innerHTML=E,this.span=doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[appendChild](this.span),this.bottom=this.top=null},paperproto.remove=function(){for(var i in this.canvas.parentNode.removeChild(this.canvas),this)this[i]=removed(i);return!0}}var version=navigator.userAgent.match(/Version\/(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(version&&version[1]<4||"iP"==navigator.platform.slice(0,2))?paperproto.safari=function(){var rect=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});win.setTimeout((function(){rect.remove()}))}:paperproto.safari=function(){};for(var preventDefault=function(){this.returnValue=!1},preventTouch=function(){return this.originalEvent.preventDefault()},stopPropagation=function(){this.cancelBubble=!0},stopTouch=function(){return this.originalEvent.stopPropagation()},addEvent=doc.addEventListener?function(obj,type,fn,element){var realName=supportsTouch&&touchMap[type]?touchMap[type]:type,f=function(e){if(supportsTouch&&touchMap[has](type))for(var i=0,ii=e.targetTouches&&e.targetTouches.length;i<ii;i++)if(e.targetTouches[i].target==obj){var olde=e;(e=e.targetTouches[i]).originalEvent=olde,e.preventDefault=preventTouch,e.stopPropagation=stopTouch;break}return fn.call(element,e)};return obj.addEventListener(realName,f,!1),function(){return obj.removeEventListener(realName,f,!1),!0}}:doc.attachEvent?function(obj,type,fn,element){var f=function(e){return(e=e||win.event).preventDefault=e.preventDefault||preventDefault,e.stopPropagation=e.stopPropagation||stopPropagation,fn.call(element,e)};return obj.attachEvent("on"+type,f),function(){return obj.detachEvent("on"+type,f),!0}}:void 0,drag=[],dragMove=function(e){for(var dragi,x=e.clientX,y=e.clientY,scrollY=doc.documentElement.scrollTop||doc.body.scrollTop,scrollX=doc.documentElement.scrollLeft||doc.body.scrollLeft,j=drag.length;j--;){if(dragi=drag[j],supportsTouch){for(var touch,i=e.touches.length;i--;)if((touch=e.touches[i]).identifier==dragi.el._drag.id){x=touch.clientX,y=touch.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();x+=scrollX,y+=scrollY,dragi.move&&dragi.move.call(dragi.move_scope||dragi.el,x-dragi.el._drag.x,y-dragi.el._drag.y,x,y,e)}},dragUp=function(e){R.unmousemove(dragMove).unmouseup(dragUp);for(var dragi,i=drag.length;i--;)(dragi=drag[i]).el._drag={},dragi.end&&dragi.end.call(dragi.end_scope||dragi.start_scope||dragi.move_scope||dragi.el,e);drag=[]},i=events[length];i--;)!function(eventName){R[eventName]=Element[proto][eventName]=function(fn,scope){return R.is(fn,"function")&&(this.events=this.events||[],this.events.push({name:eventName,f:fn,unbind:addEvent(this.shape||this.node||doc,eventName,fn,scope||this)})),this},R["un"+eventName]=Element[proto]["un"+eventName]=function(fn){for(var events=this.events,l=events[length];l--;)if(events[l].name==eventName&&events[l].f==fn)return events[l].unbind(),events.splice(l,1),!events.length&&delete this.events,this;return this}}(events[i]);function x_y(){return this.x+S+this.y}elproto.hover=function(f_in,f_out,scope_in,scope_out){return this.mouseover(f_in,scope_in).mouseout(f_out,scope_out||scope_in)},elproto.unhover=function(f_in,f_out){return this.unmouseover(f_in).unmouseout(f_out)},elproto.drag=function(onmove,onstart,onend,move_scope,start_scope,end_scope){return this._drag={},this.mousedown((function(e){(e.originalEvent||e).preventDefault();var scrollY=doc.documentElement.scrollTop||doc.body.scrollTop,scrollX=doc.documentElement.scrollLeft||doc.body.scrollLeft;this._drag.x=e.clientX+scrollX,this._drag.y=e.clientY+scrollY,this._drag.id=e.identifier,onstart&&onstart.call(start_scope||move_scope||this,e.clientX+scrollX,e.clientY+scrollY,e),!drag.length&&R.mousemove(dragMove).mouseup(dragUp),drag.push({el:this,move:onmove,end:onend,move_scope,start_scope,end_scope})})),this},elproto.undrag=function(onmove,onstart,onend){for(var i=drag.length;i--;)drag[i].el==this&&drag[i].move==onmove&&drag[i].end==onend&&drag.splice(i++,1);!drag.length&&R.unmousemove(dragMove).unmouseup(dragUp)},paperproto.circle=function(x,y,r){return theCircle(this,x||0,y||0,r||0)},paperproto.rect=function(x,y,w,h,r){return theRect(this,x||0,y||0,w||0,h||0,r||0)},paperproto.ellipse=function(x,y,rx,ry){return theEllipse(this,x||0,y||0,rx||0,ry||0)},paperproto.path=function(pathString){return pathString&&!R.is(pathString,"string")&&!R.is(pathString[0],array)&&(pathString+=E),thePath(R.format[apply](R,arguments),this)},paperproto.image=function(src,x,y,w,h){return theImage(this,src||"about:blank",x||0,y||0,w||0,h||0)},paperproto.text=function(x,y,text){return theText(this,x||0,y||0,Str(text))},paperproto.set=function(itemsArray){return arguments[length]>1&&(itemsArray=Array[proto].splice.call(arguments,0,arguments[length])),new Set(itemsArray)},paperproto.setSize=setSize,paperproto.top=paperproto.bottom=null,paperproto.raphael=R,elproto.resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},elproto.scale=function(x,y,cx,cy){if(this.removed)return this;if(null==x&&null==y)return{x:this._.sx,y:this._.sy,toString:x_y};!+(y=y||x)&&(y=x);var dx,dy,a=this.attrs;if(0!=x){var bb=this.getBBox(),rcx=bb.x+bb.width/2,rcy=bb.y+bb.height/2,kx=abs(x/this._.sx),ky=abs(y/this._.sy);cx=+cx||0==cx?cx:rcx,cy=+cy||0==cy?cy:rcy;var posx=this._.sx>0,posy=this._.sy>0,dirx=~~(x/abs(x)),diry=~~(y/abs(y)),dkx=kx*dirx,dky=ky*diry,s=this.node.style,ncx=cx+abs(rcx-cx)*dkx*(rcx>cx==posx?1:-1),ncy=cy+abs(rcy-cy)*dky*(rcy>cy==posy?1:-1),fr=x*dirx>y*diry?ky:kx;switch(this.type){case"rect":case"image":var neww=a.width*kx,newh=a.height*ky;this.attr({height:newh,r:a.r*fr,width:neww,x:ncx-neww/2,y:ncy-newh/2});break;case"circle":case"ellipse":this.attr({rx:a.rx*kx,ry:a.ry*ky,r:a.r*fr,cx:ncx,cy:ncy});break;case"text":this.attr({x:ncx,y:ncy});break;case"path":for(var path=pathToRelative(a.path),skip=!0,fx=posx?dkx:kx,fy=posy?dky:ky,i=0,ii=path[length];i<ii;i++){var p=path[i],P0=upperCase.call(p[0]);if("M"!=P0||!skip)if(skip=!1,"A"==P0)p[path[i][length]-2]*=fx,p[path[i][length]-1]*=fy,p[1]*=kx,p[2]*=ky,p[5]=+(dirx+diry?!!+p[5]:!+p[5]);else if("H"==P0)for(var j=1,jj=p[length];j<jj;j++)p[j]*=fx;else if("V"==P0)for(j=1,jj=p[length];j<jj;j++)p[j]*=fy;else for(j=1,jj=p[length];j<jj;j++)p[j]*=j%2?fx:fy}var dim2=pathDimensions(path);dx=ncx-dim2.x-dim2.width/2,dy=ncy-dim2.y-dim2.height/2,path[0][1]+=dx,path[0][2]+=dy,this.attr({path})}!(this.type in{text:1,image:1})||1==dirx&&1==diry?this.transformations?(this.transformations[2]=E,setAttr(this.node,"transform",this.transformations[join](S)),a.fx=0,a.fy=0):(this.node.filterMatrix=E,s.filter=(this.node.filterMatrix||E)+(this.node.filterOpacity||E)):this.transformations?(this.transformations[2]="scale("[concat](dirx,",",diry,")"),setAttr(this.node,"transform",this.transformations[join](S)),dx=-1==dirx?-a.x-(neww||0):a.x,dy=-1==diry?-a.y-(newh||0):a.y,this.attr({x:dx,y:dy}),a.fx=dirx-1,a.fy=diry-1):(this.node.filterMatrix=ms+".Matrix(M11="[concat](dirx,", M12=0, M21=0, M22=",diry,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),s.filter=(this.node.filterMatrix||E)+(this.node.filterOpacity||E)),a.scale=[x,y,cx,cy][join](S),this._.sx=x,this._.sy=y}return this},elproto.clone=function(){if(this.removed)return null;var attr=this.attr();return delete attr.scale,delete attr.translation,this.paper[this.type]().attr(attr)};var curveslengths={},getPointAtSegmentLength=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length){if(p1x===c1x&&p1y===c1y&&c2x===p2x&&c2y==p2y){var dx=p2x-p1x,dy=p2y-p1y,totalLength=Math.sqrt(dx*dx+dy*dy);if(null==length)return totalLength;var fract=length/totalLength;return{start:{x:p1x,y:p1y},m:{x:p1x,y:p1y},n:{x:p2x,y:p2y},end:{x:p2x,y:p2y},x:p1x+fract*dx,y:p1y+fract*dy,alpha:90-180*math.atan(dx/dy)/PI}}var old,dot,len=0,precision=100,name=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y].join(),cache=curveslengths[name];(!cache&&(curveslengths[name]=cache={data:[]}),cache.timer&&clearTimeout(cache.timer),cache.timer=setTimeout((function(){delete curveslengths[name]}),2e3),null!=length)&&(precision=10*~~getPointAtSegmentLength(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y));for(var i=0;i<precision+1;i++){if(cache.data[length]>i?dot=cache.data[i*precision]:(dot=R.findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,i/precision),cache.data[i]=dot),i&&(len+=pow(pow(old.x-dot.x,2)+pow(old.y-dot.y,2),.5)),null!=length&&len>=length)return dot;old=dot}if(null==length)return len},getLengthFactory=function(istotal,subpath){return function(path,length,onlystart){for(var x,y,p,l,point,sp="",subpaths={},len=0,i=0,ii=(path=path2curve(path)).length;i<ii;i++){if("M"==(p=path[i])[0])x=+p[1],y=+p[2];else{if(len+(l=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6]))>length){if(subpath&&!subpaths.start){if(sp+=["C",(point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len)).start.x,point.start.y,point.m.x,point.m.y,point.x,point.y],onlystart)return sp;subpaths.start=sp,sp=["M",point.x,point.y+"C",point.n.x,point.n.y,point.end.x,point.end.y,p[5],p[6]][join](),len+=l,x=+p[5],y=+p[6];continue}if(!istotal&&!subpath)return{x:(point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len)).x,y:point.y,alpha:point.alpha}}len+=l,x=+p[5],y=+p[6]}sp+=p}return subpaths.end=sp,(point=istotal?len:subpath?subpaths:R.findDotsAtSegment(x,y,p[1],p[2],p[3],p[4],p[5],p[6],1)).alpha&&(point={x:point.x,y:point.y,alpha:point.alpha}),point}},getTotalLength=getLengthFactory(1),getPointAtLength=getLengthFactory(),getSubpathsAtLength=getLengthFactory(0,1);elproto.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():getTotalLength(this.attrs.path)},elproto.getPointAtLength=function(length){if("path"==this.type)return getPointAtLength(this.attrs.path,length)},elproto.getSubpath=function(from,to){if("path"==this.type){if(abs(this.getTotalLength()-to)<"1e-6")return getSubpathsAtLength(this.attrs.path,from).end;var a=getSubpathsAtLength(this.attrs.path,to,1);return from?getSubpathsAtLength(a,from).end:a}},R.easing_formulas={linear:function(n){return n},"<":function(n){return pow(n,3)},">":function(n){return pow(n-1,3)+1},"<>":function(n){return(n*=2)<1?pow(n,3)/2:(pow(n-=2,3)+2)/2},backIn:function(n){var s=1.70158;return n*n*((s+1)*n-s)},backOut:function(n){var s=1.70158;return(n-=1)*n*((s+1)*n+s)+1},elastic:function(n){if(0==n||1==n)return n;return pow(2,-10*n)*math.sin(2*PI*(n-.075)/.3)+1},bounce:function(n){var s=7.5625,p=2.75;return n<1/p?s*n*n:n<2/p?s*(n-=1.5/p)*n+.75:n<2.5/p?s*(n-=2.25/p)*n+.9375:s*(n-=2.625/p)*n+.984375}};var animationElements=[],animation=function(){for(var Now=+new Date,l=0;l<animationElements[length];l++){var e=animationElements[l];if(!e.stop&&!e.el.removed){var now,time=Now-e.start,ms=e.ms,easing=e.easing,from=e.from,diff=e.diff,to=e.to,t=e.t,that=e.el,set={};if(time<ms){var pos=easing(time/ms);for(var attr in from)if(from[has](attr)){switch(availableAnimAttrs[attr]){case"along":now=pos*ms*diff[attr],to.back&&(now=to.len-now);var point=getPointAtLength(to[attr],now);that.translate(diff.sx-diff.x||0,diff.sy-diff.y||0),diff.x=point.x,diff.y=point.y,that.translate(point.x-diff.sx,point.y-diff.sy),to.rot&&that.rotate(diff.r+point.alpha,point.x,point.y);break;case nu:now=+from[attr]+pos*ms*diff[attr];break;case"colour":now="rgb("+[upto255(round(from[attr].r+pos*ms*diff[attr].r)),upto255(round(from[attr].g+pos*ms*diff[attr].g)),upto255(round(from[attr].b+pos*ms*diff[attr].b))][join](",")+")";break;case"path":now=[];for(var i=0,ii=from[attr][length];i<ii;i++){now[i]=[from[attr][i][0]];for(var j=1,jj=from[attr][i][length];j<jj;j++)now[i][j]=+from[attr][i][j]+pos*ms*diff[attr][i][j];now[i]=now[i][join](S)}now=now[join](S);break;case"csv":switch(attr){case"translation":var x=pos*ms*diff[attr][0]-t.x,y=pos*ms*diff[attr][1]-t.y;t.x+=x,t.y+=y,now=x+S+y;break;case"rotation":now=+from[attr][0]+pos*ms*diff[attr][0],from[attr][1]&&(now+=","+from[attr][1]+","+from[attr][2]);break;case"scale":now=[+from[attr][0]+pos*ms*diff[attr][0],+from[attr][1]+pos*ms*diff[attr][1],2 in to[attr]?to[attr][2]:E,3 in to[attr]?to[attr][3]:E][join](S);break;case"clip-rect":for(now=[],i=4;i--;)now[i]=+from[attr][i]+pos*ms*diff[attr][i]}break;default:var from2=[].concat(from[attr]);for(now=[],i=that.paper.customAttributes[attr].length;i--;)now[i]=+from2[i]+pos*ms*diff[attr][i]}set[attr]=now}that.attr(set),that._run&&that._run.call(that)}else to.along&&(point=getPointAtLength(to.along,to.len*!to.back),that.translate(diff.sx-(diff.x||0)+point.x-diff.sx,diff.sy-(diff.y||0)+point.y-diff.sy),to.rot&&that.rotate(diff.r+point.alpha,point.x,point.y)),(t.x||t.y)&&that.translate(-t.x,-t.y),to.scale&&(to.scale+=E),that.attr(to),animationElements.splice(l--,1)}}R.svg&&that&&that.paper&&that.paper.safari(),animationElements[length]&&setTimeout(animation)},keyframesRun=function(attr,element,time,prev,prevcallback){var dif=time-prev;element.timeouts.push(setTimeout((function(){R.is(prevcallback,"function")&&prevcallback.call(element),element.animate(attr,dif,attr.easing)}),prev))},upto255=function(color){return mmax(mmin(color,255),0)},translate=function(x,y){if(null==x)return{x:this._.tx,y:this._.ty,toString:x_y};switch(this._.tx+=+x,this._.ty+=+y,this.type){case"circle":case"ellipse":this.attr({cx:+x+this.attrs.cx,cy:+y+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+x+this.attrs.x,y:+y+this.attrs.y});break;case"path":var path=pathToRelative(this.attrs.path);path[0][1]+=+x,path[0][2]+=+y,this.attr({path})}return this};function along(isBack){return function(path,ms,rotate,callback){var params={back:isBack};return R.is(rotate,"function")?callback=rotate:params.rot=rotate,path&&path.constructor==Element&&(path=path.attrs.path),path&&(params.along=path),this.animate(params,ms,callback)}}function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration){var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;function sampleCurveX(t){return((ax*t+bx)*t+cx)*t}return function solve(x,epsilon){var t=function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){if(x2=sampleCurveX(t2)-x,abs(x2)<epsilon)return t2;if(abs(d2=(3*ax*t2+2*bx)*t2+cx)<1e-6)break;t2-=x2/d2}if(t1=1,t2=x,t2<(t0=0))return t0;if(t2>t1)return t1;for(;t0<t1;){if(x2=sampleCurveX(t2),abs(x2-x)<epsilon)return t2;x>x2?t0=t2:t1=t2,t2=(t1-t0)/2+t0}return t2}(x,epsilon);return((ay*t+by)*t+cy)*t}(t,1/(200*duration))}elproto.animateWith=function(element,params,ms,easing,callback){for(var i=0,ii=animationElements.length;i<ii;i++)animationElements[i].el.id==element.id&&(params.start=animationElements[i].start);return this.animate(params,ms,easing,callback)},elproto.animateAlong=along(),elproto.animateAlongBack=along(1),elproto.onAnimation=function(f){return this._run=f||0,this},elproto.animate=function(params,ms,easing,callback){var element=this;if(element.timeouts=element.timeouts||[],!R.is(easing,"function")&&easing||(callback=easing||null),element.removed)return callback&&callback.call(element),element;var from={},to={},animateable=!1,diff={};for(var attr in params)if(params[has](attr)&&(availableAnimAttrs[has](attr)||element.paper.customAttributes[has](attr)))switch(animateable=!0,from[attr]=element.attr(attr),null==from[attr]&&(from[attr]=availableAttrs[attr]),to[attr]=params[attr],availableAnimAttrs[attr]){case"along":var len=getTotalLength(params[attr]),point=getPointAtLength(params[attr],len*!!params.back),bb=element.getBBox();diff[attr]=len/ms,diff.tx=bb.x,diff.ty=bb.y,diff.sx=point.x,diff.sy=point.y,to.rot=params.rot,to.back=params.back,to.len=len,params.rot&&(diff.r=toFloat(element.rotate())||0);break;case nu:diff[attr]=(to[attr]-from[attr])/ms;break;case"colour":from[attr]=R.getRGB(from[attr]);var toColour=R.getRGB(to[attr]);diff[attr]={r:(toColour.r-from[attr].r)/ms,g:(toColour.g-from[attr].g)/ms,b:(toColour.b-from[attr].b)/ms};break;case"path":var pathes=path2curve(from[attr],to[attr]);from[attr]=pathes[0];var toPath=pathes[1];diff[attr]=[];for(var i=0,ii=from[attr][length];i<ii;i++){diff[attr][i]=[0];for(var j=1,jj=from[attr][i][length];j<jj;j++)diff[attr][i][j]=(toPath[i][j]-from[attr][i][j])/ms}break;case"csv":var values=Str(params[attr])[split](separator),from2=Str(from[attr])[split](separator);switch(attr){case"translation":from[attr]=[0,0],diff[attr]=[values[0]/ms,values[1]/ms];break;case"rotation":from[attr]=from2[1]==values[1]&&from2[2]==values[2]?from2:[0,values[1],values[2]],diff[attr]=[(values[0]-from[attr][0])/ms,0,0];break;case"scale":params[attr]=values,from[attr]=Str(from[attr])[split](separator),diff[attr]=[(values[0]-from[attr][0])/ms,(values[1]-from[attr][1])/ms,0,0];break;case"clip-rect":for(from[attr]=Str(from[attr])[split](separator),diff[attr]=[],i=4;i--;)diff[attr][i]=(values[i]-from[attr][i])/ms}to[attr]=values;break;default:for(values=[].concat(params[attr]),from2=[].concat(from[attr]),diff[attr]=[],i=element.paper.customAttributes[attr][length];i--;)diff[attr][i]=((values[i]||0)-(from2[i]||0))/ms}if(animateable){var easyeasy=R.easing_formulas[easing];if(!easyeasy)if((easyeasy=Str(easing).match(bezierrg))&&5==easyeasy[length]){var curve=easyeasy;easyeasy=function(t){return CubicBezierAtTime(t,+curve[1],+curve[2],+curve[3],+curve[4],ms)}}else easyeasy=function(t){return t};animationElements.push({start:params.start||+new Date,ms,easing:easyeasy,from,diff,to,el:element,t:{x:0,y:0}}),R.is(callback,"function")&&(element._ac=setTimeout((function(){callback.call(element)}),ms)),1==animationElements[length]&&setTimeout(animation)}else{var lastcall,attrs=[];for(var key in params)params[has](key)&&animKeyFrames.test(key)&&(attr={value:params[key]},"from"==key&&(key=0),"to"==key&&(key=100),attr.key=toInt(key,10),attrs.push(attr));for(attrs.sort(sortByKey),attrs[0].key&&attrs.unshift({key:0,value:element.attrs}),i=0,ii=attrs[length];i<ii;i++)keyframesRun(attrs[i].value,element,ms/100*attrs[i].key,ms/100*(attrs[i-1]&&attrs[i-1].key||0),attrs[i-1]&&attrs[i-1].value.callback);(lastcall=attrs[attrs[length]-1].value.callback)&&element.timeouts.push(setTimeout((function(){lastcall.call(element)}),ms))}return this},elproto.stop=function(){for(var i=0;i<animationElements.length;i++)animationElements[i].el.id==this.id&&animationElements.splice(i--,1);for(i=0,ii=this.timeouts&&this.timeouts.length;i<ii;i++)clearTimeout(this.timeouts[i]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},elproto.translate=function(x,y){return this.attr({translation:x+" "+y})},elproto[toString]=function(){return"Raphaël’s object"},R.ae=animationElements;var Set=function(items){if(this.items=[],this[length]=0,this.type="set",items)for(var i=0,ii=items[length];i<ii;i++)!items[i]||items[i].constructor!=Element&&items[i].constructor!=Set||(this[this.items[length]]=this.items[this.items[length]]=items[i],this[length]++)};for(var method in Set[proto][push]=function(){for(var item,len,i=0,ii=arguments[length];i<ii;i++)!(item=arguments[i])||item.constructor!=Element&&item.constructor!=Set||(this[len=this.items[length]]=this.items[len]=item,this[length]++);return this},Set[proto].pop=function(){return delete this[this[length]--],this.items.pop()},elproto)elproto[has](method)&&(Set[proto][method]=function(methodname){return function(){for(var i=0,ii=this.items[length];i<ii;i++)this.items[i][methodname][apply](this.items[i],arguments);return this}}(method));return Set[proto].attr=function(name,value){if(name&&R.is(name,array)&&R.is(name[0],"object"))for(var j=0,jj=name[length];j<jj;j++)this.items[j].attr(name[j]);else for(var i=0,ii=this.items[length];i<ii;i++)this.items[i].attr(name,value);return this},Set[proto].animate=function(params,ms,easing,callback){(R.is(easing,"function")||!easing)&&(callback=easing||null);var item,collector,len=this.items[length],i=len,set=this;for(callback&&(collector=function(){! --len&&callback.call(set)}),easing=R.is(easing,"string")?easing:collector,item=this.items[--i].animate(params,ms,easing,collector);i--;)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(item,params,ms,easing,collector);return this},Set[proto].insertAfter=function(el){for(var i=this.items[length];i--;)this.items[i].insertAfter(el);return this},Set[proto].getBBox=function(){for(var x=[],y=[],w=[],h=[],i=this.items[length];i--;){var box=this.items[i].getBBox();x[push](box.x),y[push](box.y),w[push](box.x+box.width),h[push](box.y+box.height)}return{x:x=mmin[apply](0,x),y:y=mmin[apply](0,y),width:mmax[apply](0,w)-x,height:mmax[apply](0,h)-y}},Set[proto].clone=function(s){s=new Set;for(var i=0,ii=this.items[length];i<ii;i++)s[push](this.items[i].clone());return s},R.registerFont=function(font){if(!font.face)return font;this.fonts=this.fonts||{};var fontcopy={w:font.w,face:{},glyphs:{}},family=font.face["font-family"];for(var prop in font.face)font.face[has](prop)&&(fontcopy.face[prop]=font.face[prop]);if(this.fonts[family]?this.fonts[family][push](fontcopy):this.fonts[family]=[fontcopy],!font.svg)for(var glyph in fontcopy.face["units-per-em"]=toInt(font.face["units-per-em"],10),font.glyphs)if(font.glyphs[has](glyph)){var path=font.glyphs[glyph];if(fontcopy.glyphs[glyph]={w:path.w,k:{},d:path.d&&"M"+path.d[rp](/[mlcxtrv]/g,(function(command){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[command]||"M"}))+"z"},path.k)for(var k in path.k)path[has](k)&&(fontcopy.glyphs[glyph].k[k]=path.k[k])}return font},paperproto.getFont=function(family,weight,style,stretch){if(stretch=stretch||"normal",style=style||"normal",weight=+weight||{normal:400,bold:700,lighter:300,bolder:800}[weight]||400,R.fonts){var thefont,font=R.fonts[family];if(!font){var name=new RegExp("(^|\\s)"+family[rp](/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var fontName in R.fonts)if(R.fonts[has](fontName)&&name.test(fontName)){font=R.fonts[fontName];break}}if(font)for(var i=0,ii=font[length];i<ii&&((thefont=font[i]).face["font-weight"]!=weight||thefont.face["font-style"]!=style&&thefont.face["font-style"]||thefont.face["font-stretch"]!=stretch);i++);return thefont}},paperproto.print=function(x,y,string,font,size,origin,letter_spacing){origin=origin||"middle",letter_spacing=mmax(mmin(letter_spacing||0,1),-1);var scale,out=this.set(),letters=Str(string)[split](E),shift=0;if(R.is(font,string)&&(font=this.getFont(font)),font){scale=(size||16)/font.face["units-per-em"];for(var bb=font.face.bbox.split(separator),top=+bb[0],height=+bb[1]+("baseline"==origin?bb[3]-bb[1]+ +font.face.descent:(bb[3]-bb[1])/2),i=0,ii=letters[length];i<ii;i++){var prev=i&&font.glyphs[letters[i-1]]||{},curr=font.glyphs[letters[i]];shift+=i?(prev.w||font.w)+(prev.k&&prev.k[letters[i]]||0)+font.w*letter_spacing:0,curr&&curr.d&&out[push](this.path(curr.d).attr({fill:"#000",stroke:"none",translation:[shift,0]}))}out.scale(scale,scale,top,height).translate(x-top,y-height)}return out},R.format=function(token,params){var args=R.is(params,array)?[0][concat](params):arguments;return token&&R.is(token,"string")&&args[length]-1&&(token=token[rp](formatrg,(function(str,i){return null==args[++i]?E:args[i]}))),token||E},R.ninja=function(){return oldRaphael.was?win.Raphael=oldRaphael.is:Raphael=void 0,R},R.el=elproto,R.st=Set[proto],R}();var log=__webpack_require__("./packages/perseus/src/logging/log.ts"),perseus_error=__webpack_require__("./packages/perseus/src/perseus-error.ts"),colors=__webpack_require__("./packages/perseus/src/util/colors.ts");class DrawingTransform{constructor(raphael,initialScale,bounds){this.raphael=raphael,this.bounds=bounds,this.xScale=initialScale[0],this.yScale=initialScale[1],this.setScale(initialScale)}scaleVector=point=>{if("number"==typeof point)return this.scaleVector([point,point]);const x=point[0],y=point[1];return[x*this.xScale,y*this.yScale]};scalePoint=point=>{if("number"==typeof point)return this.scalePoint([point,point]);const x=point[0],y=point[1];return[(x-this.bounds.xMin)*this.xScale,(this.bounds.yMax-y)*this.yScale]};unscalePoint=point=>{if("number"==typeof point)return this.unscalePoint([point,point]);const x=point[0],y=point[1];return[x/this.xScale+this.bounds.xMin,this.bounds.yMax-y/this.yScale]};unscaleVector=point=>"number"==typeof point?this.unscaleVector([point,point]):[point[0]/this.xScale,point[1]/this.yScale];setScale=scale=>{"number"==typeof scale&&(scale=[scale,scale]),this.xScale=scale[0],this.yScale=scale[1],this.raphael.setSize(...this.canvasDimensions())};canvasDimensions=()=>[this.bounds.width()*this.xScale,this.bounds.height()*this.yScale];pixelsPerUnitX=()=>this.xScale;pixelsPerUnitY=()=>this.yScale}class GraphBounds{constructor(xRange,yRange){this.xMin=xRange[0],this.xMax=xRange[1],this.yMin=yRange[0],this.yMax=yRange[1]}width(){return this.xMax-this.xMin}height(){return this.yMax-this.yMin}}var math=__webpack_require__("./packages/perseus/src/util/math.ts"),tex=__webpack_require__("./packages/perseus/src/util/tex.ts");const{processMath}=tex.default;function polar(r,th){return"number"==typeof r&&(r=[r,r]),th=th*Math.PI/180,[r[0]*Math.cos(th),r[1]*Math.sin(th)]}class Graphie{#bounds;#drawingTransform;isMobile=!1;currentStyle={"stroke-width":2,fill:"none"};constructor(el){this.el=el,jquery_default()(el).css("position","relative"),this.raphael=raphael(el),jquery_default()(el).children("div").css("position","absolute")}init(options){let scale=options.scale||[40,40];if(scale="number"==typeof scale?[scale,scale]:scale,null==options.range)throw new perseus_error.u("range should be specified in graph init",log.D.Internal);this.#bounds=new GraphBounds(...options.range),this.#drawingTransform=new DrawingTransform(this.raphael,scale,this.bounds());const[w,h]=this.drawingTransform().canvasDimensions();return jquery_default()(this.el).css({width:w,height:h}),this.range=options.range,this.scale=scale,this.dimensions=[w,h],this.xpixels=w,this.ypixels=h,this.isMobile=options.isMobile??!1,this}graphInit(options){options=options||{};for(const[prop,val]of(0,es.qh)(options))prop.match(/.*Opacity$/)||"range"===prop||"number"!=typeof val||(options[prop]=[val,val]),"range"!==prop&&"gridRange"!==prop||(options[prop]=normalizeRange(options[prop]));const range=normalizeRange(options.range||[[-10,10],[-10,10]]),gridRange=normalizeRange(options.gridRange||range),scale=options.scale||[20,20],grid=null==options.grid||options.grid,gridOpacity=options.gridOpacity||.1,gridStep=function toPair(x){if(Array.isArray(x))return x;return[x,x]}(options.gridStep||[1,1]),axes=null==options.axes||options.axes,axisArrows=options.axisArrows||"",axisOpacity=options.axisOpacity||1,axisCenter=options.axisCenter||[Math.min(Math.max(range[0][0],0),range[0][1]),Math.min(Math.max(range[1][0],0),range[1][1])],axisLabels=null!=options.axisLabels&&options.axisLabels,ticks=null==options.ticks||options.ticks,tickStep=options.tickStep||[2,2],tickLen=options.tickLen||[5,5],tickOpacity=options.tickOpacity||1,labels=options.labels||options.labelStep||!1,labelStep=options.labelStep||[1,1],labelOpacity=options.labelOpacity||1;let unityLabels=options.unityLabels||!1;const labelFormat=options.labelFormat||function(a){return a};let xLabelFormat=options.xLabelFormat||labelFormat,yLabelFormat=options.yLabelFormat||labelFormat;const realRange=[[range[0][0]-(range[0][0]>0?1:0),range[0][1]+(range[0][1]<0?1:0)],[range[1][0]-(range[1][0]>0?1:0),range[1][1]+(range[1][1]<0?1:0)]];Array.isArray(unityLabels)||(unityLabels=[unityLabels,unityLabels]);const minusIgnorer=function(lf){return function(a){return(lf(a)+"").replace(/-(\d)/g,"\\llap{-}$1")}};if(xLabelFormat=minusIgnorer(xLabelFormat),yLabelFormat=minusIgnorer(yLabelFormat),this.init({range:realRange,scale,isMobile:options.isMobile}),grid&&this.grid(gridRange[0],gridRange[1],{stroke:options.isMobile?colors.Z.GRAY_C:"#000000",opacity:options.isMobile?1:gridOpacity,step:gridStep,strokeWidth:options.isMobile?1:2}),axes){if("<->"===axisArrows||!0===axisArrows){const thisGraphie=this;this.style({stroke:options.isMobile?colors.Z.GRAY_G:"#000000",opacity:options.isMobile?1:axisOpacity,strokeWidth:options.isMobile?1:2,arrows:"->"},(function(){range[1][0]<0&&range[1][1]>0&&(thisGraphie.path([axisCenter,[gridRange[0][0],axisCenter[1]]]),thisGraphie.path([axisCenter,[gridRange[0][1],axisCenter[1]]])),range[0][0]<0&&range[0][1]>0&&(thisGraphie.path([axisCenter,[axisCenter[0],gridRange[1][0]]]),thisGraphie.path([axisCenter,[axisCenter[0],gridRange[1][1]]]))}))}else if("->"===axisArrows||""===axisArrows){const thisGraphie=this;this.style({stroke:"#000000",opacity:axisOpacity,strokeWidth:2,arrows:axisArrows},(function(){thisGraphie.path([[gridRange[0][0],axisCenter[1]],[gridRange[0][1],axisCenter[1]]]),thisGraphie.path([[axisCenter[0],gridRange[1][0]],[axisCenter[0],gridRange[1][1]]])}))}axisLabels&&2===axisLabels.length&&(this.label([gridRange[0][1],axisCenter[1]],axisLabels[0],"right"),this.label([axisCenter[0],gridRange[1][1]],axisLabels[1],"above"))}if(ticks){const halfWidthTicks=options.isMobile,thisGraphie=this;this.style({stroke:options.isMobile?colors.Z.GRAY_G:"#000000",opacity:options.isMobile?1:tickOpacity,strokeWidth:1},(()=>{let step=gridStep[0]*tickStep[0],len=tickLen[0]/scale[1],start=gridRange[0][0],stop=gridRange[0][1];if(range[1][0]<0&&range[1][1]>0){for(let x=step+axisCenter[0];x<=stop;x+=step)(x<stop||!axisArrows)&&thisGraphie.line([x,-len+axisCenter[1]],[x,halfWidthTicks?0:len+axisCenter[1]]);for(let x=-step+axisCenter[0];x>=start;x-=step)(x>start||!axisArrows)&&thisGraphie.line([x,-len+axisCenter[1]],[x,halfWidthTicks?0:len+axisCenter[1]])}if(step=gridStep[1]*tickStep[1],len=tickLen[1]/scale[0],start=gridRange[1][0],stop=gridRange[1][1],range[0][0]<0&&range[0][1]>0){for(let y=step+axisCenter[1];y<=stop;y+=step)(y<stop||!axisArrows)&&this.line([-len+axisCenter[0],y],[halfWidthTicks?0:len+axisCenter[0],y]);for(let y=-step+axisCenter[1];y>=start;y-=step)(y>start||!axisArrows)&&this.line([-len+axisCenter[0],y],[halfWidthTicks?0:len+axisCenter[0],y])}}))}if(labels){const thisGraphie=this;this.style({stroke:options.isMobile?colors.Z.GRAY_G:"#000000",opacity:options.isMobile?1:labelOpacity},(function(){let step=gridStep[0]*tickStep[0]*labelStep[0],start=gridRange[0][0],stop=gridRange[0][1];const xAxisPosition=axisCenter[0]<0?"above":"below",yAxisPosition=axisCenter[0]<0?"right":"left",xShowZero=0===axisCenter[0]&&0!==axisCenter[1],yShowZero=0!==axisCenter[0]&&0===axisCenter[1],axisOffCenter=0!==axisCenter[0]||0!==axisCenter[1],showUnityX=unityLabels[0]||axisOffCenter,showUnityY=unityLabels[1]||axisOffCenter;for(let x=(xShowZero?0:step)+axisCenter[0];x<=stop;x+=step)(x<stop||!axisArrows)&&thisGraphie.label([x,axisCenter[1]],xLabelFormat(x),xAxisPosition);for(let x=-step*(showUnityX?1:2)+axisCenter[0];x>=start;x-=step)(x>start||!axisArrows)&&thisGraphie.label([x,axisCenter[1]],xLabelFormat(x),xAxisPosition);step=gridStep[1]*tickStep[1]*labelStep[1],start=gridRange[1][0],stop=gridRange[1][1];for(let y=(yShowZero?0:step)+axisCenter[1];y<=stop;y+=step)(y<stop||!axisArrows)&&thisGraphie.label([axisCenter[0],y],yLabelFormat(y),yAxisPosition);for(let y=-step*(showUnityY?1:2)+axisCenter[1];y>=start;y-=step)(y>start||!axisArrows)&&thisGraphie.label([axisCenter[0],y],yLabelFormat(y),yAxisPosition)}))}}drawingTransform(){if(null==this.#drawingTransform)throw new Error("Can't get drawingTransform of an uninitialized Graphie");return this.#drawingTransform}bounds(){if(null==this.#bounds)throw new Error("Can't get bounds of an uninitialized Graphie");return this.#bounds}style(attrs,fn){const processed=this.processAttributes(attrs);if("function"==typeof fn){const oldStyle=this.currentStyle;this.currentStyle={...this.currentStyle,...processed};const result=fn.call(this);return this.currentStyle=oldStyle,result}Object.assign(this.currentStyle,processed)}grid(xr,yr,style){return this.withStyle(style,(()=>{const step=this.currentStyle.step||[1,1],set=this.raphael.set();let x=step[0]*Math.ceil(xr[0]/step[0]);for(;x<=xr[1];x+=step[0])set.push(this.line([x,yr[0]],[x,yr[1]]));let y=step[1]*Math.ceil(yr[0]/step[1]);for(;y<=yr[1];y+=step[1])set.push(this.line([xr[0],y],[xr[1],y]));return set}))}arc(center,radius,startAngle,endAngle,sector,style){return this.withStyle(style,(()=>{startAngle=(startAngle%360+360)%360,endAngle=(endAngle%360+360)%360;const cent=this.scalePoint(center),radii=this.scaleVector(radius),startVector=polar(radius,startAngle),endVector=polar(radius,endAngle),round=x=>src.Rx.round(x,6),startPoint=this.scalePoint([round(center[0]+startVector[0]),round(center[1]+startVector[1])]),endPoint=this.scalePoint([round(center[0]+endVector[0]),round(center[1]+endVector[1])]),largeAngle=((endAngle-startAngle)%360+360)%360>180;return this.raphael.path("M"+startPoint.join(" ")+"A"+radii.join(" ")+" 0 "+(largeAngle?1:0)+" 0 "+endPoint.join(" ")+(sector?"L"+cent.join(" ")+"z":""))}))}circle(center,radius,style){return this.withStyle(style,(()=>this.raphael.ellipse(...this.scalePoint(center),...this.scaleVector([radius,radius]))))}rect(x,y,width,height,style){return this.withStyle(style,(()=>{const corner=this.scalePoint([x,y+height]),dims=this.scaleVector([width,height]),elem=this.raphael.rect(...corner.concat(dims));return this.isMobile&&(elem.node.style.shapeRendering="crispEdges"),elem}))}ellipse(center,radii,style){return this.withStyle(style,(()=>this.raphael.ellipse(...this.scalePoint(center).concat(this.scaleVector(radii)))))}fixedEllipse(center,radii,maxScale,padding,style){return this.withStyle(style,(()=>{const scaledPoint=this.scalePoint(center),scaledRadii=this.scaleVector(radii),width=2*scaledRadii[0]*maxScale+padding,height=2*scaledRadii[1]*maxScale+padding,left=scaledPoint[0]-width/2,top=scaledPoint[1]-height/2,wrapper=document.createElement("div");jquery_default()(wrapper).css({position:"absolute",width:width+"px",height:height+"px",left:left+"px",top:top+"px"});return{wrapper,visibleShape:raphael(wrapper,width,height).ellipse(width/2,height/2,scaledRadii[0],scaledRadii[1])}}))}unstyledPath(points){const p=this.raphael.path(this.svgPath(points));return p.graphiePath=points,p}path(points,style){return this.withStyle(style,(()=>this.unstyledPath(points)))}fixedPath(points,center,createPath){points=points.map(this.scalePoint),center=center?this.scalePoint(center):null,createPath=createPath||this.svgPath;const xs=points.map((p=>p[0])),ys=points.map((p=>p[1])),pathLeft=Math.min(...xs),pathRight=Math.max(...xs),pathTop=Math.min(...ys),pathBottom=Math.max(...ys),padding=[4,4],topLeftOfBoundingBox=[pathLeft,pathTop];points=points.map((function(point){return src.xr.add(src.xr.subtract(point,topLeftOfBoundingBox),src.xr.scale(padding,.5))}));const width=pathRight-pathLeft+padding[0],height=pathBottom-pathTop+padding[1],left=topLeftOfBoundingBox[0]-padding[0]/2,top=topLeftOfBoundingBox[1]-padding[1]/2,wrapper=document.createElement("div");jquery_default()(wrapper).css({position:"absolute",width:width+"px",height:height+"px",left:left+"px",top:top+"px",transformOrigin:center?width/2+center[0]+"px "+(height/2+center[1])+"px":null});return{wrapper,visibleShape:raphael(wrapper,width,height).path(createPath(points))}}scaledPath(points,style){return this.withStyle(style,(()=>{const p=this.raphael.path(this.svgPath(points,!0));return p.graphiePath=points,p}))}line(start,end,style){return this.withStyle(style,(()=>{const l=this.unstyledPath([start,end]);return this.isMobile&&(l.node.style.shapeRendering="crispEdges"),l}))}parabola(a,b,c,style){return this.withStyle(style,(()=>this.raphael.path(this.svgParabolaPath(a,b,c))))}fixedLine(start,end,thickness){const padding=[thickness,thickness];start=this.scalePoint(start),end=this.scalePoint(end);const extraOffset=[Math.min(start[0],end[0]),Math.min(start[1],end[1])];start=src.xr.add(src.xr.subtract(start,extraOffset),src.xr.scale(padding,.5)),end=src.xr.add(src.xr.subtract(end,extraOffset),src.xr.scale(padding,.5));const left=extraOffset[0]-padding[0]/2,top=extraOffset[1]-padding[1]/2,width=Math.abs(start[0]-end[0])+padding[0],height=Math.abs(start[1]-end[1])+padding[1],wrapper=document.createElement("div");jquery_default()(wrapper).css({position:"absolute",width:width+"px",height:height+"px",left:left+"px",top:top+"px",transformOrigin:start[0]+"px "+start[1]+"px"});const localRaphael=raphael(wrapper,width,height),path="M"+start[0]+" "+start[1]+" L"+end[0]+" "+end[1],visibleShape=localRaphael.path(path);return visibleShape.graphiePath=[start,end],{wrapper,visibleShape}}sinusoid(a,b,c,d,style){return this.withStyle(style,(()=>this.raphael.path(this.svgSinusoidPath(a,b,c,d))))}label=(point,text,direction,arg4,arg5)=>{const style="object"==typeof arg4?arg4:arg5,latex="boolean"!=typeof arg4||arg4;return this.withStyle(style,(()=>{const $span=jquery_default()("<span>").addClass("graphie-label"),pad=this.currentStyle["label-distance"];$span.css({position:"absolute",padding:(null!=pad?pad:7)+"px",color:"black"}).data("labelDirection",direction).appendTo(this.el),$span.setPosition=point=>{const scaledPoint=this.scalePoint(point);$span.css({left:scaledPoint[0],top:scaledPoint[1]})},$span.setPosition(point);const span=$span[0];return $span.processMath=function(math,force){processMath(span,math,force,(function(){const width=span.scrollWidth,height=span.scrollHeight;setLabelMargins(span,[width,height])}))},$span.processText=function(text){$span.html(text);const width=span.scrollWidth,height=span.scrollHeight;setLabelMargins(span,[width,height])},latex?$span.processMath(text,!1):$span.processText(text),$span}))};plotParametric(fn,range,style){return this.withStyle(style,(()=>{const clippedFn=x=>{return xy=fn(x),Math.abs(xy[1])>5e5?[xy[0],Math.min(Math.max(xy[1],-5e5),5e5)]:xy;var xy},min=range[0],max=range[1];let step=(max-min)/(this.currentStyle["plot-points"]||800);0===step&&(step=1);const paths=this.raphael.set();let points=[],lastY=clippedFn(min)[1];for(let t=min;t<=max;t+=step){const point=clippedFn(t),y=point[1];y>0!=lastY>0&&Math.abs(y-lastY)>2*this.drawingTransform().pixelsPerUnitY()||isNaN(y)?(paths.push(this.unstyledPath(points)),points=[]):points.push(point),lastY=y}return paths.push(this.unstyledPath(points)),paths}))}plot(fn,range,style){return this.withStyle(style,(()=>{const min=range[0],max=range[1];this.currentStyle["plot-points"]||(this.currentStyle["plot-points"]=2*(max-min)*this.drawingTransform().pixelsPerUnitX());return this.plotParametric((x=>[x,fn(x)]),range)}))}svgPath=(points,alreadyScaled)=>points.map(((point,i)=>{if(!0===point)return"z";const scaled=alreadyScaled?point:this.scalePoint(point);return(0===i?"M":"L")+math.ZP.bound(scaled[0])+" "+math.ZP.bound(scaled[1])})).join("");svgParabolaPath=(a,b,c)=>{const computeParabola=function(x){return(a*x+b)*x+c};if(0===a){const points=[[this.bounds().xMin,computeParabola(this.bounds().xMin)],[this.bounds().xMax,computeParabola(this.bounds().xMax)]];return this.svgPath(points)}const xVertex=-b/(2*a),xPoint=xVertex+Math.max(Math.abs(xVertex-this.bounds().xMin),Math.abs(xVertex-this.bounds().xMax)),vertex=[xVertex,computeParabola(xVertex)],point=[xPoint,computeParabola(xPoint)],control=[vertex[0],vertex[1]-(point[1]-vertex[1])],dx=Math.abs(vertex[0]-point[0]),values=[[vertex[0]-dx,point[1]],control,[vertex[0]+dx,point[1]]].map(this.scalePoint).flat().map(math.ZP.bound);return"M"+values[0]+","+values[1]+" Q"+values[2]+","+values[3]+" "+values[4]+","+values[5]};svgSinusoidPath=(a,b,c,d)=>{const quarterPeriod=Math.abs(Math.PI/(2*b)),computeSine=function(x){return a*Math.sin(b*x-c)+d},computeDerivative=function(x){return a*b*Math.cos(c-b*x)},coordsForOffset=(initial,i)=>{const x0=initial+quarterPeriod*i,x1=x0+quarterPeriod,xCoords=[x0,2*x0/3+1*x1/3,1*x0/3+2*x1/3,x1],yCoords=[computeSine(x0),computeSine(x0)+computeDerivative(x0)*(x1-x0)/3,computeSine(x1)-computeDerivative(x1)*(x1-x0)/3,computeSine(x1)];return src.xr.zip(xCoords,yCoords).map(this.scalePoint)},extent=this.bounds().width(),numQuarterPeriods=Math.ceil(extent/quarterPeriod)+1;let initial=c/b;const distToEdge=initial-this.bounds().xMin;initial-=quarterPeriod*Math.ceil(distToEdge/quarterPeriod);let coords=coordsForOffset(initial,0),path="M"+coords[0][0]+","+coords[0][1]+" C"+coords[1][0]+","+coords[1][1]+" "+coords[2][0]+","+coords[2][1]+" "+coords[3][0]+","+coords[3][1];for(let i=1;i<numQuarterPeriods;i++)coords=coordsForOffset(initial,i),path+=" C"+coords[1][0]+","+coords[1][1]+" "+coords[2][0]+","+coords[2][1]+" "+coords[3][0]+","+coords[3][1];return path};withStyle(style,fn){const oldStyle=this.currentStyle;this.currentStyle={...this.currentStyle,...this.processAttributes(style)};const result=this.postprocessDrawingResult(fn());return this.currentStyle=oldStyle,result}postprocessDrawingResult(result){const type=result.constructor.prototype;return type===raphael.el||type===raphael.st?(result.attr(this.currentStyle),this.currentStyle.arrows&&(result=this.addArrowheads(result))):result instanceof jquery_default()&&result.css({...this.currentStyle,...SVG_SPECIFIC_STYLE_MASK}),result}addArrowheads(path){const type=path.constructor.prototype;if(type===raphael.el){if("path"===path.type&&void 0===path.arrowheadsDrawn){const s=.6+.4*path.attr("stroke-width"),l=path.getTotalLength(),set=this.raphael.set(),head=this.raphael.path(this.isMobile?"M-4,4 C-4,4 -0.25,0 -0.25,0 C-0.25,0 -4,-4 -4,-4":"M-3 4 C-2.75 2.5 0 0.25 0.75 0C0 -0.25 -2.75 -2.5 -3 -4"),end=path.getPointAtLength(l-.4),almostTheEnd=path.getPointAtLength(l-.75*s),angle=180*Math.atan2(end.y-almostTheEnd.y,end.x-almostTheEnd.x)/Math.PI,attrs=path.attr();delete attrs.path;let subpath=path.getSubpath(0,l-.75*s);return subpath=this.raphael.path(subpath).attr(attrs),subpath.arrowheadsDrawn=!0,path.remove(),head.rotate(angle,this.isMobile?1e-5:.75,0).scale(s,s,.75,0).translate(almostTheEnd.x,almostTheEnd.y).attr(attrs).attr({"stroke-linejoin":"round","stroke-linecap":"round"}),head.arrowheadsDrawn=!0,set.push(subpath),set.push(head),set}}else if(type===raphael.st)for(let i=0,l=path.items.length;i<l;i++)this.addArrowheads(path.items[i]);return path}scalePoint=point=>this.drawingTransform().scalePoint(point);scaleVector=point=>this.drawingTransform().scaleVector(point);unscalePoint=point=>this.drawingTransform().unscalePoint(point);unscaleVector=point=>this.drawingTransform().unscaleVector(point);processAttributes(attrs){const transformers={scale:scale=>{this.drawingTransform().setScale(scale)},clipRect:pair=>{const point=pair[0],size=pair[1];return point[1]+=size[1],{"clip-rect":this.scalePoint(point).concat(this.scaleVector(size)).join(" ")}},strokeWidth:function(val){return{"stroke-width":parseFloat(val)}},rx:val=>({rx:this.scaleVector([val,0])[0]}),ry:val=>({ry:this.scaleVector([0,val])[1]}),r:val=>{const scaled=this.scaleVector([val,val]);return{rx:scaled[0],ry:scaled[1]}}},processed={};return Object.entries(attrs||{}).forEach((function(_ref){let[key,value]=_ref;const transformer=transformers[key];if("function"==typeof transformer)Object.assign(processed,transformer(value));else{const dasherized=String(key).replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();processed[dasherized]=value}})),processed}addMouseLayer(options){const localOptions={allowScratchpad:!1,setDrawingAreaAvailable:function(){},...options};if(this.mouselayer=raphael(this.el,this.xpixels,this.ypixels),jquery_default()(this.mouselayer.canvas).css("z-index",2),localOptions.onClick||localOptions.onMouseDown||localOptions.onMouseMove||localOptions.onMouseOver||localOptions.onMouseOut){const canvasClickTarget=this.mouselayer.rect(0,0,this.xpixels,this.ypixels).attr({fill:"#000",opacity:0});let isClickingCanvas=!1;if(jquery_default()(this.mouselayer.canvas).on("vmousedown",(e=>{if(e.target===canvasClickTarget[0]){if(localOptions.onMouseDown&&localOptions.onMouseDown(this.getMouseCoord(e)),isClickingCanvas=!0,localOptions.onMouseMove){const handler=localOptions.onMouseMove;jquery_default()(document).bind("vmousemove.mouseLayer",(e=>{isClickingCanvas&&(e.preventDefault(),handler(this.getMouseCoord(e)))}))}jquery_default()(document).bind("vmouseup.mouseLayer",(e=>{jquery_default()(document).unbind(".mouseLayer"),isClickingCanvas&&localOptions.onClick&&localOptions.onClick(this.getMouseCoord(e)),isClickingCanvas=!1}))}})),localOptions.onMouseOver){const handler=localOptions.onMouseOver;jquery_default()(this.mouselayer.canvas).on("vmouseover",(e=>{handler(this.getMouseCoord(e))}))}if(localOptions.onMouseOut){const handler=localOptions.onMouseOut;jquery_default()(this.mouselayer.canvas).on("vmouseout",(e=>{handler(this.getMouseCoord(e))}))}}localOptions.allowScratchpad||localOptions.setDrawingAreaAvailable?.(!1),this._mouselayerWrapper=document.createElement("div"),jquery_default()(this._mouselayerWrapper).css({position:"absolute",left:0,top:0,zIndex:2}),this._visiblelayerWrapper=document.createElement("div"),jquery_default()(this._visiblelayerWrapper).css({position:"absolute",left:0,top:0});const el=this.el;el.appendChild(this._visiblelayerWrapper),el.appendChild(this._mouselayerWrapper),this.addToMouseLayerWrapper=el=>{this._mouselayerWrapper?.appendChild(el)},this.addToVisibleLayerWrapper=el=>{this._visiblelayerWrapper?.appendChild(el)}}addToMouseLayerWrapper(el){throw new Error("addToMouseLayerWrapper is not ready. Call addMouseLayer() first.")}addToVisibleLayerWrapper(el){throw new Error("addToVisibleLayerWrapper is not ready. Call addMouseLayer() first.")}getMousePx(event){const offset=jquery_default()(this.el).offset();return[event.pageX-offset.left,event.pageY-offset.top]}getMouseCoord(event){return this.unscalePoint(this.getMousePx(event))}}const labelDirections={center:[-.5,-.5],above:[-.5,-1],"above right":[0,-1],right:[0,-.5],"below right":[0,0],below:[-.5,0],"below left":[-1,0],left:[-1,-.5],"above left":[-1,-1]};function normalizeRange(range){function normalizeInterval(magnitude){return"number"==typeof magnitude?[-magnitude,magnitude]:magnitude}if(null==range)return range;const[xRange,yRange]=function getXAndYRanges(range){return Array.isArray(range)?range:[range,range]}(range);return[normalizeInterval(xRange),normalizeInterval(yRange)]}const SVG_SPECIFIC_STYLE_MASK={"stroke-width":null},setLabelMargins=function(span,size){const $span=jquery_default()(span),direction=$span.data("labelDirection");let[width,height]=size;if(0===width&&0===height&&([width,height]=[1,1],log.Z.log("Label size was 0x0 in graphie.js; using 1x1 instead")),$span.css("visibility",""),"number"==typeof direction){const x=Math.cos(direction),y=Math.sin(direction),scale=Math.min(width/2/Math.abs(x),height/2/Math.abs(y));$span.css({marginLeft:-width/2+x*scale,marginTop:-height/2-y*scale})}else{const multipliers=labelDirections[direction||"center"];$span.css({marginLeft:Math.round(width*multipliers[0]),marginTop:Math.round(height*multipliers[1])})}},GraphUtils={Graphie,createGraphie:function(el){return new Graphie(el)},unscaledSvgPath:function(points){return!0===points[0]?"":points.map((function(point,i){return!0===point?"z":(0===i?"M":"L")+point[0]+" "+point[1]})).join("")},getDistance:function(point1,point2){return src.xm.distanceToPoint(point1,point2)},findAngle:function(point1,point2,vertex){if(void 0===vertex){const x=point1[0]-point2[0],y=point1[1]-point2[1];return x||y?(180+180*Math.atan2(-y,-x)/Math.PI+360)%360:0}return GraphUtils.findAngle(point1,vertex)-GraphUtils.findAngle(point2,vertex)},graphs:{}},graphie=GraphUtils},"./packages/perseus/src/util/katex-preprocess.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=texCode=>texCode.replace(/\{align[*]?\}/g,"{aligned}").replace(/[\u00a0]/g," ")},"./packages/perseus/src/util/math.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Sm:()=>sum,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/underscore/modules/index-all.js");const KhanMath={cleanMath:function(expr){return"string"==typeof expr?expr.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):expr},bound:function(num){return 0===num?num:num<0?-KhanMath.bound(-num):Math.max(1e-6,Math.min(num,1e20))},factorial:function(x){return x<=1?x:x*KhanMath.factorial(x-1)},getGCD:function(a,b){if(arguments.length>2){const rest=[].slice.call(arguments,1);return KhanMath.getGCD(a,KhanMath.getGCD(...rest))}let mod;for(a=Math.abs(a),b=Math.abs(b);b;)mod=a%b,a=b,b=mod;return a},getLCM:function(a,b){if(arguments.length>2){const rest=[].slice.call(arguments,1);return KhanMath.getLCM(a,KhanMath.getLCM(...rest))}return Math.abs(a*b)/KhanMath.getGCD(a,b)},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function(n){if(n<=1)return!1;if(n<101)return!!jquery__WEBPACK_IMPORTED_MODULE_1___default().grep(KhanMath.primes,(function(p,i){return Math.abs(p-n)<=.5})).length;if(n<=1||n>2&&n%2==0)return!1;for(let i=3,sqrt=Math.sqrt(n);i<=sqrt;i+=2)if(n%i==0)return!1;return!0},getPrimeFactorization:function(number){if(1===number)return[];if(KhanMath.isPrime(number))return[number];const maxf=Math.sqrt(number);for(let f=2;f<=maxf;f++)if(number%f==0)return jquery__WEBPACK_IMPORTED_MODULE_1___default().merge(KhanMath.getPrimeFactorization(f),KhanMath.getPrimeFactorization(number/f))},roundToNearest:function(increment,num){return Math.round(num/increment)*increment},roundTo:function(precision,num){const factor=Math.pow(10,precision).toFixed(5);return Math.round((num*factor).toFixed(5))/factor},toFixedApprox:function(num,precision){const fixedStr=num.toFixed(precision);return _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.equal(+fixedStr,num)?fixedStr:"\\approx "+fixedStr},roundToApprox:function(num,precision){const fixed=KhanMath.roundTo(precision,num);return _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.equal(fixed,num)?String(fixed):KhanMath.toFixedApprox(num,precision)},toFraction:function(decimal,tolerance){if(null==tolerance&&(tolerance=Math.pow(2,-46)),decimal<0||decimal>1){let fract=decimal%1;fract+=fract<0?1:0;const nd=KhanMath.toFraction(fract,tolerance);return nd[0]+=Math.round(decimal-fract)*nd[1],nd}if(Math.abs(Math.round(Number(decimal))-decimal)<=tolerance)return[Math.round(decimal),1];let loN=0,loD=1,hiN=1,hiD=1,midN=1,midD=2;for(;;){if(Math.abs(Number(midN/midD)-decimal)<=tolerance)return[midN,midD];midN/midD<decimal?(loN=midN,loD=midD):(hiN=midN,hiD=midD),midN=loN+hiN,midD=loD+hiD}},getNumericFormat:function(text){if((text=(text=jquery__WEBPACK_IMPORTED_MODULE_1___default().trim(text)).replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1")).match(/^[+-]?\d+$/))return"integer";if(text.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/))return"mixed";const fraction=text.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/);return fraction?parseFloat(fraction[1])>parseFloat(fraction[2])?"improper":"proper":text.replace(/[,. ]/g,"").match(/^\d+$/)?"decimal":text.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)?"pi":null},toNumericString:function(number,format){if(null==number)return"";if(0===number)return"0";if("percent"===format)return 100*number+"%";if("pi"===format){const fraction=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.toFraction(number/Math.PI),numerator=Math.abs(fraction[0]),denominator=fraction[1];if(_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.isInteger(numerator)){return(number<0?"-":"")+(1===numerator?"":numerator)+"π"+(1===denominator?"":"/"+denominator)}}if((0,underscore__WEBPACK_IMPORTED_MODULE_2__.ZP)(["proper","improper","mixed","fraction"]).contains(format)){const fraction=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.toFraction(number),numerator=Math.abs(fraction[0]),denominator=fraction[1],sign=number<0?"-":"";if(1===denominator)return sign+numerator;if("mixed"===format){const modulus=numerator%denominator,integer=(numerator-modulus)/denominator;return sign+(integer?integer+" ":"")+modulus+"/"+denominator}return sign+numerator+"/"+denominator}return String(number)}};function sum(array){return array.reduce(add,0)}function add(a,b){return a+b}const __WEBPACK_DEFAULT_EXPORT__=KhanMath},"./packages/perseus/src/util/react-render.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>render});var _khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-dom/index.js");function render(element,container,callback){return react_dom__WEBPACK_IMPORTED_MODULE_2__.render(react__WEBPACK_IMPORTED_MODULE_1__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__.aX,{throwIfNested:!1},element),container,callback)}},"./packages/perseus/src/util/register-all-widgets-for-testing.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>registerAllWidgetsForTesting});var _all_widgets__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus/src/all-widgets.ts"),_widgets__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/widgets.ts");const registerAllWidgetsForTesting=()=>{_widgets__WEBPACK_IMPORTED_MODULE_1__.registerWidgets(_all_widgets__WEBPACK_IMPORTED_MODULE_0__.Z),_widgets__WEBPACK_IMPORTED_MODULE_1__.replaceWidget("transformer","deprecated-standin")}},"./packages/perseus/src/util/sizing-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>getClassFromWidth,containerSizeClass:()=>containerSizeClass,getInteractiveBoxFromSizeClass:()=>getInteractiveBoxFromSizeClass});var _styles_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus/src/styles/constants.ts");const{interactiveSizes}=_styles_constants__WEBPACK_IMPORTED_MODULE_0__,smMax=_styles_constants__WEBPACK_IMPORTED_MODULE_0__.yx,mdMax=_styles_constants__WEBPACK_IMPORTED_MODULE_0__.Gw,containerSizeClass={SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"},getClassFromWidth=width=>width?width<=smMax?containerSizeClass.SMALL:width<=mdMax?containerSizeClass.MEDIUM:containerSizeClass.LARGE:containerSizeClass.MEDIUM,getInteractiveBoxFromSizeClass=sizeClass=>sizeClass===containerSizeClass.SMALL?[interactiveSizes.defaultBoxSizeSmall,interactiveSizes.defaultBoxSizeSmall]:[interactiveSizes.defaultBoxSize,interactiveSizes.defaultBoxSize]},"./packages/perseus/src/util/tex.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_dependencies__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/dependencies.ts"),_math__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/util/math.ts"),_react_render__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/util/react-render.tsx");const __WEBPACK_DEFAULT_EXPORT__={processMath:async function(elem,text,force,callback){const $elem=jquery__WEBPACK_IMPORTED_MODULE_0___default()(elem);if(null==$elem.attr("data-math-formula")||force){const $texHolder=function findChildOrAdd(elem,className){const $child=jquery__WEBPACK_IMPORTED_MODULE_0___default()(elem).find("."+className);return 0===$child.length?jquery__WEBPACK_IMPORTED_MODULE_0___default()("<span>").addClass(className).appendTo(jquery__WEBPACK_IMPORTED_MODULE_0___default()(elem)):$child}($elem,"tex-holder");null==text&&$elem.attr("data-math-formula")&&(text=$elem.attr("data-math-formula")),text=null!=text?text+"":"",text=_math__WEBPACK_IMPORTED_MODULE_3__.ZP.cleanMath(text),$elem.attr("data-math-formula",text);const{TeX}=await(0,_dependencies__WEBPACK_IMPORTED_MODULE_2__.getDependencies)();(0,_react_render__WEBPACK_IMPORTED_MODULE_4__.Z)(react__WEBPACK_IMPORTED_MODULE_1__.createElement(TeX,{children:text,onRender:callback}),$texHolder[0])}}}},"./packages/perseus/src/widgets.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{getAllWidgetTypes:()=>getAllWidgetTypes,getDefaultAlignment:()=>getDefaultAlignment,getEditor:()=>getEditor,getPublicWidgets:()=>getPublicWidgets,getRendererPropsForWidgetInfo:()=>getRendererPropsForWidgetInfo,getStaticTransform:()=>getStaticTransform,getSupportedAlignments:()=>getSupportedAlignments,getTracking:()=>getTracking,getTransform:()=>getTransform,getVersion:()=>getVersion,getVersionVector:()=>getVersionVector,getWidget:()=>getWidget,isAccessible:()=>isAccessible,isLintable:()=>isLintable,registerEditors:()=>registerEditors,registerWidget:()=>registerWidget,registerWidgets:()=>registerWidgets,replaceEditor:()=>replaceEditor,replaceWidget:()=>replaceWidget,supportsStaticMode:()=>supportsStaticMode,traverseChildWidgets:()=>traverseChildWidgets,upgradeWidgetInfoToLatestVersion:()=>upgradeWidgetInfoToLatestVersion,validateAlignments:()=>validateAlignments});var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_logging_log__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus/src/logging/log.ts"),_perseus_error__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/perseus-error.ts");const DEFAULT_SUPPORTED_ALIGNMENTS=["default"],widgets={},editors={},registerWidget=(name,widget)=>{widgets[name]=widget},registerWidgets=widgets=>{widgets.forEach((widget=>{registerWidget(widget.name,widget)})),validateAlignments()},replaceWidget=(name,replacementName)=>{const substituteWidget=widgets[replacementName];if(!substituteWidget){const errorMsg=`Failed to replace ${name} with ${replacementName}`;throw new _perseus_error__WEBPACK_IMPORTED_MODULE_2__.u(errorMsg,_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.Internal)}registerWidget(name,substituteWidget)},registerEditors=editorsToRegister=>{editorsToRegister.forEach((editor=>{if(!editor.widgetName)throw new _perseus_error__WEBPACK_IMPORTED_MODULE_2__.u(`Editor ${editor.displayName} doesn't have a widgetName property`,_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.Internal);editors[editor.widgetName]=editor}))},replaceEditor=(name,replacementName)=>{const substituteEditor=editors[replacementName];if(substituteEditor||!_logging_log__WEBPACK_IMPORTED_MODULE_1__.Z)editors[name]=substituteEditor;else{const errorMsg=`Failed to replace editor ${name} with ${replacementName}`;_logging_log__WEBPACK_IMPORTED_MODULE_1__.Z.error(errorMsg,_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.Internal)}},getWidget=name=>underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.has(widgets,name)?widgets[name].getWidget?widgets[name].getWidget():widgets[name].widget:null,getEditor=name=>underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.has(editors,name)?editors[name]:null,getTransform=name=>underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.has(widgets,name)?widgets[name].transform||underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.identity:null,getVersion=name=>{if(widgets[name])return widgets[name].version||{major:0,minor:0}},getVersionVector=()=>{const version={};return underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.each(underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.keys(widgets),(function(name){version[name]=getVersion(name)})),version},getPublicWidgets=()=>underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.pick(widgets,underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.reject(underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.keys(widgets),(function(name){return widgets[name].hidden}))),isAccessible=widgetInfo=>{const accessible=widgets[widgetInfo.type].accessible;return"function"==typeof accessible?accessible(widgetInfo.options):!!accessible},getAllWidgetTypes=()=>underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.keys(widgets),upgradeWidgetInfoToLatestVersion=oldWidgetInfo=>{const type=oldWidgetInfo.type;if(!underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.isString(type))throw new _perseus_error__WEBPACK_IMPORTED_MODULE_2__.u("widget type must be a string, but was: "+type,_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.Internal);const widgetExports=widgets[type];if(null==widgetExports)return oldWidgetInfo;const initialVersion=oldWidgetInfo.version||{major:0,minor:0},latestVersion=widgetExports.version||{major:0,minor:0};if(initialVersion.major>latestVersion.major||initialVersion.major===latestVersion.major&&initialVersion.minor>latestVersion.minor)return oldWidgetInfo;let newEditorProps=underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.clone(oldWidgetInfo.options)||{};const upgradePropsMap=widgetExports.propUpgrades||{};if(0!==underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.keys(newEditorProps).length)for(let nextVersion=initialVersion.major+1;nextVersion<=latestVersion.major;nextVersion++)upgradePropsMap[String(nextVersion)]?newEditorProps=upgradePropsMap[String(nextVersion)](newEditorProps):_logging_log__WEBPACK_IMPORTED_MODULE_1__.Z.error("No upgrade found for widget. Cannot render.",_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.Internal,{loggedMetadata:{type,fromMajorVersion:nextVersion-1,toMajorVersion:nextVersion}});newEditorProps={...type in editors?editors[type].defaultProps:{},...newEditorProps};let alignment=oldWidgetInfo.alignment;null!=alignment&&"default"!==alignment||(alignment=getSupportedAlignments(type)[0]);let widgetStatic=oldWidgetInfo.static;return null==widgetStatic&&(widgetStatic=false),underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.extend({},oldWidgetInfo,{version:latestVersion,graded:null==oldWidgetInfo.graded||oldWidgetInfo.graded,alignment,static:widgetStatic,options:newEditorProps})},getRendererPropsForWidgetInfo=(widgetInfo,problemNum)=>{const type=widgetInfo.type,widgetExports=widgets[type];if(null==widgetExports)return widgetInfo.options;let transform;return transform=widgetInfo.static?getStaticTransform(type)||underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.identity:widgetExports.transform||underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.identity,transform(widgetInfo.options,problemNum)},traverseChildWidgets=(widgetInfo,traverseRenderer)=>{if(!traverseRenderer)throw new _perseus_error__WEBPACK_IMPORTED_MODULE_2__.u("traverseRenderer must be provided, but was not",_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.Internal);if(!widgetInfo||!widgetInfo.type||!widgets[widgetInfo.type])return widgetInfo;const widgetExports=widgets[widgetInfo.type],props=widgetInfo.options;if(widgetExports.traverseChildWidgets&&props){const newProps=widgetExports.traverseChildWidgets(props,traverseRenderer);return underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.extend({},widgetInfo,{options:newProps})}return widgetInfo},getSupportedAlignments=type=>{const widgetExport=widgets[type];return widgetExport&&widgetExport.supportedAlignments||DEFAULT_SUPPORTED_ALIGNMENTS},getDefaultAlignment=type=>{const widgetExports=widgets[type];let alignment;return widgetExports?(alignment=widgetExports.getDefaultAlignment?widgetExports.getDefaultAlignment():widgetExports.defaultAlignment,alignment||"block"):"block"},validAlignments=["block","inline-block","inline","float-left","float-right","full-width"],validateAlignments=()=>{underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.each(widgets,(function(widgetInfo){if(widgetInfo.defaultAlignment&&!underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.contains(validAlignments,widgetInfo.defaultAlignment))throw new _perseus_error__WEBPACK_IMPORTED_MODULE_2__.u("Widget '"+widgetInfo.displayName+"' has an invalid defaultAlignment value: "+widgetInfo.defaultAlignment,_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.InvalidInput);if(widgetInfo.supportedAlignments){const unknownAlignments=underscore__WEBPACK_IMPORTED_MODULE_0__.ZP.difference(widgetInfo.supportedAlignments,validAlignments);if(unknownAlignments.length)throw new _perseus_error__WEBPACK_IMPORTED_MODULE_2__.u("Widget '"+widgetInfo.displayName+"' has an invalid value for supportedAlignments: "+unknownAlignments.join(" "),_logging_log__WEBPACK_IMPORTED_MODULE_1__.D.InvalidInput)}}))},supportsStaticMode=type=>{const widgetInfo=widgets[type];return widgetInfo&&null!=widgetInfo.staticTransform},getStaticTransform=type=>{const widgetInfo=widgets[type];return widgetInfo&&widgetInfo.staticTransform},getTracking=type=>{const widgetExport=widgets[type];return widgetExport&&widgetExport.tracking||""},isLintable=type=>{const widgetExports=widgets[type];return widgetExports&&widgetExports.isLintable||false}},"./packages/perseus/src/widgets/categorizer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_inline_icon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/components/inline-icon.tsx"),_icon_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/icon-paths.ts"),_mixins_changeable__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/mixins/changeable.ts"),_mixins_widget_jsonify_deprecated__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/mixins/widget-jsonify-deprecated.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_renderer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_styles_media_queries__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/perseus/src/styles/media-queries.ts"),_styles_shared__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/perseus/src/styles/shared.ts"),_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/perseus/src/util.ts");class Categorizer extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={items:[],categories:[],values:[],linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_};state={uniqueId:underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.uniqueId("perseus_radio_")};change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _mixins_changeable__WEBPACK_IMPORTED_MODULE_8__.m.apply(_this,args)}})();getUserInput=()=>Categorizer.getUserInputFromProps(this.props);render(){const self=this,isMobile=this.props.apiOptions.isMobile;let indexedItems=this.props.items.map(((item,n)=>[item,n]));this.props.randomizeItems&&(indexedItems=_util__WEBPACK_IMPORTED_MODULE_14__.default.shuffle(indexedItems,this.props.problemNum));const table=react__WEBPACK_IMPORTED_MODULE_4__.createElement("table",{className:"categorizer-table "+(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.mobileTable)},react__WEBPACK_IMPORTED_MODULE_4__.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_4__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_4__.createElement("td",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.emptyHeaderCell)}),this.props.categories.map(((category,i)=>react__WEBPACK_IMPORTED_MODULE_4__.createElement("th",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.header),key:i},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_11__.Z,{content:category,linterContext:this.props.linterContext})))))),react__WEBPACK_IMPORTED_MODULE_4__.createElement("tbody",null,indexedItems.map((indexedItem=>{const item=indexedItem[0],itemNum=indexedItem[1],uniqueId=self.state.uniqueId+"_"+itemNum;return react__WEBPACK_IMPORTED_MODULE_4__.createElement("tr",{key:itemNum},react__WEBPACK_IMPORTED_MODULE_4__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_4__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_11__.Z,{content:item,linterContext:this.props.linterContext})),self.props.categories.map(((catName,catNum)=>{const selected=self.props.values[itemNum]===catNum;return react__WEBPACK_IMPORTED_MODULE_4__.createElement("td",{className:"category "+(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.cell),key:catNum},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:_perseus_api__WEBPACK_IMPORTED_MODULE_10__.m.INTERACTIVE,role:"button","aria-label":catName,onClick:this.onChange.bind(this,itemNum,catNum)},isMobile&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("input",{type:"radio",name:uniqueId,className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(_styles_shared__WEBPACK_IMPORTED_MODULE_13__.Z.responsiveInput,_styles_shared__WEBPACK_IMPORTED_MODULE_13__.Z.responsiveRadioInput),checked:selected,onChange:this.onChange.bind(this,itemNum,catNum),onClick:e=>e.stopPropagation()}),!isMobile&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.radioSpan,selected&&styles.checkedRadioSpan,this.props.static&&selected&&styles.staticCheckedRadioSpan)},selected?react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_inline_icon__WEBPACK_IMPORTED_MODULE_6__.Z,_icon_paths__WEBPACK_IMPORTED_MODULE_7__.iconCircle):react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_inline_icon__WEBPACK_IMPORTED_MODULE_6__.Z,_icon_paths__WEBPACK_IMPORTED_MODULE_7__.iconCircleThin))))})))})))),extraClassNames=classnames__WEBPACK_IMPORTED_MODULE_3___default()({"categorizer-container":!0,"static-mode":this.props.static}),inlineStyles=this.props.apiOptions.isMobile?[styles.fullBleedContainer]:[];return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:extraClassNames+" "+(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(...inlineStyles)},table)}onChange=(itemNum,catNum)=>{const values=[...this.props.values];values[itemNum]=catNum,this.change("values",values),this.props.trackInteraction()};simpleValidate=rubric=>Categorizer.validate(this.getUserInput(),rubric);static validate(userInput,rubric){let completed=!0,allCorrect=!0;return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.each(rubric.values,(function(value,i){null==userInput.values[i]&&(completed=!1),userInput.values[i]!==value&&(allCorrect=!1)})),completed?{type:"points",earned:allCorrect?1:0,total:1,message:null}:{type:"invalid",message:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Make sure you select something for every row.")}}static getUserInputFromProps(props){return _mixins_widget_jsonify_deprecated__WEBPACK_IMPORTED_MODULE_9__.Z.getUserInputFromProps(props)}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({mobileTable:{[_styles_media_queries__WEBPACK_IMPORTED_MODULE_12__.Z.smOrSmaller]:{minWidth:"auto"}},fullBleedContainer:{[_styles_media_queries__WEBPACK_IMPORTED_MODULE_12__.Z.mdOrSmaller]:{marginLeft:-16,marginRight:-16,overflowX:"auto"}},header:{textAlign:"center",verticalAlign:"bottom"},cell:{textAlign:"center",padding:0,color:"#ccc",verticalAlign:"middle"},emptyHeaderCell:{backgroundColor:"inherit",borderBottom:"2px solid #ccc"},radioSpan:{fontSize:30,paddingRight:3,":hover":{color:"#999"}},checkedRadioSpan:{color:"#333"},staticCheckedRadioSpan:{color:"#888"}}),__WEBPACK_DEFAULT_EXPORT__={name:"categorizer",displayName:"Categorizer",widget:Categorizer,transform:widgetOptions=>underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.pick(widgetOptions,"items","categories","randomizeItems"),staticTransform:editorProps=>underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.pick(editorProps,"items","categories","values","randomizeItems"),isLintable:!0};try{Categorizer.displayName="Categorizer",Categorizer.__docgenInfo={description:"",displayName:"Categorizer",props:{items:{defaultValue:{value:"[]"},description:"",name:"items",required:!1,type:{name:"readonly string[]"}},categories:{defaultValue:{value:"[]"},description:"",name:"categories",required:!1,type:{name:"readonly string[]"}},randomizeItems:{defaultValue:null,description:"",name:"randomizeItems",required:!0,type:{name:"boolean"}},values:{defaultValue:{value:"[]"},description:"",name:"values",required:!1,type:{name:"readonly number[] & readonly string[]"}},widgetId:{defaultValue:null,description:"",name:"widgetId",required:!0,type:{name:"string"}},alignment:{defaultValue:null,description:"",name:"alignment",required:!0,type:{name:"string | null | undefined"}},static:{defaultValue:null,description:"",name:"static",required:!0,type:{name:"boolean | null | undefined"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!0,type:{name:"number | null | undefined"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"(blurPath: FocusPath) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"(blurPath: FocusPath) => void"}},findWidgets:{defaultValue:null,description:"",name:"findWidgets",required:!0,type:{name:"(arg1: FilterCriterion) => readonly any[]"}},reviewModeRubric:{defaultValue:null,description:"",name:"reviewModeRubric",required:!0,type:{name:"PerseusCategorizerWidgetOptions"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}},trackInteraction:{defaultValue:null,description:"",name:"trackInteraction",required:!0,type:{name:"(extraData?: Empty | undefined) => void"}},isLastUsedWidget:{defaultValue:null,description:"",name:"isLastUsedWidget",required:!0,type:{name:"boolean"}},linterContext:{defaultValue:{value:'{\n    contentType: "",\n    highlightLint: false,\n    paths: [] as ReadonlyArray<any>,\n    stack: [] as ReadonlyArray<any>,\n}'},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},containerSizeClass:{defaultValue:null,description:"",name:"containerSizeClass",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/categorizer.tsx#Categorizer"]={docgenInfo:Categorizer.__docgenInfo,name:"Categorizer",path:"packages/perseus/src/widgets/categorizer.tsx#Categorizer"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/expression.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Expression,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kas/src/index.js"),_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/math-input/src/index.ts"),_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus-linter/src/index.ts"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),_khanacademy_wonder_blocks_tooltip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-tooltip/dist/es/index.js"),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_math_input__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/components/math-input.tsx"),_dependencies__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/dependencies.ts"),_logging_log__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/perseus/src/logging/log.ts"),_mixins_changeable__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/perseus/src/mixins/changeable.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_util_a11y__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/perseus/src/util/a11y.ts"),_util_answer_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./packages/perseus/src/util/answer-types.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const ERROR_TITLE=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_4__._("Oops!"),ERROR_MESSAGE=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_4__._("Sorry, I don't understand that!"),englishOperators={arctg:"arctan",cosec:"csc",cossec:"csc",cotg:"cot",ctg:"cot",sen:"sin",tg:"tan"},normalizeTex=tex=>(tex=>tex.replace(/\\operatorname{([a-z]+)}/g,((_,op)=>`\\${englishOperators[op]??op} `)))(tex);class Expression extends react__WEBPACK_IMPORTED_MODULE_7__.Component{_isMounted=!1;static validate(userInput,rubric){let onInputError=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};const options=underscore__WEBPACK_IMPORTED_MODULE_8__.ZP.clone(rubric);underscore__WEBPACK_IMPORTED_MODULE_8__.ZP.extend(options,{decimal_separator:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_4__.getDecimalSeparator()});const createValidator=answer=>{const expression=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.Qc(answer.value,rubric);return expression.parsed?_util_answer_types__WEBPACK_IMPORTED_MODULE_15__.Z.expression.createValidatorFunctional(expression.expr,(0,underscore__WEBPACK_IMPORTED_MODULE_8__.ZP)({}).extend(options,{simplify:answer.simplify,form:answer.form})):(_logging_log__WEBPACK_IMPORTED_MODULE_11__.Z.error("Unable to parse solution answer for expression",_logging_log__WEBPACK_IMPORTED_MODULE_11__.D.InvalidInput,{loggedMetadata:{rubric:JSON.stringify(rubric)}}),null)};let matchingAnswerForm,matchMessage,firstUngradedResult,allEmpty=!0;for(const answerForm of rubric.answerForms||[]){const validate=createValidator(answerForm);if(!validate)continue;const result=validate(userInput);if(result.correct){matchingAnswerForm=answerForm,matchMessage=result.message||"";break}allEmpty=allEmpty&&result.empty,"correct"===answerForm.considered&&result.ungraded&&!firstUngradedResult&&(firstUngradedResult=result)}if(!matchingAnswerForm)return firstUngradedResult?{type:"invalid",message:firstUngradedResult.message,suppressAlmostThere:firstUngradedResult.suppressAlmostThere}:allEmpty?{type:"invalid",message:null}:{type:"points",earned:0,total:1};if("ungraded"===matchingAnswerForm.considered){return{type:"invalid",message:!1===onInputError(null,userInput,matchMessage)?null:matchMessage}}return{type:"points",earned:"correct"===matchingAnswerForm.considered?1:0,total:1,message:matchMessage}}static getUserInputFromProps(props){return normalizeTex(props.value)}static getOneCorrectAnswerFromRubric(rubric){const correctAnswers=(rubric.answerForms||[]).filter((answerForm=>"correct"===answerForm.considered));if(0!==correctAnswers.length)return correctAnswers[0].value}static defaultProps={value:"",times:!1,functions:[],buttonSets:["basic","trig","prealgebra","logarithms"],onFocus:()=>{},onBlur:()=>{},apiOptions:_perseus_api__WEBPACK_IMPORTED_MODULE_13__._.defaults,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_2__.j_};displayName="Expression";state={invalid:!1,showErrorTooltip:!1,showErrorStyle:!1};componentDidMount=()=>{document.addEventListener("mousedown",this._handleMouseDown),this._isMounted=!0};componentDidUpdate=prevProps=>{if(!(underscore__WEBPACK_IMPORTED_MODULE_8__.ZP.isEqual(this.props.value,prevProps.value)&&underscore__WEBPACK_IMPORTED_MODULE_8__.ZP.isEqual(this.props.functions,prevProps.functions)||(this.setState({invalid:!1,showErrorTooltip:!1,showErrorStyle:!1}),this.parse(this.props.value,this.props).parsed))){!1!==this.props.apiOptions.onInputError(null,this.props.value,ERROR_MESSAGE)&&this.setState({invalid:!0})}};componentWillUnmount=()=>{this._isMounted=!1};_handleMouseDown=()=>{this._isMounted&&this.state.showErrorTooltip&&this.setState({showErrorTooltip:!1})};simpleValidate=(_ref,onInputError)=>{let{scoring,...rubric}=_ref;const score=Expression.validate(this.getUserInput(),rubric,onInputError||function(){});var apiOptions;return scoring&&"invalid"!==score.type&&this.props.analytics?.onAnalyticsEvent({type:"perseus:expression-evaluated",payload:{result:score.earned===score.total?"correct":"incorrect",virtualKeypadVersion:(apiOptions=this.props.apiOptions,null!=apiOptions.nativeKeypadProxy?"REACT_NATIVE_KEYPAD":"MATH_INPUT_KEYPAD_V2")}}),score};getUserInput=()=>Expression.getUserInputFromProps(this.props);change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _mixins_changeable__WEBPACK_IMPORTED_MODULE_12__.m.apply(_this,args)}})();parse=(value,props)=>{const options=underscore__WEBPACK_IMPORTED_MODULE_8__.ZP.pick(props||this.props,"functions");return underscore__WEBPACK_IMPORTED_MODULE_8__.ZP.extend(options,{decimal_separator:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_4__.getDecimalSeparator()}),_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.Qc(normalizeTex(value),options)};changeAndTrack=(e,cb)=>{this.change("value",e,cb),this.props.trackInteraction()};_handleFocus=()=>{this.props.analytics?.onAnalyticsEvent({type:"perseus:expression-focused",payload:null}),this.props.onFocus([])};_handleBlur=()=>{this.props.onBlur([])};focus=()=>(this.props.apiOptions.customKeypad&&this.refs.input.focus(),!0);focusInputPath=inputPath=>{this.refs.input.focus()};blurInputPath=inputPath=>{this.refs.input.blur()};insert(keyPressed){this.refs.input.insert(keyPressed)}getInputPaths=()=>[[]];getGrammarTypeForPath=inputPath=>"expression";setInputValue=(path,newValue,cb)=>{this.props.onChange({value:newValue},cb)};render(){if(this.props.apiOptions.customKeypad)return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_1__.VF,{ref:"input",value:this.props.value,keypadElement:this.props.keypadElement,onChange:this.changeAndTrack,onFocus:()=>{this.props.keypadElement?.configure(this.props.keypadConfiguration,(()=>{this._isMounted&&this._handleFocus()}))},onBlur:this._handleBlur});const className=classnames__WEBPACK_IMPORTED_MODULE_6___default()({"perseus-widget-expression":!0,"show-error-tooltip":this.state.showErrorTooltip});return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className,onBlur:()=>this.state.invalid&&this.setState({showErrorTooltip:!0,showErrorStyle:!0}),onFocus:()=>this.setState({showErrorTooltip:!1})},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:_util_a11y__WEBPACK_IMPORTED_MODULE_14__.Z.srOnly,role:"alert"},this.state.showErrorTooltip&&ERROR_TITLE+" "+ERROR_MESSAGE),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_khanacademy_wonder_blocks_tooltip__WEBPACK_IMPORTED_MODULE_5__.ZP,{forceAnchorFocusivity:!1,opened:this.state.showErrorTooltip,title:ERROR_TITLE,content:ERROR_MESSAGE},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_components_math_input__WEBPACK_IMPORTED_MODULE_9__.Z,{ref:"input",className:_perseus_api__WEBPACK_IMPORTED_MODULE_13__.m.INTERACTIVE,value:this.props.value,onChange:this.changeAndTrack,convertDotToTimes:this.props.times,buttonSets:this.props.buttonSets,onFocus:this._handleFocus,onBlur:this._handleBlur,hasError:this.state.showErrorStyle,extraKeys:this.props.keypadConfiguration?.extraKeys,analytics:this.props.analytics??{onAnalyticsEvent:async()=>{}}})))}}const keypadConfigurationForProps=widgetOptions=>{const keypadType=_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_1__.H5.EXPRESSION,uniqueExtraVariables={},uniqueExtraConstants={};for(const answerForm of widgetOptions.answerForms){const maybeExpr=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.Qc(answerForm.value,widgetOptions);if(maybeExpr.parsed){const expr=maybeExpr.expr,isGreek=symbol=>"pi"===symbol||"theta"===symbol,toKey=symbol=>isGreek(symbol)?symbol.toUpperCase():symbol,isKey=key=>_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_1__.xR.includes(key);for(const variable of expr.getVars()){const maybeKey=toKey(variable);isKey(maybeKey)&&(uniqueExtraVariables[maybeKey]=!0)}for(const constant of expr.getConsts()){const maybeKey=toKey(constant);isKey(maybeKey)&&(uniqueExtraConstants[maybeKey]=!0)}}}let extraKeys=[...Object.keys(uniqueExtraVariables).sort(),...Object.keys(uniqueExtraConstants).sort()];return extraKeys.length||(extraKeys=["PI"]),{keypadType,extraKeys,times:widgetOptions.times}},ExpressionWithDependencies=react__WEBPACK_IMPORTED_MODULE_7__.forwardRef(((props,ref)=>{const deps=(0,_dependencies__WEBPACK_IMPORTED_MODULE_10__.useDependencies)();return react__WEBPACK_IMPORTED_MODULE_7__.createElement(Expression,_extends({ref,analytics:deps.analytics},props))}));ExpressionWithDependencies.validate=Expression.validate,ExpressionWithDependencies.getUserInputFromProps=Expression.getUserInputFromProps,ExpressionWithDependencies.getOneCorrectAnswerFromRubric=Expression.getOneCorrectAnswerFromRubric;const __WEBPACK_DEFAULT_EXPORT__={name:"expression",displayName:"Expression / Equation",accessible:!0,defaultAlignment:"inline-block",widget:ExpressionWithDependencies,transform:widgetOptions=>{const{times,functions,buttonSets,buttonsVisible}=widgetOptions;return{keypadConfiguration:keypadConfigurationForProps(widgetOptions),times,functions,buttonSets,buttonsVisible}},version:{major:1,minor:0},propUpgrades:{1:v0props=>({times:v0props.times,buttonSets:v0props.buttonSets,functions:v0props.functions,buttonsVisible:v0props.buttonsVisible,answerForms:[{considered:"correct",form:v0props.form,simplify:v0props.simplify,value:v0props.value}]})},isLintable:!0};try{Expression.displayName="Expression",Expression.__docgenInfo={description:"",displayName:"Expression",props:{buttonSets:{defaultValue:{value:'["basic", "trig", "prealgebra", "logarithms"]'},description:"",name:"buttonSets",required:!1,type:{name:"LegacyButtonSets"}},buttonsVisible:{defaultValue:null,description:"",name:"buttonsVisible",required:!1,type:{name:"enum",value:[{value:'"focused"'},{value:'"always"'},{value:'"never"'}]}},functions:{defaultValue:{value:"[]"},description:"",name:"functions",required:!1,type:{name:"readonly string[]"}},times:{defaultValue:{value:"false"},description:"",name:"times",required:!1,type:{name:"boolean"}},keypadConfiguration:{defaultValue:null,description:"",name:"keypadConfiguration",required:!0,type:{name:"KeypadConfiguration"}},widgetId:{defaultValue:null,description:"",name:"widgetId",required:!0,type:{name:"string"}},alignment:{defaultValue:null,description:"",name:"alignment",required:!0,type:{name:"string | null | undefined"}},static:{defaultValue:null,description:"",name:"static",required:!0,type:{name:"boolean | null | undefined"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!0,type:{name:"number | null | undefined"}},apiOptions:{defaultValue:{value:'{\n        isArticle: false,\n        isMobile: false,\n        onInputError: function () {},\n        onFocusChange: function () {},\n        GroupMetadataEditor: StubTagEditor,\n        showAlignmentOptions: false,\n        readOnly: false,\n        groupAnnotator: function (): null {\n            return null;\n        },\n        baseElements: {\n            Link: (\n                props: any,\n            ): React.ReactElement<React.ComponentProps<"a">> => {\n                return <a {...props} />;\n            },\n        },\n        setDrawingAreaAvailable: function () {},\n        useDraftEditor: false,\n        canScrollPage: false,\n        inModal: false,\n        crossOutEnabled: false,\n        editorChangeDelay: 0,\n    } as APIOptionsWithDefaults'},description:"",name:"apiOptions",required:!1,type:{name:"Readonly<Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:{value:"() => {}"},description:"",name:"onFocus",required:!1,type:{name:"(blurPath: FocusPath) => void"}},onBlur:{defaultValue:{value:"() => {}"},description:"",name:"onBlur",required:!1,type:{name:"(blurPath: FocusPath) => void"}},findWidgets:{defaultValue:null,description:"",name:"findWidgets",required:!0,type:{name:"(arg1: FilterCriterion) => readonly any[]"}},reviewModeRubric:{defaultValue:null,description:"",name:"reviewModeRubric",required:!0,type:{name:"PerseusExpressionWidgetOptions"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}},trackInteraction:{defaultValue:null,description:"",name:"trackInteraction",required:!0,type:{name:"(extraData?: Empty | undefined) => void"}},isLastUsedWidget:{defaultValue:null,description:"",name:"isLastUsedWidget",required:!0,type:{name:"boolean"}},linterContext:{defaultValue:{value:'{\n    contentType: "",\n    highlightLint: false,\n    paths: [] as ReadonlyArray<any>,\n    stack: [] as ReadonlyArray<any>,\n}'},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},containerSizeClass:{defaultValue:null,description:"",name:"containerSizeClass",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},analytics:{defaultValue:null,description:"",name:"analytics",required:!1,type:{name:"{ onAnalyticsEvent: AnalyticsEventHandlerFn; }"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/expression.tsx#Expression"]={docgenInfo:Expression.__docgenInfo,name:"Expression",path:"packages/perseus/src/widgets/expression.tsx#Expression"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/grapher.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_button_group__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/components/button-group.tsx"),_components_graphie__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/components/graphie.tsx"),_components_svg_image__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/components/svg-image.tsx"),_interactive2__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/interactive2.ts"),_interactive2_wrapped_line__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/interactive2/wrapped-line.ts"),_mixins_changeable__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/mixins/changeable.ts"),_styles_constants__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/styles/constants.ts"),_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/util.ts"),_util_colors__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/perseus/src/util/colors.ts"),_util_sizing_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/perseus/src/util/sizing-utils.ts"),_grapher_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/perseus/src/widgets/grapher/util.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const MovablePoint=_components_graphie__WEBPACK_IMPORTED_MODULE_4__.default.MovablePoint,MovableLine=_components_graphie__WEBPACK_IMPORTED_MODULE_4__.default.MovableLine;const typeSelectorStyle={padding:"5px 5px"};class FunctionGrapher extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static defaultProps={graph:{range:[[-10,10],[-10,10]],step:[1,1]},coords:null,asymptote:null,isMobile:!1};_coords=()=>{const props=this.props,graph=props.graph,defaultModelCoords=props.model&&(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.pJ)(props.model.defaultCoords,graph.range,graph.step,graph.snapStep);return props.coords||defaultModelCoords||null};_asymptote=()=>this.props.asymptote;change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _mixins_changeable__WEBPACK_IMPORTED_MODULE_8__.m.apply(_this,args)}})();render(){const points=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(this._coords(),((coord,i)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement(MovablePoint,{key:i,coord,static:this.props.static,constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_6__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_6__.Z.MovablePoint.constraints.snap(),coord=>{const isFunction=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(this._coords(),((otherCoord,j)=>i===j||!otherCoord||!_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.equal(coord[0],otherCoord[0])));if(!isFunction)return!1;if(this.props.model&&this.props.model.extraCoordConstraint){const extraConstraint=this.props.model.extraCoordConstraint,proposedCoords=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.clone(this._coords()),oldCoord=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.clone(proposedCoords[i]);return proposedCoords[i]=coord,extraConstraint(coord,oldCoord,proposedCoords,this._asymptote(),this.props.graph)}return isFunction}],onMove:(newCoord,oldCoord)=>{let coords;const asymptote=this._asymptote();coords=asymptote&&this.props.model.allowReflectOverAsymptote&&function isFlipped(newCoord,oldCoord,line){const CCW=(a,b,c)=>(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1]);return CCW(line[0],line[1],oldCoord)>0!=CCW(line[0],line[1],newCoord)>0}(newCoord,oldCoord,asymptote)?underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(this._coords(),(coord=>_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.reflectOverLine(coord,asymptote))):underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.clone(this._coords()),coords[i]=newCoord,this.props.onChange({coords})},showHairlines:this.props.showHairlines,hideHairlines:this.props.hideHairlines,showTooltips:this.props.showTooltips,isMobile:this.props.isMobile}))),box=this.props.graph.box,imageDescription=this.props.graph.backgroundImage;let image=null;if(imageDescription.url){const scale=box[0]/_styles_constants__WEBPACK_IMPORTED_MODULE_9__.interactiveSizes.defaultBoxSize;image=react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_svg_image__WEBPACK_IMPORTED_MODULE_5__.Z,{src:imageDescription.url,width:imageDescription.width,height:imageDescription.height,scale})}return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"perseus-widget perseus-widget-grapher",style:{width:box[0],height:box[1],boxSizing:"initial"}},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"graphie-container above-scratchpad",style:{width:box[0],height:box[1]}},image,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_graphie__WEBPACK_IMPORTED_MODULE_4__.default,_extends({},this.props.graph,{setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),this.props.model&&this.renderPlot(),this.props.model&&this.renderAsymptote(),this.props.model&&points)))}renderPlot=()=>{const model=this.props.model,xRange=this.props.graph.range[0],style={stroke:this.props.isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.BLUE_C:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.DYNAMIC,...this.props.isMobile?{"stroke-width":3}:{}},coeffs=model.getCoefficients(this._coords(),this._asymptote());if(!coeffs)return;const functionProps=model.getPropsForCoeffs(coeffs,xRange);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(model.Movable,_extends({},functionProps,{key:this.props.model.url,range:xRange,style}))};renderAsymptote=()=>{const model=this.props.model,graph=this.props.graph,asymptote=this._asymptote(),dashed={strokeDasharray:"- "};return asymptote&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(MovableLine,{onMove:(newCoord,oldCoord)=>{const delta=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.subtract(newCoord,oldCoord),newAsymptote=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(this._asymptote(),(coord=>_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.add(coord,delta)));this.props.onChange({asymptote:newAsymptote})},constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_6__.Z.MovableLine.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_6__.Z.MovableLine.constraints.snap(),(newCoord,oldCoord)=>{const delta=_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.subtract(newCoord,oldCoord),proposedAsymptote=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(this._asymptote(),(coord=>_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xr.add(coord,delta)));return!model.extraAsymptoteConstraint||model.extraAsymptoteConstraint(newCoord,oldCoord,this._coords(),proposedAsymptote,graph)}],normalStyle:dashed,highlightStyle:dashed},underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(asymptote,((coord,i)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement(MovablePoint,{key:`asymptoteCoord-${i}`,coord,static:!0,draw:null,extendLine:!0,showHairlines:this.props.showHairlines,hideHairlines:this.props.hideHairlines,showTooltips:this.props.showTooltips,isMobile:this.props.isMobile}))))}}class Grapher extends react__WEBPACK_IMPORTED_MODULE_1__.Component{static defaultProps=_grapher_util__WEBPACK_IMPORTED_MODULE_13__.DEFAULT_GRAPHER_PROPS;render(){const type=this.props.plot.type,coords=this.props.plot.coords,asymptote=this.props.plot.asymptote,typeSelector=react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:typeSelectorStyle,className:"above-scratchpad"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_components_button_group__WEBPACK_IMPORTED_MODULE_3__.Z,{value:type,allowEmpty:!0,buttons:underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(this.props.availableTypes,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.typeToButton),onChange:this.handleActiveTypeChange})),box=(0,_util_sizing_utils__WEBPACK_IMPORTED_MODULE_12__.getInteractiveBoxFromSizeClass)(this.props.containerSizeClass),options={...this.props.graph,...(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.TY)(this.props.graph,box[0]),gridConfig:this._getGridConfig({...this.props.graph,box,...(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.TY)(this.props.graph,box[0])})},grapherProps={graph:{box,range:options.range,step:options.step,snapStep:options.snapStep,backgroundImage:options.backgroundImage,options,setup:this._setupGraphie},onChange:this.handlePlotChanges,model:type&&(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.N6)(type),coords,asymptote,static:this.props.static,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile:this.props.apiOptions.isMobile,showTooltips:this.props.graph.showTooltips,showHairlines:this.showHairlines,hideHairlines:this.hideHairlines};return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(FunctionGrapher,grapherProps),this.props.availableTypes.length>1&&typeSelector)}handlePlotChanges=newPlot=>{const plot=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},this.props.plot,newPlot);this.props.onChange({plot}),this.props.trackInteraction()};handleActiveTypeChange=newType=>{const graph=this.props.graph,plot=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},this.props.plot,(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.defaultPlotProps)(newType,graph));this.props.onChange({plot})};_getGridConfig(options){return options.step.map(((step,i)=>_util__WEBPACK_IMPORTED_MODULE_10__.default.gridDimensionConfig(step,options.range[i],options.box[i],options.gridStep[i])))}_calculateMobileTickStep(gridStep,step,ranges){const tickStep=_util__WEBPACK_IMPORTED_MODULE_10__.default.constrainedTickStepsFromTickSteps(step,ranges);return tickStep[0]=tickStep[0]/gridStep[0],tickStep[1]=tickStep[1]/gridStep[1],tickStep}_setupGraphie=(graphie,options)=>{const isMobile=this.props.apiOptions.isMobile;if("graph"===options.markings?(graphie.graphInit({range:options.range,scale:underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.pluck(options.gridConfig,"scale"),axisArrows:"<->",labelFormat:function(s){return"\\small{"+s+"}"},gridStep:options.gridStep,snapStep:options.snapStep,tickStep:isMobile?this._calculateMobileTickStep(options.gridStep,options.step,options.range):underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.pluck(options.gridConfig,"tickStep"),labelStep:1,unityLabels:underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.pluck(options.gridConfig,"unityLabel"),isMobile}),graphie.label([0,options.range[1][1]],options.labels[1],isMobile?"below right":"above"),graphie.label([options.range[0][1],0],options.labels[0],isMobile?"above left":"right")):"grid"===options.markings?graphie.graphInit({range:options.range,scale:underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.pluck(options.gridConfig,"scale"),gridStep:options.gridStep,axes:!1,ticks:!1,labels:!1,isMobile}):"none"===options.markings&&graphie.init({range:options.range,scale:underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.pluck(options.gridConfig,"scale")}),this.props.apiOptions.isMobile){const hairlineStyle={normalStyle:{strokeWidth:1}};this.horizHairline=new _interactive2_wrapped_line__WEBPACK_IMPORTED_MODULE_7__.Z(graphie,[0,0],[0,0],hairlineStyle),this.horizHairline.attr({stroke:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE}),this.horizHairline.hide(),this.vertHairline=new _interactive2_wrapped_line__WEBPACK_IMPORTED_MODULE_7__.Z(graphie,[0,0],[0,0],hairlineStyle),this.vertHairline.attr({stroke:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE}),this.vertHairline.hide()}};showHairlines=point=>{this.props.apiOptions.isMobile&&"none"!==this.props.markings&&(this.horizHairline.moveTo([this.props.graph.range[0][0],point[1]],[this.props.graph.range[0][1],point[1]]),this.horizHairline.show(),this.vertHairline.moveTo([point[0],this.props.graph.range[1][0]],[point[0],this.props.graph.range[1][1]]),this.vertHairline.show())};hideHairlines=()=>{this.props.apiOptions.isMobile&&(this.horizHairline.hide(),this.vertHairline.hide())};simpleValidate(rubric){return(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.Gu)(this.getUserInput(),rubric)}getUserInput(){return Grapher.getUserInputFromProps(this.props)}focus(){}static validate(state,rubric){return(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.Gu)(state,rubric)}static getUserInputFromProps(props){return props.plot}}const propTransform=editorProps=>{const widgetProps={availableTypes:editorProps.availableTypes,graph:editorProps.graph};if(1===widgetProps.availableTypes.length){const graph=widgetProps.graph,type=(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.chooseType)(widgetProps.availableTypes);widgetProps.plot=(0,_grapher_util__WEBPACK_IMPORTED_MODULE_13__.defaultPlotProps)(type,graph)}return widgetProps},__WEBPACK_DEFAULT_EXPORT__={name:"grapher",displayName:"Grapher",widget:Grapher,transform:propTransform,staticTransform:editorProps=>({...propTransform(editorProps),availableTypes:[editorProps.correct.type],plot:editorProps.correct})}},"./packages/perseus/src/widgets/grapher/util.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DEFAULT_GRAPHER_PROPS:()=>DEFAULT_GRAPHER_PROPS,Gu:()=>validate,N6:()=>functionForType,TY:()=>getGridAndSnapSteps,allTypes:()=>allTypes,chooseType:()=>chooseType,defaultPlotProps:()=>defaultPlotProps,getEquationString:()=>getEquationString,pJ:()=>maybePointsFromNormalized,typeToButton:()=>typeToButton});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_graphie__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/components/graphie.tsx"),_dependencies__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/dependencies.ts"),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/util.ts");function canonicalSineCoefficients(coeffs){let amplitude=coeffs[0],angularFrequency=coeffs[1],phase=coeffs[2];const verticalOffset=coeffs[3];amplitude<0&&(amplitude*=-1,angularFrequency*=-1,phase*=-1);const period=2*Math.PI;for(angularFrequency<0&&(angularFrequency*=-1,phase*=-1,phase+=period/2);phase>0;)phase-=period;for(;phase<0;)phase+=period;return[amplitude,angularFrequency,phase,verticalOffset]}function canonicalTangentCoefficients(coeffs){let amplitude=coeffs[0],angularFrequency=coeffs[1],phase=coeffs[2];const verticalOffset=coeffs[3];amplitude<0&&(amplitude*=-1,angularFrequency*=-1,phase*=-1);const period=Math.PI;for(angularFrequency<0&&(angularFrequency*=-1,phase*=-1,phase+=period/2);phase>0;)phase-=period;for(;phase<0;)phase+=period;return[amplitude,angularFrequency,phase,verticalOffset]}const PlotDefaults={areEqual:function(coeffs1,coeffs2){return _util__WEBPACK_IMPORTED_MODULE_5__.default.deepEq(coeffs1,coeffs2)},Movable:_components_graphie__WEBPACK_IMPORTED_MODULE_3__.default.Plot,getPropsForCoeffs:function(coeffs){return{fn:underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.partial(this.getFunctionForCoeffs,coeffs)}}},Linear=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(coords){const p1=coords[0],p2=coords[1],denom=p2[0]-p1[0],num=p2[1]-p1[1];if(0===denom)return;const m=num/denom;return[m,p2[1]-m*p2[0]]},getFunctionForCoeffs:function(coeffs,x){return coeffs[0]*x+coeffs[1]},getEquationString:function(coords){const coeffs=this.getCoefficients(coords),m=coeffs[0],b=coeffs[1];return"y = "+m.toFixed(3)+"x + "+b.toFixed(3)}}),Quadratic=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],Movable:_components_graphie__WEBPACK_IMPORTED_MODULE_3__.default.Parabola,getCoefficients:function(coords){const p1=coords[0],p2=coords[1],h=p1[0],k=p1[1],a=(p2[1]-k)/((p2[0]-h)*(p2[0]-h));return[a,-2*h*a,a*h*h+k]},getFunctionForCoeffs:function(coeffs,x){return(coeffs[0]*x+coeffs[1])*x+coeffs[2]},getPropsForCoeffs:function(coeffs){return{a:coeffs[0],b:coeffs[1],c:coeffs[2]}},getEquationString:function(coords){const coeffs=this.getCoefficients(coords),a=coeffs[0],b=coeffs[1],c=coeffs[2];return"y = "+a.toFixed(3)+"x^2 + "+b.toFixed(3)+"x + "+c.toFixed(3)}}),Sinusoid=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],Movable:_components_graphie__WEBPACK_IMPORTED_MODULE_3__.default.Sinusoid,getCoefficients:function(coords){const p1=coords[0],p2=coords[1],a=p2[1]-p1[1],b=Math.PI/(2*(p2[0]-p1[0]));return[a,b,p1[0]*b,p1[1]]},getFunctionForCoeffs:function(coeffs,x){const a=coeffs[0],b=coeffs[1],c=coeffs[2],d=coeffs[3];return a*Math.sin(b*x-c)+d},getPropsForCoeffs:function(coeffs){return{a:coeffs[0],b:coeffs[1],c:coeffs[2],d:coeffs[3]}},getEquationString:function(coords){const coeffs=this.getCoefficients(coords),a=coeffs[0],b=coeffs[1],c=coeffs[2],d=coeffs[3];return"y = "+a.toFixed(3)+" sin("+b.toFixed(3)+"x - "+c.toFixed(3)+") + "+d.toFixed(3)},areEqual:function(coeffs1,coeffs2){return _util__WEBPACK_IMPORTED_MODULE_5__.default.deepEq(canonicalSineCoefficients(coeffs1),canonicalSineCoefficients(coeffs2))}}),Tangent=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(coords){const p1=coords[0],p2=coords[1],a=p2[1]-p1[1],b=Math.PI/(4*(p2[0]-p1[0]));return[a,b,p1[0]*b,p1[1]]},getFunctionForCoeffs:function(coeffs,x){const a=coeffs[0],b=coeffs[1],c=coeffs[2],d=coeffs[3];return a*Math.tan(b*x-c)+d},getEquationString:function(coords){const coeffs=this.getCoefficients(coords),a=coeffs[0],b=coeffs[1],c=coeffs[2],d=coeffs[3];return"y = "+a.toFixed(3)+" sin("+b.toFixed(3)+"x - "+c.toFixed(3)+") + "+d.toFixed(3)},areEqual:function(coeffs1,coeffs2){return _util__WEBPACK_IMPORTED_MODULE_5__.default.deepEq(canonicalTangentCoefficients(coeffs1),canonicalTangentCoefficients(coeffs2))}}),Exponential=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(newCoord,oldCoord,coords,asymptote,graph){const y=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.head(asymptote)[1];return underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(coords,(coord=>coord[1]!==y))},extraAsymptoteConstraint:function(newCoord,oldCoord,coords,asymptote,graph){const y=newCoord[1];if(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(coords,(coord=>coord[1]>y))||underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(coords,(coord=>coord[1]<y)))return[oldCoord[0],y];const oldY=oldCoord[1];if(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(coords,(coord=>coord[1]>oldY))){const bottomMost=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.min(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(coords,(coord=>coord[1])));return[oldCoord[0],bottomMost-graph.snapStep[1]]}const topMost=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.max(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(coords,(coord=>coord[1])));return[oldCoord[0],topMost+graph.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(coords,asymptote){const p1=coords[0],p2=coords[1],c=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.head(asymptote)[1],b=Math.log((p1[1]-c)/(p2[1]-c))/(p1[0]-p2[0]);return[(p1[1]-c)/Math.exp(b*p1[0]),b,c]},getFunctionForCoeffs:function(coeffs,x){const a=coeffs[0],b=coeffs[1],c=coeffs[2];return a*Math.exp(b*x)+c},getEquationString:function(coords,asymptote){if(!asymptote)return null;const coeffs=this.getCoefficients(coords,asymptote),a=coeffs[0],b=coeffs[1],c=coeffs[2];return"y = "+a.toFixed(3)+"e^("+b.toFixed(3)+"x) + "+c.toFixed(3)}}),Logarithm=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(newCoord,oldCoord,coords,asymptote,graph){const x=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.head(asymptote)[0];return underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(coords,(coord=>coord[0]!==x))&&coords[0][1]!==coords[1][1]},extraAsymptoteConstraint:function(newCoord,oldCoord,coords,asymptote,graph){const x=newCoord[0];if(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(coords,(coord=>coord[0]>x))||underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(coords,(coord=>coord[0]<x)))return[x,oldCoord[1]];const oldX=oldCoord[0];if(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.all(coords,(coord=>coord[0]>oldX))){return[underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.min(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(coords,(coord=>coord[0])))-graph.snapStep[0],oldCoord[1]]}return[underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.max(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(coords,(coord=>coord[0])))+graph.snapStep[0],oldCoord[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(coords,asymptote){const flip=coord=>[coord[1],coord[0]],inverseCoeffs=Exponential.getCoefficients(underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(coords,flip),underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.map(asymptote,flip)),c=-inverseCoeffs[2]/inverseCoeffs[0],b=1/inverseCoeffs[0];return[1/inverseCoeffs[1],b,c]},getFunctionForCoeffs:function(coeffs,x,asymptote){const a=coeffs[0],b=coeffs[1],c=coeffs[2];return a*Math.log(b*x+c)},getEquationString:function(coords,asymptote){if(!asymptote)return null;const coeffs=this.getCoefficients(coords,asymptote),a=coeffs[0],b=coeffs[1],c=coeffs[2];return"y = ln("+a.toFixed(3)+"x + "+b.toFixed(3)+") + "+c.toFixed(3)}}),AbsoluteValue=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.extend({},PlotDefaults,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(coords){const p1=coords[0],p2=coords[1],denom=p2[0]-p1[0],num=p2[1]-p1[1];if(0===denom)return;let m=Math.abs(num/denom);p2[1]<p1[1]&&(m*=-1);return[m,p1[0],p1[1]]},getFunctionForCoeffs:function(coeffs,x){const m=coeffs[0],horizontalOffset=coeffs[1],verticalOffset=coeffs[2];return m*Math.abs(x-horizontalOffset)+verticalOffset},getEquationString:function(coords){const coeffs=this.getCoefficients(coords),m=coeffs[0],horizontalOffset=coeffs[1],verticalOffset=coeffs[2];return"y = "+m.toFixed(3)+"| x - "+horizontalOffset.toFixed(3)+"| + "+verticalOffset.toFixed(3)}}),functionTypeMapping={linear:Linear,quadratic:Quadratic,sinusoid:Sinusoid,tangent:Tangent,exponential:Exponential,logarithm:Logarithm,absolute_value:AbsoluteValue},allTypes=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.keys(functionTypeMapping);function functionForType(type){return functionTypeMapping[type]}const validate=(state,rubric)=>{if(state.type!==rubric.correct.type)return{type:"points",earned:0,total:1,message:null};if(null==state.coords)return{type:"invalid",message:null};const grader=functionForType(state.type),guessCoeffs=grader.getCoefficients(state.coords,state.asymptote),correctCoeffs=grader.getCoefficients(rubric.correct.coords,rubric.correct.asymptote);return null==guessCoeffs||null==correctCoeffs?{type:"invalid",message:null}:grader.areEqual(guessCoeffs,correctCoeffs)?{type:"points",earned:1,total:1,message:null}:{type:"points",earned:0,total:1,message:null}},getEquationString=props=>{const plot=props.plot;if(plot.type&&plot.coords){return functionForType(plot.type).getEquationString(plot.coords,plot.asymptote)||""}return""},pointsFromNormalized=(coordsList,range,step,snapStep)=>coordsList.map((coords=>{const unsnappedPoint=coords.map(((coord,i)=>{const currRange=range[i],currStep=step[i],nSteps=function(range,step){return Math.floor((range[1]-range[0])/step)}(currRange,currStep),tick=Math.round(coord*nSteps);return currRange[0]+currStep*tick}));return _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.roundTo(unsnappedPoint,snapStep)})),maybePointsFromNormalized=(coordsList,range,step,snapStep)=>coordsList?pointsFromNormalized(coordsList,range,step,snapStep):coordsList,defaultPlotProps=(type,graph)=>{const model=functionForType(type),snapStep=_util__WEBPACK_IMPORTED_MODULE_5__.default.snapStepFromGridStep([1,1]);return{type,asymptote:maybePointsFromNormalized(model.defaultAsymptote,graph.range,graph.step,snapStep),coords:null}},chooseType=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.first,getGridAndSnapSteps=(options,boxSize)=>{const gridStep=options.gridStep||_util__WEBPACK_IMPORTED_MODULE_5__.default.getGridStep(options.range,options.step,boxSize);return{gridStep,snapStep:options.snapStep||_util__WEBPACK_IMPORTED_MODULE_5__.default.snapStepFromGridStep(gridStep)}},defaultGraph={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:{url:null},markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},defaultPlot=defaultPlotProps("linear",defaultGraph),DEFAULT_GRAPHER_PROPS={graph:defaultGraph,plot:defaultPlot,availableTypes:[defaultPlot.type]},typeToButton=type=>{const capitalized=type.charAt(0).toUpperCase()+type.substring(1),staticUrl=(0,_dependencies__WEBPACK_IMPORTED_MODULE_4__.getDependencies)().staticUrl;return{value:type,title:capitalized,content:react__WEBPACK_IMPORTED_MODULE_1__.createElement("img",{src:staticUrl(functionForType(type).url),alt:capitalized})}};try{functionForType.displayName="functionForType",functionForType.__docgenInfo={description:"",displayName:"functionForType",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/grapher/util.tsx#functionForType"]={docgenInfo:functionForType.__docgenInfo,name:"functionForType",path:"packages/perseus/src/widgets/grapher/util.tsx#functionForType"})}catch(__react_docgen_typescript_loader_error){}try{getEquationString.displayName="getEquationString",getEquationString.__docgenInfo={description:"",displayName:"getEquationString",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/grapher/util.tsx#getEquationString"]={docgenInfo:getEquationString.__docgenInfo,name:"getEquationString",path:"packages/perseus/src/widgets/grapher/util.tsx#getEquationString"})}catch(__react_docgen_typescript_loader_error){}try{chooseType.displayName="chooseType",chooseType.__docgenInfo={description:"",displayName:"chooseType",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/grapher/util.tsx#chooseType"]={docgenInfo:chooseType.__docgenInfo,name:"chooseType",path:"packages/perseus/src/widgets/grapher/util.tsx#chooseType"})}catch(__react_docgen_typescript_loader_error){}try{typeToButton.displayName="typeToButton",typeToButton.__docgenInfo={description:"",displayName:"typeToButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/grapher/util.tsx#typeToButton"]={docgenInfo:typeToButton.__docgenInfo,name:"typeToButton",path:"packages/perseus/src/widgets/grapher/util.tsx#typeToButton"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/input-number.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-spacing/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_input_with_examples__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/components/input-with-examples.tsx"),_components_simple_keypad_input__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/components/simple-keypad-input.tsx"),_perseus_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_tex_wrangler__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/tex-wrangler.ts"),_util_answer_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/util/answer-types.ts");const ParseTex=_tex_wrangler__WEBPACK_IMPORTED_MODULE_9__.Z.parseTex,answerTypes={number:{name:"Numbers",forms:"integer, decimal, proper, improper, mixed"},decimal:{name:"Decimals",forms:"decimal"},integer:{name:"Integers",forms:"integer"},rational:{name:"Fractions and mixed numbers",forms:"integer, proper, improper, mixed"},improper:{name:"Improper numbers (no mixed)",forms:"integer, proper, improper"},mixed:{name:"Mixed numbers (no improper)",forms:"integer, proper, mixed"},percent:{name:"Numbers or percents",forms:"integer, decimal, proper, improper, mixed, percent"},pi:{name:"Numbers with pi",forms:"pi"}},formExamples={integer:function(options){return _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("an integer, like $6$")},proper:function(options){return"optional"===options.simplify?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a *proper* fraction, like $1/2$ or $6/10$"):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a *simplified proper* fraction, like $3/5$")},improper:function(options){return"optional"===options.simplify?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("an *improper* fraction, like $10/7$ or $14/8$"):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a *simplified improper* fraction, like $7/4$")},mixed:function(options){return _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a mixed number, like $1\\ 3/4$")},decimal:function(options){return _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("an *exact* decimal, like $0.75$")},percent:function(options){return _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a percent, like $12.34\\%$")},pi:function(options){return _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a multiple of pi, like $12\\ \\text{pi}$ or $2/3\\ \\text{pi}$")}};class InputNumber extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={currentValue:"",size:"normal",answerType:"number",rightAlign:!1,apiOptions:_perseus_api__WEBPACK_IMPORTED_MODULE_8__._.defaults,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_};shouldShowExamples=()=>"number"!==this.props.answerType;render(){if(this.props.apiOptions.customKeypad){const input=react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_simple_keypad_input__WEBPACK_IMPORTED_MODULE_7__.Z,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur});return this.props.rightAlign?react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"perseus-input-right-align"},input):input}const rubric=this.props.reviewModeRubric,inputStyles=[styles.default,"small"===this.props.size?styles.small:null,this.props.rightAlign?styles.rightAlign:styles.leftAlign];return rubric&&!this.props.currentValue&&inputStyles.push(styles.answerStateUnanswered),react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_input_with_examples__WEBPACK_IMPORTED_MODULE_6__.Z,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,style:inputStyles,type:"text",examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly,linterContext:this.props.linterContext})}handleChange=(newValue,cb)=>{this.props.onChange({currentValue:newValue},cb)};_handleFocus=()=>{this.props.onFocus([])};_handleBlur=()=>{this.props.onBlur([])};focus=()=>(this.refs.input.focus(),!0);focusInputPath=inputPath=>{this.refs.input.focus()};blurInputPath=inputPath=>{this.refs.input.blur()};getInputPaths=()=>[[]];getGrammarTypeForPath=path=>"number";setInputValue=(path,newValue,cb)=>{this.props.onChange({currentValue:newValue},cb)};getUserInput=()=>InputNumber.getUserInputFromProps(this.props);simpleValidate=(rubric,onInputError)=>(onInputError=onInputError||function(){},InputNumber.validate(this.getUserInput(),rubric,onInputError));examples=()=>{const type=this.props.answerType,forms=answerTypes[type].forms.split(/\s*,\s*/),examples=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(forms,(function(form){return formExamples[form](this.props)}),this);return[_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("**Your answer should be** ")].concat(examples)};static validate(state,rubric){let onInputError=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};null==rubric.answerType&&(rubric.answerType="number");const stringValue=`${rubric.value}`,result=_util_answer_types__WEBPACK_IMPORTED_MODULE_10__.Z.number.createValidatorFunctional(stringValue,{simplify:rubric.simplify,inexact:rubric.inexact||void 0,maxError:rubric.maxError,forms:answerTypes[rubric.answerType].forms})(ParseTex(state.currentValue));if(result.empty){const apiResult=onInputError?.(null,state.currentValue,result.message);return{type:"invalid",message:!1===apiResult?null:result.message}}return{type:"points",earned:result.correct?1:0,total:1,message:result.message}}static getUserInputFromProps(props){return{currentValue:props.currentValue}}static getOneCorrectAnswerFromRubric(rubric){if(null==rubric.value)return;let answerString=String(rubric.value);return rubric.inexact&&rubric.maxError&&(answerString+=" ± "+rubric.maxError),answerString}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_3__.StyleSheet.create({default:{width:80,height:"auto"},small:{width:40},leftAlign:{paddingLeft:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_2__.Z.xxxSmall_4,paddingRight:0},rightAlign:{textAlign:"right",paddingLeft:0,paddingRight:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_2__.Z.xxxSmall_4},answerStateUnanswered:{backgroundColor:"#eee",border:"solid 1px #999"}}),__WEBPACK_DEFAULT_EXPORT__={name:"input-number",displayName:"Input number (deprecated - use numeric input instead)",defaultAlignment:"inline-block",hidden:!0,widget:InputNumber,transform:widgetOptions=>{const{simplify,size,answerType,rightAlign}=widgetOptions;return{simplify,size,answerType,rightAlign}},isLintable:!0}},"./packages/perseus/src/widgets/interactive-graph.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kmath/src/index.ts"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),jquery__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__),lodash_debounce__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash.debounce/index.js"),lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_graph__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/components/graph.tsx"),_interactive2__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/interactive2.ts"),_interactive2_wrapped_line__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/interactive2/wrapped-line.ts"),_logging_log__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/logging/log.ts"),_perseus_error__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./packages/perseus/src/perseus-error.ts"),_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/util.ts"),_util_colors__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/perseus/src/util/colors.ts"),_util_geometry__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/perseus/src/util/geometry.ts"),_util_graph_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/perseus/src/util/graph-utils.ts"),_util_graphie__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/perseus/src/util/graphie.ts"),_util_sizing_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./packages/perseus/src/util/sizing-utils.ts");const{DeprecationMixin}=_util__WEBPACK_IMPORTED_MODULE_10__.default,defaultBackgroundImage={url:null},eq=_util__WEBPACK_IMPORTED_MODULE_10__.default.eq,deepEq=_util__WEBPACK_IMPORTED_MODULE_10__.default.deepEq;function leq(a,b){return a<b||eq(a,b)}function capitalize(str){return str.replace(/(?:^|-)(.)/g,(function(match,letter){return letter.toUpperCase()}))}const deprecatedProps={showGraph:function(props){return{markings:props.showGraph?"graph":"none"}}},_getShouldShowInstructions=props=>_isClickToAddPoints(props)&&(null==props.graph.coords||0===props.graph.coords.length),_isClickToAddPoints=props=>"point"===props.graph.type&&"unlimited"===props.graph.numPoints||"polygon"===props.graph.type&&"unlimited"===props.graph.numSides,makeInvalidTypeError=(functionName,graphType)=>new _perseus_error__WEBPACK_IMPORTED_MODULE_16__.u(`${functionName} called but current graph type is not a '${graphType}'`,_logging_log__WEBPACK_IMPORTED_MODULE_9__.D.NotAllowed,{metadata:{graphType}});class InteractiveGraph extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:defaultBackgroundImage,markings:"graph",showTooltips:!1,showProtractor:!1,showRuler:!1,rulerLabel:"",rulerTicks:10,graph:{type:"linear"}};state={shouldShowInstructions:_getShouldShowInstructions(this.props)};UNSAFE_componentWillMount(){DeprecationMixin.UNSAFE_componentWillMount.call(this)}componentDidMount(){this.setGraphie(this.refs.graph.graphie())}UNSAFE_componentWillReceiveProps(nextProps){this.isClickToAddPoints()!==this.isClickToAddPoints(nextProps)&&(this.shouldResetGraphie=!0,this.setState({shouldShowInstructions:_getShouldShowInstructions(nextProps)})),this.props.backgroundImage?.url===nextProps.backgroundImage?.url&&this.props.backgroundImage===nextProps.backgroundImage&&this.props.containerSizeClass===nextProps.containerSizeClass||(this.shouldResetGraphie=!0)}componentDidUpdate(prevProps,prevState){const oldType=prevProps.graph.type,newType=this.props.graph.type;(oldType!==newType||"angle"===prevProps.graph.type&&"angle"===this.props.graph.type&&this.areAngleGraphsEqual(prevProps.graph,this.props.graph)||"point"===prevProps.graph.type&&"point"===this.props.graph.type&&this.arePointGraphsEqual(prevProps.graph,this.props.graph)||"polygon"===prevProps.graph.type&&"polygon"===this.props.graph.type&&this.arePolygonGraphsEqual(prevProps.graph,this.props.graph)||"segment"===prevProps.graph.type&&"segment"===this.props.graph.type&&this.areSegmentGraphsEqual(prevProps.graph,this.props.graph))&&(this["remove"+capitalize(oldType)+"Controls"](),this["add"+capitalize(newType)+"Controls"]()),this.shouldResetGraphie&&this.resetGraphie()}_getShouldShowInstructions=props=>(props=props||this.props,this.isClickToAddPoints(props)&&(null==props.graph.coords||0===props.graph.coords.length));deprecatedProps=deprecatedProps;setGraphie=newGraphie=>{this.graphie=newGraphie,this.setupGraphie()};handleAddPointsMouseDown=coord=>{if(!this.isClickToAddPoints())throw new _perseus_error__WEBPACK_IMPORTED_MODULE_16__.u("handleAddPointsClick should not be registeredwhen isClickToAddPoints() is false",_logging_log__WEBPACK_IMPORTED_MODULE_9__.D.NotAllowed);if(!this.isCoordInTrash(coord)){let point;if("point"===this.props.graph.type){if(point=this.createPointForPointsType(coord,this.points.length),!point.constrain())return void point.remove();this.points.push(point);const idx=this.points.length-1;this.points[idx].grab(coord),this.updateCoordsFromPoints()}else if("polygon"===this.props.graph.type){if(this.polygon?.closed())return;point=this.createPointForPolygonType(coord,this.points.length),this.points.push(point);const idx=this.points.length-1;this.points[idx].grab(coord),this.updatePolygon()}this.setState({shouldShowInstructions:!1})}};resetGraphie=()=>{this.shouldResetGraphie=!1,this.parabola=null,this.sinusoid=null,this.refs.graph.reset()};setupGraphie=()=>{this.setTrashCanVisibility(0),this.isClickToAddPoints()&&this.setTrashCanVisibility(.5),this.props.apiOptions.isMobile&&(this.horizHairline=new _interactive2_wrapped_line__WEBPACK_IMPORTED_MODULE_8__.Z(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}}),this.horizHairline.attr({stroke:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE}),this.horizHairline?.hide(),this.vertHairline=new _interactive2_wrapped_line__WEBPACK_IMPORTED_MODULE_8__.Z(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}}),this.vertHairline.attr({stroke:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE}),this.vertHairline?.hide());this["add"+capitalize(this.props.graph.type)+"Controls"]()};showHairlines=point=>{this.props.apiOptions.isMobile&&"none"!==this.props.markings&&(this.horizHairline?.moveTo([this.props.range[0][0],point[1]],[this.props.range[0][1],point[1]]),this.horizHairline?.show(),this.vertHairline?.moveTo([point[0],this.props.range[1][0]],[point[0],this.props.range[1][1]]),this.vertHairline?.show())};hideHairlines=()=>{this.props.apiOptions.isMobile&&(this.horizHairline?.hide(),this.vertHairline?.hide())};setTrashCanVisibility=opacity=>{const graphie=this.graphie;_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.equal(opacity,0)?this.trashCan&&(this.trashCan.remove(),this.trashCan=null):this.props.apiOptions.isMobile||(this.trashCan||(this.trashCan=graphie?.raphael?.image("https://ka-perseus-graphie.s3.amazonaws.com/b1452c0d79fd0f7ff4c3af9488474a0a0decb361.png",graphie.xpixels-40,graphie.ypixels-40,40,40)),this.trashCan?.attr({opacity}))};isClickToAddPoints=props=>(props=props||this.props,_isClickToAddPoints(props));areAngleGraphsEqual(prevGraph,currentGraph){return prevGraph.allowReflexAngles!==currentGraph.allowReflexAngles||prevGraph.angleOffsetDeg!==currentGraph.angleOffsetDeg||prevGraph.snapDegrees!==currentGraph.snapDegrees}arePointGraphsEqual(prevGraph,currentGraph){return prevGraph.numPoints!==currentGraph.numPoints}arePolygonGraphsEqual(prevGraph,currentGraph){return prevGraph.numSides!==currentGraph.numSides||prevGraph.showAngles!==currentGraph.showAngles||prevGraph.showSides!==currentGraph.showSides||prevGraph.snapTo!==currentGraph.snapTo}areSegmentGraphsEqual(prevGraph,currentGraph){return prevGraph.numSegments!==currentGraph.numSegments}_lineStroke=()=>this.props.isMobile?{"stroke-width":3}:{};addLine=type=>{const self=this,graphie=self.graphie,coords=InteractiveGraph.getLineCoords(self.props.graph,self.props),points=self.points=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coords,(coord=>_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord,constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap()],onMove:()=>{const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},self.props.graph,{coords:underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(points,"coord")});self.onChange({graph})}}))),lineConfig={points,static:!0,normalStyle:{stroke:this.props.apiOptions.isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.BLUE_C:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE,...this._lineStroke()}};"line"===type?lineConfig.extendLine=!0:"ray"===type&&(lineConfig.extendRay=!0),self.line=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMovableLine(graphie,lineConfig),points[0].listen("constraints","isLine",(coord=>!_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.equal(coord,points[1].coord()))),points[1].listen("constraints","isLine",(coord=>!_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.equal(coord,points[0].coord())))};removeLine=()=>{underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(this.points,"remove"),this.line?.remove()};addLinearControls=()=>{this.addLine("line")};removeLinearControls=()=>{this.removeLine()};addQuadraticControls=()=>{if("quadratic"!==this.props.graph.type)throw makeInvalidTypeError("addQuadraticControls","quadratic");let coords=this.props.graph.coords;coords||(coords=InteractiveGraph.defaultQuadraticCoords(this.props));const onMoveHandler=()=>{const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},this.props.graph,{coords:[pointA.coord(),pointB.coord(),pointC.coord()]});this.onChange({graph}),this.updateQuadratic()};let pointA=null;pointA=this.pointA=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord:coords[0],constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap(),coord=>!pointA||coord[0]!==pointB.coord()[0]&&coord[0]!==pointC.coord()[0]],onMove:onMoveHandler});let pointB=null;pointB=this.pointB=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord:coords[1],constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap(),coord=>!pointB||coord[0]!==pointA.coord()[0]&&coord[0]!==pointC.coord()[0]],onMove:onMoveHandler});let pointC=null;pointC=this.pointC=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord:coords[2],constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap(),coord=>!pointC||coord[0]!==pointA.coord()[0]&&coord[0]!==pointB.coord()[0]],onMove:onMoveHandler}),this.updateQuadratic()};updateQuadratic=()=>{const coeffs=InteractiveGraph.getCurrentQuadraticCoefficients(this.props);if(!coeffs)return;const a=coeffs[0],b=coeffs[1],c=coeffs[2];if(this.parabola){const path=this.graphie?.svgParabolaPath(a,b,c);this.parabola?.attr({path})}else this.parabola=this.graphie?.parabola(a,b,c),this.parabola?.attr({stroke:this.props.apiOptions.isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.BLUE_C:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.DYNAMIC,...this._lineStroke()}),this.parabola?.toBack()};removeQuadraticControls=()=>{this.pointA?.remove(),this.pointB?.remove(),this.pointC?.remove(),this.parabola&&(this.parabola.remove(),this.parabola=null)};addSinusoidControls=()=>{if("sinusoid"!==this.props.graph.type)throw makeInvalidTypeError("addSinusoidControls","sinusoid");let coords=this.props.graph.coords;coords||(coords=InteractiveGraph.defaultSinusoidCoords(this.props));const onMoveHandler=()=>{const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},this.props.graph,{coords:[pointA.coord(),pointB.coord()]});this.onChange({graph}),this.updateSinusoid()};let pointA=null;pointA=this.pointA=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord:coords[0],constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap(),coord=>!pointA||coord[0]!==pointB.coord()[0]],onMove:onMoveHandler});const pointB=this.pointB=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord:coords[1],constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap(),coord=>!pointA||coord[0]!==pointA.coord()[0]],onMove:onMoveHandler});this.updateSinusoid()};updateSinusoid=()=>{const coeffs=InteractiveGraph.getCurrentSinusoidCoefficients(this.props);if(!coeffs)return;const a=coeffs[0],b=coeffs[1],c=coeffs[2],d=coeffs[3];if(this.sinusoid){const path=this.graphie?.svgSinusoidPath(a,b,c,d);this.sinusoid?.attr({path})}else this.sinusoid=this.graphie?.sinusoid(a,b,c,d),this.sinusoid?.attr({stroke:this.props.apiOptions.isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.BLUE_C:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.DYNAMIC,...this._lineStroke()}),this.sinusoid?.toBack()};removeSinusoidControls=()=>{this.pointA?.remove(),this.pointB?.remove(),this.sinusoid&&(this.sinusoid.remove(),this.sinusoid=null)};addCircleControls=()=>{const graphie=this.graphie,minSnap=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.min(graphie.snap),circle=this.circle=graphie?.addCircleGraph({center:this.props.graph.center||[0,0],radius:this.props.graph.radius||underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.min(this.props.step),snapX:graphie.snap[0],snapY:graphie.snap[1],minRadius:minSnap,snapRadius:minSnap});jquery__WEBPACK_IMPORTED_MODULE_2___default()(circle).on("move",(()=>{const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},this.props.graph,{center:circle.center,radius:circle.radius});this.onChange({graph})}))};removeCircleControls=()=>{this.circle?.remove()};addLinearSystemControls=()=>{const graphie=this.graphie,coords=InteractiveGraph.getLinearSystemCoords(this.props.graph,this.props),segmentColors=[_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE,_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.GREEN],points=this.points=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coords,((segmentCoords,segmentIndex)=>{const segmentPoints=[];for(let i=0;i<segmentCoords.length;i+=1){const coord=segmentCoords[i];segmentPoints.push(_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord,constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap(),coord=>{const otherSegment=segmentPoints[1-i];if(otherSegment)return!_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.equal(coord,otherSegment.coord())}],onMove:()=>{const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},this.props.graph,{coords:underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(this.points,(segment=>underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(segment,"coord")))});this.onChange({graph})},normalStyle:{fill:segmentColors[segmentIndex]},highlightStyle:{fill:segmentColors[segmentIndex]}}))}return segmentPoints}));this.lines=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(points,((segmentPoints,segmentIndex)=>_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMovableLine(graphie,{points:segmentPoints,static:!0,extendLine:!0,normalStyle:{stroke:segmentColors[segmentIndex]}})))};removeLinearSystemControls=()=>{underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(this.lines,"remove"),underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(this.points,(segment=>underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(segment,"remove")))};isCoordInTrash=coord=>{if(this.props.apiOptions.isMobile)return!1;const graphie=this.graphie,screenPoint=graphie?.scalePoint(coord);return screenPoint[0]>=graphie.xpixels-40&&screenPoint[1]>=graphie.ypixels-40};createPointForPointsType=(coord,i)=>{const self=this,remove=()=>{self.points=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.filter(self.points,(function(pt){return pt!==point})),self.updateCoordsFromPoints(),setTimeout(point.remove.bind(point),0)};let point=null;return point=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord,constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap(),function(coord){return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.all(self.points,(function(pt){return point===pt||!_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.equal(coord,pt.coord())}))}],onMoveStart:function(){self.isClickToAddPoints()&&self.setTrashCanVisibility(1)},onMove:self.updateCoordsFromPoints,onMoveEnd:function(coord){self.isClickToAddPoints()&&(self.isCoordInTrash(coord)&&remove(),self.setTrashCanVisibility(.5))},...this.props.apiOptions.isMobile&&self.isClickToAddPoints()?{onRemove:remove}:{}}),point};removePoint=point=>{let index=null;return this.points=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.filter(this.points,(function(pt,i){return pt!==point||(index=i,!1)})),index};createPointForPolygonType=(coord,i)=>{if("polygon"!==this.props.graph.type)throw makeInvalidTypeError("createPointForPolygonType","polygon");const snapToGrid=!underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.contains(["angles","sides"],this.props.graph.snapTo),rel=j=>(i+j+this.points.length)%this.points.length,remove=()=>{const index=this.removePoint(point);this.polygon?.closed()&&(this.points=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.U1)(this.points,index),this.polygon?.update({closed:!1})),this.updatePolygon(),this.clearCoords(),setTimeout(point.remove.bind(point),0)},setInitialMove=lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(((point,bool)=>{point.state.isInitialMove=bool}),1e3),point=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,{coord,constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),snapToGrid?_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap():null,coord=>{if(null==this.points||0===this.points.length)return!0;const coords=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(this.points,"coord");if(coords[i]=coord,!this.isClickToAddPoints()){if((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(coords[rel(-2)],coords[rel(-1)],coords[i])||(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(coords[rel(-1)],coords[i],coords[rel(1)])||(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(coords[i],coords[rel(1)],coords[rel(2)]))return!1;const segments=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.zip(coords,(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.U1)(coords));if(this.points.length>3)for(let j=-1;j<=0;j++){const segment=segments[rel(j)],others=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.without(segments,segment,segments[rel(j-1)],segments[rel(j+1)]);for(let k=0;k<others.length;k++){const other=others[k];if((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.kK)(segment,other))return!1}}}if("angles"===this.props.graph.snapTo&&this.points.length>2){const angles=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.TO)(coords),(function(rad){return 180*rad/Math.PI}));underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.each([-1,1],(function(j){angles[rel(j)]=Math.round(angles[rel(j)])}));const getAngle=function(a,vertex,b){return(_util_graph_utils__WEBPACK_IMPORTED_MODULE_13__.Z.findAngle(coords[rel(a)],coords[rel(b)],coords[rel(vertex)])+360)%360},innerAngles=[angles[rel(-1)]-getAngle(-2,-1,1),angles[rel(1)]-getAngle(-1,1,2)];if(innerAngles[2]=180-(innerAngles[0]+innerAngles[1]),underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.any(innerAngles,(function(angle){return leq(angle,1)})))return!1;const knownSide=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.VE)((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.xr)(coords[rel(-1)],coords[rel(1)])),onLeft=1===(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.Xx)((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.oH)(coords[rel(-1)],coords[rel(1)],coords[i])),side=Math.sin(innerAngles[1]*Math.PI/180)/Math.sin(innerAngles[2]*Math.PI/180)*knownSide,outerAngle=_util_graph_utils__WEBPACK_IMPORTED_MODULE_13__.Z.findAngle(coords[rel(1)],coords[rel(-1)]),offset=(0,_util_graphie__WEBPACK_IMPORTED_MODULE_14__.JO)(side,outerAngle+(onLeft?1:-1)*innerAngles[0]);return this.graphie?.addPoints(coords[rel(-1)],offset)}if("sides"===this.props.graph.snapTo&&this.points.length>1){const sides=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map([[coords[rel(-1)],coords[i]],[coords[i],coords[rel(1)]],[coords[rel(-1)],coords[rel(1)]]],(function(coords){return(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.VE)((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.xr)(...coords))}));if(underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.each([0,1],(function(j){sides[j]=Math.round(sides[j])})),leq(sides[1]+sides[2],sides[0])||leq(sides[0]+sides[2],sides[1])||leq(sides[0]+sides[1],sides[2]))return!1;const innerAngle=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.m4)(sides[0],sides[2],sides[1]),outerAngle=_util_graph_utils__WEBPACK_IMPORTED_MODULE_13__.Z.findAngle(coords[rel(1)],coords[rel(-1)]),onLeft=1===(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.Xx)((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.oH)(coords[rel(-1)],coords[rel(1)],coords[i])),offset=(0,_util_graphie__WEBPACK_IMPORTED_MODULE_14__.JO)(sides[0],outerAngle+(onLeft?1:-1)*innerAngle);return this.graphie?.addPoints(coords[rel(-1)],offset)}return!0}],onMoveStart:()=>{this.isClickToAddPoints()&&this.setTrashCanVisibility(1)},onMove:()=>{this.polygon?.closed()&&this.updateCoordsFromPoints()},onMoveEnd:coord=>{const overlappedPoints=this.points.length>1&&(point===this.points[0]&&_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.equal(coord,underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.last(this.points).coord())||point===underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.last(this.points)&&_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.equal(coord,this.points[0].coord()));if(this.isClickToAddPoints()){if(this.isCoordInTrash(coord))remove();else if(overlappedPoints){const pointToRemove=this.points.pop();this.points.length>2?(this.polygon?.update({closed:!0}),this.updateCoordsFromPoints()):(this.polygon?.update({closed:!1}),this.clearCoords()),this.updatePolygon(),setTimeout(pointToRemove.remove.bind(pointToRemove),0)}else{if(underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.any(this.points,(function(pt){return pt!==point&&_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.equal(pt.coord(),coord)})))this.removePoint(point),this.points.length<3?(this.polygon?.update({closed:!1}),this.clearCoords()):this.polygon?.closed()&&this.updateCoordsFromPoints(),this.updatePolygon(),setTimeout(point.remove.bind(point),0);else{const isFirstOrLastPoint=point===underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.head(this.points)||point===underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.last(this.points),pointNotMoved=!point.hasMoved(),notANewPoint=!point.state.isInitialMove,polygonNotClosed=!this.polygon?.closed(),allPointsPlotted=this.points.length>2;isFirstOrLastPoint&&pointNotMoved&&notANewPoint&&polygonNotClosed&&allPointsPlotted&&(this.polygon?.update({closed:!0}),this.updatePolygon(),this.updateCoordsFromPoints())}}this.setTrashCanVisibility(.5)}setInitialMove(point,!1)},...this.props.apiOptions.isMobile&&this.isClickToAddPoints()?{onRemove:remove}:{}});return point.state.isInitialMove=!0,point};updateCoordsFromPoints=()=>{const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},this.props.graph,{coords:underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(this.points,(function(point){return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.result(point,"coord")}))});this.onChange({graph})};clearCoords=()=>{const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},this.props.graph,{coords:null});this.onChange({graph})};onChange=data=>{this.props.onChange(data),this.props.trackInteraction()};addPointControls=()=>{if("point"!==this.props.graph.type)throw makeInvalidTypeError("addPointControls","point");const coords=InteractiveGraph.getPointCoords(this.props.graph,this.props);this.points=[],this.points=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coords,this.createPointForPointsType,this)};removePointControls=()=>{underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(this.points,"remove")};addSegmentControls=()=>{if("segment"!==this.props.graph.type)throw makeInvalidTypeError("addSegmentControls","segment");const self=this,graphie=this.graphie,coords=InteractiveGraph.getSegmentCoords(this.props.graph,this.props),createPoint=options=>_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMaybeMobileMovablePoint(this,options);this.points=[],this.lines=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coords,(function(segment,i){const updateCoordProps=function(){const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},self.props.graph,{coords:underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(self.lines,"coords")});self.onChange({graph})},points=[];for(let i=0;i<segment.length;i+=1){const coord=segment[i];points.push(createPoint({coord,constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePoint.constraints.snap(),coord=>{const otherPoint=points[1-i];return!!otherPoint&&!_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.xm.equal(coord,otherPoint.coord())}],onMove:updateCoordProps}))}self.points=self.points.concat(points);const line=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMovableLine(graphie,{points,static:!1,constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovableLine.constraints.bound(),_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovableLine.constraints.snap()],onMove:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovableLine.onMove.updatePoints,updateCoordProps],normalStyle:{stroke:this.props.apiOptions.isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.BLUE_C:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE,...this._lineStroke()},highlightStyle:{stroke:this.props.apiOptions.isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.BLUE_C:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTING,...this._lineStroke()}});return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(points,"toFront"),line}),this)};removeSegmentControls=()=>{underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(this.points,"remove"),underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(this.lines,"remove")};addRayControls=()=>{this.addLine("ray")};removeRayControls=()=>{this.removeLine()};addPolygonControls=()=>{this.polygon=null;const coords=InteractiveGraph.getPolygonCoords(this.props.graph,this.props);this.points=[],this.points=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coords,this.createPointForPolygonType,this),this.updatePolygon()};updatePolygon=()=>{if("polygon"!==this.props.graph.type)throw makeInvalidTypeError("updatePolygon","polygon");let closed;closed=this.polygon?this.polygon.closed():this.points.length>=3;const graphie=this.graphie,n=this.points.length,snapToGrid=!underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.contains(["angles","sides"],this.props.graph.snapTo),angleLabels=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.times(n,(function(i){return this.props.graph.showAngles&&(closed||0!==i&&i!==n-1)?"angles"===this.props.graph.snapTo?"$deg0":"$deg1":""}),this),showRightAngleMarkers=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.times(n,(function(i){return closed||0!==i&&i!==n-1}),this),numArcs=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.times(n,(function(i){return this.props.graph.showAngles&&(closed||0!==i&&i!==n-1)?1:0}),this),sideLabels=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.times(n,(function(i){return!this.props.graph.showSides||!closed&&i===n-1?"":"sides"===this.props.graph.snapTo?"$len0":"$len1"}),this);if(null==this.polygon){const self=this;self.polygon=_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.addMovablePolygon(graphie,{constraints:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePolygon.constraints.bound(),snapToGrid?_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePolygon.constraints.snap():null],closed,points:self.points,angleLabels,showRightAngleMarkers,numArcs,sideLabels,onMove:[_interactive2__WEBPACK_IMPORTED_MODULE_7__.Z.MovablePolygon.onMove.updatePoints,function(){this.closed()&&self.updateCoordsFromPoints()}],normalStyle:{stroke:this.props.apiOptions.isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.BLUE_C:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE,...this._lineStroke()}})}else this.polygon.update({closed,points:this.points,angleLabels,showRightAngleMarkers,numArcs,sideLabels})};removePolygonControls=()=>{underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(this.points,"remove"),this.polygon?.remove()};addAngleControls=()=>{if("angle"!==this.props.graph.type)throw makeInvalidTypeError("addAngleControls","angle");const graph=this.props.graph,graphie=this.graphie,coords=InteractiveGraph.getAngleCoords(this.props.graph,this.props);var actual,defaultValue;this.points=coords.map((function(coord,i){return graphie?.addMovablePoint(underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({coord,normalStyle:{stroke:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE,fill:_util_colors__WEBPACK_IMPORTED_MODULE_11__.Z.INTERACTIVE}},1===i?{snapX:graphie.snap[0],snapY:graphie.snap[1]}:{}))})),this.angle=graphie?.addMovableAngle({points:this.points,snapDegrees:graph.snapDegrees||1,snapOffsetDeg:graph.angleOffsetDeg||0,angleLabel:graph.showAngles?"$deg0":"",pushOut:2,allowReflex:(actual=graph.allowReflexAngles,defaultValue=!0,null==actual?defaultValue:actual)}),jquery__WEBPACK_IMPORTED_MODULE_2___default()(this.angle).on("move",(()=>{this.onChange({graph:{...graph,coords:this.angle?.getClockwiseCoords()}})}))};removeAngleControls=()=>{underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(this.points,"remove"),this.angle?.remove()};toggleShowSides=()=>{if("polygon"!==this.props.graph.type)throw makeInvalidTypeError("toggleShowSides","polygon");const graph=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.extend({},this.props.graph,{showSides:!this.props.graph.showSides});this.onChange({graph})};getUserInput=()=>InteractiveGraph.getUserInputFromProps(this.props);simpleValidate=rubric=>InteractiveGraph.validate(this.getUserInput(),rubric,this);focus=jquery__WEBPACK_IMPORTED_MODULE_2___default().noop;render(){const box=(0,_util_sizing_utils__WEBPACK_IMPORTED_MODULE_15__.getInteractiveBoxFromSizeClass)(this.props.containerSizeClass);let instructions,onMouseDown;this.isClickToAddPoints()&&this.state.shouldShowInstructions?"point"===this.props.graph.type?instructions=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Click to add points"):"polygon"===this.props.graph.type&&(instructions=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Click to add vertices")):instructions=void 0,this.isClickToAddPoints()&&(onMouseDown=this.handleAddPointsMouseDown);const gridStep=this.props.gridStep||_util__WEBPACK_IMPORTED_MODULE_10__.default.getGridStep(this.props.range,this.props.step,box[0]),snapStep=this.props.snapStep||_util__WEBPACK_IMPORTED_MODULE_10__.default.snapStepFromGridStep(gridStep),isMobile=this.props.apiOptions.isMobile;return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"perseus-widget perseus-widget-interactive-graph",style:{width:box[0],height:box[1]}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_graph__WEBPACK_IMPORTED_MODULE_6__.Z,{instructions,ref:"graph",box,labels:this.props.labels,range:this.props.range,step:isMobile?_util__WEBPACK_IMPORTED_MODULE_10__.default.constrainedTickStepsFromTickSteps(this.props.step,this.props.range):this.props.step,gridStep,snapStep,markings:this.props.markings,backgroundImage:this.props.backgroundImage,showProtractor:this.props.showProtractor,showRuler:this.props.showRuler,rulerLabel:this.props.rulerLabel,rulerTicks:this.props.rulerTicks,onMouseDown,onGraphieUpdated:this.setGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile,lockedFigures:this.props.lockedFigures}))}static getQuadraticCoefficients(coords){const p1=coords[0],p2=coords[1],p3=coords[2],denom=(p1[0]-p2[0])*(p1[0]-p3[0])*(p2[0]-p3[0]);if(0===denom)return;return[(p3[0]*(p2[1]-p1[1])+p2[0]*(p1[1]-p3[1])+p1[0]*(p3[1]-p2[1]))/denom,(p3[0]*p3[0]*(p1[1]-p2[1])+p2[0]*p2[0]*(p3[1]-p1[1])+p1[0]*p1[0]*(p2[1]-p3[1]))/denom,(p2[0]*p3[0]*(p2[0]-p3[0])*p1[1]+p3[0]*p1[0]*(p3[0]-p1[0])*p2[1]+p1[0]*p2[0]*(p1[0]-p2[0])*p3[1])/denom]}static getSinusoidCoefficients(coords){const p1=coords[0],p2=coords[1],amplitude=p2[1]-p1[1],angularFrequency=Math.PI/(2*(p2[0]-p1[0]));return[amplitude,angularFrequency,p1[0]*angularFrequency,p1[1]]}static getLineCoords(graph,props){return graph.coords||InteractiveGraph.pointsFromNormalized(props,[[.25,.75],[.75,.75]])}static getPointCoords(graph,props){const numPoints=graph.numPoints||1;let coords=graph.coords;if(coords)return coords;switch(numPoints){case 1:coords=[graph.coord||[0,0]];break;case 2:coords=[[-5,0],[5,0]];break;case 3:coords=[[-5,0],[0,0],[5,0]];break;case 4:coords=[[-6,0],[-2,0],[2,0],[6,0]];break;case 5:coords=[[-6,0],[-3,0],[0,0],[3,0],[6,0]];break;case 6:coords=[[-5,0],[-3,0],[-1,0],[1,0],[3,0],[5,0]];break;case"unlimited":coords=[]}const newCoords=InteractiveGraph.normalizeCoords(coords,[[-10,10],[-10,10]]);return InteractiveGraph.pointsFromNormalized(props,newCoords)}static getLinearSystemCoords(graph,props){return graph.coords||underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map([[[.25,.75],[.75,.75]],[[.25,.25],[.75,.25]]],(coords=>InteractiveGraph.pointsFromNormalized(props,coords)))}static getPolygonCoords(graph,props){if("polygon"!==graph.type)throw makeInvalidTypeError("toggleShowSides","polygon");let coords=graph.coords;if(coords)return coords;const n=graph.numSides||3;if("unlimited"===n)coords=[];else{const angle=2*Math.PI/n,offset=(1/n-.5)*Math.PI,radius="sides"===graph.snapTo?Math.sqrt(3)/3*7:4;coords=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.times(n,(function(i){return[radius*Math.cos(i*angle+offset),radius*Math.sin(i*angle+offset)]}))}coords=InteractiveGraph.normalizeCoords(coords,[[-10,10],[-10,10]]);const snapToGrid=!underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.contains(["angles","sides"],graph.snapTo);return coords=InteractiveGraph.pointsFromNormalized(props,coords,!snapToGrid),coords}static getSegmentCoords(graph,props){const coords=graph.coords;if(coords)return coords;const n=graph.numSegments||1,range=[[-10,10],[-10,10]];return{1:[5],2:[5,-5],3:[5,0,-5],4:[6,2,-2,-6],5:[6,3,0,-3,-6],6:[5,3,1,-1,-3,-5]}[n].map((function(y){let segment=[[-5,y],[5,y]];return segment=InteractiveGraph.normalizeCoords(segment,range),segment=InteractiveGraph.pointsFromNormalized(props,segment),segment}))}static getAngleCoords(graph,props){let coords=graph.coords;if(coords)return coords;const snap=graph.snapDegrees||1;let angle=snap;for(;angle<20;)angle+=snap;angle=angle*Math.PI/180;const offset=(graph.angleOffsetDeg||0)*Math.PI/180;coords=InteractiveGraph.pointsFromNormalized(props,[[.85,.5],[.5,.5]]);const radius=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.VE)((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.xr)(...coords));return coords[0]=[coords[1][0]+radius*Math.cos(offset),coords[1][1]+radius*Math.sin(offset)],coords[2]=[coords[1][0]+radius*Math.cos(angle+offset),coords[1][1]+radius*Math.sin(angle+offset)],coords}static normalizeCoords(coordsList,ranges){return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coordsList,(function(coords){return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coords,(function(coord,i){const extent=ranges[i][1]-ranges[i][0];return(coord+ranges[i][1])/extent}))}))}static getEquationString(props){const funcName="get"+capitalize(props.graph.type)+"EquationString";return InteractiveGraph[funcName](props)}static pointsFromNormalized(props,coordsList,noSnap){return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coordsList,(function(coords){return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coords,(function(coord,i){const range=props.range[i];if(noSnap)return range[0]+(range[1]-range[0])*coord;const step=props.step[i],nSteps=function numSteps(range,step){return Math.floor((range[1]-range[0])/step)}(range,step),tick=Math.round(coord*nSteps);return range[0]+step*tick}))}))}static getLinearEquationString(props){const coords=InteractiveGraph.getLineCoords(props.graph,props);if(eq(coords[0][0],coords[1][0]))return"x = "+coords[0][0].toFixed(3);const m=(coords[1][1]-coords[0][1])/(coords[1][0]-coords[0][0]),b=coords[0][1]-m*coords[0][0];return eq(m,0)?"y = "+b.toFixed(3):"y = "+m.toFixed(3)+"x + "+b.toFixed(3)}static getCurrentQuadraticCoefficients(props){const coords=props.graph.coords||InteractiveGraph.defaultQuadraticCoords(props);return InteractiveGraph.getQuadraticCoefficients(coords)}static defaultQuadraticCoords(props){return InteractiveGraph.pointsFromNormalized(props,[[.25,.75],[.5,.25],[.75,.75]])}static getQuadraticEquationString(props){const coeffs=InteractiveGraph.getCurrentQuadraticCoefficients(props);return"y = "+coeffs[0].toFixed(3)+"x^2 + "+coeffs[1].toFixed(3)+"x + "+coeffs[2].toFixed(3)}static getCurrentSinusoidCoefficients(props){const coords=props.graph.coords||InteractiveGraph.defaultSinusoidCoords(props);return InteractiveGraph.getSinusoidCoefficients(coords)}static defaultSinusoidCoords(props){return InteractiveGraph.pointsFromNormalized(props,[[.5,.5],[.65,.6]])}static getSinusoidEquationString(props){const coeffs=InteractiveGraph.getCurrentSinusoidCoefficients(props);return"y = "+coeffs[0].toFixed(3)+"sin("+coeffs[1].toFixed(3)+"x - "+coeffs[2].toFixed(3)+") + "+coeffs[3].toFixed(3)}static getCircleEquationString(props){const graph=props.graph,center=graph.center||[0,0],radius=graph.radius||2;return"center ("+center[0]+", "+center[1]+"), radius "+radius}static getLinearSystemEquationString(props){const coords=InteractiveGraph.getLinearSystemCoords(props.graph,props);return"\n"+(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.un)(coords[0][0],coords[0][1])+"\n"+(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.un)(coords[1][0],coords[1][1])+"\n"+(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.GA)(coords[0],coords[1])}static getPointEquationString(props){if("point"!==props.graph.type)throw makeInvalidTypeError("getPointEquationString","point");return InteractiveGraph.getPointCoords(props.graph,props).map((function(coord){return"("+coord[0]+", "+coord[1]+")"})).join(", ")}static getSegmentEquationString(props){if("segment"!==props.graph.type)throw makeInvalidTypeError("getSegmentEquationString","segment");const segments=InteractiveGraph.getSegmentCoords(props.graph,props);return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(segments,(function(segment){return"["+underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(segment,(function(coord){return"("+coord.join(", ")+")"})).join(" ")+"]"})).join(" ")}static getRayEquationString(props){if("ray"!==props.graph.type)throw makeInvalidTypeError("createPointForPolygonType","ray");const coords=InteractiveGraph.getLineCoords(props.graph,props),a=coords[0],b=coords[1];let eq=InteractiveGraph.getLinearEquationString(props);return a[0]>b[0]?eq+=" (for x <= "+a[0].toFixed(3)+")":a[0]<b[0]?eq+=" (for x >= "+a[0].toFixed(3)+")":a[1]>b[1]?eq+=" (for y <= "+a[1].toFixed(3)+")":eq+=" (for y >= "+a[1].toFixed(3)+")",eq}static getPolygonEquationString(props){if("polygon"!==props.graph.type)throw makeInvalidTypeError("getPolygonEquationString","polygon");const coords=InteractiveGraph.getPolygonCoords(props.graph,props);return underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map(coords,(function(coord){return"("+coord.join(", ")+")"})).join(" ")}static getAngleEquationString(props){if("angle"!==props.graph.type)throw makeInvalidTypeError("getAngleEquationString","angle");const coords=InteractiveGraph.getAngleCoords(props.graph,props);return _util_graph_utils__WEBPACK_IMPORTED_MODULE_13__.Z.findAngle(coords[2],coords[0],coords[1]).toFixed(0)+"° angle at ("+coords[1].join(", ")+")"}static validate(state,rubric,component){const hasValue=!!(state.coords||state.center&&state.radius);if(state.type===rubric.correct.type&&hasValue)if("linear"===state.type&&"linear"===rubric.correct.type&&null!=state.coords){const guess=state.coords,correct=rubric.correct.coords;if((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[0],correct[1],guess[0])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[0],correct[1],guess[1]))return{type:"points",earned:1,total:1,message:null}}else if("linear-system"===state.type&&"linear-system"===rubric.correct.type&&null!=state.coords){const guess=state.coords,correct=rubric.correct.coords;if((0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[0][0],correct[0][1],guess[0][0])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[0][0],correct[0][1],guess[0][1])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[1][0],correct[1][1],guess[1][0])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[1][0],correct[1][1],guess[1][1])||(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[0][0],correct[0][1],guess[1][0])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[0][0],correct[0][1],guess[1][1])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[1][0],correct[1][1],guess[0][0])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[1][0],correct[1][1],guess[0][1]))return{type:"points",earned:1,total:1,message:null}}else if("quadratic"===state.type&&"quadratic"===rubric.correct.type&&null!=state.coords){const guessCoeffs=this.getQuadraticCoefficients(state.coords),correctCoeffs=this.getQuadraticCoefficients(rubric.correct.coords);if(deepEq(guessCoeffs,correctCoeffs))return{type:"points",earned:1,total:1,message:null}}else if("sinusoid"===state.type&&"sinusoid"===rubric.correct.type&&null!=state.coords){const guessCoeffs=this.getSinusoidCoefficients(state.coords),correctCoeffs=this.getSinusoidCoefficients(rubric.correct.coords),canonicalGuessCoeffs=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.P6)(guessCoeffs),canonicalCorrectCoeffs=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.P6)(correctCoeffs);if(deepEq(canonicalGuessCoeffs,canonicalCorrectCoeffs))return{type:"points",earned:1,total:1,message:null}}else if("circle"===state.type&&"circle"===rubric.correct.type){if(deepEq(state.center,rubric.correct.center)&&eq(state.radius,rubric.correct.radius))return{type:"points",earned:1,total:1,message:null}}else if("point"===state.type&&"point"===rubric.correct.type&&null!=state.coords){let correct=InteractiveGraph.getPointCoords(rubric.correct,component);const guess=state.coords?.slice();if(correct=correct.slice(),guess?.sort(),correct.sort(),deepEq(guess,correct))return{type:"points",earned:1,total:1,message:null}}else if("polygon"===state.type&&"polygon"===rubric.correct.type&&null!=state.coords){const guess=state.coords?.slice(),correct=rubric.correct.coords?.slice();let match;if("similar"===rubric.correct.match?match=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.bz)(guess,correct,Number.POSITIVE_INFINITY):"congruent"===rubric.correct.match?match=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.bz)(guess,correct,_khanacademy_kmath__WEBPACK_IMPORTED_MODULE_0__.Rx.DEFAULT_TOLERANCE):"approx"===rubric.correct.match?match=(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.bz)(guess,correct,.1):(guess.sort(),correct.sort(),match=deepEq(guess,correct)),match)return{type:"points",earned:1,total:1,message:null}}else if("segment"===state.type&&"segment"===rubric.correct.type&&null!=state.coords){let guess=state.coords.slice(),correct=rubric.correct.coords?.slice();if(guess=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(guess,"sort").sort(),correct=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.invoke(correct,"sort").sort(),deepEq(guess,correct))return{type:"points",earned:1,total:1,message:null}}else if("ray"===state.type&&"ray"===rubric.correct.type&&null!=state.coords){const guess=state.coords,correct=rubric.correct.coords;if(deepEq(guess[0],correct[0])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[0],correct[1],guess[1]))return{type:"points",earned:1,total:1,message:null}}else if("angle"===state.type&&"angle"===rubric.correct.type){const guess=state.coords,correct=rubric.correct.coords;let match;if("congruent"===rubric.correct.match){const angles=underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.map([guess,correct],(function(coords){return(_util_graph_utils__WEBPACK_IMPORTED_MODULE_13__.Z.findAngle(coords[2],coords[0],coords[1])+360)%360}));match=eq(...angles)}else match=deepEq(guess[1],correct[1])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[1],correct[0],guess[0])&&(0,_util_geometry__WEBPACK_IMPORTED_MODULE_12__.u1)(correct[1],correct[2],guess[2]);if(match)return{type:"points",earned:1,total:1,message:null}}return!hasValue||underscore__WEBPACK_IMPORTED_MODULE_5__.ZP.isEqual(state,rubric.graph)?{type:"invalid",message:null}:{type:"points",earned:0,total:1,message:null}}static getUserInputFromProps(props){return props.graph}}const __WEBPACK_DEFAULT_EXPORT__={name:"interactive-graph",displayName:"Interactive graph",widget:InteractiveGraph}},"./packages/perseus/src/widgets/label-image/answer-choices.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_dropdown__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-dropdown/dist/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_renderer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/renderer.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__=props=>{const onAnswerChange=selected=>{const{choices,onChange}=props;onChange(choices.map((choice=>selected.includes(choice.content))))},selectedValues=props.choices.filter((choice=>choice.checked)).map((choice=>choice.content)),{opener,onToggle,disabled}=props,args={style:{zIndex:"unset"},children:(choices=props.choices,choices.map((_ref=>{let{content}=_ref;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_khanacademy_wonder_blocks_dropdown__WEBPACK_IMPORTED_MODULE_0__.BA,{key:content,value:content,label:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_2__.Z,{content,inline:!0})})}))),opener,onToggle,disabled};var choices;return props.multipleSelect?react__WEBPACK_IMPORTED_MODULE_1__.createElement(_khanacademy_wonder_blocks_dropdown__WEBPACK_IMPORTED_MODULE_0__.NU,_extends({},args,{selectedValues,onChange:selected=>onAnswerChange(selected)})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_khanacademy_wonder_blocks_dropdown__WEBPACK_IMPORTED_MODULE_0__.q4,_extends({},args,{selectedValue:selectedValues[0],onChange:selected=>onAnswerChange([selected]),placeholder:props.choices[0].content}))};try{answerchoices.displayName="answerchoices",answerchoices.__docgenInfo={description:"",displayName:"answerchoices",props:{choices:{defaultValue:null,description:"",name:"choices",required:!0,type:{name:"readonly AnswerType[]"}},multipleSelect:{defaultValue:null,description:"",name:"multipleSelect",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(selection: readonly boolean[]) => void"}},opener:{defaultValue:null,description:"",name:"opener",required:!0,type:{name:"((openerProps: OpenerProps) => ReactElement<any, string | JSXElementConstructor<any>>) | undefined"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"(opened: boolean) => unknown"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/label-image/answer-choices.tsx#answerchoices"]={docgenInfo:answerchoices.__docgenInfo,name:"answerchoices",path:"packages/perseus/src/widgets/label-image/answer-choices.tsx#answerchoices"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/label-image/answer-pill.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>AnswerPill});var _khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),_khanacademy_wonder_blocks_pill__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-pill/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/index.js"),react_popper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-popper/lib/esm/Popper.js"),_renderer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/renderer.tsx");const BringToFront={boxShadow:`0 8px 8px ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.offBlack64}`,zIndex:1e3},AnswerPill=props=>{const{selectedAnswers,showCorrectness,markerRef,side,onClick,style,focused,hovered}=props,idFactory=(0,_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_1__._u)(),answerString=selectedAnswers.length>1?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_2__.ngettext("%(num)s answer","%(num)s answers",selectedAnswers.length):selectedAnswers[0],correct="correct"===showCorrectness,incorrect="incorrect"===showCorrectness;return react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_popper__WEBPACK_IMPORTED_MODULE_7__.r,{placement:side,referenceElement:markerRef,modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},(_ref=>{let{ref,style:popperStyle}=_ref;return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_khanacademy_wonder_blocks_pill__WEBPACK_IMPORTED_MODULE_3__.Z,{size:"large",kind:"accent",id:idFactory.get("perseus-label-image-widget-answer-pill"),onClick:correct?void 0:onClick,ref,style:[style,popperStyle,styles.pill,correct&&styles.correct,incorrect&&styles.incorrect,(focused||hovered)&&BringToFront]},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_6__.Z,{content:answerString,inline:!0}))}))},styles=aphrodite__WEBPACK_IMPORTED_MODULE_4__.StyleSheet.create({correct:{backgroundColor:"#00880b"},incorrect:{backgroundColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.offBlack64},pill:{height:"auto"}});try{AnswerPill.displayName="AnswerPill",AnswerPill.__docgenInfo={description:"",displayName:"AnswerPill",props:{selectedAnswers:{defaultValue:null,description:"",name:"selectedAnswers",required:!0,type:{name:"readonly string[]"}},showCorrectness:{defaultValue:null,description:"",name:"showCorrectness",required:!1,type:{name:"enum",value:[{value:'"correct"'},{value:'"incorrect"'}]}},markerRef:{defaultValue:null,description:"",name:"markerRef",required:!1,type:{name:"HTMLElement"}},side:{defaultValue:null,description:"",name:"side",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},hovered:{defaultValue:null,description:"",name:"hovered",required:!1,type:{name:"boolean"}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/label-image/answer-pill.tsx#AnswerPill"]={docgenInfo:AnswerPill.__docgenInfo,name:"AnswerPill",path:"packages/perseus/src/widgets/label-image/answer-pill.tsx#AnswerPill"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/label-image/marker.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Marker});var _khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),_components_icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/components/icon.tsx"),_icon_paths__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/icon-paths.ts"),_answer_pill__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/widgets/label-image/answer-pill.tsx");function shouldReduceMotion(){const mediaQuery=window.matchMedia("(prefers-reduced-motion: reduce)");return!mediaQuery||mediaQuery.matches}class Marker extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={selected:[]};renderIcon(){const{selected,showCorrectness,showSelected,showPulsate}=this.props,isOpen=showSelected,selectedAnswers=selected;let iconStyles;let args={size:24,color:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.white,icon:{path:"",height:1,width:1}};return showCorrectness?(iconStyles=[styles.markerGraded,"correct"===showCorrectness?styles.markerCorrect:styles.markerIncorrect,isOpen&&styles.markerSelected],args={...args,icon:"correct"===showCorrectness?_icon_paths__WEBPACK_IMPORTED_MODULE_6__.iconCheck:_icon_paths__WEBPACK_IMPORTED_MODULE_6__.iconMinus}):selectedAnswers&&selectedAnswers.length>0?iconStyles=[styles.markerFilled,isOpen&&styles.markerSelected]:isOpen?(iconStyles=[styles.markerSelected],args={...args,icon:_icon_paths__WEBPACK_IMPORTED_MODULE_6__.iconChevronDown,size:8}):showPulsate&&(iconStyles=[styles.markerPulsateBase,shouldReduceMotion()?showPulsate&&styles.markerUnfilledPulsateOnce:showPulsate&&styles.markerUnfilledPulsateInfinite]),react__WEBPACK_IMPORTED_MODULE_4__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_1__.G7,{style:[styles.markerIcon,iconStyles],ref:node=>this._icon=node},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_icon__WEBPACK_IMPORTED_MODULE_5__.Z,args))}render(){const{showCorrectness,selected,showAnswer,answerSide,answerStyles,hovered,focused,label}=this.props,markerDisabled="correct"===showCorrectness,active=hovered||focused;return react__WEBPACK_IMPORTED_MODULE_4__.createElement(react__WEBPACK_IMPORTED_MODULE_4__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_1__.G7,{style:[styles.marker,active&&!markerDisabled&&styles.markerActive],"aria-label":markerDisabled?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_2__._("Correct!"):label},this.renderIcon()),!!selected&&showAnswer&&react__WEBPACK_IMPORTED_MODULE_4__.createElement(_answer_pill__WEBPACK_IMPORTED_MODULE_7__.w,{selectedAnswers:selected,showCorrectness,side:answerSide,style:answerStyles,markerRef:this._icon??void 0,hovered,focused}))}}const styles=aphrodite__WEBPACK_IMPORTED_MODULE_3__.StyleSheet.create({marker:{position:"absolute",backgroundColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.white,borderRadius:24,width:24,height:24,marginLeft:-12,marginTop:-12,boxShadow:`0 8px 8px ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.offBlack8}`},markerIcon:{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:24,height:24,border:`2px solid ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.offBlack64}`,borderRadius:24},markerPulsateBase:{animationName:{"0%":{transform:"scale(1)",backgroundColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.blue},"100%":{transform:"scale(1.3)",backgroundColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.blue}},animationDirection:"alternate",animationDuration:"0.8s",animationTimingFunction:"ease-in",transformOrigin:"50% 50%",animationIterationCount:"0"},markerUnfilledPulsateInfinite:{animationIterationCount:"infinite"},markerUnfilledPulsateOnce:{animationIterationCount:"2"},markerActive:{outline:`2px solid ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.blue}`,outlineOffset:2},markerSelected:{boxShadow:`0 8px 8px ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.offBlack8}`,border:`solid 4px ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.white}`,backgroundColor:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.blue,borderRadius:24,transform:"rotate(180deg)"},markerFilled:{backgroundColor:"#ECF3FE",border:`4px solid ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.blue}`},markerGraded:{width:24,height:24,justifyContent:"center",alignItems:"center",border:`2px solid ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.white}`},markerCorrect:{background:"#00880b"},markerIncorrect:{background:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.offBlack64}});try{marker.displayName="marker",marker.__docgenInfo={description:"",displayName:"marker",props:{answers:{defaultValue:null,description:"",name:"answers",required:!0,type:{name:"readonly string[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},selected:{defaultValue:{value:"[]"},description:"",name:"selected",required:!1,type:{name:"readonly string[]"}},showCorrectness:{defaultValue:null,description:"",name:"showCorrectness",required:!1,type:{name:"enum",value:[{value:'"correct"'},{value:'"incorrect"'}]}},focused:{defaultValue:null,description:"",name:"focused",required:!1,type:{name:"boolean"}},showSelected:{defaultValue:null,description:"",name:"showSelected",required:!0,type:{name:"boolean"}},showPulsate:{defaultValue:null,description:"",name:"showPulsate",required:!0,type:{name:"boolean"}},answerSide:{defaultValue:null,description:"",name:"answerSide",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'}]}},answerStyles:{defaultValue:null,description:"",name:"answerStyles",required:!1,type:{name:"any"}},showAnswer:{defaultValue:null,description:"",name:"showAnswer",required:!1,type:{name:"boolean"}},analytics:{defaultValue:null,description:"",name:"analytics",required:!1,type:{name:"{ onAnalyticsEvent: AnalyticsEventHandlerFn; }"}},hovered:{defaultValue:null,description:"",name:"hovered",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/label-image/marker.tsx#marker"]={docgenInfo:marker.__docgenInfo,name:"marker",path:"packages/perseus/src/widgets/label-image/marker.tsx#marker"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/matrix.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_number_input__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/components/number-input.tsx"),_components_simple_keypad_input__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/components/simple-keypad-input.tsx"),_components_text_input__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/components/text-input.tsx"),_interactive2_interactive_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/interactive2/interactive-util.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_renderer__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/perseus/src/util.ts"),_util_answer_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/perseus/src/util/answer-types.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const{assert}=_interactive2_interactive_util__WEBPACK_IMPORTED_MODULE_10__.default,{stringArrayOfSize}=_util__WEBPACK_IMPORTED_MODULE_13__.default,NORMAL_DIMENSIONS={INPUT_MARGIN:3,INPUT_HEIGHT:30,INPUT_WIDTH:40},KEYPAD_INPUT_DIMENSIONS={INPUT_MARGIN:4,INPUT_HEIGHT:36,INPUT_WIDTH:64};function getInputPath(row,column){return[""+row,""+column]}const getDefaultPath=function(){return getInputPath(0,0)},getRowFromPath=function(path){return assert(underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.isArray(path)&&2===path.length),+path[0]},getColumnFromPath=function(path){return assert(underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.isArray(path)&&2===path.length),+path[1]},getRefForPath=function(path){return"answer"+getRowFromPath(path)+","+getColumnFromPath(path)},getMatrixSize=function(matrix){const matrixSize=[1,1];return(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(matrix).each(((matrixRow,row)=>{let rowWidth=0;(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(matrixRow).each(((matrixCol,col)=>{null!=matrixCol&&matrixCol.toString().length&&(rowWidth=col+1)})),matrixSize[1]=Math.max(matrixSize[1],rowWidth),rowWidth>0&&(matrixSize[0]=Math.max(matrixSize[0],row+1))})),matrixSize};class Matrix extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0],apiOptions:_perseus_api__WEBPACK_IMPORTED_MODULE_11__._.defaults,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_};state={enterTheMatrix:0};componentDidMount(){this.cursorPosition=[0,0]}render(){let dimensions;dimensions=this.props.apiOptions.customKeypad?KEYPAD_INPUT_DIMENSIONS:NORMAL_DIMENSIONS;const{INPUT_MARGIN,INPUT_HEIGHT,INPUT_WIDTH}=dimensions,matrixSize=getMatrixSize(this.props.answers),maxRows=this.props.matrixBoardSize[0],maxCols=this.props.matrixBoardSize[1],cursorRow=this.props.cursorPosition[0],cursorCol=this.props.cursorPosition[1],highlightedRow=Math.max(cursorRow,matrixSize[0]-1),highlightedCol=Math.max(cursorCol,matrixSize[1]-1),bracketHeight=(highlightedRow+1)*(INPUT_HEIGHT+2*INPUT_MARGIN),bracketOffset=(highlightedCol+1)*(INPUT_WIDTH+2*INPUT_MARGIN),className=classnames__WEBPACK_IMPORTED_MODULE_3___default()({"perseus-matrix":!0,"static-mode":this.props.static,"the-matrix":this.state.enterTheMatrix>=5});return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className},this.props.prefix&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"matrix-prefix"},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_12__.Z,{content:this.props.prefix,linterContext:this.props.linterContext})),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"matrix-input"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"matrix-bracket bracket-left",style:{height:bracketHeight}}),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"matrix-bracket bracket-right",style:{height:bracketHeight,left:bracketOffset}}),(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(maxRows).times((row=>{const rowVals=this.props.answers[row];return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"matrix-row",key:row},(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(maxCols).times((col=>{const outside=row>highlightedRow||col>highlightedCol,inputProps={className:outside?"outside":"inside",ref:getRefForPath(getInputPath(row,col)),value:rowVals?rowVals[col]:null,style:{height:INPUT_HEIGHT,width:INPUT_WIDTH,margin:INPUT_MARGIN},disabled:this.props.apiOptions.readOnly,onFocus:()=>{this.cursorPosition=[row,col],this.props.onChange({cursorPosition:[row,col]},(()=>!1)),this._handleFocus(row,col)},onBlur:()=>{row===this.cursorPosition[0]&&col===this.cursorPosition[1]&&this.props.onChange({cursorPosition:[0,0]},(()=>!1)),this._handleBlur(row,col)},onKeyDown:e=>{this.handleKeyDown(row,col,e)},onChange:(value,cb)=>{this.onValueChange(row,col,value,cb)}};let MatrixInput;if(this.props.apiOptions.customKeypad){const style={margin:INPUT_MARGIN,minWidth:INPUT_WIDTH,minHeight:INPUT_HEIGHT,boxSizing:"border-box",backgroundColor:outside?"#f3f3f3":"#fff"};MatrixInput=react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_simple_keypad_input__WEBPACK_IMPORTED_MODULE_8__.Z,_extends({},inputProps,{style,scrollable:!0,keypadElement:this.props.keypadElement}))}else if(this.props.numericInput)MatrixInput=react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_number_input__WEBPACK_IMPORTED_MODULE_7__.Z,inputProps);else{const updatedProps={...inputProps,style:aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({input:{...inputProps.style,display:"inline-block",padding:0,backgroundColor:outside?"#f3f3f3":"#fff"}}).input};MatrixInput=react__WEBPACK_IMPORTED_MODULE_4__.createElement(_components_text_input__WEBPACK_IMPORTED_MODULE_9__.Z,updatedProps)}return react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{key:col,className:"matrix-input-field"},MatrixInput)})))}))),this.props.suffix&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"matrix-suffix"},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_12__.Z,{content:this.props.suffix,linterContext:this.props.linterContext})))}getInputPaths=()=>{const inputPaths=[],maxRows=this.props.matrixBoardSize[0],maxCols=this.props.matrixBoardSize[1];return(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(maxRows).times((row=>{(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(maxCols).times((col=>{const inputPath=getInputPath(row,col);inputPaths.push(inputPath)}))})),inputPaths};getGrammarTypeForPath=inputPath=>"number";_handleFocus=(row,col)=>{this.props.onFocus(getInputPath(row,col))};_handleBlur=(row,col)=>{this.props.onBlur(getInputPath(row,col))};focus=()=>(this.focusInputPath(getDefaultPath()),!0);focusInputPath=path=>{const inputID=getRefForPath(path);this.refs[inputID].focus()};blurInputPath=path=>{0===path.length&&(path=getDefaultPath());const inputID=getRefForPath(path);this.refs[inputID].blur()};getDOMNodeForPath=inputPath=>{const inputID=getRefForPath(inputPath);return react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs[inputID])};setInputValue=(inputPath,value,callback)=>{const row=getRowFromPath(inputPath),col=getColumnFromPath(inputPath);this.onValueChange(row,col,value,callback)};handleKeyDown=(row,col,e)=>{const maxRow=this.props.matrixBoardSize[0],maxCol=this.props.matrixBoardSize[1];let enterTheMatrix=null;const curInput=this.refs[getRefForPath(getInputPath(row,col))],curValueString=curInput.getStringValue(),cursorStartPosition=curInput.getSelectionStart(),cursorEndPosition=curInput.getSelectionEnd();let nextPath=null;if("ArrowUp"===e.key&&row>0?nextPath=getInputPath(row-1,col):"ArrowDown"===e.key&&row+1<maxRow?nextPath=getInputPath(row+1,col):"ArrowLeft"===e.key&&col>0?0===cursorStartPosition&&0===cursorEndPosition&&(nextPath=getInputPath(row,col-1)):"ArrowRight"===e.key&&col+1<maxCol?cursorStartPosition===curValueString.length&&(nextPath=getInputPath(row,col+1)):"Enter"===e.key?enterTheMatrix=this.state.enterTheMatrix+1:"Escape"===e.key&&(enterTheMatrix=0),nextPath){e.preventDefault();const input=this.refs[getRefForPath(nextPath)],valueLength=2*input.getStringValue().length;input.focus(),"ArrowRight"===e.key?input.setSelectionRange(0,0):input.setSelectionRange(valueLength,valueLength)}null!=enterTheMatrix&&this.setState({enterTheMatrix})};onValueChange=(row,column,value,cb)=>{const answers=this.props.answers.map((answer=>[...answer]));answers[row]||(answers[row]=[]),answers[row][column]=value,this.props.onChange({answers},cb),this.props.trackInteraction()};getUserInput=()=>({answers:this.props.answers});simpleValidate=rubric=>Matrix.validate(this.getUserInput(),rubric)}underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.extend(Matrix,{validate:function(state,rubric){const solution=rubric.answers,supplied=state.answers,solutionSize=getMatrixSize(solution),suppliedSize=getMatrixSize(supplied),incorrectSize=solutionSize[0]!==suppliedSize[0]||solutionSize[1]!==suppliedSize[1],createValidator=_util_answer_types__WEBPACK_IMPORTED_MODULE_14__.Z.number.createValidatorFunctional;let message=null,hasEmptyCell=!1,incorrect=!1;return(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(suppliedSize[0]).times((row=>{(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(suppliedSize[1]).times((col=>{if(null!=supplied[row][col]&&0!==supplied[row][col].toString().length||(hasEmptyCell=!0),!incorrectSize){const result=createValidator(solution[row][col],{simplify:!0})(supplied[row][col]);result.message&&(message=result.message),result.correct||(incorrect=!0)}}))})),hasEmptyCell?{type:"invalid",message:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Make sure you fill in all cells in the matrix.")}:incorrectSize?{type:"points",earned:0,total:1,message:null}:{type:"points",earned:incorrect?0:1,total:1,message}}});const __WEBPACK_DEFAULT_EXPORT__={name:"matrix",displayName:"Matrix",widget:Matrix,transform:editorProps=>{const blankAnswers=(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(editorProps.matrixBoardSize[0]).times((function(){return stringArrayOfSize(editorProps.matrixBoardSize[1])}));return editorProps=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.pick(editorProps,"matrixBoardSize","prefix","suffix"),underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.extend(editorProps,{answers:blankAnswers})},staticTransform:editorProps=>{const widgetProps=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.pick(editorProps,"matrixBoardSize","prefix","suffix");return widgetProps.answers=underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.map(editorProps.answers,(row=>underscore__WEBPACK_IMPORTED_MODULE_6__.ZP.map(row,(cell=>null!=cell?String(cell):"")))),widgetProps},isLintable:!0}},"./packages/perseus/src/widgets/numeric-input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Af:()=>NumericInput,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/perseus-linter/src/index.ts"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_input_with_examples__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/components/input-with-examples.tsx"),_components_simple_keypad_input__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/components/simple-keypad-input.tsx"),_perseus_api__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_tex_wrangler__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/tex-wrangler.ts"),_util_answer_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/util/answer-types.ts"),_util_math__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/util/math.ts");const ParseTex=_tex_wrangler__WEBPACK_IMPORTED_MODULE_8__.Z.parseTex,answerFormButtons=[{title:"Integers",value:"integer",content:"6"},{title:"Decimals",value:"decimal",content:"0.75"},{title:"Proper fractions",value:"proper",content:"⅗"},{title:"Improper fractions",value:"improper",content:"⁷⁄₄"},{title:"Mixed numbers",value:"mixed",content:"1¾"},{title:"Numbers with π",value:"pi",content:"π"}],formExamples={integer:()=>_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("an integer, like $6$"),proper:form=>"optional"===form.simplify?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a *proper* fraction, like $1/2$ or $6/10$"):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a *simplified proper* fraction, like $3/5$"),improper:form=>"optional"===form.simplify?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("an *improper* fraction, like $10/7$ or $14/8$"):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a *simplified improper* fraction, like $7/4$"),mixed:()=>_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a mixed number, like $1\\ 3/4$"),decimal:()=>_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("an *exact* decimal, like $0.75$"),pi:()=>_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("a multiple of pi, like $12\\ \\text{pi}$ or $2/3\\ \\text{pi}$")};class NumericInput extends react__WEBPACK_IMPORTED_MODULE_3__.Component{static defaultProps={currentValue:"",size:"normal",rightAlign:!1,apiOptions:_perseus_api__WEBPACK_IMPORTED_MODULE_7__._.defaults,coefficient:!1,answerForms:[],labelText:"",linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_0__.j_};static getUserInputFromProps(props){return{currentValue:props.currentValue}}static getOneCorrectAnswerFromRubric(rubric){const answerStrings=rubric.answers.filter((answer=>"correct"===answer.status)).map((answer=>{let format="decimal";answer.answerForms&&answer.answerForms[0]&&(format=answer.answerForms[0]);let answerString=_util_math__WEBPACK_IMPORTED_MODULE_10__.ZP.toNumericString(answer.value,format);return answer.maxError&&(answerString+=" ± "+_util_math__WEBPACK_IMPORTED_MODULE_10__.ZP.toNumericString(answer.maxError,format)),answerString}));if(0!==answerStrings.length)return answerStrings[0]}static validate(userInput,rubric){const defaultAnswerForms=answerFormButtons.map((e=>e.value)).filter((e=>"pi"!==e)),createValidator=answer=>{const stringAnswer=`${answer.value}`,validatorForms=[...answer.answerForms??[]];return answer.strict&&0!==validatorForms.length||validatorForms.push(...defaultAnswerForms),_util_answer_types__WEBPACK_IMPORTED_MODULE_9__.Z.number.createValidatorFunctional(stringAnswer,{message:answer.message,simplify:"correct"===answer.status?answer.simplify:"optional",inexact:!0,maxError:answer.maxError,forms:validatorForms})},currentValue=ParseTex(userInput.currentValue),correctAnswers=rubric.answers.filter((answer=>"correct"===answer.status)),normalizedAnswerExpected=correctAnswers.every((answer=>Math.abs(answer.value)<=1));let result=correctAnswers.map((answer=>{let localValue=currentValue;rubric.coefficient&&(localValue?"-"===localValue&&(localValue=-1):localValue=1);return createValidator(answer)(maybeParsePercentInput(localValue,normalizedAnswerExpected))})).find((match=>match.correct||match.empty));if(!result){const match=[].concat(rubric.answers.filter((answer=>"ungraded"===answer.status)),rubric.answers.filter((answer=>"wrong"===answer.status))).find((answer=>createValidator(answer)(maybeParsePercentInput(currentValue,normalizedAnswerExpected)).correct));result={empty:!!match&&"ungraded"===match.status,correct:!!match&&"correct"===match.status,message:match?match.message:null,guess:currentValue}}return result.empty?{type:"invalid",message:result.message}:{type:"points",earned:result.correct?1:0,total:1,message:result.message}}state={previousValues:[""]};examples=()=>{const forms=0!==this.props.answerForms?.length?this.props.answerForms:Object.keys(formExamples).map((name=>({name,simplify:"required"})));let examples=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map(forms,(form=>formExamples[form.name](form)));return examples=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.uniq(examples),[_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("**Your answer should be** ")].concat(examples)};shouldShowExamples=()=>{const noFormsAccepted=0===this.props.answerForms?.length,allFormsAccepted=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.uniq(this.props.answerForms?.map((form=>form.name))).length>=Object.keys(formExamples).length;return!noFormsAccepted&&!allFormsAccepted};simpleValidate=rubric=>NumericInput.validate(this.getUserInput(),rubric);focus=()=>(this.inputRef?.focus(),!0);focusInputPath=()=>{this.inputRef?.focus()};blurInputPath=()=>{this.inputRef?.blur()};getInputPaths=()=>[[]];getGrammarTypeForPath=inputPath=>"number";setInputValue=(path,newValue,cb)=>{this.props.onChange({currentValue:newValue},cb)};getUserInput=()=>NumericInput.getUserInputFromProps(this.props);handleChange=(newValue,cb)=>{this.props.onChange({currentValue:newValue},cb),this.props.trackInteraction()};_handleFocus=()=>{this.props.onFocus([])};_handleBlur=()=>{this.props.onBlur([])};render(){let labelText=this.props.labelText;null!=labelText&&""!==labelText||(labelText=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Your answer:"));const maybeRightAlignKeypadInput=keypadInput=>this.props.rightAlign?react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"perseus-input-right-align"},keypadInput):keypadInput;if(this.props.apiOptions.customKeypad)return maybeRightAlignKeypadInput(react__WEBPACK_IMPORTED_MODULE_3__.createElement(_components_simple_keypad_input__WEBPACK_IMPORTED_MODULE_6__.Z,{ref:ref=>this.inputRef=ref,value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur}));const styles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({input:{textAlign:this.props.rightAlign?"right":"left",width:"small"===this.props.size?40:80,padding:0,height:"auto"}});return react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_3__.createElement(_components_input_with_examples__WEBPACK_IMPORTED_MODULE_5__.Z,{ref:ref=>this.inputRef=ref,value:this.props.currentValue,onChange:this.handleChange,labelText,type:"text",examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly,style:styles.input}))}}const unionAnswerForms=function(answerFormsList){const allForms=answerFormsList.flat(),uniqueForms=(list=allForms,iteratee=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.isEqual,list.reduce(((uniqueList,element)=>underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.find(uniqueList,iteratee.bind(null,element))?uniqueList:uniqueList.concat([element])),[]));var list,iteratee;const formExampleKeys=Object.keys(formExamples);return underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.sortBy(uniqueForms,(form=>formExampleKeys.indexOf(form.name)))};function maybeParsePercentInput(inputValue,normalizedAnswerExpected){if("string"!=typeof inputValue||!inputValue.endsWith("%"))return inputValue;const value=parseFloat(inputValue.slice(0,-1));return isNaN(value)?inputValue:normalizedAnswerExpected?value/100:value}const __WEBPACK_DEFAULT_EXPORT__={name:"numeric-input",displayName:"Numeric input",defaultAlignment:"inline-block",accessible:!0,widget:NumericInput,transform:function(widgetOptions){return underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.extend(underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.omit(widgetOptions,"answers"),{answerForms:unionAnswerForms(widgetOptions.answers.map((answer=>underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map(answer.answerForms,(form=>({simplify:answer.simplify,name:form}))))))})},isLintable:!0};try{NumericInput.displayName="NumericInput",NumericInput.__docgenInfo={description:"",displayName:"NumericInput",props:{answers:{defaultValue:null,description:"",name:"answers",required:!0,type:{name:"readonly PerseusNumericInputAnswer[]"}},labelText:{defaultValue:{value:""},description:"",name:"labelText",required:!1,type:{name:"string"}},size:{defaultValue:{value:"normal"},description:"",name:"size",required:!1,type:{name:"string"}},coefficient:{defaultValue:{value:"false"},description:"",name:"coefficient",required:!1,type:{name:"boolean"}},rightAlign:{defaultValue:{value:"false"},description:"",name:"rightAlign",required:!1,type:{name:"boolean"}},static:{defaultValue:null,description:"",name:"static",required:!0,type:{name:"boolean"}},answerForms:{defaultValue:{value:"[]"},description:"",name:"answerForms",required:!1,type:{name:"readonly PerseusNumericInputAnswerForm[]"}},widgetId:{defaultValue:null,description:"",name:"widgetId",required:!0,type:{name:"string"}},alignment:{defaultValue:null,description:"",name:"alignment",required:!0,type:{name:"string | null | undefined"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!0,type:{name:"number | null | undefined"}},apiOptions:{defaultValue:{value:'{\n        isArticle: false,\n        isMobile: false,\n        onInputError: function () {},\n        onFocusChange: function () {},\n        GroupMetadataEditor: StubTagEditor,\n        showAlignmentOptions: false,\n        readOnly: false,\n        groupAnnotator: function (): null {\n            return null;\n        },\n        baseElements: {\n            Link: (\n                props: any,\n            ): React.ReactElement<React.ComponentProps<"a">> => {\n                return <a {...props} />;\n            },\n        },\n        setDrawingAreaAvailable: function () {},\n        useDraftEditor: false,\n        canScrollPage: false,\n        inModal: false,\n        crossOutEnabled: false,\n        editorChangeDelay: 0,\n    } as APIOptionsWithDefaults'},description:"",name:"apiOptions",required:!1,type:{name:"Readonly<Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"(blurPath: FocusPath) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"(blurPath: FocusPath) => void"}},findWidgets:{defaultValue:null,description:"",name:"findWidgets",required:!0,type:{name:"(arg1: FilterCriterion) => readonly any[]"}},reviewModeRubric:{defaultValue:null,description:"",name:"reviewModeRubric",required:!0,type:{name:"PerseusNumericInputWidgetOptions"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}},trackInteraction:{defaultValue:null,description:"",name:"trackInteraction",required:!0,type:{name:"(extraData?: Empty | undefined) => void"}},isLastUsedWidget:{defaultValue:null,description:"",name:"isLastUsedWidget",required:!0,type:{name:"boolean"}},linterContext:{defaultValue:{value:'{\n    contentType: "",\n    highlightLint: false,\n    paths: [] as ReadonlyArray<any>,\n    stack: [] as ReadonlyArray<any>,\n}'},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},containerSizeClass:{defaultValue:null,description:"",name:"containerSizeClass",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}},currentValue:{defaultValue:{value:""},description:"",name:"currentValue",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/numeric-input.tsx#NumericInput"]={docgenInfo:NumericInput.__docgenInfo,name:"NumericInput",path:"packages/perseus/src/widgets/numeric-input.tsx#NumericInput"})}catch(__react_docgen_typescript_loader_error){}try{unionAnswerForms.displayName="unionAnswerForms",unionAnswerForms.__docgenInfo={description:"",displayName:"unionAnswerForms",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/numeric-input.tsx#unionAnswerForms"]={docgenInfo:unionAnswerForms.__docgenInfo,name:"unionAnswerForms",path:"packages/perseus/src/widgets/numeric-input.tsx#unionAnswerForms"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/passage-ref.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_mixins_changeable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/mixins/changeable.ts"),_mixins_widget_prop_denylist__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/mixins/widget-prop-denylist.ts"),_perseus_markdown__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/perseus/src/perseus-markdown.tsx");class PassageRef extends react__WEBPACK_IMPORTED_MODULE_1__.Component{displayName="PassageRef";static defaultProps={passageNumber:1,referenceNumber:1,summaryText:""};state={lineRange:null,content:null};shouldComponentUpdate(nextProps,nextState){return!underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.isEqual(this.props,nextProps)||!underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.isEqual(this.state,nextState)}getUserInput=()=>(0,_mixins_widget_prop_denylist__WEBPACK_IMPORTED_MODULE_5__.I)(this.props);render(){const lineRange=this.state.lineRange;let lineRangeOutput,summaryOutput;if(lineRangeOutput=lineRange?lineRange[0]===lineRange[1]?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__.$_("line %(lineNumber)s",{lineNumber:lineRange[0]}):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__.$_("lines %(lineRange)s",{lineRange:lineRange[0]+"–"+lineRange[1]}):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__.$_("lines %(lineRange)s",{lineRange:"?–?"}),this.props.summaryText){const summaryTree=_perseus_markdown__WEBPACK_IMPORTED_MODULE_4__.Z.parseInline(this.props.summaryText);summaryOutput=react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{"aria-hidden":!0}," ","(“",_perseus_markdown__WEBPACK_IMPORTED_MODULE_4__.Z.basicOutput(summaryTree),"”)")}else summaryOutput=null;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",null,lineRangeOutput,summaryOutput,lineRange&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"perseus-sr-only"},this.state.content))}change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _mixins_changeable__WEBPACK_IMPORTED_MODULE_3__.m.apply(_this,args)}})();componentDidMount(){this._isMounted=!0,this._deferredUpdateRange(),this._throttledUpdateRange=underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.throttle(this._deferredUpdateRange,500),window.addEventListener("resize",this._throttledUpdateRange)}componentDidUpdate(){this._deferredUpdateRange()}componentWillUnmount(){window.removeEventListener("resize",this._throttledUpdateRange),this._isMounted=!1}_deferredUpdateRange=()=>{underscore__WEBPACK_IMPORTED_MODULE_2__.ZP.defer(this._updateRange)};_updateRange=()=>{const passage=this.props.findWidgets("passage "+this.props.passageNumber)[0];let refInfo=null;passage&&(refInfo=passage.getReference(this.props.referenceNumber)),this._isMounted&&(refInfo?this.setState({lineRange:[refInfo.startLine,refInfo.endLine],content:refInfo.content}):this.setState({lineRange:null,content:null}))};simpleValidate=rubric=>PassageRef.validate(this.getUserInput(),rubric);static validate(userInput,rubric){return{type:"points",earned:0,total:0,message:null}}}const __WEBPACK_DEFAULT_EXPORT__={name:"passage-ref",displayName:"PassageRef (SAT only)",defaultAlignment:"inline",widget:PassageRef,transform:widgetOptions=>({passageNumber:widgetOptions.passageNumber,referenceNumber:widgetOptions.referenceNumber,summaryText:widgetOptions.summaryText}),version:{major:0,minor:1}}},"./packages/perseus/src/widgets/plotter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_interactive2__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/interactive2.ts"),_interactive2_wrapped_line__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/interactive2/wrapped-line.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/util.ts"),_util_colors__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/util/colors.ts"),_util_graph_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/util/graph-utils.ts"),_util_math__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/perseus/src/util/math.ts");const{deepEq}=_util__WEBPACK_IMPORTED_MODULE_8__.default;class Plotter extends react__WEBPACK_IMPORTED_MODULE_2__.Component{_isMounted=!1;static defaultProps={type:"bar",labels:["",""],categories:[""],scaleY:1,maxY:10,snapsPerLine:2,picSize:40,picBoxHeight:48,picUrl:"",plotDimensions:[380,300],labelInterval:1};state={values:this.props.starting||[1],categoryHeights:{}};componentDidMount(){this._isMounted=!0,this.setupGraphie(this.state)}UNSAFE_componentWillReceiveProps(nextProps){this.shouldSetupGraphie=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.any(["type","labels","categories","scaleY","maxY","snapsPerLine","picUrl","labelInterval","static"],(prop=>!underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.isEqual(this.props[prop],nextProps[prop])),this),underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.isEqual(this.props.starting,nextProps.starting)||underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.isEqual(this.state.values,nextProps.starting)||(this.shouldSetupGraphie=!0,this.setState({values:nextProps.starting}))}componentDidUpdate(prevProps,prevState){this.shouldSetupGraphie=this.shouldSetupGraphie||!underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.isEqual(this.state.categoryHeights,prevState.categoryHeights),this.shouldSetupGraphie&&this.setupGraphie(prevState)}componentWillUnmount(){this._isMounted=!1}DOT_PLOT_POINT_SIZE=()=>this.props.apiOptions.isMobile?6:4;DOT_PLOT_POINT_PADDING=()=>8;DOT_TICK_POINT_SIZE=()=>2;setupGraphie=prevState=>{const self=this;self.shouldSetupGraphie=!1;const graphieDiv=react_dom__WEBPACK_IMPORTED_MODULE_3__.findDOMNode(self.refs.graphieDiv);jquery__WEBPACK_IMPORTED_MODULE_1___default()(graphieDiv).empty();const graphie=_util_graph_utils__WEBPACK_IMPORTED_MODULE_10__.Z.createGraphie(graphieDiv);self.graphie=graphie,self.graphie.pics=[],self.graphie.dotTicks=[];const isBar="bar"===self.props.type,isLine="line"===self.props.type,isPic="pic"===self.props.type,isHistogram="histogram"===self.props.type,isDotplot="dotplot"===self.props.type,isTiledPlot=isPic||isDotplot,config={},c=config,isMobile=this.props.apiOptions.isMobile;c.graph={lines:[],bars:[],points:[],dividers:[]},c.scaleY=self.props.scaleY,c.dimX=self.props.categories.length;const plotDimensions=isMobile?[288,336]:self.props.plotDimensions;if(isLine)c.dimX+=isMobile?-.2:1;else if(isHistogram)c.barPad=0,c.barWidth=1;else if(isBar)c.barPad=isMobile?.08:.15,c.barWidth=1-2*c.barPad,c.dimX+=(isMobile?-2:2)*c.barPad;else if(isTiledPlot){c.picBoxHeight=self.props.picBoxHeight,c.picBoxWidthPx=plotDimensions[0]/self.props.categories.length;const picPadAllWidth=plotDimensions[0]-c.dimX*c.picBoxWidthPx;c.picPad=picPadAllWidth/(2*c.dimX+2);const picFullWidth=c.picBoxWidthPx+2*c.picPad;c.picPad=c.picPad/picFullWidth,c.picBoxWidth=c.picBoxWidthPx/picFullWidth,c.dimX+=2*c.picPad}isDotplot&&(c.picBoxHeight=2*this.DOT_PLOT_POINT_SIZE()+this.DOT_PLOT_POINT_PADDING()),c.dimY=Math.ceil(self.props.maxY/c.scaleY)*c.scaleY;let padX=25;(isBar||isLine)&&isMobile&&(padX=0!==self.props.labels[1].length?17:11),isDotplot&&(padX/=2),isMobile&&isTiledPlot&&0===self.props.labels[1].length&&(padX=0);let padTop=25,padBottom=75;if(isMobile&&(isBar||isTiledPlot)){const maxCategoryHeight=Math.max(0,...Object.values(self.state.categoryHeights));if(maxCategoryHeight){let offsetY=25;isTiledPlot&&(offsetY+=10),padBottom=offsetY+maxCategoryHeight}}if(c.scale=isMobile?[(plotDimensions[0]-4*padX)/c.dimX,(plotDimensions[1]-(padTop+padBottom))/c.dimY]:underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map([c.dimX,c.dimY],(function(dim,i){return plotDimensions[i]/dim})),isTiledPlot&&(c.scale[1]=c.picBoxHeight/c.scaleY),padX/=c.scale[0],padTop/=c.scale[1],padBottom/=c.scale[1],graphie.init({range:[[-3*padX,c.dimX+padX],[-padBottom,c.dimY+padTop]],scale:c.scale,isMobile:this.props.apiOptions.isMobile}),graphie.addMouseLayer({allowScratchpad:!0,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}),!isTiledPlot){for(let y=isMobile?c.scaleY:0;y<=c.dimY;y+=c.scaleY)graphie.label([0,y],_util_math__WEBPACK_IMPORTED_MODULE_11__.ZP.roundToApprox(y,2),"left",!0),graphie.style({stroke:isMobile?"#e9ebec":"#000",strokeWidth:1,opacity:isMobile?1:.3},(function(){graphie.line([0,y],[c.dimX,y])}))}(isBar||isLine)&&isMobile&&!this.props.static&&(self.graphie.dragPrompt=graphie.label([c.dimX/2,c.dimY/2],_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Drag handles to make graph"),"center",!1).css("font-weight","bold").css("color",_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.KA_GREEN).css("display","none")),self.setupCategories(config),isTiledPlot&&isMobile&&(self.graphie.dotPrompt=graphie.label([c.dimX/2,c.dimY/2],_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("Tap to add points"),"center",!1).css("font-weight","bold").css("color",_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.KA_GREEN).css("display","none")),isTiledPlot&&self.drawPicHeights(self.state.values,prevState.values),graphie.style({stroke:"#000",strokeWidth:2,opacity:1},(function(){isTiledPlot?isDotplot?graphie.style({stroke:isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.GRAY_G:"#000",strokeWidth:isMobile?1:2},(()=>graphie.line([isMobile?0:.5,0],[c.dimX-(isMobile?0:.5),0]))):(graphie.line([0,0],[c.dimX,0]),0===self.props.labels[1].length&&isMobile||graphie.style({stroke:isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.GRAY_G:"#000",strokeWidth:isMobile?1:2},(()=>graphie.line([0,0],[0,c.dimY])))):(graphie.style({stroke:isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.GRAY_G:"#000",strokeWidth:isMobile?1:2},(()=>graphie.line([isMobile?3*-padX:0,0],[c.dimX+(isMobile?padX:0),0]))),(isBar||isLine)&&isMobile||graphie.style({stroke:isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.GRAY_G:"#000",strokeWidth:isMobile?1:2},(()=>graphie.line([0,0],[0,c.dimY]))))})),graphie.label([c.dimX/2,isMobile?-padBottom:-35/c.scale[1]],self.props.labels[0],isMobile?"above":"below",!1).css("font-weight","bold").css("color",isMobile&&_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.GRAY_F),graphie.label([(isMobile?-35:-60)/c.scale[0],c.dimY/2],self.props.labels[1],"center",!1).css("font-weight","bold").css("color",isMobile&&_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.GRAY_F).addClass("rotate"),this.props.apiOptions.isMobile&&(this.horizHairline=new _interactive2_wrapped_line__WEBPACK_IMPORTED_MODULE_6__.Z(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}}),this.horizHairline.attr({stroke:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.INTERACTIVE}),this.horizHairline.hide(),this.hairlineRange=[[0,c.dimX],[0,c.dimY]])};showHairlines=point=>{this.props.apiOptions.isMobile&&(this.horizHairline.moveTo([this.hairlineRange[0][0],point[1]],[this.hairlineRange[0][1],point[1]]),this.horizHairline.show())};hideHairlines=()=>{this.props.apiOptions.isMobile&&this.horizHairline.hide()};labelCategory=(x,category)=>{const isMobile=this.props.apiOptions.isMobile,graphie=this.graphie;let isTeX=!1;const mathyCategory=(category+="").match(/^\$(.*)\$$/);mathyCategory&&(category=mathyCategory[1],isTeX=!0);const rotationRad=Math.PI/180*45,shouldRotate=isMobile&&!mathyCategory;return new Promise((resolve=>{graphie.style({color:isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.GRAY_G:"inherit",transform:shouldRotate?"translateX(-50%) translateX(5px) translateY(-50%) rotate(-45deg)":"none",transformOrigin:"100%"},(()=>{const $span=graphie.label([x,isMobile?-.5:0],category,"below",isTeX),height=14+(shouldRotate?Math.round($span.height()*Math.cos(rotationRad)+($span.width()+5)*Math.sin(rotationRad)):$span.height());resolve({category,height})}))}))};setupCategories=config=>{const self=this,c=config,graphie=self.graphie,isMobile=this.props.apiOptions.isMobile,categoryHeightPromises=[];"histogram"===self.props.type?(underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.times(self.props.categories.length-1,(function(i){self.setupBar({index:i,startHeight:self.state.values[i],config,isHistogram:!0})})),underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.each(self.props.categories,(function(category,i){const x=.5+i*c.barWidth;categoryHeightPromises.push(self.labelCategory(x,category));const tickHeight=6/c.scale[1];graphie.style({stroke:"#000",strokeWidth:isMobile?1:2,opacity:1},(function(){graphie.line([x,-tickHeight],[x,0])}))}))):underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.each(self.props.categories,(function(category,i){const startHeight=self.state.values[i];let x;"bar"===self.props.type?x=self.setupBar({index:i,startHeight,config,isHistogram:!1}):"line"===self.props.type?x=self.setupLine(i,startHeight,config):"pic"===self.props.type?x=self.setupPic(i,config):"dotplot"===self.props.type&&(x=self.setupDotplot(i,config));let tickStart=0,tickEnd=-6/c.scale[1];"dotplot"!==self.props.type||isMobile||(tickStart=-tickEnd),"dotplot"===self.props.type?i%self.props.labelInterval!=0&&i!==self.props.categories.length-1||(categoryHeightPromises.push(self.labelCategory(x,category)),tickStart*=1.5,tickEnd*=1.5):categoryHeightPromises.push(self.labelCategory(x,category)),graphie.style({stroke:isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.GRAY_G:"#000",strokeWidth:isMobile?1:2,opacity:1},(function(){graphie.line([x,tickStart],[x,tickEnd])}))})),Promise.all(categoryHeightPromises).then((measurements=>{if(self._isMounted){const categoryHeights={};measurements.forEach((_ref=>{let{category,height}=_ref;return categoryHeights[category]=height})),self.setState({categoryHeights})}}))};_clampValue=(v,min,max)=>Math.max(Math.min(v,max),min);_maybeShowDragPrompt=()=>{null!=this.graphie.dragPrompt&&(this.graphie.dragPrompt[0].style.display="inline")};_maybeHideDragPrompt=()=>{null!=this.graphie.dragPrompt&&(this.graphie.dragPrompt[0].style.display="none")};setupBar=args=>{const isMobile=this.props.apiOptions.isMobile,i=args.index,startHeight=args.startHeight,config=args.config,isHistogram=args.isHistogram,self=this,graphie=self.graphie,barHalfWidth=config.barWidth/2;let x;x=isHistogram?.5+i*config.barWidth+barHalfWidth:(isMobile?barHalfWidth:.5+config.barPad)+i;const scaleBar=function(i,height){const center=graphie.scalePoint(0);if(config.graph.bars[i].scale(1,Math.max(isMobile?.2:.01,height/config.scaleY),center[0],center[1]),isHistogram){const leftDivider=config.graph.dividers[i-1],rightDivider=config.graph.dividers[i];if(leftDivider){const divHeight=Math.min(self.state.values[i-1],height);leftDivider.scale(1,Math.max(.01,divHeight/config.scaleY),center[0],center[1])}if(rightDivider){const divHeight=Math.min(self.state.values[i+1],height);rightDivider.scale(1,Math.max(.01,divHeight/config.scaleY),center[0],center[1])}}};if(graphie.style({stroke:"none",fill:isMobile?_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.BLUE_C:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.LIGHT_BLUE,opacity:1},(function(){config.graph.bars[i]=graphie.path([[x-barHalfWidth,0],[x-barHalfWidth,config.scaleY],[x+barHalfWidth,config.scaleY],[x+barHalfWidth,0],[x-barHalfWidth,0]])})),isHistogram&&i>0&&graphie.style({stroke:"#000",strokeWidth:1,opacity:.3},(function(){config.graph.dividers.push(graphie.path([[x-barHalfWidth,0],[x-barHalfWidth,config.scaleY]]))})),isMobile){const snap=config.scaleY/self.props.snapsPerLine;config.graph.lines[i]=_interactive2__WEBPACK_IMPORTED_MODULE_5__.Z.addMaybeMobileMovablePoint(this,{coord:[x,startHeight],constraints:[(coord,prev,options)=>[x,this._clampValue(Math.round(coord[1]/snap)*snap,0,config.dimY)]],onMoveStart:function(){config.graph.bars[i].attr({fill:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.INTERACTIVE})},onMove:function(){const y=config.graph.lines[i].coord()[1],values=[...self.state.values];values[i]=y,self.setState({values}),self.changeAndTrack({values}),self._maybeHideDragPrompt(),scaleBar(i,y)},onMoveEnd:function(){config.graph.bars[i].attr({fill:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.BLUE_C})}}),config.graph.lines[i].state.visibleShape.wrapper.style.zIndex="1",self._maybeShowDragPrompt()}else config.graph.lines[i]=graphie.addMovableLineSegment({coordA:[x-barHalfWidth,startHeight],coordZ:[x+barHalfWidth,startHeight],snapY:config.scaleY/self.props.snapsPerLine,constraints:{constrainX:!0},normalStyle:{stroke:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.INTERACTIVE,"stroke-width":this.props.static?0:4}}),config.graph.lines[i].onMove=function(dx,dy){let y=this.coordA[1];(y<0||y>config.dimY)&&(y=Math.min(Math.max(y,0),config.dimY),this.coordA[1]=this.coordZ[1]=y,this.transform());const values=[...self.state.values];values[i]=y,self.setState({values}),self.changeAndTrack({values}),scaleBar(i,y)};return scaleBar(i,startHeight),x};setupLine=(i,startHeight,config)=>{const isMobile=this.props.apiOptions.isMobile,self=this,c=config,graphie=self.graphie,x=i+(isMobile?.4:1);if(isMobile){const snap=config.scaleY/self.props.snapsPerLine;c.graph.points[i]=_interactive2__WEBPACK_IMPORTED_MODULE_5__.Z.addMaybeMobileMovablePoint(this,{coord:[x,startHeight],constraints:[(coord,prev,options)=>[x,this._clampValue(Math.round(coord[1]/snap)*snap,0,config.dimY)]],onMove:function(){const y=c.graph.points[i].coord()[1],values=[...self.state.values];values[i]=y,self.setState({values}),self.changeAndTrack({values}),self._maybeHideDragPrompt()}}),self._maybeShowDragPrompt(),i>0&&(c.graph.lines[i]=_interactive2__WEBPACK_IMPORTED_MODULE_5__.Z.addMovableLine(graphie,{points:[c.graph.points[i-1],c.graph.points[i]],constraints:_interactive2__WEBPACK_IMPORTED_MODULE_5__.Z.MovablePoint.constraints.fixed(),normalStyle:{stroke:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.BLUE_C,"stroke-width":2},highlightStyle:{stroke:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.BLUE_C,"stroke-width":2}}))}else c.graph.points[i]=graphie.addMovablePoint({coord:[x,startHeight],constraints:{constrainX:!0},normalStyle:{fill:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.INTERACTIVE,stroke:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.INTERACTIVE},snapY:c.scaleY/self.props.snapsPerLine}),c.graph.points[i].onMove=function(x,y){y=Math.min(Math.max(y,0),c.dimY);const values=[...self.state.values];return values[i]=y,self.setState({values}),self.changeAndTrack({values}),[x,y]},i>0&&(c.graph.lines[i]=graphie.addMovableLineSegment({pointA:c.graph.points[i-1],pointZ:c.graph.points[i],constraints:{fixed:!0},normalStyle:{stroke:"#9ab8ed","stroke-width":2}}));return x};setupDotplot=(i,config)=>{const graphie=this.graphie,isMobile=this.props.apiOptions.isMobile;return this.setupTiledPlot(i,isMobile?.5:1,config,((x,y)=>graphie.ellipse([x,y],[this.DOT_PLOT_POINT_SIZE()/graphie.scale[0],this.DOT_PLOT_POINT_SIZE()/graphie.scale[1]],{fill:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.INTERACTIVE,stroke:_util_colors__WEBPACK_IMPORTED_MODULE_9__.Z.INTERACTIVE})))};setupPic=(i,config)=>{const graphie=this.graphie;return this.setupTiledPlot(i,0,config,((x,y)=>{const scaledCenter=graphie.scalePoint([x,y]),size=this.props.picSize;return graphie.raphael.image(this.props.picUrl,scaledCenter[0]-size/2,scaledCenter[1]-size/2,size,size)}))};setupTiledPlot=(i,bottomMargin,config,createImage)=>{const self=this,c=config,graphie=self.graphie,pics=graphie.pics,dotTicks=graphie.dotTicks,x=i+.5+c.picPad;graphie.mouselayer.canvas.style.touchAction="none",pics[i]=[],dotTicks[i]=[];const n=Math.round(c.dimY/c.scaleY)+1;return(0,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP)(n).times((function(j){const midY=((j-=1)+.5)*c.scaleY,leftX=x-c.picBoxWidth/2,topY=midY+.5*c.scaleY,coord=graphie.scalePoint([leftX,topY+bottomMargin]),mouseRect=graphie.mouselayer.rect(coord[0],coord[1],c.picBoxWidthPx,c.picBoxHeight);jquery__WEBPACK_IMPORTED_MODULE_1___default()(mouseRect[0]).css({fill:"#000",opacity:0,cursor:"pointer"}).on("vmousedown",(function(e){e.preventDefault(),self.whichPicClicked=i,self.setPicHeight(i,topY),jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).on("vmouseup.plotTile",(function(e){jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).unbind(".plotTile")})),jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).on("vmousemove.plotTile",(function(e){e.preventDefault();const yCoord=graphie.getMouseCoord(e)[1],adjustedCoord=Math.floor(yCoord-bottomMargin),newMidY=(Math.max(-1,Math.floor(adjustedCoord/c.scaleY))+.5)*c.scaleY,newTopY=Math.min(newMidY+.5*c.scaleY,c.dimY);self.setPicHeight(self.whichPicClicked,newTopY)}))})),j<0||(pics[i][j]=createImage(x,midY+bottomMargin),dotTicks[i][j]=graphie.ellipse([x,midY+bottomMargin],[self.DOT_TICK_POINT_SIZE()/graphie.scale[0],self.DOT_TICK_POINT_SIZE()/graphie.scale[1]],{fill:"#dee1e3",stroke:"#dee1e3"}))})),x};setPicHeight=(i,y)=>{const values=[...this.state.values];values[i]=y,this.drawPicHeights(values,this.state.values),this.setState({values}),this.changeAndTrack({values})};changeAndTrack=data=>{this.props.onChange(data),this.props.trackInteraction()};drawPicHeights=(values,prevValues)=>{const self=this,graphie=self.graphie,pics=graphie.pics,isMobile=this.props.apiOptions.isMobile;if(isMobile){const shouldDisplay=values.every((v=>0===v));graphie.dotPrompt[0].style.display=shouldDisplay?"inline":"none"}underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.each(pics,(function(ps,i){underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.each(ps,(function(pic,j){const y=(j+1)*self.props.scaleY,show=y<=values[i];if("dotplot"===self.props.type){const wasShown=y<=prevValues[i];show&&!wasShown&&pic.animate({"stroke-width":8},75,(()=>pic.animate({"stroke-width":2},75)))}jquery__WEBPACK_IMPORTED_MODULE_1___default()(pic[0]).css({display:show?"inline":"none"}),graphie.dotTicks[i][j][0].style.display=show||!isMobile?"none":"inline"}))}))};getUserInput=()=>this.state.values;simpleValidate=rubric=>Plotter.validate(this.getUserInput(),rubric);render(){const style={marginBottom:this.props.labels[0]?75:0};return react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:"perseus-widget-plotter graphie "+_perseus_api__WEBPACK_IMPORTED_MODULE_7__.m.INTERACTIVE,ref:"graphieDiv",style})}}underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.extend(Plotter,{validate:function(guess,rubric){return deepEq(guess,rubric.starting)?{type:"invalid",message:null}:{type:"points",earned:deepEq(guess,rubric.correct)?1:0,total:1,message:null}}});const staticTransform=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.identity,__WEBPACK_DEFAULT_EXPORT__={name:"plotter",displayName:"Plotter",widget:Plotter,staticTransform};try{Plotter.displayName="Plotter",Plotter.__docgenInfo={description:"",displayName:"Plotter",props:{labels:{defaultValue:{value:'["", ""]'},description:"",name:"labels",required:!1,type:{name:"readonly string[]"}},categories:{defaultValue:{value:'[""]'},description:"",name:"categories",required:!1,type:{name:"readonly string[]"}},type:{defaultValue:{value:"bar"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"line"'},{value:'"bar"'},{value:'"pic"'},{value:'"histogram"'},{value:'"dotplot"'}]}},maxY:{defaultValue:{value:"10"},description:"",name:"maxY",required:!1,type:{name:"number"}},scaleY:{defaultValue:{value:"1"},description:"",name:"scaleY",required:!1,type:{name:"number"}},labelInterval:{defaultValue:{value:"1"},description:"",name:"labelInterval",required:!1,type:{name:"number"}},snapsPerLine:{defaultValue:{value:"2"},description:"",name:"snapsPerLine",required:!1,type:{name:"number"}},starting:{defaultValue:null,description:"",name:"starting",required:!0,type:{name:"readonly number[]"}},correct:{defaultValue:null,description:"",name:"correct",required:!0,type:{name:"readonly number[]"}},picUrl:{defaultValue:{value:""},description:"",name:"picUrl",required:!1,type:{name:"string | null"}},picSize:{defaultValue:{value:"40"},description:"",name:"picSize",required:!1,type:{name:"number"}},picBoxHeight:{defaultValue:{value:"48"},description:"",name:"picBoxHeight",required:!1,type:{name:"number | null"}},plotDimensions:{defaultValue:{value:"[380, 300]"},description:"",name:"plotDimensions",required:!1,type:{name:"readonly number[]"}},widgetId:{defaultValue:null,description:"",name:"widgetId",required:!0,type:{name:"string"}},alignment:{defaultValue:null,description:"",name:"alignment",required:!0,type:{name:"string | null | undefined"}},static:{defaultValue:null,description:"",name:"static",required:!0,type:{name:"boolean | null | undefined"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!0,type:{name:"number | null | undefined"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"(blurPath: FocusPath) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"(blurPath: FocusPath) => void"}},findWidgets:{defaultValue:null,description:"",name:"findWidgets",required:!0,type:{name:"(arg1: FilterCriterion) => readonly any[]"}},reviewModeRubric:{defaultValue:null,description:"",name:"reviewModeRubric",required:!0,type:{name:"PerseusPlotterWidgetOptions"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}},trackInteraction:{defaultValue:null,description:"",name:"trackInteraction",required:!0,type:{name:"(extraData?: Empty | undefined) => void"}},isLastUsedWidget:{defaultValue:null,description:"",name:"isLastUsedWidget",required:!0,type:{name:"boolean"}},linterContext:{defaultValue:null,description:"",name:"linterContext",required:!0,type:{name:"LinterContextProps"}},containerSizeClass:{defaultValue:null,description:"",name:"containerSizeClass",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/plotter.tsx#Plotter"]={docgenInfo:Plotter.__docgenInfo,name:"Plotter",path:"packages/perseus/src/widgets/plotter.tsx#Plotter"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/radio.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>widgets_radio});var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),util=__webpack_require__("./packages/perseus/src/util.ts"),src=__webpack_require__("./packages/perseus-linter/src/index.ts"),react=__webpack_require__("./node_modules/react/index.js"),renderer=__webpack_require__("./packages/perseus/src/renderer.tsx"),passage_ref=__webpack_require__("./packages/perseus/src/widgets/passage-ref.tsx"),base_radio=__webpack_require__("./packages/perseus/src/widgets/radio/base-radio.tsx");class Radio extends react.Component{static defaultProps={choices:[],multipleSelect:!1,countChoices:!1,deselectEnabled:!1,linterContext:src.j_};static validate(userInput,rubric){const numSelected=userInput.choicesSelected.reduce(((sum,selected)=>sum+(selected?1:0)),0);if(0===numSelected)return{type:"invalid",message:null};if(userInput.numCorrect&&userInput.numCorrect>1&&numSelected!==userInput.numCorrect)return{type:"invalid",message:es._("Please choose the correct number of answers.")};if(userInput.noneOfTheAboveSelected&&numSelected>1)return{type:"invalid",message:es._("'None of the above' may not be selected when other answers are selected.")};return{type:"points",earned:userInput.choicesSelected.every(((selected,i)=>{let isCorrect;return isCorrect=userInput.noneOfTheAboveIndex===i?rubric.choices.every(((choice,j)=>i===j||!choice.correct)):!!rubric.choices[i].correct,isCorrect===selected}))?1:0,total:1,message:null}}static getUserInputFromProps(props){if(props.choiceStates){let noneOfTheAboveIndex=null,noneOfTheAboveSelected=!1;const choiceStates=props.choiceStates,choicesSelected=choiceStates.map((()=>!1)),countChoices=props.countChoices,numCorrect=props.numCorrect;for(let i=0;i<choicesSelected.length;i++){const index=props.choices[i].originalIndex;choicesSelected[index]=choiceStates[i].selected,props.choices[i].isNoneOfTheAbove&&(noneOfTheAboveIndex=index,choicesSelected[i]&&(noneOfTheAboveSelected=!0))}return{countChoices,choicesSelected,numCorrect,noneOfTheAboveIndex,noneOfTheAboveSelected}}const{values}=props;if(values){let noneOfTheAboveIndex=null,noneOfTheAboveSelected=!1;const choicesSelected=[...values],countChoices=props.countChoices,numCorrect=props.numCorrect,valuesLength=values.length;for(let i=0;i<valuesLength;i++){const index=props.choices[i].originalIndex;choicesSelected[index]=values[i],props.choices[i].isNoneOfTheAbove&&(noneOfTheAboveIndex=index,choicesSelected[i]&&(noneOfTheAboveSelected=!0))}return{choicesSelected,noneOfTheAboveIndex,noneOfTheAboveSelected,countChoices,numCorrect}}return{choicesSelected:props.choices.map((()=>!1))}}_renderRenderer=(()=>{var _this=this;return function(){let nextPassageRefId=1;const widgets={},modContent=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\{\{passage-ref (\d+) (\d+)(?: "([^"]*)")?\}\}/g,((match,passageNum,refNum,summaryText)=>{const widgetId="passage-ref "+nextPassageRefId;return nextPassageRefId++,widgets[widgetId]={type:"passage-ref",graded:!1,options:{passageNumber:parseInt(passageNum),referenceNumber:parseInt(refNum),summaryText},version:passage_ref.Z.version},"[["+util.default.snowman+" "+widgetId+"]]"}));return react.createElement(renderer.Z,{key:"choiceContentRenderer",content:modContent,widgets,findExternalWidgets:_this.props.findWidgets,alwaysUpdate:!0,linterContext:{..._this.props.linterContext,blockHighlight:!0}})}})();focus(choiceIndex){return!!this.focusFunction&&this.focusFunction(choiceIndex)}registerFocusFunction(fun){this.focusFunction=fun}updateChoices=newValueLists=>{const{choiceStates,choices}=this.props,newChoiceStates=choiceStates?choiceStates.map((state=>({...state}))):choices.map((()=>({selected:!1,crossedOut:!1,highlighted:!1,rationaleShown:!1,correctnessShown:!1,previouslyAnswered:!1,readOnly:!1})));newChoiceStates.forEach(((choiceState,i)=>{choiceState.selected=newValueLists.checked[i],choiceState.crossedOut=newValueLists.crossedOut[i]})),this.props.onChange({choiceStates:newChoiceStates}),this.props.trackInteraction()};getUserInput=()=>Radio.getUserInputFromProps(this.props);simpleValidate=rubric=>Radio.validate(this.getUserInput(),rubric);showRationalesForCurrentlySelectedChoices=rubric=>{const{choiceStates}=this.props;if(choiceStates){const score=this.simpleValidate(rubric),widgetCorrect="points"===score.type&&score.total===score.earned,newStates=choiceStates.map((state=>({...state,highlighted:state.selected,rationaleShown:state.selected||state.rationaleShown||widgetCorrect,readOnly:state.selected||state.readOnly||widgetCorrect,correctnessShown:state.selected||state.correctnessShown,previouslyAnswered:state.previouslyAnswered||state.selected})));this.props.onChange({choiceStates:newStates},null,!0)}};deselectIncorrectSelectedChoices=()=>{if(this.props.choiceStates){const newStates=this.props.choiceStates.map(((state,i)=>({...state,selected:state.selected&&!!this.props.choices[i].correct,highlighted:!1})));this.props.onChange({choiceStates:newStates},null,!1)}};render(){const{choices}=this.props;let choiceStates;choiceStates=this.props.static?choices.map((choice=>({selected:!!choice.correct,crossedOut:!1,readOnly:!0,highlighted:!1,rationaleShown:!0,correctnessShown:!0,previouslyAnswered:!1}))):this.props.choiceStates?this.props.choiceStates:this.props.values?this.props.values.map((val=>({selected:val,crossedOut:!1,readOnly:!1,highlighted:!1,rationaleShown:!1,correctnessShown:!1,previouslyAnswered:!1}))):choices.map((()=>({selected:!1,crossedOut:!1,readOnly:!1,highlighted:!1,rationaleShown:!1,correctnessShown:!1,previouslyAnswered:!1})));const choicesProp=choices.map(((choice,i)=>{const content=choice.isNoneOfTheAbove&&!choice.content?es._("None of the above"):choice.content,{selected,crossedOut,rationaleShown,correctnessShown,readOnly,highlighted,previouslyAnswered}=choiceStates[i],reviewChoice=this.props.reviewModeRubric&&this.props.reviewModeRubric.choices[i];return{content:this._renderRenderer(content),checked:selected,correct:void 0===choice.correct?!!reviewChoice&&!!reviewChoice.correct:choice.correct,disabled:readOnly,hasRationale:!!choice.clue,rationale:this._renderRenderer(choice.clue),showRationale:rationaleShown,showCorrectness:correctnessShown,isNoneOfTheAbove:!!choice.isNoneOfTheAbove,revealNoneOfTheAbove:!(!this.props.questionCompleted||!selected),crossedOut,highlighted,previouslyAnswered}}));return react.createElement(base_radio.Z,{labelWrap:!0,multipleSelect:this.props.multipleSelect,countChoices:this.props.countChoices,numCorrect:this.props.numCorrect,choices:choicesProp,onChange:this.updateChoices,reviewModeRubric:this.props.reviewModeRubric,deselectEnabled:this.props.deselectEnabled,apiOptions:this.props.apiOptions,isLastUsedWidget:this.props.isLastUsedWidget,registerFocusFunction:i=>this.registerFocusFunction(i)})}}const widget=Radio;try{Radio.displayName="Radio",Radio.__docgenInfo={description:"",displayName:"Radio",props:{numCorrect:{defaultValue:null,description:"",name:"numCorrect",required:!0,type:{name:"number"}},hasNoneOfTheAbove:{defaultValue:null,description:"",name:"hasNoneOfTheAbove",required:!1,type:{name:"boolean"}},multipleSelect:{defaultValue:{value:"false"},description:"",name:"multipleSelect",required:!1,type:{name:"boolean"}},countChoices:{defaultValue:{value:"false"},description:"",name:"countChoices",required:!1,type:{name:"boolean"}},deselectEnabled:{defaultValue:{value:"false"},description:"",name:"deselectEnabled",required:!1,type:{name:"boolean"}},choices:{defaultValue:{value:"[]"},description:"",name:"choices",required:!1,type:{name:"readonly RadioChoiceWithMetadata[]"}},selectedChoices:{defaultValue:null,description:"",name:"selectedChoices",required:!0,type:{name:"readonly (boolean | undefined)[]"}},choiceStates:{defaultValue:null,description:"",name:"choiceStates",required:!1,type:{name:"readonly ChoiceState[]"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"readonly boolean[]"}},widgetId:{defaultValue:null,description:"",name:"widgetId",required:!0,type:{name:"string"}},alignment:{defaultValue:null,description:"",name:"alignment",required:!0,type:{name:"string | null | undefined"}},static:{defaultValue:null,description:"",name:"static",required:!0,type:{name:"boolean | null | undefined"}},problemNum:{defaultValue:null,description:"",name:"problemNum",required:!0,type:{name:"number | null | undefined"}},apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown..."}},keypadElement:{defaultValue:null,description:"",name:"keypadElement",required:!1,type:{name:"any"}},questionCompleted:{defaultValue:null,description:"",name:"questionCompleted",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"(blurPath: FocusPath) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"(blurPath: FocusPath) => void"}},findWidgets:{defaultValue:null,description:"",name:"findWidgets",required:!0,type:{name:"(arg1: FilterCriterion) => readonly any[]"}},reviewModeRubric:{defaultValue:null,description:"",name:"reviewModeRubric",required:!0,type:{name:"PerseusRadioWidgetOptions"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}},trackInteraction:{defaultValue:null,description:"",name:"trackInteraction",required:!0,type:{name:"(extraData?: Empty | undefined) => void"}},isLastUsedWidget:{defaultValue:null,description:"",name:"isLastUsedWidget",required:!0,type:{name:"boolean"}},linterContext:{defaultValue:{value:'{\n    contentType: "",\n    highlightLint: false,\n    paths: [] as ReadonlyArray<any>,\n    stack: [] as ReadonlyArray<any>,\n}'},description:"",name:"linterContext",required:!1,type:{name:"LinterContextProps"}},containerSizeClass:{defaultValue:null,description:"",name:"containerSizeClass",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/radio/widget.tsx#Radio"]={docgenInfo:Radio.__docgenInfo,name:"Radio",path:"packages/perseus/src/widgets/radio/widget.tsx#Radio"})}catch(__react_docgen_typescript_loader_error){}const{shuffle,random}=util.default,ReversedChoices=[[es._("False"),es._("True")],[es._("No"),es._("Yes")]],transform=(widgetOptions,problemNum)=>{const choices=((widgetOptions,problemNum)=>function(choices){let noneOfTheAbove=null;const newChoices=choices.filter(((choice,index)=>!choice.isNoneOfTheAbove||(noneOfTheAbove=choice,!1)));return noneOfTheAbove&&newChoices.push(noneOfTheAbove),newChoices}((choices=>{const content=choices.map((c=>c.content));return ReversedChoices.some((reversed=>index_all.ZP.isEqual(content,reversed)))?[choices[1],choices[0]]:choices})(function(array){const randomSeed=void 0===problemNum?random:problemNum;return widgetOptions.randomize?shuffle(array,randomSeed??0):array}(widgetOptions.choices.map(((choice,i)=>({...choice,originalIndex:i,correct:Boolean(choice.correct)})))))))(widgetOptions,problemNum),numCorrect=index_all.ZP.reduce(widgetOptions.choices,(function(memo,choice){return choice.correct?memo+1:memo}),0),{hasNoneOfTheAbove,multipleSelect,countChoices,deselectEnabled}=widgetOptions;return{numCorrect,hasNoneOfTheAbove,multipleSelect,countChoices,deselectEnabled,choices,selectedChoices:index_all.ZP.pluck(choices,"correct")}},widgets_radio={name:"radio",displayName:"Radio / Multiple choice",accessible:!0,widget,transform,staticTransform:transform,version:{major:1,minor:0},propUpgrades:{1:v0props=>{let choices,hasNoneOfTheAbove;if(v0props.noneOfTheAbove)throw new Error("radio widget v0 no longer supports auto noneOfTheAbove");return choices=v0props.choices,hasNoneOfTheAbove=!1,index_all.ZP.extend(index_all.ZP.omit(v0props,"noneOfTheAbove"),{choices,hasNoneOfTheAbove})}},isLintable:!0}},"./packages/perseus/src/widgets/radio/base-radio.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>base_radio});var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),index_all=__webpack_require__("./node_modules/underscore/modules/index-all.js"),perseus_api=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),constants=__webpack_require__("./packages/perseus/src/styles/constants.ts"),media_queries=__webpack_require__("./packages/perseus/src/styles/media-queries.ts"),shared=__webpack_require__("./packages/perseus/src/styles/shared.ts"),util=__webpack_require__("./packages/perseus/src/util.ts");"undefined"==typeof HTMLElement||HTMLElement.prototype.scrollTo||(HTMLElement.prototype.scrollTo=function(left,top){this.scrollLeft=left,this.scrollTop=top});const applyUniversalScrollOffset=(elementOrWindow,amount)=>{"function"==typeof elementOrWindow.scrollTo?elementOrWindow.scrollTo(0,amount):"scrollTop"in elementOrWindow&&(elementOrWindow.scrollTop=amount)},getScrollContainer=element=>element===document.body||null==element?window:element.scrollHeight>element.clientHeight?element:getScrollContainer(element.parentElement),scrollElementIntoView=(element,callback)=>{setTimeout((()=>{const scrollContainer=getScrollContainer(element),childBounds=element.getBoundingClientRect(),containerBounds=scrollContainer===window?{top:0,bottom:window.innerHeight}:scrollContainer.getBoundingClientRect();let offset=0;const currentScrollTop=scrollContainer===window?window.scrollY:scrollContainer.scrollTop;if(childBounds.bottom>containerBounds.bottom){let distanceToScroll=childBounds.bottom-containerBounds.bottom;childBounds.top+distanceToScroll<containerBounds.top&&(distanceToScroll=childBounds.top-containerBounds.top),offset=currentScrollTop+distanceToScroll}else if(childBounds.top<containerBounds.top){offset=currentScrollTop+(childBounds.top-containerBounds.top)}!function(elementOrWindow,offset){let duration=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,callback=arguments.length>3?arguments[3]:void 0;const startPosition=elementOrWindow===window?window.pageYOffset:elementOrWindow.scrollTop,endPosition=offset,scrollDistance=endPosition-startPosition,numberOfSteps=duration/17;let step=0;const scrollInterval=setInterval((function(){if(step<numberOfSteps){const x=step/numberOfSteps,y=(1-Math.cos(Math.PI*x))/2;applyUniversalScrollOffset(elementOrWindow,startPosition+scrollDistance*y),step+=1}else applyUniversalScrollOffset(elementOrWindow,endPosition),clearInterval(scrollInterval),callback&&callback()}),17)}(scrollContainer,offset,750,callback)}),0)};var radio_choice=__webpack_require__("./packages/perseus/src/widgets/radio/choice.tsx"),choice_none_above=__webpack_require__("./packages/perseus/src/widgets/radio/choice-none-above.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const{captureScratchpadTouchStart}=util.default;const BaseRadio=function(props){const{apiOptions,reviewModeRubric,choices,editMode,multipleSelect,labelWrap,countChoices,numCorrect,isLastUsedWidget,registerFocusFunction}=props,prevReviewModeRubric=(0,react.useRef)(),choiceRefs=(0,react.useRef)([]);function updateChoice(choiceIndex,newValues){const{multipleSelect,choices,onChange}=props;let newCheckedList;newCheckedList=newValues.checked&&!multipleSelect?choices.map((_=>!1)):choices.map((c=>c.checked));const newCrossedOutList=choices.map((c=>c.crossedOut));newCheckedList[choiceIndex]=newValues.checked,newCrossedOutList[choiceIndex]=newValues.crossedOut,onChange({checked:newCheckedList,crossedOut:newCrossedOutList})}(0,react.useEffect)((()=>{if(apiOptions.canScrollPage&&isLastUsedWidget&&reviewModeRubric&&!prevReviewModeRubric.current){const checkedIndex=choices.findIndex((c=>c.checked));if(checkedIndex>=0){const ref=choiceRefs.current[checkedIndex],anyNode=react_dom.findDOMNode(ref.current);anyNode&&scrollElementIntoView(anyNode)}}prevReviewModeRubric.current=reviewModeRubric}),[apiOptions,choices,isLastUsedWidget,reviewModeRubric]),registerFocusFunction?.((choiceIndex=>{const ref=choiceRefs.current[choiceIndex||0],anyNode=react_dom.findDOMNode(ref.current);return!!anyNode&&(anyNode.focus(),!0)}));const reviewMode=!!reviewModeRubric,isMobile=apiOptions.isMobile,firstChoiceHighlighted=choices[0].highlighted,lastChoiceHighlighted=choices[choices.length-1].highlighted,className=classnames_default()("perseus-widget-radio",!editMode&&"perseus-rendered-radio",(0,lib.css)(styles.radio,styles.responsiveRadioContainer,firstChoiceHighlighted&&isMobile&&styles.radioContainerFirstHighlighted,lastChoiceHighlighted&&isMobile&&styles.radioContainerLastHighlighted)),instructionsClassName=classnames_default()("instructions",(0,lib.css)(styles.instructions,isMobile&&styles.instructionsMobile)),instructions=function getInstructionsText(multipleSelect,countChoices,numCorrect){return multipleSelect?countChoices?es._("Choose %(numCorrect)s answers:",{numCorrect}):es._("Choose all answers that apply:"):es._("Choose 1 answer:")}(multipleSelect,countChoices,numCorrect),responsiveClassName=(0,lib.css)(styles.responsiveFieldset),fieldset=react.createElement("fieldset",{className:`perseus-widget-radio-fieldset ${responsiveClassName}`},react.createElement("legend",{className:"perseus-sr-only"},instructions),react.createElement("div",{className:instructionsClassName,"aria-hidden":"true"},instructions),react.createElement("ul",{className,style:{listStyle:"none"}},choices.map(((choice,i)=>{let Element=radio_choice.Z;const ref=react.createRef();choiceRefs.current[i]=ref;const elementProps={apiOptions,multipleSelect,checked:choice.checked,crossedOut:choice.crossedOut,previouslyAnswered:choice.previouslyAnswered,reviewMode,correct:choice.correct,rationale:choice.rationale,content:choice.content,disabled:apiOptions.readOnly||choice.disabled,showCorrectness:reviewMode||!!choice.showCorrectness,showRationale:choice.hasRationale&&(reviewMode||choice.showRationale),pos:i,onChange:newValues=>{editMode||updateChoice(i,newValues)}};choice.isNoneOfTheAbove&&(Element=choice_none_above.Z,index_all.ZP.extend(elementProps,{showContent:choice.revealNoneOfTheAbove}));const nextChoice=choices[i+1],nextChoiceHighlighted=!!nextChoice&&nextChoice.highlighted,aphroditeClassName=checked=>(0,lib.css)(shared.Z.aboveScratchpad,styles.item,styles.responsiveItem,checked&&styles.selectedItem,checked&&choice.highlighted&&styles.aboveBackdrop,checked&&choice.highlighted&&apiOptions.isMobile&&styles.aboveBackdropMobile,nextChoiceHighlighted&&apiOptions.isMobile&&styles.nextHighlighted);let correctnessClass;aphroditeClassName(!0),reviewMode&&reviewModeRubric&&(correctnessClass=reviewModeRubric.choices[i].correct?perseus_api.m.CORRECT:perseus_api.m.INCORRECT);const className=classnames_default()(aphroditeClassName(choice.checked),perseus_api.m.RADIO.OPTION,choice.checked&&perseus_api.m.RADIO.SELECTED,correctnessClass);let listElem=null,clickHandler=null;return editMode&&(clickHandler=e=>{let elem=e.target;for(;elem&&elem!==listElem;){if(elem.getAttribute("data-is-radio-icon"))return void updateChoice(i,{checked:!choice.checked,crossedOut:choice.crossedOut});elem=elem.parentNode}}),react.createElement("li",{key:i,ref:e=>listElem=e,className,onClick:clickHandler,onTouchStart:labelWrap?captureScratchpadTouchStart:null},react.createElement(Element,_extends({},elementProps,{ref})))}))));return react.createElement("div",{className:(0,lib.css)(styles.responsiveContainer)},fieldset)};BaseRadio.defaultProps={editMode:!1,multipleSelect:!1};const styles=lib.StyleSheet.create({instructions:{display:"block",color:constants.$I,fontSize:14,lineHeight:1.25,fontFamily:"inherit",fontStyle:"normal",fontWeight:"bold",marginBottom:16},instructionsMobile:{fontSize:18,[media_queries.Z.smOrSmaller]:{fontSize:16},[media_queries.Z.xl]:{fontSize:20}},radio:{padding:0},responsiveRadioContainer:{borderBottom:`1px solid ${constants.radioBorderColor}`,borderTop:`1px solid ${constants.radioBorderColor}`,width:"auto",[media_queries.Z.smOrSmaller]:{marginLeft:constants.mi,marginRight:constants.mi}},radioContainerFirstHighlighted:{borderTop:"1px solid rgba(0, 0, 0, 0)"},radioContainerLastHighlighted:{borderBottom:"1px solid rgba(0, 0, 0, 0)"},item:{marginLeft:20},responsiveItem:{marginLeft:0,padding:0,":not(:last-child)":{borderBottom:`1px solid ${constants.radioBorderColor}`}},selectedItem:{background:"white"},aboveBackdrop:{position:"relative",zIndex:1062},aboveBackdropMobile:{boxShadow:"0 0 4px 0 rgba(0, 0, 0, 0.2),0 0 2px 0 rgba(0, 0, 0, 0.1)",":not(:last-child)":{borderBottom:"1px solid rgba(0, 0, 0, 0)"}},nextHighlighted:{":not(:last-child)":{borderBottom:"1px solid rgba(0, 0, 0, 0)"}},responsiveContainer:{overflow:"auto",marginLeft:constants.mi,paddingLeft:constants.yB},responsiveFieldset:{paddingRight:constants.yB,minWidth:"auto"}}),base_radio=BaseRadio;try{baseradio.displayName="baseradio",baseradio.__docgenInfo={description:"",displayName:"baseradio",props:{apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!0,type:{name:"Readonly<{ isArticle?: boolean | undefined; onInputError?: ((widgetId: any, value: string, message?: string | null | undefined) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},choices:{defaultValue:null,description:"",name:"choices",required:!0,type:{name:"readonly ChoiceType[]"}},deselectEnabled:{defaultValue:null,description:"",name:"deselectEnabled",required:!1,type:{name:"boolean"}},editMode:{defaultValue:{value:"false"},description:"",name:"editMode",required:!1,type:{name:"boolean"}},labelWrap:{defaultValue:null,description:"",name:"labelWrap",required:!0,type:{name:"boolean"}},countChoices:{defaultValue:null,description:"",name:"countChoices",required:!0,type:{name:"boolean | null | undefined"}},numCorrect:{defaultValue:null,description:"",name:"numCorrect",required:!0,type:{name:"number"}},multipleSelect:{defaultValue:{value:"false"},description:"",name:"multipleSelect",required:!1,type:{name:"boolean"}},reviewModeRubric:{defaultValue:null,description:"",name:"reviewModeRubric",required:!1,type:{name:"PerseusRadioWidgetOptions"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValues: { checked: readonly boolean[]; crossedOut: readonly boolean[]; }) => void"}},registerFocusFunction:{defaultValue:null,description:"",name:"registerFocusFunction",required:!1,type:{name:"((arg1: FocusFunction) => void)"}},isLastUsedWidget:{defaultValue:null,description:"",name:"isLastUsedWidget",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/radio/base-radio.tsx#baseradio"]={docgenInfo:baseradio.__docgenInfo,name:"baseradio",path:"packages/perseus/src/widgets/radio/base-radio.tsx#baseradio"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/radio/choice-icon/choice-icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>choice_icon});var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react=__webpack_require__("./node_modules/react/index.js"),inline_icon=__webpack_require__("./packages/perseus/src/components/inline-icon.tsx"),icon_paths=__webpack_require__("./packages/perseus/src/icon-paths.ts"),constants=__webpack_require__("./packages/perseus/src/styles/constants.ts"),focus_ring=__webpack_require__("./packages/perseus/src/widgets/radio/focus-ring.tsx"),util=__webpack_require__("./packages/perseus/src/widgets/radio/util.ts");const shared_styles=lib.StyleSheet.create({iconWrapper:{display:"inline-block",position:"relative"}}),cross_out_line_styles=lib.StyleSheet.create({crossOutLine:{position:"absolute",top:"0px",left:"0px"}}),cross_out_line=function(props){return react.createElement("svg",{width:28,height:28,viewBox:"0 0 28 28",className:(0,lib.css)(cross_out_line_styles.crossOutLine),"data-test-id":"choice-icon__cross-out-line"},react.createElement("line",{x1:2,x2:26,y1:26,y2:2,stroke:props.color,strokeWidth:"2",strokeLinecap:"round"}))};try{crossoutline.displayName="crossoutline",crossoutline.__docgenInfo={description:'The "cross-out line" that appears over the icon when the choice has been\n`crossedOut`.',displayName:"crossoutline",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/radio/choice-icon/cross-out-line.tsx#crossoutline"]={docgenInfo:crossoutline.__docgenInfo,name:"crossoutline",path:"packages/perseus/src/widgets/radio/choice-icon/cross-out-line.tsx#crossoutline"})}catch(__react_docgen_typescript_loader_error){}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function ChoiceInner(props){const{pos,showCorrectness,correct}=props,letter=(0,util.m)(pos);return showCorrectness?correct?react.createElement(inline_icon.Z,_extends({},icon_paths.iconCheck,{style:{position:"relative",top:-1}})):react.createElement(inline_icon.Z,icon_paths.iconMinus):letter}const choice_icon_styles=lib.StyleSheet.create({innerWrapper:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},circle:{width:24,height:24,boxSizing:"border-box",borderStyle:"solid",borderWidth:2,fontFamily:constants.Gl,fontWeight:"bold",fontSize:12,display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1px"},circleCorrect:{fontSize:24},circleIncorrect:{fontSize:24,borderColor:constants.uD,color:constants.uD},circleIncorrectAnswered:{backgroundColor:es.default.red,borderColor:es.default.red,color:es.default.white}}),choice_icon=function(props){const{checked,crossedOut,showCorrectness,correct,focused,hovered,multipleSelect,pos,previouslyAnswered,pressed}=props,dynamicStyles=function getDynamicStyles(checked,showCorrectness,pressed,multipleSelect,correct){let backgroundColor,borderColor,color,borderRadius;if(!showCorrectness&&pressed)borderColor=es.default.blue,color=es.default.blue,backgroundColor="transparent";else if(checked){const bg=showCorrectness&&correct?es.default.green:es.default.blue;color=constants.ix,backgroundColor=bg,borderColor=bg}else borderColor=es.default.offBlack64,color=es.default.offBlack64;return borderRadius=multipleSelect?3:24,{backgroundColor,borderColor,color,borderRadius}}(checked,showCorrectness,pressed,multipleSelect,correct);return react.createElement("div",{className:(0,lib.css)(shared_styles.iconWrapper)},react.createElement(focus_ring.Z,{color:es.default.blue,visible:focused||hovered,multipleSelect},react.createElement("div",{style:dynamicStyles,"data-test-id":"choice-icon__library-choice-icon",className:(0,lib.css)(choice_icon_styles.circle,showCorrectness&&correct&&choice_icon_styles.circleCorrect,showCorrectness&&!correct&&choice_icon_styles.circleIncorrect,showCorrectness&&!correct&&(checked||previouslyAnswered)&&choice_icon_styles.circleIncorrectAnswered),"data-is-radio-icon":!0},react.createElement("div",{className:(0,lib.css)(choice_icon_styles.innerWrapper)},react.createElement(ChoiceInner,{pos,showCorrectness,correct})))),crossedOut&&react.createElement(cross_out_line,{color:dynamicStyles.borderColor}))};try{choiceicon.displayName="choiceicon",choiceicon.__docgenInfo={description:"",displayName:"choiceicon",props:{pos:{defaultValue:null,description:"",name:"pos",required:!0,type:{name:"number"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},crossedOut:{defaultValue:null,description:"",name:"crossedOut",required:!0,type:{name:"boolean"}},focused:{defaultValue:null,description:"",name:"focused",required:!0,type:{name:"boolean"}},hovered:{defaultValue:null,description:"",name:"hovered",required:!0,type:{name:"boolean"}},pressed:{defaultValue:null,description:"",name:"pressed",required:!0,type:{name:"boolean"}},correct:{defaultValue:null,description:"",name:"correct",required:!0,type:{name:"boolean"}},showCorrectness:{defaultValue:null,description:"",name:"showCorrectness",required:!0,type:{name:"boolean"}},multipleSelect:{defaultValue:null,description:"",name:"multipleSelect",required:!0,type:{name:"boolean"}},reviewMode:{defaultValue:null,description:"",name:"reviewMode",required:!0,type:{name:"boolean"}},previouslyAnswered:{defaultValue:null,description:"",name:"previouslyAnswered",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/radio/choice-icon/choice-icon.tsx#choiceicon"]={docgenInfo:choiceicon.__docgenInfo,name:"choiceicon",path:"packages/perseus/src/widgets/radio/choice-icon/choice-icon.tsx#choiceicon"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/radio/choice-none-above.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_renderer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_choice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/perseus/src/widgets/radio/choice.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const ChoiceNoneAbove=function(props){const{showContent,content,forwardedRef,...rest}=props,choiceProps={...rest,content:showContent?content:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_2__.Z,{key:"noneOfTheAboveRenderer",content:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("None of the above")})};return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_choice__WEBPACK_IMPORTED_MODULE_3__.Z,_extends({},choiceProps,{ref:forwardedRef}))};ChoiceNoneAbove.defaultProps={showContent:!0};const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(((props,ref)=>react__WEBPACK_IMPORTED_MODULE_1__.createElement(ChoiceNoneAbove,_extends({},props,{forwardedRef:ref}))));try{choicenoneabove.displayName="choicenoneabove",choicenoneabove.__docgenInfo={description:"",displayName:"choicenoneabove",props:{apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},rationale:{defaultValue:null,description:"",name:"rationale",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},correct:{defaultValue:null,description:"",name:"correct",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},pos:{defaultValue:null,description:"",name:"pos",required:!0,type:{name:"number"}},reviewMode:{defaultValue:null,description:"",name:"reviewMode",required:!0,type:{name:"boolean"}},showRationale:{defaultValue:null,description:"",name:"showRationale",required:!0,type:{name:"boolean"}},showCorrectness:{defaultValue:null,description:"",name:"showCorrectness",required:!0,type:{name:"boolean"}},multipleSelect:{defaultValue:null,description:"",name:"multipleSelect",required:!0,type:{name:"boolean"}},crossedOut:{defaultValue:null,description:"",name:"crossedOut",required:!0,type:{name:"boolean"}},previouslyAnswered:{defaultValue:null,description:"",name:"previouslyAnswered",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newValues: { checked: boolean; crossedOut: boolean; }) => void)"}},showContent:{defaultValue:{value:"true"},description:"",name:"showContent",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/radio/choice-none-above.tsx#choicenoneabove"]={docgenInfo:choicenoneabove.__docgenInfo,name:"choicenoneabove",path:"packages/perseus/src/widgets/radio/choice-none-above.tsx#choicenoneabove"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/radio/choice.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>radio_choice});var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-button/dist/es/index.js"),dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-clickable/dist/es/index.js"),wonder_blocks_color_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),wonder_blocks_core_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),wonder_blocks_i18n_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),wonder_blocks_layout_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-layout/dist/es/index.js"),wonder_blocks_popover_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-popover/dist/es/index.js"),wonder_blocks_spacing_dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-spacing/dist/es/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__("./node_modules/react/index.js"),icon=__webpack_require__("./packages/perseus/src/components/icon.tsx"),perseus_api=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),media_queries=__webpack_require__("./packages/perseus/src/styles/media-queries.ts");const choice_a11y_text=function getA11yText(letter,checked,correct,crossedOut,showCorrectness){return showCorrectness&&correct?checked?wonder_blocks_i18n_dist_es._("(Choice %(letter)s, Checked, Correct)",{letter}):crossedOut?wonder_blocks_i18n_dist_es._("(Choice %(letter)s, Crossed out, Correct)",{letter}):wonder_blocks_i18n_dist_es._("(Choice %(letter)s, Correct)",{letter}):showCorrectness&&!correct?checked?wonder_blocks_i18n_dist_es._("(Choice %(letter)s, Checked, Incorrect)",{letter}):crossedOut?wonder_blocks_i18n_dist_es._("(Choice %(letter)s, Crossed out, Incorrect)",{letter}):wonder_blocks_i18n_dist_es._("(Choice %(letter)s, Incorrect)",{letter}):checked?wonder_blocks_i18n_dist_es._("(Choice %(letter)s, Checked)",{letter}):crossedOut?wonder_blocks_i18n_dist_es._("(Choice %(letter)s, Crossed out)",{letter}):wonder_blocks_i18n_dist_es._("(Choice %(letter)s)",{letter})};var choice_icon=__webpack_require__("./packages/perseus/src/widgets/radio/choice-icon/choice-icon.tsx"),option_status=__webpack_require__("./packages/perseus/src/widgets/radio/option-status.tsx"),util=__webpack_require__("./packages/perseus/src/widgets/radio/util.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const ellipsisHorizontalIcon={path:"M27.218 6.82l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836zm36.27 0l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836zm36.27 0l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:27.284};let id=0;const Choice=function(props){const{disabled=!1,checked=!1,content,crossedOut,showCorrectness,multipleSelect,onChange=newValues=>{},reviewMode,correct=!1,apiOptions=perseus_api._.defaults,previouslyAnswered=!1,pos=0,showRationale=!1,rationale,forwardedRef}=props,[isInputFocused,setIsInputFocused]=(0,react.useState)(!1);function sendChange(newValues){const updatedChecked=newValues.checked??checked,updatedCrossedOut=newValues.crossedOut??crossedOut;onChange({checked:updatedChecked,crossedOut:updatedCrossedOut})}(0,react.useEffect)((()=>{isInputFocused&&disabled&&setIsInputFocused(!1)}),[disabled,isInputFocused,setIsInputFocused]);const descriptionClassName=classnames_default()("description",(0,lib.css)(styles.description)),rationaleClassName=classnames_default()("perseus-radio-rationale-content",(0,lib.css)(styles.rationale)),showDimmed=!reviewMode&&apiOptions.readOnly||crossedOut,letter=(0,util.m)(pos),a11yText=choice_a11y_text(letter,checked,correct,crossedOut,showCorrectness),choiceId=function uniqueId(){return"choice-"+id++}();return react.createElement("div",{style:{dispay:"flex",flexDirection:"column",color:wonder_blocks_color_dist_es.default.offBlack},className:descriptionClassName},react.createElement("div",{style:{display:"flex",flexDirection:"row",opacity:showDimmed?.5:1,overflowX:"auto",overflowY:"hidden"}},react.createElement("div",{className:"perseus-sr-only"},react.createElement("input",{type:multipleSelect?"checkbox":"radio",id:choiceId,checked,onClick:()=>{sendChange({checked:!checked,crossedOut:!1})},onChange:()=>{},disabled:disabled||apiOptions.readOnly,tabIndex:-1,className:perseus_api.m.RADIO.OPTION_CONTENT}),react.createElement("label",{htmlFor:choiceId},a11yText,"   ",content)),react.createElement(dist_es.ZP,{onClick:()=>{sendChange({checked:!checked,crossedOut:!1})},disabled:disabled||apiOptions.readOnly,style:{flex:1,color:wonder_blocks_color_dist_es.default.offBlack,userSelect:"text"},ref:forwardedRef,"aria-hidden":"true"},(_ref=>{let{hovered,focused,pressed}=_ref;return react.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center",paddingTop:wonder_blocks_spacing_dist_es.Z.xSmall_8,paddingBottom:wonder_blocks_spacing_dist_es.Z.xSmall_8,paddingLeft:wonder_blocks_spacing_dist_es.Z.xSmall_8}},react.createElement(choice_icon.Z,{pos,correct,crossedOut,pressed,focused,checked,hovered,showCorrectness,multipleSelect,reviewMode,previouslyAnswered}),react.createElement("span",{style:{paddingLeft:wonder_blocks_spacing_dist_es.Z.small_12,textAlign:"left",flex:1,paddingTop:4}},react.createElement("div",null,react.createElement(option_status.Z,{checked,correct,crossedOut,previouslyAnswered,reviewMode})),react.createElement("div",null,content)))})),apiOptions.crossOutEnabled&&!reviewMode&&react.createElement(wonder_blocks_popover_dist_es.J2,{dismissEnabled:!0,content:_ref2=>{let{close}=_ref2;return react.createElement(wonder_blocks_popover_dist_es.yk,{title:wonder_blocks_i18n_dist_es._("Cross out"),content:wonder_blocks_i18n_dist_es._("Cross out option"),closeButtonVisible:!0,actions:react.createElement(wonder_blocks_core_dist_es.G7,null,react.createElement(wonder_blocks_layout_dist_es.x9,{size:wonder_blocks_spacing_dist_es.Z.medium_16}),react.createElement(es.Z,{kind:"primary","aria-label":wonder_blocks_i18n_dist_es._("Cross out Choice %(letter)s",{letter:(0,util.m)(pos)}),disabled:apiOptions.readOnly||reviewMode,onClick:()=>{sendChange(crossedOut?{crossedOut:!1}:{checked:!1,crossedOut:!0}),close()}},crossedOut?wonder_blocks_i18n_dist_es._("Bring back"):wonder_blocks_i18n_dist_es._("Cross out")))})}},(_ref3=>{let{open}=_ref3;return react.createElement(dist_es.ZP,{onClick:open,"aria-label":wonder_blocks_i18n_dist_es._("Open menu for Choice %(letter)s",{letter:(0,util.m)(pos)}),style:{alignSelf:"center",padding:"5px",display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px"}},(_ref4=>{let{hovered,focused,pressed}=_ref4;return react.createElement(icon.Z,{icon:ellipsisHorizontalIcon,size:3,color:wonder_blocks_color_dist_es.default.offBlack64})}))}))),showRationale&&react.createElement("div",{className:rationaleClassName,"data-test-id":`perseus-radio-rationale-content-${pos}`},rationale))},styles=lib.StyleSheet.create({description:{display:"inline-block",width:"100%"},rationale:{display:"block",padding:"16px 16px",paddingTop:0,marginLeft:54,color:wonder_blocks_color_dist_es.default.offBlack64,[media_queries.Z.smOrSmaller]:{padding:"12px 16px",paddingTop:0}}}),radio_choice=react.forwardRef(((props,ref)=>react.createElement(Choice,_extends({},props,{forwardedRef:ref}))));try{choice.displayName="choice",choice.__docgenInfo={description:"",displayName:"choice",props:{apiOptions:{defaultValue:null,description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},rationale:{defaultValue:null,description:"",name:"rationale",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},correct:{defaultValue:null,description:"",name:"correct",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},pos:{defaultValue:null,description:"",name:"pos",required:!0,type:{name:"number"}},reviewMode:{defaultValue:null,description:"",name:"reviewMode",required:!0,type:{name:"boolean"}},showRationale:{defaultValue:null,description:"",name:"showRationale",required:!0,type:{name:"boolean"}},showCorrectness:{defaultValue:null,description:"",name:"showCorrectness",required:!0,type:{name:"boolean"}},multipleSelect:{defaultValue:null,description:"",name:"multipleSelect",required:!0,type:{name:"boolean"}},crossedOut:{defaultValue:null,description:"",name:"crossedOut",required:!0,type:{name:"boolean"}},previouslyAnswered:{defaultValue:null,description:"",name:"previouslyAnswered",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newValues: { checked: boolean; crossedOut: boolean; }) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/radio/choice.tsx#choice"]={docgenInfo:choice.__docgenInfo,name:"choice",path:"packages/perseus/src/widgets/radio/choice.tsx#choice"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/radio/focus-ring.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var aphrodite__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_styles_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/perseus/src/styles/constants.ts");const FocusRing=function(props){const{visible,color,children,multipleSelect}=props,style={borderColor:visible?color:"transparent",borderRadius:multipleSelect?5:"50%"};return react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{"data-test-id":"focus-ring",className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_0__.css)(styles.ring),style},children)};FocusRing.defaultProps={visible:!0,color:_styles_constants__WEBPACK_IMPORTED_MODULE_2__.Ke,multipleSelect:!1};const styles=aphrodite__WEBPACK_IMPORTED_MODULE_0__.StyleSheet.create({ring:{margin:"auto",display:"inline-block",borderWidth:2,padding:2,borderStyle:"solid"}}),__WEBPACK_DEFAULT_EXPORT__=FocusRing;try{focusring.displayName="focusring",focusring.__docgenInfo={description:"",displayName:"focusring",props:{visible:{defaultValue:{value:"true"},description:"",name:"visible",required:!1,type:{name:"boolean"}},color:{defaultValue:{value:"styleConstants.kaGreen"},description:"",name:"color",required:!1,type:{name:"string"}},multipleSelect:{defaultValue:{value:"false"},description:"",name:"multipleSelect",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/radio/focus-ring.tsx#focusring"]={docgenInfo:focusring.__docgenInfo,name:"focusring",path:"packages/perseus/src/widgets/radio/focus-ring.tsx#focusring"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/radio/option-status.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js");const styles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({text:{alignItems:"center",display:"flex",fontSize:12,height:32,textTransform:"uppercase"},correct:{color:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.green},incorrectAnswered:{color:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.red},incorrect:{color:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_0__.default.offBlack64}}),__WEBPACK_DEFAULT_EXPORT__=function(props){const{checked,correct,crossedOut,previouslyAnswered,reviewMode}=props;if(!reviewMode&&!previouslyAnswered)return null;let textStyle;return textStyle=correct?styles.correct:checked||previouslyAnswered?styles.incorrectAnswered:styles.incorrect,react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:(0,aphrodite__WEBPACK_IMPORTED_MODULE_2__.css)(styles.text,textStyle)},function renderText(checked,correct,crossedOut){return correct?checked?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Correct (selected)"):crossedOut?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Correct (but you crossed it out)"):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Correct"):checked?_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Incorrect (selected)"):_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Incorrect")}(checked,correct,crossedOut))};try{optionstatus.displayName="optionstatus",optionstatus.__docgenInfo={description:"",displayName:"optionstatus",props:{correct:{defaultValue:null,description:"",name:"correct",required:!0,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},crossedOut:{defaultValue:null,description:"",name:"crossedOut",required:!0,type:{name:"boolean"}},previouslyAnswered:{defaultValue:null,description:"",name:"previouslyAnswered",required:!0,type:{name:"boolean"}},reviewMode:{defaultValue:null,description:"",name:"reviewMode",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/radio/option-status.tsx#optionstatus"]={docgenInfo:optionstatus.__docgenInfo,name:"optionstatus",path:"packages/perseus/src/widgets/radio/option-status.tsx#optionstatus"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/radio/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>getChoiceLetter});var _khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js");function getChoiceLetter(pos){const letters=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_0__._("A B C D E F G H I J K L M N O P Q R S T U V W X Y Z").split(" ");return pos<letters.length?letters[pos]:" "}},"./packages/perseus/src/widgets/table.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/math-input/src/index.ts"),_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/perseus-linter/src/index.ts"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_components_simple_keypad_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/perseus/src/components/simple-keypad-input.tsx"),_interactive2_interactive_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/interactive2/interactive-util.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_renderer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/renderer.tsx"),_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/util.ts"),_util_answer_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/perseus/src/util/answer-types.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const{assert}=_interactive2_interactive_util__WEBPACK_IMPORTED_MODULE_6__.default,getInputPath=function(row,column){return[""+row,""+column]},getRowFromPath=function(path){return assert(underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.isArray(path)&&2===path.length),+path[0]},getColumnFromPath=function(path){return assert(underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.isArray(path)&&2===path.length),+path[1]},getRefForPath=function(path){return"answer"+getRowFromPath(path)+","+getColumnFromPath(path)};class Table extends react__WEBPACK_IMPORTED_MODULE_2__.Component{static propTypes={answers:prop_types__WEBPACK_IMPORTED_MODULE_11___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default().string)),editableHeaders:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,Editor:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,headers:prop_types__WEBPACK_IMPORTED_MODULE_11___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default().string),keypadElement:_khanacademy_math_input__WEBPACK_IMPORTED_MODULE_0__.si,trackInteraction:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func.isRequired,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_1__.LZ};static defaultProps=function(){const blankAnswers=(0,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP)(4).times((function(){return _util__WEBPACK_IMPORTED_MODULE_9__.default.stringArrayOfSize(1)}));return{apiOptions:_perseus_api__WEBPACK_IMPORTED_MODULE_7__._.defaults,headers:[""],editableHeaders:!1,rows:4,columns:1,answers:blankAnswers,linterContext:_khanacademy_perseus_linter__WEBPACK_IMPORTED_MODULE_1__.j_}}();_getRows=()=>this.props.answers.length;_getColumns=()=>this.props.answers[0].length;render(){const rows=this._getRows(),columns=this._getColumns(),headers=this.props.headers;let InputComponent,inputStyle;const extraInputProps={};return this.props.apiOptions.customKeypad?(InputComponent=_components_simple_keypad_input__WEBPACK_IMPORTED_MODULE_5__.Z,inputStyle={width:80},extraInputProps.keypadElement=this.props.keypadElement):(InputComponent="input",inputStyle={}),react__WEBPACK_IMPORTED_MODULE_2__.createElement("table",{className:"perseus-widget-table-of-values non-markdown"},react__WEBPACK_IMPORTED_MODULE_2__.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_2__.createElement("tr",null,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map(headers,((header,i)=>this.props.editableHeaders?react__WEBPACK_IMPORTED_MODULE_2__.createElement("th",{key:i},react__WEBPACK_IMPORTED_MODULE_2__.createElement(this.props.Editor,{ref:"columnHeader"+i,apiOptions:this.props.apiOptions,content:header,widgetEnabled:!1,onChange:underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.partial(this.onHeaderChange,i)})):react__WEBPACK_IMPORTED_MODULE_2__.createElement("th",{key:i},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_renderer__WEBPACK_IMPORTED_MODULE_8__.Z,{content:header,linterContext:this.props.linterContext})))))),react__WEBPACK_IMPORTED_MODULE_2__.createElement("tbody",null,(0,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP)(rows).times((r=>react__WEBPACK_IMPORTED_MODULE_2__.createElement("tr",{key:r},(0,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP)(columns).times((c=>react__WEBPACK_IMPORTED_MODULE_2__.createElement("td",{key:c},react__WEBPACK_IMPORTED_MODULE_2__.createElement(InputComponent,_extends({ref:getRefForPath(getInputPath(r,c)),type:"text",value:this.props.answers[r][c],disabled:this.props.apiOptions.readOnly,onFocus:underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.partial(this._handleFocus,getInputPath(r,c)),onBlur:underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.partial(this._handleBlur,getInputPath(r,c)),onChange:underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.partial(this.onValueChange,r,c),style:inputStyle},extraInputProps))))))))))}getUserInput=()=>underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map(this.props.answers,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.clone);onValueChange=(row,column,eventOrValue)=>{const answers=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map(this.props.answers,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.clone);answers[row][column]=eventOrValue.target?eventOrValue.target.value:eventOrValue,this.props.onChange({answers}),this.props.trackInteraction()};onHeaderChange=(index,e)=>{const headers=this.props.headers.slice();headers[index]=e.content,this.props.onChange({headers})};simpleValidate=rubric=>Table.validate(this.getUserInput(),rubric);_handleFocus=inputPath=>{this.props.onFocus(inputPath)};_handleBlur=inputPath=>{this.props.onBlur(inputPath)};focus=()=>(this.focusInputPath(getInputPath(0,0)),!0);focusInputPath=path=>{const inputID=getRefForPath(path),inputComponent=this.refs[inputID];this.props.apiOptions.customKeypad?inputComponent.focus():react_dom__WEBPACK_IMPORTED_MODULE_3__.findDOMNode(inputComponent).focus()};blurInputPath=path=>{const inputID=getRefForPath(path),inputComponent=this.refs[inputID];this.props.apiOptions.customKeypad?inputComponent.blur():react_dom__WEBPACK_IMPORTED_MODULE_3__.findDOMNode(inputComponent).blur()};getDOMNodeForPath=path=>{const inputID=getRefForPath(path);return react_dom__WEBPACK_IMPORTED_MODULE_3__.findDOMNode(this.refs[inputID])};getInputPaths=()=>{const rows=this._getRows(),columns=this._getColumns(),inputPaths=[];return(0,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP)(rows).times((r=>{(0,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP)(columns).times((c=>{const inputPath=getInputPath(r,c);inputPaths.push(inputPath)}))})),inputPaths};getGrammarTypeForPath=inputPath=>"number";setInputValue=(path,newValue,cb)=>{const row=getRowFromPath(path),column=getColumnFromPath(path),answers=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.map(this.props.answers,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.clone);answers[row][column]=newValue,this.props.onChange({answers},cb)}}underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.extend(Table,{validate:function(state,rubric){const filterNonEmpty=function(table){return underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.filter(table,(function(row){return underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.some(row,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.identity)}))},solution=filterNonEmpty(rubric.answers),supplied=filterNonEmpty(state);if(underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.some(supplied,(function(row){return underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.some(row,(function(cell){return""===cell}))}))||!supplied.length)return{type:"invalid",message:null};if(supplied.length!==solution.length)return{type:"points",earned:0,total:1,message:null};const createValidator=_util_answer_types__WEBPACK_IMPORTED_MODULE_10__.Z.number.createValidatorFunctional;let message=null;return{type:"points",earned:underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.every(solution,(function(rowSolution){let i;for(i=0;i<supplied.length;i++){const rowSupplied=supplied[i],correct=underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.every(rowSupplied,(function(cellSupplied,i){const cellSolution=rowSolution[i],result=createValidator(cellSolution,{simplify:!0})(cellSupplied);return result.message&&(message=result.message),result.correct}));if(correct)return supplied.splice(i,1),!0}return!1}))?1:0,total:1,message}}});const __WEBPACK_DEFAULT_EXPORT__={name:"table",displayName:"Table (deprecated - use markdown table instead)",accessible:!0,widget:Table,transform:editorProps=>{const rows=editorProps.answers.length,columns=editorProps.answers[0].length,blankAnswers=(0,underscore__WEBPACK_IMPORTED_MODULE_4__.ZP)(rows).times((function(){return _util__WEBPACK_IMPORTED_MODULE_9__.default.stringArrayOfSize(columns)}));return underscore__WEBPACK_IMPORTED_MODULE_4__.ZP.extend({},editorProps,{answers:blankAnswers})},hidden:!0,isLintable:!0}},"./packages/perseus/src/widgets/unit.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,_Z:()=>OldUnitInput});var _khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/kas/src/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),hubble__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./vendor/hubble/hubble.js"),jquery__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/jquery/dist/jquery.js"),jquery__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-dom/index.js"),underscore__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/underscore/modules/index-all.js"),_mixins_changeable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/perseus/src/mixins/changeable.ts"),_perseus_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/perseus/src/perseus-api.tsx"),_sigfigs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/perseus/src/sigfigs.ts");const countSigfigs=function(value){return new _sigfigs__WEBPACK_IMPORTED_MODULE_9__.n(value).sigFigs};class OldUnitInput extends react__WEBPACK_IMPORTED_MODULE_4__.Component{static defaultProps={apiOptions:_perseus_api__WEBPACK_IMPORTED_MODULE_8__._.defaults,value:""};static validate(userInput,rubric){const answer=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.f6(rubric.value).expr,guess=_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.f6(userInput);if(!guess.parsed)return{type:"invalid",message:_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("I couldn't understand those units.")};let message=null;const sigfigs=rubric.sigfigs,sigfigsCorrect=countSigfigs(guess.coefficient)===sigfigs;let numericallyCorrect,kasCorrect;sigfigsCorrect||(message=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Check your significant figures."));try{const x=new _khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.nd("x"),conversion=new _khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.Eq(answer.simplify(),"=",new _khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.UM(x,guess.expr.simplify())).solveLinearEquationForVariable(x);numericallyCorrect=Number(conversion.eval()).toPrecision(sigfigs)===Number(1).toPrecision(sigfigs)}catch(e){numericallyCorrect=!1}numericallyCorrect||(message=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("That answer is numerically incorrect."));const guessUnit=primUnits(guess.expr.simplify()),answerUnit=primUnits(answer.simplify());kasCorrect="all"===rubric.accepting?_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.qu(guessUnit,answerUnit).equal:(0,underscore__WEBPACK_IMPORTED_MODULE_6__.ZP)(rubric.acceptingUnits).any((unit=>{const thisAnswerUnit=primUnits(_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.f6(unit).unit.simplify());return _khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.qu(thisAnswerUnit,guessUnit).equal})),kasCorrect||(message=_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Check your units."));return{type:"points",earned:kasCorrect&&numericallyCorrect&&sigfigsCorrect?1:0,total:1,message}}componentDidUpdate(){clearTimeout(this._errorTimeout),_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.f6(this.props.value).parsed?this._hideError():this._errorTimeout=setTimeout(this._showError,2e3)}componentWillUnmount(){clearTimeout(this._errorTimeout)}_showError=()=>{if(""===this.props.value)return;const $error=jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs.error));$error.is(":visible")||$error.css({top:50,opacity:.1}).show().animate({top:0,opacity:1},300)};_hideError=()=>{const $error=jquery__WEBPACK_IMPORTED_MODULE_3___default()(react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs.error));$error.is(":visible")&&$error.animate({top:50,opacity:.1},300,(function(){jquery__WEBPACK_IMPORTED_MODULE_3___default()(this).hide()}))};change=(()=>{var _this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _mixins_changeable__WEBPACK_IMPORTED_MODULE_7__.m.apply(_this,args)}})();handleBlur=()=>{this.props.onBlur([]),clearTimeout(this._errorTimeout),_khanacademy_kas__WEBPACK_IMPORTED_MODULE_0__.f6(this.props.value).parsed||this._showError()};handleChange=event=>{this._hideError(),this.props.onChange({value:event.target.value})};simpleValidate=(rubric,onInputError)=>(onInputError=onInputError||function(){},OldUnitInput.validate(this.getUserInput(),rubric));getUserInput=()=>this.props.value;getInputPaths=()=>[[]];focusInputPath=inputPath=>{const input=react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs.input);input&&input.focus()};handleFocus=()=>{this.props.onFocus([])};blurInputPath=inputPath=>{const input=react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs.input);input&&input.blur()};setInputValue=(path,newValue,cb)=>{this.props.onChange({value:newValue},cb)};getDOMNodeForPath=()=>react_dom__WEBPACK_IMPORTED_MODULE_5__.findDOMNode(this.refs.input);getGrammarTypeForPath=inputPath=>"unit";render(){return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"old-unit-input"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("input",{onChange:this.handleChange,ref:"input",className:_perseus_api__WEBPACK_IMPORTED_MODULE_8__.m.INTERACTIVE,value:this.props.value,onFocus:this.handleFocus,onBlur:this.handleBlur}),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{ref:"error",className:"error",style:{display:"none"}},_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("I don't understand that")))}}const primUnits=function(expr){return expr.simplify().asMul().partition()[1].flatten().simplify()},__WEBPACK_DEFAULT_EXPORT__={name:"unit-input",displayName:"Unit input",defaultAlignment:"inline-block",widget:OldUnitInput,transform:x=>(0,hubble__WEBPACK_IMPORTED_MODULE_2__.Z)(x).del(["value"]).freeze(),version:{major:0,minor:1},hidden:!0};try{countSigfigs.displayName="countSigfigs",countSigfigs.__docgenInfo={description:"",displayName:"countSigfigs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/unit.tsx#countSigfigs"]={docgenInfo:countSigfigs.__docgenInfo,name:"countSigfigs",path:"packages/perseus/src/widgets/unit.tsx#countSigfigs"})}catch(__react_docgen_typescript_loader_error){}try{OldUnitInput.displayName="OldUnitInput",OldUnitInput.__docgenInfo={description:"",displayName:"OldUnitInput",props:{apiOptions:{defaultValue:{value:'{\n        isArticle: false,\n        isMobile: false,\n        onInputError: function () {},\n        onFocusChange: function () {},\n        GroupMetadataEditor: StubTagEditor,\n        showAlignmentOptions: false,\n        readOnly: false,\n        groupAnnotator: function (): null {\n            return null;\n        },\n        baseElements: {\n            Link: (\n                props: any,\n            ): React.ReactElement<React.ComponentProps<"a">> => {\n                return <a {...props} />;\n            },\n        },\n        setDrawingAreaAvailable: function () {},\n        useDraftEditor: false,\n        canScrollPage: false,\n        inModal: false,\n        crossOutEnabled: false,\n        editorChangeDelay: 0,\n    } as APIOptionsWithDefaults'},description:"",name:"apiOptions",required:!1,type:{name:"Readonly<{ isArticle?: boolean; onInputError?: ((widgetId: any, value: string, message?: string | null) => unknown) | undefined; onFocusChange?: ((newFocusPath: FocusPath, oldFocusPath: FocusPath, keypadHeight?: number | undefined, focusedElement?: HTMLElement | undefined) => unknown) | undef..."}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ChangeHandler"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"(arg1: FocusPath) => unknown"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!0,type:{name:"(arg1: FocusPath) => unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/unit.tsx#OldUnitInput"]={docgenInfo:OldUnitInput.__docgenInfo,name:"OldUnitInput",path:"packages/perseus/src/widgets/unit.tsx#OldUnitInput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/perseus/src/widgets/video-transcript-link.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-core/dist/es/index.js"),_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-i18n/dist/es/index.js"),_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-layout/dist/es/index.js"),_khanacademy_wonder_blocks_link__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-link/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/index.js"),_dependencies__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/perseus/src/dependencies.ts");const IS_URL=/^https?:\/\//,getYoutubeId=url=>{const match=url.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return match&&11===match[7].length?match[7]:"videoNotFound"},styles=aphrodite__WEBPACK_IMPORTED_MODULE_4__.StyleSheet.create({transcriptLink:{flexDirection:"row",width:"100%",justifyContent:"center"}}),__WEBPACK_DEFAULT_EXPORT__=props=>{const{location}=props,{useVideo}=(0,_dependencies__WEBPACK_IMPORTED_MODULE_6__.getDependencies)(),[id,kind]=IS_URL.test(location)?[getYoutubeId(location),"YOUTUBE_ID"]:[location,"READABLE_ID"],result=useVideo(id,kind);switch(result.status){case"loading":return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__.G7,null,_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Loading..."));case"success":{const video=result.data?.video;return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__.G7,{style:styles.transcriptLink},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__.xv,null,video?.title),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__.x9,{size:10}),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_khanacademy_wonder_blocks_link__WEBPACK_IMPORTED_MODULE_3__.Z,{href:"/transcript/"+(video?.contentId||"videoNotFound"),target:"_blank",className:"visited-no-recolor"},_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("See video transcript")))}default:return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_0__.G7,null,_khanacademy_wonder_blocks_i18n__WEBPACK_IMPORTED_MODULE_1__._("Something went wrong."))}};try{videotranscriptlink.displayName="videotranscriptlink",videotranscriptlink.__docgenInfo={description:"Video Transcript Link Component.",displayName:"videotranscriptlink",props:{location:{defaultValue:null,description:"",name:"location",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/perseus/src/widgets/video-transcript-link.tsx#videotranscriptlink"]={docgenInfo:videotranscriptlink.__docgenInfo,name:"videotranscriptlink",path:"packages/perseus/src/widgets/video-transcript-link.tsx#videotranscriptlink"})}catch(__react_docgen_typescript_loader_error){}},"./packages/simple-markdown/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>simple_markdown_src});(0,__webpack_require__("./packages/perseus-core/src/index.ts").C)("@khanacademy/simple-markdown","__lib_version__");var TABLE_ROW_SEPARATOR_TRIM,TABLE_CELL_END_TRIM,TABLE_RIGHT_ALIGN,TABLE_CENTER_ALIGN,TABLE_LEFT_ALIGN,parseTableAlignCapture,parseTableRow,parseTable,CR_NEWLINE_R=/\r\n?/g,TAB_R=/\t/g,FORMFEED_R=/\f/g,preprocess=function(source){return source.replace(CR_NEWLINE_R,"\n").replace(FORMFEED_R,"").replace(TAB_R,"    ")},populateInitialState=function(givenState,defaultState){var state=givenState||{};if(null!=defaultState)for(var prop in defaultState)Object.prototype.hasOwnProperty.call(defaultState,prop)&&(state[prop]=defaultState[prop]);return state},parserFor=function(rules,defaultState){var latestState,ruleList=Object.keys(rules).filter((function(type){var rule=rules[type];if(null==rule||null==rule.match)return!1;var order=rule.order;return"number"==typeof order&&isFinite(order)||"undefined"==typeof console||console.warn("simple-markdown: Invalid order for rule `"+type+"`: "+String(order)),!0}));ruleList.sort((function(typeA,typeB){var ruleA=rules[typeA],ruleB=rules[typeB],orderA=ruleA.order,orderB=ruleB.order;if(orderA!==orderB)return orderA-orderB;var secondaryOrderA=ruleA.quality?0:1,secondaryOrderB=ruleB.quality?0:1;return secondaryOrderA!==secondaryOrderB?secondaryOrderA-secondaryOrderB:typeA<typeB?-1:typeA>typeB?1:0}));var nestedParse=function(source,state){var result=[];for(latestState=state=state||latestState;source;){var ruleType=null,rule=null,capture=null,quality=NaN,i=0,currRuleType=ruleList[0],currRule=rules[currRuleType];do{var currOrder=currRule.order,prevCaptureStr=null==state.prevCapture?"":state.prevCapture[0],currCapture=currRule.match(source,state,prevCaptureStr);if(currCapture){var currQuality=currRule.quality?currRule.quality(currCapture,state,prevCaptureStr):0;currQuality<=quality||(ruleType=currRuleType,rule=currRule,capture=currCapture,quality=currQuality)}i++,currRuleType=ruleList[i],currRule=rules[currRuleType]}while(currRule&&(!capture||currRule.order===currOrder&&currRule.quality));if(null==rule||null==capture)throw new Error("Could not find a matching rule for the below content. The rule with highest `order` should always match content provided to it. Check the definition of `match` for '"+ruleList[ruleList.length-1]+"'. It seems to not match the following source:\n"+source);if(capture.index)throw new Error("`match` must return a capture starting at index 0 (the current parse index). Did you forget a ^ at the start of the RegExp?");var parsed=rule.parse(capture,nestedParse,state);if(Array.isArray(parsed))Array.prototype.push.apply(result,parsed);else{if(null==parsed||"object"!=typeof parsed)throw new Error(`parse() function returned invalid parse result: '${parsed}'`);null==parsed.type&&(parsed.type=ruleType),result.push(parsed)}state.prevCapture=capture,source=source.substring(state.prevCapture[0].length)}return result};return function(source,state){return(latestState=populateInitialState(state,defaultState)).inline||latestState.disableAutoBlockNewlines||(source+="\n\n"),latestState.prevCapture=null,nestedParse(preprocess(source),latestState)}},inlineRegex=function(regex){var match=function(source,state,prevCapture){return state.inline?regex.exec(source):null};return match.regex=regex,match},blockRegex=function(regex){var match=function(source,state){return state.inline?null:regex.exec(source)};return match.regex=regex,match},anyScopeRegex=function(regex){var match=function(source,state){return regex.exec(source)};return match.regex=regex,match},TYPE_SYMBOL="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,reactElement=function(type,key,props){return{$$typeof:TYPE_SYMBOL,type,key:null==key?void 0:key,ref:null,props,_owner:null}},htmlTag=function(tagName,content,attributes,isClosed){attributes=attributes||{},isClosed=void 0===isClosed||isClosed;var attributeString="";for(var attr in attributes){var attribute=attributes[attr];Object.prototype.hasOwnProperty.call(attributes,attr)&&attribute&&(attributeString+=" "+sanitizeText(attr)+'="'+sanitizeText(attribute)+'"')}var unclosedTag="<"+tagName+attributeString+">";return isClosed?unclosedTag+content+"</"+tagName+">":unclosedTag},EMPTY_PROPS={},sanitizeUrl=function(url){if(null==url)return null;try{var prot=new URL(url,"https://localhost").protocol;if(0===prot.indexOf("javascript:")||0===prot.indexOf("vbscript:")||0===prot.indexOf("data:"))return null}catch(e){return null}return url},SANITIZE_TEXT_R=/[<>&"']/g,SANITIZE_TEXT_CODES={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#96;"},sanitizeText=function(text){return String(text).replace(SANITIZE_TEXT_R,(function(chr){return SANITIZE_TEXT_CODES[chr]}))},UNESCAPE_URL_R=/\\([^0-9A-Za-z\s])/g,unescapeUrl=function(rawUrlString){return rawUrlString.replace(UNESCAPE_URL_R,"$1")},parseInline=function(parse,content,state){var isCurrentlyInline=state.inline||!1;state.inline=!0;var result=parse(content,state);return state.inline=isCurrentlyInline,result},parseCaptureInline=function(capture,parse,state){return{content:parseInline(parse,capture[1],state)}},ignoreCapture=function(){return{}},LIST_ITEM_PREFIX_R=new RegExp("^( *)((?:[*+-]|\\d+\\.)) +"),LIST_ITEM_R=new RegExp("( *)((?:[*+-]|\\d+\\.)) +[^\\n]*(?:\\n(?!\\1(?:[*+-]|\\d+\\.) )[^\\n]*)*(\n|$)","gm"),BLOCK_END_R=/\n{2,}$/,INLINE_CODE_ESCAPE_BACKTICKS_R=/^ (?= *`)|(` *) $/g,LIST_BLOCK_END_R=BLOCK_END_R,LIST_ITEM_END_R=/ *\n+$/,LIST_R=new RegExp("^( *)((?:[*+-]|\\d+\\.)) [\\s\\S]+?(?:\n{2,}(?! )(?!\\1(?:[*+-]|\\d+\\.) )\\n*|\\s*\n*$)"),LIST_LOOKBEHIND_R=/(?:^|\n)( *)$/,TABLES=(TABLE_ROW_SEPARATOR_TRIM=/^ *\| *| *\| *$/g,TABLE_CELL_END_TRIM=/ *$/,TABLE_RIGHT_ALIGN=/^ *-+: *$/,TABLE_CENTER_ALIGN=/^ *:-+: *$/,TABLE_LEFT_ALIGN=/^ *:-+ *$/,parseTableAlignCapture=function(alignCapture){return TABLE_RIGHT_ALIGN.test(alignCapture)?"right":TABLE_CENTER_ALIGN.test(alignCapture)?"center":TABLE_LEFT_ALIGN.test(alignCapture)?"left":null},parseTableRow=function(source,parse,state,trimEndSeparators){var prevInTable=state.inTable;state.inTable=!0;var tableRow=parse(source.trim(),state);state.inTable=prevInTable;var cells=[[]];return tableRow.forEach((function(node,i){"tableSeparator"===node.type?(!trimEndSeparators||0!==i&&i!==tableRow.length-1)&&cells.push([]):("text"!==node.type||null!=tableRow[i+1]&&"tableSeparator"!==tableRow[i+1].type||(node.content=node.content.replace(TABLE_CELL_END_TRIM,"")),cells[cells.length-1].push(node))})),cells},{parseTable:(parseTable=function(trimEndSeparators){return function(capture,parse,state){state.inline=!0;var header=parseTableRow(capture[1],parse,state,trimEndSeparators),align=function(source,parse,state,trimEndSeparators){return trimEndSeparators&&(source=source.replace(TABLE_ROW_SEPARATOR_TRIM,"")),source.trim().split("|").map(parseTableAlignCapture)}(capture[2],0,0,trimEndSeparators),cells=function(source,parse,state,trimEndSeparators){return source.trim().split("\n").map((function(rowText){return parseTableRow(rowText,parse,state,trimEndSeparators)}))}(capture[3],parse,state,trimEndSeparators);return state.inline=!1,{type:"table",header,align,cells}}})(!0),parseNpTable:parseTable(!1),TABLE_REGEX:/^ *(\|.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}),LINK_INSIDE="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",LINK_HREF_AND_TITLE="\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",AUTOLINK_MAILTO_CHECK_R=/mailto:/i,parseRef=function(capture,state,refNode){var ref=(capture[2]||capture[1]).replace(/\s+/g," ").toLowerCase();if(state._defs&&state._defs[ref]){var def=state._defs[ref];refNode.target=def.target,refNode.title=def.title}return state._refs=state._refs||{},state._refs[ref]=state._refs[ref]||[],state._refs[ref].push(refNode),refNode},currOrder=0,defaultRules={Array:{react:function(arr,output,state){for(var oldKey=state.key,result=[],i=0,key=0;i<arr.length;i++,key++){state.key=""+i;var node=arr[i];if("text"===node.type)for(node={type:"text",content:node.content};i+1<arr.length&&"text"===arr[i+1].type;i++)node.content+=arr[i+1].content;result.push(output(node,state))}return state.key=oldKey,result},html:function(arr,output,state){for(var result="",i=0;i<arr.length;i++){var node=arr[i];if("text"===node.type)for(node={type:"text",content:node.content};i+1<arr.length&&"text"===arr[i+1].type;i++)node.content+=arr[i+1].content;result+=output(node,state)}return result}},heading:{order:currOrder++,match:blockRegex(/^ *(#{1,6})([^\n]+?)#* *(?:\n *)+\n/),parse:function(capture,parse,state){return{level:capture[1].length,content:parseInline(parse,capture[2].trim(),state)}},react:function(node,output,state){return reactElement("h"+node.level,state.key,{children:output(node.content,state)})},html:function(node,output,state){return htmlTag("h"+node.level,output(node.content,state))}},nptable:{order:currOrder++,match:blockRegex(TABLES.NPTABLE_REGEX),parse:TABLES.parseNpTable,react:null,html:null},lheading:{order:currOrder++,match:blockRegex(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(capture,parse,state){return{type:"heading",level:"="===capture[2]?1:2,content:parseInline(parse,capture[1],state)}},react:null,html:null},hr:{order:currOrder++,match:blockRegex(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:ignoreCapture,react:function(node,output,state){return reactElement("hr",state.key,EMPTY_PROPS)},html:function(node,output,state){return"<hr>"}},codeBlock:{order:currOrder++,match:blockRegex(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(capture,parse,state){return{lang:void 0,content:capture[0].replace(/^    /gm,"").replace(/\n+$/,"")}},react:function(node,output,state){var className=node.lang?"markdown-code-"+node.lang:void 0;return reactElement("pre",state.key,{children:reactElement("code",null,{className,children:node.content})})},html:function(node,output,state){var className=node.lang?"markdown-code-"+node.lang:void 0,codeBlock=htmlTag("code",sanitizeText(node.content),{class:className});return htmlTag("pre",codeBlock)}},fence:{order:currOrder++,match:blockRegex(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)+\n/),parse:function(capture,parse,state){return{type:"codeBlock",lang:capture[2]||void 0,content:capture[3]}},react:null,html:null},blockQuote:{order:currOrder++,match:blockRegex(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(capture,parse,state){return{content:parse(capture[0].replace(/^ *> ?/gm,""),state)}},react:function(node,output,state){return reactElement("blockquote",state.key,{children:output(node.content,state)})},html:function(node,output,state){return htmlTag("blockquote",output(node.content,state))}},list:{order:currOrder++,match:function(source,state){var prevCaptureStr=null==state.prevCapture?"":state.prevCapture[0],isStartOfLineCapture=LIST_LOOKBEHIND_R.exec(prevCaptureStr),isListBlock=state._list||!state.inline;return isStartOfLineCapture&&isListBlock?(source=isStartOfLineCapture[1]+source,LIST_R.exec(source)):null},parse:function(capture,parse,state){var bullet=capture[2],ordered=bullet.length>1,start=ordered?+bullet:void 0,items=capture[0].replace(LIST_BLOCK_END_R,"\n").match(LIST_ITEM_R),lastItemWasAParagraph=!1;return{ordered,start,items:items.map((function(item,i){var prefixCapture=LIST_ITEM_PREFIX_R.exec(item),space=prefixCapture?prefixCapture[0].length:0,spaceRegex=new RegExp("^ {1,"+space+"}","gm"),content=item.replace(spaceRegex,"").replace(LIST_ITEM_PREFIX_R,""),isLastItem=i===items.length-1,thisItemIsAParagraph=-1!==content.indexOf("\n\n")||isLastItem&&lastItemWasAParagraph;lastItemWasAParagraph=thisItemIsAParagraph;var adjustedContent,oldStateInline=state.inline,oldStateList=state._list;state._list=!0,thisItemIsAParagraph?(state.inline=!1,adjustedContent=content.replace(LIST_ITEM_END_R,"\n\n")):(state.inline=!0,adjustedContent=content.replace(LIST_ITEM_END_R,""));var result=parse(adjustedContent,state);return state.inline=oldStateInline,state._list=oldStateList,result}))}},react:function(node,output,state){var ListWrapper=node.ordered?"ol":"ul";return reactElement(ListWrapper,state.key,{start:node.start,children:node.items.map((function(item,i){return reactElement("li",""+i,{children:output(item,state)})}))})},html:function(node,output,state){var listItems=node.items.map((function(item){return htmlTag("li",output(item,state))})).join(""),listTag=node.ordered?"ol":"ul",attributes={start:node.start};return htmlTag(listTag,listItems,attributes)}},def:{order:currOrder++,match:blockRegex(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)*/),parse:function(capture,parse,state){var def=capture[1].replace(/\s+/g," ").toLowerCase(),target=capture[2],title=capture[3];return state._refs&&state._refs[def]&&state._refs[def].forEach((function(refNode){refNode.target=target,refNode.title=title})),state._defs=state._defs||{},state._defs[def]={target,title},{def,target,title}},react:function(){return null},html:function(){return""}},table:{order:currOrder++,match:blockRegex(TABLES.TABLE_REGEX),parse:TABLES.parseTable,react:function(node,output,state){var getStyle=function(colIndex){return null==node.align[colIndex]?{}:{textAlign:node.align[colIndex]}},headers=node.header.map((function(content,i){return reactElement("th",""+i,{style:getStyle(i),scope:"col",children:output(content,state)})})),rows=node.cells.map((function(row,r){return reactElement("tr",""+r,{children:row.map((function(content,c){return reactElement("td",""+c,{style:getStyle(c),children:output(content,state)})}))})}));return reactElement("table",state.key,{children:[reactElement("thead","thead",{children:reactElement("tr",null,{children:headers})}),reactElement("tbody","tbody",{children:rows})]})},html:function(node,output,state){var getStyle=function(colIndex){return null==node.align[colIndex]?"":"text-align:"+node.align[colIndex]+";"},headers=node.header.map((function(content,i){return htmlTag("th",output(content,state),{style:getStyle(i),scope:"col"})})).join(""),rows=node.cells.map((function(row){var cols=row.map((function(content,c){return htmlTag("td",output(content,state),{style:getStyle(c)})})).join("");return htmlTag("tr",cols)})).join(""),thead=htmlTag("thead",htmlTag("tr",headers)),tbody=htmlTag("tbody",rows);return htmlTag("table",thead+tbody)}},newline:{order:currOrder++,match:blockRegex(/^(?:\n *)*\n/),parse:ignoreCapture,react:function(node,output,state){return"\n"},html:function(node,output,state){return"\n"}},paragraph:{order:currOrder++,match:blockRegex(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:parseCaptureInline,react:function(node,output,state){return reactElement("div",state.key,{className:"paragraph",children:output(node.content,state)})},html:function(node,output,state){return htmlTag("div",output(node.content,state),{class:"paragraph"})}},escape:{order:currOrder++,match:inlineRegex(/^\\([^0-9A-Za-z\s])/),parse:function(capture,parse,state){return{type:"text",content:capture[1]}},react:null,html:null},tableSeparator:{order:currOrder++,match:function(source,state){return state.inTable?/^ *\| */.exec(source):null},parse:function(){return{type:"tableSeparator"}},react:function(){return" | "},html:function(){return" &vert; "}},autolink:{order:currOrder++,match:inlineRegex(/^<([^: >]+:\/[^ >]+)>/),parse:function(capture,parse,state){return{type:"link",content:[{type:"text",content:capture[1]}],target:capture[1]}},react:null,html:null},mailto:{order:currOrder++,match:inlineRegex(/^<([^ >]+@[^ >]+)>/),parse:function(capture,parse,state){var address=capture[1],target=capture[1];return AUTOLINK_MAILTO_CHECK_R.test(target)||(target="mailto:"+target),{type:"link",content:[{type:"text",content:address}],target}},react:null,html:null},url:{order:currOrder++,match:inlineRegex(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(capture,parse,state){return{type:"link",content:[{type:"text",content:capture[1]}],target:capture[1],title:void 0}},react:null,html:null},link:{order:currOrder++,match:inlineRegex(new RegExp("^\\[("+LINK_INSIDE+")\\]\\("+LINK_HREF_AND_TITLE+"\\)")),parse:function(capture,parse,state){return{content:parse(capture[1],state),target:unescapeUrl(capture[2]),title:capture[3]}},react:function(node,output,state){return reactElement("a",state.key,{href:sanitizeUrl(node.target),title:node.title,children:output(node.content,state)})},html:function(node,output,state){var attributes={href:sanitizeUrl(node.target),title:node.title};return htmlTag("a",output(node.content,state),attributes)}},image:{order:currOrder++,match:inlineRegex(new RegExp("^!\\[("+LINK_INSIDE+")\\]\\("+LINK_HREF_AND_TITLE+"\\)")),parse:function(capture,parse,state){return{alt:capture[1],target:unescapeUrl(capture[2]),title:capture[3]}},react:function(node,output,state){return reactElement("img",state.key,{src:sanitizeUrl(node.target),alt:node.alt,title:node.title})},html:function(node,output,state){var attributes={src:sanitizeUrl(node.target),alt:node.alt,title:node.title};return htmlTag("img","",attributes,!1)}},reflink:{order:currOrder++,match:inlineRegex(new RegExp("^\\[("+LINK_INSIDE+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(capture,parse,state){return parseRef(capture,state,{type:"link",content:parse(capture[1],state)})},react:null,html:null},refimage:{order:currOrder++,match:inlineRegex(new RegExp("^!\\[("+LINK_INSIDE+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(capture,parse,state){return parseRef(capture,state,{type:"image",alt:capture[1]})},react:null,html:null},em:{order:currOrder,match:inlineRegex(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?)\\*(?!\\*)")),quality:function(capture){return capture[0].length+.2},parse:function(capture,parse,state){return{content:parse(capture[2]||capture[1],state)}},react:function(node,output,state){return reactElement("em",state.key,{children:output(node.content,state)})},html:function(node,output,state){return htmlTag("em",output(node.content,state))}},strong:{order:currOrder,match:inlineRegex(/^\*\*((?:\\[\s\S]|[^\\])+?)\*\*(?!\*)/),quality:function(capture){return capture[0].length+.1},parse:parseCaptureInline,react:function(node,output,state){return reactElement("strong",state.key,{children:output(node.content,state)})},html:function(node,output,state){return htmlTag("strong",output(node.content,state))}},u:{order:currOrder++,match:inlineRegex(/^__((?:\\[\s\S]|[^\\])+?)__(?!_)/),quality:function(capture){return capture[0].length},parse:parseCaptureInline,react:function(node,output,state){return reactElement("u",state.key,{children:output(node.content,state)})},html:function(node,output,state){return htmlTag("u",output(node.content,state))}},del:{order:currOrder++,match:inlineRegex(/^~~(?=\S)((?:\\[\s\S]|~(?!~)|[^\s~\\]|\s(?!~~))+?)~~/),parse:parseCaptureInline,react:function(node,output,state){return reactElement("del",state.key,{children:output(node.content,state)})},html:function(node,output,state){return htmlTag("del",output(node.content,state))}},inlineCode:{order:currOrder++,match:inlineRegex(/^(`+)([\s\S]*?[^`])\1(?!`)/),parse:function(capture,parse,state){return{content:capture[2].replace(INLINE_CODE_ESCAPE_BACKTICKS_R,"$1")}},react:function(node,output,state){return reactElement("code",state.key,{children:node.content})},html:function(node,output,state){return htmlTag("code",sanitizeText(node.content))}},br:{order:currOrder++,match:anyScopeRegex(/^ {2,}\n/),parse:ignoreCapture,react:function(node,output,state){return reactElement("br",state.key,EMPTY_PROPS)},html:function(node,output,state){return"<br>"}},text:{order:currOrder++,match:anyScopeRegex(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(capture,parse,state){return{content:capture[0]}},react:function(node,output,state){return node.content},html:function(node,output,state){return sanitizeText(node.content)}}},outputFor=function(rules,property){let defaultState=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!property)throw new Error("simple-markdown: outputFor: `property` must be defined. if you just upgraded, you probably need to replace `outputFor` with `reactFor`");var latestState,arrayRuleCheck=(rules.Array||defaultRules.Array)[property];if(!arrayRuleCheck)throw new Error("simple-markdown: outputFor: to join nodes of type `"+property+"` you must provide an `Array:` joiner rule with that type, Please see the docs for details on specifying an Array rule.");var arrayRuleOutput=arrayRuleCheck,nestedOutput=function(ast,state){return latestState=state=state||latestState,Array.isArray(ast)?arrayRuleOutput(ast,nestedOutput,state):rules[ast.type][property](ast,nestedOutput,state)};return function(ast,state){return latestState=populateInitialState(state,defaultState),nestedOutput(ast,latestState)}},defaultRawParse=parserFor(defaultRules),defaultBlockParse=function(source,state){return(state=state||{}).inline=!1,defaultRawParse(source,state)},defaultImplicitParse=function(source,state){var isBlock=BLOCK_END_R.test(source);return(state=state||{}).inline=!isBlock,defaultRawParse(source,state)},defaultReactOutput=outputFor(defaultRules,"react"),defaultHtmlOutput=outputFor(defaultRules,"html"),markdownToReact=function(source,state){return defaultReactOutput(defaultBlockParse(source,state),state)};const simple_markdown_src={defaultRules,parserFor,outputFor,inlineRegex,blockRegex,anyScopeRegex,parseInline,parseBlock:function(parse,content,state){var isCurrentlyInline=state.inline||!1;state.inline=!1;var result=parse(content+"\n\n",state);return state.inline=isCurrentlyInline,result},markdownToReact,markdownToHtml:function(source,state){return defaultHtmlOutput(defaultBlockParse(source,state),state)},ReactMarkdown:function(props){var divProps={};for(var prop in props)"source"!==prop&&Object.prototype.hasOwnProperty.call(props,prop)&&(divProps[prop]=props[prop]);return divProps.children=markdownToReact(props.source),reactElement("div",null,divProps)},defaultBlockParse,defaultInlineParse:function(source,state){return(state=state||{}).inline=!0,defaultRawParse(source,state)},defaultImplicitParse,defaultReactOutput,defaultHtmlOutput,preprocess,sanitizeText,sanitizeUrl,unescapeUrl,htmlTag,reactElement,defaultRawParse,ruleOutput:function(rules,property){property||"undefined"==typeof console||console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument.");return function(ast,outputFunc,state){return rules[ast.type][property](ast,outputFunc,state)}},reactFor:function(outputFunc){var nestedOutput=function(ast,state){if(state=state||{},Array.isArray(ast)){for(var oldKey=state.key,result=[],lastResult=null,i=0;i<ast.length;i++){state.key=""+i;var nodeOut=nestedOutput(ast[i],state);"string"==typeof nodeOut&&"string"==typeof lastResult?(lastResult+=nodeOut,result[result.length-1]=lastResult):(result.push(nodeOut),lastResult=nodeOut)}return state.key=oldKey,result}return outputFunc(ast,nestedOutput,state)};return nestedOutput},htmlFor:function(outputFunc){var nestedOutput=function(ast,state){return state=state||{},Array.isArray(ast)?ast.map((function(node){return nestedOutput(node,state)})).join(""):outputFunc(ast,nestedOutput,state)};return nestedOutput},defaultParse:function(){"undefined"!=typeof console&&console.warn("defaultParse is deprecated, please use `defaultImplicitParse`");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return defaultImplicitParse.apply(null,args)},defaultOutput:function(){"undefined"!=typeof console&&console.warn("defaultOutput is deprecated, please use `defaultReactOutput`");for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return defaultReactOutput.apply(null,args)}}},"./testing/test-dependencies.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qS:()=>storybookDependenciesV2,fL:()=>storybookTestDependencies,bM:()=>testDependenciesV2});var react=__webpack_require__("./node_modules/react/index.js"),register_all_widgets_for_testing=__webpack_require__("./packages/perseus/src/util/register-all-widgets-for-testing.ts"),dist=__webpack_require__("./node_modules/@khanacademy/mathjax-renderer/dist/index.js");__webpack_require__("./node_modules/@khanacademy/mathjax-renderer/src/css/mathjax.css"),__webpack_require__("./node_modules/@khanacademy/mathjax-renderer/src/css/safari-hacks.css"),__webpack_require__("./node_modules/@khanacademy/mathjax-renderer/src/css/selectable.css");const renderer=new dist.MathJaxRenderer({shouldFixUnicodeLayout:!0,fontURL:"https://cdn.kastatic.org/fonts/mathjax"});function TestMathjax(_ref){let{children:tex,onRender}=_ref;const ref=react.useRef(null),{domElement,addLabelWhenPresentational}=react.useMemo((()=>renderer.render(tex)),[tex]);return react.useLayoutEffect((()=>{ref.current&&(addLabelWhenPresentational(ref.current),ref.current.innerHTML="",ref.current.appendChild(domElement))})),react.useEffect((()=>{renderer.updateStyles(),onRender?.()}),[tex,onRender]),react.createElement("span",{ref})}try{TestMathjax.displayName="TestMathjax",TestMathjax.__docgenInfo={description:"",displayName:"TestMathjax",props:{onRender:{defaultValue:null,description:"",name:"onRender",required:!1,type:{name:"((root?: any) => unknown)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["testing/test-mathjax.tsx#TestMathjax"]={docgenInfo:TestMathjax.__docgenInfo,name:"TestMathjax",path:"testing/test-mathjax.tsx#TestMathjax"})}catch(__react_docgen_typescript_loader_error){}(0,register_all_widgets_for_testing.V)();const testDependencies={JIPT:{useJIPT:!1},graphieMovablesJiptLabels:{addLabel:(label,useMath)=>{}},svgImageJiptLabels:{addLabel:(label,useMath)=>{}},rendererTranslationComponents:{addComponent:renderer=>-1,removeComponentAtIndex:index=>{}},logKaTeXError:(expression,error)=>Promise.resolve({}),TeX:_ref=>{let{children}=_ref;return react.createElement("span",{className:"mock-TeX"},children)},staticUrl:str=>`mockStaticUrl(${str})`,useVideo:(id,kind)=>"YoutubeId"===id&&"YOUTUBE_ID"===kind?{status:"success",data:{video:{id:"YoutubeVideo",contentId:"contentId",youtubeId:"YoutubeId",title:"Youtube Video Title",__typename:"Video"}}}:"slug-video-id"===id&&"READABLE_ID"===kind?{status:"success",data:{video:{title:"Slug Video Title",id:"VideoId",youtubeId:"YoutubeId",contentId:"contentId",__typename:"Video"}}}:{status:"loading"},InitialRequestUrl:{origin:"origin-test-interface",host:"host-test-interface",protocol:"protocol-test-interface"},isDevServer:!1,kaLocale:"en",isMobile:!1,Log:{log:()=>{},error:()=>{}}},testDependenciesV2={analytics:{onAnalyticsEvent:async event=>{console.log("⚡️ Sending analytics event:",event)}}},storybookTestDependencies={...testDependencies,TeX:TestMathjax,staticUrl:str=>str},storybookDependenciesV2={...testDependenciesV2}},"./vendor/hubble/hubble.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var isObject=function(obj){return obj===Object(obj)},merge=function(){for(var obj={},i=0;i<arguments.length;i++){var source=arguments[i];if(source)for(var prop in source)obj[prop]=source[prop]}return obj},clone=function(obj){return isObject(obj)?Array.isArray(obj)?obj.slice():merge(obj):obj},dispatch=function(x){return Array.isArray(x)?arr:isObject(x)?obj:"string"==typeof x?str:void 0},lens=function(obj){if(obj instanceof lens)return obj;if(!(this instanceof lens))return new lens(obj);var ops=dispatch(obj);this._wrapped=ops.thaw?ops.thaw(obj):obj};lens.prototype.freeze=function(){var obj=this._wrapped,ops=dispatch(obj);return ops.freeze?ops.freeze(obj):obj},lens.prototype.zoom=function(lensArr){return void 0===this._zoomStack&&(this._zoomStack=[]),this._zoomStack.push({zoom:lensArr,wrapped:this._wrapped}),this._wrapped=lens(this._wrapped).get(lensArr),this},lens.prototype.deZoom=function(){var frame=this._zoomStack.pop();return this._wrapped=lens(frame.wrapped).set(frame.zoom,this._wrapped).freeze(),this},lens.prototype.get=function(lensArr){for(var obj=this._wrapped,i=0;i<lensArr.length;i++)obj=dispatch(obj).get(obj,lensArr[i]);return obj},lens.prototype.mod=function(lensArr,f){var obj=this._wrapped,newObj=clone(obj),ops=dispatch(obj);if(0===lensArr.length)this._wrapped=f(this._wrapped);else if(1===lensArr.length)this._wrapped=ops.mod(newObj,lensArr[0],f);else{var monocle=lensArr[0],shortLens=lensArr.slice(1);newObj[monocle]=lens(obj[monocle]).mod(shortLens,f).freeze(),this._wrapped=newObj}return this},lens.prototype.merge=function(lensArr,props){return this._wrapped=lens(this._wrapped).mod(lensArr,(function(oldProps){return merge(oldProps,props)})).freeze(),this},lens.prototype.del=function(lensArr){var obj=this._wrapped,ops=dispatch(obj);if(1===lensArr.length)this._wrapped=ops.del(obj,lensArr[0]);else{var monocle=lensArr[0],shortLens=lensArr.slice(1),newObj=clone(obj);newObj[monocle]=lens(obj[monocle]).del(shortLens).freeze(),this._wrapped=newObj}return this},lens.prototype.set=function(lensArr,set){return this.mod(lensArr,(function(){return set}))};const arr={get:function(arr,monocle){return arr[monocle]},set:function(arr,monocle,val){var newArr=arr.splice();return newArr[monocle]=val,newArr},mod:function(arr,monocle,f){var newArr=arr.slice();return newArr[monocle]=f(arr[monocle]),newArr},del:function(arr,monocle){var newArr=arr.slice();return newArr.splice(monocle,1),newArr}},obj={get:function(obj,monocle){return obj[monocle]},set:function(obj,monocle,val){var newObj=clone(obj);return newObj[monocle]=val,newObj},mod:function(obj,monocle,f){var newObj=clone(obj);return newObj[monocle]=f(obj[monocle]),newObj},del:function(obj,monocle){var newObj=clone(obj);return delete newObj[monocle],newObj}},str={get:function(arr,monocle){return arr[monocle]},set:function(arr,monocle,val){var newArr=arr.splice();return newArr[monocle]=val,newArr},mod:function(arr,monocle,f){var newArr=arr.splice();return newArr[monocle]=f(arr[monocle]),newArr},del:function(arr,monocle){var newArr=arr.slice();return newArr.splice(monocle),newArr}},__WEBPACK_DEFAULT_EXPORT__=lens},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[12].use[1]!./node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[12].use[2]!./packages/math-input/less/main.less":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".keypad-input {\n  outline: none !important;\n}\n.keypad-input .mq-editable-field .mq-root-block {\n  overflow-x: auto;\n}\n.keypad-input .mq-editable-field .mq-cursor:not(:only-child),\n.keypad-input .mq-editable-field .mq-root-block.mq-hasCursor > .mq-cursor:only-child {\n  /* HACK(charlie): Magic numbers to properly size and position the vertical\n               cursor, which is visible whenever the cursor is not alone in its parent,\n               with the exception that it's also visible when the entire input is\n               empty. */\n  height: 20px !important;\n  width: 2px;\n  margin-top: -5px !important;\n  vertical-align: middle !important;\n  border-radius: 1px !important;\n}\n.keypad-input .mq-editable-field .mq-cursor {\n  border-left: 2px solid #1865f2 !important;\n  margin-left: -1px !important;\n  margin-right: -1px !important;\n  opacity: 1 !important;\n  transition: opacity 300ms ease !important;\n  visibility: visible !important;\n}\n.keypad-input .mq-editable-field .mq-cursor.mq-blink {\n  opacity: 0 !important;\n  visibility: visible !important;\n}\n.keypad-input .mq-editable-field .mq-non-leaf .mq-cursor:only-child {\n  border: 2px solid !important;\n  border-color: #1865f2 !important;\n  border-radius: 1px;\n  opacity: 1 !important;\n  padding: 0 4px 0 4px;\n  transition: border-color 300ms ease !important;\n}\n.keypad-input .mq-editable-field .mq-non-leaf .mq-cursor:only-child.mq-blink {\n  border-color: #1865f2 !important;\n  opacity: 1 !important;\n}\n.keypad-input .mq-empty {\n  background: transparent !important;\n}\n.keypad-input .mq-empty:not(.mq-root-block):after,\n.keypad-input .mq-hasCursor:empty:not(.mq-root-block):after {\n  border: 2px solid rgba(33, 36, 44, 0.16);\n  border-radius: 1px;\n  color: transparent;\n  display: inline-block;\n  margin-left: -1px;\n  margin-right: -1px;\n  padding: 0 4px 0 4px;\n  visibility: visible !important;\n}\n.keypad-input .mq-selection .mq-empty:not(.mq-root-block):after {\n  border-color: white;\n}\n.keypad-input .mq-hasCursor:empty:not(.mq-root-block):after {\n  content: \"c\";\n}\n.keypad-input .mq-math-mode .mq-selection .mq-non-leaf,\n.keypad-input .mq-editable-field .mq-selection .mq-non-leaf {\n  background: #1865f2 !important;\n  border-color: white !important;\n  color: white !important;\n}\n.keypad-input .mq-math-mode .mq-selection .mq-scaled,\n.keypad-input .mq-editable-field .mq-selection .mq-scaled {\n  background: transparent !important;\n  border-color: transparent !important;\n  color: white !important;\n}\n.keypad-input .mq-selection {\n  background: #1865f2 !important;\n  border-color: white !important;\n  color: white !important;\n  display: inline-block !important;\n}\n/**\n * @license\n * MathQuill v0.10.1, by Han, Jeanine, and Mary\n * http://mathquill.com | maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\n\n.mq-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n.mq-mathspeak {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n@font-face {\n  font-family: Symbola;\n  src: url(/fonts/Symbola.eot);\n  src: local('Symbola Regular'), local('Symbola'), url(/fonts/Symbola.woff2) format('woff2'), url(/fonts/Symbola.woff) format('woff'), url(/fonts/Symbola.ttf) format('truetype'), url(/fonts/Symbola.otf) format('opentype'), url(/fonts/Symbola.svg#Symbola) format('svg');\n}\n.mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor {\n  border-left: 1px solid currentColor;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor.mq-blink {\n  visibility: hidden;\n}\n.mq-editable-field,\n.mq-math-mode .mq-editable-field {\n  border: 1px solid gray;\n}\n.mq-editable-field.mq-focused,\n.mq-math-mode .mq-editable-field.mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  border-color: #709ac0;\n}\n.mq-math-mode .mq-editable-field {\n  margin: 1px;\n}\n.mq-editable-field .mq-latex-command-input {\n  color: inherit;\n  font-family: 'Courier New', monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n.mq-editable-field .mq-latex-command-input.mq-empty {\n  background: transparent;\n}\n.mq-editable-field .mq-latex-command-input.mq-hasCursor {\n  border-color: ActiveBorder;\n}\n.mq-editable-field.mq-empty:after,\n.mq-editable-field.mq-text-mode:after,\n.mq-math-mode .mq-empty:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-cursor:only-child:after,\n.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {\n  content: '';\n}\n.mq-editable-field.mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.mq-root-block,\n.mq-math-mode .mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.mq-root-block .mq-digit,\n.mq-math-mode .mq-root-block .mq-digit {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-root-block .mq-group-start,\n.mq-math-mode .mq-root-block .mq-group-start {\n  margin-left: 0.11em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-other,\n.mq-math-mode .mq-root-block .mq-group-other {\n  margin-left: -0.01em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-1,\n.mq-math-mode .mq-root-block .mq-group-leading-1,\n.mq-root-block .mq-group-leading-2,\n.mq-math-mode .mq-root-block .mq-group-leading-2 {\n  margin-left: 0;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-3,\n.mq-math-mode .mq-root-block .mq-group-leading-3 {\n  margin-left: 0.036em;\n  margin-right: -0.01em;\n}\n.mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-3,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-3 {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-math-mode {\n  font-variant: normal;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-non-leaf,\n.mq-math-mode .mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode var,\n.mq-math-mode .mq-text-mode,\n.mq-math-mode .mq-nonSymbola {\n  font-family: 'Times New Roman', Symbola, serif;\n  line-height: 0.9;\n}\n.mq-math-mode svg {\n  fill: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: black;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n.mq-math-mode .mq-empty {\n  background: rgba(0, 0, 0, 0.2);\n}\n.mq-math-mode .mq-empty.mq-root-block {\n  background: transparent;\n}\n.mq-math-mode .mq-empty.mq-quiet-delimiter {\n  background: transparent;\n}\n.mq-math-mode.mq-empty {\n  background: transparent;\n}\n.mq-math-mode .mq-text-mode {\n  display: inline-block;\n  white-space: pre;\n}\n.mq-math-mode .mq-text-mode.mq-hasCursor {\n  box-shadow: inset darkgray 0 0.1em 0.2em;\n  padding: 0 0.1em;\n  margin: 0 -0.1em;\n  min-width: 1ex;\n}\n.mq-math-mode .mq-font {\n  font: 1em 'Times New Roman', Symbola, serif;\n}\n.mq-math-mode .mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n.mq-math-mode b,\n.mq-math-mode b.mq-font {\n  font-weight: bolder;\n}\n.mq-math-mode var,\n.mq-math-mode i,\n.mq-math-mode i.mq-font {\n  font-style: italic;\n}\n.mq-math-mode var.mq-f {\n  margin-right: 0.2em;\n  margin-left: 0.1em;\n}\n.mq-math-mode .mq-roman var.mq-f {\n  margin: 0;\n}\n.mq-math-mode big {\n  font-size: 200%;\n}\n.mq-math-mode .mq-int > big {\n  display: inline-block;\n  -webkit-transform: scaleX(0.7);\n  -moz-transform: scaleX(0.7);\n  -ms-transform: scaleX(0.7);\n  -o-transform: scaleX(0.7);\n  transform: scaleX(0.7);\n  vertical-align: -0.16em;\n}\n.mq-math-mode .mq-int > .mq-supsub {\n  font-size: 80%;\n  vertical-align: -1.1em;\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sup > .mq-sup-inner {\n  vertical-align: 1.3em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sub {\n  margin-left: -0.35em;\n}\n.mq-math-mode .mq-roman {\n  font-style: normal;\n}\n.mq-math-mode .mq-sans-serif {\n  font-family: sans-serif, Symbola, serif;\n}\n.mq-math-mode .mq-monospace {\n  font-family: monospace, Symbola, serif;\n}\n.mq-math-mode .mq-overline {\n  border-top: 1px solid;\n  margin-top: 1px;\n}\n.mq-math-mode .mq-underline {\n  border-bottom: 1px solid;\n  margin-bottom: 1px;\n}\n.mq-math-mode .mq-binary-operator {\n  padding: 0 0.2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-supsub {\n  text-align: left;\n  font-size: 90%;\n  vertical-align: -0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only {\n  vertical-align: 0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only > .mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n.mq-math-mode .mq-supsub .mq-sup {\n  display: block;\n}\n.mq-math-mode .mq-supsub .mq-sub {\n  display: block;\n  float: left;\n}\n.mq-math-mode .mq-supsub .mq-binary-operator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-supsub .mq-fraction {\n  font-size: 70%;\n}\n.mq-math-mode sup.mq-nthroot {\n  font-size: 80%;\n  vertical-align: 0.8em;\n  margin-right: -0.6em;\n  margin-left: 0.2em;\n  min-width: 0.5em;\n}\n.mq-math-mode .mq-ghost svg {\n  opacity: 0.2;\n}\n.mq-math-mode .mq-bracket-middle {\n  margin-top: 0.1em;\n  margin-bottom: 0.1em;\n}\n.mq-math-mode .mq-bracket-l,\n.mq-math-mode .mq-bracket-r {\n  position: absolute;\n  top: 0;\n  bottom: 2px;\n}\n.mq-math-mode .mq-bracket-l {\n  left: 0;\n}\n.mq-math-mode .mq-bracket-r {\n  right: 0;\n}\n.mq-math-mode .mq-bracket-container {\n  position: relative;\n}\n.mq-math-mode .mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n.mq-math-mode .mq-array > span {\n  display: block;\n}\n.mq-math-mode .mq-operator-name {\n  font-family: Symbola, 'Times New Roman', serif;\n  line-height: 0.9;\n  font-style: normal;\n}\n.mq-math-mode var.mq-operator-name.mq-first {\n  padding-left: 0.2em;\n}\n.mq-math-mode var.mq-operator-name.mq-last,\n.mq-math-mode .mq-supsub.mq-after-operator-name {\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -0.4em;\n  padding: 0 0.2em;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link,\n.mq-math-mode x:default {\n  display: inline-block;\n}\n.mq-math-mode .mq-numerator,\n.mq-math-mode .mq-denominator,\n.mq-math-mode .mq-dot-recurring {\n  display: block;\n}\n.mq-math-mode .mq-numerator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: 0.1em;\n}\n.mq-math-mode .mq-dot-recurring {\n  text-align: center;\n  height: 0.3em;\n}\n.mq-math-mode .mq-sqrt-prefix {\n  position: absolute;\n  top: 1px;\n  bottom: 0.15em;\n  width: 0.95em;\n}\n.mq-math-mode .mq-sqrt-container {\n  position: relative;\n}\n.mq-math-mode .mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  margin-left: 0.9em;\n  padding-left: 0.15em;\n  padding-right: 0.2em;\n  margin-right: 0.1em;\n  padding-top: 1px;\n}\n.mq-math-mode .mq-diacritic-above {\n  display: block;\n  text-align: center;\n  line-height: 0.4em;\n}\n.mq-math-mode .mq-diacritic-stem {\n  display: block;\n  text-align: center;\n}\n.mq-math-mode .mq-hat-prefix {\n  display: block;\n  text-align: center;\n  line-height: 0.95em;\n  margin-bottom: -0.7em;\n  transform: scaleX(1.5);\n  -moz-transform: scaleX(1.5);\n  -o-transform: scaleX(1.5);\n  -webkit-transform: scaleX(1.5);\n}\n.mq-math-mode .mq-hat-stem {\n  display: block;\n}\n.mq-math-mode .mq-large-operator {\n  vertical-align: -0.2em;\n  padding: 0.2em;\n  text-align: center;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator big,\n.mq-math-mode .mq-large-operator .mq-to {\n  display: block;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator .mq-to {\n  font-size: 80%;\n}\n.mq-math-mode .mq-large-operator .mq-from {\n  float: right;\n  /* take out of normal flow to manipulate baseline */\n  width: 100%;\n}\n.mq-math-mode,\n.mq-math-mode .mq-editable-field {\n  cursor: text;\n  font-family: Symbola, 'Times New Roman', serif;\n}\n.mq-math-mode .mq-overarc {\n  border-top: 1px solid black;\n  -webkit-border-top-right-radius: 50% 0.3em;\n  -moz-border-radius-topright: 50% 0.3em;\n  border-top-right-radius: 50% 0.3em;\n  -webkit-border-top-left-radius: 50% 0.3em;\n  -moz-border-radius-topleft: 50% 0.3em;\n  border-top-left-radius: 50% 0.3em;\n  margin-top: 1px;\n  padding-top: 0.15em;\n}\n.mq-math-mode .mq-overarrow {\n  min-width: 0.5em;\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: 0.2em;\n  text-align: center;\n  position: relative;\n}\n.mq-math-mode .mq-overarrow:after {\n  position: absolute;\n  right: -0.1em;\n  top: -0.48em;\n  font-size: 0.5em;\n  content: '\\27A4';\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:after {\n  content: '';\n  display: none;\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:before,\n.mq-math-mode .mq-overarrow.mq-arrow-leftright:before {\n  position: absolute;\n  top: -0.48em;\n  left: -0.1em;\n  font-size: 0.5em;\n  content: '\\27A4';\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: 'FlipH';\n}\n.mq-math-mode .mq-selection,\n.mq-editable-field .mq-selection,\n.mq-math-mode .mq-selection .mq-non-leaf,\n.mq-editable-field .mq-selection .mq-non-leaf,\n.mq-math-mode .mq-selection .mq-scaled,\n.mq-editable-field .mq-selection .mq-scaled {\n  background: #b4d5fe !important;\n}\n.mq-math-mode .mq-selection.mq-blur,\n.mq-editable-field .mq-selection.mq-blur,\n.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,\n.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,\n.mq-math-mode .mq-selection.mq-blur .mq-scaled,\n.mq-editable-field .mq-selection.mq-blur .mq-scaled {\n  background: #d4d4d4 !important;\n  color: black;\n  border-color: black;\n}\nhtml body .mq-math-mode .mq-selection .mq-nthroot-container *,\nhtml body .mq-editable-field .mq-selection .mq-nthroot-container * {\n  background: transparent !important;\n}\n.mq-editable-field .mq-textarea,\n.mq-math-mode .mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n.mq-editable-field .mq-textarea *,\n.mq-math-mode .mq-textarea * {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n  box-sizing: content-box;\n}\n\n","",{version:3,sources:["webpack://./packages/math-input/less/overrides.less","webpack://./packages/math-input/less/main.less","webpack://./node_modules/mathquill/build/mathquill.css"],names:[],mappings:"AAcA;EACI,wBAAA;ACbJ;ADYA;EAKY,gBAAA;ACdZ;ADSA;;ECNE;;;uBAGqB;EDiBX,uBAAA;EACA,UAAA;EACA,2BAAA;EACA,iCAAA;EACA,6BAAA;ACfZ;ADHA;EAsBY,yCAAA;EAEA,4BAAA;EACA,6BAAA;EAGA,qBAAA;EACA,yCAAA;EACA,8BAAA;ACnBZ;ADqBY;EAEI,qBAAA;EACA,8BAAA;ACpBhB;ADfA;EAyCY,4BAAA;EACA,gCAAA;EACA,kBAAA;EACA,qBAAA;EACA,oBAAA;EACA,8CAAA;ACvBZ;ADyBY;EAEI,gCAAA;EACA,qBAAA;ACxBhB;AD3BA;EAyDQ,kCAAA;AC3BR;AD9BA;;EAiEQ,wCAAA;EACA,kBAAA;EAEA,kBAAA;EACA,qBAAA;EACA,iBAAA;EACA,kBAAA;EACA,oBAAA;EACA,8BAAA;AChCR;ADzCA;EA6EQ,mBAAA;ACjCR;AD5CA;EAmFQ,YAAA;ACpCR;AD/CA;;EAyFY,8BAAA;EACA,8BAAA;EACA,uBAAA;ACtCZ;ADrDA;;EA+FY,kCAAA;EACA,oCAAA;EACA,uBAAA;ACtCZ;AD3DA;EAsGQ,8BAAA;EACA,8BAAA;EACA,uBAAA;EACA,gCAAA;ACxCR;AC/EA;;;;;;;;;EASA;;AAEA;EACA,kBAAA;EACA,aAAA;EACA,YAAA;EACA,UAAA;EACA,WAAA;EACA,gBAAA;EACA,gBAAA;AACA;AACA;EACA,kBAAA;EACA,aAAA;EACA,YAAA;EACA,UAAA;EACA,WAAA;EACA,gBAAA;EACA,gBAAA;AACA;AACA;EACA,oBAAA;EACA,4BAAA;EACA,0QAAA;AACA;AACA;EACA,wBAAA;EACA,qBAAA;AACA;AACA;EACA,mCAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,UAAA;EACA,wBAAA;EACA,qBAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;;EAEA,sBAAA;AACA;AACA;;EAEA,0DAAA;EACA,uDAAA;EACA,kDAAA;EACA,qBAAA;AACA;AACA;EACA,WAAA;AACA;AACA;EACA,cAAA;EACA,qCAAA;EACA,sBAAA;EACA,kBAAA;EACA,iBAAA;EACA,gBAAA;AACA;AACA;EACA,uBAAA;AACA;AACA;EACA,0BAAA;AACA;AACA;;;EAGA,kBAAA;EACA,YAAA;AACA;AACA;;EAEA,kBAAA;EACA,YAAA;AACA;AACA;EACA,WAAA;AACA;AACA;EACA,gBAAA;EACA,kBAAA;AACA;AACA;;EAEA,wBAAA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,8BAAA;EACA,2BAAA;EACA,sBAAA;EACA,mBAAA;EACA,gBAAA;EACA,sBAAA;AACA;AACA;;EAEA,oBAAA;EACA,qBAAA;AACA;AACA;;EAEA,mBAAA;EACA,qBAAA;AACA;AACA;;EAEA,oBAAA;EACA,qBAAA;AACA;AACA;;;;EAIA,cAAA;EACA,qBAAA;AACA;AACA;;EAEA,oBAAA;EACA,qBAAA;AACA;AACA;;;;;;;;;;EAUA,oBAAA;EACA,qBAAA;AACA;AACA;EACA,oBAAA;EACA,mBAAA;EACA,kBAAA;EACA,eAAA;EACA,cAAA;EACA,wBAAA;EACA,qBAAA;AACA;AACA;;EAEA,wBAAA;EACA,qBAAA;AACA;AACA;;;EAGA,8CAAA;EACA,gBAAA;AACA;AACA;EACA,kBAAA;EACA,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;AACA;AACA;EACA,kBAAA;EACA,oBAAA;EACA,SAAA;EACA,UAAA;EACA,mBAAA;EACA,yBAAA;EACA,sBAAA;EACA,iBAAA;EACA,sBAAA;AACA;AACA;EACA,8BAAA;AACA;AACA;EACA,uBAAA;AACA;AACA;EACA,uBAAA;AACA;AACA;EACA,uBAAA;AACA;AACA;EACA,qBAAA;EACA,gBAAA;AACA;AACA;EACA,wCAAA;EACA,gBAAA;EACA,gBAAA;EACA,cAAA;AACA;AACA;EACA,2CAAA;AACA;AACA;EACA,oBAAA;EACA,mBAAA;AACA;AACA;;EAEA,mBAAA;AACA;AACA;;;EAGA,kBAAA;AACA;AACA;EACA,mBAAA;EACA,kBAAA;AACA;AACA;EACA,SAAA;AACA;AACA;EACA,eAAA;AACA;AACA;EACA,qBAAA;EACA,8BAAA;EACA,2BAAA;EACA,0BAAA;EACA,yBAAA;EACA,sBAAA;EACA,uBAAA;AACA;AACA;EACA,cAAA;EACA,sBAAA;EACA,oBAAA;AACA;AACA;EACA,qBAAA;AACA;AACA;EACA,oBAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,uCAAA;AACA;AACA;EACA,sCAAA;AACA;AACA;EACA,qBAAA;EACA,eAAA;AACA;AACA;EACA,wBAAA;EACA,kBAAA;AACA;AACA;EACA,gBAAA;EACA,wBAAA;EACA,qBAAA;AACA;AACA;EACA,gBAAA;EACA,cAAA;EACA,sBAAA;AACA;AACA;EACA,qBAAA;AACA;AACA;EACA,qBAAA;EACA,2BAAA;AACA;AACA;EACA,cAAA;AACA;AACA;EACA,cAAA;EACA,WAAA;AACA;AACA;EACA,gBAAA;AACA;AACA;EACA,cAAA;AACA;AACA;EACA,cAAA;EACA,qBAAA;EACA,oBAAA;EACA,kBAAA;EACA,gBAAA;AACA;AACA;EACA,YAAA;AACA;AACA;EACA,iBAAA;EACA,oBAAA;AACA;AACA;;EAEA,kBAAA;EACA,MAAA;EACA,WAAA;AACA;AACA;EACA,OAAA;AACA;AACA;EACA,QAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,sBAAA;EACA,kBAAA;AACA;AACA;EACA,cAAA;AACA;AACA;EACA,8CAAA;EACA,gBAAA;EACA,kBAAA;AACA;AACA;EACA,mBAAA;AACA;AACA;;EAEA,oBAAA;AACA;AACA;EACA,cAAA;EACA,kBAAA;EACA,sBAAA;EACA,gBAAA;AACA;AACA;;;EAGA,sBAAA;AACA;AACA;;;;EAIA,qBAAA;AACA;AACA;;;EAGA,cAAA;AACA;AACA;EACA,gBAAA;AACA;AACA;EACA,qBAAA;EACA,YAAA;EACA,WAAA;EACA,cAAA;AACA;AACA;EACA,kBAAA;EACA,aAAA;AACA;AACA;EACA,kBAAA;EACA,QAAA;EACA,cAAA;EACA,aAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,qBAAA;EACA,eAAA;EACA,kBAAA;EACA,oBAAA;EACA,oBAAA;EACA,mBAAA;EACA,gBAAA;AACA;AACA;EACA,cAAA;EACA,kBAAA;EACA,kBAAA;AACA;AACA;EACA,cAAA;EACA,kBAAA;AACA;AACA;EACA,cAAA;EACA,kBAAA;EACA,mBAAA;EACA,qBAAA;EACA,sBAAA;EACA,2BAAA;EACA,yBAAA;EACA,8BAAA;AACA;AACA;EACA,cAAA;AACA;AACA;EACA,sBAAA;EACA,cAAA;EACA,kBAAA;AACA;AACA;;;EAGA,cAAA;AACA;AACA;;EAEA,cAAA;AACA;AACA;EACA,YAAA;EACA,mDAAA;EACA,WAAA;AACA;AACA;;EAEA,YAAA;EACA,8CAAA;AACA;AACA;EACA,2BAAA;EACA,0CAAA;EACA,sCAAA;EACA,kCAAA;EACA,yCAAA;EACA,qCAAA;EACA,iCAAA;EACA,eAAA;EACA,mBAAA;AACA;AACA;EACA,gBAAA;EACA,2BAAA;EACA,eAAA;EACA,kBAAA;EACA,kBAAA;EACA,kBAAA;AACA;AACA;EACA,kBAAA;EACA,aAAA;EACA,YAAA;EACA,gBAAA;EACA,gBAAA;AACA;AACA;EACA,WAAA;EACA,aAAA;AACA;AACA;;EAEA,kBAAA;EACA,YAAA;EACA,YAAA;EACA,gBAAA;EACA,gBAAA;EACA,0BAAA;EACA,wBAAA;EACA,6BAAA;EACA,qBAAA;EACA,aAAA;EACA,mBAAA;AACA;AACA;;;;;;EAMA,8BAAA;AACA;AACA;;;;;;EAMA,8BAAA;EACA,YAAA;EACA,mBAAA;AACA;AACA;;EAEA,kCAAA;AACA;AACA;;EAEA,kBAAA;EACA,yBAAA;EACA,sBAAA;EACA,iBAAA;AACA;AACA;;EAEA,yBAAA;EACA,sBAAA;EACA,iBAAA;EACA,kBAAA;EACA,2BAAA;EACA,2BAAA;EACA,wBAAA;EACA,uBAAA;EACA,sBAAA;EACA,mBAAA;EACA,YAAA;EACA,UAAA;EACA,WAAA;EACA,uBAAA;AACA",sourcesContent:["@wonderBlocksBlue: #1865f2;\n@offBlack16: rgba(33, 36, 44, 0.16);\n\n@cursorWidth: 2px;\n@cursorMargin: -1px;\n@emptyBlockBorderRadius: 1px;\n@emptyBlockPadding: 4px;\n\n// Originally this was 500ms to match MathQuill's own\n// frequency for toggling the application of the .mq-blink class.\n// Due to the inconsistent nature of `setTimer` this caused weird\n// flickering in the animation, so keeping this below MQ's animation.\n@cursorAnimationDuration: 300ms;\n\n.keypad-input {\n    outline: none !important;\n\n    .mq-editable-field {\n        .mq-root-block {\n            overflow-x: auto;\n        }\n\n        .mq-cursor:not(:only-child),\n        .mq-root-block.mq-hasCursor > .mq-cursor:only-child {\n            /* HACK(charlie): Magic numbers to properly size and position the vertical\n               cursor, which is visible whenever the cursor is not alone in its parent,\n               with the exception that it's also visible when the entire input is\n               empty. */\n            height: 20px !important;\n            width: @cursorWidth;\n            margin-top: -5px !important;\n            vertical-align: middle !important;\n            border-radius: 1px !important;\n        }\n\n        .mq-cursor {\n            border-left: @cursorWidth solid @wonderBlocksBlue !important;\n\n            margin-left: @cursorMargin !important;\n            margin-right: @cursorMargin !important;\n\n            // Fade the cursor out, overriding MathQuill's default behavior.\n            opacity: 1 !important;\n            transition: opacity @cursorAnimationDuration ease !important;\n            visibility: visible !important;\n\n            &.mq-blink {\n                // And fade the cursor back in.\n                opacity: 0 !important;\n                visibility: visible !important;\n            }\n        }\n\n        .mq-non-leaf .mq-cursor:only-child {\n            // Set the cursor to a grey rectangle, rather than a vertical line.\n            border: @cursorWidth solid !important;\n            border-color: @wonderBlocksBlue !important;\n            border-radius: @emptyBlockBorderRadius;\n            opacity: 1 !important;\n            padding: 0 @emptyBlockPadding 0 @emptyBlockPadding;\n            transition: border-color @cursorAnimationDuration ease !important;\n\n            &.mq-blink {\n                // And animate it between blue and gray.\n                border-color: @wonderBlocksBlue !important;\n                opacity: 1 !important;\n            }\n        }\n    }\n\n    .mq-empty {\n        background: transparent !important;\n    }\n\n    // Adds empty block styling to elements with .mq-hasCursor but without a\n    // cursor element (this happens where the cursor is when the math input\n    // loses focus).\n    .mq-empty:not(.mq-root-block):after,\n    .mq-hasCursor:empty:not(.mq-root-block):after {\n        border: @cursorWidth solid @offBlack16;\n        border-radius: @emptyBlockBorderRadius;\n        // Hides the 'c' content added by MathQuill to measure the width.\n        color: transparent;\n        display: inline-block;\n        margin-left: @cursorMargin;\n        margin-right: @cursorMargin;\n        padding: 0 @emptyBlockPadding 0 @emptyBlockPadding;\n        visibility: visible !important;\n    }\n\n    .mq-selection .mq-empty:not(.mq-root-block):after {\n        border-color: white;\n    }\n\n    .mq-hasCursor:empty:not(.mq-root-block):after {\n        // Place a 'c' inside for sizing the cursor (for the case explained\n        // above); normally, MathQuill already does this for .mq-cursor.\n        content: \"c\";\n    }\n\n    .mq-math-mode .mq-selection,\n    .mq-editable-field .mq-selection {\n        .mq-non-leaf {\n            background: @wonderBlocksBlue !important;\n            border-color: white !important;\n            color: white !important;\n        }\n\n        .mq-scaled {\n            background: transparent !important;\n            border-color: transparent !important;\n            color: white !important;\n        }\n    }\n\n    .mq-selection {\n        background: @wonderBlocksBlue !important;\n        border-color: white !important;\n        color: white !important;\n        display: inline-block !important;\n    }\n}\n",".keypad-input {\n  outline: none !important;\n}\n.keypad-input .mq-editable-field .mq-root-block {\n  overflow-x: auto;\n}\n.keypad-input .mq-editable-field .mq-cursor:not(:only-child),\n.keypad-input .mq-editable-field .mq-root-block.mq-hasCursor > .mq-cursor:only-child {\n  /* HACK(charlie): Magic numbers to properly size and position the vertical\n               cursor, which is visible whenever the cursor is not alone in its parent,\n               with the exception that it's also visible when the entire input is\n               empty. */\n  height: 20px !important;\n  width: 2px;\n  margin-top: -5px !important;\n  vertical-align: middle !important;\n  border-radius: 1px !important;\n}\n.keypad-input .mq-editable-field .mq-cursor {\n  border-left: 2px solid #1865f2 !important;\n  margin-left: -1px !important;\n  margin-right: -1px !important;\n  opacity: 1 !important;\n  transition: opacity 300ms ease !important;\n  visibility: visible !important;\n}\n.keypad-input .mq-editable-field .mq-cursor.mq-blink {\n  opacity: 0 !important;\n  visibility: visible !important;\n}\n.keypad-input .mq-editable-field .mq-non-leaf .mq-cursor:only-child {\n  border: 2px solid !important;\n  border-color: #1865f2 !important;\n  border-radius: 1px;\n  opacity: 1 !important;\n  padding: 0 4px 0 4px;\n  transition: border-color 300ms ease !important;\n}\n.keypad-input .mq-editable-field .mq-non-leaf .mq-cursor:only-child.mq-blink {\n  border-color: #1865f2 !important;\n  opacity: 1 !important;\n}\n.keypad-input .mq-empty {\n  background: transparent !important;\n}\n.keypad-input .mq-empty:not(.mq-root-block):after,\n.keypad-input .mq-hasCursor:empty:not(.mq-root-block):after {\n  border: 2px solid rgba(33, 36, 44, 0.16);\n  border-radius: 1px;\n  color: transparent;\n  display: inline-block;\n  margin-left: -1px;\n  margin-right: -1px;\n  padding: 0 4px 0 4px;\n  visibility: visible !important;\n}\n.keypad-input .mq-selection .mq-empty:not(.mq-root-block):after {\n  border-color: white;\n}\n.keypad-input .mq-hasCursor:empty:not(.mq-root-block):after {\n  content: \"c\";\n}\n.keypad-input .mq-math-mode .mq-selection .mq-non-leaf,\n.keypad-input .mq-editable-field .mq-selection .mq-non-leaf {\n  background: #1865f2 !important;\n  border-color: white !important;\n  color: white !important;\n}\n.keypad-input .mq-math-mode .mq-selection .mq-scaled,\n.keypad-input .mq-editable-field .mq-selection .mq-scaled {\n  background: transparent !important;\n  border-color: transparent !important;\n  color: white !important;\n}\n.keypad-input .mq-selection {\n  background: #1865f2 !important;\n  border-color: white !important;\n  color: white !important;\n  display: inline-block !important;\n}\n/**\n * @license\n * MathQuill v0.10.1, by Han, Jeanine, and Mary\n * http://mathquill.com | maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\n\n.mq-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n.mq-mathspeak {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n@font-face {\n  font-family: Symbola;\n  src: url(/fonts/Symbola.eot);\n  src: local('Symbola Regular'), local('Symbola'), url(/fonts/Symbola.woff2) format('woff2'), url(/fonts/Symbola.woff) format('woff'), url(/fonts/Symbola.ttf) format('truetype'), url(/fonts/Symbola.otf) format('opentype'), url(/fonts/Symbola.svg#Symbola) format('svg');\n}\n.mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor {\n  border-left: 1px solid currentColor;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor.mq-blink {\n  visibility: hidden;\n}\n.mq-editable-field,\n.mq-math-mode .mq-editable-field {\n  border: 1px solid gray;\n}\n.mq-editable-field.mq-focused,\n.mq-math-mode .mq-editable-field.mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  border-color: #709ac0;\n}\n.mq-math-mode .mq-editable-field {\n  margin: 1px;\n}\n.mq-editable-field .mq-latex-command-input {\n  color: inherit;\n  font-family: 'Courier New', monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n.mq-editable-field .mq-latex-command-input.mq-empty {\n  background: transparent;\n}\n.mq-editable-field .mq-latex-command-input.mq-hasCursor {\n  border-color: ActiveBorder;\n}\n.mq-editable-field.mq-empty:after,\n.mq-editable-field.mq-text-mode:after,\n.mq-math-mode .mq-empty:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-cursor:only-child:after,\n.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {\n  content: '';\n}\n.mq-editable-field.mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.mq-root-block,\n.mq-math-mode .mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.mq-root-block .mq-digit,\n.mq-math-mode .mq-root-block .mq-digit {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-root-block .mq-group-start,\n.mq-math-mode .mq-root-block .mq-group-start {\n  margin-left: 0.11em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-other,\n.mq-math-mode .mq-root-block .mq-group-other {\n  margin-left: -0.01em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-1,\n.mq-math-mode .mq-root-block .mq-group-leading-1,\n.mq-root-block .mq-group-leading-2,\n.mq-math-mode .mq-root-block .mq-group-leading-2 {\n  margin-left: 0;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-3,\n.mq-math-mode .mq-root-block .mq-group-leading-3 {\n  margin-left: 0.036em;\n  margin-right: -0.01em;\n}\n.mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-3,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-3 {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-math-mode {\n  font-variant: normal;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-non-leaf,\n.mq-math-mode .mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode var,\n.mq-math-mode .mq-text-mode,\n.mq-math-mode .mq-nonSymbola {\n  font-family: 'Times New Roman', Symbola, serif;\n  line-height: 0.9;\n}\n.mq-math-mode svg {\n  fill: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: black;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n.mq-math-mode .mq-empty {\n  background: rgba(0, 0, 0, 0.2);\n}\n.mq-math-mode .mq-empty.mq-root-block {\n  background: transparent;\n}\n.mq-math-mode .mq-empty.mq-quiet-delimiter {\n  background: transparent;\n}\n.mq-math-mode.mq-empty {\n  background: transparent;\n}\n.mq-math-mode .mq-text-mode {\n  display: inline-block;\n  white-space: pre;\n}\n.mq-math-mode .mq-text-mode.mq-hasCursor {\n  box-shadow: inset darkgray 0 0.1em 0.2em;\n  padding: 0 0.1em;\n  margin: 0 -0.1em;\n  min-width: 1ex;\n}\n.mq-math-mode .mq-font {\n  font: 1em 'Times New Roman', Symbola, serif;\n}\n.mq-math-mode .mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n.mq-math-mode b,\n.mq-math-mode b.mq-font {\n  font-weight: bolder;\n}\n.mq-math-mode var,\n.mq-math-mode i,\n.mq-math-mode i.mq-font {\n  font-style: italic;\n}\n.mq-math-mode var.mq-f {\n  margin-right: 0.2em;\n  margin-left: 0.1em;\n}\n.mq-math-mode .mq-roman var.mq-f {\n  margin: 0;\n}\n.mq-math-mode big {\n  font-size: 200%;\n}\n.mq-math-mode .mq-int > big {\n  display: inline-block;\n  -webkit-transform: scaleX(0.7);\n  -moz-transform: scaleX(0.7);\n  -ms-transform: scaleX(0.7);\n  -o-transform: scaleX(0.7);\n  transform: scaleX(0.7);\n  vertical-align: -0.16em;\n}\n.mq-math-mode .mq-int > .mq-supsub {\n  font-size: 80%;\n  vertical-align: -1.1em;\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sup > .mq-sup-inner {\n  vertical-align: 1.3em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sub {\n  margin-left: -0.35em;\n}\n.mq-math-mode .mq-roman {\n  font-style: normal;\n}\n.mq-math-mode .mq-sans-serif {\n  font-family: sans-serif, Symbola, serif;\n}\n.mq-math-mode .mq-monospace {\n  font-family: monospace, Symbola, serif;\n}\n.mq-math-mode .mq-overline {\n  border-top: 1px solid;\n  margin-top: 1px;\n}\n.mq-math-mode .mq-underline {\n  border-bottom: 1px solid;\n  margin-bottom: 1px;\n}\n.mq-math-mode .mq-binary-operator {\n  padding: 0 0.2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-supsub {\n  text-align: left;\n  font-size: 90%;\n  vertical-align: -0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only {\n  vertical-align: 0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only > .mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n.mq-math-mode .mq-supsub .mq-sup {\n  display: block;\n}\n.mq-math-mode .mq-supsub .mq-sub {\n  display: block;\n  float: left;\n}\n.mq-math-mode .mq-supsub .mq-binary-operator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-supsub .mq-fraction {\n  font-size: 70%;\n}\n.mq-math-mode sup.mq-nthroot {\n  font-size: 80%;\n  vertical-align: 0.8em;\n  margin-right: -0.6em;\n  margin-left: 0.2em;\n  min-width: 0.5em;\n}\n.mq-math-mode .mq-ghost svg {\n  opacity: 0.2;\n}\n.mq-math-mode .mq-bracket-middle {\n  margin-top: 0.1em;\n  margin-bottom: 0.1em;\n}\n.mq-math-mode .mq-bracket-l,\n.mq-math-mode .mq-bracket-r {\n  position: absolute;\n  top: 0;\n  bottom: 2px;\n}\n.mq-math-mode .mq-bracket-l {\n  left: 0;\n}\n.mq-math-mode .mq-bracket-r {\n  right: 0;\n}\n.mq-math-mode .mq-bracket-container {\n  position: relative;\n}\n.mq-math-mode .mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n.mq-math-mode .mq-array > span {\n  display: block;\n}\n.mq-math-mode .mq-operator-name {\n  font-family: Symbola, 'Times New Roman', serif;\n  line-height: 0.9;\n  font-style: normal;\n}\n.mq-math-mode var.mq-operator-name.mq-first {\n  padding-left: 0.2em;\n}\n.mq-math-mode var.mq-operator-name.mq-last,\n.mq-math-mode .mq-supsub.mq-after-operator-name {\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -0.4em;\n  padding: 0 0.2em;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link,\n.mq-math-mode x:default {\n  display: inline-block;\n}\n.mq-math-mode .mq-numerator,\n.mq-math-mode .mq-denominator,\n.mq-math-mode .mq-dot-recurring {\n  display: block;\n}\n.mq-math-mode .mq-numerator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: 0.1em;\n}\n.mq-math-mode .mq-dot-recurring {\n  text-align: center;\n  height: 0.3em;\n}\n.mq-math-mode .mq-sqrt-prefix {\n  position: absolute;\n  top: 1px;\n  bottom: 0.15em;\n  width: 0.95em;\n}\n.mq-math-mode .mq-sqrt-container {\n  position: relative;\n}\n.mq-math-mode .mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  margin-left: 0.9em;\n  padding-left: 0.15em;\n  padding-right: 0.2em;\n  margin-right: 0.1em;\n  padding-top: 1px;\n}\n.mq-math-mode .mq-diacritic-above {\n  display: block;\n  text-align: center;\n  line-height: 0.4em;\n}\n.mq-math-mode .mq-diacritic-stem {\n  display: block;\n  text-align: center;\n}\n.mq-math-mode .mq-hat-prefix {\n  display: block;\n  text-align: center;\n  line-height: 0.95em;\n  margin-bottom: -0.7em;\n  transform: scaleX(1.5);\n  -moz-transform: scaleX(1.5);\n  -o-transform: scaleX(1.5);\n  -webkit-transform: scaleX(1.5);\n}\n.mq-math-mode .mq-hat-stem {\n  display: block;\n}\n.mq-math-mode .mq-large-operator {\n  vertical-align: -0.2em;\n  padding: 0.2em;\n  text-align: center;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator big,\n.mq-math-mode .mq-large-operator .mq-to {\n  display: block;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator .mq-to {\n  font-size: 80%;\n}\n.mq-math-mode .mq-large-operator .mq-from {\n  float: right;\n  /* take out of normal flow to manipulate baseline */\n  width: 100%;\n}\n.mq-math-mode,\n.mq-math-mode .mq-editable-field {\n  cursor: text;\n  font-family: Symbola, 'Times New Roman', serif;\n}\n.mq-math-mode .mq-overarc {\n  border-top: 1px solid black;\n  -webkit-border-top-right-radius: 50% 0.3em;\n  -moz-border-radius-topright: 50% 0.3em;\n  border-top-right-radius: 50% 0.3em;\n  -webkit-border-top-left-radius: 50% 0.3em;\n  -moz-border-radius-topleft: 50% 0.3em;\n  border-top-left-radius: 50% 0.3em;\n  margin-top: 1px;\n  padding-top: 0.15em;\n}\n.mq-math-mode .mq-overarrow {\n  min-width: 0.5em;\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: 0.2em;\n  text-align: center;\n  position: relative;\n}\n.mq-math-mode .mq-overarrow:after {\n  position: absolute;\n  right: -0.1em;\n  top: -0.48em;\n  font-size: 0.5em;\n  content: '\\27A4';\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:after {\n  content: '';\n  display: none;\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:before,\n.mq-math-mode .mq-overarrow.mq-arrow-leftright:before {\n  position: absolute;\n  top: -0.48em;\n  left: -0.1em;\n  font-size: 0.5em;\n  content: '\\27A4';\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: 'FlipH';\n}\n.mq-math-mode .mq-selection,\n.mq-editable-field .mq-selection,\n.mq-math-mode .mq-selection .mq-non-leaf,\n.mq-editable-field .mq-selection .mq-non-leaf,\n.mq-math-mode .mq-selection .mq-scaled,\n.mq-editable-field .mq-selection .mq-scaled {\n  background: #b4d5fe !important;\n}\n.mq-math-mode .mq-selection.mq-blur,\n.mq-editable-field .mq-selection.mq-blur,\n.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,\n.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,\n.mq-math-mode .mq-selection.mq-blur .mq-scaled,\n.mq-editable-field .mq-selection.mq-blur .mq-scaled {\n  background: #d4d4d4 !important;\n  color: black;\n  border-color: black;\n}\nhtml body .mq-math-mode .mq-selection .mq-nthroot-container *,\nhtml body .mq-editable-field .mq-selection .mq-nthroot-container * {\n  background: transparent !important;\n}\n.mq-editable-field .mq-textarea,\n.mq-math-mode .mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n.mq-editable-field .mq-textarea *,\n.mq-math-mode .mq-textarea * {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n  box-sizing: content-box;\n}\n\n","/**\n * @license\n * MathQuill v0.10.1, by Han, Jeanine, and Mary\n * http://mathquill.com | maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\n\n.mq-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n.mq-mathspeak {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n@font-face {\n  font-family: Symbola;\n  src: url(/fonts/Symbola.eot);\n  src: local('Symbola Regular'), local('Symbola'), url(/fonts/Symbola.woff2) format('woff2'), url(/fonts/Symbola.woff) format('woff'), url(/fonts/Symbola.ttf) format('truetype'), url(/fonts/Symbola.otf) format('opentype'), url(/fonts/Symbola.svg#Symbola) format('svg');\n}\n.mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor {\n  border-left: 1px solid currentColor;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor.mq-blink {\n  visibility: hidden;\n}\n.mq-editable-field,\n.mq-math-mode .mq-editable-field {\n  border: 1px solid gray;\n}\n.mq-editable-field.mq-focused,\n.mq-math-mode .mq-editable-field.mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  border-color: #709ac0;\n}\n.mq-math-mode .mq-editable-field {\n  margin: 1px;\n}\n.mq-editable-field .mq-latex-command-input {\n  color: inherit;\n  font-family: 'Courier New', monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n.mq-editable-field .mq-latex-command-input.mq-empty {\n  background: transparent;\n}\n.mq-editable-field .mq-latex-command-input.mq-hasCursor {\n  border-color: ActiveBorder;\n}\n.mq-editable-field.mq-empty:after,\n.mq-editable-field.mq-text-mode:after,\n.mq-math-mode .mq-empty:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-cursor:only-child:after,\n.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {\n  content: '';\n}\n.mq-editable-field.mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.mq-root-block,\n.mq-math-mode .mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.mq-root-block .mq-digit,\n.mq-math-mode .mq-root-block .mq-digit {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-root-block .mq-group-start,\n.mq-math-mode .mq-root-block .mq-group-start {\n  margin-left: 0.11em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-other,\n.mq-math-mode .mq-root-block .mq-group-other {\n  margin-left: -0.01em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-1,\n.mq-math-mode .mq-root-block .mq-group-leading-1,\n.mq-root-block .mq-group-leading-2,\n.mq-math-mode .mq-root-block .mq-group-leading-2 {\n  margin-left: 0;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-3,\n.mq-math-mode .mq-root-block .mq-group-leading-3 {\n  margin-left: 0.036em;\n  margin-right: -0.01em;\n}\n.mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-3,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-3 {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-math-mode {\n  font-variant: normal;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-non-leaf,\n.mq-math-mode .mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode var,\n.mq-math-mode .mq-text-mode,\n.mq-math-mode .mq-nonSymbola {\n  font-family: 'Times New Roman', Symbola, serif;\n  line-height: 0.9;\n}\n.mq-math-mode svg {\n  fill: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: black;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n.mq-math-mode .mq-empty {\n  background: rgba(0, 0, 0, 0.2);\n}\n.mq-math-mode .mq-empty.mq-root-block {\n  background: transparent;\n}\n.mq-math-mode .mq-empty.mq-quiet-delimiter {\n  background: transparent;\n}\n.mq-math-mode.mq-empty {\n  background: transparent;\n}\n.mq-math-mode .mq-text-mode {\n  display: inline-block;\n  white-space: pre;\n}\n.mq-math-mode .mq-text-mode.mq-hasCursor {\n  box-shadow: inset darkgray 0 0.1em 0.2em;\n  padding: 0 0.1em;\n  margin: 0 -0.1em;\n  min-width: 1ex;\n}\n.mq-math-mode .mq-font {\n  font: 1em 'Times New Roman', Symbola, serif;\n}\n.mq-math-mode .mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n.mq-math-mode b,\n.mq-math-mode b.mq-font {\n  font-weight: bolder;\n}\n.mq-math-mode var,\n.mq-math-mode i,\n.mq-math-mode i.mq-font {\n  font-style: italic;\n}\n.mq-math-mode var.mq-f {\n  margin-right: 0.2em;\n  margin-left: 0.1em;\n}\n.mq-math-mode .mq-roman var.mq-f {\n  margin: 0;\n}\n.mq-math-mode big {\n  font-size: 200%;\n}\n.mq-math-mode .mq-int > big {\n  display: inline-block;\n  -webkit-transform: scaleX(0.7);\n  -moz-transform: scaleX(0.7);\n  -ms-transform: scaleX(0.7);\n  -o-transform: scaleX(0.7);\n  transform: scaleX(0.7);\n  vertical-align: -0.16em;\n}\n.mq-math-mode .mq-int > .mq-supsub {\n  font-size: 80%;\n  vertical-align: -1.1em;\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sup > .mq-sup-inner {\n  vertical-align: 1.3em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sub {\n  margin-left: -0.35em;\n}\n.mq-math-mode .mq-roman {\n  font-style: normal;\n}\n.mq-math-mode .mq-sans-serif {\n  font-family: sans-serif, Symbola, serif;\n}\n.mq-math-mode .mq-monospace {\n  font-family: monospace, Symbola, serif;\n}\n.mq-math-mode .mq-overline {\n  border-top: 1px solid;\n  margin-top: 1px;\n}\n.mq-math-mode .mq-underline {\n  border-bottom: 1px solid;\n  margin-bottom: 1px;\n}\n.mq-math-mode .mq-binary-operator {\n  padding: 0 0.2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-supsub {\n  text-align: left;\n  font-size: 90%;\n  vertical-align: -0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only {\n  vertical-align: 0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only > .mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n.mq-math-mode .mq-supsub .mq-sup {\n  display: block;\n}\n.mq-math-mode .mq-supsub .mq-sub {\n  display: block;\n  float: left;\n}\n.mq-math-mode .mq-supsub .mq-binary-operator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-supsub .mq-fraction {\n  font-size: 70%;\n}\n.mq-math-mode sup.mq-nthroot {\n  font-size: 80%;\n  vertical-align: 0.8em;\n  margin-right: -0.6em;\n  margin-left: 0.2em;\n  min-width: 0.5em;\n}\n.mq-math-mode .mq-ghost svg {\n  opacity: 0.2;\n}\n.mq-math-mode .mq-bracket-middle {\n  margin-top: 0.1em;\n  margin-bottom: 0.1em;\n}\n.mq-math-mode .mq-bracket-l,\n.mq-math-mode .mq-bracket-r {\n  position: absolute;\n  top: 0;\n  bottom: 2px;\n}\n.mq-math-mode .mq-bracket-l {\n  left: 0;\n}\n.mq-math-mode .mq-bracket-r {\n  right: 0;\n}\n.mq-math-mode .mq-bracket-container {\n  position: relative;\n}\n.mq-math-mode .mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n.mq-math-mode .mq-array > span {\n  display: block;\n}\n.mq-math-mode .mq-operator-name {\n  font-family: Symbola, 'Times New Roman', serif;\n  line-height: 0.9;\n  font-style: normal;\n}\n.mq-math-mode var.mq-operator-name.mq-first {\n  padding-left: 0.2em;\n}\n.mq-math-mode var.mq-operator-name.mq-last,\n.mq-math-mode .mq-supsub.mq-after-operator-name {\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -0.4em;\n  padding: 0 0.2em;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link,\n.mq-math-mode x:default {\n  display: inline-block;\n}\n.mq-math-mode .mq-numerator,\n.mq-math-mode .mq-denominator,\n.mq-math-mode .mq-dot-recurring {\n  display: block;\n}\n.mq-math-mode .mq-numerator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: 0.1em;\n}\n.mq-math-mode .mq-dot-recurring {\n  text-align: center;\n  height: 0.3em;\n}\n.mq-math-mode .mq-sqrt-prefix {\n  position: absolute;\n  top: 1px;\n  bottom: 0.15em;\n  width: 0.95em;\n}\n.mq-math-mode .mq-sqrt-container {\n  position: relative;\n}\n.mq-math-mode .mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  margin-left: 0.9em;\n  padding-left: 0.15em;\n  padding-right: 0.2em;\n  margin-right: 0.1em;\n  padding-top: 1px;\n}\n.mq-math-mode .mq-diacritic-above {\n  display: block;\n  text-align: center;\n  line-height: 0.4em;\n}\n.mq-math-mode .mq-diacritic-stem {\n  display: block;\n  text-align: center;\n}\n.mq-math-mode .mq-hat-prefix {\n  display: block;\n  text-align: center;\n  line-height: 0.95em;\n  margin-bottom: -0.7em;\n  transform: scaleX(1.5);\n  -moz-transform: scaleX(1.5);\n  -o-transform: scaleX(1.5);\n  -webkit-transform: scaleX(1.5);\n}\n.mq-math-mode .mq-hat-stem {\n  display: block;\n}\n.mq-math-mode .mq-large-operator {\n  vertical-align: -0.2em;\n  padding: 0.2em;\n  text-align: center;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator big,\n.mq-math-mode .mq-large-operator .mq-to {\n  display: block;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator .mq-to {\n  font-size: 80%;\n}\n.mq-math-mode .mq-large-operator .mq-from {\n  float: right;\n  /* take out of normal flow to manipulate baseline */\n  width: 100%;\n}\n.mq-math-mode,\n.mq-math-mode .mq-editable-field {\n  cursor: text;\n  font-family: Symbola, 'Times New Roman', serif;\n}\n.mq-math-mode .mq-overarc {\n  border-top: 1px solid black;\n  -webkit-border-top-right-radius: 50% 0.3em;\n  -moz-border-radius-topright: 50% 0.3em;\n  border-top-right-radius: 50% 0.3em;\n  -webkit-border-top-left-radius: 50% 0.3em;\n  -moz-border-radius-topleft: 50% 0.3em;\n  border-top-left-radius: 50% 0.3em;\n  margin-top: 1px;\n  padding-top: 0.15em;\n}\n.mq-math-mode .mq-overarrow {\n  min-width: 0.5em;\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: 0.2em;\n  text-align: center;\n  position: relative;\n}\n.mq-math-mode .mq-overarrow:after {\n  position: absolute;\n  right: -0.1em;\n  top: -0.48em;\n  font-size: 0.5em;\n  content: '\\27A4';\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:after {\n  content: '';\n  display: none;\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:before,\n.mq-math-mode .mq-overarrow.mq-arrow-leftright:before {\n  position: absolute;\n  top: -0.48em;\n  left: -0.1em;\n  font-size: 0.5em;\n  content: '\\27A4';\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: 'FlipH';\n}\n.mq-math-mode .mq-selection,\n.mq-editable-field .mq-selection,\n.mq-math-mode .mq-selection .mq-non-leaf,\n.mq-editable-field .mq-selection .mq-non-leaf,\n.mq-math-mode .mq-selection .mq-scaled,\n.mq-editable-field .mq-selection .mq-scaled {\n  background: #b4d5fe !important;\n}\n.mq-math-mode .mq-selection.mq-blur,\n.mq-editable-field .mq-selection.mq-blur,\n.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,\n.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,\n.mq-math-mode .mq-selection.mq-blur .mq-scaled,\n.mq-editable-field .mq-selection.mq-blur .mq-scaled {\n  background: #d4d4d4 !important;\n  color: black;\n  border-color: black;\n}\nhtml body .mq-math-mode .mq-selection .mq-nthroot-container *,\nhtml body .mq-editable-field .mq-selection .mq-nthroot-container * {\n  background: transparent !important;\n}\n.mq-editable-field .mq-textarea,\n.mq-math-mode .mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n.mq-editable-field .mq-textarea *,\n.mq-math-mode .mq-textarea * {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n  box-sizing: content-box;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[12].use[1]!./node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[12].use[2]!./packages/perseus/src/styles/perseus-renderer.less":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.exercise,\n.vars,\n#next {\n    display: none;\n}\np.question {\n    font-weight: bold;\n}\nvar {\n    font-style: normal;\n}\n\n.hint.last-hint {\n    .paragraph {\n        font-weight: bold;\n    }\n}\n\n.hint_blue {\n    color: #6495ed;\n}\n.hint_orange {\n    color: #ffa500;\n}\n.hint_pink {\n    color: #ff00af;\n}\n.hint_red {\n    color: #df0030;\n}\n.hint_green {\n    color: #28ae7b;\n}\n.hint_gray {\n    color: gray;\n}\n.hint_purple {\n    color: #9d38bd;\n}\n\ndiv.subhint {\n    border: 1px solid #aaaaaa;\n    background: #f9f9f9;\n    display: none;\n    border-radius: 4px;\n    margin-left: 20px;\n    margin-right: 20px;\n    padding: 10px;\n}\n\na.show-subhint {\n    font-size: 12px;\n    font-style: italic;\n    background-color: #fdfdfd;\n}\n\na.show-definition {\n    background-color: #fdfdfd;\n}\n\ndiv.definition {\n    position: absolute;\n    border: 1px solid #aaaaaa;\n    background: #f9f9f9;\n    display: none;\n    border-radius: 4px;\n    margin-left: 20px;\n    margin-right: 20px;\n    padding: 10px;\n    z-index: 1000;\n}\n\n.solutionarea ul {\n    list-style: none;\n}\n.solutionarea li {\n    padding: 7px 0;\n}\n.solutionarea li label {\n    display: block;\n}\n.solutionarea li input[type="radio"] {\n    float: left;\n    margin-top: 4px;\n}\n.solutionarea li .value {\n    display: block;\n    min-height: 22px;\n    margin-left: 18px;\n}\n\n#extras li {\n    display: inline;\n}\n#extras li:before {\n    content: "| ";\n}\n#extras li:first-child:before {\n    content: "";\n}\n\n#scratchpad-show {\n    position: relative;\n    z-index: 1;\n}\n\n#answer_area #check-answer-results {\n    overflow: hidden;\n    margin: 5px 0;\n}\n#answer_area #check-answer-results .check-answer-message {\n    font-size: 12px;\n    line-height: 20px;\n    margin: 0;\n}\n#sad,\n#happy {\n    float: left;\n    margin: 0 6px 4px 0;\n}\n\n.examples {\n    color: #777;\n    margin-left: 20px;\n    list-style-type: disc;\n}\n.examples li {\n    margin: 5px 0;\n}\n\n#problemarea {\n    font-size: 14px;\n    position: relative;\n    float: left;\n    padding-bottom: 38px;\n}\n\n#solution {\n    font-size: 14px;\n}\n#solution label {\n    display: block;\n    white-space: nowrap;\n}\n\n#tester-info {\n    border: 1px solid #aaa;\n    background: #f0f0f0;\n    padding: 10px;\n    margin: 10px 0;\n}\n#debug var {\n    font: 14px Menlo, Courier, monospace;\n    word-wrap: break-word;\n}\n\ncode {\n    font-family: Courier, monospace;\n}\n\npre {\n    background-color: #f0f1f2;\n    border-radius: 4px;\n    color: #21242c;\n    font-size: 18px;\n    padding: 16px;\n    white-space: pre;\n    overflow: auto;\n}\n\ntable.limit {\n    margin: 5px;\n}\ntable.limit th {\n    font-weight: bold;\n    text-align: center;\n}\ntable.limit td {\n    border: 1px solid #aaa;\n}\ntable.limit th,\ntable.limit td {\n    padding: 5px;\n}\ntable.limit th:first-child {\n    text-align: right;\n}\n\n.solutionarea input[type="text"],\n.solutionarea input[type="number"] {\n    width: 80px;\n}\n.solutionarea .short20 input[type="text"],\n.solutionarea .short20 input[type="number"] {\n    width: 20px;\n}\n.solutionarea .short25 input[type="text"],\n.solutionarea .short25 input[type="number"] {\n    width: 25px;\n}\n.solutionarea .short28 input[type="text"],\n.solutionarea .short28 input[type="number"] {\n    width: 28px;\n}\n.solutionarea .short30 input[type="text"],\n.solutionarea .short30 input[type="number"] {\n    width: 30px;\n}\n.solutionarea .short32 input[type="text"],\n.solutionarea .short32 input[type="number"] {\n    width: 32px;\n}\n.solutionarea .short35 input[type="text"],\n.solutionarea .short35 input[type="number"] {\n    width: 35px;\n}\n.solutionarea .short40 input[type="text"],\n.solutionarea .short40 input[type="number"] {\n    width: 40px;\n}\n.solutionarea .short50 input[type="text"],\n.solutionarea .short50 input[type="number"] {\n    width: 50px;\n}\n#readonly {\n    display: none;\n}\n\n.radical .surd {\n    font: 150% Arial;\n    padding: 0 0 0 5px;\n}\n.radical .overline {\n    border-top: 1px solid #000;\n    padding: 6px 1px 0 3px;\n    margin-left: -1px;\n}\n.solutionarea .radical input[type="text"],\n.solutionarea .radical input[type="number"] {\n    width: 40px;\n}\n\nbody.debug .graphie {\n    outline: 1px dashed #fdd;\n}\n.graphie svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n#scratchpad {\n    display: none;\n    margin: 0 10px;\n    overflow: hidden;\n    padding-bottom: 40px;\n}\n#scratchpad div {\n    box-sizing: border-box;\n    border: 1px solid #ccc;\n    height: 100%;\n    position: absolute;\n    width: 100%;\n    z-index: 1;\n}\n\n#scratchpad-not-available {\n    display: none;\n}\n#extras .report-issue-link {\n    float: right;\n}\n\n#tester-info.info-box {\n    background: #f2e4bf;\n}\n#tester-info .box {\n    border: 1px solid black;\n    padding: 2px 4px;\n    margin-left: 5px;\n}\n#tester-info .group-box {\n    border: 1px solid #aaa;\n    padding: 6px 4px 6px 0px;\n    margin-left: 2px;\n}\n\n#browserwarning {\n    background: white;\n    margin: 0 1px;\n    padding: 18px;\n    font-size: 120%;\n    text-align: center;\n}\n\n#answer_area .answer-buttons input.simple-button,\n#answer_area input.simple-button.full-width {\n    width: 100%;\n}\n#answer_area #answercontent {\n    position: relative;\n    z-index: 2;\n} /* above-scratchpad */\n#answer_area .hint-box {\n    position: relative;\n    z-index: 1;\n}\n\n#problemarea a:link,\n#problemarea input,\n#problemarea label,  /* HACK(aria): for radios */\n#problemarea select {\n    /* for dropdowns */\n    position: relative;\n    z-index: 3; /* interactive-content */\n}\n\n#answer_area .calculator {\n    width: 181px;\n    margin: 0 auto;\n}\n\n.calculator-angle-mode .selected-anglemode {\n    color: #050505;\n}\n\n.calculator-angle-mode .unselected-anglemode {\n    color: #bbbbbb;\n}\n\n#answer_area .calculator .history {\n    font: 14px/1.5 Menlo, Monaco, Courier, monospace;\n    margin: 0 0 10px;\n    width: 183px;\n\n    background-color: white;\n    border-radius: 5px;\n}\n\n#answer_area .calculator .history #calc-output-content {\n    position: absolute;\n    bottom: 0px;\n    width: 100%;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    max-height: 80px;\n}\n\n#answer_area .calculator .history #calc-output {\n    height: 80px;\n    text-align: left;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    position: relative;\n}\n\n#answer_area .calculator .history .output {\n    text-align: right;\n    margin-right: 3px;\n}\n\n#answer_area .calculator .history input {\n    box-sizing: border-box;\n    display: block;\n    font: inherit;\n    margin: 5px 3px 3px;\n    width: 98%;\n    padding-left: 25px;\n    padding-right: 8px;\n    text-align: right;\n    border: none;\n    outline-width: 0;\n}\n\n#answer_area .calculator .history .input {\n    position: relative;\n}\n\n#answer_area .calculator .history .input-history {\n    position: relative;\n    margin-left: 3px;\n}\n\n#answer_area .calculator .history .status a {\n    position: absolute;\n    font: 10px/1.5 Menlo, Monaco, Courier, monospace;\n    color: #999;\n    text-decoration: none;\n    line-height: 9px;\n    height: 19px;\n    top: 5px;\n    left: 6px;\n}\n\n#answer_area .calculator .keypad .calc-row {\n    margin: 5px 0;\n}\n\n#answer_area .calculator .keypad .calc-row a {\n    background: #ccc;\n    border-radius: 2px;\n    color: #000;\n    display: inline-block;\n    margin: 0 5px 0 0;\n    text-align: center;\n    text-decoration: none;\n    width: 31px;\n}\n\n#answer_area .calculator .keypad .calc-row a:hover {\n    background: #bbb;\n}\n\n#answer_area .calculator .keypad .calc-row a:active {\n    background: #aaa;\n}\n\n#answer_area .calculator .keypad .calc-row a.dark {\n    background: #aaa;\n}\n\n#answer_area .calculator .keypad .calc-row a.dark:hover {\n    background: #999;\n}\n\n#answer_area .calculator .keypad .calc-row a.dark:active {\n    background: #888;\n}\n\n#answer_area .calculator .keypad a sup {\n    vertical-align: super;\n    font-size: 80%;\n    line-height: 0;\n}\n\n#answer_area .calculator .keypad a.wide {\n    width: 67px;\n}\n\n#solutionarea {\n    min-height: 35px;\n    padding: 10px;\n    margin: 0 -10px;\n    border-bottom: 1px solid #c3c3c3;\n    overflow: visible;\n}\n\n.workarea #solutionarea {\n    border-bottom: 0;\n    padding-bottom: 0;\n    padding-top: 0;\n}\n\n#answer_area .answer-buttons {\n    margin: 0 -10px;\n    padding: 10px 10px 0;\n    position: relative;\n}\n\n#show-prereqs-button {\n    margin-top: 15px;\n}\n\n#positive-reinforcement img {\n    width: 28px;\n    position: absolute;\n    top: 7px;\n    left: 5px;\n    cursor: pointer;\n}\n\n#answer_area input.simple-button[disabled="disabled"] {\n    opacity: 0.5;\n    filter: alpha(opacity = 50);\n    cursor: default;\n}\n#answer_area input.simple-button[disabled="disabled"]:hover {\n    color: #fff !important;\n}\n#answer_area input.simple-button.orange[disabled="disabled"]:hover {\n    border-color: #bf4f04 !important;\n    border-bottom-color: #803503 !important;\n}\n#answer_area input.simple-button.green[disabled="disabled"]:hover {\n    border-color: #76a005 !important;\n    border-bottom-color: #557303 !important;\n}\n\n.simple-button.disabled {\n    opacity: 0.5;\n    filter: alpha(opacity = 50);\n    cursor: default;\n}\n\n#hint-remainder {\n    color: #777;\n}\n\n#footer .simple-button,\n.info-box .simple-button {\n    padding: 3px 10px;\n    top: -1px;\n}\n.info-box .simple-button {\n    top: 0;\n}\n\n#issue #issue-status.error {\n    font-weight: bold;\n    color: #a21;\n    font-size: 1.2em;\n}\n#issue-link {\n    font-style: italic;\n}\n#issue .issue-form input[type="text"] {\n    display: block;\n    width: 98%;\n}\n#issue .issue-form textarea {\n    display: block;\n    width: 98%;\n    height: 100px;\n}\n#issue-cancel {\n    float: right;\n}\n#issue fieldset {\n    list-style: none;\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    padding-left: 10px;\n    border-radius: 5px;\n    line-height: 22px;\n    margin-bottom: 3px;\n    min-inline-size: auto;\n}\n#issue fieldset legend {\n    padding-left: 5px;\n    padding-right: 5px;\n}\n#issue fieldset label {\n    display: inline;\n}\n#issue fieldset li {\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n\nvar,\ndiv.graphie {\n    white-space: pre;\n    /**\n   * Graphie didn\'t have a fixed font-size and was just using\n   * the surrounding font-size. However some labels are banking on\n   * specific dimensions, so we need to lock it to a specific size.\n   */\n    font-size: 14px;\n}\n\n#spinner {\n    position: relative;\n    top: 4px;\n    left: 4px;\n}\n#issue-spinner {\n    position: relative;\n    top: 3px;\n}\n\n.exp input {\n    vertical-align: super;\n    font-size: 9px;\n    height: 11px;\n}\n\n.correct-activity {\n    background-color: #69bb00;\n    text-shadow: 0 -1px 0 #557303;\n}\n\n.incorrect-activity {\n    background-color: #e12c2d;\n    text-shadow: 0 -1px 0 #921118;\n}\n\n.hint-activity {\n    background-color: #f19726;\n    text-shadow: 0 -1px 0 #b55c00;\n}\n\n.user-activity {\n    margin: 8px;\n    padding: 2px 5px;\n    border: 1px solid #999;\n    border-radius: 4px;\n    float: left;\n    cursor: pointer;\n    color: white;\n}\n\n.user-activity input {\n    cursor: pointer;\n}\n\ndiv.timeline-time {\n    float: left;\n    padding-top: 10px;\n}\n\ndiv.timeline-time:before {\n    padding: 3px;\n    content: "~";\n}\n\ndiv.timeline-time:after {\n    padding: 3px;\n    content: "~";\n}\n\ndiv.timeline-total {\n    border-top: 1px solid #999;\n}\n\n#timelinecontainer {\n    border: 1px solid #c6d1ad;\n    border-top: 0px;\n    position: relative;\n}\n\n#timelinecontainer:before,\n#timelinecontainer:after {\n    content: "";\n    display: table;\n}\n\n#timelinecontainer:after {\n    clear: both;\n}\n\n#timelinecontainer {\n    zoom: 1;\n}\n\n#timeline {\n    overflow: hidden;\n    position: absolute;\n    left: 265px;\n    right: 225px;\n    border-left: 1px solid #c6d1ad;\n    border-right: 1px solid #c6d1ad;\n}\n\n#timeline-events {\n    width: 10000px;\n}\n\n/* Allow the timeline to scroll all the way to the end with a little margin */\n#timeline-events:after,\n#timeline-events:before {\n    content: "";\n    display: block;\n    width: 1px;\n    height: 1px;\n    float: left;\n}\n\n#timeline p {\n    margin: 0;\n}\n\n#previous-problem {\n    margin: 5px;\n    cursor: pointer;\n    float: left;\n    width: 100px;\n}\n\n#next-problem {\n    margin: 5px;\n    cursor: pointer;\n    float: right;\n    width: 80px;\n}\n\n.user-activity.activated {\n    border: 2px solid #888;\n}\n\n/* Version of the site used by Khan/exercise-browser for the iframe preview */\n\nhtml.exercise-browser {\n    overflow-x: hidden;\n    overflow-y: hidden;\n}\n\n.exercise-browser body {\n    min-width: 0;\n    width: 790px;\n    overflow-x: hidden;\n    overflow-y: auto;\n}\n\n.exercise-browser header,\n.exercise-browser footer,\n.exercise-browser .topic-exercise-badge,\n.exercise-browser #extras,\n.exercise-browser .exercises-stack,\n.exercise-browser .related-video-box {\n    display: none !important;\n}\n\n.exercise-browser #outer-wrapper,\n.exercise-browser #page-container,\n.exercise-browser #page-container-inner {\n    background: #ffffff;\n}\n\n.exercise-browser article {\n    border: none;\n}\n\n.exercise-browser #container.single-exercise {\n    min-width: 0;\n}\n\n.exercise-browser #page-container {\n    width: 790px;\n    min-width: 0;\n}\n\n.exercise-browser .problem-types {\n    margin-right: 20px;\n}\n\n.exercise-browser .problem-type-link {\n    display: block;\n    margin-bottom: 5px;\n    padding: 6px;\n    background: #36a6c4;\n    border-radius: 5px;\n    border: 1px solid #7fc8e6;\n    color: white;\n}\n\n.exercise-browser .problem-type-link:hover {\n    color: white;\n    background: #1c758c;\n    text-decoration: none;\n}\n\n.exercise-browser .problem-type-link:visited {\n    color: #c2eaff;\n    text-decoration: none;\n}\n\n.lite header,\n.lite footer,\n.lite #extras,\n.lite .exercise-badge,\n.lite .hint-box,\n.lite .related-video-box {\n    display: none !important;\n}\n\n.lite #page-container,\n.lite #container {\n    min-width: 0;\n    border-width: 0;\n}\n\n.lite #streak-bar-container {\n    position: absolute;\n    top: 10px;\n    left: 15px;\n}\n\n.lite #answercontent {\n    position: absolute;\n    right: 5px;\n    top: 12px;\n    padding: 0px;\n    border: none;\n    box-shadow: none;\n    overflow: visible;\n}\n\n.lite #answercontent > * {\n    float: left;\n    margin-right: 10px;\n}\n\n/* TODO: Find a better way to display these. */\n.lite #spinner,\n.lite #check-answer-results {\n    display: none !important;\n}\n\n.lite #answercontent .info-box-header {\n    font-size: 16px;\n}\n\n.lite #answercontent .examples {\n    display: none !important;\n}\n\n.lite .ui-icon {\n    width: 18px;\n    height: 18px;\n}\n\n.lite h1 {\n    font-family: inherit;\n}\n\n.lite #solutionarea input {\n    font-size: 14px;\n}\n\n.lite #answercontent .simple-button {\n    margin-top: -5px;\n    color: #fff !important;\n    font-size: 14px;\n    text-shadow: none;\n}\n\n#warning-bar {\n    width: 100%;\n    height: 35px;\n    text-align: center;\n    font-size: 15px;\n    display: none;\n    padding: 6px 0;\n    position: relative;\n    z-index: 2;\n}\n\n.bibliotron-exercise #warning-bar {\n    height: auto;\n}\n\n#warning-bar span {\n    position: relative;\n    top: 5px;\n}\n\n.bibliotron-exercise #warning-bar span,\n.bibliotron-exercise #warning-bar #warning-bar-close {\n    top: auto;\n}\n\n#warning-bar-close {\n    top: 5px;\n    float: right;\n    right: 20px;\n    position: relative;\n}\n\n#warning-bar-content a {\n    text-decoration: underline;\n}\n\n#warning-bar.error {\n    background-color: #d61914;\n    color: #eee;\n}\n\n#warning-bar.error a {\n    color: #eee;\n}\n\n#warning-bar.warning {\n    background-color: #f5e722;\n    color: #222;\n}\n\n#warning-bar.warning a {\n    color: #222;\n}\n\n/* Faux table styles that allow revealing data row by row in hints */\n\n.fake_header > span {\n    font-weight: bold;\n    display: inline-block;\n    padding-left: 10px;\n    border-bottom: 2px solid #cccccc;\n}\n\n.fake_row > span {\n    display: inline-block;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    padding-left: 10px;\n    border-bottom: 1px solid #ddd;\n}\n\n.fake_row:nth-child(n) > span {\n    border-bottom: none;\n}\n\n.fake_row:nth-child(2n + 1) > span {\n    background-color: #f3f3f3;\n}\n\n#timelinecontainer .simple-button {\n    -webkit-user-select: none;\n    user-select: none;\n    white-space: nowrap;\n}\n\n.thumbnail a {\n    outline: none;\n    color: #fff;\n}\n\n.thumbnail a:hover {\n    text-decoration: none;\n}\n\n.thumbnail div.thumb {\n    background-size: 200px 150px;\n    background-position: no-repeat top left;\n    background-position: 0px -25px;\n    background-position-y: -80px\\9;\n    background-position-x: -100px\\9;\n    width: 200px;\n    height: 100px;\n    border: 1px solid #aaa;\n    box-shadow: 0 0 3px #ccc;\n    margin-left: 14px; /* to line up with other titles */\n    margin-bottom: 8px;\n    margin-top: 4px;\n}\n\n.thumbnail div.thumbnail_label {\n    padding: 5px 10px;\n    max-width: 180px;\n    margin: 0;\n    text-align: left;\n    margin-top: 68px;\n    background: #333;\n    background-color: rgba(30, 30, 30, 0.9);\n    color: #fff;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.thumbnail div.thumbnail_desc {\n    width: 180px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.thumbnail div.thumbnail_teaser {\n    height: 0px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: normal;\n    text-decoration: none;\n    font-size: 11px;\n}\n\n.sortable {\n    background: #eee;\n    border: 1px solid #ccc;\n    border-bottom: 1px solid #aaa;\n    padding: 13px;\n    position: relative;\n    z-index: 2;\n\n    box-shadow: 0 1px 2px #ccc;\n}\n\n.sortable > ul {\n    list-style-type: none;\n}\n\n.sortable > ul > li {\n    background-color: #fff;\n    border: 1px solid #b9b9b9;\n    border-bottom-color: #939393;\n    border-radius: 4px;\n    cursor: pointer;\n    margin-right: 4px;\n    min-width: 65px;\n    height: 65px;\n    text-align: center;\n    font-size: 1.2em;\n    float: left;\n    -webkit-user-select: none;\n    user-select: none;\n}\n\n.sortable > ul > li.placeholder {\n    background: #ddd;\n    border: 0;\n    border: 1px solid #ccc;\n    float: left;\n}\n\n.sortable code {\n    line-height: 65px;\n}\n\n.sortable > ul > li:hover {\n    border-color: #ffa500;\n    box-shadow: 0 0 4px #c56f00;\n}\n\n.sortable > ul > li:active,\n.sortable > ul > li.dragging {\n    background-color: #ffedcd;\n    opacity: 0.8;\n    filter: alpha(opacity = 80);\n}\n\n.box-whisker-sortable > .sortable {\n    background: #f8f8f8;\n    border: 0;\n    border-bottom: 0;\n    box-shadow: 0 0 0;\n    padding-right: 0;\n}\n\n.box-whisker-sortable > .sortable > ul > li {\n    width: 28px;\n    min-width: 28px;\n    height: 28px;\n    margin-right: 2px;\n    font-size: 1em;\n    border: 1px solid #ddd;\n}\n.box-whisker-sortable > .sortable code {\n    line-height: 32px;\n}\n\n#problemarea div#congruent-triangles {\n    outline-color: #999;\n    outline-style: dashed;\n    outline-width: 1px;\n}\n\n/* Video hints */\n\n.video-hint {\n    margin-bottom: 20px;\n}\n\n/* Question-based hints */\n\n.qhint {\n    border: 1px solid #aaaaaa;\n    background: #f9f9f9;\n    border-radius: 4px;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    padding: 10px;\n}\n\n.qhint-answer {\n    display: none;\n}\n\n.qhint-feedback {\n    font-weight: bold;\n    color: #6495ed;\n}\n\n.qhint-feedback.correct {\n    color: #28ae7b;\n}\n\n.qhint-feedback.incorrect {\n    color: #ce4444;\n}\n\n/*Worked example hints*/\n.example-hint {\n    margin-bottom: 15px;\n}\n\n/* Fancy matrix input - goes along with matrix-input.js */\n.matrix-input {\n    padding: 15px;\n    margin-top: 10px;\n    background-color: #eee;\n    width: 165px;\n}\n\n.solutionarea .matrix-row {\n    float: left; /* contain inner floats */\n    clear: both;\n}\n\n.solutionarea .matrix-row .sol {\n    margin: 0;\n    float: left;\n}\n\n.solutionarea .matrix-row .sol input[type="text"],\n.solutionarea .matrix-row .sol input[type="number"] {\n    width: 45px;\n    height: 30px;\n    border: none;\n    margin: 3px;\n    padding: 1px;\n}\n\n.matrix-input .matrix-bracket {\n    width: 6px;\n    position: absolute;\n    border-top: 2px solid #888;\n    border-bottom: 2px solid #888;\n    /* margin-top must have the same magnitude\n       as the border widths */\n    margin-top: -2px;\n}\n\n.matrix-input .matrix-bracket.bracket-left {\n    border-left: 2px solid #888;\n    /* margin-left for the left bracket must have\n       the same magnitude as the border widths */\n    margin-left: -2px;\n}\n\n.matrix-input .matrix-bracket.bracket-right {\n    border-right: 2px solid #888;\n}\n\n.matrix-input:after {\n    content: "";\n    display: block;\n    clear: both;\n    visibility: hidden;\n    overflow: hidden;\n    height: 0;\n}\n\ntable.periodic-table td.element {\n    border: 1px solid;\n    min-width: 37px;\n    min-height: 37px;\n    text-align: center;\n    line-height: 1.2;\n}\n\ntable.periodic-table td.element div.atomic-num {\n}\ntable.periodic-table td.element div.symbol {\n    font-weight: bold;\n}\ntable.periodic-table td.element div.weight {\n    font-size: 10px;\n}\n\n.plugging_in_values > span {\n    width: 80px;\n}\ntable.plugging_in_values_hint td {\n    padding-left: 40px;\n}\n\nspan.hover-hint {\n    color: #005987;\n    border-bottom: 1px dashed #005987;\n}\nspan.hover-hint:hover {\n    color: #678d00;\n    border-bottom: 1px dashed #678d00;\n    cursor: pointer;\n}\n\n.vis-deriv-hint-graph {\n    display: block;\n    float: left;\n    margin-right: 50px;\n}\n\n#problemarea .quarter-graph {\n    float: left;\n    margin-bottom: 45px;\n    margin-right: 45px;\n}\n\n#problemarea .estimation span {\n    width: 100px;\n}\n#problemarea .estimation span:first-child {\n    width: 50px;\n}\n\n#solutionarea table.rational-exp td {\n    text-align: center;\n    vertical-align: middle;\n    padding-left: 4px;\n    padding-right: 4px;\n}\n#solutionarea table.rational-exp td.soln-top {\n    padding-bottom: 1px;\n}\n#solutionarea table.rational-exp td.soln-bot {\n    padding-top: 1px;\n    border-top: 1px solid black;\n}\n\n#solutionarea table.rational-exp td.soln-dom {\n    padding-left: 3px;\n}\n\n#problemarea div.z-score-table > span {\n    width: 32px;\n    font-size: 11px;\n    padding: 5px;\n}\n\n#problemarea div.z-score-table > span:first-child {\n    font-weight: bold;\n    width: 22px;\n    border-right: 2px solid #cccccc;\n}\n\n#problemarea div.focus-information {\n    padding-bottom: 12px;\n    height: 70px;\n    clear: both;\n}\n\n#problemarea div.focus-information div {\n    display: block;\n}\n#problemarea div.focus-information-column-left {\n    float: left;\n    width: 30%;\n}\n#problemarea div.focus-information-column-right {\n    float: right;\n    width: 55%;\n}\n\n#problemarea .reading-tables > span {\n    text-align: center;\n    width: 65px;\n}\n#problemarea .reading-tables > span:first-child {\n    text-align: left;\n    width: 100px;\n}\n\n#problemarea .reading > span {\n    width: 32px;\n    font-size: 11px;\n    padding: 5px;\n}\n\n#problemarea .reading.fake_header > span {\n    text-align: center;\n}\n\n#problemarea .reading > span:first-child {\n    font-weight: bold;\n    width: 22px;\n    border-right: 2px solid #cccccc;\n}\n\n#problemarea .problem .graph-caption {\n    display: block;\n    margin-top: 10px;\n    margin-bottom: 30px;\n}\n\n#solutionarea .intuition-equation td {\n    text-align: right;\n    padding-left: 5px;\n}\n\n.question li span.sort-key {\n    visibility: hidden;\n    position: absolute;\n}\n\n.problem table.problem-equation td {\n    padding-left: 3px;\n    padding-right: 3px;\n    text-align: center;\n}\n.problem table.problem-equation input {\n    width: 25px;\n    margin-right: 5px;\n    vertical-align: super;\n}\n\n#coin-flip-sequence-charts {\n    height: 324px;\n    position: relative;\n    width: 496px;\n}\n\n#coin-flip-sequence-charts .graphie {\n    height: 324px;\n    width: 496px;\n    position: absolute !important;\n}\n\n#coin-flip-sequence-chart-1 {\n    left: 496px;\n}\n\n#coin-flip-sequence-chart-2 {\n    left: 992px;\n}\n\n#coin-flip-sequence-chart-3 {\n    left: 1488px;\n}\n\n.view-coin-flip-sequence-patterns {\n    margin-top: 12px;\n}\n\n.view-coin-flip-sequence-patterns span {\n    color: #ccc;\n}\n\n.view-coin-flip-sequence-patterns a {\n    margin: 0 5px;\n}\n\n.view-coin-flip-sequence-patterns a.selected {\n    font-weight: bold;\n    color: #444 !important;\n    cursor: default;\n    text-decoration: none !important;\n}\n\n.coin-flip-sequence-heads {\n    background: #a6a6a6;\n    color: #333;\n}\n\n.coin-flip-sequence-heads,\n.coin-flip-sequence-tails {\n    border-right: 1px solid #888;\n    float: left;\n    font-family: Verdana, sans-serif;\n    font-size: 14px;\n    margin-bottom: 5px;\n    padding: 0 2px;\n    text-align: center;\n    width: 16px;\n}\n\n.coin-flip-sequence-tails {\n    background: #595959;\n    color: #ccc;\n}\n\nbody.debug span.error {\n    font-weight: bold;\n    color: #fff;\n    background: #f00;\n    font-size: 1.4em;\n    padding: 0.2em;\n    text-decoration: line-through;\n}\n\n/* Work around bug added in https://khanacademy.kilnhg.com/Review/K109777 */\n.new-header .MathJax .math {\n    color: inherit;\n}\n\n.solutionarea .info-box .mini-button {\n    margin: 0px 10px 0px 0px;\n    padding: 0px 5px;\n    width: 25px;\n    height: 18px;\n}\n\n.solutionarea #number-label {\n    clear: both;\n    margin: 0px 0px;\n    padding: 14px 0px 0px 0px;\n}\n\n/* Expression/equation input (see "expression" answer type) */\n.solutionarea .expression {\n    box-sizing: border-box;\n    display: block;\n    max-width: 240px;\n    width: 100%;\n}\n\n.solutionarea .expression > .output {\n    background: #f2f2f2;\n    display: inline-block;\n    border-radius: 5px;\n    padding-top: 10px;\n    margin: 10px 0;\n    /* HACK(aria) above scratchpad so that users have somewhere to\n     * "click off of" to hide the expression dialog.\n     * Also important because it can get a silly scrollbar and we\n     * want users to be able to scroll even if the scratchpad is\n     * open. We should probably make this wider eventually. */\n    position: relative;\n    z-index: 2;\n}\n\n.solutionarea .expression > .output > .tex {\n    display: block;\n    min-height: 42px;\n    overflow-x: scroll;\n    padding: 2px 10px 16px 10px;\n}\n\n.solutionarea .expression > .input {\n    position: relative;\n    z-index: 3; /* interactive-content */\n}\n\n.solutionarea .expression > .input > input {\n    border: 1px solid #a4a4a4;\n    border-radius: 5px;\n    direction: ltr;\n    font-size: 14px;\n    margin-bottom: 5px;\n    padding: 6px;\n}\n\n.solutionarea .expression > .output,\n.solutionarea .expression > .output > .tex,\n.solutionarea .expression > .input > input {\n    box-sizing: border-box;\n    max-width: 240px;\n    width: 100%;\n}\n\n.solutionarea .expression > .input > input.error {\n    padding-right: 25px;\n}\n\n.solutionarea .expression > .input > .error-div {\n    position: absolute;\n    right: 6px;\n    top: -3px;\n}\n\n.solutionarea .expression > .input > .error-div > .error-icon {\n    color: #fcc335;\n    font-size: 20px;\n}\n\nbody:not(.mobile) ul.inequalities-one-line-radios,\nbody:not(.mobile) ul.inequalities-one-line-radios > li {\n    display: inline;\n}\n\nbody.mobile ul.inequalities-one-line-radios > li {\n    padding: 7px 0;\n}\n\n.inequalities-padding#grid {\n    margin-bottom: 2em;\n}\n\n#skip-question-button,\n#opt-out-button {\n    margin-top: 15px;\n}\n\n.perseus-sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  font-size: 0;\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n.perseus-clearfix {\n  *zoom: 1;\n}\n.perseus-clearfix:before,\n.perseus-clearfix:after {\n  content: "";\n  display: table;\n}\n.perseus-clearfix:after {\n  clear: both;\n}\n/* Fall back colors? Eg educator, talks & interviews */\n.framework-perseus code {\n  font-family: Courier, monospace;\n}\n.framework-perseus pre {\n  background-color: #f0f1f2;\n  border-radius: 4px;\n  color: #21242c;\n  font-size: 18px;\n  padding: 16px;\n  white-space: pre;\n  overflow: auto;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-widget-container:not(.perseus-widget__definition) {\n  font-size: 14px;\n  line-height: 19.6px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-widget-container.widget-float-left,\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-widget-container.widget-float-right {\n  max-width: 50%;\n  padding-top: 32px;\n  width: 100%;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-widget-container.widget-float-left .perseus-image-caption .paragraph .paragraph,\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-widget-container.widget-float-right .perseus-image-caption .paragraph .paragraph {\n  margin-bottom: 0;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-widget-container.widget-float-left {\n  float: left;\n  padding-right: 32px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-widget-container.widget-float-right {\n  float: right;\n  padding-left: 32px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-renderer > .paragraph {\n  color: #21242c;\n  font-size: 20px;\n  line-height: 30px;\n  margin: 0 auto;\n  max-width: 688px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-renderer > .paragraph .paragraph {\n  color: #21242c;\n  font-size: 20px;\n  line-height: 30px;\n  margin-bottom: 32px;\n  margin-top: 0;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-renderer > .paragraph .katex,\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-renderer > .paragraph mjx-container {\n  font-size: 100%;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-renderer > .paragraph ul:not(.perseus-widget-radio) {\n  color: #21242c;\n  font-size: 20px;\n  line-height: 30px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) table {\n  color: #21242c;\n  font-size: 20px;\n  line-height: 30px;\n  margin-bottom: 32px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) h2 {\n  font-family: inherit;\n  font-size: 30px;\n  font-weight: 700;\n  line-height: 1.1;\n  margin-bottom: 16px;\n  margin-top: 48px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) h3 {\n  font-family: inherit;\n  font-size: 26px;\n  font-weight: 700;\n  line-height: 1.1;\n  margin-bottom: 16px;\n  margin-top: 32px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) h4,\n.framework-perseus.perseus-article:not(.perseus-mobile) h5,\n.framework-perseus.perseus-article:not(.perseus-mobile) h6 {\n  font-family: inherit;\n  font-size: 22px;\n  font-weight: 700;\n  line-height: 25px;\n  margin-bottom: 16px;\n  margin-top: 32px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) blockquote {\n  padding: 0 32px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .MathJax .math {\n  color: inherit;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-image-caption .perseus-renderer .paragraph .paragraph,\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-image-caption .perseus-renderer .paragraph ol,\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-image-caption .perseus-renderer .paragraph ul {\n  color: rgba(33, 36, 44, 0.64);\n  font-size: 14px;\n  line-height: 19px;\n  margin: 16px auto 42px;\n  text-align: left;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .paragraph.perseus-paragraph-full-width {\n  margin-bottom: 32px;\n  margin-left: 0;\n  margin-right: 0;\n  max-width: none;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .paragraph.perseus-paragraph-full-width > .paragraph {\n  margin: 0;\n  max-width: none;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .unresponsive-svg-image,\n.framework-perseus.perseus-article:not(.perseus-mobile) .svg-image {\n  font-size: 14px;\n  line-height: 19.6px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-block-math {\n  margin-bottom: 32px;\n  position: relative;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-block-math:before {\n  bottom: 0;\n  content: "";\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 30px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-block-math-inner {\n  overflow-x: auto;\n  padding-bottom: 8px;\n  padding-right: 20px;\n  padding-top: 8px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) > .clearfix:first-child > .perseus-renderer:first-child > .paragraph:first-child h1:first-child,\n.framework-perseus.perseus-article:not(.perseus-mobile) > .clearfix:first-child > .perseus-renderer:first-child > .paragraph:first-child h2:first-child,\n.framework-perseus.perseus-article:not(.perseus-mobile) > .clearfix:first-child > .perseus-renderer:first-child > .paragraph:first-child h3:first-child,\n.framework-perseus.perseus-article:not(.perseus-mobile) > .clearfix:first-child > .perseus-renderer:first-child > .paragraph:first-child h4:first-child,\n.framework-perseus.perseus-article:not(.perseus-mobile) > .clearfix:first-child > .perseus-renderer:first-child > .paragraph:first-child h5:first-child,\n.framework-perseus.perseus-article:not(.perseus-mobile) > .clearfix:first-child > .perseus-renderer:first-child > .paragraph:first-child h6:first-child {\n  margin-top: 0;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-renderer > .paragraph .perseus-formats-tooltip {\n  padding: 8px 12px;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-renderer > .paragraph .perseus-formats-tooltip .paragraph {\n  margin-bottom: 0;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) .perseus-renderer > .paragraph .perseus-formats-tooltip .paragraph ul:not(.perseus-widget-radio) {\n  font-size: 15px;\n  line-height: 1.5;\n  margin: 0;\n}\n.framework-perseus.perseus-article:not(.perseus-mobile) pre {\n  margin: 0 -16px 32px -16px;\n}\n.framework-perseus:not(.perseus-article):not(.perseus-mobile) .perseus-radio-option-content .perseus-renderer > .paragraph {\n  font-family: inherit;\n  font-size: 14px;\n  line-height: 1.25;\n  color: #21242c;\n}\n.framework-perseus:not(.perseus-article):not(.perseus-mobile) .perseus-radio-option-content .perseus-renderer > .paragraph .paragraph {\n  font-family: inherit;\n  font-size: 14px;\n  line-height: 1.25;\n  color: #21242c;\n}\n.framework-perseus:not(.perseus-article):not(.perseus-mobile) .perseus-radio-rationale-content .perseus-renderer > .paragraph {\n  font-family: inherit;\n  font-size: 14px;\n  line-height: 1.25;\n  color: #21242c;\n}\n.framework-perseus:not(.perseus-article):not(.perseus-mobile) .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph {\n  font-family: inherit;\n  font-size: 14px;\n  line-height: 1.25;\n  color: #21242c;\n}\n.framework-perseus:not(.perseus-article):not(.perseus-mobile) .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph .katex,\n.framework-perseus:not(.perseus-article):not(.perseus-mobile) .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph mjx-container {\n  color: #21242c;\n}\n.framework-perseus.perseus-mobile .perseus-article .perseus-widget-container.widget-float-left {\n  float: left;\n  padding-right: 1em;\n  max-width: 50%;\n  width: 100%;\n}\n.framework-perseus.perseus-mobile .perseus-article .perseus-widget-container.widget-float-right {\n  float: right;\n  padding-left: 1em;\n  max-width: 50%;\n  width: 100%;\n}\n.framework-perseus.perseus-mobile .perseus-article .perseus-renderer > .paragraph {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 700px;\n}\n.framework-perseus.perseus-mobile .perseus-article .paragraph.perseus-paragraph-full-width {\n  margin-left: 0;\n  margin-right: 0;\n  max-width: none;\n}\n.framework-perseus.perseus-mobile .perseus-article .paragraph.perseus-paragraph-full-width > .paragraph {\n  margin: 0;\n  max-width: none;\n}\n.framework-perseus.perseus-mobile :not(blockquote) > div.paragraph {\n  margin: 0;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph {\n  margin: 0 auto;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph:not(:first-child) {\n  margin-top: 32px;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph > .paragraph {\n  margin: 0;\n}\n.framework-perseus.perseus-mobile .clearfix > .perseus-renderer {\n  margin-bottom: 32px;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph ul:not(.perseus-widget-radio, .indicatorContainer) {\n  margin: 0 0 0 1em;\n  padding: 0;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph ul:not(.perseus-widget-radio, .indicatorContainer) > li {\n  padding-left: 10px;\n  margin-bottom: 24px;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph ol {\n  margin: 0;\n  padding-left: 32px;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph ol > li {\n  list-style-type: decimal;\n  margin-bottom: 24px;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph ol ol,\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph ul:not(.perseus-widget-radio) ol,\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph ol ul:not(.perseus-widget-radio),\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph ul:not(.perseus-widget-radio) ul:not(.perseus-widget-radio) {\n  padding-top: 24px;\n}\n.framework-perseus.perseus-mobile .perseus-block-math {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-touch-callout: none;\n}\n@media (max-width: 767px) {\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph {\n    max-width: none;\n  }\n  .framework-perseus.perseus-mobile h1 {\n    font-weight: 700;\n    padding-top: 0px;\n    font-family: inherit;\n    font-size: 24px;\n    line-height: 1.2;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile h2 {\n    font-weight: 700;\n    padding-top: 16px;\n    font-family: inherit;\n    font-size: 24px;\n    line-height: 1.2;\n    color: #3b3e40;\n  }\n  .framework-perseus.perseus-mobile h3,\n  .framework-perseus.perseus-mobile h4 {\n    font-weight: 700;\n    padding-top: 0px;\n    font-family: inherit;\n    font-size: 22px;\n    line-height: 1.1;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .default-body-text {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph ul:not(.perseus-widget-radio) {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph ol {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile blockquote {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.4;\n    color: #626569;\n    color: #888d93;\n  }\n  .framework-perseus.perseus-mobile table {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-option-content .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 16px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-option-content .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 16px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 16px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 16px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph .katex,\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph mjx-container {\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-image-caption .paragraph .paragraph {\n    color: #888d93;\n    font-size: 14px;\n    line-height: 1.3;\n    text-align: left;\n  }\n  .framework-perseus.perseus-mobile .perseus-image-caption.has-title .paragraph .paragraph strong:first-child {\n    color: #3b3e40;\n  }\n  .framework-perseus.perseus-mobile .katex,\n  .framework-perseus.perseus-mobile mjx-container {\n    font-size: 21px;\n    line-height: 1.2;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-block-math .katex,\n  .framework-perseus.perseus-mobile .perseus-block-math mjx-container {\n    font-size: 21px;\n    line-height: 1.5;\n  }\n  .framework-perseus.perseus-mobile .graphie-label .katex,\n  .framework-perseus.perseus-mobile .graphie-label mjx-container {\n    font-size: 1.21em;\n    line-height: 1.2;\n  }\n  .framework-perseus.perseus-mobile code {\n    font-family: Courier, monospace;\n  }\n  .framework-perseus.perseus-mobile pre {\n    background-color: #f0f1f2;\n    border-radius: 4px;\n    color: #21242c;\n    font-size: 18px;\n    line-height: 1.6;\n    padding: 16px;\n    white-space: pre;\n    overflow: auto;\n  }\n  .framework-perseus.perseus-mobile blockquote {\n    padding: 0 0 0 18px;\n    border-left: 4px solid #d8d8d8;\n  }\n}\n@media (min-width: 768px) and (max-width: 1199px) {\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph {\n    max-width: 512px;\n  }\n  .framework-perseus.perseus-mobile h1 {\n    font-weight: 700;\n    padding-top: 0px;\n    font-family: inherit;\n    font-size: 30px;\n    line-height: 1.1;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile h2 {\n    font-weight: 700;\n    padding-top: 32px;\n    font-family: inherit;\n    font-size: 30px;\n    line-height: 1.1;\n    color: #3b3e40;\n  }\n  .framework-perseus.perseus-mobile h3,\n  .framework-perseus.perseus-mobile h4 {\n    font-weight: 700;\n    padding-top: 16px;\n    font-family: inherit;\n    font-size: 28px;\n    line-height: 1.1;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .default-body-text {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.5;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.5;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.5;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph ul:not(.perseus-widget-radio) {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.5;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph ol {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.5;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile blockquote {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.5;\n    color: #626569;\n    color: #888d93;\n  }\n  .framework-perseus.perseus-mobile table {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.5;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-option-content .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-option-content .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph .katex,\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph mjx-container {\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-image-caption .paragraph .paragraph {\n    color: #888d93;\n    font-size: 17px;\n    line-height: 1.4;\n    text-align: left;\n  }\n  .framework-perseus.perseus-mobile .perseus-image-caption.has-title .paragraph .paragraph strong:first-child {\n    color: #3b3e40;\n  }\n  .framework-perseus.perseus-mobile .katex,\n  .framework-perseus.perseus-mobile mjx-container {\n    font-size: 23px;\n    line-height: 1.3;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-block-math .katex,\n  .framework-perseus.perseus-mobile .perseus-block-math mjx-container {\n    font-size: 30px;\n    line-height: 1.3;\n  }\n  .framework-perseus.perseus-mobile .graphie-label .katex,\n  .framework-perseus.perseus-mobile .graphie-label mjx-container {\n    font-size: 1.21em;\n    line-height: 1.2;\n  }\n  .framework-perseus.perseus-mobile code {\n    font-family: Courier, monospace;\n  }\n  .framework-perseus.perseus-mobile pre {\n    background-color: #f0f1f2;\n    border-radius: 4px;\n    color: #21242c;\n    font-size: 18px;\n    line-height: 1.6;\n    padding: 16px;\n    white-space: pre;\n    overflow: auto;\n  }\n  .framework-perseus.perseus-mobile blockquote {\n    padding: 0 0 0 20px;\n    border-left: 4px solid #d8d8d8;\n  }\n}\n@media (min-width: 1200px) {\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph {\n    max-width: 688px;\n  }\n  .framework-perseus.perseus-mobile h1 {\n    font-weight: 700;\n    padding-top: 0px;\n    font-family: inherit;\n    font-size: 35px;\n    line-height: 1.1;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile h2 {\n    font-weight: 700;\n    padding-top: 32px;\n    font-family: inherit;\n    font-size: 35px;\n    line-height: 1.1;\n    color: #3b3e40;\n  }\n  .framework-perseus.perseus-mobile h3,\n  .framework-perseus.perseus-mobile h4 {\n    font-weight: 700;\n    padding-top: 16px;\n    font-family: inherit;\n    font-size: 30px;\n    line-height: 1.1;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .default-body-text {\n    font-family: inherit;\n    font-size: 22px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 22px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 22px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph ul:not(.perseus-widget-radio) {\n    font-family: inherit;\n    font-size: 22px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-renderer > .paragraph ol {\n    font-family: inherit;\n    font-size: 22px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile blockquote {\n    font-family: inherit;\n    font-size: 22px;\n    line-height: 1.4;\n    color: #626569;\n    color: #888d93;\n  }\n  .framework-perseus.perseus-mobile table {\n    font-family: inherit;\n    font-size: 22px;\n    line-height: 1.4;\n    color: #626569;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-option-content .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-option-content .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph {\n    font-family: inherit;\n    font-size: 20px;\n    line-height: 1.25;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph .katex,\n  .framework-perseus.perseus-mobile .perseus-radio-rationale-content .perseus-renderer > .paragraph .paragraph mjx-container {\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-image-caption .paragraph .paragraph {\n    color: #888d93;\n    font-size: 20px;\n    line-height: 1.4;\n    text-align: left;\n  }\n  .framework-perseus.perseus-mobile .perseus-image-caption.has-title .paragraph .paragraph strong:first-child {\n    color: #3b3e40;\n  }\n  .framework-perseus.perseus-mobile .katex,\n  .framework-perseus.perseus-mobile mjx-container {\n    font-size: 25px;\n    line-height: 1.2;\n    color: #21242c;\n  }\n  .framework-perseus.perseus-mobile .perseus-block-math .katex,\n  .framework-perseus.perseus-mobile .perseus-block-math mjx-container {\n    font-size: 30px;\n    line-height: 1.3;\n  }\n  .framework-perseus.perseus-mobile .graphie-label .katex,\n  .framework-perseus.perseus-mobile .graphie-label mjx-container {\n    font-size: 1.21em;\n    line-height: 1.2;\n  }\n  .framework-perseus.perseus-mobile code {\n    font-family: Courier, monospace;\n  }\n  .framework-perseus.perseus-mobile pre {\n    background-color: #f0f1f2;\n    border-radius: 4px;\n    color: #21242c;\n    font-size: 18px;\n    line-height: 1.6;\n    padding: 16px;\n    white-space: pre;\n    overflow: auto;\n  }\n  .framework-perseus.perseus-mobile blockquote {\n    padding: 0 0 0 20px;\n    border-left: 5px solid #d8d8d8;\n  }\n}\n.framework-perseus.perseus-mobile .perseus-widget-container {\n  font-size: 14px;\n  line-height: 19.6px;\n}\n.framework-perseus.perseus-mobile .perseus-widget-container.widget-float-left,\n.framework-perseus.perseus-mobile .perseus-widget-container.widget-float-right {\n  max-width: 50%;\n  padding-top: 32px;\n  width: 100%;\n}\n.framework-perseus.perseus-mobile .perseus-widget-container.widget-float-left .perseus-image-caption .paragraph .paragraph,\n.framework-perseus.perseus-mobile .perseus-widget-container.widget-float-right .perseus-image-caption .paragraph .paragraph {\n  margin-bottom: 0;\n}\n.framework-perseus.perseus-mobile .perseus-widget-container.widget-float-left {\n  float: left;\n  padding-right: 32px;\n}\n.framework-perseus.perseus-mobile .perseus-widget-container.widget-float-right {\n  float: right;\n  padding-left: 32px;\n}\n.framework-perseus.perseus-mobile .MathJax .math {\n  color: inherit;\n}\n.framework-perseus.perseus-mobile .perseus-image-widget {\n  text-align: center;\n}\n.framework-perseus.perseus-mobile .perseus-block-math {\n  padding-top: 16px;\n  padding-bottom: 16px;\n}\n.framework-perseus.perseus-mobile .paragraph.perseus-paragraph-full-width {\n  margin-left: 0;\n  margin-right: 0;\n  max-width: none;\n}\n.framework-perseus.perseus-mobile .paragraph.perseus-paragraph-full-width > .paragraph {\n  margin: 0;\n  max-width: none;\n}\n.framework-perseus.perseus-mobile .unresponsive-svg-image,\n.framework-perseus.perseus-mobile .svg-image {\n  font-size: 14px;\n  line-height: 19.6px;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph .perseus-formats-tooltip {\n  padding: 8px 12px;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph .perseus-formats-tooltip .paragraph {\n  margin-bottom: 0;\n}\n.framework-perseus.perseus-mobile .perseus-renderer > .paragraph .perseus-formats-tooltip .paragraph ul:not(.perseus-widget-radio) {\n  font-size: 15px;\n  line-height: 1.5;\n  margin: 0;\n}\n/* Derived from the MIT-licensed zoom.js:\n   https://github.com/fat/zoom.js/blob/fd4f3e43153da7596da0bade198e99f98b47791e/\n*/\n.zoomable {\n  cursor: pointer;\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n}\n.zoom-img {\n  background-color: white;\n  position: absolute;\n  z-index: 9001;\n}\nimg.zoom-img {\n  cursor: pointer;\n  cursor: -webkit-zoom-out;\n  cursor: -moz-zoom-out;\n}\n.zoom-transition {\n  transition: transform 300ms ease;\n}\n.zoom-overlay {\n  z-index: 9000;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: scroll;\n}\n.zoom-overlay-open,\n.zoom-overlay-transitioning {\n  cursor: default;\n}\n.zoom-overlay-open {\n  height: 100%;\n  max-height: 100%;\n  overflow: hidden;\n}\n.zoom-backdrop {\n  z-index: 8999;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: white;\n  opacity: 0;\n  transition: opacity 300ms;\n}\n.zoom-overlay-open > .zoom-backdrop {\n  opacity: 0.9;\n}\n#perseus {\n  position: relative;\n}\n.framework-perseus.perseus-mobile {\n  margin-top: 48px;\n}\n.no-select {\n  -webkit-user-select: none;\n  user-select: none;\n}\n.blank-background {\n  background-color: #fdfdfd;\n}\n#answer_area .blank-background {\n  background-color: transparent;\n}\n.above-scratchpad {\n  position: relative;\n  z-index: 2;\n}\n.graphie.above-scratchpad,\n.graphie-container.above-scratchpad {\n  background-color: #fdfdfd;\n}\n.perseus-mobile .graphie-container.above-scratchpad {\n  background: #ffffff;\n}\n.graphie {\n  -webkit-user-select: none;\n  user-select: none;\n}\n.perseus-interactive,\n.perseus-interactive.above-scratchpad {\n  position: relative;\n  z-index: 3;\n}\n#answercontent input[type=text].perseus-input-size-normal,\n#answercontent input[type=number].perseus-input-size-normal,\n.framework-perseus input[type=text].perseus-input-size-normal,\n.framework-perseus input[type=number].perseus-input-size-normal {\n  border: 1px solid #ccc;\n  width: 80px;\n}\n#answercontent input[type=text].perseus-input-size-small,\n#answercontent input[type=number].perseus-input-size-small,\n.framework-perseus input[type=text].perseus-input-size-small,\n.framework-perseus input[type=number].perseus-input-size-small {\n  border: 1px solid #ccc;\n  width: 40px;\n}\n#answercontent input[type=text].perseus-input-right-align,\n#answercontent input[type=number].perseus-input-right-align,\n.framework-perseus input[type=text].perseus-input-right-align,\n.framework-perseus input[type=number].perseus-input-right-align {\n  text-align: right;\n}\n.framework-perseus.perseus-mobile .perseus-input-right-align .keypad-input {\n  text-align: right;\n}\n.framework-perseus div.paragraph {\n  font-family: "Lato", sans-serif;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 22px;\n  margin: 22px 0px;\n}\n.framework-perseus .test-prep-blurb div.paragraph {\n  font-size: 16px;\n  line-height: 20px;\n}\n.framework-perseus div.instructions {\n  display: block;\n  font-family: "Noto Serif", serif;\n  font-weight: 800;\n  font-size: 18px;\n  line-height: 22px;\n  font-style: italic;\n}\n.framework-perseus .perseus-renderer > .paragraph > ul:not(.perseus-widget-radio),\n.framework-perseus .perseus-renderer > .paragraph > ol {\n  margin: -11px 0px 22px 0px;\n}\n.framework-perseus .paragraph ul:not(.perseus-widget-radio, .indicatorContainer) {\n  padding-left: 35px;\n  list-style-type: disc;\n}\n.framework-perseus .paragraph ol {\n  list-style: decimal;\n  padding-left: 2em;\n}\n.framework-perseus blockquote {\n  padding: 0 2.5em;\n}\n.framework-perseus .zoomable {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-touch-callout: none;\n}\n.framework-perseus sup:not(.mq-non-leaf) {\n  font-size: smaller;\n  vertical-align: super;\n  line-height: 0;\n}\n.framework-perseus .range-input {\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  display: inline-block;\n  padding: 0px 5px;\n}\n.framework-perseus .range-input > input {\n  border: 0;\n  display: inline;\n  text-align: center;\n  width: 30px;\n}\n.framework-perseus .range-input > span {\n  color: #999;\n  font-size: 14px;\n}\n.framework-perseus .number-input {\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  margin: 0;\n  padding: 5px 0;\n  text-align: center;\n  width: 40px;\n}\n.framework-perseus .number-input.invalid-input {\n  background-color: #cf5044;\n  outline-color: red;\n}\n.framework-perseus .number-input.mini {\n  width: 40px;\n}\n.framework-perseus .number-input.small {\n  width: 60px;\n}\n.framework-perseus .number-input.normal {\n  width: 80px;\n}\n.framework-perseus .math-output {\n  display: inline-block;\n  min-width: 80px;\n  min-height: 36px;\n  border-radius: 5px;\n  padding: 0;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  background: white;\n  border: 1px solid #a4a4a4;\n}\n.framework-perseus .graph-settings .graph-settings-axis-label {\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  display: inline-block;\n  padding: 5px 5px;\n  width: 70px;\n  float: right;\n  margin: 0 5px;\n}\n.framework-perseus .graph-settings .graph-settings-background-url {\n  width: 250px;\n}\n.framework-perseus .graphie-container {\n  position: relative;\n}\n.framework-perseus .graph-settings,\n.framework-perseus .image-settings,\n.framework-perseus .misc-settings {\n  padding-bottom: 5px;\n}\n.framework-perseus .misc-settings,\n.framework-perseus .type-settings {\n  border-top: 1px solid black;\n  padding-top: 5px;\n}\n.framework-perseus .svg-image {\n  display: inline-block;\n}\n.framework-perseus .unresponsive-svg-image,\n.framework-perseus .perseus-rendered-radio .unresponsive-svg-image {\n  display: inline-block;\n  position: relative;\n}\n.framework-perseus .unresponsive-svg-image > .graphie-container,\n.framework-perseus .perseus-rendered-radio .unresponsive-svg-image > .graphie-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.framework-perseus .fixed-to-responsive {\n  position: relative;\n  width: 100%;\n}\n.framework-perseus .fixed-to-responsive > :not(:first-child) {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n/* Legacy table styles. Remove when XOM is rolled out (see below for\n   updated XOM styles). */\n.framework-perseus:not(.perseus-mobile) table {\n  font-size: 14px;\n  line-height: 19.6px;\n}\n.framework-perseus:not(.perseus-mobile) table th,\n.framework-perseus:not(.perseus-mobile) table td {\n  padding: 5px 10px;\n  text-align: left;\n}\n.framework-perseus:not(.perseus-mobile) table th[align="center"],\n.framework-perseus:not(.perseus-mobile) table td[align="center"] {\n  text-align: center;\n}\n.framework-perseus:not(.perseus-mobile) table th[align="right"],\n.framework-perseus:not(.perseus-mobile) table td[align="right"] {\n  text-align: right;\n}\n.framework-perseus:not(.perseus-mobile) table th {\n  border-bottom: 2px solid #ccc;\n  font-weight: bold;\n  padding-bottom: 2px;\n}\n.framework-perseus:not(.perseus-mobile) table tr:nth-child(odd) td {\n  background-color: #f7f8fa;\n}\n.framework-perseus:not(.perseus-mobile) .perseus-titled-table {\n  display: inline-block;\n}\n.framework-perseus:not(.perseus-mobile) .perseus-titled-table table {\n  margin-left: auto;\n  margin-right: auto;\n}\n.framework-perseus:not(.perseus-mobile) .perseus-table-title {\n  text-align: center;\n  font-size: larger;\n}\n.framework-perseus:not(.perseus-mobile) table.non-markdown tr:nth-child(odd) td {\n  background-color: transparent;\n}\n.framework-perseus:not(.perseus-mobile) table.non-markdown th,\n.framework-perseus:not(.perseus-mobile) table.non-markdown td {\n  border-width: 0;\n}\n/* New XOM styles for tables. */\n.framework-perseus.perseus-mobile {\n  /* There are three kinds of tables:\n       1) normal "tables" - emitted by markdown (src/perseus-markdown.jsx)\n       2) "titled tables" - emitted by markdown as well (these are just\n          tables with a title, and encased in one more element)\n       3) "table widget" - where a user is expected to enter answers in a\n          table form (src/widgets/table.jsx).\n      Moreover, there the Categorizer widget uses <table> tags, so these\n      stylings will apply there as well.  */\n}\n.framework-perseus.perseus-mobile table {\n  border-collapse: collapse;\n  margin: 0 auto;\n}\n.framework-perseus.perseus-mobile table tbody > tr {\n  border: 1px solid #e5e5e5;\n}\n.framework-perseus.perseus-mobile table th,\n.framework-perseus.perseus-mobile table td {\n  padding: 16px;\n  text-align: left;\n}\n.framework-perseus.perseus-mobile table th[align="center"],\n.framework-perseus.perseus-mobile table td[align="center"] {\n  text-align: center;\n}\n.framework-perseus.perseus-mobile table th[align="right"],\n.framework-perseus.perseus-mobile table td[align="right"] {\n  text-align: right;\n}\n.framework-perseus.perseus-mobile table td {\n  background: #fff;\n}\n.framework-perseus.perseus-mobile table th {\n  font-weight: bold;\n}\n@media (max-width: 767px) {\n  .framework-perseus.perseus-mobile table {\n    width: 100%;\n    min-width: 480px;\n  }\n  .framework-perseus.perseus-mobile table tbody > tr {\n    border-left: 0;\n    border-right: 0;\n  }\n}\n.framework-perseus.perseus-mobile .perseus-titled-table {\n  display: inline-block;\n}\n.framework-perseus.perseus-mobile .perseus-table-title {\n  text-align: center;\n  font-size: larger;\n}\n/* Widget CSS */\n.perseus-graph-padding {\n  box-sizing: content-box;\n  padding: 25px 25px 0 0;\n}\n.categorizer-container {\n  margin-top: 20px;\n}\n.categorizer-container div.paragraph {\n  margin: 10px 0px;\n}\n.categorizer-container .category {\n  text-align: center;\n}\n.categorizer-container table {\n  min-width: 0;\n}\n.categorizer-container label {\n  position: relative;\n  z-index: 2;\n}\nbody.mobile .categorizer-container td.category input[type="radio"]:checked + span:before {\n  color: #005a88;\n}\nbody.mobile .categorizer-container td.category input[type="radio"] + span:active:before {\n  color: #666;\n  content: "\\f111";\n}\n.perseus-widget-dropdown {\n  position: relative;\n}\n.perseus-widget-expression {\n  position: relative;\n}\n.perseus-widget-expression > span,\n.perseus-widget-expression .error-tooltip {\n  display: inline-block;\n  vertical-align: middle;\n}\n.perseus-widget-expression .error-tooltip {\n  position: absolute;\n  right: 6px;\n  top: -2px;\n}\n.perseus-widget-expression .error-icon {\n  color: #fcc335;\n  cursor: pointer;\n  font-size: 20px;\n  position: relative;\n  z-index: 3;\n}\n.perseus-widget-expression .error-text {\n  background-color: #fff;\n  padding: 5px;\n  width: 210px;\n}\n.perseus-widget-expression .perseus-formats-tooltip {\n  width: 190px;\n}\n#answer_area .perseus-widget-expression .perseus-math-input.mq-editable-field.mq-math-mode {\n  min-width: 130px;\n}\n#answer_area .perseus-widget-expression .error-tooltip .error-text-container {\n  left: -125px !important;\n  top: -17px !important;\n}\n#answer_area .perseus-widget-expression .error-tooltip .error-text {\n  font-size: 12px;\n  width: 90px;\n}\n#answer_area .perseus-widget-expression .error-tooltip .tooltipContainer > div:first-child {\n  visibility: hidden !important;\n}\n.perseus-widget-grapher {\n  box-sizing: content-box;\n  padding: 25px 25px 0 0;\n}\n.perseus-widget-grapher > .graphie-container {\n  position: relative;\n}\n.perseus-widget-grapher > .graphie-container > img,\n.perseus-widget-grapher > .graphie-container .svg-image {\n  position: absolute;\n}\n.framework-perseus .perseus-graded-group {\n  position: relative;\n  width: 100%;\n  margin-left: 3px;\n  padding-left: 5px;\n}\n.framework-perseus .perseus-graded-group.answer-correct {\n  border-left: 3px solid #76a005;\n  margin-left: 0;\n}\n.framework-perseus .perseus-graded-group.answer-incorrect {\n  border-left: 3px solid #b2392e;\n  margin-left: 0;\n}\n.framework-perseus .perseus-graded-group .group-icon {\n  font-size: 14px;\n  position: absolute;\n  top: 50%;\n  top: calc(50% - 7px);\n  left: -30px;\n  text-align: center;\n  width: 16px;\n}\n.framework-perseus .perseus-group {\n  position: relative;\n  width: 100%;\n}\n.framework-perseus .perseus-group .group-icon {\n  font-size: 14px;\n  position: absolute;\n  top: 50%;\n  top: calc(50% - 7px);\n  margin-left: -20px;\n}\n.perseus-image-widget .perseus-image-title {\n  text-align: center;\n}\n.perseus-image-widget .perseus-image-caption {\n  color: rgba(33, 36, 44, 0.7);\n  padding-left: 16px;\n  position: relative;\n}\n.perseus-image-widget .perseus-image-caption::before {\n  content: "";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  margin-left: 4px;\n  width: 1px;\n  background-color: rgba(33, 36, 44, 0.5);\n  border: 1px solid rgba(33, 36, 44, 0.5);\n  border-radius: 2px;\n}\n.perseus-image-widget .perseus-image-caption .paragraph {\n  font-size: 14px;\n  padding-right: 12px;\n}\n.perseus-image-editor .label-settings td {\n  padding: 5px 4px;\n  text-align: center;\n}\n.perseus-image-editor .label-settings tr:nth-child(odd) td {\n  background-color: transparent;\n}\n.perseus-image-editor .label-settings th,\n.perseus-image-editor .label-settings td {\n  border-width: 0;\n}\n.perseus-image-editor .image-settings,\n.perseus-image-editor .graph-settings {\n  margin-top: 5px;\n}\n.perseus-widget-interactive-graph {\n  box-sizing: content-box;\n  padding: 25px 25px 0 0;\n}\n.perseus-widget-interactive-graph > .graphie-container {\n  position: relative;\n}\n.perseus-widget-interactive-graph > .graphie-container > img,\n.perseus-widget-interactive-graph > .graphie-container > .unresponsive-svg-image {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n.perseus-mobile .tooltip.visible {\n  z-index: 2;\n}\n.perseus-mobile .tooltip.visible .tooltip-content:before {\n  border: solid;\n  border-color: white transparent;\n  border-width: 10px 10px 0 10px;\n  bottom: -10px;\n  content: "";\n  left: 50%;\n  transform: translateX(-50%);\n  position: absolute;\n  z-index: 2;\n}\n.perseus-mobile .tooltip .tooltip-content {\n  display: none;\n}\n.perseus-mobile .tooltip.visible .tooltip-content {\n  display: inline-block;\n  background-color: #ffffff;\n  border-radius: 5px;\n  bottom: 50px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 5px;\n  position: absolute;\n  white-space: nowrap;\n  min-width: 30px;\n  text-align: center;\n}\n.perseus-mobile .tooltip.visible .tooltip-content .katex,\n.perseus-mobile .tooltip.visible .tooltip-content mjx-container {\n  color: #71b307 !important;\n}\n.perseus-mobile .graphie-label .katex,\n.perseus-mobile .graphie-label mjx-container {\n  color: inherit !important;\n}\n.framework-perseus .perseus-label-image-widget-instructions div.paragraph {\n  margin: 0;\n}\n@media (max-width: 767px) {\n  [id*="perseus-label-image-widget-answer-pill"] > div.perseus-renderer-responsive {\n    all: revert;\n  }\n  .framework-perseus.perseus-mobile [id*="perseus-label-image-widget-answer-pill"] mjx-container {\n    all: revert;\n  }\n}\n.framework-perseus:not(.perseus-article).perseus-mobile .perseus-label-image-widget-instructions {\n  color: initial;\n}\n.framework-perseus:not(.perseus-article).perseus-mobile .perseus-label-image-widget-instructions .perseus-renderer .paragraph > .paragraph {\n  color: initial !important;\n  font-size: initial !important;\n  line-height: initial !important;\n}\n.framework-perseus:not(.perseus-article).perseus-mobile .perseus-label-image-widget-instructions .perseus-block-math {\n  padding: 0;\n}\n.framework-perseus:not(.perseus-article).perseus-mobile .perseus-label-image-widget-instructions .perseus-block-math .katex,\n.framework-perseus:not(.perseus-article).perseus-mobile .perseus-label-image-widget-instructions .perseus-block-math mjx-container {\n  font-size: initial !important;\n  line-height: initial !important;\n}\n.perseus-label-image-widget-answer-choices .perseus-block-math > .perseus-block-math-inner,\n.perseus-label-image-widget-instructions .perseus-block-math > .perseus-block-math-inner {\n  overflow-x: hidden !important;\n}\n.perseus-widget-matcher {\n  /* Ideally we\'d get rid of this, as most of the styles have been moved\n       to inline styles using Aphrodite, but this is a hacky "reach-in" into\n       descendent widgets that we can\'t modify */\n}\n.perseus-widget-matcher div.paragraph {\n  margin: 0;\n}\n.perseus-matrix .matrix-prefix,\n.perseus-matrix .matrix-suffix {\n  display: inline-block;\n  margin: 10px 5px 0 10px;\n  vertical-align: top;\n}\n.perseus-matrix .matrix-suffix {\n  margin: 10px 10px 0 5px;\n}\n.perseus-matrix div.paragraph {\n  margin: 0;\n}\n.perseus-matrix .matrix-input {\n  background: #e2e2e2;\n  display: inline-block;\n  margin: 5px;\n  padding: 3px;\n  position: relative;\n  width: auto;\n}\n.perseus-matrix .matrix-row {\n  white-space: nowrap;\n}\n.perseus-matrix .matrix-bracket {\n  border-color: #666;\n  border-style: solid;\n  border-bottom-width: 2px;\n  border-top-width: 2px;\n  margin-top: -2px;\n  position: absolute;\n  width: 6px;\n}\n.perseus-matrix .matrix-bracket.bracket-left {\n  border-color: #666;\n  border-left-width: 2px;\n  border-right-width: 0;\n  left: 3px;\n}\n.perseus-matrix .matrix-bracket.bracket-right {\n  border-color: #666;\n  border-left-width: 0;\n  border-right-width: 2px;\n  margin-left: -3px;\n}\n.perseus-matrix input,\n.perseus-matrix .number-input {\n  border: none;\n  border-radius: 0;\n  box-sizing: border-box;\n  margin: 3px;\n  padding: 0;\n  text-align: center;\n}\n.perseus-matrix input.outside,\n.perseus-matrix .number-input.outside {\n  background: #f3f3f3;\n}\n.perseus-matrix input:focus,\n.perseus-matrix .number-input:focus {\n  border: none;\n  outline: none;\n}\n.static-mode.perseus-matrix input,\n.static-mode.perseus-matrix .number-input {\n  background: #f5f5f5;\n}\n.perseus-matrix.the-matrix .matrix-bracket,\n.perseus-matrix.the-matrix .matrix-left,\n.perseus-matrix.the-matrix .matrix-right {\n  border-color: #29f139;\n}\n.perseus-matrix.the-matrix .matrix-input {\n  background: #222;\n}\n.perseus-matrix.the-matrix input,\n.perseus-matrix.the-matrix .number-input {\n  background: #666;\n  color: #29f139;\n  font-weight: bold;\n}\n.perseus-matrix.the-matrix input.outside,\n.perseus-matrix.the-matrix .number-input.outside {\n  background: #444;\n}\nbody.mobile .perseus-matrix .matrix-input {\n  display: table;\n}\nbody.mobile .perseus-matrix .matrix-row {\n  display: table-row;\n}\nbody.mobile .perseus-matrix .matrix-input-field {\n  display: table-cell;\n}\nbody.mobile .perseus-matrix .math-output {\n  margin: 4px 4px 2px 4px;\n  max-height: 36px;\n  max-width: 80px;\n  overflow: hidden;\n}\n.perseus-matrix-editor .perseus-single-editor {\n  width: 338px;\n}\n.perseus-widget-measurer {\n  position: relative;\n}\n.perseus-widget-measurer img {\n  position: absolute;\n}\n.perseus-widget-measurer-url {\n  width: 70%;\n}\n#translations-dashboard .perseus-widget-measurer > .graphie {\n  z-index: -1;\n}\n.orderer {\n  position: relative;\n}\n.orderer.layout-horizontal .draggable-box {\n  margin-left: 0;\n  margin-top: 30px;\n  padding: 13px;\n}\n.orderer .card {\n  padding: 0 10px;\n  cursor: pointer;\n  position: relative;\n  -webkit-user-select: none;\n  user-select: none;\n  width: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.orderer.height-normal.layout-horizontal .card {\n  height: 65px;\n}\n.orderer.height-normal.layout-vertical .card {\n  padding: 5px;\n}\n.orderer.height-auto .card {\n  padding: 0;\n}\n.orderer.height-auto.layout-horizontal .drag-hint {\n  min-height: 65px;\n  min-width: 22px;\n}\n.orderer.layout-horizontal .bank {\n  padding: 0;\n  margin: 0px 13px;\n}\n.orderer div.paragraph {\n  margin: 0;\n}\n.orderer .card-wrap {\n  position: relative;\n  z-index: 3;\n  width: auto;\n}\n.orderer.layout-horizontal .card-wrap {\n  float: left;\n}\n.orderer.layout-horizontal .card-wrap:not(:first-child) {\n  margin-left: 8px;\n}\n.orderer.layout-vertical .card-wrap {\n  float: none;\n  text-align: center;\n}\n.orderer.layout-vertical .card-wrap:not(:first-child) {\n  margin-top: 8px;\n}\n.orderer.layout-vertical .bank,\n.orderer.layout-vertical .draggable-box {\n  box-sizing: border-box;\n  float: left;\n  max-width: 50%;\n}\n.orderer.layout-vertical .bank {\n  padding: 11px 20px 11px 0;\n  margin: 0;\n}\n.orderer.layout-vertical .draggable-box {\n  margin-top: 0;\n  padding: 10px;\n  min-height: 170px;\n}\n.orderer.layout-vertical .draggable-box .drag-hint {\n  box-sizing: border-box;\n  min-width: 140px;\n  min-height: 34px;\n}\n.orderer.layout-vertical .draggable-box .placeholder {\n  box-sizing: border-box;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-widget-passage,\n.perseus-widget-passage-container .perseus-widget-passage {\n  line-height: 20px;\n  margin: 22px;\n  position: relative;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-widget-passage div.paragraph,\n.perseus-widget-passage-container .perseus-widget-passage div.paragraph {\n  font-family: KaTeX_Main, Times, "Times New Roman", serif;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-widget-passage .passage-title div.paragraph,\n.perseus-widget-passage-container .perseus-widget-passage .passage-title div.paragraph {\n  font-family: "Noto Serif", serif;\n  font-weight: 700;\n  font-size: 20px;\n  line-height: 22px;\n  margin: 0 0 10px;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-widget-passage > .passage-text div.paragraph,\n.perseus-widget-passage-container .perseus-widget-passage > .passage-text div.paragraph {\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 20px;\n  text-indent: 20px;\n  margin: 0;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-widget-passage > .passage-text div.paragraph span,\n.perseus-widget-passage-container .perseus-widget-passage > .passage-text div.paragraph span {\n  text-indent: 0;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-widget-passage > .passage-text div.paragraph em,\n.perseus-widget-passage-container .perseus-widget-passage > .passage-text div.paragraph em {\n  line-height: 0;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .katex,\n.perseus-widget-passage-container .katex,\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container mjx-container,\n.perseus-widget-passage-container mjx-container {\n  line-height: 18px;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .footnotes,\n.perseus-widget-passage-container .footnotes {\n  margin-top: 22px;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .footnotes div.paragraph,\n.perseus-widget-passage-container .footnotes div.paragraph {\n  font-size: 14px;\n  margin: 0;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-highlight,\n.perseus-widget-passage-container .perseus-highlight {\n  background-color: #fffabe;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-review-highlight,\n.perseus-widget-passage-container .perseus-review-highlight {\n  background-color: #eee7b2;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-passage-square-label,\n.perseus-widget-passage-container .perseus-passage-square-label,\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-passage-circle-label,\n.perseus-widget-passage-container .perseus-passage-circle-label,\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .perseus-passage-bracket-label,\n.perseus-widget-passage-container .perseus-passage-bracket-label {\n  font-family: Times, "Times New Roman", serif;\n  font-size: 16px;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .line-numbers,\n.perseus-widget-passage-container .line-numbers {\n  font-size: 12px;\n  font-style: italic;\n  font-weight: 600;\n  position: absolute;\n  text-align: right;\n  max-height: 100%;\n  overflow: hidden;\n  padding-right: 6px;\n  left: -52px;\n  width: 37px;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .line-numbers span,\n.perseus-widget-passage-container .line-numbers span {\n  display: block;\n  line-height: 20px;\n  position: relative;\n  top: 2px;\n  visibility: hidden;\n}\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .line-numbers span:nth-of-type(5n),\n.perseus-widget-passage-container .line-numbers span:nth-of-type(5n),\n.framework-perseus.perseus-article .perseus-renderer .perseus-widget-passage-container .line-numbers .line-marker,\n.perseus-widget-passage-container .line-numbers .line-marker {\n  visibility: visible;\n}\n.perseus-widget-passage-editor .perseus-single-editor {\n  font-family: Times, "Times New Roman", serif;\n  margin-left: -11px;\n}\n.perseus-widget-passage-editor .perseus-textarea-pair textarea {\n  font-size: 13px;\n  line-height: 17px;\n}\nbody.sat-section .perseus-widget-passage {\n  margin-top: 0;\n}\n.perseus-widget-plotter svg,\n.perseus-widget-plotter vml {\n  position: absolute;\n}\n.perseus-widget-plotter span.rotate {\n  transform: rotate(-90deg);\n}\n.set-from-scale-box {\n  border: 2px solid #eeeeee;\n  border-radius: 3px;\n  padding: 3px;\n}\n.categories-title {\n  font-size: 14px;\n}\n.perseus-mobile .perseus-widget-plotter {\n  border: solid 0.5px #babec2;\n  border-radius: 4px;\n}\n.perseus-mobile .perseus-widget-plotter .graphie-label .katex,\n.perseus-mobile .perseus-widget-plotter .graphie-label mjx-container {\n  color: #626569;\n}\n.perseus-widget-radio.perseus-rendered-radio div,\n.perseus-widget-radio.perseus-rendered-radio div > p {\n  /* TODO(alpert): Find a better way of doing inline renderers */\n  display: inline;\n}\n.perseus-widget-radio.perseus-rendered-radio .perseus-radio-rationale-content > .perseus-renderer > .paragraph {\n  display: table;\n  margin: 0;\n}\n.perseus-widget-radio.perseus-rendered-radio .perseus-radio-rationale-content > .perseus-renderer > .paragraph:not(:last-child) {\n  margin-bottom: 8px;\n}\n.perseus-widget-radio .unresponsive-svg-image div,\n.perseus-widget-radio .svg-image div {\n  display: block;\n}\n.perseus-widget-radio li div.instructions {\n  margin-bottom: 5px;\n}\n.perseus-widget-radio li .value {\n  display: block;\n  margin-left: 18px;\n  min-height: 22px;\n}\n.perseus-widget-radio li img,\n.perseus-widget-radio li table {\n  display: inline-block;\n  vertical-align: middle;\n}\n.perseus-widget-radio li table {\n  border: 1px solid #ccc;\n}\n.perseus-widget-radio-fieldset .instructions {\n  font-family: "Lato", sans-serif;\n}\n.reaction {\n  display: table-row;\n}\n.reaction-aligned {\n  display: table-cell;\n  vertical-align: middle;\n}\n.molecule-container {\n  display: table-cell;\n  vertical-align: middle;\n  margin: 20px;\n}\n.molecule-canvas {\n  display: table-cell;\n  vertical-align: middle;\n}\n.arrow-container {\n  display: table-cell;\n  vertical-align: middle;\n}\n.above-text {\n  font-size: 0.8em;\n  margin-bottom: -1em;\n  min-height: 1.8em;\n  text-align: center;\n}\n.below-text {\n  font-size: 0.8em;\n  margin-top: -1.6em;\n  min-height: 1.8em;\n  text-align: center;\n}\n.framework-perseus .perseus-sequence {\n  width: 100%;\n}\n.draggy-boxy-thing .draggable-box,\n.draggy-boxy-thing .cards-area {\n  background: #eee;\n  border: 1px solid #ccc;\n  border-bottom: 1px solid #aaa;\n  box-shadow: 0 1px 2px #ccc;\n}\n.draggy-boxy-thing .cards-area {\n  position: relative;\n  z-index: 2;\n}\n.draggy-boxy-thing .card {\n  position: relative;\n  z-index: 3;\n  background-color: #fff;\n  border: 1px solid #b9b9b9;\n  border-bottom-color: #939393;\n  border-radius: 4px;\n  cursor: pointer;\n  touch-action: none;\n}\n.draggy-boxy-thing .card.placeholder {\n  background: #ddd;\n  border: 1px solid #ccc;\n}\n.draggy-boxy-thing .card.drag-hint {\n  background: none;\n  border: 1px dashed #aaa;\n  cursor: auto;\n}\n.draggy-boxy-thing .card.drag-hint:hover {\n  border-color: #aaa;\n  box-shadow: none;\n}\n.draggy-boxy-thing .card.dragging {\n  background-color: #ffedcd;\n  opacity: 0.8;\n  filter: opacity(0.8);\n}\n.draggy-boxy-thing .card.stack {\n  z-index: auto;\n}\n.draggy-boxy-thing .card.stack:after {\n  content: " ";\n  background-color: #fff;\n  border: 1px solid #b9b9b9;\n  border-bottom-color: #939393;\n  border-radius: 4px;\n  height: 100%;\n  width: 100%;\n  z-index: -1;\n  top: 1px;\n  left: 1px;\n  position: absolute;\n}\n.draggy-boxy-thing .card:hover {\n  border-color: #ffa500;\n  box-shadow: 0 0 4px #c78100;\n}\n.perseus-sortable div.paragraph {\n  margin: 0;\n}\n.perseus-sortable .perseus-sortable-draggable:before {\n  content: "";\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n}\n.perseus-sortable .perseus-sortable-draggable > div {\n  display: inline-block;\n  font-size: 14px;\n  max-width: 100%;\n  vertical-align: middle;\n}\n.perseus-sortable .perseus-sortable-draggable-unpadded img {\n  vertical-align: bottom;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown {\n  text-align: left;\n  margin: 20px auto;\n  border-collapse: collapse;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown tr {\n  height: 23px;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown th,\n.framework-perseus table.perseus-widget-table-of-values.non-markdown td {\n  border: 2px solid black;\n  border-width: 0 2px;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown th:first-child,\n.framework-perseus table.perseus-widget-table-of-values.non-markdown td:first-child {\n  border-left: 0;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown th:last-child,\n.framework-perseus table.perseus-widget-table-of-values.non-markdown td:last-child {\n  border-right: 0;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown th {\n  font-weight: normal;\n  padding: 5px;\n  width: 80px;\n  text-align: left;\n  border-bottom: 2px solid black;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown th .paragraph {\n  margin: 0;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown td {\n  padding: 0px 5px;\n}\n.framework-perseus table.perseus-widget-table-of-values.non-markdown tbody tr:first-child td {\n  padding-top: 5px;\n}\n.framework-perseus table.perseus-widget-table-of-values input,\n#answer_area table.perseus-widget-table-of-values input {\n  width: 80px;\n}\nbody.mobile .framework-perseus table.perseus-widget-table-of-values.non-markdown td {\n  padding: 5px;\n}\n.old-unit-input input,\n.unit-editor-canonical {\n  border: 1px solid #a4a4a4;\n  border-radius: 5px;\n  font-size: 14px;\n  padding: 6px;\n}\n.unit-editor > div {\n  margin: 5px 0;\n}\n.perseus-widget-container.widget-nohighlight {\n  transition: all 0.15s;\n}\n.perseus-widget-container.widget-highlight {\n  box-shadow: 0px 0px 0px 2px #ffa500;\n  transition: all 0.15s;\n}\n.perseus-widget-container.widget-inline {\n  display: inline;\n}\n.perseus-widget-container.widget-inline-block {\n  display: inline-block;\n}\n.bibliotron-exercise .perseus-hint-renderer {\n  border-left: 4px solid #f6f7f7;\n  padding-left: 16px;\n  position: relative;\n}\n.bibliotron-exercise .perseus-hint-renderer:focus {\n  border-left-color: #d6d8da;\n  outline: none;\n}\n.bibliotron-exercise .perseus-hint-renderer:before,\n.bibliotron-exercise .perseus-hint-renderer:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.bibliotron-exercise .perseus-hint-renderer div.paragraph {\n  margin-top: 0px;\n  margin-bottom: 16px;\n}\n.bibliotron-exercise .perseus-hint-renderer.last-hint {\n  margin-bottom: 32px;\n}\n@media (max-width: 767px) {\n  .bibliotron-exercise .perseus-hint-renderer.last-hint {\n    margin-bottom: 0;\n  }\n}\n.perseus-hint-label {\n  color: #00457c;\n  display: none;\n  font-weight: 600;\n  margin-right: 13px;\n  position: absolute;\n  right: 100%;\n  white-space: nowrap;\n}\n.perseus-domain-science .perseus-hint-label {\n  color: #9e034e;\n}\n.perseus-domain-math .perseus-hint-label {\n  color: #007d96;\n}\n.perseus-domain-economics .perseus-hint-label {\n  color: #a75a05;\n}\n.perseus-domain-partner .perseus-hint-label {\n  color: #208170;\n}\n.perseus-domain-humanities .perseus-hint-label {\n  color: #be2612;\n}\n.perseus-domain-test-prep .perseus-hint-label {\n  color: #543b78;\n}\n.perseus-domain-cs .perseus-hint-label {\n  color: #0d923f;\n}\n.bibliotron-exercise .perseus-hint-renderer.last-rendered .perseus-hint-label {\n  display: block;\n}\n@media (max-width: 767px) {\n  .bibliotron-exercise .perseus-hint-renderer.last-rendered .perseus-hint-label {\n    display: none;\n  }\n}\n.perseus-tooltip {\n  background: #fff;\n  padding: 5px 10px;\n  width: 240px;\n}\n.perseus-formats-tooltip {\n  background: #fff;\n  padding: 5px 10px;\n  width: 240px;\n  color: #777;\n}\n.framework-perseus .perseus-formats-tooltip .paragraph > ul {\n  padding: 0;\n  margin: -20px 0 -16px 0;\n}\n.framework-perseus .perseus-formats-tooltip .paragraph > ul > li {\n  list-style-type: none;\n}\n.perseus-math-input.mq-editable-field.mq-math-mode {\n  background-color: transparent;\n  font-size: 18px;\n  min-width: 100px;\n  border: unset;\n}\n.perseus-math-input.mq-editable-field.mq-math-mode.mq-focused {\n  box-shadow: unset;\n}\n.perseus-math-input.mq-editable-field.mq-math-mode > .mq-root-block {\n  padding: 4px;\n}\n.perseus-math-input.mq-editable-field.mq-math-mode .mq-cursor {\n  padding-left: 0;\n}\n.perseus-math-input.mq-editable-field.mq-math-mode .mq-paren.mq-ghost {\n  color: inherit;\n}\n.perseus-math-input.mq-editable-field.mq-math-mode .mq-paren + span {\n  margin: 0;\n}\n.perseus-math-input.mq-editable-field.mq-math-mode .mq-binary-operator {\n  font-family: KaTeX_Main !important;\n}\n.perseus-math-input.mq-editable-field.mq-math-mode sup {\n  line-height: normal;\n}\n.perseus-widget-editor .perseus-math-input.mq-editable-field.mq-math-mode > .mq-root-block {\n  border-radius: 0;\n}\n.math-input-buttons {\n  background-color: rgba(255, 255, 255, 0.7);\n  border-radius: 5px;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n  margin-top: 5px;\n  padding: 2px;\n  width: 201px;\n}\n.math-input-buttons.absolute {\n  left: -2px;\n  position: absolute;\n  top: -3px;\n  z-index: 5;\n}\n.tex-button {\n  display: block;\n  float: left;\n  width: 35px;\n  height: 35px;\n  margin: 2px;\n  border: 1px solid #1c758a;\n  background-color: white;\n  border-radius: 5px;\n}\n.tex-button:hover {\n  cursor: pointer;\n  background-color: #f0f0f0;\n}\n.tex-button:focus {\n  border: 2px solid #1c758a;\n  outline: none;\n}\n.tex-button-row {\n  margin: 5px 0;\n}\n.tex-button-row:first-child {\n  margin-top: 0;\n}\n.tex-button-row:last-child {\n  margin-bottom: 0;\n}\n.renderer-widget-error {\n  background-color: #fcc;\n}\n.perseus-error {\n  background: #cf5044;\n  border: 2px solid red;\n  border-radius: 5px;\n  padding: 20px;\n  margin: 15px 0 10px;\n}\n@media (max-width: 767px) {\n  .perseus-renderer-responsive {\n    margin: 0 16px;\n  }\n  .perseus-renderer-responsive .perseus-renderer-responsive {\n    margin: 0;\n  }\n}\n@media (max-width: 767px) {\n  .perseus-mobile .perseus-block-math {\n    font-size: 18px;\n  }\n}\n.keypad-input {\n  outline: none !important;\n}\n.keypad-input .mq-editable-field .mq-root-block {\n  overflow-x: auto;\n}\n.keypad-input .mq-editable-field .mq-cursor:not(:only-child),\n.keypad-input .mq-editable-field .mq-root-block.mq-hasCursor > .mq-cursor:only-child {\n  /* HACK(charlie): Magic numbers to properly size and position the vertical\n               cursor, which is visible whenever the cursor is not alone in its parent,\n               with the exception that it\'s also visible when the entire input is\n               empty. */\n  height: 20px !important;\n  width: 2px;\n  margin-top: -5px !important;\n  vertical-align: middle !important;\n  border-radius: 1px !important;\n}\n.keypad-input .mq-editable-field .mq-cursor {\n  border-left: 2px solid #1865f2 !important;\n  margin-left: -1px !important;\n  margin-right: -1px !important;\n  opacity: 1 !important;\n  transition: opacity 300ms ease !important;\n  visibility: visible !important;\n}\n.keypad-input .mq-editable-field .mq-cursor.mq-blink {\n  opacity: 0 !important;\n  visibility: visible !important;\n}\n.keypad-input .mq-editable-field .mq-non-leaf .mq-cursor:only-child {\n  border: 2px solid !important;\n  border-color: #1865f2 !important;\n  border-radius: 1px;\n  opacity: 1 !important;\n  padding: 0 4px 0 4px;\n  transition: border-color 300ms ease !important;\n}\n.keypad-input .mq-editable-field .mq-non-leaf .mq-cursor:only-child.mq-blink {\n  border-color: #1865f2 !important;\n  opacity: 1 !important;\n}\n.keypad-input .mq-empty {\n  background: transparent !important;\n}\n.keypad-input .mq-empty:not(.mq-root-block):after,\n.keypad-input .mq-hasCursor:empty:not(.mq-root-block):after {\n  border: 2px solid rgba(33, 36, 44, 0.16);\n  border-radius: 1px;\n  color: transparent;\n  display: inline-block;\n  margin-left: -1px;\n  margin-right: -1px;\n  padding: 0 4px 0 4px;\n  visibility: visible !important;\n}\n.keypad-input .mq-selection .mq-empty:not(.mq-root-block):after {\n  border-color: white;\n}\n.keypad-input .mq-hasCursor:empty:not(.mq-root-block):after {\n  content: "c";\n}\n.keypad-input .mq-math-mode .mq-selection .mq-non-leaf,\n.keypad-input .mq-editable-field .mq-selection .mq-non-leaf {\n  background: #1865f2 !important;\n  border-color: white !important;\n  color: white !important;\n}\n.keypad-input .mq-math-mode .mq-selection .mq-scaled,\n.keypad-input .mq-editable-field .mq-selection .mq-scaled {\n  background: transparent !important;\n  border-color: transparent !important;\n  color: white !important;\n}\n.keypad-input .mq-selection {\n  background: #1865f2 !important;\n  border-color: white !important;\n  color: white !important;\n  display: inline-block !important;\n}\n/**\n * @license\n * MathQuill v0.10.1, by Han, Jeanine, and Mary\n * http://mathquill.com | maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\n\n.mq-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n.mq-mathspeak {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n@font-face {\n  font-family: Symbola;\n  src: url(/fonts/Symbola.eot);\n  src: local(\'Symbola Regular\'), local(\'Symbola\'), url(/fonts/Symbola.woff2) format(\'woff2\'), url(/fonts/Symbola.woff) format(\'woff\'), url(/fonts/Symbola.ttf) format(\'truetype\'), url(/fonts/Symbola.otf) format(\'opentype\'), url(/fonts/Symbola.svg#Symbola) format(\'svg\');\n}\n.mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor {\n  border-left: 1px solid currentColor;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor.mq-blink {\n  visibility: hidden;\n}\n.mq-editable-field,\n.mq-math-mode .mq-editable-field {\n  border: 1px solid gray;\n}\n.mq-editable-field.mq-focused,\n.mq-math-mode .mq-editable-field.mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  border-color: #709ac0;\n}\n.mq-math-mode .mq-editable-field {\n  margin: 1px;\n}\n.mq-editable-field .mq-latex-command-input {\n  color: inherit;\n  font-family: \'Courier New\', monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n.mq-editable-field .mq-latex-command-input.mq-empty {\n  background: transparent;\n}\n.mq-editable-field .mq-latex-command-input.mq-hasCursor {\n  border-color: ActiveBorder;\n}\n.mq-editable-field.mq-empty:after,\n.mq-editable-field.mq-text-mode:after,\n.mq-math-mode .mq-empty:after {\n  visibility: hidden;\n  content: \'c\';\n}\n.mq-editable-field .mq-cursor:only-child:after,\n.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {\n  visibility: hidden;\n  content: \'c\';\n}\n.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {\n  content: \'\';\n}\n.mq-editable-field.mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.mq-root-block,\n.mq-math-mode .mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.mq-root-block .mq-digit,\n.mq-math-mode .mq-root-block .mq-digit {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-root-block .mq-group-start,\n.mq-math-mode .mq-root-block .mq-group-start {\n  margin-left: 0.11em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-other,\n.mq-math-mode .mq-root-block .mq-group-other {\n  margin-left: -0.01em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-1,\n.mq-math-mode .mq-root-block .mq-group-leading-1,\n.mq-root-block .mq-group-leading-2,\n.mq-math-mode .mq-root-block .mq-group-leading-2 {\n  margin-left: 0;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-3,\n.mq-math-mode .mq-root-block .mq-group-leading-3 {\n  margin-left: 0.036em;\n  margin-right: -0.01em;\n}\n.mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-3,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-3 {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-math-mode {\n  font-variant: normal;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-non-leaf,\n.mq-math-mode .mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode var,\n.mq-math-mode .mq-text-mode,\n.mq-math-mode .mq-nonSymbola {\n  font-family: \'Times New Roman\', Symbola, serif;\n  line-height: 0.9;\n}\n.mq-math-mode svg {\n  fill: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: black;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n.mq-math-mode .mq-empty {\n  background: rgba(0, 0, 0, 0.2);\n}\n.mq-math-mode .mq-empty.mq-root-block {\n  background: transparent;\n}\n.mq-math-mode .mq-empty.mq-quiet-delimiter {\n  background: transparent;\n}\n.mq-math-mode.mq-empty {\n  background: transparent;\n}\n.mq-math-mode .mq-text-mode {\n  display: inline-block;\n  white-space: pre;\n}\n.mq-math-mode .mq-text-mode.mq-hasCursor {\n  box-shadow: inset darkgray 0 0.1em 0.2em;\n  padding: 0 0.1em;\n  margin: 0 -0.1em;\n  min-width: 1ex;\n}\n.mq-math-mode .mq-font {\n  font: 1em \'Times New Roman\', Symbola, serif;\n}\n.mq-math-mode .mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n.mq-math-mode b,\n.mq-math-mode b.mq-font {\n  font-weight: bolder;\n}\n.mq-math-mode var,\n.mq-math-mode i,\n.mq-math-mode i.mq-font {\n  font-style: italic;\n}\n.mq-math-mode var.mq-f {\n  margin-right: 0.2em;\n  margin-left: 0.1em;\n}\n.mq-math-mode .mq-roman var.mq-f {\n  margin: 0;\n}\n.mq-math-mode big {\n  font-size: 200%;\n}\n.mq-math-mode .mq-int > big {\n  display: inline-block;\n  -webkit-transform: scaleX(0.7);\n  -moz-transform: scaleX(0.7);\n  -ms-transform: scaleX(0.7);\n  -o-transform: scaleX(0.7);\n  transform: scaleX(0.7);\n  vertical-align: -0.16em;\n}\n.mq-math-mode .mq-int > .mq-supsub {\n  font-size: 80%;\n  vertical-align: -1.1em;\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sup > .mq-sup-inner {\n  vertical-align: 1.3em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sub {\n  margin-left: -0.35em;\n}\n.mq-math-mode .mq-roman {\n  font-style: normal;\n}\n.mq-math-mode .mq-sans-serif {\n  font-family: sans-serif, Symbola, serif;\n}\n.mq-math-mode .mq-monospace {\n  font-family: monospace, Symbola, serif;\n}\n.mq-math-mode .mq-overline {\n  border-top: 1px solid;\n  margin-top: 1px;\n}\n.mq-math-mode .mq-underline {\n  border-bottom: 1px solid;\n  margin-bottom: 1px;\n}\n.mq-math-mode .mq-binary-operator {\n  padding: 0 0.2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-supsub {\n  text-align: left;\n  font-size: 90%;\n  vertical-align: -0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only {\n  vertical-align: 0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only > .mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n.mq-math-mode .mq-supsub .mq-sup {\n  display: block;\n}\n.mq-math-mode .mq-supsub .mq-sub {\n  display: block;\n  float: left;\n}\n.mq-math-mode .mq-supsub .mq-binary-operator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-supsub .mq-fraction {\n  font-size: 70%;\n}\n.mq-math-mode sup.mq-nthroot {\n  font-size: 80%;\n  vertical-align: 0.8em;\n  margin-right: -0.6em;\n  margin-left: 0.2em;\n  min-width: 0.5em;\n}\n.mq-math-mode .mq-ghost svg {\n  opacity: 0.2;\n}\n.mq-math-mode .mq-bracket-middle {\n  margin-top: 0.1em;\n  margin-bottom: 0.1em;\n}\n.mq-math-mode .mq-bracket-l,\n.mq-math-mode .mq-bracket-r {\n  position: absolute;\n  top: 0;\n  bottom: 2px;\n}\n.mq-math-mode .mq-bracket-l {\n  left: 0;\n}\n.mq-math-mode .mq-bracket-r {\n  right: 0;\n}\n.mq-math-mode .mq-bracket-container {\n  position: relative;\n}\n.mq-math-mode .mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n.mq-math-mode .mq-array > span {\n  display: block;\n}\n.mq-math-mode .mq-operator-name {\n  font-family: Symbola, \'Times New Roman\', serif;\n  line-height: 0.9;\n  font-style: normal;\n}\n.mq-math-mode var.mq-operator-name.mq-first {\n  padding-left: 0.2em;\n}\n.mq-math-mode var.mq-operator-name.mq-last,\n.mq-math-mode .mq-supsub.mq-after-operator-name {\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -0.4em;\n  padding: 0 0.2em;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link,\n.mq-math-mode x:default {\n  display: inline-block;\n}\n.mq-math-mode .mq-numerator,\n.mq-math-mode .mq-denominator,\n.mq-math-mode .mq-dot-recurring {\n  display: block;\n}\n.mq-math-mode .mq-numerator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: 0.1em;\n}\n.mq-math-mode .mq-dot-recurring {\n  text-align: center;\n  height: 0.3em;\n}\n.mq-math-mode .mq-sqrt-prefix {\n  position: absolute;\n  top: 1px;\n  bottom: 0.15em;\n  width: 0.95em;\n}\n.mq-math-mode .mq-sqrt-container {\n  position: relative;\n}\n.mq-math-mode .mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  margin-left: 0.9em;\n  padding-left: 0.15em;\n  padding-right: 0.2em;\n  margin-right: 0.1em;\n  padding-top: 1px;\n}\n.mq-math-mode .mq-diacritic-above {\n  display: block;\n  text-align: center;\n  line-height: 0.4em;\n}\n.mq-math-mode .mq-diacritic-stem {\n  display: block;\n  text-align: center;\n}\n.mq-math-mode .mq-hat-prefix {\n  display: block;\n  text-align: center;\n  line-height: 0.95em;\n  margin-bottom: -0.7em;\n  transform: scaleX(1.5);\n  -moz-transform: scaleX(1.5);\n  -o-transform: scaleX(1.5);\n  -webkit-transform: scaleX(1.5);\n}\n.mq-math-mode .mq-hat-stem {\n  display: block;\n}\n.mq-math-mode .mq-large-operator {\n  vertical-align: -0.2em;\n  padding: 0.2em;\n  text-align: center;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator big,\n.mq-math-mode .mq-large-operator .mq-to {\n  display: block;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator .mq-to {\n  font-size: 80%;\n}\n.mq-math-mode .mq-large-operator .mq-from {\n  float: right;\n  /* take out of normal flow to manipulate baseline */\n  width: 100%;\n}\n.mq-math-mode,\n.mq-math-mode .mq-editable-field {\n  cursor: text;\n  font-family: Symbola, \'Times New Roman\', serif;\n}\n.mq-math-mode .mq-overarc {\n  border-top: 1px solid black;\n  -webkit-border-top-right-radius: 50% 0.3em;\n  -moz-border-radius-topright: 50% 0.3em;\n  border-top-right-radius: 50% 0.3em;\n  -webkit-border-top-left-radius: 50% 0.3em;\n  -moz-border-radius-topleft: 50% 0.3em;\n  border-top-left-radius: 50% 0.3em;\n  margin-top: 1px;\n  padding-top: 0.15em;\n}\n.mq-math-mode .mq-overarrow {\n  min-width: 0.5em;\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: 0.2em;\n  text-align: center;\n  position: relative;\n}\n.mq-math-mode .mq-overarrow:after {\n  position: absolute;\n  right: -0.1em;\n  top: -0.48em;\n  font-size: 0.5em;\n  content: \'\\27A4\';\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:after {\n  content: \'\';\n  display: none;\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:before,\n.mq-math-mode .mq-overarrow.mq-arrow-leftright:before {\n  position: absolute;\n  top: -0.48em;\n  left: -0.1em;\n  font-size: 0.5em;\n  content: \'\\27A4\';\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: \'FlipH\';\n}\n.mq-math-mode .mq-selection,\n.mq-editable-field .mq-selection,\n.mq-math-mode .mq-selection .mq-non-leaf,\n.mq-editable-field .mq-selection .mq-non-leaf,\n.mq-math-mode .mq-selection .mq-scaled,\n.mq-editable-field .mq-selection .mq-scaled {\n  background: #b4d5fe !important;\n}\n.mq-math-mode .mq-selection.mq-blur,\n.mq-editable-field .mq-selection.mq-blur,\n.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,\n.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,\n.mq-math-mode .mq-selection.mq-blur .mq-scaled,\n.mq-editable-field .mq-selection.mq-blur .mq-scaled {\n  background: #d4d4d4 !important;\n  color: black;\n  border-color: black;\n}\nhtml body .mq-math-mode .mq-selection .mq-nthroot-container *,\nhtml body .mq-editable-field .mq-selection .mq-nthroot-container * {\n  background: transparent !important;\n}\n.mq-editable-field .mq-textarea,\n.mq-math-mode .mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n.mq-editable-field .mq-textarea *,\n.mq-math-mode .mq-textarea * {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n  box-sizing: content-box;\n}\n\n',"",{version:3,sources:["webpack://./packages/perseus/src/styles/khan-exercise.css","webpack://./packages/perseus/src/styles/util.less","webpack://./packages/perseus/src/styles/perseus-renderer.less","webpack://./packages/perseus/src/styles/articles.less","webpack://./packages/perseus/src/styles/widgets/categorizer.less","webpack://./packages/perseus/src/styles/widgets/dropdown.less","webpack://./packages/perseus/src/styles/widgets/expression.less","webpack://./packages/perseus/src/styles/widgets/grapher.less","webpack://./packages/perseus/src/styles/widgets/graded-group.less","webpack://./packages/perseus/src/styles/widgets/group.less","webpack://./packages/perseus/src/styles/widgets/image.less","webpack://./packages/perseus/src/styles/widgets/interactive-graph.less","webpack://./packages/perseus/src/styles/widgets/label-image.less","webpack://./packages/perseus/src/styles/widgets/matcher.less","webpack://./packages/perseus/src/styles/widgets/matrix.less","webpack://./packages/perseus/src/styles/widgets/measurer.less","webpack://./packages/perseus/src/styles/widgets/orderer.less","webpack://./packages/perseus/src/styles/widgets/passage.less","webpack://./packages/perseus/src/styles/widgets/plotter.less","webpack://./packages/perseus/src/styles/widgets/radio.less","webpack://./packages/perseus/src/styles/widgets/reaction-diagram.less","webpack://./packages/perseus/src/styles/widgets/sequence.less","webpack://./packages/perseus/src/styles/widgets/sortable.less","webpack://./packages/perseus/src/styles/widgets/table.less","webpack://./packages/perseus/src/styles/widgets/unit.less","webpack://./packages/math-input/less/overrides.less","webpack://./node_modules/mathquill/build/mathquill.css"],names:[],mappings:"AAAA;;;IAGA,aAAA;AACA;AACA;IACA,iBAAA;AACA;AACA;IACA,kBAAA;AACA;;AAEA;IACA;QACA,iBAAA;IACA;AACA;;AAEA;IACA,cAAA;AACA;AACA;IACA,cAAA;AACA;AACA;IACA,cAAA;AACA;AACA;IACA,cAAA;AACA;AACA;IACA,cAAA;AACA;AACA;IACA,WAAA;AACA;AACA;IACA,cAAA;AACA;;AAEA;IACA,yBAAA;IACA,mBAAA;IACA,aAAA;IACA,kBAAA;IACA,iBAAA;IACA,kBAAA;IACA,aAAA;AACA;;AAEA;IACA,eAAA;IACA,kBAAA;IACA,yBAAA;AACA;;AAEA;IACA,yBAAA;AACA;;AAEA;IACA,kBAAA;IACA,yBAAA;IACA,mBAAA;IACA,aAAA;IACA,kBAAA;IACA,iBAAA;IACA,kBAAA;IACA,aAAA;IACA,aAAA;AACA;;AAEA;IACA,gBAAA;AACA;AACA;IACA,cAAA;AACA;AACA;IACA,cAAA;AACA;AACA;IACA,WAAA;IACA,eAAA;AACA;AACA;IACA,cAAA;IACA,gBAAA;IACA,iBAAA;AACA;;AAEA;IACA,eAAA;AACA;AACA;IACA,aAAA;AACA;AACA;IACA,WAAA;AACA;;AAEA;IACA,kBAAA;IACA,UAAA;AACA;;AAEA;IACA,gBAAA;IACA,aAAA;AACA;AACA;IACA,eAAA;IACA,iBAAA;IACA,SAAA;AACA;AACA;;IAEA,WAAA;IACA,mBAAA;AACA;;AAEA;IACA,WAAA;IACA,iBAAA;IACA,qBAAA;AACA;AACA;IACA,aAAA;AACA;;AAEA;IACA,eAAA;IACA,kBAAA;IACA,WAAA;IACA,oBAAA;AACA;;AAEA;IACA,eAAA;AACA;AACA;IACA,cAAA;IACA,mBAAA;AACA;;AAEA;IACA,sBAAA;IACA,mBAAA;IACA,aAAA;IACA,cAAA;AACA;AACA;IACA,oCAAA;IACA,qBAAA;AACA;;AAEA;IACA,+BAAA;AACA;;AAEA;IACA,yBAAA;IACA,kBAAA;IACA,cAAA;IACA,eAAA;IACA,aAAA;IACA,gBAAA;IACA,cAAA;AACA;;AAEA;IACA,WAAA;AACA;AACA;IACA,iBAAA;IACA,kBAAA;AACA;AACA;IACA,sBAAA;AACA;AACA;;IAEA,YAAA;AACA;AACA;IACA,iBAAA;AACA;;AAEA;;IAEA,WAAA;AACA;AACA;;IAEA,WAAA;AACA;AACA;;IAEA,WAAA;AACA;AACA;;IAEA,WAAA;AACA;AACA;;IAEA,WAAA;AACA;AACA;;IAEA,WAAA;AACA;AACA;;IAEA,WAAA;AACA;AACA;;IAEA,WAAA;AACA;AACA;;IAEA,WAAA;AACA;AACA;IACA,aAAA;AACA;;AAEA;IACA,gBAAA;IACA,kBAAA;AACA;AACA;IACA,0BAAA;IACA,sBAAA;IACA,iBAAA;AACA;AACA;;IAEA,WAAA;AACA;;AAEA;IACA,wBAAA;AACA;AACA;IACA,kBAAA;IACA,MAAA;IACA,OAAA;AACA;;AAEA;IACA,aAAA;IACA,cAAA;IACA,gBAAA;IACA,oBAAA;AACA;AACA;IACA,sBAAA;IACA,sBAAA;IACA,YAAA;IACA,kBAAA;IACA,WAAA;IACA,UAAA;AACA;;AAEA;IACA,aAAA;AACA;AACA;IACA,YAAA;AACA;;AAEA;IACA,mBAAA;AACA;AACA;IACA,uBAAA;IACA,gBAAA;IACA,gBAAA;AACA;AACA;IACA,sBAAA;IACA,wBAAA;IACA,gBAAA;AACA;;AAEA;IACA,iBAAA;IACA,aAAA;IACA,aAAA;IACA,eAAA;IACA,kBAAA;AACA;;AAEA;;IAEA,WAAA;AACA;AACA;IACA,kBAAA;IACA,UAAA;AACA,EAAA,qBAAA;AACA;IACA,kBAAA;IACA,UAAA;AACA;;AAEA;;;;IAIA,kBAAA;IACA,kBAAA;IACA,UAAA,EAAA,wBAAA;AACA;;AAEA;IACA,YAAA;IACA,cAAA;AACA;;AAEA;IACA,cAAA;AACA;;AAEA;IACA,cAAA;AACA;;AAEA;IACA,gDAAA;IACA,gBAAA;IACA,YAAA;;IAEA,uBAAA;IACA,kBAAA;AACA;;AAEA;IACA,kBAAA;IACA,WAAA;IACA,WAAA;IACA,kBAAA;IACA,kBAAA;IACA,gBAAA;AACA;;AAEA;IACA,YAAA;IACA,gBAAA;IACA,kBAAA;IACA,kBAAA;IACA,kBAAA;AACA;;AAEA;IACA,iBAAA;IACA,iBAAA;AACA;;AAEA;IACA,sBAAA;IACA,cAAA;IACA,aAAA;IACA,mBAAA;IACA,UAAA;IACA,kBAAA;IACA,kBAAA;IACA,iBAAA;IACA,YAAA;IACA,gBAAA;AACA;;AAEA;IACA,kBAAA;AACA;;AAEA;IACA,kBAAA;IACA,gBAAA;AACA;;AAEA;IACA,kBAAA;IACA,gDAAA;IACA,WAAA;IACA,qBAAA;IACA,gBAAA;IACA,YAAA;IACA,QAAA;IACA,SAAA;AACA;;AAEA;IACA,aAAA;AACA;;AAEA;IACA,gBAAA;IACA,kBAAA;IACA,WAAA;IACA,qBAAA;IACA,iBAAA;IACA,kBAAA;IACA,qBAAA;IACA,WAAA;AACA;;AAEA;IACA,gBAAA;AACA;;AAEA;IACA,gBAAA;AACA;;AAEA;IACA,gBAAA;AACA;;AAEA;IACA,gBAAA;AACA;;AAEA;IACA,gBAAA;AACA;;AAEA;IACA,qBAAA;IACA,cAAA;IACA,cAAA;AACA;;AAEA;IACA,WAAA;AACA;;AAEA;IACA,gBAAA;IACA,aAAA;IACA,eAAA;IACA,gCAAA;IACA,iBAAA;AACA;;AAEA;IACA,gBAAA;IACA,iBAAA;IACA,cAAA;AACA;;AAEA;IACA,eAAA;IACA,oBAAA;IACA,kBAAA;AACA;;AAEA;IACA,gBAAA;AACA;;AAEA;IACA,WAAA;IACA,kBAAA;IACA,QAAA;IACA,SAAA;IACA,eAAA;AACA;;AAEA;IACA,YAAA;IACA,2BAAA;IACA,eAAA;AACA;AACA;IACA,sBAAA;AACA;AACA;IACA,gCAAA;IACA,uCAAA;AACA;AACA;IACA,gCAAA;IACA,uCAAA;AACA;;AAEA;IACA,YAAA;IACA,2BAAA;IACA,eAAA;AACA;;AAEA;IACA,WAAA;AACA;;AAEA;;IAEA,iBAAA;IACA,SAAA;AACA;AACA;IACA,MAAA;AACA;;AAEA;IACA,iBAAA;IACA,WAAA;IACA,gBAAA;AACA;AACA;IACA,kBAAA;AACA;AACA;IACA,cAAA;IACA,UAAA;AACA;AACA;IACA,cAAA;IACA,UAAA;IACA,aAAA;AACA;AACA;IACA,YAAA;AACA;AACA;IACA,gBAAA;IACA,oCAAA;IACA,kBAAA;IACA,kBAAA;IACA,iBAAA;IACA,kBAAA;IACA,qBAAA;AACA;AACA;IACA,iBAAA;IACA,kBAAA;AACA;AACA;IACA,eAAA;AACA;AACA;IACA,eAAA;IACA,kBAAA;AACA;;AAEA;;IAEA,gBAAA;IACA;;;;IAIA;IACA,eAAA;AACA;;AAEA;IACA,kBAAA;IACA,QAAA;IACA,SAAA;AACA;AACA;IACA,kBAAA;IACA,QAAA;AACA;;AAEA;IACA,qBAAA;IACA,cAAA;IACA,YAAA;AACA;;AAEA;IACA,yBAAA;IACA,6BAAA;AACA;;AAEA;IACA,yBAAA;IACA,6BAAA;AACA;;AAEA;IACA,yBAAA;IACA,6BAAA;AACA;;AAEA;IACA,WAAA;IACA,gBAAA;IACA,sBAAA;IACA,kBAAA;IACA,WAAA;IACA,eAAA;IACA,YAAA;AACA;;AAEA;IACA,eAAA;AACA;;AAEA;IACA,WAAA;IACA,iBAAA;AACA;;AAEA;IACA,YAAA;IACA,YAAA;AACA;;AAEA;IACA,YAAA;IACA,YAAA;AACA;;AAEA;IACA,0BAAA;AACA;;AAEA;IACA,yBAAA;IACA,eAAA;IACA,kBAAA;AACA;;AAEA;;IAEA,WAAA;IACA,cAAA;AACA;;AAEA;IACA,WAAA;AACA;;AAEA;IACA,OAAA;AACA;;AAEA;IACA,gBAAA;IACA,kBAAA;IACA,WAAA;IACA,YAAA;IACA,8BAAA;IACA,+BAAA;AACA;;AAEA;IACA,cAAA;AACA;;AAEA,6EAAA;AACA;;IAEA,WAAA;IACA,cAAA;IACA,UAAA;IACA,WAAA;IACA,WAAA;AACA;;AAEA;IACA,SAAA;AACA;;AAEA;IACA,WAAA;IACA,eAAA;IACA,WAAA;IACA,YAAA;AACA;;AAEA;IACA,WAAA;IACA,eAAA;IACA,YAAA;IACA,WAAA;AACA;;AAEA;IACA,sBAAA;AACA;;AAEA,6EAAA;;AAEA;IACA,kBAAA;IACA,kBAAA;AACA;;AAEA;IACA,YAAA;IACA,YAAA;IACA,kBAAA;IACA,gBAAA;AACA;;AAEA;;;;;;IAMA,wBAAA;AACA;;AAEA;;;IAGA,mBAAA;AACA;;AAEA;IACA,YAAA;AACA;;AAEA;IACA,YAAA;AACA;;AAEA;IACA,YAAA;IACA,YAAA;AACA;;AAEA;IACA,kBAAA;AACA;;AAEA;IACA,cAAA;IACA,kBAAA;IACA,YAAA;IACA,mBAAA;IACA,kBAAA;IACA,yBAAA;IACA,YAAA;AACA;;AAEA;IACA,YAAA;IACA,mBAAA;IACA,qBAAA;AACA;;AAEA;IACA,cAAA;IACA,qBAAA;AACA;;AAEA;;;;;;IAMA,wBAAA;AACA;;AAEA;;IAEA,YAAA;IACA,eAAA;AACA;;AAEA;IACA,kBAAA;IACA,SAAA;IACA,UAAA;AACA;;AAEA;IACA,kBAAA;IACA,UAAA;IACA,SAAA;IACA,YAAA;IACA,YAAA;IACA,gBAAA;IACA,iBAAA;AACA;;AAEA;IACA,WAAA;IACA,kBAAA;AACA;;AAEA,8CAAA;AACA;;IAEA,wBAAA;AACA;;AAEA;IACA,eAAA;AACA;;AAEA;IACA,wBAAA;AACA;;AAEA;IACA,WAAA;IACA,YAAA;AACA;;AAEA;IACA,oBAAA;AACA;;AAEA;IACA,eAAA;AACA;;AAEA;IACA,gBAAA;IACA,sBAAA;IACA,eAAA;IACA,iBAAA;AACA;;AAEA;IACA,WAAA;IACA,YAAA;IACA,kBAAA;IACA,eAAA;IACA,aAAA;IACA,cAAA;IACA,kBAAA;IACA,UAAA;AACA;;AAEA;IACA,YAAA;AACA;;AAEA;IACA,kBAAA;IACA,QAAA;AACA;;AAEA;;IAEA,SAAA;AACA;;AAEA;IACA,QAAA;IACA,YAAA;IACA,WAAA;IACA,kBAAA;AACA;;AAEA;IACA,0BAAA;AACA;;AAEA;IACA,yBAAA;IACA,WAAA;AACA;;AAEA;IACA,WAAA;AACA;;AAEA;IACA,yBAAA;IACA,WAAA;AACA;;AAEA;IACA,WAAA;AACA;;AAEA,oEAAA;;AAEA;IACA,iBAAA;IACA,qBAAA;IACA,kBAAA;IACA,gCAAA;AACA;;AAEA;IACA,qBAAA;IACA,gBAAA;IACA,mBAAA;IACA,kBAAA;IACA,6BAAA;AACA;;AAEA;IACA,mBAAA;AACA;;AAEA;IACA,yBAAA;AACA;;AAEA;IACA,yBAAA;IACA,iBAAA;IACA,mBAAA;AACA;;AAEA;IACA,aAAA;IACA,WAAA;AACA;;AAEA;IACA,qBAAA;AACA;;AAEA;IACA,4BAAA;IACA,uCAAA;IACA,8BAAA;IACA,8BAAA;IACA,+BAAA;IACA,YAAA;IACA,aAAA;IACA,sBAAA;IACA,wBAAA;IACA,iBAAA,EAAA,iCAAA;IACA,kBAAA;IACA,eAAA;AACA;;AAEA;IACA,iBAAA;IACA,gBAAA;IACA,SAAA;IACA,gBAAA;IACA,gBAAA;IACA,gBAAA;IACA,uCAAA;IACA,WAAA;IACA,gBAAA;IACA,uBAAA;AACA;;AAEA;IACA,YAAA;IACA,gBAAA;IACA,uBAAA;IACA,mBAAA;AACA;;AAEA;IACA,WAAA;IACA,gBAAA;IACA,uBAAA;IACA,mBAAA;IACA,qBAAA;IACA,eAAA;AACA;;AAEA;IACA,gBAAA;IACA,sBAAA;IACA,6BAAA;IACA,aAAA;IACA,kBAAA;IACA,UAAA;;IAEA,0BAAA;AACA;;AAEA;IACA,qBAAA;AACA;;AAEA;IACA,sBAAA;IACA,yBAAA;IACA,4BAAA;IACA,kBAAA;IACA,eAAA;IACA,iBAAA;IACA,eAAA;IACA,YAAA;IACA,kBAAA;IACA,gBAAA;IACA,WAAA;IACA,yBAAA;IACA,iBAAA;AACA;;AAEA;IACA,gBAAA;IACA,SAAA;IACA,sBAAA;IACA,WAAA;AACA;;AAEA;IACA,iBAAA;AACA;;AAEA;IACA,qBAAA;IACA,2BAAA;AACA;;AAEA;;IAEA,yBAAA;IACA,YAAA;IACA,2BAAA;AACA;;AAEA;IACA,mBAAA;IACA,SAAA;IACA,gBAAA;IACA,iBAAA;IACA,gBAAA;AACA;;AAEA;IACA,WAAA;IACA,eAAA;IACA,YAAA;IACA,iBAAA;IACA,cAAA;IACA,sBAAA;AACA;AACA;IACA,iBAAA;AACA;;AAEA;IACA,mBAAA;IACA,qBAAA;IACA,kBAAA;AACA;;AAEA,gBAAA;;AAEA;IACA,mBAAA;AACA;;AAEA,yBAAA;;AAEA;IACA,yBAAA;IACA,mBAAA;IACA,kBAAA;IACA,kBAAA;IACA,mBAAA;IACA,aAAA;AACA;;AAEA;IACA,aAAA;AACA;;AAEA;IACA,iBAAA;IACA,cAAA;AACA;;AAEA;IACA,cAAA;AACA;;AAEA;IACA,cAAA;AACA;;AAEA,uBAAA;AACA;IACA,mBAAA;AACA;;AAEA,yDAAA;AACA;IACA,aAAA;IACA,gBAAA;IACA,sBAAA;IACA,YAAA;AACA;;AAEA;IACA,WAAA,EAAA,yBAAA;IACA,WAAA;AACA;;AAEA;IACA,SAAA;IACA,WAAA;AACA;;AAEA;;IAEA,WAAA;IACA,YAAA;IACA,YAAA;IACA,WAAA;IACA,YAAA;AACA;;AAEA;IACA,UAAA;IACA,kBAAA;IACA,0BAAA;IACA,6BAAA;IACA;6BACA;IACA,gBAAA;AACA;;AAEA;IACA,2BAAA;IACA;gDACA;IACA,iBAAA;AACA;;AAEA;IACA,4BAAA;AACA;;AAEA;IACA,WAAA;IACA,cAAA;IACA,WAAA;IACA,kBAAA;IACA,gBAAA;IACA,SAAA;AACA;;AAEA;IACA,iBAAA;IACA,eAAA;IACA,gBAAA;IACA,kBAAA;IACA,gBAAA;AACA;;AAEA;AACA;AACA;IACA,iBAAA;AACA;AACA;IACA,eAAA;AACA;;AAEA;IACA,WAAA;AACA;AACA;IACA,kBAAA;AACA;;AAEA;IACA,cAAA;IACA,iCAAA;AACA;AACA;IACA,cAAA;IACA,iCAAA;IACA,eAAA;AACA;;AAEA;IACA,cAAA;IACA,WAAA;IACA,kBAAA;AACA;;AAEA;IACA,WAAA;IACA,mBAAA;IACA,kBAAA;AACA;;AAEA;IACA,YAAA;AACA;AACA;IACA,WAAA;AACA;;AAEA;IACA,kBAAA;IACA,sBAAA;IACA,iBAAA;IACA,kBAAA;AACA;AACA;IACA,mBAAA;AACA;AACA;IACA,gBAAA;IACA,2BAAA;AACA;;AAEA;IACA,iBAAA;AACA;;AAEA;IACA,WAAA;IACA,eAAA;IACA,YAAA;AACA;;AAEA;IACA,iBAAA;IACA,WAAA;IACA,+BAAA;AACA;;AAEA;IACA,oBAAA;IACA,YAAA;IACA,WAAA;AACA;;AAEA;IACA,cAAA;AACA;AACA;IACA,WAAA;IACA,UAAA;AACA;AACA;IACA,YAAA;IACA,UAAA;AACA;;AAEA;IACA,kBAAA;IACA,WAAA;AACA;AACA;IACA,gBAAA;IACA,YAAA;AACA;;AAEA;IACA,WAAA;IACA,eAAA;IACA,YAAA;AACA;;AAEA;IACA,kBAAA;AACA;;AAEA;IACA,iBAAA;IACA,WAAA;IACA,+BAAA;AACA;;AAEA;IACA,cAAA;IACA,gBAAA;IACA,mBAAA;AACA;;AAEA;IACA,iBAAA;IACA,iBAAA;AACA;;AAEA;IACA,kBAAA;IACA,kBAAA;AACA;;AAEA;IACA,iBAAA;IACA,kBAAA;IACA,kBAAA;AACA;AACA;IACA,WAAA;IACA,iBAAA;IACA,qBAAA;AACA;;AAEA;IACA,aAAA;IACA,kBAAA;IACA,YAAA;AACA;;AAEA;IACA,aAAA;IACA,YAAA;IACA,6BAAA;AACA;;AAEA;IACA,WAAA;AACA;;AAEA;IACA,WAAA;AACA;;AAEA;IACA,YAAA;AACA;;AAEA;IACA,gBAAA;AACA;;AAEA;IACA,WAAA;AACA;;AAEA;IACA,aAAA;AACA;;AAEA;IACA,iBAAA;IACA,sBAAA;IACA,eAAA;IACA,gCAAA;AACA;;AAEA;IACA,mBAAA;IACA,WAAA;AACA;;AAEA;;IAEA,4BAAA;IACA,WAAA;IACA,gCAAA;IACA,eAAA;IACA,kBAAA;IACA,cAAA;IACA,kBAAA;IACA,WAAA;AACA;;AAEA;IACA,mBAAA;IACA,WAAA;AACA;;AAEA;IACA,iBAAA;IACA,WAAA;IACA,gBAAA;IACA,gBAAA;IACA,cAAA;IACA,6BAAA;AACA;;AAEA,2EAAA;AACA;IACA,cAAA;AACA;;AAEA;IACA,wBAAA;IACA,gBAAA;IACA,WAAA;IACA,YAAA;AACA;;AAEA;IACA,WAAA;IACA,eAAA;IACA,yBAAA;AACA;;AAEA,6DAAA;AACA;IACA,sBAAA;IACA,cAAA;IACA,gBAAA;IACA,WAAA;AACA;;AAEA;IACA,mBAAA;IACA,qBAAA;IACA,kBAAA;IACA,iBAAA;IACA,cAAA;IACA;;;;6DAIA;IACA,kBAAA;IACA,UAAA;AACA;;AAEA;IACA,cAAA;IACA,gBAAA;IACA,kBAAA;IACA,2BAAA;AACA;;AAEA;IACA,kBAAA;IACA,UAAA,EAAA,wBAAA;AACA;;AAEA;IACA,yBAAA;IACA,kBAAA;IACA,cAAA;IACA,eAAA;IACA,kBAAA;IACA,YAAA;AACA;;AAEA;;;IAGA,sBAAA;IACA,gBAAA;IACA,WAAA;AACA;;AAEA;IACA,mBAAA;AACA;;AAEA;IACA,kBAAA;IACA,UAAA;IACA,SAAA;AACA;;AAEA;IACA,cAAA;IACA,eAAA;AACA;;AAEA;;IAEA,eAAA;AACA;;AAEA;IACA,cAAA;AACA;;AAEA;IACA,kBAAA;AACA;;AAEA;;IAEA,gBAAA;AACA;;ACr7CA;EACI,SAAA;EACA,sBAAA;EAQA,YAAA;EAEA,WAAA;EACA,YAAA;EACA,gBAAA;EACA,UAAA;EACA,kBAAA;EACA,UAAA;ACg7CJ;ADr6CA;GACI,OAAA;ACu6CJ;ADr6CI;;EAEI,WAAA;EACA,cAAA;ACu6CR;ADp6CI;EACI,WAAA;ACs6CR;AACA,sDAAsD;AC98CtD;EAEQ,+BAAA;AD+8CR;ACj9CA;EAMQ,yBAAA;EACA,kBAAA;EACA,cAAA;EACA,eAAA;EACA,aAAA;EACA,gBAAA;EACA,cAAA;AD88CR;AC57CQ;EFNJ,eAAA;EACA,mBAAA;ACq8CJ;AC57CQ;;EAEI,cAAA;EACA,iBAAA;EACA,WAAA;AD87CZ;ACl8CQ;;EAMQ,gBAAA;ADg8ChB;AC57CQ;EACI,WAAA;EACA,mBAAA;AD87CZ;AC37CQ;EACI,YAAA;EACA,kBAAA;AD67CZ;AC/9CA;EAGQ,cAAA;EACA,eAAA;EACA,iBAAA;EAmCA,cAAA;EACA,gBAAA;AD67CR;ACt+CA;EAGQ,cAAA;EACA,eAAA;EACA,iBAAA;EAyCI,mBAAA;EACA,aAAA;AD87CZ;AC7+CA;;EAyDY,eAAA;ADw7CZ;ACj/CA;EAGQ,cAAA;EACA,eAAA;EACA,iBAAA;ADi/CR;ACt/CA;EAGQ,cAAA;EACA,eAAA;EACA,iBAAA;EA8DA,mBAAA;ADy7CR;AC5/CA;EAuEQ,oBAAA;EACA,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,mBAAA;EACA,gBAAA;ADw7CR;ACpgDA;EAgFQ,oBAAA;EACA,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,mBAAA;EACA,gBAAA;ADu7CR;AC5gDA;;;EA2FQ,oBAAA;EACA,eAAA;EACA,gBAAA;EACA,iBAAA;EACA,mBAAA;EACA,gBAAA;ADs7CR;ACthDA;EAoGQ,eAAA;ADq7CR;ACzhDA;EAwGQ,cAAA;ADo7CR;AC5hDA;;;EA8GQ,6BAAA;EACA,eAAA;EACA,iBAAA;EACA,sBAAA;EACA,gBAAA;ADm7CR;ACriDA;EAsHQ,mBAAA;EACA,cAAA;EACA,eAAA;EACA,eAAA;ADk7CR;AC3iDA;EA4HY,SAAA;EACA,eAAA;ADk7CZ;AC/iDA;;EFOI,eAAA;EACA,mBAAA;AC4iDJ;ACpjDA;EAwIQ,mBAAA;EACA,kBAAA;AD+6CR;AC76CQ;EACI,SAAA;EACA,WAAA;EACA,kBAAA;EACA,QAAA;EACA,MAAA;EACA,WAAA;AD+6CZ;AChkDA;EAqJQ,gBAAA;EACA,mBAAA;EACA,mBAAA;EACA,gBAAA;AD86CR;ACl6CgB;;;;;;EACI,aAAA;ADy6CpB;AC9kDA;EA4KQ,iBAAA;ADq6CR;ACjlDA;EA+KY,gBAAA;ADq6CZ;ACplDA;EAoLgB,eAAA;EACA,gBAAA;EACA,SAAA;ADm6ChB;ACzlDA;EA4LQ,0BAAA;ADg6CR;AC35CA;EAGQ,oBAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;AD25CR;ACj6CA;EAGQ,oBAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;ADi6CR;ACv6CA;EAGQ,oBAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;ADu6CR;AC76CA;EAGQ,oBAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;AD66CR;ACn7CA;;EAgCoB,cAAA;ADu5CpB;ACz4CY;EACI,WAAA;EACA,kBAAA;EACA,cAAA;EACA,WAAA;AD24ChB;ACx4CY;EACI,YAAA;EACA,iBAAA;EACA,cAAA;EACA,WAAA;AD04ChB;ACx5CA;EAmBY,iBAAA;EACA,kBAAA;EACA,gBAAA;ADw4CZ;AC75CA;EAyBY,cAAA;EACA,eAAA;EACA,eAAA;ADu4CZ;ACl6CA;EA8BgB,SAAA;EACA,eAAA;ADu4ChB;ACt6CA;EA8NQ,SAAA;AD2sCR;ACz6CA;EAuOQ,cAAA;ADqsCR;AC56CA;EA2OQ,gBAAA;ADosCR;AC/6CA;EA+OQ,SAAA;ADmsCR;ACl7CA;EAoPQ,mBAAA;ADisCR;ACr7CA;EA0PQ,iBAAA;EACA,UAAA;AD8rCR;ACz7CA;EAiQY,kBAAA;EACA,mBAAA;AD2rCZ;AC77CA;EAuQQ,SAAA;EACA,kBAAA;ADyrCR;ACj8CA;EA2QY,wBAAA;EACA,mBAAA;ADyrCZ;ACr8CA;;;;EAqRY,iBAAA;ADsrCZ;AC38CA;EA4RQ,6CAAA;EACA,2BAAA;ADkrCR;AC3qCI;EAAA;IApOQ,eAAA;EDm5CV;EC/qCE;IA/OI,gBAAA;IACA,gBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;ED06CN;ECvrCE;IA/OI,gBAAA;IACA,iBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDk7CN;EC/rCE;;IA/OI,gBAAA;IACA,gBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;ED27CN;ECxsCE;IAtPI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDi8CN;EC9sCE;IAtPI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDu8CN;ECptCE;IAtPI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;ED68CN;EC1tCE;IAtPI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDm9CN;EChuCE;IAtPI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDy9CN;ECtuCE;IAtPI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;IAiEI,cAAA;ED+5CV;EC7uCE;IAtPI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDs+CN;ECnvCE;IAtPI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;ED4+CN;ECzvCE;IAtPI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;EDk/CN;EC/vCE;IAtPI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;EDw/CN;ECrwCE;IAtPI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;ED8/CN;EC3wCE;;IAzJgB,cAAA;EDw6ClB;EC/wCE;IAjJQ,cAAA;IACA,eAAA;IACA,gBAAA;IACA,gBAAA;EDm6CV;ECrxCE;IAtIY,cAAA;ED85Cd;ECxxCE;;IA7HQ,eAAA;IACA,gBAAA;IACA,cAAA;EDy5CV;EC9xCE;;IAtHQ,eAAA;IACA,gBAAA;EDw5CV;ECnyCE;;IA3GQ,iBAAA;IACA,gBAAA;EDk5CV;ECxyCE;IAnGQ,+BAAA;ED84CV;EC3yCE;IA/FQ,yBAAA;IACA,kBAAA;IACA,cAAA;IACA,eAAA;IACA,gBAAA;IACA,aAAA;IACA,gBAAA;IACA,cAAA;ED64CV;ECrzCE;IAlFQ,mBAAA;IAGA,8BAAA;EDw4CV;AACF;ACtyCI;EAAA;IAxPQ,gBAAA;EDkiDV;EC1yCE;IAnQI,gBAAA;IACA,gBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDyjDN;EClzCE;IAnQI,gBAAA;IACA,iBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDikDN;EC1zCE;;IAnQI,gBAAA;IACA,iBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;ED0kDN;ECn0CE;IA1QI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDglDN;ECz0CE;IA1QI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDslDN;EC/0CE;IA1QI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;ED4lDN;ECr1CE;IA1QI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDkmDN;EC31CE;IA1QI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDwmDN;ECj2CE;IA1QI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;IAiEI,cAAA;ED8iDV;ECx2CE;IA1QI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDqnDN;EC92CE;IA1QI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;ED2nDN;ECp3CE;IA1QI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;EDioDN;EC13CE;IA1QI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;EDuoDN;ECh4CE;IA1QI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;ED6oDN;ECt4CE;;IA7KgB,cAAA;EDujDlB;EC14CE;IArKQ,cAAA;IACA,eAAA;IACA,gBAAA;IACA,gBAAA;EDkjDV;ECh5CE;IA1JY,cAAA;ED6iDd;ECn5CE;;IAjJQ,eAAA;IACA,gBAAA;IACA,cAAA;EDwiDV;ECz5CE;;IA1IQ,eAAA;IACA,gBAAA;EDuiDV;EC95CE;;IA/HQ,iBAAA;IACA,gBAAA;EDiiDV;ECn6CE;IAvHQ,+BAAA;ED6hDV;ECt6CE;IAnHQ,yBAAA;IACA,kBAAA;IACA,cAAA;IACA,eAAA;IACA,gBAAA;IACA,aAAA;IACA,gBAAA;IACA,cAAA;ED4hDV;ECh7CE;IAtGQ,mBAAA;IAGA,8BAAA;EDuhDV;AACF;ACp6CI;EAAA;IAzQQ,gBAAA;EDirDV;ECx6CE;IApRI,gBAAA;IACA,gBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDwsDN;ECh7CE;IApRI,gBAAA;IACA,iBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDgtDN;ECx7CE;;IApRI,gBAAA;IACA,iBAAA;IARA,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDytDN;ECj8CE;IA3RI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;ED+tDN;ECv8CE;IA3RI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDquDN;EC78CE;IA3RI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;ED2uDN;ECn9CE;IA3RI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDivDN;ECz9CE;IA3RI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDuvDN;EC/9CE;IA3RI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;IAiEI,cAAA;ED6rDV;ECt+CE;IA3RI,oBAAA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;EDowDN;EC5+CE;IA3RI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;ED0wDN;ECl/CE;IA3RI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;EDgxDN;ECx/CE;IA3RI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;EDsxDN;EC9/CE;IA3RI,oBAAA;IACA,eAAA;IACA,iBAAA;IACA,cAAA;ED4xDN;ECpgDE;;IA9LgB,cAAA;EDssDlB;ECxgDE;IAtLQ,cAAA;IACA,eAAA;IACA,gBAAA;IACA,gBAAA;EDisDV;EC9gDE;IA3KY,cAAA;ED4rDd;ECjhDE;;IAlKQ,eAAA;IACA,gBAAA;IACA,cAAA;EDurDV;ECvhDE;;IA3JQ,eAAA;IACA,gBAAA;EDsrDV;EC5hDE;;IAhJQ,iBAAA;IACA,gBAAA;EDgrDV;ECjiDE;IAxIQ,+BAAA;ED4qDV;ECpiDE;IApIQ,yBAAA;IACA,kBAAA;IACA,cAAA;IACA,eAAA;IACA,gBAAA;IACA,aAAA;IACA,gBAAA;IACA,cAAA;ED2qDV;EC9iDE;IAvHQ,mBAAA;IAGA,8BAAA;EDsqDV;AACF;AC53DA;EFrOI,eAAA;EACA,mBAAA;AComEJ;AChiDQ;;EAEI,cAAA;EACA,iBAAA;EACA,WAAA;ADkiDZ;ACtiDQ;;EAMQ,gBAAA;ADoiDhB;AChiDQ;EACI,WAAA;EACA,mBAAA;ADkiDZ;AC/hDQ;EACI,YAAA;EACA,kBAAA;ADiiDZ;ACl5DA;EAsXQ,cAAA;AD+hDR;ACr5DA;EA0XQ,kBAAA;AD8hDR;ACx5DA;EA8XQ,iBAAA;EACA,oBAAA;AD6hDR;AC55DA;EAmYQ,cAAA;EACA,eAAA;EACA,eAAA;AD4hDR;ACj6DA;EAwYY,SAAA;EACA,eAAA;AD4hDZ;ACr6DA;;EFrOI,eAAA;EACA,mBAAA;AC8oEJ;AC16DA;EAqZQ,iBAAA;ADwhDR;AC76DA;EAwZY,gBAAA;ADwhDZ;ACh7DA;EA6ZgB,eAAA;EACA,gBAAA;EACA,SAAA;ADshDhB;AACA;;CAEC;AC5gDD;EACI,eAAA;EACA,uBAAA;EACA,oBAAA;AD8gDJ;AC3gDA;EAII,uBAAA;EACA,kBAAA;EACA,aAAA;AD0gDJ;ACvgDA;EACI,eAAA;EACA,wBAAA;EACA,qBAAA;ADygDJ;ACtgDA;EACI,gCAAA;ADwgDJ;ACrgDA;EACI,aAAA;EACA,eAAA;EACA,MAAA;EACA,OAAA;EACA,QAAA;EACA,SAAA;EACA,gBAAA;ADugDJ;ACpgDA;;EAEI,eAAA;ADsgDJ;AClgDA;EACI,YAAA;EACA,gBAAA;EACA,gBAAA;ADogDJ;AChgDA;EACI,aAAA;EACA,eAAA;EACA,MAAA;EACA,OAAA;EACA,QAAA;EACA,SAAA;EACA,iBAAA;EACA,UAAA;EACA,yBAAA;ADkgDJ;AC//CA;EACI,YAAA;ADigDJ;AA/tEA;EACI,kBAAA;AAiuEJ;AA9tEA;EACI,gBAAA;AAguEJ;AA1tEA;EACI,yBAAA;EACA,iBAAA;AA4tEJ;AAntEA;EACI,yBAAA;AAqtEJ;AAjtEA;EACI,6BAAA;AAmtEJ;AAhtEA;EACI,kBAAA;EACA,UAAA;AAktEJ;AA7sEA;;EAfI,yBAAA;AAguEJ;AA5sEA;EACI,mBAAA;AA8sEJ;AA1sEA;EApCI,yBAAA;EACA,iBAAA;AAivEJ;AA1sEA;;EAEI,kBAAA;EACA,UAAA;AA4sEJ;AApsEI;;;;EACI,sBAAA;EACA,WAAA;AAysER;AAtsEI;;;;EACI,sBAAA;EACA,WAAA;AA2sER;AAxsEI;;;;EACI,iBAAA;AA6sER;AAzsEA;EAEQ,iBAAA;AA0sER;AAtsEA;EAEQ,+BAAA;EACA,gBAAA;EACA,eAAA;EACA,iBAAA;EACA,gBAAA;AAusER;AA7sEA;EAaQ,eAAA;EACA,iBAAA;AAmsER;AAjtEA;EAkBQ,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;AAksER;AAztEA;;EA4BQ,0BAAA;AAisER;AA7tEA;EAgCQ,kBAAA;EACA,qBAAA;AAgsER;AAjuEA;EAqCQ,mBAAA;EACA,iBAAA;AA+rER;AAruEA;EA0CQ,gBAAA;AA8rER;AAxuEA;EA8CQ,6CAAA;EACA,2BAAA;AA6rER;AA5uEA;EAsDQ,kBAAA;EACA,qBAAA;EAUA,cAAA;AAgrER;AAjvEA;EAsEQ,sBAAA;EACA,kBAAA;EACA,qBAAA;EACA,gBAAA;AA8qER;AA5qEQ;EACI,SAAA;EACA,eAAA;EACA,kBAAA;EACA,WAAA;AA8qEZ;AA3qEQ;EACI,WAAA;EACA,eAAA;AA6qEZ;AAjwEA;EAyFQ,sBAAA;EACA,kBAAA;EACA,SAAA;EACA,cAAA;EACA,kBAAA;EACA,WAAA;AA2qER;AAzqEQ;EACI,yBAAA;EACA,kBAAA;AA2qEZ;AAxqEQ;EACI,WAAA;AA0qEZ;AAxqEQ;EACI,WAAA;AA0qEZ;AAxqEQ;EACI,WAAA;AA0qEZ;AAtxEA;EAiHQ,qBAAA;EACA,eAAA;EACA,gBAAA;EACA,kBAAA;EACA,UAAA;EACA,eAAA;EACA,kBAAA;EACA,iBAAA;EACA,yBAAA;AAwqER;AAjyEA;EA8HY,sBAAA;EACA,kBAAA;EACA,qBAAA;EACA,gBAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;AAsqEZ;AA1yEA;EAuIY,YAAA;AAsqEZ;AA7yEA;EA6IQ,kBAAA;AAmqER;AAhzEA;;;EAmJQ,mBAAA;AAkqER;AArzEA;;EAwJQ,2BAAA;EACA,gBAAA;AAiqER;AA1zEA;EA6JQ,qBAAA;AAgqER;AA7zEA;;EAkKQ,qBAAA;EACA,kBAAA;AA+pER;AAl0EA;;EAsKY,kBAAA;EACA,MAAA;EACA,OAAA;AAgqEZ;AAx0EA;EA6KQ,kBAAA;EACA,WAAA;AA8pER;AA50EA;EAqLY,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;AA0pEZ;AACA;yBACyB;AArpEzB;EDpQI,eAAA;EACA,mBAAA;AC45EJ;AAzpEA;;EAMY,iBAAA;EACA,gBAAA;AAupEZ;AArpEY;;EACI,kBAAA;AAwpEhB;AArpEY;;EACI,iBAAA;AAwpEhB;AAtqEA;EAmBY,6BAAA;EACA,iBAAA;EACA,mBAAA;AAspEZ;AA3qEA;EA2BgB,yBAAA;AAmpEhB;AA9qEA;EAiCQ,qBAAA;AAgpER;AAjrEA;EAqCY,iBAAA;EACA,kBAAA;AA+oEZ;AArrEA;EA4CQ,kBAAA;EACA,iBAAA;AA4oER;AAzrEA;EAmDgB,6BAAA;AAyoEhB;AA5rEA;;EAyDY,eAAA;AAuoEZ;AACA,+BAA+B;AAloE/B;EAooEE;;;;;;;2CAOyC;AAC3C;AA5oEA;EAaQ,yBAAA;EACA,cAAA;AAkoER;AAhpEA;EAiBY,yBAAA;AAkoEZ;AAnpEA;;EAsBY,aAAA;EACA,gBAAA;AAioEZ;AA/nEY;;EACI,kBAAA;AAkoEhB;AA/nEY;;EACI,iBAAA;AAkoEhB;AAhqEA;EAmCY,gBAAA;AAgoEZ;AAnqEA;EAuCY,iBAAA;AA+nEZ;AA3nEI;EAAA;IAGQ,WAAA;IACA,gBAAA;EA4nEV;EAhoEE;IAOY,cAAA;IACA,eAAA;EA4nEd;AACF;AAhrEA;EAyDQ,qBAAA;AA0nER;AAnrEA;EA8DQ,kBAAA;EACA,iBAAA;AAwnER;AACA,eAAe;AA/mEf;EACI,uBAAA;EACA,sBAAA;AAinEJ;AE5hFA;EACI,gBAAA;AF8hFJ;AE/hFA;EAIQ,gBAAA;AF8hFR;AEliFA;EAQQ,kBAAA;AF6hFR;AEriFA;EAYQ,YAAA;AF4hFR;AExiFA;EF6CI,kBAAA;EACA,UAAA;AA8/EJ;AElhFgB;EACI,cAAA;AFohFpB;AEjhFgB;EACI,WAAA;EACA,gBAAA;AFmhFpB;AGnjFA;EACI,kBAAA;AHqjFJ;AItjFA;EAOI,kBAAA;AJkjFJ;AIxjFI;;EAEI,qBAAA;EACA,sBAAA;AJ0jFR;AI9jFA;EAUQ,kBAAA;EACA,UAAA;EACA,SAAA;AJujFR;AInkFA;EAgBQ,cAAA;EACA,eAAA;EACA,eAAA;EJiDJ,kBAAA;EACA,UAAA;AAsgFJ;AI1kFA;EAuBQ,sBAAA;EACA,YAAA;EACA,YAAA;AJsjFR;AI/kFA;EA6BQ,YAAA;AJqjFR;AIjjFA;EASQ,gBAAA;AJ2iFR;AIpjFA;EAeY,uBAAA;EACA,qBAAA;AJwiFZ;AIxjFA;EAqBY,eAAA;EACA,WAAA;AJsiFZ;AI5jFA;EA4BY,6BAAA;AJmiFZ;AKhmFA;EL0aI,uBAAA;EACA,sBAAA;AAyrEJ;AKpmFA;EAIQ,kBAAA;ALmmFR;AKvmFA;;EAQY,kBAAA;ALmmFZ;AM3mFA;EAEQ,kBAAA;EAMA,WAAA;EAEA,gBAAA;EACA,iBAAA;ANsmFR;AMlmFQ;EACI,8BAAA;EACA,cAAA;ANomFZ;AMjmFQ;EACI,8BAAA;EACA,cAAA;ANmmFZ;AMznFA;EA0BY,eAAA;EACA,kBAAA;EACA,QAAA;EACA,oBAAA;EACA,WAAA;EACA,kBAAA;EACA,WAAA;ANkmFZ;AOloFA;EAEQ,kBAAA;EAMA,WAAA;AP8nFR;AOtoFA;EAWY,eAAA;EACA,kBAAA;EACA,QAAA;EACA,oBAAA;EACA,kBAAA;AP8nFZ;AQ7oFA;EAEQ,kBAAA;AR8oFR;AQhpFA;EAMQ,4BAAA;EACA,kBAAA;EACA,kBAAA;AR6oFR;AQ3oFQ;EACI,WAAA;EACA,kBAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,gBAAA;EACA,UAAA;EACA,uCAAA;EAEA,uCAAA;EACA,kBAAA;AR4oFZ;AQjqFA;EAwBY,eAAA;EACA,mBAAA;AR4oFZ;AQvoFA;EAGY,gBAAA;EACA,kBAAA;ARuoFZ;AQ3oFA;EASgB,6BAAA;ARqoFhB;AQ9oFA;;EAeY,eAAA;ARmoFZ;AQlpFA;;EAqBQ,eAAA;ARioFR;ASprFA;ET0aI,uBAAA;EACA,sBAAA;AA6wEJ;ASxrFA;EAIQ,kBAAA;ATurFR;AS3rFA;;EAQY,kBAAA;EAGA,SAAA;EACA,OAAA;ATqrFZ;AShrFA;EAEQ,UAAA;ATirFR;ASnrFA;EAMQ,aAAA;EACA,+BAAA;EACA,8BAAA;EACA,aAAA;EACA,WAAA;EACA,SAAA;EACA,2BAAA;EACA,kBAAA;EACA,UAAA;ATgrFR;AS9rFA;EAkBQ,aAAA;AT+qFR;ASjsFA;EAsBQ,qBAAA;EACA,yBAAA;EACA,kBAAA;EACA,YAAA;EAOA,SAAA;EACA,2BAAA;EACA,YAAA;EACA,kBAAA;EACA,mBAAA;EAEA,eAAA;EACA,kBAAA;ATuqFR;AS9sFA;;EA6BY,yBAAA;ATqrFZ;ASltFA;;EA4CQ,yBAAA;AT0qFR;AUvuFA;EAIY,SAAA;AVsuFZ;AUhuFA;EACI;IAEQ,WAAA;EViuFV;EU9tFE;IAGQ,WAAA;EV8tFV;AACF;AU1tFA;EAEQ,cAAA;AV2tFR;AU7tFA;EAMY,yBAAA;EACA,6BAAA;EACA,+BAAA;AV0tFZ;AUluFA;EAaY,UAAA;AVwtFZ;AUruFA;;EAiBgB,6BAAA;EACA,+BAAA;AVwtFhB;AUltFA;;EAMQ,6BAAA;AVgtFR;AWtwFA;EXwwFE;;gDAE8C;AAChD;AW3wFA;EAKQ,SAAA;AXywFR;AY9wFA;;EAOQ,qBAAA;EACA,uBAAA;EACA,mBAAA;AZ2wFR;AYpxFA;EAYQ,uBAAA;AZ2wFR;AYvxFA;EAgBQ,SAAA;AZ0wFR;AY1xFA;EAoBQ,mBAAA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,WAAA;AZywFR;AYlyFA;EA6BQ,mBAAA;AZwwFR;AYryFA;EAkCQ,kBAAA;EACA,mBAAA;EACA,wBAAA;EACA,qBAAA;EACA,gBAAA;EACA,kBAAA;EACA,UAAA;AZswFR;AYpwFQ;EACI,kBAAA;EACA,sBAAA;EACA,qBAAA;EACA,SAAA;AZswFZ;AYnwFQ;EACI,kBAAA;EACA,oBAAA;EACA,uBAAA;EACA,iBAAA;AZqwFZ;AY1zFA;;EA0DQ,YAAA;EACA,gBAAA;EACA,sBAAA;EACA,WAAA;EACA,UAAA;EACA,kBAAA;AZowFR;AYnwFQ;;EACI,mBAAA;AZswFZ;AYpwFQ;;EACI,YAAA;EACA,aAAA;AZuwFZ;AYnwFQ;;EACI,mBAAA;AZswFZ;AYnwFI;;;EAIQ,qBAAA;AZowFZ;AYxwFI;EAOQ,gBAAA;AZowFZ;AY3wFI;;EAWQ,gBAAA;EACA,cAAA;EACA,iBAAA;AZowFZ;AYnwFY;;EACI,gBAAA;AZswFhB;AYhwFA;EAGY,cAAA;AZgwFZ;AYnwFA;EAOY,kBAAA;AZ+vFZ;AYtwFA;EAWY,mBAAA;AZ8vFZ;AYzwFA;EAeY,uBAAA;EACA,gBAAA;EACA,eAAA;EACA,gBAAA;AZ6vFZ;AYxvFA;EAEQ,YAAA;AZyvFR;Aap3FA;EACI,kBAAA;Abs3FJ;Aav3FA;EAGQ,kBAAA;Abu3FR;Aan3FA;EACI,UAAA;Abq3FJ;Aa92FA;EAEQ,WAAA;Ab+2FR;Ach4FA;EACI,kBAAA;Adk4FJ;Ach4FI;EACI,cAAA;EACA,gBAAA;EACA,aAAA;Adk4FR;Acx4FA;EAUQ,eAAA;EACA,eAAA;EACA,kBAAA;EACA,yBAAA;EACA,iBAAA;EACA,WAAA;EAEA,aAAA;EACA,sBAAA;EACA,uBAAA;Adg4FR;Ac73FI;EACI,YAAA;Ad+3FR;Ac53FI;EACI,YAAA;Ad83FR;Ac33FI;EACI,UAAA;Ad63FR;Ac13FI;EACI,gBAAA;EACA,eAAA;Ad43FR;Acz3FI;EACI,UAAA;EACA,gBAAA;Ad23FR;Acp6FA;EA6CQ,SAAA;Ad03FR;Acv6FA;EdmEI,kBAAA;EACA,UAAA;EclBI,WAAA;Ad03FR;Acv3FI;EACI,WAAA;Ady3FR;Acv3FQ;EACI,gBAAA;Ady3FZ;Acr3FI;EACI,WAAA;EACA,kBAAA;Adu3FR;Acr3FQ;EACI,eAAA;Adu3FZ;Acn3FI;;EAEI,sBAAA;EACA,WAAA;EACA,cAAA;Adq3FR;Acl3FI;EACI,yBAAA;EACA,SAAA;Ado3FR;Acj3FI;EACI,aAAA;EACA,aAAA;EACA,iBAAA;Adm3FR;Act3FI;EAMQ,sBAAA;EACA,gBAAA;EACA,gBAAA;Adm3FZ;Ac33FI;EAYQ,sBAAA;Adk3FZ;Ae/8FA;;EAcQ,iBAAA;EACA,YAAA;EACA,kBAAA;Afq8FR;Aer9FA;;EAmBY,wDAAA;Afs8FZ;Aez9FA;;EAuBY,gCAAA;EACA,gBAAA;EACA,eAAA;EACA,iBAAA;EAEA,gBAAA;Afq8FZ;Aej+FA;;EAmCY,gBAAA;EACA,eAAA;EACA,iBAAA;EACA,iBAAA;EACA,SAAA;Afk8FZ;Aez+FA;;EA0CgB,cAAA;Afm8FhB;Ae7+FA;;EA+CgB,cAAA;Afk8FhB;Aej/FA;;;;EAqDQ,iBAAA;Afk8FR;Aev/FA;;EAyDQ,gBAAA;Afk8FR;Ae3/FA;;EA2DY,eAAA;EACA,SAAA;Afo8FZ;AehgGA;;EAgEQ,yBAAA;Afo8FR;AepgGA;;EAmEQ,yBAAA;Afq8FR;AexgGA;;;;;;EA0EQ,4CAAA;EACA,eAAA;Afs8FR;AejhGA;;EA+EQ,eAAA;EACA,kBAAA;EACA,gBAAA;EACA,kBAAA;EACA,iBAAA;EAwBA,gBAAA;EACA,gBAAA;EACA,kBAAA;EACA,WAAA;EACA,WAAA;Af+6FR;Ae9hGA;;EAmHY,cAAA;EACA,iBAAA;EAGA,kBAAA;EACA,QAAA;EAEA,kBAAA;Af46FZ;AetiGA;;;;EAgIY,mBAAA;Af46FZ;Aev6FA;EAEQ,4CAAA;EAIA,kBAAA;Afq6FR;Ae36FA;EAUQ,eAAA;EACA,iBAAA;Afo6FR;Aeh6FA;EAEQ,aAAA;Afi6FR;AgBxjGA;;EAGQ,kBAAA;AhByjGR;AgB5jGA;EAMQ,yBAAA;AhByjGR;AgBrjGA;EACI,yBAAA;EACA,kBAAA;EACA,YAAA;AhBujGJ;AgBpjGA;EACI,eAAA;AhBsjGJ;AgBnjGA;EAEQ,2BAAA;EACA,kBAAA;AhBojGR;AgBvjGA;;EAOY,cAAA;AhBojGZ;AiB5kGI;;EjB+kGF,8DAA8D;EiB3kGpD,eAAA;AjB6kGZ;AiBjlGI;EAcQ,cAAA;EACA,SAAA;AjBskGZ;AiBpkGY;EACI,kBAAA;AjBskGhB;AiBzlGA;;EA2BQ,cAAA;AjBkkGR;AiB7lGA;EAgCY,kBAAA;AjBgkGZ;AiBhmGA;EAoCY,cAAA;EACA,iBAAA;EACA,gBAAA;AjB+jGZ;AiBrmGA;;EA2CY,qBAAA;EACA,sBAAA;AjB8jGZ;AiB1mGA;EAgDY,sBAAA;AjB6jGZ;AiBxjGA;EACI,+BAAA;AjB0jGJ;AkBlnGA;EACI,kBAAA;AlBonGJ;AkBjnGA;EACI,mBAAA;EACA,sBAAA;AlBmnGJ;AkBhnGA;EAJI,mBAAA;EACA,sBAAA;EAKA,YAAA;AlBmnGJ;AkBhnGA;EATI,mBAAA;EACA,sBAAA;AlB4nGJ;AkBhnGA;EAbI,mBAAA;EACA,sBAAA;AlBgoGJ;AkBhnGA;EACI,gBAAA;EACA,mBAAA;EACA,iBAAA;EACA,kBAAA;AlBknGJ;AkB/mGA;EACI,gBAAA;EACA,kBAAA;EACA,iBAAA;EACA,kBAAA;AlBinGJ;AmBlpGA;EAEQ,WAAA;AnBmpGR;AoB/oGA;;EAGQ,gBAAA;EACA,sBAAA;EACA,6BAAA;EAEA,0BAAA;ApB+oGR;AoBtpGA;EpBuCI,kBAAA;EACA,UAAA;AAknGJ;AoB1pGA;EpB6DI,kBAAA;EACA,UAAA;EoB1CI,sBAAA;EACA,yBAAA;EACA,4BAAA;EACA,kBAAA;EACA,eAAA;EACA,kBAAA;ApB2oGR;AoBzoGQ;EACI,gBAAA;EACA,sBAAA;ApB2oGZ;AoBxoGQ;EACI,gBAAA;EACA,uBAAA;EACA,YAAA;ApB0oGZ;AoBxoGY;EACI,kBAAA;EACA,gBAAA;ApB0oGhB;AoBtoGQ;EACI,yBAAA;EACA,YAAA;EACA,oBAAA;ApBwoGZ;AoBroGQ;EACI,aAAA;ApBuoGZ;AoBtoGY;EACI,YAAA;EACA,sBAAA;EACA,yBAAA;EACA,4BAAA;EACA,kBAAA;EACA,YAAA;EACA,WAAA;EACA,WAAA;EACA,QAAA;EACA,SAAA;EACA,kBAAA;ApBwoGhB;AoBpoGQ;EAvEJ,qBAAA;EAEA,2BAAA;ApB6sGJ;AoB5nGA;EAEQ,SAAA;ApB6nGR;AoBznGQ;EAEI,WAAA;EACA,qBAAA;EACA,YAAA;EACA,sBAAA;ApB0nGZ;AoBvnGQ;EAEI,qBAAA;EACA,eAAA;EACA,eAAA;EACA,sBAAA;ApBwnGZ;AoB3oGA;EAyBY,sBAAA;ApBqnGZ;AqBjuGA;EACI,gBAAA;EACA,iBAAA;EACA,yBAAA;ArBmuGJ;AqBtuGA;EAMQ,YAAA;ArBmuGR;AqBzuGA;;EAWQ,uBAAA;EACA,mBAAA;ArBkuGR;AqBhuGQ;;EACI,cAAA;ArBmuGZ;AqBhuGQ;;EACI,eAAA;ArBmuGZ;AqBtvGA;EAwBQ,mBAAA;EACA,YAAA;EACA,WAAA;EACA,gBAAA;EACA,8BAAA;ArBiuGR;AqB7vGA;EA8BY,SAAA;ArBkuGZ;AqBhwGA;EAmCQ,gBAAA;ArBguGR;AqBnwGA;EAuCQ,gBAAA;ArB+tGR;AqB5tGA;;EAII,WAAA;ArB4tGJ;AqBztGA;EAGY,YAAA;ArBytGZ;AsB9wGA;;EAEI,yBAAA;EACA,kBAAA;EAEA,eAAA;EAGA,YAAA;AtB6wGJ;AsBzwGA;EACI,aAAA;AtB2wGJ;AAn1FI;EACI,qBAAA;AAq1FR;AAl1FI;EAEI,mCAAA;EACA,qBAAA;AAm1FR;AAh1FI;EACI,eAAA;AAk1FR;AA/0FI;EACI,qBAAA;AAi1FR;AA30FA;EACI,8BAAA;EACA,kBAAA;EACA,kBAAA;AA60FJ;AA50FI;EACI,0BAAA;EACA,aAAA;AA80FR;AA50FI;;EAEI,WAAA;EACA,cAAA;EACA,WAAA;AA80FR;AA11FA;EAkBQ,eAAA;EACA,mBAAA;AA20FR;AAz0FI;EACI,mBAAA;AA20FR;AAv0FA;EAEQ;IACI,gBAAA;EAw0FV;AACF;AA5zFA;EACI,cAAA;EACA,aAAA;EACA,gBAAA;EACA,kBAAA;EACA,kBAAA;EACA,WAAA;EACA,mBAAA;AA8zFJ;AA5zFA;EACI,cAAA;AA8zFJ;AA5zFA;EACI,cAAA;AA8zFJ;AA5zFA;EACI,cAAA;AA8zFJ;AA5zFA;EACI,cAAA;AA8zFJ;AA5zFA;EACI,cAAA;AA8zFJ;AA5zFA;EACI,cAAA;AA8zFJ;AA5zFA;EACI,cAAA;AA8zFJ;AA5zFA;EACI,cAAA;AA8zFJ;AA3zFA;EACI;IAGI,aAAA;EA2zFN;AACF;AAvzFA;EACI,gBAAA;EACA,iBAAA;EACA,YAAA;AAyzFJ;AArzFA;EANI,gBAAA;EACA,iBAAA;EACA,YAAA;EAMA,WAAA;AAyzFJ;AAvzFA;EACI,UAAA;EACA,uBAAA;AAyzFJ;AA3zFA;EAIQ,qBAAA;AA0zFR;AAlzFA;EACI,6BAAA;EAGA,eAAA;EAGA,gBAAA;EAEA,aAAA;AA+yFJ;AA7yFI;EACI,iBAAA;AA+yFR;AA5yFI;EAEI,YAAA;AA6yFR;AA9zFA;EAwBQ,eAAA;AAyyFR;AAj0FA;EA6BQ,cAAA;AAuyFR;AAp0FA;EAmCQ,SAAA;AAoyFR;AAv0FA;EA0CQ,kCAAA;AAgyFR;AA10FA;EAgDQ,mBAAA;AA6xFR;AAxxFA;EAGI,gBAAA;AAwxFJ;AAnxFA;EACI,0CAAA;EACA,kBAAA;EACA,sBAAA;EACA,sBAAA;EACA,eAAA;EACA,YAAA;EAEA,YAAA;AAoxFJ;AAlxFI;EACI,UAAA;EACA,kBAAA;EACA,SAAA;EACA,UAAA;AAoxFR;AA7wFA;EACI,cAAA;EACA,WAAA;EACA,WAAA;EACA,YAAA;EACA,WAAA;EACA,yBAAA;EACA,uBAAA;EACA,kBAAA;AA+wFJ;AA7wFI;EACI,eAAA;EACA,yBAAA;AA+wFR;AA5wFI;EACI,yBAAA;EACA,aAAA;AA8wFR;AA1wFA;EACI,aAAA;AA4wFJ;AA1wFI;EACI,aAAA;AA4wFR;AAzwFI;EACI,gBAAA;AA2wFR;AAvwFA;EACI,sBAAA;AAywFJ;AAnwFA;EACI,mBAAA;EACA,qBAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;AAqwFJ;AAlwFA;EACI;IACI,cAAA;EAowFN;EArwFE;IAKQ,SAAA;EAmwFV;AACF;AA9vFI;EAAA;IAEQ,eAAA;EAgwFV;AACF;AuBz8GA;EACI,wBAAA;AvB28GJ;AuB58GA;EAKY,gBAAA;AvB08GZ;AuB/8GA;;EvBk9GE;;;uBAGqB;EuBv8GX,uBAAA;EACA,UAAA;EACA,2BAAA;EACA,iCAAA;EACA,6BAAA;AvBy8GZ;AuB39GA;EAsBY,yCAAA;EAEA,4BAAA;EACA,6BAAA;EAGA,qBAAA;EACA,yCAAA;EACA,8BAAA;AvBq8GZ;AuBn8GY;EAEI,qBAAA;EACA,8BAAA;AvBo8GhB;AuBv+GA;EAyCY,4BAAA;EACA,gCAAA;EACA,kBAAA;EACA,qBAAA;EACA,oBAAA;EACA,8CAAA;AvBi8GZ;AuB/7GY;EAEI,gCAAA;EACA,qBAAA;AvBg8GhB;AuBn/GA;EAyDQ,kCAAA;AvB67GR;AuBt/GA;;EAiEQ,wCAAA;EACA,kBAAA;EAEA,kBAAA;EACA,qBAAA;EACA,iBAAA;EACA,kBAAA;EACA,oBAAA;EACA,8BAAA;AvBw7GR;AuBjgHA;EA6EQ,mBAAA;AvBu7GR;AuBpgHA;EAmFQ,YAAA;AvBo7GR;AuBvgHA;;EAyFY,8BAAA;EACA,8BAAA;EACA,uBAAA;AvBk7GZ;AuB7gHA;;EA+FY,kCAAA;EACA,oCAAA;EACA,uBAAA;AvBk7GZ;AuBnhHA;EAsGQ,8BAAA;EACA,8BAAA;EACA,uBAAA;EACA,gCAAA;AvBg7GR;AwBviHA;;;;;;;;;EASA;;AAEA;EACA,kBAAA;EACA,aAAA;EACA,YAAA;EACA,UAAA;EACA,WAAA;EACA,gBAAA;EACA,gBAAA;AACA;AACA;EACA,kBAAA;EACA,aAAA;EACA,YAAA;EACA,UAAA;EACA,WAAA;EACA,gBAAA;EACA,gBAAA;AACA;AACA;EACA,oBAAA;EACA,4BAAA;EACA,0QAAA;AACA;AACA;EACA,wBAAA;EACA,qBAAA;AACA;AACA;EACA,mCAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,UAAA;EACA,wBAAA;EACA,qBAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;;EAEA,sBAAA;AACA;AACA;;EAEA,0DAAA;EACA,uDAAA;EACA,kDAAA;EACA,qBAAA;AACA;AACA;EACA,WAAA;AACA;AACA;EACA,cAAA;EACA,qCAAA;EACA,sBAAA;EACA,kBAAA;EACA,iBAAA;EACA,gBAAA;AACA;AACA;EACA,uBAAA;AACA;AACA;EACA,0BAAA;AACA;AACA;;;EAGA,kBAAA;EACA,YAAA;AACA;AACA;;EAEA,kBAAA;EACA,YAAA;AACA;AACA;EACA,WAAA;AACA;AACA;EACA,gBAAA;EACA,kBAAA;AACA;AACA;;EAEA,wBAAA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,8BAAA;EACA,2BAAA;EACA,sBAAA;EACA,mBAAA;EACA,gBAAA;EACA,sBAAA;AACA;AACA;;EAEA,oBAAA;EACA,qBAAA;AACA;AACA;;EAEA,mBAAA;EACA,qBAAA;AACA;AACA;;EAEA,oBAAA;EACA,qBAAA;AACA;AACA;;;;EAIA,cAAA;EACA,qBAAA;AACA;AACA;;EAEA,oBAAA;EACA,qBAAA;AACA;AACA;;;;;;;;;;EAUA,oBAAA;EACA,qBAAA;AACA;AACA;EACA,oBAAA;EACA,mBAAA;EACA,kBAAA;EACA,eAAA;EACA,cAAA;EACA,wBAAA;EACA,qBAAA;AACA;AACA;;EAEA,wBAAA;EACA,qBAAA;AACA;AACA;;;EAGA,8CAAA;EACA,gBAAA;AACA;AACA;EACA,kBAAA;EACA,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;AACA;AACA;EACA,kBAAA;EACA,oBAAA;EACA,SAAA;EACA,UAAA;EACA,mBAAA;EACA,yBAAA;EACA,sBAAA;EACA,iBAAA;EACA,sBAAA;AACA;AACA;EACA,8BAAA;AACA;AACA;EACA,uBAAA;AACA;AACA;EACA,uBAAA;AACA;AACA;EACA,uBAAA;AACA;AACA;EACA,qBAAA;EACA,gBAAA;AACA;AACA;EACA,wCAAA;EACA,gBAAA;EACA,gBAAA;EACA,cAAA;AACA;AACA;EACA,2CAAA;AACA;AACA;EACA,oBAAA;EACA,mBAAA;AACA;AACA;;EAEA,mBAAA;AACA;AACA;;;EAGA,kBAAA;AACA;AACA;EACA,mBAAA;EACA,kBAAA;AACA;AACA;EACA,SAAA;AACA;AACA;EACA,eAAA;AACA;AACA;EACA,qBAAA;EACA,8BAAA;EACA,2BAAA;EACA,0BAAA;EACA,yBAAA;EACA,sBAAA;EACA,uBAAA;AACA;AACA;EACA,cAAA;EACA,sBAAA;EACA,oBAAA;AACA;AACA;EACA,qBAAA;AACA;AACA;EACA,oBAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,uCAAA;AACA;AACA;EACA,sCAAA;AACA;AACA;EACA,qBAAA;EACA,eAAA;AACA;AACA;EACA,wBAAA;EACA,kBAAA;AACA;AACA;EACA,gBAAA;EACA,wBAAA;EACA,qBAAA;AACA;AACA;EACA,gBAAA;EACA,cAAA;EACA,sBAAA;AACA;AACA;EACA,qBAAA;AACA;AACA;EACA,qBAAA;EACA,2BAAA;AACA;AACA;EACA,cAAA;AACA;AACA;EACA,cAAA;EACA,WAAA;AACA;AACA;EACA,gBAAA;AACA;AACA;EACA,cAAA;AACA;AACA;EACA,cAAA;EACA,qBAAA;EACA,oBAAA;EACA,kBAAA;EACA,gBAAA;AACA;AACA;EACA,YAAA;AACA;AACA;EACA,iBAAA;EACA,oBAAA;AACA;AACA;;EAEA,kBAAA;EACA,MAAA;EACA,WAAA;AACA;AACA;EACA,OAAA;AACA;AACA;EACA,QAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,sBAAA;EACA,kBAAA;AACA;AACA;EACA,cAAA;AACA;AACA;EACA,8CAAA;EACA,gBAAA;EACA,kBAAA;AACA;AACA;EACA,mBAAA;AACA;AACA;;EAEA,oBAAA;AACA;AACA;EACA,cAAA;EACA,kBAAA;EACA,sBAAA;EACA,gBAAA;AACA;AACA;;;EAGA,sBAAA;AACA;AACA;;;;EAIA,qBAAA;AACA;AACA;;;EAGA,cAAA;AACA;AACA;EACA,gBAAA;AACA;AACA;EACA,qBAAA;EACA,YAAA;EACA,WAAA;EACA,cAAA;AACA;AACA;EACA,kBAAA;EACA,aAAA;AACA;AACA;EACA,kBAAA;EACA,QAAA;EACA,cAAA;EACA,aAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,qBAAA;EACA,eAAA;EACA,kBAAA;EACA,oBAAA;EACA,oBAAA;EACA,mBAAA;EACA,gBAAA;AACA;AACA;EACA,cAAA;EACA,kBAAA;EACA,kBAAA;AACA;AACA;EACA,cAAA;EACA,kBAAA;AACA;AACA;EACA,cAAA;EACA,kBAAA;EACA,mBAAA;EACA,qBAAA;EACA,sBAAA;EACA,2BAAA;EACA,yBAAA;EACA,8BAAA;AACA;AACA;EACA,cAAA;AACA;AACA;EACA,sBAAA;EACA,cAAA;EACA,kBAAA;AACA;AACA;;;EAGA,cAAA;AACA;AACA;;EAEA,cAAA;AACA;AACA;EACA,YAAA;EACA,mDAAA;EACA,WAAA;AACA;AACA;;EAEA,YAAA;EACA,8CAAA;AACA;AACA;EACA,2BAAA;EACA,0CAAA;EACA,sCAAA;EACA,kCAAA;EACA,yCAAA;EACA,qCAAA;EACA,iCAAA;EACA,eAAA;EACA,mBAAA;AACA;AACA;EACA,gBAAA;EACA,2BAAA;EACA,eAAA;EACA,kBAAA;EACA,kBAAA;EACA,kBAAA;AACA;AACA;EACA,kBAAA;EACA,aAAA;EACA,YAAA;EACA,gBAAA;EACA,gBAAA;AACA;AACA;EACA,WAAA;EACA,aAAA;AACA;AACA;;EAEA,kBAAA;EACA,YAAA;EACA,YAAA;EACA,gBAAA;EACA,gBAAA;EACA,0BAAA;EACA,wBAAA;EACA,6BAAA;EACA,qBAAA;EACA,aAAA;EACA,mBAAA;AACA;AACA;;;;;;EAMA,8BAAA;AACA;AACA;;;;;;EAMA,8BAAA;EACA,YAAA;EACA,mBAAA;AACA;AACA;;EAEA,kCAAA;AACA;AACA;;EAEA,kBAAA;EACA,yBAAA;EACA,sBAAA;EACA,iBAAA;AACA;AACA;;EAEA,yBAAA;EACA,sBAAA;EACA,iBAAA;EACA,kBAAA;EACA,2BAAA;EACA,2BAAA;EACA,wBAAA;EACA,uBAAA;EACA,sBAAA;EACA,mBAAA;EACA,YAAA;EACA,UAAA;EACA,WAAA;EACA,uBAAA;AACA",sourcesContent:['.exercise,\n.vars,\n#next {\n    display: none;\n}\np.question {\n    font-weight: bold;\n}\nvar {\n    font-style: normal;\n}\n\n.hint.last-hint {\n    .paragraph {\n        font-weight: bold;\n    }\n}\n\n.hint_blue {\n    color: #6495ed;\n}\n.hint_orange {\n    color: #ffa500;\n}\n.hint_pink {\n    color: #ff00af;\n}\n.hint_red {\n    color: #df0030;\n}\n.hint_green {\n    color: #28ae7b;\n}\n.hint_gray {\n    color: gray;\n}\n.hint_purple {\n    color: #9d38bd;\n}\n\ndiv.subhint {\n    border: 1px solid #aaaaaa;\n    background: #f9f9f9;\n    display: none;\n    border-radius: 4px;\n    margin-left: 20px;\n    margin-right: 20px;\n    padding: 10px;\n}\n\na.show-subhint {\n    font-size: 12px;\n    font-style: italic;\n    background-color: #fdfdfd;\n}\n\na.show-definition {\n    background-color: #fdfdfd;\n}\n\ndiv.definition {\n    position: absolute;\n    border: 1px solid #aaaaaa;\n    background: #f9f9f9;\n    display: none;\n    border-radius: 4px;\n    margin-left: 20px;\n    margin-right: 20px;\n    padding: 10px;\n    z-index: 1000;\n}\n\n.solutionarea ul {\n    list-style: none;\n}\n.solutionarea li {\n    padding: 7px 0;\n}\n.solutionarea li label {\n    display: block;\n}\n.solutionarea li input[type="radio"] {\n    float: left;\n    margin-top: 4px;\n}\n.solutionarea li .value {\n    display: block;\n    min-height: 22px;\n    margin-left: 18px;\n}\n\n#extras li {\n    display: inline;\n}\n#extras li:before {\n    content: "| ";\n}\n#extras li:first-child:before {\n    content: "";\n}\n\n#scratchpad-show {\n    position: relative;\n    z-index: 1;\n}\n\n#answer_area #check-answer-results {\n    overflow: hidden;\n    margin: 5px 0;\n}\n#answer_area #check-answer-results .check-answer-message {\n    font-size: 12px;\n    line-height: 20px;\n    margin: 0;\n}\n#sad,\n#happy {\n    float: left;\n    margin: 0 6px 4px 0;\n}\n\n.examples {\n    color: #777;\n    margin-left: 20px;\n    list-style-type: disc;\n}\n.examples li {\n    margin: 5px 0;\n}\n\n#problemarea {\n    font-size: 14px;\n    position: relative;\n    float: left;\n    padding-bottom: 38px;\n}\n\n#solution {\n    font-size: 14px;\n}\n#solution label {\n    display: block;\n    white-space: nowrap;\n}\n\n#tester-info {\n    border: 1px solid #aaa;\n    background: #f0f0f0;\n    padding: 10px;\n    margin: 10px 0;\n}\n#debug var {\n    font: 14px Menlo, Courier, monospace;\n    word-wrap: break-word;\n}\n\ncode {\n    font-family: Courier, monospace;\n}\n\npre {\n    background-color: #f0f1f2;\n    border-radius: 4px;\n    color: #21242c;\n    font-size: 18px;\n    padding: 16px;\n    white-space: pre;\n    overflow: auto;\n}\n\ntable.limit {\n    margin: 5px;\n}\ntable.limit th {\n    font-weight: bold;\n    text-align: center;\n}\ntable.limit td {\n    border: 1px solid #aaa;\n}\ntable.limit th,\ntable.limit td {\n    padding: 5px;\n}\ntable.limit th:first-child {\n    text-align: right;\n}\n\n.solutionarea input[type="text"],\n.solutionarea input[type="number"] {\n    width: 80px;\n}\n.solutionarea .short20 input[type="text"],\n.solutionarea .short20 input[type="number"] {\n    width: 20px;\n}\n.solutionarea .short25 input[type="text"],\n.solutionarea .short25 input[type="number"] {\n    width: 25px;\n}\n.solutionarea .short28 input[type="text"],\n.solutionarea .short28 input[type="number"] {\n    width: 28px;\n}\n.solutionarea .short30 input[type="text"],\n.solutionarea .short30 input[type="number"] {\n    width: 30px;\n}\n.solutionarea .short32 input[type="text"],\n.solutionarea .short32 input[type="number"] {\n    width: 32px;\n}\n.solutionarea .short35 input[type="text"],\n.solutionarea .short35 input[type="number"] {\n    width: 35px;\n}\n.solutionarea .short40 input[type="text"],\n.solutionarea .short40 input[type="number"] {\n    width: 40px;\n}\n.solutionarea .short50 input[type="text"],\n.solutionarea .short50 input[type="number"] {\n    width: 50px;\n}\n#readonly {\n    display: none;\n}\n\n.radical .surd {\n    font: 150% Arial;\n    padding: 0 0 0 5px;\n}\n.radical .overline {\n    border-top: 1px solid #000;\n    padding: 6px 1px 0 3px;\n    margin-left: -1px;\n}\n.solutionarea .radical input[type="text"],\n.solutionarea .radical input[type="number"] {\n    width: 40px;\n}\n\nbody.debug .graphie {\n    outline: 1px dashed #fdd;\n}\n.graphie svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n#scratchpad {\n    display: none;\n    margin: 0 10px;\n    overflow: hidden;\n    padding-bottom: 40px;\n}\n#scratchpad div {\n    box-sizing: border-box;\n    border: 1px solid #ccc;\n    height: 100%;\n    position: absolute;\n    width: 100%;\n    z-index: 1;\n}\n\n#scratchpad-not-available {\n    display: none;\n}\n#extras .report-issue-link {\n    float: right;\n}\n\n#tester-info.info-box {\n    background: #f2e4bf;\n}\n#tester-info .box {\n    border: 1px solid black;\n    padding: 2px 4px;\n    margin-left: 5px;\n}\n#tester-info .group-box {\n    border: 1px solid #aaa;\n    padding: 6px 4px 6px 0px;\n    margin-left: 2px;\n}\n\n#browserwarning {\n    background: white;\n    margin: 0 1px;\n    padding: 18px;\n    font-size: 120%;\n    text-align: center;\n}\n\n#answer_area .answer-buttons input.simple-button,\n#answer_area input.simple-button.full-width {\n    width: 100%;\n}\n#answer_area #answercontent {\n    position: relative;\n    z-index: 2;\n} /* above-scratchpad */\n#answer_area .hint-box {\n    position: relative;\n    z-index: 1;\n}\n\n#problemarea a:link,\n#problemarea input,\n#problemarea label,  /* HACK(aria): for radios */\n#problemarea select {\n    /* for dropdowns */\n    position: relative;\n    z-index: 3; /* interactive-content */\n}\n\n#answer_area .calculator {\n    width: 181px;\n    margin: 0 auto;\n}\n\n.calculator-angle-mode .selected-anglemode {\n    color: #050505;\n}\n\n.calculator-angle-mode .unselected-anglemode {\n    color: #bbbbbb;\n}\n\n#answer_area .calculator .history {\n    font: 14px/1.5 Menlo, Monaco, Courier, monospace;\n    margin: 0 0 10px;\n    width: 183px;\n\n    background-color: white;\n    border-radius: 5px;\n}\n\n#answer_area .calculator .history #calc-output-content {\n    position: absolute;\n    bottom: 0px;\n    width: 100%;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    max-height: 80px;\n}\n\n#answer_area .calculator .history #calc-output {\n    height: 80px;\n    text-align: left;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    position: relative;\n}\n\n#answer_area .calculator .history .output {\n    text-align: right;\n    margin-right: 3px;\n}\n\n#answer_area .calculator .history input {\n    box-sizing: border-box;\n    display: block;\n    font: inherit;\n    margin: 5px 3px 3px;\n    width: 98%;\n    padding-left: 25px;\n    padding-right: 8px;\n    text-align: right;\n    border: none;\n    outline-width: 0;\n}\n\n#answer_area .calculator .history .input {\n    position: relative;\n}\n\n#answer_area .calculator .history .input-history {\n    position: relative;\n    margin-left: 3px;\n}\n\n#answer_area .calculator .history .status a {\n    position: absolute;\n    font: 10px/1.5 Menlo, Monaco, Courier, monospace;\n    color: #999;\n    text-decoration: none;\n    line-height: 9px;\n    height: 19px;\n    top: 5px;\n    left: 6px;\n}\n\n#answer_area .calculator .keypad .calc-row {\n    margin: 5px 0;\n}\n\n#answer_area .calculator .keypad .calc-row a {\n    background: #ccc;\n    border-radius: 2px;\n    color: #000;\n    display: inline-block;\n    margin: 0 5px 0 0;\n    text-align: center;\n    text-decoration: none;\n    width: 31px;\n}\n\n#answer_area .calculator .keypad .calc-row a:hover {\n    background: #bbb;\n}\n\n#answer_area .calculator .keypad .calc-row a:active {\n    background: #aaa;\n}\n\n#answer_area .calculator .keypad .calc-row a.dark {\n    background: #aaa;\n}\n\n#answer_area .calculator .keypad .calc-row a.dark:hover {\n    background: #999;\n}\n\n#answer_area .calculator .keypad .calc-row a.dark:active {\n    background: #888;\n}\n\n#answer_area .calculator .keypad a sup {\n    vertical-align: super;\n    font-size: 80%;\n    line-height: 0;\n}\n\n#answer_area .calculator .keypad a.wide {\n    width: 67px;\n}\n\n#solutionarea {\n    min-height: 35px;\n    padding: 10px;\n    margin: 0 -10px;\n    border-bottom: 1px solid #c3c3c3;\n    overflow: visible;\n}\n\n.workarea #solutionarea {\n    border-bottom: 0;\n    padding-bottom: 0;\n    padding-top: 0;\n}\n\n#answer_area .answer-buttons {\n    margin: 0 -10px;\n    padding: 10px 10px 0;\n    position: relative;\n}\n\n#show-prereqs-button {\n    margin-top: 15px;\n}\n\n#positive-reinforcement img {\n    width: 28px;\n    position: absolute;\n    top: 7px;\n    left: 5px;\n    cursor: pointer;\n}\n\n#answer_area input.simple-button[disabled="disabled"] {\n    opacity: 0.5;\n    filter: alpha(opacity = 50);\n    cursor: default;\n}\n#answer_area input.simple-button[disabled="disabled"]:hover {\n    color: #fff !important;\n}\n#answer_area input.simple-button.orange[disabled="disabled"]:hover {\n    border-color: #bf4f04 !important;\n    border-bottom-color: #803503 !important;\n}\n#answer_area input.simple-button.green[disabled="disabled"]:hover {\n    border-color: #76a005 !important;\n    border-bottom-color: #557303 !important;\n}\n\n.simple-button.disabled {\n    opacity: 0.5;\n    filter: alpha(opacity = 50);\n    cursor: default;\n}\n\n#hint-remainder {\n    color: #777;\n}\n\n#footer .simple-button,\n.info-box .simple-button {\n    padding: 3px 10px;\n    top: -1px;\n}\n.info-box .simple-button {\n    top: 0;\n}\n\n#issue #issue-status.error {\n    font-weight: bold;\n    color: #a21;\n    font-size: 1.2em;\n}\n#issue-link {\n    font-style: italic;\n}\n#issue .issue-form input[type="text"] {\n    display: block;\n    width: 98%;\n}\n#issue .issue-form textarea {\n    display: block;\n    width: 98%;\n    height: 100px;\n}\n#issue-cancel {\n    float: right;\n}\n#issue fieldset {\n    list-style: none;\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    padding-left: 10px;\n    border-radius: 5px;\n    line-height: 22px;\n    margin-bottom: 3px;\n    min-inline-size: auto;\n}\n#issue fieldset legend {\n    padding-left: 5px;\n    padding-right: 5px;\n}\n#issue fieldset label {\n    display: inline;\n}\n#issue fieldset li {\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n\nvar,\ndiv.graphie {\n    white-space: pre;\n    /**\n   * Graphie didn\'t have a fixed font-size and was just using\n   * the surrounding font-size. However some labels are banking on\n   * specific dimensions, so we need to lock it to a specific size.\n   */\n    font-size: 14px;\n}\n\n#spinner {\n    position: relative;\n    top: 4px;\n    left: 4px;\n}\n#issue-spinner {\n    position: relative;\n    top: 3px;\n}\n\n.exp input {\n    vertical-align: super;\n    font-size: 9px;\n    height: 11px;\n}\n\n.correct-activity {\n    background-color: #69bb00;\n    text-shadow: 0 -1px 0 #557303;\n}\n\n.incorrect-activity {\n    background-color: #e12c2d;\n    text-shadow: 0 -1px 0 #921118;\n}\n\n.hint-activity {\n    background-color: #f19726;\n    text-shadow: 0 -1px 0 #b55c00;\n}\n\n.user-activity {\n    margin: 8px;\n    padding: 2px 5px;\n    border: 1px solid #999;\n    border-radius: 4px;\n    float: left;\n    cursor: pointer;\n    color: white;\n}\n\n.user-activity input {\n    cursor: pointer;\n}\n\ndiv.timeline-time {\n    float: left;\n    padding-top: 10px;\n}\n\ndiv.timeline-time:before {\n    padding: 3px;\n    content: "~";\n}\n\ndiv.timeline-time:after {\n    padding: 3px;\n    content: "~";\n}\n\ndiv.timeline-total {\n    border-top: 1px solid #999;\n}\n\n#timelinecontainer {\n    border: 1px solid #c6d1ad;\n    border-top: 0px;\n    position: relative;\n}\n\n#timelinecontainer:before,\n#timelinecontainer:after {\n    content: "";\n    display: table;\n}\n\n#timelinecontainer:after {\n    clear: both;\n}\n\n#timelinecontainer {\n    zoom: 1;\n}\n\n#timeline {\n    overflow: hidden;\n    position: absolute;\n    left: 265px;\n    right: 225px;\n    border-left: 1px solid #c6d1ad;\n    border-right: 1px solid #c6d1ad;\n}\n\n#timeline-events {\n    width: 10000px;\n}\n\n/* Allow the timeline to scroll all the way to the end with a little margin */\n#timeline-events:after,\n#timeline-events:before {\n    content: "";\n    display: block;\n    width: 1px;\n    height: 1px;\n    float: left;\n}\n\n#timeline p {\n    margin: 0;\n}\n\n#previous-problem {\n    margin: 5px;\n    cursor: pointer;\n    float: left;\n    width: 100px;\n}\n\n#next-problem {\n    margin: 5px;\n    cursor: pointer;\n    float: right;\n    width: 80px;\n}\n\n.user-activity.activated {\n    border: 2px solid #888;\n}\n\n/* Version of the site used by Khan/exercise-browser for the iframe preview */\n\nhtml.exercise-browser {\n    overflow-x: hidden;\n    overflow-y: hidden;\n}\n\n.exercise-browser body {\n    min-width: 0;\n    width: 790px;\n    overflow-x: hidden;\n    overflow-y: auto;\n}\n\n.exercise-browser header,\n.exercise-browser footer,\n.exercise-browser .topic-exercise-badge,\n.exercise-browser #extras,\n.exercise-browser .exercises-stack,\n.exercise-browser .related-video-box {\n    display: none !important;\n}\n\n.exercise-browser #outer-wrapper,\n.exercise-browser #page-container,\n.exercise-browser #page-container-inner {\n    background: #ffffff;\n}\n\n.exercise-browser article {\n    border: none;\n}\n\n.exercise-browser #container.single-exercise {\n    min-width: 0;\n}\n\n.exercise-browser #page-container {\n    width: 790px;\n    min-width: 0;\n}\n\n.exercise-browser .problem-types {\n    margin-right: 20px;\n}\n\n.exercise-browser .problem-type-link {\n    display: block;\n    margin-bottom: 5px;\n    padding: 6px;\n    background: #36a6c4;\n    border-radius: 5px;\n    border: 1px solid #7fc8e6;\n    color: white;\n}\n\n.exercise-browser .problem-type-link:hover {\n    color: white;\n    background: #1c758c;\n    text-decoration: none;\n}\n\n.exercise-browser .problem-type-link:visited {\n    color: #c2eaff;\n    text-decoration: none;\n}\n\n.lite header,\n.lite footer,\n.lite #extras,\n.lite .exercise-badge,\n.lite .hint-box,\n.lite .related-video-box {\n    display: none !important;\n}\n\n.lite #page-container,\n.lite #container {\n    min-width: 0;\n    border-width: 0;\n}\n\n.lite #streak-bar-container {\n    position: absolute;\n    top: 10px;\n    left: 15px;\n}\n\n.lite #answercontent {\n    position: absolute;\n    right: 5px;\n    top: 12px;\n    padding: 0px;\n    border: none;\n    box-shadow: none;\n    overflow: visible;\n}\n\n.lite #answercontent > * {\n    float: left;\n    margin-right: 10px;\n}\n\n/* TODO: Find a better way to display these. */\n.lite #spinner,\n.lite #check-answer-results {\n    display: none !important;\n}\n\n.lite #answercontent .info-box-header {\n    font-size: 16px;\n}\n\n.lite #answercontent .examples {\n    display: none !important;\n}\n\n.lite .ui-icon {\n    width: 18px;\n    height: 18px;\n}\n\n.lite h1 {\n    font-family: inherit;\n}\n\n.lite #solutionarea input {\n    font-size: 14px;\n}\n\n.lite #answercontent .simple-button {\n    margin-top: -5px;\n    color: #fff !important;\n    font-size: 14px;\n    text-shadow: none;\n}\n\n#warning-bar {\n    width: 100%;\n    height: 35px;\n    text-align: center;\n    font-size: 15px;\n    display: none;\n    padding: 6px 0;\n    position: relative;\n    z-index: 2;\n}\n\n.bibliotron-exercise #warning-bar {\n    height: auto;\n}\n\n#warning-bar span {\n    position: relative;\n    top: 5px;\n}\n\n.bibliotron-exercise #warning-bar span,\n.bibliotron-exercise #warning-bar #warning-bar-close {\n    top: auto;\n}\n\n#warning-bar-close {\n    top: 5px;\n    float: right;\n    right: 20px;\n    position: relative;\n}\n\n#warning-bar-content a {\n    text-decoration: underline;\n}\n\n#warning-bar.error {\n    background-color: #d61914;\n    color: #eee;\n}\n\n#warning-bar.error a {\n    color: #eee;\n}\n\n#warning-bar.warning {\n    background-color: #f5e722;\n    color: #222;\n}\n\n#warning-bar.warning a {\n    color: #222;\n}\n\n/* Faux table styles that allow revealing data row by row in hints */\n\n.fake_header > span {\n    font-weight: bold;\n    display: inline-block;\n    padding-left: 10px;\n    border-bottom: 2px solid #cccccc;\n}\n\n.fake_row > span {\n    display: inline-block;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    padding-left: 10px;\n    border-bottom: 1px solid #ddd;\n}\n\n.fake_row:nth-child(n) > span {\n    border-bottom: none;\n}\n\n.fake_row:nth-child(2n + 1) > span {\n    background-color: #f3f3f3;\n}\n\n#timelinecontainer .simple-button {\n    -webkit-user-select: none;\n    user-select: none;\n    white-space: nowrap;\n}\n\n.thumbnail a {\n    outline: none;\n    color: #fff;\n}\n\n.thumbnail a:hover {\n    text-decoration: none;\n}\n\n.thumbnail div.thumb {\n    background-size: 200px 150px;\n    background-position: no-repeat top left;\n    background-position: 0px -25px;\n    background-position-y: -80px\\9;\n    background-position-x: -100px\\9;\n    width: 200px;\n    height: 100px;\n    border: 1px solid #aaa;\n    box-shadow: 0 0 3px #ccc;\n    margin-left: 14px; /* to line up with other titles */\n    margin-bottom: 8px;\n    margin-top: 4px;\n}\n\n.thumbnail div.thumbnail_label {\n    padding: 5px 10px;\n    max-width: 180px;\n    margin: 0;\n    text-align: left;\n    margin-top: 68px;\n    background: #333;\n    background-color: rgba(30, 30, 30, 0.9);\n    color: #fff;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.thumbnail div.thumbnail_desc {\n    width: 180px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.thumbnail div.thumbnail_teaser {\n    height: 0px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: normal;\n    text-decoration: none;\n    font-size: 11px;\n}\n\n.sortable {\n    background: #eee;\n    border: 1px solid #ccc;\n    border-bottom: 1px solid #aaa;\n    padding: 13px;\n    position: relative;\n    z-index: 2;\n\n    box-shadow: 0 1px 2px #ccc;\n}\n\n.sortable > ul {\n    list-style-type: none;\n}\n\n.sortable > ul > li {\n    background-color: #fff;\n    border: 1px solid #b9b9b9;\n    border-bottom-color: #939393;\n    border-radius: 4px;\n    cursor: pointer;\n    margin-right: 4px;\n    min-width: 65px;\n    height: 65px;\n    text-align: center;\n    font-size: 1.2em;\n    float: left;\n    -webkit-user-select: none;\n    user-select: none;\n}\n\n.sortable > ul > li.placeholder {\n    background: #ddd;\n    border: 0;\n    border: 1px solid #ccc;\n    float: left;\n}\n\n.sortable code {\n    line-height: 65px;\n}\n\n.sortable > ul > li:hover {\n    border-color: #ffa500;\n    box-shadow: 0 0 4px #c56f00;\n}\n\n.sortable > ul > li:active,\n.sortable > ul > li.dragging {\n    background-color: #ffedcd;\n    opacity: 0.8;\n    filter: alpha(opacity = 80);\n}\n\n.box-whisker-sortable > .sortable {\n    background: #f8f8f8;\n    border: 0;\n    border-bottom: 0;\n    box-shadow: 0 0 0;\n    padding-right: 0;\n}\n\n.box-whisker-sortable > .sortable > ul > li {\n    width: 28px;\n    min-width: 28px;\n    height: 28px;\n    margin-right: 2px;\n    font-size: 1em;\n    border: 1px solid #ddd;\n}\n.box-whisker-sortable > .sortable code {\n    line-height: 32px;\n}\n\n#problemarea div#congruent-triangles {\n    outline-color: #999;\n    outline-style: dashed;\n    outline-width: 1px;\n}\n\n/* Video hints */\n\n.video-hint {\n    margin-bottom: 20px;\n}\n\n/* Question-based hints */\n\n.qhint {\n    border: 1px solid #aaaaaa;\n    background: #f9f9f9;\n    border-radius: 4px;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    padding: 10px;\n}\n\n.qhint-answer {\n    display: none;\n}\n\n.qhint-feedback {\n    font-weight: bold;\n    color: #6495ed;\n}\n\n.qhint-feedback.correct {\n    color: #28ae7b;\n}\n\n.qhint-feedback.incorrect {\n    color: #ce4444;\n}\n\n/*Worked example hints*/\n.example-hint {\n    margin-bottom: 15px;\n}\n\n/* Fancy matrix input - goes along with matrix-input.js */\n.matrix-input {\n    padding: 15px;\n    margin-top: 10px;\n    background-color: #eee;\n    width: 165px;\n}\n\n.solutionarea .matrix-row {\n    float: left; /* contain inner floats */\n    clear: both;\n}\n\n.solutionarea .matrix-row .sol {\n    margin: 0;\n    float: left;\n}\n\n.solutionarea .matrix-row .sol input[type="text"],\n.solutionarea .matrix-row .sol input[type="number"] {\n    width: 45px;\n    height: 30px;\n    border: none;\n    margin: 3px;\n    padding: 1px;\n}\n\n.matrix-input .matrix-bracket {\n    width: 6px;\n    position: absolute;\n    border-top: 2px solid #888;\n    border-bottom: 2px solid #888;\n    /* margin-top must have the same magnitude\n       as the border widths */\n    margin-top: -2px;\n}\n\n.matrix-input .matrix-bracket.bracket-left {\n    border-left: 2px solid #888;\n    /* margin-left for the left bracket must have\n       the same magnitude as the border widths */\n    margin-left: -2px;\n}\n\n.matrix-input .matrix-bracket.bracket-right {\n    border-right: 2px solid #888;\n}\n\n.matrix-input:after {\n    content: "";\n    display: block;\n    clear: both;\n    visibility: hidden;\n    overflow: hidden;\n    height: 0;\n}\n\ntable.periodic-table td.element {\n    border: 1px solid;\n    min-width: 37px;\n    min-height: 37px;\n    text-align: center;\n    line-height: 1.2;\n}\n\ntable.periodic-table td.element div.atomic-num {\n}\ntable.periodic-table td.element div.symbol {\n    font-weight: bold;\n}\ntable.periodic-table td.element div.weight {\n    font-size: 10px;\n}\n\n.plugging_in_values > span {\n    width: 80px;\n}\ntable.plugging_in_values_hint td {\n    padding-left: 40px;\n}\n\nspan.hover-hint {\n    color: #005987;\n    border-bottom: 1px dashed #005987;\n}\nspan.hover-hint:hover {\n    color: #678d00;\n    border-bottom: 1px dashed #678d00;\n    cursor: pointer;\n}\n\n.vis-deriv-hint-graph {\n    display: block;\n    float: left;\n    margin-right: 50px;\n}\n\n#problemarea .quarter-graph {\n    float: left;\n    margin-bottom: 45px;\n    margin-right: 45px;\n}\n\n#problemarea .estimation span {\n    width: 100px;\n}\n#problemarea .estimation span:first-child {\n    width: 50px;\n}\n\n#solutionarea table.rational-exp td {\n    text-align: center;\n    vertical-align: middle;\n    padding-left: 4px;\n    padding-right: 4px;\n}\n#solutionarea table.rational-exp td.soln-top {\n    padding-bottom: 1px;\n}\n#solutionarea table.rational-exp td.soln-bot {\n    padding-top: 1px;\n    border-top: 1px solid black;\n}\n\n#solutionarea table.rational-exp td.soln-dom {\n    padding-left: 3px;\n}\n\n#problemarea div.z-score-table > span {\n    width: 32px;\n    font-size: 11px;\n    padding: 5px;\n}\n\n#problemarea div.z-score-table > span:first-child {\n    font-weight: bold;\n    width: 22px;\n    border-right: 2px solid #cccccc;\n}\n\n#problemarea div.focus-information {\n    padding-bottom: 12px;\n    height: 70px;\n    clear: both;\n}\n\n#problemarea div.focus-information div {\n    display: block;\n}\n#problemarea div.focus-information-column-left {\n    float: left;\n    width: 30%;\n}\n#problemarea div.focus-information-column-right {\n    float: right;\n    width: 55%;\n}\n\n#problemarea .reading-tables > span {\n    text-align: center;\n    width: 65px;\n}\n#problemarea .reading-tables > span:first-child {\n    text-align: left;\n    width: 100px;\n}\n\n#problemarea .reading > span {\n    width: 32px;\n    font-size: 11px;\n    padding: 5px;\n}\n\n#problemarea .reading.fake_header > span {\n    text-align: center;\n}\n\n#problemarea .reading > span:first-child {\n    font-weight: bold;\n    width: 22px;\n    border-right: 2px solid #cccccc;\n}\n\n#problemarea .problem .graph-caption {\n    display: block;\n    margin-top: 10px;\n    margin-bottom: 30px;\n}\n\n#solutionarea .intuition-equation td {\n    text-align: right;\n    padding-left: 5px;\n}\n\n.question li span.sort-key {\n    visibility: hidden;\n    position: absolute;\n}\n\n.problem table.problem-equation td {\n    padding-left: 3px;\n    padding-right: 3px;\n    text-align: center;\n}\n.problem table.problem-equation input {\n    width: 25px;\n    margin-right: 5px;\n    vertical-align: super;\n}\n\n#coin-flip-sequence-charts {\n    height: 324px;\n    position: relative;\n    width: 496px;\n}\n\n#coin-flip-sequence-charts .graphie {\n    height: 324px;\n    width: 496px;\n    position: absolute !important;\n}\n\n#coin-flip-sequence-chart-1 {\n    left: 496px;\n}\n\n#coin-flip-sequence-chart-2 {\n    left: 992px;\n}\n\n#coin-flip-sequence-chart-3 {\n    left: 1488px;\n}\n\n.view-coin-flip-sequence-patterns {\n    margin-top: 12px;\n}\n\n.view-coin-flip-sequence-patterns span {\n    color: #ccc;\n}\n\n.view-coin-flip-sequence-patterns a {\n    margin: 0 5px;\n}\n\n.view-coin-flip-sequence-patterns a.selected {\n    font-weight: bold;\n    color: #444 !important;\n    cursor: default;\n    text-decoration: none !important;\n}\n\n.coin-flip-sequence-heads {\n    background: #a6a6a6;\n    color: #333;\n}\n\n.coin-flip-sequence-heads,\n.coin-flip-sequence-tails {\n    border-right: 1px solid #888;\n    float: left;\n    font-family: Verdana, sans-serif;\n    font-size: 14px;\n    margin-bottom: 5px;\n    padding: 0 2px;\n    text-align: center;\n    width: 16px;\n}\n\n.coin-flip-sequence-tails {\n    background: #595959;\n    color: #ccc;\n}\n\nbody.debug span.error {\n    font-weight: bold;\n    color: #fff;\n    background: #f00;\n    font-size: 1.4em;\n    padding: 0.2em;\n    text-decoration: line-through;\n}\n\n/* Work around bug added in https://khanacademy.kilnhg.com/Review/K109777 */\n.new-header .MathJax .math {\n    color: inherit;\n}\n\n.solutionarea .info-box .mini-button {\n    margin: 0px 10px 0px 0px;\n    padding: 0px 5px;\n    width: 25px;\n    height: 18px;\n}\n\n.solutionarea #number-label {\n    clear: both;\n    margin: 0px 0px;\n    padding: 14px 0px 0px 0px;\n}\n\n/* Expression/equation input (see "expression" answer type) */\n.solutionarea .expression {\n    box-sizing: border-box;\n    display: block;\n    max-width: 240px;\n    width: 100%;\n}\n\n.solutionarea .expression > .output {\n    background: #f2f2f2;\n    display: inline-block;\n    border-radius: 5px;\n    padding-top: 10px;\n    margin: 10px 0;\n    /* HACK(aria) above scratchpad so that users have somewhere to\n     * "click off of" to hide the expression dialog.\n     * Also important because it can get a silly scrollbar and we\n     * want users to be able to scroll even if the scratchpad is\n     * open. We should probably make this wider eventually. */\n    position: relative;\n    z-index: 2;\n}\n\n.solutionarea .expression > .output > .tex {\n    display: block;\n    min-height: 42px;\n    overflow-x: scroll;\n    padding: 2px 10px 16px 10px;\n}\n\n.solutionarea .expression > .input {\n    position: relative;\n    z-index: 3; /* interactive-content */\n}\n\n.solutionarea .expression > .input > input {\n    border: 1px solid #a4a4a4;\n    border-radius: 5px;\n    direction: ltr;\n    font-size: 14px;\n    margin-bottom: 5px;\n    padding: 6px;\n}\n\n.solutionarea .expression > .output,\n.solutionarea .expression > .output > .tex,\n.solutionarea .expression > .input > input {\n    box-sizing: border-box;\n    max-width: 240px;\n    width: 100%;\n}\n\n.solutionarea .expression > .input > input.error {\n    padding-right: 25px;\n}\n\n.solutionarea .expression > .input > .error-div {\n    position: absolute;\n    right: 6px;\n    top: -3px;\n}\n\n.solutionarea .expression > .input > .error-div > .error-icon {\n    color: #fcc335;\n    font-size: 20px;\n}\n\nbody:not(.mobile) ul.inequalities-one-line-radios,\nbody:not(.mobile) ul.inequalities-one-line-radios > li {\n    display: inline;\n}\n\nbody.mobile ul.inequalities-one-line-radios > li {\n    padding: 7px 0;\n}\n\n.inequalities-padding#grid {\n    margin-bottom: 2em;\n}\n\n#skip-question-button,\n#opt-out-button {\n    margin-top: 15px;\n}\n',"// Make content only visible to screen readers.\n// This keeps the element physically present on the page (i.e. focusable),\n// while visually appearing as if it were subject to `display: none`.\n// Stolen from the .sr-only class on the main Khan Academy site.\n// Both collegeboard.org and Bootstrap 3 use this exact implementation.\n// We use this as both a physical class and as a mixin.\n.perseus-sr-only {\n    border: 0;\n    clip: rect(0, 0, 0, 0);\n\n    // HACK(mdr): With a nonzero font size, our highlighting library's call to\n    //     `Range.prototype.getClientRects` will yield rectangles for the\n    //     hidden text nodes. The highlighting library should probably instead\n    //     be cleverer about detecting that the text is hidden, but, until\n    //     then, let's just make the text small so there are no extra\n    //     rectangles.\n    font-size: 0;\n\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    width: 1px;\n}\n\n// Pre-Bibliotron typography.\n// Still used in Bibliotron widget containers for backward-compatibility.\n.legacy-typography() {\n    font-size: 14px;\n    line-height: 19.6px;\n}\n\n// Cause a container to size to its floated children.\n.perseus-clearfix {\n    *zoom: 1;\n\n    &:before,\n    &:after {\n        content: \"\";\n        display: table;\n    }\n\n    &:after {\n        clear: both;\n    }\n}\n",'@import (inline) "./khan-exercise.css";\n\n//\n// Edit this file in the *perseus* repo!\n// (All changes outside the perseus repo will be overwritten)\n//\n\n@import "./variables.less";\n@import "./util.less";\n\n// Article Renderer\n@import "./articles.less";\n\n#perseus {\n    position: relative;\n}\n\n.framework-perseus.perseus-mobile {\n    margin-top: 48px;\n}\n\n// .no-select is used to prevent selection of certain widgets.\n// often, allowing selection makes for an awkward mobile experience\n// where you constantly highlight elements unintentionally.\n.no-select {\n    -webkit-user-select: none;\n    user-select: none;\n}\n\n// .blank-background is used to prevent drawing under transparent widgets.\n// drawing under transparent widgets is particularly annoying because if\n// you lift up your pen and put it down again, you can\'t continue drawing,\n// because you\'re now clicking on the widget. This is very\n// counterintuitive, so we simply don\'t let you see anything you draw under\n// a widget.\n.blank-background {\n    background-color: #fdfdfd; // Keep in sync with KhanUtil._BACKGROUND\n}\n// There is no scratchpad in the answer_area, and it has a different color\n// background, so just make it transparent\n#answer_area .blank-background {\n    background-color: transparent;\n}\n\n.above-scratchpad {\n    position: relative;\n    z-index: @zIndexAboveScratchpad;\n}\n\n// All graphie components placed above the scratchpad should have their\n// background wiped out.\n.graphie.above-scratchpad,\n.graphie-container.above-scratchpad {\n    .blank-background;\n}\n\n.perseus-mobile .graphie-container.above-scratchpad {\n    background: #ffffff;\n}\n\n// Selectable graphie components make for awkward touch experiences\n.graphie {\n    .no-select;\n}\n\n.perseus-interactive,\n.perseus-interactive.above-scratchpad {\n    position: relative;\n    z-index: @zIndexInteractiveComponent;\n}\n\n&,  // and moar specificity...\n#answercontent input[type=text],\n#answercontent input[type=number],\n.framework-perseus input[type=text],\n.framework-perseus input[type=number] {\n    &.perseus-input-size-normal {\n        border: 1px solid #ccc;\n        width: 80px;\n    }\n\n    &.perseus-input-size-small {\n        border: 1px solid #ccc;\n        width: 40px;\n    }\n\n    &.perseus-input-right-align {\n        text-align: right;\n    }\n}\n\n.framework-perseus.perseus-mobile {\n    .perseus-input-right-align .keypad-input {\n        text-align: right;\n    }\n}\n\n.framework-perseus {\n    div.paragraph {\n        font-family: "Lato", sans-serif;\n        font-weight: 400;\n        font-size: 18px;\n        line-height: 22px;\n        margin: 22px 0px;\n    }\n\n    // HACK(yejia): Override the font size and line height for blurbs\n    //\n    // TODO(TP-3315): Remove once Perseus uses Wonder Blocks BodySerif\n    .test-prep-blurb div.paragraph {\n        font-size: 16px;\n        line-height: 20px;\n    }\n\n    div.instructions {\n        display: block;\n        font-family: "Noto Serif", serif;\n        font-weight: 800;\n        font-size: 18px;\n        line-height: 22px;\n        font-style: italic;\n    }\n\n    .perseus-renderer > .paragraph > ul:not(.perseus-widget-radio),\n    .perseus-renderer > .paragraph > ol {\n        margin: -11px 0px 22px 0px; // first-level lists need padding\n    }\n\n    .paragraph ul:not(.perseus-widget-radio, .indicatorContainer) {\n        padding-left: 35px;\n        list-style-type: disc;\n    }\n\n    .paragraph ol {\n        list-style: decimal;\n        padding-left: 2em;\n    }\n\n    blockquote {\n        padding: 0 2.5em;\n    }\n\n    .zoomable {\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-touch-callout: none;\n    }\n\n    // We do not apply this styling to MathQuill elements because the\n    // styles interfere with calculation of the size of the container\n    // surrounding the math.\n    sup:not(.mq-non-leaf) {\n        font-size: smaller;\n        vertical-align: super;\n\n        // by default, vertical-align: super changes the line height of\n        // the line this text is in, which repositions surrounding text\n        // and is sad. This is especially important for the passage\n        // widget, as changes to line-height there make the line numbers\n        // incorrect. This hack fixes that, and seems to not cause problems\n        // even if there is no other text on the line (it still gets the\n        // standard line-height of what non `vertical-align: super` text\n        // would be.\n        line-height: 0;\n    }\n\n    // place on a div above the inputs\n    .range-input {\n        border: 1px solid #ccc;\n        border-radius: 5px;\n        display: inline-block;\n        padding: 0px 5px;\n\n        & > input {\n            border: 0;\n            display: inline;\n            text-align: center;\n            width: 30px;\n        }\n\n        & > span {\n            color: #999;\n            font-size: 14px;\n        }\n    }\n\n    .number-input {\n        border: 1px solid #ccc;\n        border-radius: 5px;\n        margin: 0; // override\n        padding: 5px 0; // override\n        text-align: center;\n        width: 40px;\n\n        &.invalid-input {\n            background-color: @red;\n            outline-color: red;\n        }\n\n        &.mini {\n            width: 40px;\n        }\n        &.small {\n            width: 60px;\n        }\n        &.normal {\n            width: 80px;\n        }\n    }\n\n    .math-output {\n        display: inline-block;\n        min-width: 80px;\n        min-height: 36px;\n        border-radius: 5px;\n        padding: 0;\n        margin-top: 4px;\n        margin-bottom: 4px;\n        background: white;\n        border: 1px solid #a4a4a4;\n    }\n\n    .graph-settings {\n        .graph-settings-axis-label {\n            border: 1px solid #ccc;\n            border-radius: 5px;\n            display: inline-block;\n            padding: 5px 5px;\n            width: 70px;\n            float: right;\n            margin: 0 5px;\n        }\n        .graph-settings-background-url {\n            width: 250px;\n        }\n    }\n\n    .graphie-container {\n        // TODO(alex): Is this still used?\n        position: relative;\n    }\n\n    .graph-settings,\n    .image-settings,\n    .misc-settings {\n        padding-bottom: 5px;\n    }\n\n    .misc-settings,\n    .type-settings {\n        border-top: 1px solid black;\n        padding-top: 5px;\n    }\n\n    .svg-image {\n        display: inline-block;\n    }\n\n    .unresponsive-svg-image,\n    .perseus-rendered-radio .unresponsive-svg-image {\n        display: inline-block;\n        position: relative;\n\n        > .graphie-container {\n            position: absolute;\n            top: 0;\n            left: 0;\n        }\n    }\n\n    .fixed-to-responsive {\n        position: relative;\n        width: 100%;\n\n        // The first child is different than the rest - it\'s a div\n        // with vertical padding that reserves space for the rest\n        // of the children (which are absolutely positioned and\n        // thus can\'t claim space for themselves).\n        > :not(:first-child) {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n        }\n    }\n}\n\n/* Legacy table styles. Remove when XOM is rolled out (see below for\n   updated XOM styles). */\n.framework-perseus:not(.perseus-mobile) {\n    table {\n        .legacy-typography;\n\n        th,\n        td {\n            padding: 5px 10px;\n            text-align: left;\n\n            &[align="center"] {\n                text-align: center;\n            }\n\n            &[align="right"] {\n                text-align: right;\n            }\n        }\n\n        th {\n            border-bottom: 2px solid #ccc;\n            font-weight: bold;\n            padding-bottom: 2px;\n        }\n\n        tr:nth-child(odd) {\n            // Doesn\'t work in IE8 :(\n            td {\n                background-color: @offWhite;\n            }\n        }\n    }\n\n    .perseus-titled-table {\n        display: inline-block;\n\n        // Center the table in a titled table\n        table {\n            margin-left: auto;\n            margin-right: auto;\n        }\n    }\n\n    // Center the title in a titled table\n    .perseus-table-title {\n        text-align: center;\n        font-size: larger;\n    }\n\n    table.non-markdown {\n        tr:nth-child(odd) {\n            td {\n                background-color: transparent;\n            }\n        }\n\n        th,\n        td {\n            border-width: 0;\n        }\n    }\n}\n\n/* New XOM styles for tables. */\n.framework-perseus.perseus-mobile {\n    /* There are three kinds of tables:\n       1) normal "tables" - emitted by markdown (src/perseus-markdown.jsx)\n       2) "titled tables" - emitted by markdown as well (these are just\n          tables with a title, and encased in one more element)\n       3) "table widget" - where a user is expected to enter answers in a\n          table form (src/widgets/table.jsx).\n      Moreover, there the Categorizer widget uses <table> tags, so these\n      stylings will apply there as well.  */\n    // TODO(benkomalo): be more explicit by adding className values to all\n    // widgets and stop relying on tag names when using CSS. or use aphrodite\n    // evurrwhere\n    table {\n        border-collapse: collapse;\n        margin: 0 auto;\n\n        tbody > tr {\n            border: 1px solid #e5e5e5;\n        }\n\n        th,\n        td {\n            padding: 16px;\n            text-align: left;\n\n            &[align="center"] {\n                text-align: center;\n            }\n\n            &[align="right"] {\n                text-align: right;\n            }\n        }\n\n        td {\n            background: #fff;\n        }\n\n        th {\n            font-weight: bold;\n        }\n    }\n\n    @media (max-width: @pure-sm-max) {\n        table {\n            // Make tables "full-bleed" on phones.\n            width: 100%;\n            min-width: 480px;\n\n            tbody > tr {\n                border-left: 0;\n                border-right: 0;\n            }\n        }\n    }\n\n    .perseus-titled-table {\n        display: inline-block;\n    }\n\n    // Center the title in a titled table\n    .perseus-table-title {\n        text-align: center;\n        font-size: larger;\n    }\n\n    table.non-markdown {\n        // No customizations for table widgets for now.\n    }\n}\n\n/* Widget CSS */\n\n.perseus-graph-padding {\n    box-sizing: content-box;\n    padding: 25px 25px 0 0;\n}\n\n@import "./widgets/categorizer.less";\n@import "./widgets/dropdown.less";\n@import "./widgets/expression.less";\n@import "./widgets/grapher.less";\n@import "./widgets/graded-group.less";\n@import "./widgets/group.less";\n@import "./widgets/image.less";\n@import "./widgets/interactive-graph.less";\n@import "./widgets/label-image.less";\n@import "./widgets/matcher.less";\n@import "./widgets/matrix.less";\n@import "./widgets/measurer.less";\n@import "./widgets/orderer.less";\n@import "./widgets/passage.less";\n@import "./widgets/plotter.less";\n@import "./widgets/radio.less";\n@import "./widgets/reaction-diagram.less";\n@import "./widgets/sequence.less";\n@import "./widgets/sortable.less";\n@import "./widgets/table.less";\n@import "./widgets/unit.less";\n\n.perseus-widget-container {\n    &.widget-nohighlight {\n        transition: all 0.15s;\n    }\n\n    &.widget-highlight {\n        @highlight: 0px 0px 0px 2px rgba(255, 165, 0, 1);\n        box-shadow: @highlight;\n        transition: all 0.15s;\n    }\n\n    &.widget-inline {\n        display: inline;\n    }\n\n    &.widget-inline-block {\n        display: inline-block;\n    }\n}\n\n// Hide new hints styling everywhere except Bibliotron. Note that the Bibliotron\n// styles are used both in webapp and in the mobile native apps.\n.bibliotron-exercise .perseus-hint-renderer {\n    border-left: 4px solid #f6f7f7;\n    padding-left: 16px;\n    position: relative;\n    &:focus {\n        border-left-color: #d6d8da;\n        outline: none;\n    }\n    &:before,\n    &:after {\n        content: "";\n        display: table;\n        clear: both;\n    }\n    // NOTE(charlie): In XOM, these margins get overridden with the paragraph\n    // defaults. Instead, we apply similar margins through inline styles in\n    // `hints-renderer.jsx`.\n    div.paragraph {\n        margin-top: 0px;\n        margin-bottom: 16px;\n    }\n    &.last-hint {\n        margin-bottom: 32px;\n    }\n}\n\n@media (max-width: @pure-sm-max) {\n    .bibliotron-exercise .perseus-hint-renderer {\n        &.last-hint {\n            margin-bottom: 0;\n        }\n    }\n}\n\n@default3: #00457c;\n@science3: #9e034e;\n@math3: #007d96;\n@economics3: #a75a05;\n@partner3: #208170;\n@humanities3: #be2612;\n@testPrep3: #543b78;\n@cs3: #0d923f;\n.perseus-hint-label {\n    color: @default3;\n    display: none;\n    font-weight: 600;\n    margin-right: 13px;\n    position: absolute;\n    right: 100%;\n    white-space: nowrap;\n}\n.perseus-domain-science .perseus-hint-label {\n    color: @science3;\n}\n.perseus-domain-math .perseus-hint-label {\n    color: @math3;\n}\n.perseus-domain-economics .perseus-hint-label {\n    color: @economics3;\n}\n.perseus-domain-partner .perseus-hint-label {\n    color: @partner3;\n}\n.perseus-domain-humanities .perseus-hint-label {\n    color: @humanities3;\n}\n.perseus-domain-test-prep .perseus-hint-label {\n    color: @testPrep3;\n}\n.perseus-domain-cs .perseus-hint-label {\n    color: @cs3;\n}\n.bibliotron-exercise .perseus-hint-renderer.last-rendered .perseus-hint-label {\n    display: block;\n}\n\n@media (max-width: @pure-sm-max) {\n    .bibliotron-exercise\n        .perseus-hint-renderer.last-rendered\n        .perseus-hint-label {\n        display: none;\n    }\n}\n\n// TODO(joel) - remove?\n.perseus-tooltip {\n    background: #fff;\n    padding: 5px 10px;\n    width: 240px;\n}\n\n// CSS is evil; let\'s overwrite some styles. T_T\n.perseus-formats-tooltip {\n    .perseus-tooltip;\n    color: #777;\n}\n.framework-perseus .perseus-formats-tooltip .paragraph > ul {\n    padding: 0;\n    margin: -20px 0 -16px 0;\n    > li {\n        list-style-type: none;\n    }\n}\n\n.box-shadow(@shadow: 0 1px 3px rgba(0,0,0,0.25)) {\n    box-shadow: @shadow;\n}\n\n.perseus-math-input.mq-editable-field.mq-math-mode {\n    background-color: transparent;\n\n    // If the font-size is too small, super/subscripts become hard to input\n    font-size: 18px;\n\n    // Make the click target easier to hit\n    min-width: 100px;\n\n    border: unset;\n\n    &.mq-focused {\n        box-shadow: unset;\n    }\n\n    & > .mq-root-block {\n        // A bit of extra whitespace here greatly improves legibility\n        padding: 4px;\n    }\n\n    // Fixes for strange default MathQuill styles:\n\n    // Cursor shouldn\'t actually be touching left border\n    .mq-cursor {\n        padding-left: 0;\n    }\n\n    // Don\'t gray out implicitly created closing parens\n    .mq-paren.mq-ghost {\n        color: inherit;\n    }\n\n    // Don\'t put vertical margins on an expression wrapped in parens\n    // because it messes up baseline alignment, e.g. h(x)\n    .mq-paren + span {\n        margin: 0;\n    }\n\n    .mq-binary-operator {\n        // MathQuill uses Symbola to render binary operators.  Unfortunately,\n        // Firefox 47 on Windows doesn\'t render the +/- signs correctly when\n        // using Symbola so we override it and use KaTeX_Main instead.\n        font-family: KaTeX_Main !important;\n    }\n\n    sup {\n        // This is set to 0 across Perseus normally, but we need to override it\n        // here so nth-roots are rendered correctly.\n        line-height: normal;\n    }\n}\n\n// override normal 5px border radius for the editor only\n.perseus-widget-editor\n    .perseus-math-input.mq-editable-field.mq-math-mode\n    > .mq-root-block {\n    border-radius: 0;\n}\n\n// This style looks a little off in the expression editor. Luckily users don\'t\n// use the expression editor.\n.math-input-buttons {\n    background-color: rgba(255, 255, 255, 0.7);\n    border-radius: 5px;\n    border: 1px solid #ddd;\n    box-sizing: border-box;\n    margin-top: 5px;\n    padding: 2px;\n    // each button is 35 + 4 px, plus 4 padding, plus 2 border\n    width: 39px * 5 + 4px + 2px; // (201)\n\n    &.absolute {\n        left: -2px;\n        position: absolute;\n        top: -3px;\n        z-index: @zIndexCalculator;\n    }\n}\n\n// Math domain color\n@borderColor: #1c758a;\n\n.tex-button {\n    display: block;\n    float: left;\n    width: 35px;\n    height: 35px;\n    margin: 2px;\n    border: 1px solid @borderColor;\n    background-color: white;\n    border-radius: 5px;\n\n    &:hover {\n        cursor: pointer;\n        background-color: #f0f0f0;\n    }\n\n    &:focus {\n        border: 2px solid @borderColor;\n        outline: none;\n    }\n}\n\n.tex-button-row {\n    margin: 5px 0;\n\n    &:first-child {\n        margin-top: 0;\n    }\n\n    &:last-child {\n        margin-bottom: 0;\n    }\n}\n\n.renderer-widget-error {\n    background-color: #fcc;\n}\n\n@satTopSpacingForTwoColumnLayout: 48px;\n@satTwoColumnLayoutSideMargin: 32px;\n\n.perseus-error {\n    background: @red;\n    border: 2px solid red;\n    border-radius: 5px;\n    padding: 20px;\n    margin: 15px 0 10px;\n}\n\n@media (max-width: @pure-sm-max) {\n    .perseus-renderer-responsive {\n        margin: 0 @phoneMargin;\n\n        // Horizontal margins should only be applied to top-level Renderers.\n        .perseus-renderer-responsive {\n            margin: 0;\n        }\n    }\n}\n\n.perseus-mobile {\n    @media (max-width: 767px) {\n        .perseus-block-math {\n            font-size: 18px;\n        }\n    }\n}\n\n@import "../../../math-input/less/main.less";\n','@import "./variables.shared.less";\n@import "./variables.less";\n@import "./util.less";\n\n// Common styles for _all_ of Perseus\n.framework-perseus {\n    code {\n        font-family: Courier, monospace;\n    }\n\n    pre {\n        background-color: @gray95;\n        border-radius: 4px;\n        color: @gray17;\n        font-size: 18px;\n        padding: 16px;\n        white-space: pre;\n        overflow: auto;\n    }\n}\n\n// Desktop Articles\n.framework-perseus.perseus-article:not(.perseus-mobile) {\n    @textColor: #21242c;\n    .body-text() {\n        color: @textColor;\n        font-size: 20px;\n        line-height: 30px;\n    }\n\n    @paragraphSpacing: 32px;\n    .perseus-widget-container {\n        // HACK(matthewc): to get around this fixed font-size\n        // since we want the definition widget to match\n        // surrounding text\n        &:not(.perseus-widget__definition) {\n            .legacy-typography;\n        }\n\n        &.widget-float-left,\n        &.widget-float-right {\n            max-width: 50%;\n            padding-top: @paragraphSpacing;\n            width: 100%;\n            .perseus-image-caption .paragraph .paragraph {\n                margin-bottom: 0;\n            }\n        }\n\n        &.widget-float-left {\n            float: left;\n            padding-right: @paragraphSpacing;\n        }\n\n        &.widget-float-right {\n            float: right;\n            padding-left: @paragraphSpacing;\n        }\n    }\n\n    .perseus-renderer > .paragraph {\n        .body-text;\n        margin: 0 auto;\n        max-width: @articleMaxWidth;\n\n        .paragraph {\n            // These are actual paragraphs\n            .body-text;\n            margin-bottom: @paragraphSpacing;\n            margin-top: 0;\n        }\n\n        // Inline math should have the same font-size as the surrounding text.\n        // There is no wrapping element around .katex to indicate that it is\n        // inline, so we rely on the "actual paragraph" check above\n        // (a .paragraph that contains another .paragraph instead of a\n        // .perseus-block-math).\n        .katex,\n        mjx-container {\n            font-size: 100%;\n        }\n\n        ul:not(.perseus-widget-radio) {\n            .body-text;\n        }\n    }\n\n    table {\n        .body-text;\n        margin-bottom: @paragraphSpacing;\n    }\n\n    h2 {\n        font-family: inherit;\n        font-size: 30px;\n        font-weight: 700;\n        line-height: 1.1;\n        margin-bottom: 16px;\n        margin-top: 48px;\n    }\n\n    h3 {\n        font-family: inherit;\n        font-size: 26px;\n        font-weight: 700;\n        line-height: 1.1;\n        margin-bottom: 16px;\n        margin-top: 32px;\n    }\n\n    h4,\n    h5,\n    h6 {\n        font-family: inherit;\n        font-size: 22px;\n        font-weight: 700;\n        line-height: 25px;\n        margin-bottom: 16px;\n        margin-top: 32px;\n    }\n\n    blockquote {\n        padding: 0 32px;\n    }\n\n    .MathJax .math {\n        color: inherit;\n    }\n\n    .perseus-image-caption .perseus-renderer .paragraph .paragraph,\n    .perseus-image-caption .perseus-renderer .paragraph ol,\n    .perseus-image-caption .perseus-renderer .paragraph ul {\n        color: @offBlack64;\n        font-size: 14px;\n        line-height: 19px;\n        margin: 16px auto 42px;\n        text-align: left;\n    }\n\n    .paragraph.perseus-paragraph-full-width {\n        margin-bottom: @paragraphSpacing;\n        margin-left: 0;\n        margin-right: 0;\n        max-width: none;\n\n        > .paragraph {\n            margin: 0;\n            max-width: none;\n        }\n    }\n\n    // Some images use an image widget, but some are just inlined in the\n    // paragraph. Inlined images need legacy typography, too.\n    .unresponsive-svg-image,\n    .svg-image {\n        .legacy-typography;\n    }\n    .perseus-block-math {\n        margin-bottom: @paragraphSpacing;\n        position: relative;\n\n        &:before {\n            bottom: 0;\n            content: "";\n            position: absolute;\n            right: 0;\n            top: 0;\n            width: 30px;\n        }\n    }\n    .perseus-block-math-inner {\n        overflow-x: auto;\n        padding-bottom: 8px;\n        padding-right: 20px;\n        padding-top: 8px;\n    }\n\n    // If the article starts with a heading, remove its unnecessary top margin.\n    > .clearfix:first-child {\n        > .perseus-renderer:first-child > .paragraph:first-child {\n            h1,\n            h2,\n            h3,\n            h4,\n            h5,\n            h6 {\n                &:first-child {\n                    margin-top: 0;\n                }\n            }\n        }\n    }\n\n    .perseus-renderer > .paragraph .perseus-formats-tooltip {\n        padding: 8px 12px;\n\n        .paragraph {\n            margin-bottom: 0;\n\n            // We don\'t _expect_ a radio in a tooltip.\n            // We just need the specificity in order to override body text.\n            ul:not(.perseus-widget-radio) {\n                font-size: 15px;\n                line-height: 1.5;\n                margin: 0;\n            }\n        }\n    }\n\n    pre {\n        margin: 0 -16px 32px -16px;\n    }\n}\n\n// Desktop Exercises\n.framework-perseus:not(.perseus-article):not(.perseus-mobile) {\n    // Mixins\n    .text(@fontSize; @lineHeight; @color) {\n        font-family: inherit;\n        font-size: @fontSize;\n        line-height: @lineHeight;\n        color: @color;\n    }\n\n    // TODO(charlie): Pure defines XL as 1280px. However, Bibliotron and our new\n    // article styles define XL as 1200px. Replace this once we\'ve migrated\n    // everything over to 1200px.\n    @desktop-width-min: 1200px;\n    @tablet-width-max: (@desktop-width-min - 1);\n\n    .choice-text(@choiceTextSize, @choiceLineHeight) {\n        .perseus-radio-option-content .perseus-renderer > .paragraph {\n            .text(@choiceTextSize, @choiceLineHeight, @gray17);\n\n            .paragraph {\n                .text(@choiceTextSize, @choiceLineHeight, @gray17);\n            }\n        }\n\n        .perseus-radio-rationale-content .perseus-renderer > .paragraph {\n            .text(@choiceTextSize, @choiceLineHeight, @gray17);\n\n            .paragraph {\n                .text(@choiceTextSize, @choiceLineHeight, @gray17);\n\n                .katex,\n                mjx-container {\n                    color: @gray17;\n                }\n            }\n        }\n    }\n\n    // TODO(emily): Distinguish between the different screen widths here.\n    .choice-text(14px, 1.25);\n}\n\n// Mobile Articles and Exercises\n.framework-perseus.perseus-mobile {\n    .perseus-article {\n        .perseus-widget-container {\n            &.widget-float-left {\n                float: left;\n                padding-right: 1em;\n                max-width: 50%;\n                width: 100%;\n            }\n\n            &.widget-float-right {\n                float: right;\n                padding-left: 1em;\n                max-width: 50%;\n                width: 100%;\n            }\n        }\n\n        .perseus-renderer > .paragraph {\n            margin-left: auto;\n            margin-right: auto;\n            max-width: 700px;\n        }\n\n        .paragraph.perseus-paragraph-full-width {\n            margin-left: 0;\n            margin-right: 0;\n            max-width: none;\n\n            > .paragraph {\n                margin: 0;\n                max-width: none;\n            }\n        }\n    }\n\n    @baseUnit: 16px;\n\n    // TODO(charlie): Pure defines XL as 1280px. However, Bibliotron and our new\n    // article styles define XL as 1200px. Replace this once we\'ve migrated\n    // everything over to 1200px.\n    @desktop-width-min: 1200px;\n    @tablet-width-max: (@desktop-width-min - 1);\n\n    // Mixins\n    .text(@fontSize; @lineHeight; @color) {\n        font-family: inherit;\n        font-size: @fontSize;\n        line-height: @lineHeight;\n        color: @color;\n    }\n\n    .header(@fontSize; @lineHeight; @color; @paddingTopMultiplier) {\n        font-weight: 700;\n        padding-top: @baseUnit * @paddingTopMultiplier;\n\n        .text(@fontSize, @lineHeight, @color);\n    }\n\n    // Sets the *content-width* of the paragraph to be a maximum value.\n    // NOTE(benkomalo): the margin is typically added outside of Perseus itself\n    // and is not accounted for in this value.\n    .max-paragraph-width(@maxWidth) {\n        .perseus-renderer > .paragraph {\n            max-width: @maxWidth;\n        }\n    }\n\n    .title(@fontSize; @lineHeight; @paddingTopMultiplier) {\n        h1 {\n            .header(@fontSize, @lineHeight, @gray17, @paddingTopMultiplier);\n        }\n    }\n\n    .heading(@fontSize; @lineHeight; @paddingTopMultiplier) {\n        h2 {\n            .header(@fontSize, @lineHeight, @gray25, @paddingTopMultiplier);\n        }\n    }\n\n    .sub-heading(@fontSize, @lineHeight, @paddingTopMultiplier) {\n        // NOTE(charlie): Though we discourage the use of H4 and beyond, as of\n        // 06/08/2016, there are 188 articles and exercises that use H4 (and\n        // just 8 that use H5 or H6). As such, we provide style support for H4,\n        // since it\'s still quite common--but we just replicate the H3 style.\n        h3,\n        h4 {\n            .header(@fontSize, @lineHeight, @gray41, @paddingTopMultiplier);\n        }\n    }\n\n    .body-text(@bodyTextSize; @bodyTextLineHeight) {\n        .default-body-text {\n            .text(@bodyTextSize, @bodyTextLineHeight, @gray41);\n        }\n\n        .perseus-renderer > .paragraph {\n            .default-body-text;\n        }\n\n        .perseus-renderer > .paragraph .paragraph {\n            .default-body-text;\n        }\n\n        .perseus-renderer > .paragraph ul:not(.perseus-widget-radio) {\n            .default-body-text;\n        }\n\n        .perseus-renderer > .paragraph ol {\n            .default-body-text;\n        }\n\n        blockquote {\n            .default-body-text;\n            color: @gray68;\n        }\n\n        table {\n            .default-body-text;\n        }\n    }\n\n    .choice-text(@choiceTextSize, @choiceLineHeight) {\n        .perseus-radio-option-content .perseus-renderer > .paragraph {\n            .text(@choiceTextSize, @choiceLineHeight, @gray17);\n\n            .paragraph {\n                .text(@choiceTextSize, @choiceLineHeight, @gray17);\n            }\n        }\n\n        .perseus-radio-rationale-content .perseus-renderer > .paragraph {\n            .text(@choiceTextSize, @choiceLineHeight, @gray17);\n\n            .paragraph {\n                .text(@choiceTextSize, @choiceLineHeight, @gray17);\n\n                .katex,\n                mjx-container {\n                    color: @gray17;\n                }\n            }\n        }\n    }\n\n    .image-caption(@smallTextSize; @smallTextLineHeight) {\n        .perseus-image-caption .paragraph .paragraph {\n            color: @gray68;\n            font-size: @smallTextSize;\n            line-height: @smallTextLineHeight;\n            text-align: left;\n        }\n\n        // If the first element in the caption is the title (which will be\n        // bold), darken that. Yes, this is hacky, and would ideally be done in\n        // JS or inline styles.\n        .perseus-image-caption.has-title .paragraph .paragraph {\n            strong:first-child {\n                color: @gray25;\n            }\n        }\n    }\n\n    .math(@blockMathTextSize; @blockMathLineHeight;\n          @inlineMathTextSize; @inlineMathLineHeight) {\n        .katex,\n        mjx-container {\n            font-size: @inlineMathTextSize;\n            line-height: @inlineMathLineHeight;\n            color: @gray17;\n        }\n\n        .perseus-block-math .katex,\n        .perseus-block-math mjx-container {\n            font-size: @blockMathTextSize;\n            line-height: @blockMathLineHeight;\n        }\n\n        // HACK(charlie): I am ashamed. This seems to be the only way to revert\n        // KaTeX rendered as Graphie labels to the KaTeX defaults, taken from:\n        // https://github.com/Khan/KaTeX/blob/965b8a6164ee54212bf382108f256c6920eb7a70/static/katex.less#L18.\n        // It\'s dangerous to resize labels, since they\'re deliberately\n        // positioned relative to their background images.\n        .graphie-label .katex,\n        .graphie-label mjx-container {\n            font-size: 1.21em;\n            line-height: 1.2;\n        }\n    }\n\n    .code(@codeTextSize; @codeTextLineHeight;\n          @codeBlockHorizontalMarginMultiplier) {\n        code {\n            font-family: Courier, monospace;\n        }\n\n        pre {\n            background-color: @gray95;\n            border-radius: 4px;\n            color: @gray17;\n            font-size: @codeTextSize;\n            line-height: @codeTextLineHeight;\n            padding: @baseUnit;\n            white-space: pre;\n            overflow: auto;\n        }\n    }\n\n    .blockquote(@blockQuoteBorderWidth; @blockQuotePadding) {\n        blockquote {\n            padding: 0 0 0 @blockQuotePadding;\n            // TODO(charlie): This needs to have rounded corners, which is\n            // impossible to do without drawing a custom element.\n            border-left: @blockQuoteBorderWidth solid #d8d8d8;\n        }\n    }\n\n    // Shared styles\n\n    // Wipe out any margins set by legacy styles (e.g., in `perseus-renderer.less`),\n    // unless paragraph is inside a blockquote.\n    :not(blockquote) > div.paragraph {\n        margin: 0;\n    }\n\n    // NOTE(charlie): The basic outline of rendered Perseus content consists of\n    // a .perseus-renderer, followed by a series of .paragraph elements. Each\n    // .paragraph in turn contains a single .paragraph element that itself\n    // contains either raw text or a widget. We apply paragraph break styling to\n    // those first .paragraph children.\n    .perseus-renderer > .paragraph {\n        margin: 0 auto;\n    }\n\n    .perseus-renderer > .paragraph:not(:first-child) {\n        margin-top: 2 * @baseUnit;\n    }\n\n    .perseus-renderer > .paragraph > .paragraph {\n        margin: 0;\n    }\n\n    // For articles: each section is wrapped in a div.clearfix\n    .clearfix > .perseus-renderer {\n        margin-bottom: 2 * @baseUnit;\n    }\n\n    .perseus-renderer\n        > .paragraph\n        ul:not(.perseus-widget-radio, .indicatorContainer) {\n        margin: 0 0 0 1em;\n        padding: 0;\n\n        > li {\n            // NOTE(charlie): This relies on the bullet at 1em being exactly\n            // 22px wide (making for 32px, or 2 * @baseUnit of padding in\n            // total). This could lead to inconsistencies across browsers.\n            padding-left: 10px;\n            margin-bottom: 1.5 * @baseUnit;\n        }\n    }\n\n    .perseus-renderer > .paragraph ol {\n        margin: 0;\n        padding-left: 2 * @baseUnit;\n\n        > li {\n            list-style-type: decimal;\n            margin-bottom: 1.5 * @baseUnit;\n        }\n    }\n\n    // Support for nested lists\n    .perseus-renderer > .paragraph ol,\n    .perseus-renderer > .paragraph ul:not(.perseus-widget-radio) {\n        ol,\n        ul:not(.perseus-widget-radio) {\n            padding-top: 1.5 * @baseUnit;\n        }\n    }\n\n    // Disable the Safari tap highlight for block math, which is now tappable\n    // via the tap-to-zoom functionality.\n    .perseus-block-math {\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        -webkit-touch-callout: none;\n    }\n\n    // TODO(benkomalo): these max-width values are referenced in\n    // src/util/sizing-utils.js - if they\'re changed, change them there.\n\n    // Phone styles\n    @media (max-width: @pure-sm-max) {\n        .max-paragraph-width(none);\n\n        .title(24px, 1.2, 0);\n        .heading(24px, 1.2, 1);\n        .sub-heading(22px, 1.1, 0);\n\n        .body-text(18px, 1.4);\n        .choice-text(16px, 1.25);\n        // NOTE(charlie): The values used in this responsive caption sizing\n        // should be kept in sync with the instructions text sizing in\n        // base-radio.jsx.\n        .image-caption(14px, 1.3);\n\n        .math(21px, 1.5, 21px, 1.2);\n        .code(18px, 1.6, -1);\n        .blockquote(4px, 18px);\n    }\n\n    // Tablet styles\n    @media (min-width: @pure-md-min) and (max-width: @tablet-width-max) {\n        .max-paragraph-width(@articleMaxWidthTablet);\n\n        .title(30px, 1.1, 0);\n        .heading(30px, 1.1, 2);\n        .sub-heading(28px, 1.1, 1);\n\n        .body-text(20px, 1.5);\n        .choice-text(18px, 1.25);\n        .image-caption(17px, 1.4);\n\n        .math(30px, 1.3, 23px, 1.3);\n        .code(18px, 1.6, -1);\n        .blockquote(4px, 20px);\n    }\n\n    // Desktop styles\n    @media (min-width: @desktop-width-min) {\n        .max-paragraph-width(@articleMaxWidth);\n\n        .title(35px, 1.1, 0);\n        .heading(35px, 1.1, 2);\n        .sub-heading(30px, 1.1, 1);\n\n        .body-text(22px, 1.4);\n        .choice-text(20px, 1.25);\n        .image-caption(20px, 1.4);\n\n        .math(30px, 1.3, 25px, 1.2);\n        .code(18px, 1.6, -1);\n        .blockquote(5px, 20px);\n    }\n\n    // TODO(charlie): These are the existing Bibliotron article styles, less\n    // anything that should be overridden by the new X-on-Mobile designs. Verify\n    // that we still want these.\n    @paragraphSpacing: 32px;\n    .perseus-widget-container {\n        .legacy-typography;\n\n        &.widget-float-left,\n        &.widget-float-right {\n            max-width: 50%;\n            padding-top: @paragraphSpacing;\n            width: 100%;\n            .perseus-image-caption .paragraph .paragraph {\n                margin-bottom: 0;\n            }\n        }\n\n        &.widget-float-left {\n            float: left;\n            padding-right: @paragraphSpacing;\n        }\n\n        &.widget-float-right {\n            float: right;\n            padding-left: @paragraphSpacing;\n        }\n    }\n\n    .MathJax .math {\n        color: inherit;\n    }\n\n    .perseus-image-widget {\n        text-align: center;\n    }\n\n    .perseus-block-math {\n        padding-top: @baseUnit;\n        padding-bottom: @baseUnit;\n    }\n\n    .paragraph.perseus-paragraph-full-width {\n        margin-left: 0;\n        margin-right: 0;\n        max-width: none;\n\n        > .paragraph {\n            margin: 0;\n            max-width: none;\n        }\n    }\n\n    // Some images use an image widget, but some are just inlined in the\n    // paragraph. Inlined images need legacy typography, too.\n    .unresponsive-svg-image,\n    .svg-image {\n        .legacy-typography;\n    }\n\n    .perseus-renderer > .paragraph .perseus-formats-tooltip {\n        padding: 8px 12px;\n\n        .paragraph {\n            margin-bottom: 0;\n\n            // We don\'t _expect_ a radio in a tooltip.\n            // We just need the specificity in order to override body text.\n            ul:not(.perseus-widget-radio) {\n                font-size: 15px;\n                line-height: 1.5;\n                margin: 0;\n            }\n        }\n    }\n}\n\n/* Derived from the MIT-licensed zoom.js:\n   https://github.com/fat/zoom.js/blob/fd4f3e43153da7596da0bade198e99f98b47791e/\n*/\n\n@zoomOverlayZIndex: 9000;\n@zoomAnimationDurationMs: 300ms;\n\n.zoomable {\n    cursor: pointer;\n    cursor: -webkit-zoom-in;\n    cursor: -moz-zoom-in;\n}\n\n.zoom-img {\n    // NOTE(charlie): We set the zoomed image\'s background color to white so\n    // that any images with transparent backgrounds (like SVGs and some PNGs)\n    // remain legible over the article content, as our backdrop is opaque.\n    background-color: white;\n    position: absolute;\n    z-index: @zoomOverlayZIndex + 1;\n}\n\nimg.zoom-img {\n    cursor: pointer;\n    cursor: -webkit-zoom-out;\n    cursor: -moz-zoom-out;\n}\n\n.zoom-transition {\n    transition: transform @zoomAnimationDurationMs ease;\n}\n\n.zoom-overlay {\n    z-index: @zoomOverlayZIndex;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow: scroll;\n}\n\n.zoom-overlay-open,\n.zoom-overlay-transitioning {\n    cursor: default;\n}\n\n// Disable vertical scrolling on the page when image is opened in modal.\n.zoom-overlay-open {\n    height: 100%;\n    max-height: 100%;\n    overflow: hidden;\n}\n\n// Render an opaque backdrop upon zoom.\n.zoom-backdrop {\n    z-index: @zoomOverlayZIndex - 1;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: white;\n    opacity: 0;\n    transition: opacity @zoomAnimationDurationMs;\n}\n\n.zoom-overlay-open > .zoom-backdrop {\n    opacity: 0.9;\n}\n','.categorizer-container {\n    margin-top: 20px;\n\n    div.paragraph {\n        margin: 10px 0px;\n    }\n\n    .category {\n        text-align: center;\n    }\n\n    table {\n        min-width: 0;\n    }\n\n    label {\n        .above-scratchpad;\n    }\n}\n\n// TODO(benkomalo): ughhh. kill or move this out of here :(\n// Styles specifically for the mobile native apps\nbody.mobile {\n    .categorizer-container {\n        td.category {\n            input[type="radio"] {\n                &:checked + span:before {\n                    color: @blue;\n                }\n\n                & + span:active:before {\n                    color: #666;\n                    content: "\\f111"; // fa-circle\n                }\n            }\n        }\n    }\n}\n',".perseus-widget-dropdown {\n    position: relative;\n}\n",".perseus-widget-expression {\n    & > span,\n    .error-tooltip {\n        display: inline-block;\n        vertical-align: middle;\n    }\n\n    position: relative;\n\n    .error-tooltip {\n        position: absolute;\n        right: 6px;\n        top: -2px;\n    }\n\n    .error-icon {\n        color: #fcc335;\n        cursor: pointer;\n        font-size: 20px;\n        .perseus-interactive;\n    }\n\n    .error-text {\n        background-color: #fff;\n        padding: 5px;\n        width: 210px;\n    }\n\n    .perseus-formats-tooltip {\n        width: 190px;\n    }\n}\n\n#answer_area .perseus-widget-expression {\n    // Super hacky overrides to make the error tooltip fit into the answer area\n    // by putting it on top of the MathQuill input.\n\n    // TODO(alex): Implement arrows coming from the middle of the tooltip side,\n    // then use some of those here; e.g. align to left middle\n\n    .perseus-math-input.mq-editable-field.mq-math-mode {\n        // Make the input wider so that error message never scrolls left\n        min-width: 130px;\n    }\n\n    .error-tooltip {\n        .error-text-container {\n            // Move the tooltip to the left of the error icon\n            left: -125px !important;\n            top: -17px !important;\n        }\n\n        .error-text {\n            // Make the error message much smaller\n            font-size: 12px;\n            width: 90px;\n        }\n\n        .tooltipContainer > div:first-child {\n            // Hide the little triangle \"arrow\" created by the tooltip\n            // (If it weren't in a corner, we wouldn't have to hide it)\n            visibility: hidden !important;\n        }\n    }\n}\n",".perseus-widget-grapher {\n    .perseus-graph-padding;\n\n    > .graphie-container {\n        position: relative;\n\n        > img,\n        .svg-image {\n            position: absolute;\n        }\n    }\n}\n",'.framework-perseus {\n    .perseus-graded-group {\n        position: relative;\n\n        // We don\'t want group text to be centered, so we\n        // set the group width to 100% so that a centered\n        // group is the same as an uncentered group, and\n        // its text still ends up all on the left.\n        width: 100%;\n\n        margin-left: 3px;\n        padding-left: 5px;\n\n        // The border colors are darkened by 10% for the checkmark / x icons\n        // in graded-group.jsx\n        &.answer-correct {\n            border-left: 3px solid @green;\n            margin-left: 0;\n        }\n\n        &.answer-incorrect {\n            border-left: 3px solid darken(@red, 10%);\n            margin-left: 0;\n        }\n\n        .group-icon {\n            font-size: 14px;\n            position: absolute;\n            top: 50%;\n            top: ~"calc(50% - 7px)";\n            left: -30px;\n            text-align: center;\n            width: 16px;\n        }\n    }\n}\n','.framework-perseus {\n    .perseus-group {\n        position: relative;\n\n        // We don\'t want group text to be centered, so we\n        // set the group width to 100% so that a centered\n        // group is the same as an uncentered group, and\n        // its text still ends up all on the left.\n        width: 100%;\n\n        .group-icon {\n            font-size: 14px;\n            position: absolute;\n            top: 50%;\n            top: ~"calc(50% - 7px)";\n            margin-left: -20px;\n        }\n    }\n}\n','.perseus-image-widget {\n    .perseus-image-title {\n        text-align: center;\n    }\n\n    .perseus-image-caption {\n        color: rgba(33, 36, 44, 0.7);\n        padding-left: 16px;\n        position: relative;\n\n        &::before {\n            content: "";\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            margin-left: 4px;\n            width: 1px;\n            background-color: rgba(33, 36, 44, 0.5);\n\n            border: 1px solid rgba(33, 36, 44, 0.5);\n            border-radius: 2px;\n        }\n        .paragraph {\n            font-size: 14px;\n            padding-right: 12px;\n        }\n    }\n}\n\n.perseus-image-editor {\n    .label-settings {\n        td {\n            padding: 5px 4px;\n            text-align: center;\n        }\n\n        tr:nth-child(odd) {\n            td {\n                background-color: transparent;\n            }\n        }\n\n        th,\n        td {\n            border-width: 0;\n        }\n    }\n\n    .image-settings,\n    .graph-settings {\n        margin-top: 5px;\n    }\n}\n','.perseus-widget-interactive-graph {\n    .perseus-graph-padding;\n\n    > .graphie-container {\n        position: relative;\n\n        > img,\n        > .unresponsive-svg-image {\n            position: absolute;\n            // Preserves background image alignment (if image is a graph,\n            // it can extend up and to the right to allow for axis labels)\n            bottom: 0;\n            left: 0;\n        }\n    }\n}\n\n.perseus-mobile {\n    .tooltip.visible {\n        z-index: 2;\n    }\n\n    .tooltip.visible .tooltip-content:before {\n        border: solid;\n        border-color: white transparent;\n        border-width: 10px 10px 0 10px;\n        bottom: -10px;\n        content: "";\n        left: 50%;\n        transform: translateX(-50%);\n        position: absolute;\n        z-index: 2;\n    }\n\n    .tooltip .tooltip-content {\n        display: none;\n    }\n\n    .tooltip.visible .tooltip-content {\n        display: inline-block;\n        background-color: #ffffff;\n        border-radius: 5px;\n        bottom: 50px;\n\n        .katex,\n        mjx-container {\n            color: @kaGreen !important;\n        }\n\n        left: 50%;\n        transform: translateX(-50%);\n        padding: 5px;\n        position: absolute;\n        white-space: nowrap;\n\n        min-width: 30px;\n        text-align: center;\n    }\n\n    .graphie-label .katex,\n    .graphie-label mjx-container {\n        color: inherit !important;\n    }\n}\n','.framework-perseus {\n    .perseus-label-image-widget-instructions {\n        // Reset desktop & mobile text content.\n        div.paragraph {\n            margin: 0;\n        }\n    }\n}\n\n// Reset mobile text content for answer pills.\n@media (max-width: 767px) {\n    [id*="perseus-label-image-widget-answer-pill"] {\n        > div.perseus-renderer-responsive {\n            all: revert;\n        }\n    }\n    .framework-perseus.perseus-mobile\n        [id*="perseus-label-image-widget-answer-pill"] {\n        mjx-container {\n            all: revert;\n        }\n    }\n}\n\n.framework-perseus:not(.perseus-article).perseus-mobile {\n    .perseus-label-image-widget-instructions {\n        color: initial;\n\n        // Reset mobile text content.\n        .perseus-renderer .paragraph > .paragraph {\n            color: initial !important;\n            font-size: initial !important;\n            line-height: initial !important;\n        }\n\n        // Reset mobile math content.\n        .perseus-block-math {\n            padding: 0;\n\n            .katex,\n            mjx-container {\n                font-size: initial !important;\n                line-height: initial !important;\n            }\n        }\n    }\n}\n\n.perseus-label-image-widget-answer-choices,\n.perseus-label-image-widget-instructions {\n    // Reset `blockMath` nodes inner style.\n    .perseus-block-math > .perseus-block-math-inner {\n        // Ensure no horizontal scrollbars appear for math rendered in widget.\n        // This may happen for expressions with subscripts (eg. $X_i$).\n        overflow-x: hidden !important;\n    }\n}\n',".perseus-widget-matcher {\n    /* Ideally we'd get rid of this, as most of the styles have been moved\n       to inline styles using Aphrodite, but this is a hacky \"reach-in\" into\n       descendent widgets that we can't modify */\n    div.paragraph {\n        margin: 0;\n    }\n}\n",".perseus-matrix {\n    @bracketColor: #666;\n    @margin: 5px;\n    @padding: 3px;\n\n    .matrix-prefix,\n    .matrix-suffix {\n        display: inline-block;\n        margin: 2 * @margin @margin 0 2 * @margin;\n        vertical-align: top;\n    }\n    .matrix-suffix {\n        margin: 2 * @margin 2 * @margin 0 @margin;\n    }\n\n    div.paragraph {\n        margin: 0;\n    }\n\n    .matrix-input {\n        background: #e2e2e2;\n        display: inline-block;\n        margin: @margin;\n        padding: @padding;\n        position: relative;\n        width: auto;\n    }\n\n    .matrix-row {\n        white-space: nowrap;\n    }\n\n    .matrix-bracket {\n        @borderWidth: 2px;\n        border-color: @bracketColor;\n        border-style: solid;\n        border-bottom-width: @borderWidth;\n        border-top-width: @borderWidth;\n        margin-top: -@borderWidth;\n        position: absolute;\n        width: 6px;\n\n        &.bracket-left {\n            border-color: @bracketColor;\n            border-left-width: @borderWidth;\n            border-right-width: 0;\n            left: 3px;\n        }\n\n        &.bracket-right {\n            border-color: @bracketColor;\n            border-left-width: 0;\n            border-right-width: @borderWidth;\n            margin-left: (1px - 2 * @borderWidth);\n        }\n    }\n    input,\n    .number-input {\n        border: none;\n        border-radius: 0;\n        box-sizing: border-box;\n        margin: @padding;\n        padding: 0;\n        text-align: center;\n        &.outside {\n            background: #f3f3f3;\n        }\n        &:focus {\n            border: none;\n            outline: none;\n        }\n\n        // TODO(sam): Use inline styles for static mode styles\n        .static-mode& {\n            background: #f5f5f5;\n        }\n    }\n    &.the-matrix {\n        .matrix-bracket,\n        .matrix-left,\n        .matrix-right {\n            border-color: #29f139;\n        }\n        .matrix-input {\n            background: #222;\n        }\n        input,\n        .number-input {\n            background: #666;\n            color: #29f139;\n            font-weight: bold;\n            &.outside {\n                background: #444;\n            }\n        }\n    }\n}\n\nbody.mobile {\n    .perseus-matrix {\n        .matrix-input {\n            display: table;\n        }\n\n        .matrix-row {\n            display: table-row;\n        }\n\n        .matrix-input-field {\n            display: table-cell;\n        }\n\n        .math-output {\n            margin: 4px 4px 2px 4px;\n            max-height: 36px;\n            max-width: 80px;\n            overflow: hidden;\n        }\n    }\n}\n\n.perseus-matrix-editor {\n    .perseus-single-editor {\n        width: 338px;\n    }\n}\n",".perseus-widget-measurer {\n    position: relative;\n    img {\n        position: absolute;\n    }\n}\n\n.perseus-widget-measurer-url {\n    width: 70%;\n}\n\n// This is required in order to enable translating labels in the background\n// Graphie image for the widget. Without this, click events do not register on\n// the labels, due to the stacking order set inline by the Raphael drawing\n// library (used to draw the measurer ruler, protractor).\n#translations-dashboard .perseus-widget-measurer {\n    > .graphie {\n        z-index: -1;\n    }\n}\n",".orderer {\n    position: relative;\n\n    &.layout-horizontal .draggable-box {\n        margin-left: 0;\n        margin-top: 30px;\n        padding: 13px;\n    }\n\n    .card {\n        padding: 0 10px;\n        cursor: pointer;\n        position: relative;\n        -webkit-user-select: none;\n        user-select: none;\n        width: auto;\n\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n    }\n\n    &.height-normal.layout-horizontal .card {\n        height: 65px;\n    }\n\n    &.height-normal.layout-vertical .card {\n        padding: 5px;\n    }\n\n    &.height-auto .card {\n        padding: 0;\n    }\n\n    &.height-auto.layout-horizontal .drag-hint {\n        min-height: 65px;\n        min-width: 22px;\n    }\n\n    &.layout-horizontal .bank {\n        padding: 0;\n        margin: 0px 13px;\n    }\n\n    div.paragraph {\n        margin: 0;\n    }\n\n    .card-wrap {\n        .perseus-interactive;\n        width: auto;\n    }\n\n    &.layout-horizontal .card-wrap {\n        float: left;\n\n        &:not(:first-child) {\n            margin-left: 8px;\n        }\n    }\n\n    &.layout-vertical .card-wrap {\n        float: none;\n        text-align: center;\n\n        &:not(:first-child) {\n            margin-top: 8px;\n        }\n    }\n\n    &.layout-vertical .bank,\n    &.layout-vertical .draggable-box {\n        box-sizing: border-box;\n        float: left;\n        max-width: 50%;\n    }\n\n    &.layout-vertical .bank {\n        padding: 11px 20px 11px 0;\n        margin: 0;\n    }\n\n    &.layout-vertical .draggable-box {\n        margin-top: 0;\n        padding: 10px;\n        min-height: 170px;\n\n        .drag-hint {\n            box-sizing: border-box;\n            min-width: 140px;\n            min-height: 34px;\n        }\n\n        .placeholder {\n            box-sizing: border-box;\n        }\n    }\n}\n",'// first one is to beat out specificity of article styles\n.framework-perseus.perseus-article\n    .perseus-renderer\n    .perseus-widget-passage-container,\n.perseus-widget-passage-container {\n    // NOTE(mdr): This is similar to Wonder Blocks "BodySerif" typesetting, but\n    //     not quite: it\'s a bit smaller, for consistency with the sorta-small\n    //     type styles in rest of the Perseus.\n    // TODO(mdr): Once the rest of Perseus starts using Wonder Blocks\n    //     typography, abandon this LESS entirely, and refactor to use the\n    //     BodySerif component instead. (TP-3112)\n    @font-size: 16px;\n    @line-height: 20px;\n\n    .perseus-widget-passage {\n        line-height: @line-height;\n        margin: 22px;\n        position: relative;\n\n        div.paragraph {\n            font-family: KaTeX_Main, Times, "Times New Roman", serif;\n        }\n\n        .passage-title div.paragraph {\n            font-family: "Noto Serif", serif;\n            font-weight: 700;\n            font-size: 20px;\n            line-height: 22px;\n\n            margin: 0 0 10px;\n        }\n\n        // note(matthewc): If you need to change any of this,\n        // check that line numbers line up correctly.\n        // The margin should probably be 0 or the line height\n        > .passage-text div.paragraph {\n            font-weight: 400;\n            font-size: @font-size;\n            line-height: @line-height;\n            text-indent: 20px;\n            margin: 0;\n\n            span {\n                text-indent: 0;\n            }\n\n            em {\n                // prevents italicized text from disrupting the line height\n                line-height: 0;\n            }\n        }\n    }\n    .katex,\n    mjx-container {\n        line-height: @line-height - 2;\n    }\n\n    .footnotes {\n        margin-top: 22px;\n        div.paragraph {\n            font-size: 14px;\n            margin: 0;\n        }\n    }\n    .perseus-highlight {\n        background-color: #fffabe;\n    }\n    .perseus-review-highlight {\n        background-color: #eee7b2;\n    }\n    .perseus-passage-square-label,\n    .perseus-passage-circle-label,\n    .perseus-passage-bracket-label {\n        // We want these to display the same inside the passage and\n        // inside the instruction text\n        font-family: Times, "Times New Roman", serif;\n        font-size: @font-size;\n    }\n\n    .line-numbers {\n        font-size: 12px;\n        font-style: italic;\n        font-weight: 600;\n        position: absolute;\n        text-align: right;\n\n        // When we suspect the passage widget has resized (e.g. on window\n        // resize), we re-render the line numbers. We throttle this behavior,\n        // in case there\'s e.g. frequent window resizes, which is important for\n        // performance, but sometimes causes us to be a bit slow to add new\n        // line numbers or delete extra line numbers. This usually isn\'t\n        // noticeable, unless the extra line numbers leak beyond the passage\n        // widget and into other content, in which case it\'s incredibly\n        // noticeable and bad.\n        //\n        // So, we set the `.line-numbers` element\'s height to not exceed the\n        // passage widget\'s height, and give it `overflow: hidden`. This way,\n        // when temporarily have too many line numbers, they\'ll stay hidden\n        // inside the passage widget and avoid conflicting with other content.\n        //\n        // However, it\'s invalid to set `overflow-y: hidden` and\n        // `overflow-x: visible` (bleh), so hiding our y-overflow risks also\n        // risks hiding part of our right-aligned italicized text, because\n        // italicized text often renders a bit beyond its layout box.\n        //\n        // We therefore provide `font-size` worth of extra padding along the\n        // right edge (6px), and adjust all other sizing and positioning\n        // values accordingly.\n        max-height: 100%;\n        overflow: hidden;\n        padding-right: 6px;\n        left: -40px - 12px;\n        width: 25px + 12px;\n\n        // Make sure each line-number takes up a full line\n        span {\n            display: block;\n            line-height: @line-height;\n\n            // Align with .text-content baseline.\n            position: relative;\n            top: 2px;\n\n            visibility: hidden;\n        }\n\n        // Show every 5th line number, as well as the "Line" text\n        span:nth-of-type(5n),\n        .line-marker {\n            visibility: visible;\n        }\n    }\n}\n\n.perseus-widget-passage-editor {\n    .perseus-single-editor {\n        font-family: Times, "Times New Roman", serif;\n\n        // Give writers a bit more space by moving the textarea over to be\n        // flush with the left edge of the editor box.\n        margin-left: -11px;\n    }\n\n    .perseus-textarea-pair textarea {\n        font-size: 13px;\n        line-height: 17px;\n    }\n}\n\nbody.sat-section {\n    .perseus-widget-passage {\n        margin-top: 0;\n    }\n}\n',".perseus-widget-plotter {\n    svg,\n    vml {\n        position: absolute;\n    }\n    span.rotate {\n        transform: rotate(-90deg);\n    }\n}\n\n.set-from-scale-box {\n    border: 2px solid #eeeeee;\n    border-radius: 3px;\n    padding: 3px;\n}\n\n.categories-title {\n    font-size: 14px;\n}\n\n.perseus-mobile {\n    .perseus-widget-plotter {\n        border: solid 0.5px @gray76;\n        border-radius: 4px;\n\n        .graphie-label .katex,\n        .graphie-label mjx-container {\n            color: @gray41;\n        }\n    }\n}\n",'@import "../util.less";\n\n.perseus-widget-radio {\n    &.perseus-rendered-radio {\n        div,\n        div > p {\n            /* TODO(alpert): Find a better way of doing inline renderers */\n            display: inline;\n        }\n\n        // Multiple-choice rationales might contain several subsequent\n        // paragraphs, which need to have breaks in-between. Thus, we need\n        // to override the above `display: inline` rule.\n        // We use "display: table" instead of "display: block" to make the\n        // width of the element the width of the content. This makes\n        // lint dots better positioned.\n        .perseus-radio-rationale-content > .perseus-renderer > .paragraph {\n            display: table;\n            margin: 0;\n\n            &:not(:last-child) {\n                margin-bottom: 8px;\n            }\n        }\n    }\n\n    .unresponsive-svg-image div,\n    .svg-image div {\n        // The divs in an svg image shouldn\'t be inline\n        display: block;\n    }\n\n    li {\n        div.instructions {\n            margin-bottom: 5px;\n        }\n\n        .value {\n            display: block;\n            margin-left: 18px;\n            min-height: 22px;\n        }\n\n        img,\n        table {\n            display: inline-block;\n            vertical-align: middle;\n        }\n\n        table {\n            border: 1px solid #ccc;\n        }\n    }\n}\n\n.perseus-widget-radio-fieldset .instructions {\n    font-family: "Lato", sans-serif;\n}\n',".reaction {\n    display: table-row;\n}\n\n.reaction-aligned {\n    display: table-cell;\n    vertical-align: middle;\n}\n\n.molecule-container {\n    .reaction-aligned;\n    margin: 20px;\n}\n\n.molecule-canvas {\n    .reaction-aligned;\n}\n\n.arrow-container {\n    .reaction-aligned;\n}\n\n.above-text {\n    font-size: 0.8em;\n    margin-bottom: -1em;\n    min-height: 1.8em;\n    text-align: center;\n}\n\n.below-text {\n    font-size: 0.8em;\n    margin-top: -1.6em;\n    min-height: 1.8em;\n    text-align: center;\n}\n",".framework-perseus {\n    .perseus-sequence {\n        width: 100%;\n    }\n}\n",'.draggy-boxy-thing-hover (@color: #ffa500) {\n    border-color: @color;\n    @darker: darken(@color, 11%);\n    box-shadow: 0 0 4px @darker;\n}\n\n.draggy-boxy-thing {\n    .draggable-box,\n    .cards-area {\n        background: #eee;\n        border: 1px solid #ccc;\n        border-bottom: 1px solid #aaa;\n\n        box-shadow: 0 1px 2px #ccc;\n    }\n\n    // TODO(jack): Make this work for the orderer too.\n    // Right now don\'t do this for the orderer because it uses\n    // more complicated positioning that this would break\n    .cards-area {\n        .above-scratchpad;\n    }\n\n    .card {\n        .perseus-interactive;\n\n        background-color: #fff;\n        border: 1px solid #b9b9b9;\n        border-bottom-color: #939393;\n        border-radius: 4px;\n        cursor: pointer;\n        touch-action: none;\n\n        &.placeholder {\n            background: #ddd;\n            border: 1px solid #ccc;\n        }\n\n        &.drag-hint {\n            background: none;\n            border: 1px dashed #aaa;\n            cursor: auto;\n\n            &:hover {\n                border-color: #aaa;\n                box-shadow: none;\n            }\n        }\n\n        &.dragging {\n            background-color: #ffedcd;\n            opacity: 0.8;\n            filter: opacity(0.8);\n        }\n\n        &.stack {\n            z-index: auto;\n            &:after {\n                content: " ";\n                background-color: #fff;\n                border: 1px solid #b9b9b9;\n                border-bottom-color: #939393;\n                border-radius: 4px;\n                height: 100%;\n                width: 100%;\n                z-index: -1;\n                top: 1px;\n                left: 1px;\n                position: absolute;\n            }\n        }\n\n        &:hover {\n            .draggy-boxy-thing-hover();\n        }\n    }\n}\n\n// TODO(benkomalo): ideally all of these would be removed as all of the other\n// sortable styles have been moved to inline styles using Aphrodite. However,\n// these are all hacky styles that reach down into descendents in ways that\n// they probably shouldn\'t, so Aphrodite doesn\'t support it. This will require\n// a larger refactoring to wire down options to nested `Renderer`s so they can\n// have their styling modified.\n.perseus-sortable {\n    div.paragraph {\n        margin: 0;\n    }\n\n    .perseus-sortable-draggable {\n        &:before {\n            // Vertical-align, part 1\n            content: "";\n            display: inline-block;\n            height: 100%;\n            vertical-align: middle;\n        }\n\n        & > div {\n            // Vertical-align, part 2\n            display: inline-block;\n            font-size: 14px;\n            max-width: 100%;\n            vertical-align: middle;\n        }\n    }\n\n    .perseus-sortable-draggable-unpadded {\n        img {\n            vertical-align: bottom;\n        }\n    }\n}\n','// Extra specifity is needed to counteract generic tables\n.framework-perseus table.perseus-widget-table-of-values.non-markdown {\n    text-align: left;\n    margin: 20px auto;\n    border-collapse: collapse;\n\n    tr {\n        height: 23px;\n    }\n\n    th,\n    td {\n        border: 2px solid black;\n        border-width: 0 2px;\n\n        &:first-child {\n            border-left: 0;\n        }\n\n        &:last-child {\n            border-right: 0;\n        }\n    }\n\n    th {\n        font-weight: normal;\n        padding: 5px;\n        width: 80px;\n        text-align: left;\n        border-bottom: 2px solid black;\n        .paragraph {\n            margin: 0;\n        }\n    }\n\n    td {\n        padding: 0px 5px;\n    }\n\n    tbody tr:first-child td {\n        padding-top: 5px;\n    }\n}\n.framework-perseus table.perseus-widget-table-of-values input,\n#answer_area table.perseus-widget-table-of-values input {\n    // NOTE(charlie): This should be kept in-sync with the "width: 80" in\n    // table.jsx.\n    width: 80px;\n}\n\nbody.mobile {\n    .framework-perseus table.perseus-widget-table-of-values.non-markdown {\n        td {\n            padding: 5px;\n        }\n    }\n}\n',".old-unit-input input,\n.unit-editor-canonical {\n    border: 1px solid #a4a4a4;\n    border-radius: 5px;\n    // box-sizing: border-box;\n    font-size: 14px;\n    // margin-bottom: 5px;\n    // max-width: 240px;\n    padding: 6px;\n    // width: 100%;\n}\n\n.unit-editor > div {\n    margin: 5px 0;\n}\n","@wonderBlocksBlue: #1865f2;\n@offBlack16: rgba(33, 36, 44, 0.16);\n\n@cursorWidth: 2px;\n@cursorMargin: -1px;\n@emptyBlockBorderRadius: 1px;\n@emptyBlockPadding: 4px;\n\n// Originally this was 500ms to match MathQuill's own\n// frequency for toggling the application of the .mq-blink class.\n// Due to the inconsistent nature of `setTimer` this caused weird\n// flickering in the animation, so keeping this below MQ's animation.\n@cursorAnimationDuration: 300ms;\n\n.keypad-input {\n    outline: none !important;\n\n    .mq-editable-field {\n        .mq-root-block {\n            overflow-x: auto;\n        }\n\n        .mq-cursor:not(:only-child),\n        .mq-root-block.mq-hasCursor > .mq-cursor:only-child {\n            /* HACK(charlie): Magic numbers to properly size and position the vertical\n               cursor, which is visible whenever the cursor is not alone in its parent,\n               with the exception that it's also visible when the entire input is\n               empty. */\n            height: 20px !important;\n            width: @cursorWidth;\n            margin-top: -5px !important;\n            vertical-align: middle !important;\n            border-radius: 1px !important;\n        }\n\n        .mq-cursor {\n            border-left: @cursorWidth solid @wonderBlocksBlue !important;\n\n            margin-left: @cursorMargin !important;\n            margin-right: @cursorMargin !important;\n\n            // Fade the cursor out, overriding MathQuill's default behavior.\n            opacity: 1 !important;\n            transition: opacity @cursorAnimationDuration ease !important;\n            visibility: visible !important;\n\n            &.mq-blink {\n                // And fade the cursor back in.\n                opacity: 0 !important;\n                visibility: visible !important;\n            }\n        }\n\n        .mq-non-leaf .mq-cursor:only-child {\n            // Set the cursor to a grey rectangle, rather than a vertical line.\n            border: @cursorWidth solid !important;\n            border-color: @wonderBlocksBlue !important;\n            border-radius: @emptyBlockBorderRadius;\n            opacity: 1 !important;\n            padding: 0 @emptyBlockPadding 0 @emptyBlockPadding;\n            transition: border-color @cursorAnimationDuration ease !important;\n\n            &.mq-blink {\n                // And animate it between blue and gray.\n                border-color: @wonderBlocksBlue !important;\n                opacity: 1 !important;\n            }\n        }\n    }\n\n    .mq-empty {\n        background: transparent !important;\n    }\n\n    // Adds empty block styling to elements with .mq-hasCursor but without a\n    // cursor element (this happens where the cursor is when the math input\n    // loses focus).\n    .mq-empty:not(.mq-root-block):after,\n    .mq-hasCursor:empty:not(.mq-root-block):after {\n        border: @cursorWidth solid @offBlack16;\n        border-radius: @emptyBlockBorderRadius;\n        // Hides the 'c' content added by MathQuill to measure the width.\n        color: transparent;\n        display: inline-block;\n        margin-left: @cursorMargin;\n        margin-right: @cursorMargin;\n        padding: 0 @emptyBlockPadding 0 @emptyBlockPadding;\n        visibility: visible !important;\n    }\n\n    .mq-selection .mq-empty:not(.mq-root-block):after {\n        border-color: white;\n    }\n\n    .mq-hasCursor:empty:not(.mq-root-block):after {\n        // Place a 'c' inside for sizing the cursor (for the case explained\n        // above); normally, MathQuill already does this for .mq-cursor.\n        content: \"c\";\n    }\n\n    .mq-math-mode .mq-selection,\n    .mq-editable-field .mq-selection {\n        .mq-non-leaf {\n            background: @wonderBlocksBlue !important;\n            border-color: white !important;\n            color: white !important;\n        }\n\n        .mq-scaled {\n            background: transparent !important;\n            border-color: transparent !important;\n            color: white !important;\n        }\n    }\n\n    .mq-selection {\n        background: @wonderBlocksBlue !important;\n        border-color: white !important;\n        color: white !important;\n        display: inline-block !important;\n    }\n}\n","/**\n * @license\n * MathQuill v0.10.1, by Han, Jeanine, and Mary\n * http://mathquill.com | maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\n\n.mq-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n.mq-mathspeak {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n@font-face {\n  font-family: Symbola;\n  src: url(/fonts/Symbola.eot);\n  src: local('Symbola Regular'), local('Symbola'), url(/fonts/Symbola.woff2) format('woff2'), url(/fonts/Symbola.woff) format('woff'), url(/fonts/Symbola.ttf) format('truetype'), url(/fonts/Symbola.otf) format('opentype'), url(/fonts/Symbola.svg#Symbola) format('svg');\n}\n.mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor {\n  border-left: 1px solid currentColor;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor.mq-blink {\n  visibility: hidden;\n}\n.mq-editable-field,\n.mq-math-mode .mq-editable-field {\n  border: 1px solid gray;\n}\n.mq-editable-field.mq-focused,\n.mq-math-mode .mq-editable-field.mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  border-color: #709ac0;\n}\n.mq-math-mode .mq-editable-field {\n  margin: 1px;\n}\n.mq-editable-field .mq-latex-command-input {\n  color: inherit;\n  font-family: 'Courier New', monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n.mq-editable-field .mq-latex-command-input.mq-empty {\n  background: transparent;\n}\n.mq-editable-field .mq-latex-command-input.mq-hasCursor {\n  border-color: ActiveBorder;\n}\n.mq-editable-field.mq-empty:after,\n.mq-editable-field.mq-text-mode:after,\n.mq-math-mode .mq-empty:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-cursor:only-child:after,\n.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {\n  content: '';\n}\n.mq-editable-field.mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.mq-root-block,\n.mq-math-mode .mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.mq-root-block .mq-digit,\n.mq-math-mode .mq-root-block .mq-digit {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-root-block .mq-group-start,\n.mq-math-mode .mq-root-block .mq-group-start {\n  margin-left: 0.11em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-other,\n.mq-math-mode .mq-root-block .mq-group-other {\n  margin-left: -0.01em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-1,\n.mq-math-mode .mq-root-block .mq-group-leading-1,\n.mq-root-block .mq-group-leading-2,\n.mq-math-mode .mq-root-block .mq-group-leading-2 {\n  margin-left: 0;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-3,\n.mq-math-mode .mq-root-block .mq-group-leading-3 {\n  margin-left: 0.036em;\n  margin-right: -0.01em;\n}\n.mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-3,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-3 {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-math-mode {\n  font-variant: normal;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-non-leaf,\n.mq-math-mode .mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode var,\n.mq-math-mode .mq-text-mode,\n.mq-math-mode .mq-nonSymbola {\n  font-family: 'Times New Roman', Symbola, serif;\n  line-height: 0.9;\n}\n.mq-math-mode svg {\n  fill: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: black;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n.mq-math-mode .mq-empty {\n  background: rgba(0, 0, 0, 0.2);\n}\n.mq-math-mode .mq-empty.mq-root-block {\n  background: transparent;\n}\n.mq-math-mode .mq-empty.mq-quiet-delimiter {\n  background: transparent;\n}\n.mq-math-mode.mq-empty {\n  background: transparent;\n}\n.mq-math-mode .mq-text-mode {\n  display: inline-block;\n  white-space: pre;\n}\n.mq-math-mode .mq-text-mode.mq-hasCursor {\n  box-shadow: inset darkgray 0 0.1em 0.2em;\n  padding: 0 0.1em;\n  margin: 0 -0.1em;\n  min-width: 1ex;\n}\n.mq-math-mode .mq-font {\n  font: 1em 'Times New Roman', Symbola, serif;\n}\n.mq-math-mode .mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n.mq-math-mode b,\n.mq-math-mode b.mq-font {\n  font-weight: bolder;\n}\n.mq-math-mode var,\n.mq-math-mode i,\n.mq-math-mode i.mq-font {\n  font-style: italic;\n}\n.mq-math-mode var.mq-f {\n  margin-right: 0.2em;\n  margin-left: 0.1em;\n}\n.mq-math-mode .mq-roman var.mq-f {\n  margin: 0;\n}\n.mq-math-mode big {\n  font-size: 200%;\n}\n.mq-math-mode .mq-int > big {\n  display: inline-block;\n  -webkit-transform: scaleX(0.7);\n  -moz-transform: scaleX(0.7);\n  -ms-transform: scaleX(0.7);\n  -o-transform: scaleX(0.7);\n  transform: scaleX(0.7);\n  vertical-align: -0.16em;\n}\n.mq-math-mode .mq-int > .mq-supsub {\n  font-size: 80%;\n  vertical-align: -1.1em;\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sup > .mq-sup-inner {\n  vertical-align: 1.3em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sub {\n  margin-left: -0.35em;\n}\n.mq-math-mode .mq-roman {\n  font-style: normal;\n}\n.mq-math-mode .mq-sans-serif {\n  font-family: sans-serif, Symbola, serif;\n}\n.mq-math-mode .mq-monospace {\n  font-family: monospace, Symbola, serif;\n}\n.mq-math-mode .mq-overline {\n  border-top: 1px solid;\n  margin-top: 1px;\n}\n.mq-math-mode .mq-underline {\n  border-bottom: 1px solid;\n  margin-bottom: 1px;\n}\n.mq-math-mode .mq-binary-operator {\n  padding: 0 0.2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-supsub {\n  text-align: left;\n  font-size: 90%;\n  vertical-align: -0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only {\n  vertical-align: 0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only > .mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n.mq-math-mode .mq-supsub .mq-sup {\n  display: block;\n}\n.mq-math-mode .mq-supsub .mq-sub {\n  display: block;\n  float: left;\n}\n.mq-math-mode .mq-supsub .mq-binary-operator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-supsub .mq-fraction {\n  font-size: 70%;\n}\n.mq-math-mode sup.mq-nthroot {\n  font-size: 80%;\n  vertical-align: 0.8em;\n  margin-right: -0.6em;\n  margin-left: 0.2em;\n  min-width: 0.5em;\n}\n.mq-math-mode .mq-ghost svg {\n  opacity: 0.2;\n}\n.mq-math-mode .mq-bracket-middle {\n  margin-top: 0.1em;\n  margin-bottom: 0.1em;\n}\n.mq-math-mode .mq-bracket-l,\n.mq-math-mode .mq-bracket-r {\n  position: absolute;\n  top: 0;\n  bottom: 2px;\n}\n.mq-math-mode .mq-bracket-l {\n  left: 0;\n}\n.mq-math-mode .mq-bracket-r {\n  right: 0;\n}\n.mq-math-mode .mq-bracket-container {\n  position: relative;\n}\n.mq-math-mode .mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n.mq-math-mode .mq-array > span {\n  display: block;\n}\n.mq-math-mode .mq-operator-name {\n  font-family: Symbola, 'Times New Roman', serif;\n  line-height: 0.9;\n  font-style: normal;\n}\n.mq-math-mode var.mq-operator-name.mq-first {\n  padding-left: 0.2em;\n}\n.mq-math-mode var.mq-operator-name.mq-last,\n.mq-math-mode .mq-supsub.mq-after-operator-name {\n  padding-right: 0.2em;\n}\n.mq-math-mode .mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -0.4em;\n  padding: 0 0.2em;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link,\n.mq-math-mode x:default {\n  display: inline-block;\n}\n.mq-math-mode .mq-numerator,\n.mq-math-mode .mq-denominator,\n.mq-math-mode .mq-dot-recurring {\n  display: block;\n}\n.mq-math-mode .mq-numerator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: 0.1em;\n}\n.mq-math-mode .mq-dot-recurring {\n  text-align: center;\n  height: 0.3em;\n}\n.mq-math-mode .mq-sqrt-prefix {\n  position: absolute;\n  top: 1px;\n  bottom: 0.15em;\n  width: 0.95em;\n}\n.mq-math-mode .mq-sqrt-container {\n  position: relative;\n}\n.mq-math-mode .mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  margin-left: 0.9em;\n  padding-left: 0.15em;\n  padding-right: 0.2em;\n  margin-right: 0.1em;\n  padding-top: 1px;\n}\n.mq-math-mode .mq-diacritic-above {\n  display: block;\n  text-align: center;\n  line-height: 0.4em;\n}\n.mq-math-mode .mq-diacritic-stem {\n  display: block;\n  text-align: center;\n}\n.mq-math-mode .mq-hat-prefix {\n  display: block;\n  text-align: center;\n  line-height: 0.95em;\n  margin-bottom: -0.7em;\n  transform: scaleX(1.5);\n  -moz-transform: scaleX(1.5);\n  -o-transform: scaleX(1.5);\n  -webkit-transform: scaleX(1.5);\n}\n.mq-math-mode .mq-hat-stem {\n  display: block;\n}\n.mq-math-mode .mq-large-operator {\n  vertical-align: -0.2em;\n  padding: 0.2em;\n  text-align: center;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator big,\n.mq-math-mode .mq-large-operator .mq-to {\n  display: block;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator .mq-to {\n  font-size: 80%;\n}\n.mq-math-mode .mq-large-operator .mq-from {\n  float: right;\n  /* take out of normal flow to manipulate baseline */\n  width: 100%;\n}\n.mq-math-mode,\n.mq-math-mode .mq-editable-field {\n  cursor: text;\n  font-family: Symbola, 'Times New Roman', serif;\n}\n.mq-math-mode .mq-overarc {\n  border-top: 1px solid black;\n  -webkit-border-top-right-radius: 50% 0.3em;\n  -moz-border-radius-topright: 50% 0.3em;\n  border-top-right-radius: 50% 0.3em;\n  -webkit-border-top-left-radius: 50% 0.3em;\n  -moz-border-radius-topleft: 50% 0.3em;\n  border-top-left-radius: 50% 0.3em;\n  margin-top: 1px;\n  padding-top: 0.15em;\n}\n.mq-math-mode .mq-overarrow {\n  min-width: 0.5em;\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: 0.2em;\n  text-align: center;\n  position: relative;\n}\n.mq-math-mode .mq-overarrow:after {\n  position: absolute;\n  right: -0.1em;\n  top: -0.48em;\n  font-size: 0.5em;\n  content: '\\27A4';\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:after {\n  content: '';\n  display: none;\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:before,\n.mq-math-mode .mq-overarrow.mq-arrow-leftright:before {\n  position: absolute;\n  top: -0.48em;\n  left: -0.1em;\n  font-size: 0.5em;\n  content: '\\27A4';\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: 'FlipH';\n}\n.mq-math-mode .mq-selection,\n.mq-editable-field .mq-selection,\n.mq-math-mode .mq-selection .mq-non-leaf,\n.mq-editable-field .mq-selection .mq-non-leaf,\n.mq-math-mode .mq-selection .mq-scaled,\n.mq-editable-field .mq-selection .mq-scaled {\n  background: #b4d5fe !important;\n}\n.mq-math-mode .mq-selection.mq-blur,\n.mq-editable-field .mq-selection.mq-blur,\n.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,\n.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,\n.mq-math-mode .mq-selection.mq-blur .mq-scaled,\n.mq-editable-field .mq-selection.mq-blur .mq-scaled {\n  background: #d4d4d4 !important;\n  color: black;\n  border-color: black;\n}\nhtml body .mq-math-mode .mq-selection .mq-nthroot-container *,\nhtml body .mq-editable-field .mq-selection .mq-nthroot-container * {\n  background: transparent !important;\n}\n.mq-editable-field .mq-textarea,\n.mq-math-mode .mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n.mq-editable-field .mq-textarea *,\n.mq-math-mode .mq-textarea * {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n  box-sizing: content-box;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./packages lazy recursive ^\\.\\/.*$ include: (?:\\/packages\\/(?%21\\.)(?=.)[^/]*?\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?(\\.stories%7C\\.fixturestories)\\.(ts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./math-input/src/components/keypad/keypad-button.stories":["./packages/math-input/src/components/keypad/keypad-button.stories.tsx",8286],"./math-input/src/components/keypad/keypad-button.stories.tsx":["./packages/math-input/src/components/keypad/keypad-button.stories.tsx",8286],"./math-input/src/components/keypad/keypad-mathquill.stories":["./packages/math-input/src/components/keypad/keypad-mathquill.stories.tsx",1501],"./math-input/src/components/keypad/keypad-mathquill.stories.tsx":["./packages/math-input/src/components/keypad/keypad-mathquill.stories.tsx",1501],"./math-input/src/components/keypad/keypad-pages/keypad-pages.stories":["./packages/math-input/src/components/keypad/keypad-pages/keypad-pages.stories.tsx",6223,9576],"./math-input/src/components/keypad/keypad-pages/keypad-pages.stories.tsx":["./packages/math-input/src/components/keypad/keypad-pages/keypad-pages.stories.tsx",6223,9576],"./math-input/src/components/keypad/navigation-pad.stories":["./packages/math-input/src/components/keypad/navigation-pad.stories.tsx",274],"./math-input/src/components/keypad/navigation-pad.stories.tsx":["./packages/math-input/src/components/keypad/navigation-pad.stories.tsx",274],"./math-input/src/components/tabbar/tabbar.stories":["./packages/math-input/src/components/tabbar/tabbar.stories.tsx",6223,9008],"./math-input/src/components/tabbar/tabbar.stories.tsx":["./packages/math-input/src/components/tabbar/tabbar.stories.tsx",6223,9008],"./math-input/src/full-keypad.stories":["./packages/math-input/src/full-keypad.stories.tsx",5102],"./math-input/src/full-keypad.stories.tsx":["./packages/math-input/src/full-keypad.stories.tsx",5102],"./math-input/src/full-mobile-input.stories":["./packages/math-input/src/full-mobile-input.stories.tsx",891],"./math-input/src/full-mobile-input.stories.tsx":["./packages/math-input/src/full-mobile-input.stories.tsx",891],"./perseus-editor/src/__stories__/editor-page.stories":["./packages/perseus-editor/src/__stories__/editor-page.stories.tsx",663,8457,6775,3834,3163,1607,3728,3712,3825,2017,9027],"./perseus-editor/src/__stories__/editor-page.stories.tsx":["./packages/perseus-editor/src/__stories__/editor-page.stories.tsx",663,8457,6775,3834,3163,1607,3728,3712,3825,2017,9027],"./perseus-editor/src/__stories__/editor.stories":["./packages/perseus-editor/src/__stories__/editor.stories.tsx",5171,663,8457,6775,3834,3163,1607,3728,3712,3825,2017,3632],"./perseus-editor/src/__stories__/editor.stories.tsx":["./packages/perseus-editor/src/__stories__/editor.stories.tsx",5171,663,8457,6775,3834,3163,1607,3728,3712,3825,2017,3632],"./perseus-editor/src/__stories__/item-editor.stories":["./packages/perseus-editor/src/__stories__/item-editor.stories.tsx",3163,4683],"./perseus-editor/src/__stories__/item-editor.stories.tsx":["./packages/perseus-editor/src/__stories__/item-editor.stories.tsx",3163,4683],"./perseus-editor/src/__stories__/tex-error-view.stories":["./packages/perseus-editor/src/__stories__/tex-error-view.stories.tsx",3471],"./perseus-editor/src/__stories__/tex-error-view.stories.tsx":["./packages/perseus-editor/src/__stories__/tex-error-view.stories.tsx",3471],"./perseus-editor/src/components/__stories__/blur-input.stories":["./packages/perseus-editor/src/components/__stories__/blur-input.stories.tsx",721],"./perseus-editor/src/components/__stories__/blur-input.stories.tsx":["./packages/perseus-editor/src/components/__stories__/blur-input.stories.tsx",721],"./perseus-editor/src/components/__stories__/section-control-button.stories":["./packages/perseus-editor/src/components/__stories__/section-control-button.stories.tsx",2394],"./perseus-editor/src/components/__stories__/section-control-button.stories.tsx":["./packages/perseus-editor/src/components/__stories__/section-control-button.stories.tsx",2394],"./perseus-editor/src/diffs/__stories__/structured-item-diff.stories":["./packages/perseus-editor/src/diffs/__stories__/structured-item-diff.stories.tsx",6775,3825,3988],"./perseus-editor/src/diffs/__stories__/structured-item-diff.stories.tsx":["./packages/perseus-editor/src/diffs/__stories__/structured-item-diff.stories.tsx",6775,3825,3988],"./perseus-editor/src/diffs/__stories__/tags-diff.stories":["./packages/perseus-editor/src/diffs/__stories__/tags-diff.stories.tsx",6775,336],"./perseus-editor/src/diffs/__stories__/tags-diff.stories.tsx":["./packages/perseus-editor/src/diffs/__stories__/tags-diff.stories.tsx",6775,336],"./perseus-editor/src/diffs/__stories__/text-diff.stories":["./packages/perseus-editor/src/diffs/__stories__/text-diff.stories.tsx",6775,8715],"./perseus-editor/src/diffs/__stories__/text-diff.stories.tsx":["./packages/perseus-editor/src/diffs/__stories__/text-diff.stories.tsx",6775,8715],"./perseus-editor/src/widgets/__stories__/categorizer-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/categorizer-editor.stories.tsx",41],"./perseus-editor/src/widgets/__stories__/categorizer-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/categorizer-editor.stories.tsx",41],"./perseus-editor/src/widgets/__stories__/definition-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/definition-editor.stories.tsx",663,8457,2018],"./perseus-editor/src/widgets/__stories__/definition-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/definition-editor.stories.tsx",663,8457,2018],"./perseus-editor/src/widgets/__stories__/dropdown-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/dropdown-editor.stories.tsx",2086],"./perseus-editor/src/widgets/__stories__/dropdown-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/dropdown-editor.stories.tsx",2086],"./perseus-editor/src/widgets/__stories__/explanation-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/explanation-editor.stories.tsx",663,8457,717],"./perseus-editor/src/widgets/__stories__/explanation-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/explanation-editor.stories.tsx",663,8457,717],"./perseus-editor/src/widgets/__stories__/expression-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/expression-editor.stories.tsx",5171,3712,3603],"./perseus-editor/src/widgets/__stories__/expression-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/expression-editor.stories.tsx",5171,3712,3603],"./perseus-editor/src/widgets/__stories__/image-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/image-editor.stories.tsx",663,8457,5441],"./perseus-editor/src/widgets/__stories__/image-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/image-editor.stories.tsx",663,8457,5441],"./perseus-editor/src/widgets/__stories__/input-number-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/input-number-editor.stories.tsx",666],"./perseus-editor/src/widgets/__stories__/input-number-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/input-number-editor.stories.tsx",666],"./perseus-editor/src/widgets/__stories__/interaction-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/interaction-editor.stories.tsx",1607,6746],"./perseus-editor/src/widgets/__stories__/interaction-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/interaction-editor.stories.tsx",1607,6746],"./perseus-editor/src/widgets/__stories__/label-image-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/label-image-editor.stories.tsx",3834,3728,3907],"./perseus-editor/src/widgets/__stories__/label-image-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/label-image-editor.stories.tsx",3834,3728,3907],"./perseus-editor/src/widgets/__stories__/matcher-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/matcher-editor.stories.tsx",7670],"./perseus-editor/src/widgets/__stories__/matcher-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/matcher-editor.stories.tsx",7670],"./perseus-editor/src/widgets/__stories__/number-line-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/number-line-editor.stories.tsx",3778],"./perseus-editor/src/widgets/__stories__/number-line-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/number-line-editor.stories.tsx",3778],"./perseus-editor/src/widgets/__stories__/numeric-input-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/numeric-input-editor.stories.tsx",663,8457,2867],"./perseus-editor/src/widgets/__stories__/numeric-input-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/numeric-input-editor.stories.tsx",663,8457,2867],"./perseus-editor/src/widgets/__stories__/python-program-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/python-program-editor.stories.tsx",1399],"./perseus-editor/src/widgets/__stories__/python-program-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/python-program-editor.stories.tsx",1399],"./perseus-editor/src/widgets/__stories__/radio-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/radio-editor.stories.tsx",663,8457,4709],"./perseus-editor/src/widgets/__stories__/radio-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/radio-editor.stories.tsx",663,8457,4709],"./perseus-editor/src/widgets/__stories__/sorter-editor.stories":["./packages/perseus-editor/src/widgets/__stories__/sorter-editor.stories.tsx",8079],"./perseus-editor/src/widgets/__stories__/sorter-editor.stories.tsx":["./packages/perseus-editor/src/widgets/__stories__/sorter-editor.stories.tsx",8079],"./perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories":["./packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx",1578],"./perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx":["./packages/perseus-editor/src/widgets/label-image/__stories__/answer-choices.stories.tsx",1578],"./perseus-editor/src/widgets/label-image/__stories__/behavior.stories":["./packages/perseus-editor/src/widgets/label-image/__stories__/behavior.stories.tsx",2737],"./perseus-editor/src/widgets/label-image/__stories__/behavior.stories.tsx":["./packages/perseus-editor/src/widgets/label-image/__stories__/behavior.stories.tsx",2737],"./perseus-editor/src/widgets/label-image/__stories__/marker.stories":["./packages/perseus-editor/src/widgets/label-image/__stories__/marker.stories.tsx",3834,3422],"./perseus-editor/src/widgets/label-image/__stories__/marker.stories.tsx":["./packages/perseus-editor/src/widgets/label-image/__stories__/marker.stories.tsx",3834,3422],"./perseus-editor/src/widgets/label-image/__stories__/question-markers.stories":["./packages/perseus-editor/src/widgets/label-image/__stories__/question-markers.stories.tsx",3834,246],"./perseus-editor/src/widgets/label-image/__stories__/question-markers.stories.tsx":["./packages/perseus-editor/src/widgets/label-image/__stories__/question-markers.stories.tsx",3834,246],"./perseus-editor/src/widgets/label-image/__stories__/select-image.stories":["./packages/perseus-editor/src/widgets/label-image/__stories__/select-image.stories.tsx",9273],"./perseus-editor/src/widgets/label-image/__stories__/select-image.stories.tsx":["./packages/perseus-editor/src/widgets/label-image/__stories__/select-image.stories.tsx",9273],"./perseus/src/__stories__/article-renderer.stories":["./packages/perseus/src/__stories__/article-renderer.stories.tsx",2260],"./perseus/src/__stories__/article-renderer.stories.tsx":["./packages/perseus/src/__stories__/article-renderer.stories.tsx",2260],"./perseus/src/__stories__/hints-renderer.stories":["./packages/perseus/src/__stories__/hints-renderer.stories.tsx",3783],"./perseus/src/__stories__/hints-renderer.stories.tsx":["./packages/perseus/src/__stories__/hints-renderer.stories.tsx",3783],"./perseus/src/__stories__/server-item-renderer.stories":["./packages/perseus/src/__stories__/server-item-renderer.stories.tsx",5171,3332],"./perseus/src/__stories__/server-item-renderer.stories.tsx":["./packages/perseus/src/__stories__/server-item-renderer.stories.tsx",5171,3332],"./perseus/src/components/__stories__/button-group.stories":["./packages/perseus/src/components/__stories__/button-group.stories.tsx",1781],"./perseus/src/components/__stories__/button-group.stories.tsx":["./packages/perseus/src/components/__stories__/button-group.stories.tsx",1781],"./perseus/src/components/__stories__/fixed-to-responsive.stories":["./packages/perseus/src/components/__stories__/fixed-to-responsive.stories.tsx",2323],"./perseus/src/components/__stories__/fixed-to-responsive.stories.tsx":["./packages/perseus/src/components/__stories__/fixed-to-responsive.stories.tsx",2323],"./perseus/src/components/__stories__/graph.stories":["./packages/perseus/src/components/__stories__/graph.stories.tsx",2593],"./perseus/src/components/__stories__/graph.stories.tsx":["./packages/perseus/src/components/__stories__/graph.stories.tsx",2593],"./perseus/src/components/__stories__/graphie.stories":["./packages/perseus/src/components/__stories__/graphie.stories.tsx",5171,8821],"./perseus/src/components/__stories__/graphie.stories.tsx":["./packages/perseus/src/components/__stories__/graphie.stories.tsx",5171,8821],"./perseus/src/components/__stories__/hud.stories":["./packages/perseus/src/components/__stories__/hud.stories.tsx",6641],"./perseus/src/components/__stories__/hud.stories.tsx":["./packages/perseus/src/components/__stories__/hud.stories.tsx",6641],"./perseus/src/components/__stories__/icon.stories":["./packages/perseus/src/components/__stories__/icon.stories.tsx",820],"./perseus/src/components/__stories__/icon.stories.tsx":["./packages/perseus/src/components/__stories__/icon.stories.tsx",820],"./perseus/src/components/__stories__/image-loader.stories":["./packages/perseus/src/components/__stories__/image-loader.stories.tsx",4112],"./perseus/src/components/__stories__/image-loader.stories.tsx":["./packages/perseus/src/components/__stories__/image-loader.stories.tsx",4112],"./perseus/src/components/__stories__/info-tip.stories":["./packages/perseus/src/components/__stories__/info-tip.stories.tsx",1364],"./perseus/src/components/__stories__/info-tip.stories.tsx":["./packages/perseus/src/components/__stories__/info-tip.stories.tsx",1364],"./perseus/src/components/__stories__/inline-icon.stories":["./packages/perseus/src/components/__stories__/inline-icon.stories.tsx",2526],"./perseus/src/components/__stories__/inline-icon.stories.tsx":["./packages/perseus/src/components/__stories__/inline-icon.stories.tsx",2526],"./perseus/src/components/__stories__/input-with-examples.stories":["./packages/perseus/src/components/__stories__/input-with-examples.stories.tsx",542],"./perseus/src/components/__stories__/input-with-examples.stories.tsx":["./packages/perseus/src/components/__stories__/input-with-examples.stories.tsx",542],"./perseus/src/components/__stories__/lint.stories":["./packages/perseus/src/components/__stories__/lint.stories.tsx",3230],"./perseus/src/components/__stories__/lint.stories.tsx":["./packages/perseus/src/components/__stories__/lint.stories.tsx",3230],"./perseus/src/components/__stories__/math-input.stories":["./packages/perseus/src/components/__stories__/math-input.stories.tsx",9037],"./perseus/src/components/__stories__/math-input.stories.tsx":["./packages/perseus/src/components/__stories__/math-input.stories.tsx",9037],"./perseus/src/components/__stories__/math-output.stories":["./packages/perseus/src/components/__stories__/math-output.stories.tsx",241],"./perseus/src/components/__stories__/math-output.stories.tsx":["./packages/perseus/src/components/__stories__/math-output.stories.tsx",241],"./perseus/src/components/__stories__/multi-button-group.stories":["./packages/perseus/src/components/__stories__/multi-button-group.stories.tsx",4877],"./perseus/src/components/__stories__/multi-button-group.stories.tsx":["./packages/perseus/src/components/__stories__/multi-button-group.stories.tsx",4877],"./perseus/src/components/__stories__/number-input.stories":["./packages/perseus/src/components/__stories__/number-input.stories.tsx",6650],"./perseus/src/components/__stories__/number-input.stories.tsx":["./packages/perseus/src/components/__stories__/number-input.stories.tsx",6650],"./perseus/src/components/__stories__/prop-check-box.stories":["./packages/perseus/src/components/__stories__/prop-check-box.stories.tsx",3861],"./perseus/src/components/__stories__/prop-check-box.stories.tsx":["./packages/perseus/src/components/__stories__/prop-check-box.stories.tsx",3861],"./perseus/src/components/__stories__/range-input.stories":["./packages/perseus/src/components/__stories__/range-input.stories.tsx",5223],"./perseus/src/components/__stories__/range-input.stories.tsx":["./packages/perseus/src/components/__stories__/range-input.stories.tsx",5223],"./perseus/src/components/__stories__/simple-keypad-input.stories":["./packages/perseus/src/components/__stories__/simple-keypad-input.stories.tsx",8284],"./perseus/src/components/__stories__/simple-keypad-input.stories.tsx":["./packages/perseus/src/components/__stories__/simple-keypad-input.stories.tsx",8284],"./perseus/src/components/__stories__/sortable.stories":["./packages/perseus/src/components/__stories__/sortable.stories.tsx",501],"./perseus/src/components/__stories__/sortable.stories.tsx":["./packages/perseus/src/components/__stories__/sortable.stories.tsx",501],"./perseus/src/components/__stories__/stub-tag-editor.stories":["./packages/perseus/src/components/__stories__/stub-tag-editor.stories.tsx",3343],"./perseus/src/components/__stories__/stub-tag-editor.stories.tsx":["./packages/perseus/src/components/__stories__/stub-tag-editor.stories.tsx",3343],"./perseus/src/components/__stories__/svg-image.stories":["./packages/perseus/src/components/__stories__/svg-image.stories.tsx",8094],"./perseus/src/components/__stories__/svg-image.stories.tsx":["./packages/perseus/src/components/__stories__/svg-image.stories.tsx",8094],"./perseus/src/components/__stories__/tex.stories":["./packages/perseus/src/components/__stories__/tex.stories.tsx",1780],"./perseus/src/components/__stories__/tex.stories.tsx":["./packages/perseus/src/components/__stories__/tex.stories.tsx",1780],"./perseus/src/components/__stories__/text-input.stories":["./packages/perseus/src/components/__stories__/text-input.stories.tsx",1094],"./perseus/src/components/__stories__/text-input.stories.tsx":["./packages/perseus/src/components/__stories__/text-input.stories.tsx",1094],"./perseus/src/components/__stories__/text-list-editor.stories":["./packages/perseus/src/components/__stories__/text-list-editor.stories.tsx",8858],"./perseus/src/components/__stories__/text-list-editor.stories.tsx":["./packages/perseus/src/components/__stories__/text-list-editor.stories.tsx",8858],"./perseus/src/components/__stories__/tooltip.stories":["./packages/perseus/src/components/__stories__/tooltip.stories.tsx",1048],"./perseus/src/components/__stories__/tooltip.stories.tsx":["./packages/perseus/src/components/__stories__/tooltip.stories.tsx",1048],"./perseus/src/components/__stories__/zoomable-tex.stories":["./packages/perseus/src/components/__stories__/zoomable-tex.stories.tsx",3041],"./perseus/src/components/__stories__/zoomable-tex.stories.tsx":["./packages/perseus/src/components/__stories__/zoomable-tex.stories.tsx",3041],"./perseus/src/components/__stories__/zoomable.stories":["./packages/perseus/src/components/__stories__/zoomable.stories.tsx",4787],"./perseus/src/components/__stories__/zoomable.stories.tsx":["./packages/perseus/src/components/__stories__/zoomable.stories.tsx",4787],"./perseus/src/components/visibility-observer/__stories__/visibility-observer.stories":["./packages/perseus/src/components/visibility-observer/__stories__/visibility-observer.stories.tsx",3519],"./perseus/src/components/visibility-observer/__stories__/visibility-observer.stories.tsx":["./packages/perseus/src/components/visibility-observer/__stories__/visibility-observer.stories.tsx",3519],"./perseus/src/multi-items/__stories__/multi-renderer.stories":["./packages/perseus/src/multi-items/__stories__/multi-renderer.stories.tsx",5171,4206],"./perseus/src/multi-items/__stories__/multi-renderer.stories.tsx":["./packages/perseus/src/multi-items/__stories__/multi-renderer.stories.tsx",5171,4206],"./perseus/src/widgets/__stories__/categorizer.stories":["./packages/perseus/src/widgets/__stories__/categorizer.stories.tsx",5171,7741],"./perseus/src/widgets/__stories__/categorizer.stories.tsx":["./packages/perseus/src/widgets/__stories__/categorizer.stories.tsx",5171,7741],"./perseus/src/widgets/__stories__/cs-program.stories":["./packages/perseus/src/widgets/__stories__/cs-program.stories.tsx",5171,26],"./perseus/src/widgets/__stories__/cs-program.stories.tsx":["./packages/perseus/src/widgets/__stories__/cs-program.stories.tsx",5171,26],"./perseus/src/widgets/__stories__/definition.stories":["./packages/perseus/src/widgets/__stories__/definition.stories.tsx",5171,8905],"./perseus/src/widgets/__stories__/definition.stories.tsx":["./packages/perseus/src/widgets/__stories__/definition.stories.tsx",5171,8905],"./perseus/src/widgets/__stories__/dropdown.stories":["./packages/perseus/src/widgets/__stories__/dropdown.stories.tsx",5171,2040],"./perseus/src/widgets/__stories__/dropdown.stories.tsx":["./packages/perseus/src/widgets/__stories__/dropdown.stories.tsx",5171,2040],"./perseus/src/widgets/__stories__/explanation.stories":["./packages/perseus/src/widgets/__stories__/explanation.stories.tsx",5171,749],"./perseus/src/widgets/__stories__/explanation.stories.tsx":["./packages/perseus/src/widgets/__stories__/explanation.stories.tsx",5171,749],"./perseus/src/widgets/__stories__/expression.stories":["./packages/perseus/src/widgets/__stories__/expression.stories.tsx",5171,3327],"./perseus/src/widgets/__stories__/expression.stories.tsx":["./packages/perseus/src/widgets/__stories__/expression.stories.tsx",5171,3327],"./perseus/src/widgets/__stories__/graded-group-set.stories":["./packages/perseus/src/widgets/__stories__/graded-group-set.stories.tsx",5171,6590],"./perseus/src/widgets/__stories__/graded-group-set.stories.tsx":["./packages/perseus/src/widgets/__stories__/graded-group-set.stories.tsx",5171,6590],"./perseus/src/widgets/__stories__/graded-group.stories":["./packages/perseus/src/widgets/__stories__/graded-group.stories.tsx",5171,2258],"./perseus/src/widgets/__stories__/graded-group.stories.tsx":["./packages/perseus/src/widgets/__stories__/graded-group.stories.tsx",5171,2258],"./perseus/src/widgets/__stories__/grapher.stories":["./packages/perseus/src/widgets/__stories__/grapher.stories.tsx",5171,9381],"./perseus/src/widgets/__stories__/grapher.stories.tsx":["./packages/perseus/src/widgets/__stories__/grapher.stories.tsx",5171,9381],"./perseus/src/widgets/__stories__/group.stories":["./packages/perseus/src/widgets/__stories__/group.stories.tsx",5171,6272],"./perseus/src/widgets/__stories__/group.stories.tsx":["./packages/perseus/src/widgets/__stories__/group.stories.tsx",5171,6272],"./perseus/src/widgets/__stories__/iframe.stories":["./packages/perseus/src/widgets/__stories__/iframe.stories.tsx",5171,8440],"./perseus/src/widgets/__stories__/iframe.stories.tsx":["./packages/perseus/src/widgets/__stories__/iframe.stories.tsx",5171,8440],"./perseus/src/widgets/__stories__/image.stories":["./packages/perseus/src/widgets/__stories__/image.stories.tsx",5171,4324],"./perseus/src/widgets/__stories__/image.stories.tsx":["./packages/perseus/src/widgets/__stories__/image.stories.tsx",5171,4324],"./perseus/src/widgets/__stories__/input-number.stories":["./packages/perseus/src/widgets/__stories__/input-number.stories.tsx",5171,5758],"./perseus/src/widgets/__stories__/input-number.stories.tsx":["./packages/perseus/src/widgets/__stories__/input-number.stories.tsx",5171,5758],"./perseus/src/widgets/__stories__/interaction.stories":["./packages/perseus/src/widgets/__stories__/interaction.stories.tsx",5171,2484],"./perseus/src/widgets/__stories__/interaction.stories.tsx":["./packages/perseus/src/widgets/__stories__/interaction.stories.tsx",5171,2484],"./perseus/src/widgets/__stories__/interactive-graph.stories":["./packages/perseus/src/widgets/__stories__/interactive-graph.stories.tsx",5171,8134],"./perseus/src/widgets/__stories__/interactive-graph.stories.tsx":["./packages/perseus/src/widgets/__stories__/interactive-graph.stories.tsx",5171,8134],"./perseus/src/widgets/__stories__/label-image.stories":["./packages/perseus/src/widgets/__stories__/label-image.stories.tsx",5171,1341],"./perseus/src/widgets/__stories__/label-image.stories.tsx":["./packages/perseus/src/widgets/__stories__/label-image.stories.tsx",5171,1341],"./perseus/src/widgets/__stories__/matcher.stories":["./packages/perseus/src/widgets/__stories__/matcher.stories.tsx",5171,8107],"./perseus/src/widgets/__stories__/matcher.stories.tsx":["./packages/perseus/src/widgets/__stories__/matcher.stories.tsx",5171,8107],"./perseus/src/widgets/__stories__/matrix.stories":["./packages/perseus/src/widgets/__stories__/matrix.stories.tsx",5171,6244],"./perseus/src/widgets/__stories__/matrix.stories.tsx":["./packages/perseus/src/widgets/__stories__/matrix.stories.tsx",5171,6244],"./perseus/src/widgets/__stories__/number-line.stories":["./packages/perseus/src/widgets/__stories__/number-line.stories.tsx",5171,6516],"./perseus/src/widgets/__stories__/number-line.stories.tsx":["./packages/perseus/src/widgets/__stories__/number-line.stories.tsx",5171,6516],"./perseus/src/widgets/__stories__/numeric-input.stories":["./packages/perseus/src/widgets/__stories__/numeric-input.stories.tsx",5171,1973],"./perseus/src/widgets/__stories__/numeric-input.stories.tsx":["./packages/perseus/src/widgets/__stories__/numeric-input.stories.tsx",5171,1973],"./perseus/src/widgets/__stories__/orderer.stories":["./packages/perseus/src/widgets/__stories__/orderer.stories.tsx",5171,3765],"./perseus/src/widgets/__stories__/orderer.stories.tsx":["./packages/perseus/src/widgets/__stories__/orderer.stories.tsx",5171,3765],"./perseus/src/widgets/__stories__/passage-ref.stories":["./packages/perseus/src/widgets/__stories__/passage-ref.stories.tsx",5171,6682],"./perseus/src/widgets/__stories__/passage-ref.stories.tsx":["./packages/perseus/src/widgets/__stories__/passage-ref.stories.tsx",5171,6682],"./perseus/src/widgets/__stories__/passage.stories":["./packages/perseus/src/widgets/__stories__/passage.stories.tsx",5171,2116],"./perseus/src/widgets/__stories__/passage.stories.tsx":["./packages/perseus/src/widgets/__stories__/passage.stories.tsx",5171,2116],"./perseus/src/widgets/__stories__/plotter.stories":["./packages/perseus/src/widgets/__stories__/plotter.stories.tsx",5171,3679],"./perseus/src/widgets/__stories__/plotter.stories.tsx":["./packages/perseus/src/widgets/__stories__/plotter.stories.tsx",5171,3679],"./perseus/src/widgets/__stories__/python-program.stories":["./packages/perseus/src/widgets/__stories__/python-program.stories.tsx",5171,9063],"./perseus/src/widgets/__stories__/python-program.stories.tsx":["./packages/perseus/src/widgets/__stories__/python-program.stories.tsx",5171,9063],"./perseus/src/widgets/__stories__/radio.stories":["./packages/perseus/src/widgets/__stories__/radio.stories.tsx",5171,3533],"./perseus/src/widgets/__stories__/radio.stories.tsx":["./packages/perseus/src/widgets/__stories__/radio.stories.tsx",5171,3533],"./perseus/src/widgets/__stories__/random-widgets.stories":["./packages/perseus/src/widgets/__stories__/random-widgets.stories.tsx",5171,1928],"./perseus/src/widgets/__stories__/random-widgets.stories.tsx":["./packages/perseus/src/widgets/__stories__/random-widgets.stories.tsx",5171,1928],"./perseus/src/widgets/__stories__/sorter.stories":["./packages/perseus/src/widgets/__stories__/sorter.stories.tsx",5171,2675],"./perseus/src/widgets/__stories__/sorter.stories.tsx":["./packages/perseus/src/widgets/__stories__/sorter.stories.tsx",5171,2675],"./perseus/src/widgets/__stories__/unit.stories":["./packages/perseus/src/widgets/__stories__/unit.stories.tsx",7231],"./perseus/src/widgets/__stories__/unit.stories.tsx":["./packages/perseus/src/widgets/__stories__/unit.stories.tsx",7231],"./perseus/src/widgets/__stories__/video-transcript-link.stories":["./packages/perseus/src/widgets/__stories__/video-transcript-link.stories.tsx",8677],"./perseus/src/widgets/__stories__/video-transcript-link.stories.tsx":["./packages/perseus/src/widgets/__stories__/video-transcript-link.stories.tsx",8677],"./perseus/src/widgets/__stories__/video.stories":["./packages/perseus/src/widgets/__stories__/video.stories.tsx",5171,9504],"./perseus/src/widgets/__stories__/video.stories.tsx":["./packages/perseus/src/widgets/__stories__/video.stories.tsx",5171,9504],"./perseus/src/widgets/deprecated-standin/__stories__/deprecated-standin.stories":["./packages/perseus/src/widgets/deprecated-standin/__stories__/deprecated-standin.stories.tsx",5171,9907],"./perseus/src/widgets/deprecated-standin/__stories__/deprecated-standin.stories.tsx":["./packages/perseus/src/widgets/deprecated-standin/__stories__/deprecated-standin.stories.tsx",5171,9907],"./perseus/src/widgets/label-image/__stories__/answer-choices.stories":["./packages/perseus/src/widgets/label-image/__stories__/answer-choices.stories.tsx",1612],"./perseus/src/widgets/label-image/__stories__/answer-choices.stories.tsx":["./packages/perseus/src/widgets/label-image/__stories__/answer-choices.stories.tsx",1612],"./perseus/src/widgets/label-image/__stories__/answer-pill.stories":["./packages/perseus/src/widgets/label-image/__stories__/answer-pill.stories.tsx",2943],"./perseus/src/widgets/label-image/__stories__/answer-pill.stories.tsx":["./packages/perseus/src/widgets/label-image/__stories__/answer-pill.stories.tsx",2943],"./perseus/src/widgets/label-image/__stories__/marker.stories":["./packages/perseus/src/widgets/label-image/__stories__/marker.stories.tsx",8241],"./perseus/src/widgets/label-image/__stories__/marker.stories.tsx":["./packages/perseus/src/widgets/label-image/__stories__/marker.stories.tsx",8241],"./perseus/src/widgets/radio/__stories__/base-radio.stories":["./packages/perseus/src/widgets/radio/__stories__/base-radio.stories.tsx",1992],"./perseus/src/widgets/radio/__stories__/base-radio.stories.tsx":["./packages/perseus/src/widgets/radio/__stories__/base-radio.stories.tsx",1992],"./perseus/src/widgets/radio/__stories__/choice-icon.stories":["./packages/perseus/src/widgets/radio/__stories__/choice-icon.stories.tsx",6327],"./perseus/src/widgets/radio/__stories__/choice-icon.stories.tsx":["./packages/perseus/src/widgets/radio/__stories__/choice-icon.stories.tsx",6327],"./perseus/src/widgets/radio/__stories__/choice-none-above.stories":["./packages/perseus/src/widgets/radio/__stories__/choice-none-above.stories.tsx",4306],"./perseus/src/widgets/radio/__stories__/choice-none-above.stories.tsx":["./packages/perseus/src/widgets/radio/__stories__/choice-none-above.stories.tsx",4306],"./perseus/src/widgets/radio/__stories__/choice.stories":["./packages/perseus/src/widgets/radio/__stories__/choice.stories.tsx",1666],"./perseus/src/widgets/radio/__stories__/choice.stories.tsx":["./packages/perseus/src/widgets/radio/__stories__/choice.stories.tsx",1666],"./perseus/src/widgets/radio/__stories__/focus-ring.stories":["./packages/perseus/src/widgets/radio/__stories__/focus-ring.stories.tsx",2499],"./perseus/src/widgets/radio/__stories__/focus-ring.stories.tsx":["./packages/perseus/src/widgets/radio/__stories__/focus-ring.stories.tsx",2499],"./perseus/src/widgets/radio/__stories__/option-status.stories":["./packages/perseus/src/widgets/radio/__stories__/option-status.stories.tsx",7683],"./perseus/src/widgets/radio/__stories__/option-status.stories.tsx":["./packages/perseus/src/widgets/radio/__stories__/option-status.stories.tsx",7683]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}));var ids=map[req],id=ids[0];return Promise.all(ids.slice(1).map(__webpack_require__.e)).then((()=>__webpack_require__(id)))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id="./packages lazy recursive ^\\.\\/.*$ include: (?:\\/packages\\/(?%21\\.)(?=.)[^/]*?\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?(\\.stories%7C\\.fixturestories)\\.(ts%7Ctsx))$",module.exports=webpackAsyncContext},"./storybook-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("@storybook/preview-api"),external_STORYBOOK_MODULE_CHANNELS_=__webpack_require__("@storybook/channels");const importers=[async path=>{if(!/^\.[\\/](?:packages\/(?!\.)(?=.)[^/]*?\/src(?:\/(?!\.)(?:(?:(?!(?:^|\/)\.).)*?)\/|\/|$)(?!\.)(?=.)[^/]*?(\.stories|\.fixturestories)\.(ts|tsx))$/.exec(path))return;const pathRemainder=path.substring(11);return __webpack_require__("./packages lazy recursive ^\\.\\/.*$ include: (?:\\/packages\\/(?%21\\.)(?=.)[^/]*?\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?(\\.stories%7C\\.fixturestories)\\.(ts%7Ctsx))$")("./"+pathRemainder)}];const channel=(0,external_STORYBOOK_MODULE_CHANNELS_.createBrowserChannel)({page:"preview"});external_STORYBOOK_MODULE_PREVIEW_API_.addons.setChannel(channel),"DEVELOPMENT"===external_STORYBOOK_MODULE_GLOBAL_.global.CONFIG_TYPE&&(window.__STORYBOOK_SERVER_CHANNEL__=channel);const preview=new external_STORYBOOK_MODULE_PREVIEW_API_.PreviewWeb;window.__STORYBOOK_PREVIEW__=preview,window.__STORYBOOK_STORY_STORE__=preview.storyStore,window.__STORYBOOK_ADDONS_CHANNEL__=channel,window.__STORYBOOK_CLIENT_API__=new external_STORYBOOK_MODULE_PREVIEW_API_.ClientApi({storyStore:preview.storyStore}),preview.initialize({importFn:async function importFn(path){for(let i=0;i<importers.length;i++){const moduleExports=await(x=()=>importers[i](path),x());if(moduleExports)return moduleExports}var x},getProjectAnnotations:()=>(0,external_STORYBOOK_MODULE_PREVIEW_API_.composeConfigs)([__webpack_require__("./node_modules/@storybook/react/preview.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/preview.mjs"),__webpack_require__("./node_modules/@storybook/addon-essentials/dist/docs/preview.mjs"),__webpack_require__("./node_modules/@storybook/addon-essentials/dist/actions/preview.mjs"),__webpack_require__("./node_modules/@storybook/addon-essentials/dist/backgrounds/preview.mjs"),__webpack_require__("./node_modules/@storybook/addon-essentials/dist/measure/preview.mjs"),__webpack_require__("./node_modules/@storybook/addon-essentials/dist/outline/preview.mjs"),__webpack_require__("./node_modules/@storybook/addon-essentials/dist/highlight/preview.mjs"),__webpack_require__("./node_modules/@storybook/addon-a11y/dist/preview.mjs"),__webpack_require__("./.storybook/preview.js")])})},"@storybook/addons":module=>{"use strict";module.exports=__STORYBOOK_MODULE_ADDONS__},"@storybook/channels":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CHANNELS__},"@storybook/client-logger":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CLIENT_LOGGER__},"@storybook/core-events":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CORE_EVENTS__},"@storybook/global":module=>{"use strict";module.exports=__STORYBOOK_MODULE_GLOBAL__},"@storybook/preview-api":module=>{"use strict";module.exports=__STORYBOOK_MODULE_PREVIEW_API__}},__webpack_require__=>{__webpack_require__.O(0,[8616],(()=>{return moduleId="./storybook-config-entry.js",__webpack_require__(__webpack_require__.s=moduleId);var moduleId}));__webpack_require__.O()}]);